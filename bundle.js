!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=68)}({18:function(t,e){var n,r,i=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var l,c=[],h=!1,d=-1;function u(){h&&l&&(h=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!h){var t=a(u);h=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||h||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},19:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},20:function(t,e,n){"use strict";(function(t,n){class r{constructor(t){this.tasks=[],this.count=t}sched(){if(this.count>0&&this.tasks.length>0){this.count--;let t=this.tasks.shift();if(void 0===t)throw"Unexpected undefined value in tasks list";t()}}acquire(){return new Promise((e,r)=>{this.tasks.push(()=>{var t=!1;e(()=>{t||(t=!0,this.count++,this.sched())})}),t&&t.nextTick?t.nextTick(this.sched.bind(this)):n(this.sched.bind(this))})}use(t){return this.acquire().then(e=>t().then(t=>(e(),t)).catch(t=>{throw e(),t}))}}e.Semaphore=r;e.Mutex=class extends r{constructor(){super(1)}}}).call(this,n(18),n(65).setImmediate)},64:function(t,e,n){},65:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function s(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new s(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new s(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(66),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(19))},66:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i=1,s={},o=!1,a=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){h(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&h(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){h(t.data)},r=function(e){t.port2.postMessage(e)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var t=a.documentElement;r=function(e){var n=a.createElement("script");n.onreadystatechange=function(){h(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(h,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return s[i]=o,r(i),i++},l.clearImmediate=c}function c(t){delete s[t]}function h(t){if(o)setTimeout(h,0,t);else{var e=s[t];if(e){o=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),o=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(19),n(18))},67:function(t,e){const n=document.getElementById("BackGrid"),r=n.querySelectorAll("vaadin-grid-column");r[0].headerRenderer=function(t){t.textContent="Pitch"},r[0].renderer=function(t,e,n){t.textContent=n.item.pitch},r[1].headerRenderer=function(t){t.textContent="Time"},r[1].renderer=function(t,e,n){t.textContent=n.item.time};const i=document.getElementById("FrontGrid"),s=i.querySelectorAll("vaadin-grid-column");s[0].headerRenderer=function(t){t.textContent="Pitch"},s[0].renderer=function(t,e,n){t.textContent=n.item.pitch},s[1].headerRenderer=function(t){t.textContent="Time"},s[1].renderer=function(t,e,n){t.textContent=n.item.time},setTimeout(function(){n.items=[{pitch:400,time:"Lennon"},{pitch:506,time:"Starr"}]},5e3),document.getElementById("infobar").innerHTML="no datano data";var o=1e5,a=0,l=0,c=0;function h(){let t=((o-a)/32.768).toFixed(0),e="Pitch Back: "+c.toFixed(0).toString()+"    Pitch Front: "+l.toFixed(0).toString()+"    TimeDiff: "+t.toString();document.getElementById("infobar").innerHTML=e}document.getElementById("pp_back").addEventListener("pitchperfect-data-event",function(t){var e=t.detail.message;if(e.length>1)for(x=0;x<e.length;x++)0==x?n.items=[{pitch:e[x].PitchVal.toFixed(0),time:e[x].TimerVal.toFixed(0)}]:n.items=n.items.concat([{pitch:e[x].PitchVal.toFixed(0),time:e[x].TimerVal.toFixed(0)}]);else o=e[0].TimerVal,c=e[0].PitchVal,h();console.log("back event",e)}),document.getElementById("pp_front").addEventListener("pitchperfect-data-event",function(t){var e=t.detail.message;if(e.length>1)for(x=0;x<e.length;x++)0==x?i.items=[{pitch:e[x].PitchVal.toFixed(0),time:e[x].TimerVal.toFixed(0)}]:i.items=i.items.concat([{pitch:e[x].PitchVal.toFixed(0),time:e[x].TimerVal.toFixed(0)}]);else a=e[0].TimerVal,l=e[0].PitchVal,h()})},68:function(t,e,n){"use strict";n.r(e);n(64);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const r=new WeakMap,i=t=>"function"==typeof t&&r.has(t),s=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,o=(t,e,n=null)=>{for(;e!==n;){const n=e.nextSibling;t.removeChild(e),e=n}},a={},l={},c=`{{lit-${String(Math.random()).slice(2)}}}`,h=`\x3c!--${c}--\x3e`,d=new RegExp(`${c}|${h}`),u="$lit$";class p{constructor(t,e){this.parts=[],this.element=e;const n=[],r=[],i=document.createTreeWalker(e.content,133,null,!1);let s=0,o=-1,a=0;const{strings:l,values:{length:h}}=t;for(;a<h;){const t=i.nextNode();if(null!==t){if(o++,1===t.nodeType){if(t.hasAttributes()){const e=t.attributes,{length:n}=e;let r=0;for(let t=0;t<n;t++)f(e[t].name,u)&&r++;for(;r-- >0;){const e=l[a],n=g.exec(e)[2],r=n.toLowerCase()+u,i=t.getAttribute(r);t.removeAttribute(r);const s=i.split(d);this.parts.push({type:"attribute",index:o,name:n,strings:s}),a+=s.length-1}}"TEMPLATE"===t.tagName&&(r.push(t),i.currentNode=t.content)}else if(3===t.nodeType){const e=t.data;if(e.indexOf(c)>=0){const r=t.parentNode,i=e.split(d),s=i.length-1;for(let e=0;e<s;e++){let n,s=i[e];if(""===s)n=m();else{const t=g.exec(s);null!==t&&f(t[2],u)&&(s=s.slice(0,t.index)+t[1]+t[2].slice(0,-u.length)+t[3]),n=document.createTextNode(s)}r.insertBefore(n,t),this.parts.push({type:"node",index:++o})}""===i[s]?(r.insertBefore(m(),t),n.push(t)):t.data=i[s],a+=s}}else if(8===t.nodeType)if(t.data===c){const e=t.parentNode;null!==t.previousSibling&&o!==s||(o++,e.insertBefore(m(),t)),s=o,this.parts.push({type:"node",index:o}),null===t.nextSibling?t.data="":(n.push(t),o--),a++}else{let e=-1;for(;-1!==(e=t.data.indexOf(c,e+1));)this.parts.push({type:"node",index:-1}),a++}}else i.currentNode=r.pop()}for(const t of n)t.parentNode.removeChild(t)}}const f=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},_=t=>-1!==t.index,m=()=>document.createComment(""),g=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class y{constructor(t,e,n){this.__parts=[],this.template=t,this.processor=e,this.options=n}update(t){let e=0;for(const n of this.__parts)void 0!==n&&n.setValue(t[e]),e++;for(const t of this.__parts)void 0!==t&&t.commit()}_clone(){const t=s?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=[],n=this.template.parts,r=document.createTreeWalker(t,133,null,!1);let i,o=0,a=0,l=r.nextNode();for(;o<n.length;)if(i=n[o],_(i)){for(;a<i.index;)a++,"TEMPLATE"===l.nodeName&&(e.push(l),r.currentNode=l.content),null===(l=r.nextNode())&&(r.currentNode=e.pop(),l=r.nextNode());if("node"===i.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(l.previousSibling),this.__parts.push(t)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,i.name,i.strings,this.options));o++}else this.__parts.push(void 0),o++;return s&&(document.adoptNode(t),customElements.upgrade(t)),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const v=` ${c} `;class b{constructor(t,e,n,r){this.strings=t,this.values=e,this.type=n,this.processor=r}getHTML(){const t=this.strings.length-1;let e="",n=!1;for(let r=0;r<t;r++){const t=this.strings[r],i=t.lastIndexOf("\x3c!--");n=(i>-1||n)&&-1===t.indexOf("--\x3e",i+1);const s=g.exec(t);e+=null===s?t+(n?v:h):t.substr(0,s.index)+s[1]+s[2]+u+s[3]+c}return e+=this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const w=t=>null===t||!("object"==typeof t||"function"==typeof t),x=t=>Array.isArray(t)||!(!t||!t[Symbol.iterator]);class C{constructor(t,e,n){this.dirty=!0,this.element=t,this.name=e,this.strings=n,this.parts=[];for(let t=0;t<n.length-1;t++)this.parts[t]=this._createPart()}_createPart(){return new S(this)}_getValue(){const t=this.strings,e=t.length-1;let n="";for(let r=0;r<e;r++){n+=t[r];const e=this.parts[r];if(void 0!==e){const t=e.value;if(w(t)||!x(t))n+="string"==typeof t?t:String(t);else for(const e of t)n+="string"==typeof e?e:String(e)}}return n+=t[e]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class S{constructor(t){this.value=void 0,this.committer=t}setValue(t){t===a||w(t)&&t===this.value||(this.value=t,i(t)||(this.committer.dirty=!0))}commit(){for(;i(this.value);){const t=this.value;this.value=a,t(this)}this.value!==a&&this.committer.commit()}}class A{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(m()),this.endNode=t.appendChild(m())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=m()),t.__insert(this.endNode=m())}insertAfterPart(t){t.__insert(this.startNode=m()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){for(;i(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=a,t(this)}const t=this.__pendingValue;t!==a&&(w(t)?t!==this.value&&this.__commitText(t):t instanceof b?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):x(t)?this.__commitIterable(t):t===l?(this.value=l,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const e=this.startNode.nextSibling,n="string"==typeof(t=null==t?"":t)?t:String(t);e===this.endNode.previousSibling&&3===e.nodeType?e.data=n:this.__commitNode(document.createTextNode(n)),this.value=t}__commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof y&&this.value.template===e)this.value.update(t.values);else{const n=new y(e,t.processor,this.options),r=n._clone();n.update(t.values),this.__commitNode(r),this.value=n}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let n,r=0;for(const i of t)void 0===(n=e[r])&&(n=new A(this.options),e.push(n),0===r?n.appendIntoPart(this):n.insertAfterPart(e[r-1])),n.setValue(i),n.commit(),r++;r<e.length&&(e.length=r,this.clear(n&&n.endNode))}clear(t=this.startNode){o(this.startNode.parentNode,t.nextSibling,this.endNode)}}class T{constructor(t,e,n){if(this.value=void 0,this.__pendingValue=void 0,2!==n.length||""!==n[0]||""!==n[1])throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=e,this.strings=n}setValue(t){this.__pendingValue=t}commit(){for(;i(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=a,t(this)}if(this.__pendingValue===a)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=a}}class P extends C{constructor(t,e,n){super(t,e,n),this.single=2===n.length&&""===n[0]&&""===n[1]}_createPart(){return new E(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class E extends S{}let I=!1;try{const t={get capture(){return I=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}class N{constructor(t,e,n){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=e,this.eventContext=n,this.__boundHandleEvent=(t=>this.handleEvent(t))}setValue(t){this.__pendingValue=t}commit(){for(;i(this.__pendingValue);){const t=this.__pendingValue;this.__pendingValue=a,t(this)}if(this.__pendingValue===a)return;const t=this.__pendingValue,e=this.value,n=null==t||null!=e&&(t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive),r=null!=t&&(null==e||n);n&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=M(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=a}handleEvent(t){"function"==typeof this.value?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const M=t=>t&&(I?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const O=new class{handleAttributeExpressions(t,e,n,r){const i=e[0];return"."===i?new P(t,e.slice(1),n).parts:"@"===i?[new N(t,e.slice(1),r.eventContext)]:"?"===i?[new T(t,e.slice(1),n)]:new C(t,e,n).parts}handleTextExpression(t){return new A(t)}};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function R(t){let e=k.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},k.set(t.type,e));let n=e.stringsArray.get(t.strings);if(void 0!==n)return n;const r=t.strings.join(c);return void 0===(n=e.keyString.get(r))&&(n=new p(t,t.getTemplateElement()),e.keyString.set(r,n)),e.stringsArray.set(t.strings,n),n}const k=new Map,z=new WeakMap;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.1.2");const D=(t,...e)=>new b(t,e,"html",O),L=133;function F(t,e){const{element:{content:n},parts:r}=t,i=document.createTreeWalker(n,L,null,!1);let s=B(r),o=r[s],a=-1,l=0;const c=[];let h=null;for(;i.nextNode();){a++;const t=i.currentNode;for(t.previousSibling===h&&(h=null),e.has(t)&&(c.push(t),null===h&&(h=t)),null!==h&&l++;void 0!==o&&o.index===a;)o.index=null!==h?-1:o.index-l,o=r[s=B(r,s)]}c.forEach(t=>t.parentNode.removeChild(t))}const H=t=>{let e=11===t.nodeType?0:1;const n=document.createTreeWalker(t,L,null,!1);for(;n.nextNode();)e++;return e},B=(t,e=-1)=>{for(let n=e+1;n<t.length;n++){const e=t[n];if(_(e))return n}return-1};
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const V=(t,e)=>`${t}--${e}`;let U=!0;void 0===window.ShadyCSS?U=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),U=!1);const $=["html","svg"],j=new Set,q=(t,e,n)=>{j.add(t);const r=n?n.element:document.createElement("template"),i=e.querySelectorAll("style"),{length:s}=i;if(0===s)return void window.ShadyCSS.prepareTemplateStyles(r,t);const o=document.createElement("style");for(let t=0;t<s;t++){const e=i[t];e.parentNode.removeChild(e),o.textContent+=e.textContent}(t=>{$.forEach(e=>{const n=k.get(V(e,t));void 0!==n&&n.keyString.forEach(t=>{const{element:{content:e}}=t,n=new Set;Array.from(e.querySelectorAll("style")).forEach(t=>{n.add(t)}),F(t,n)})})})(t);const a=r.content;n?function(t,e,n=null){const{element:{content:r},parts:i}=t;if(null===n||void 0===n)return void r.appendChild(e);const s=document.createTreeWalker(r,L,null,!1);let o=B(i),a=0,l=-1;for(;s.nextNode();)for(l++,s.currentNode===n&&(a=H(e),n.parentNode.insertBefore(e,n));-1!==o&&i[o].index===l;){if(a>0){for(;-1!==o;)i[o].index+=a,o=B(i,o);return}o=B(i,o)}}(n,o,a.firstChild):a.insertBefore(o,a.firstChild),window.ShadyCSS.prepareTemplateStyles(r,t);const l=a.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)e.insertBefore(l.cloneNode(!0),e.firstChild);else if(n){a.insertBefore(o,a.firstChild);const t=new Set;t.add(o),F(n,t)}},G=(t,e)=>t,Y=(t,e)=>{if(t in e)for(;e!==Object.prototype;){if(e.hasOwnProperty(t))return Object.getOwnPropertyDescriptor(e,t);e=Object.getPrototypeOf(e)}},W={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},X=(t,e)=>e!==t&&(e==e||t==t),J={attribute:!0,type:String,converter:W,reflect:!1,hasChanged:X},K=Promise.resolve(!0),Z=1,Q=4,tt=8,et=16,nt=32;class rt extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=K,this._hasConnectedResolver=void 0,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this._finalize();const t=[];for(const[e,n]of this._classProperties){const r=this._attributeNameForProperty(e,n);void 0!==r&&(this._attributeToPropertyMap.set(r,e),t.push(r))}return t}static _ensureClassProperties(){if(!this.hasOwnProperty(G("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=J){if(this._ensureClassProperties(),this._classProperties.set(t,e),!e.noAccessor){const e=Y(t,this.prototype);let n;if(void 0!==e&&e.set&&e.get){const{set:r,get:i}=e;n={get(){return i.call(this)},set(e){const n=this[t];r.call(this,e),this.requestUpdate(t,n)},configurable:!0,enumerable:!0}}else{const e="symbol"==typeof t?Symbol():`__${t}`;n={get(){return this[e]},set(n){const r=this[t];this[e]=n,this.requestUpdate(t,r)},configurable:!0,enumerable:!0}}Object.defineProperty(this.prototype,t,n)}}static _finalize(){if(this.hasOwnProperty(G("finalized",this))&&this.finalized)return;const t=Object.getPrototypeOf(this);if("function"==typeof t._finalize&&t._finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(G("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const n of e)this.createProperty(n,t[n])}}static _attributeNameForProperty(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,n=X){return n(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||W,i="function"==typeof r?r:r.fromAttribute;return i?i(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||W.toAttribute)(t,n)}initialize(){this._saveInstanceProperties()}_saveInstanceProperties(){for(const[t]of this.constructor._classProperties)if(this.hasOwnProperty(t)){const e=this[t];delete this[t],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(t,e)}}_applyInstanceProperties(){for(const[t,e]of this._instanceProperties)this[t]=e;this._instanceProperties=void 0}connectedCallback(){this._updateState=this._updateState|nt,this._hasConnectedResolver?(this._hasConnectedResolver(),this._hasConnectedResolver=void 0):this.requestUpdate()}disconnectedCallback(){}attributeChangedCallback(t,e,n){e!==n&&this._attributeToProperty(t,n)}_propertyToAttribute(t,e,n=J){const r=this.constructor,i=r._attributeNameForProperty(t,n);if(void 0!==i){const t=r._propertyValueToAttribute(e,n);if(void 0===t)return;this._updateState=this._updateState|tt,null==t?this.removeAttribute(i):this.setAttribute(i,t),this._updateState=this._updateState&~tt}}_attributeToProperty(t,e){if(this._updateState&tt)return;const n=this.constructor,r=n._attributeToPropertyMap.get(t);if(void 0!==r){const t=n._classProperties.get(r)||J;this._updateState=this._updateState|et,this[r]=n._propertyValueFromAttribute(e,t),this._updateState=this._updateState&~et}}requestUpdate(t,e){let n=!0;if(void 0!==t&&!this._changedProperties.has(t)){const r=this.constructor,i=r._classProperties.get(t)||J;r._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.set(t,e),!0!==i.reflect||this._updateState&et||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):n=!1}return!this._hasRequestedUpdate&&n&&this._enqueueUpdate(),this.updateComplete}async _enqueueUpdate(){let t;this._updateState=this._updateState|Q;const e=this._updatePromise;this._updatePromise=new Promise(e=>t=e),await e,this._hasConnected||await new Promise(t=>this._hasConnectedResolver=t);const n=this.performUpdate();null!=n&&"function"==typeof n.then&&await n,t(!this._hasRequestedUpdate)}get _hasConnected(){return this._updateState&nt}get _hasRequestedUpdate(){return this._updateState&Q}get hasUpdated(){return this._updateState&Z}performUpdate(){if(this._instanceProperties&&this._applyInstanceProperties(),this.shouldUpdate(this._changedProperties)){const t=this._changedProperties;this.update(t),this._markUpdated(),this._updateState&Z||(this._updateState=this._updateState|Z,this.firstUpdated(t)),this.updated(t)}else this._markUpdated()}_markUpdated(){this._changedProperties=new Map,this._updateState=this._updateState&~Q}get updateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){if(void 0!==this._reflectingProperties&&this._reflectingProperties.size>0){for(const[t,e]of this._reflectingProperties)this._propertyToAttribute(t,this[t],e);this._reflectingProperties=void 0}}updated(t){}firstUpdated(t){}}rt.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const it=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(e){window.customElements.define(t,e)}}})(t,e),st=(t,e)=>({kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(n){n.createProperty(e.key,t)}}),ot=t=>(e,n)=>void 0!==n?((t,e,n)=>{e.constructor.createProperty(n,t)})(t,e,n):st(t,e),at=(ct((t,e)=>t.querySelector(e)),ct((t,e)=>t.querySelectorAll(e)),(t,e,n)=>{Object.defineProperty(e,n,t)}),lt=(t,e)=>({kind:"method",placement:"prototype",key:e.key,descriptor:t});function ct(t){return e=>(n,r)=>{const i={get(){return t(this.renderRoot,e)},enumerable:!0,configurable:!0};return void 0!==r?at(i,n,r):lt(i,n)}}const ht="adoptedStyleSheets"in Document.prototype;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
class dt extends rt{static get styles(){return[]}static get _uniqueStyles(){if(void 0===this._styles){const t=this.styles.reduceRight((t,e)=>(t.add(e),t),new Set);this._styles=[],t.forEach(t=>this._styles.unshift(t))}return this._styles}initialize(){super.initialize(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){const t=this.constructor._uniqueStyles;0!==t.length&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow?ht?this.renderRoot.adoptedStyleSheets=t.map(t=>t.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(t.map(t=>t.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this)}update(t){super.update(t);const e=this.render();e instanceof b&&this.constructor.render(e,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._uniqueStyles.forEach(t=>{const e=document.createElement("style");e.textContent=t.cssText,this.renderRoot.appendChild(e)}))}render(){}}dt.finalized=!0,dt.render=((t,e,n)=>{if(!n||"object"!=typeof n||!n.scopeName)throw new Error("The `scopeName` option is required.");const r=n.scopeName,i=z.has(e),s=U&&11===e.nodeType&&!!e.host,a=s&&!j.has(r),l=a?document.createDocumentFragment():e;if(((t,e,n)=>{let r=z.get(e);void 0===r&&(o(e,e.firstChild),z.set(e,r=new A(Object.assign({templateFactory:R},n))),r.appendInto(e)),r.setValue(t),r.commit()})(t,l,Object.assign({templateFactory:(t=>e=>{const n=V(e.type,t);let r=k.get(n);void 0===r&&(r={stringsArray:new WeakMap,keyString:new Map},k.set(n,r));let i=r.stringsArray.get(e.strings);if(void 0!==i)return i;const s=e.strings.join(c);if(void 0===(i=r.keyString.get(s))){const n=e.getTemplateElement();U&&window.ShadyCSS.prepareTemplateDom(n,t),i=new p(e,n),r.keyString.set(s,i)}return r.stringsArray.set(e.strings,i),i})(r)},n)),a){const t=z.get(l);z.delete(l);const n=t.value instanceof y?t.value.template:void 0;q(r,l,n),o(e,e.firstChild),e.appendChild(l),z.set(e,t)}!i&&s&&window.ShadyCSS.styleElement(e.host)});var ut,pt=n(20);!function(t){t[t.Disconnected=1]="Disconnected",t[t.Connecting=2]="Connecting",t[t.Connected=3]="Connected",t[t.Disconnecting=4]="Disconnecting",t[t.Error=5]="Error"}(ut||(ut={}));var ft,_t=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o};!function(t){t[t.read=0]="read",t[t.write=1]="write",t[t.enableNotify=2]="enableNotify",t[t.disableNotify=3]="disableNotify"}(ft||(ft={}));let mt=class extends dt{constructor(){super(),this.name="nameit",this.connectedStr="connect",this.connected=!1,this.primaryServiceObject=[[{service:"heart_rate",characteristic:"heart_rate_measurement"}]],this.read=!1,this.btledata=null,this.buttonColour="blue",this.buttonPointer="pointer",this.bluetoothDevice=null,this.bluetoothGatt=null,this.prevConnectedStr="",this._handleBtGattStateChange=this._handleBtGattStateChange.bind(this),this._handleNotifyChanged=this._handleNotifyChanged.bind(this)}bluetoothCallback(t){this.connectedStr=t}render(){if("connected"==this.connectedStr){if(this.buttonColour="green",null!=this.btledata&&(this.processBTLEcommands(),this.btledata=null),null!=this.data){var t=this.data;this.bluetoothGatt.writevalueToService(t[0],0).then(e=>{t.length>1&&this.bluetoothGatt.writevalueToService(t[1],0)}),this.data=null}this.read&&this.readBtle(0)}else"connect"==this.connectedStr?this.buttonColour="blue":"connecting"==this.connectedStr?this.buttonColour="orange":this.buttonColour="red";return this.prevConnectedStr=this.connectedStr,D`
       <style>
       
        .button {
        background-color: ${this.buttonColour}; 
        border: none;
        color: var(--btn-color, white);
        padding: 10px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 4px;
        border-radius: 15px 50px 30px;
        cursor: ${this.buttonPointer};
        outline:0;
        }
      </style>
      <button class="button" @click="${this.connect}"> ${this.name} ${this.connectedStr}</button>`}async connect(){let t=this.connectedStr;if(null!=this.bluetoothGatt&&this.bluetoothGatt.disconnect(this.bluetoothGatt),"connect"==t)try{this.bluetoothDevice=await navigator.bluetooth.requestDevice({filters:[{services:[this.primaryServiceObject[0][0].service,this.primaryServiceObject[1][0].service]}],optionalServices:[this.primaryServiceObject[0][0].service,this.primaryServiceObject[1][0].service]}),this.bluetoothGatt=new class extends EventTarget{constructor(t,e){super(),this.bluetoothDevice=null,this.connectionStr="disconnected",this.gatServer=null,this.currentService=null,this.currentCharacteristics=null,this.notifyCharacteristics=null,this.primaryServiceObject=[],this.semaphore=new pt.Semaphore(1),this.maxretry=0,this.state=ut.Disconnected,this.bluetoothDevice=t,this.state=ut.Disconnected,this.primaryServiceObject=e,this.SetNotify=this.SetNotify.bind(this),this.handleNotifyChanged=this.handleNotifyChanged.bind(this)}log(t){console.log(t)}setState(t){let e="old state = "+ut[this.state]+" new state = "+ut[t];switch(this.log(e),this.state=t,this.state){case ut.Disconnected:this.currentService=null,this.currentCharacteristics=null,this.connectionStr="connect";break;case ut.Connecting:this.connectionStr="connecting";break;case ut.Disconnecting:this.connectionStr="disconnecting";break;case ut.Connected:this.connectionStr="connected";break;default:this.connectionStr="error"}this.dispatchEvent(new Event("state-change"))}async timeout(){this.maxretry<10&&this.state===ut.Connecting&&(this.maxretry++,this.connectit())}connect(){this.state===ut.Disconnected&&(this.setState(ut.Connecting),this.maxretry=0,this.connectit())}disconnect(t){this.bluetoothDevice&&(this.setState(ut.Disconnecting),console.log("Disconnecting from Bluetooth Device..."),this.bluetoothDevice.gatt.connected?this.bluetoothDevice.gatt.disconnect():(console.log("> Bluetooth Device is already disconnected"),this.setState(ut.Disconnected)),this.bluetoothDevice=null)}async connectit(){try{this.gatServer=await this.bluetoothDevice.gatt.connect(),this.setState(ut.Connected)}catch(t){console.log("connecting failed  \n"),this.state,ut.Connecting,console.log("try again over 5 seconds \n"),setTimeout(this.timeout.bind(this),5e3)}}onDisconnected(){switch(console.log("> Bluetooth Device disconnected"),this.state){case ut.Disconnecting:case ut.Error:this.setState(ut.Disconnected);break;default:this.setState(ut.Disconnected),this.connect()}}async getCharacteristic(t){this.currentService=await this.gatServer.getPrimaryService(this.primaryServiceObject[t][0].service),this.currentCharacteristics=await this.currentService.getCharacteristic(this.primaryServiceObject[t][0].characteristic)}async readvalueFromService(t){if(this.state===ut.Connected){let e=await this.semaphore.acquire();try{await this.getCharacteristic(t);let n=await this.currentCharacteristics.readValue();return n.getUint8(0),e(),n}catch(t){console.log("Argh! "+t),e()}}}async SetNotify(t,e){if(this.state===ut.Connected){let n=await this.semaphore.acquire();try{await this.getCharacteristic(e),!0===t?(await this.currentCharacteristics.startNotifications(),this.notifyCharacteristics=this.currentCharacteristics,console.log("notify set"),this.notifyCharacteristics.addEventListener("characteristicvaluechanged",this.handleNotifyChanged)):await this.currentCharacteristics.stopNotifications(),n()}catch(t){console.log("Argh! "+t),n()}}}async writevalueToService(t,e){if(this.state===ut.Connected){let n=await this.semaphore.acquire();try{await this.getCharacteristic(e),await this.currentCharacteristics.writeValue(t),n()}catch(t){console.log("Argh! "+t),n()}}}handleNotifyChanged(t){let e=event.target.value;e=e.buffer?e:new DataView(e);let n=new CustomEvent("notify-data-event",{detail:{message:e},bubbles:!0,composed:!0});this.dispatchEvent(n)}}(this.bluetoothDevice,this.primaryServiceObject),this.bluetoothDevice.addEventListener("gattserverdisconnected",this.bluetoothGatt.onDisconnected.bind(this.bluetoothGatt)),this.bluetoothGatt.addEventListener("state-change",this._handleBtGattStateChange),this.bluetoothGatt.addEventListener("notify-data-event",this._handleNotifyChanged),this.bluetoothGatt.connect()}catch(t){console.log("Argh! "+t)}}async readBtle(t){await this.bluetoothGatt.readvalueFromService(t).then(t=>{this.read=!1,console.log(t);let e=new CustomEvent("data-event",{detail:{message:t},bubbles:!0,composed:!0});this.dispatchEvent(e)},t=>{this.read=!1})}async processBTLEcommands(){for(const t of this.btledata)t.action==ft.write&&await this.bluetoothGatt.writevalueToService(t.data,t.serviceNr),t.action==ft.read&&await this.readBtle(t.serviceNr),t.action==ft.enableNotify&&await this.bluetoothGatt.SetNotify(!0,t.serviceNr),t.action==ft.disableNotify&&await this.bluetoothGatt.SetNotify(!1,t.serviceNr)}_handleBtGattStateChange(t){if(this.connectedStr=t.target.connectionStr,"connected"==this.connectedStr){let t=new CustomEvent("data-event",{detail:{message:"connected"},bubbles:!0,composed:!0});this.dispatchEvent(t)}}_handleNotifyChanged(t){if("connected"==this.connectedStr){let e=new CustomEvent("data-event",{detail:{message:t.detail.message},bubbles:!0,composed:!0});this.dispatchEvent(e)}}};_t([ot()],mt.prototype,"name",void 0),_t([ot()],mt.prototype,"connectedStr",void 0),_t([ot()],mt.prototype,"connected",void 0),_t([ot({type:Array})],mt.prototype,"primaryServiceObject",void 0),_t([ot()],mt.prototype,"read",void 0),_t([ot()],mt.prototype,"data",void 0),_t([ot()],mt.prototype,"btledata",void 0),mt=_t([it("lsg-bluetooth")],mt);var gt=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},yt=function(t){return 1===t.length&&(t=function(t){return function(e,n){return gt(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)<0?r=s+1:i=s}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var s=r+i>>>1;t(e[s],n)>0?i=s:r=s+1}return r}}};var vt=yt(gt),bt=vt.right,wt=(vt.left,bt);var xt=Array.prototype,Ct=(xt.slice,xt.map,Math.sqrt(50)),St=Math.sqrt(10),At=Math.sqrt(2),Tt=function(t,e,n){var r,i,s,o,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=Pt(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),s=new Array(i=Math.ceil(e-t+1));++a<i;)s[a]=(t+a)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),s=new Array(i=Math.ceil(t-e+1));++a<i;)s[a]=(t-a)/o;return r&&s.reverse(),s};function Pt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),s=r/Math.pow(10,i);return i>=0?(s>=Ct?10:s>=St?5:s>=At?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(s>=Ct?10:s>=St?5:s>=At?2:1)}function Et(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),s=r/i;return s>=Ct?i*=10:s>=St?i*=5:s>=At&&(i*=2),e<t?-i:i}var It=function(t,e){var n,r,i=t.length,s=-1;if(null==e){for(;++s<i;)if(null!=(n=t[s])&&n>=n)for(r=n;++s<i;)null!=(n=t[s])&&n>r&&(r=n)}else for(;++s<i;)if(null!=(n=e(t[s],s,t))&&n>=n)for(r=n;++s<i;)null!=(n=e(t[s],s,t))&&n>r&&(r=n);return r},Nt=function(t,e){var n,r,i=t.length,s=-1;if(null==e){for(;++s<i;)if(null!=(n=t[s])&&n>=n)for(r=n;++s<i;)null!=(n=t[s])&&r>n&&(r=n)}else for(;++s<i;)if(null!=(n=e(t[s],s,t))&&n>=n)for(r=n;++s<i;)null!=(n=e(t[s],s,t))&&r>n&&(r=n);return r};Array.prototype.slice;var Mt={value:function(){}};function Ot(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Rt(r)}function Rt(t){this._=t}function kt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function zt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Mt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Rt.prototype=Ot.prototype={constructor:Rt,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),s=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<o;)if(n=(t=i[s]).type)r[n]=zt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=zt(r[n],t.name,null);return this}for(;++s<o;)if((n=(t=i[s]).type)&&(n=kt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Rt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=0,n=(r=this._[t]).length;s<n;++s)r[s].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};var Dt=Ot;function Lt(){}var Ft=function(t){return null==t?Lt:function(){return this.querySelector(t)}};function Ht(){return[]}var Bt=function(t){return null==t?Ht:function(){return this.querySelectorAll(t)}},Vt=function(t){return function(){return this.matches(t)}},Ut=function(t){return new Array(t.length)};function $t(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}$t.prototype={constructor:$t,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var jt="$";function qt(t,e,n,r,i,s){for(var o,a=0,l=e.length,c=s.length;a<c;++a)(o=e[a])?(o.__data__=s[a],r[a]=o):n[a]=new $t(t,s[a]);for(;a<l;++a)(o=e[a])&&(i[a]=o)}function Gt(t,e,n,r,i,s,o){var a,l,c,h={},d=e.length,u=s.length,p=new Array(d);for(a=0;a<d;++a)(l=e[a])&&(p[a]=c=jt+o.call(l,l.__data__,a,e),c in h?i[a]=l:h[c]=l);for(a=0;a<u;++a)(l=h[c=jt+o.call(t,s[a],a,s)])?(r[a]=l,l.__data__=s[a],h[c]=null):n[a]=new $t(t,s[a]);for(a=0;a<d;++a)(l=e[a])&&h[p[a]]===l&&(i[a]=l)}function Yt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Wt="http://www.w3.org/1999/xhtml",Xt={svg:"http://www.w3.org/2000/svg",xhtml:Wt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Xt.hasOwnProperty(e)?{space:Xt[e],local:t}:t};var Kt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Zt(t,e){return t.style.getPropertyValue(e)||Kt(t).getComputedStyle(t,null).getPropertyValue(e)}function Qt(t){return t.trim().split(/^|\s+/)}function te(t){return t.classList||new ee(t)}function ee(t){this._node=t,this._names=Qt(t.getAttribute("class")||"")}function ne(t,e){for(var n=te(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function re(t,e){for(var n=te(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}ee.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ie(){this.textContent=""}function se(){this.innerHTML=""}function oe(){this.nextSibling&&this.parentNode.appendChild(this)}function ae(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var le=function(t){var e=Jt(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Wt&&e.documentElement.namespaceURI===Wt?e.createElement(t):e.createElementNS(n,t)}})(e)};function ce(){return null}function he(){var t=this.parentNode;t&&t.removeChild(this)}function de(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ue(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var pe={},fe=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(pe={mouseenter:"mouseover",mouseleave:"mouseout"}));function _e(t,e,n){return t=me(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function me(t,e,n){return function(r){var i=fe;fe=r;try{t.call(this,this.__data__,e,n)}finally{fe=i}}}function ge(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,s=e.length;r<s;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ye(t,e,n){var r=pe.hasOwnProperty(t.type)?_e:me;return function(i,s,o){var a,l=this.__on,c=r(e,s,o);if(l)for(var h=0,d=l.length;h<d;++h)if((a=l[h]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function ve(t,e,n){var r=Kt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var be=[null];function we(t,e){this._groups=t,this._parents=e}function xe(){return new we([[document.documentElement]],be)}we.prototype=xe.prototype={constructor:we,select:function(t){"function"!=typeof t&&(t=Ft(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=e[i],l=a.length,c=r[i]=new Array(l),h=0;h<l;++h)(s=a[h])&&(o=t.call(s,s.__data__,h,a))&&("__data__"in s&&(o.__data__=s.__data__),c[h]=o);return new we(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Bt(t));for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o,a=e[s],l=a.length,c=0;c<l;++c)(o=a[c])&&(r.push(t.call(o,o.__data__,c,a)),i.push(o));return new we(r,i)},filter:function(t){"function"!=typeof t&&(t=Vt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new we(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n=e?Gt:qt,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var h=r[c],d=i[c],u=d.length,p=t.call(h,h&&h.__data__,c,r),f=p.length,_=a[c]=new Array(f),m=o[c]=new Array(f);n(h,d,_,m,l[c]=new Array(u),p,e);for(var g,y,v=0,b=0;v<f;++v)if(g=_[v]){for(v>=b&&(b=v+1);!(y=m[b])&&++b<f;);g._next=y||null}}return(o=new we(o,r))._enter=a,o._exit=l,o},enter:function(){return new we(this._enter||this._groups.map(Ut),this._parents)},exit:function(){return new we(this._exit||this._groups.map(Ut),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,s=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l,c=e[a],h=n[a],d=c.length,u=o[a]=new Array(d),p=0;p<d;++p)(l=c[p]||h[p])&&(u[p]=l);for(;a<r;++a)o[a]=e[a];return new we(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Yt);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,c=i[s]=new Array(l),h=0;h<l;++h)(o=a[h])&&(c[h]=o);c.sort(e)}return new we(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,s=e[n],o=0,a=s.length;o<a;++o)(i=s[o])&&t.call(i,i.__data__,o,s);return this},attr:function(t,e){var n=Jt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Zt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Qt(t+"");if(arguments.length<2){for(var r=te(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?ne:re)(this,t)}}:e?function(t){return function(){ne(this,t)}}:function(t){return function(){re(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?ie:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?se:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(oe)},lower:function(){return this.each(ae)},append:function(t){var e="function"==typeof t?t:le(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:le(t),r=null==e?ce:"function"==typeof e?e:Ft(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(he)},clone:function(t){return this.select(t?ue:de)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,s=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),o=s.length;if(!(arguments.length<2)){for(a=e?ye:ge,null==n&&(n=!1),r=0;r<o;++r)this.each(a(s[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,h=a.length;c<h;++c)for(r=0,l=a[c];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return ve(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return ve(this,t,e)}})(t,e))}};var Ce=xe,Se=function(t){return"string"==typeof t?new we([[document.querySelector(t)]],[document.documentElement]):new we([[t]],be)};var Ae=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Te(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pe(){}var Ee="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ne="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Me=/^#([0-9a-f]{3,8})$/,Oe=new RegExp("^rgb\\("+[Ee,Ee,Ee]+"\\)$"),Re=new RegExp("^rgb\\("+[Ne,Ne,Ne]+"\\)$"),ke=new RegExp("^rgba\\("+[Ee,Ee,Ee,Ie]+"\\)$"),ze=new RegExp("^rgba\\("+[Ne,Ne,Ne,Ie]+"\\)$"),De=new RegExp("^hsl\\("+[Ie,Ne,Ne]+"\\)$"),Le=new RegExp("^hsla\\("+[Ie,Ne,Ne,Ie]+"\\)$"),Fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function He(){return this.rgb().formatHex()}function Be(){return this.rgb().formatRgb()}function Ve(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Me.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ue(e):3===n?new qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?new qe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?new qe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Oe.exec(t))?new qe(e[1],e[2],e[3],1):(e=Re.exec(t))?new qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ke.exec(t))?$e(e[1],e[2],e[3],e[4]):(e=ze.exec(t))?$e(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=De.exec(t))?Xe(e[1],e[2]/100,e[3]/100,1):(e=Le.exec(t))?Xe(e[1],e[2]/100,e[3]/100,e[4]):Fe.hasOwnProperty(t)?Ue(Fe[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function Ue(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function $e(t,e,n,r){return r<=0&&(t=e=n=NaN),new qe(t,e,n,r)}function je(t,e,n,r){return 1===arguments.length?function(t){return t instanceof Pe||(t=Ve(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}(t):new qe(t,e,n,null==r?1:r)}function qe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ge(){return"#"+We(this.r)+We(this.g)+We(this.b)}function Ye(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function We(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Xe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ke(t,e,n,r)}function Je(t){if(t instanceof Ke)return new Ke(t.h,t.s,t.l,t.opacity);if(t instanceof Pe||(t=Ve(t)),!t)return new Ke;if(t instanceof Ke)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=e===s?(n-r)/a+6*(n<r):n===s?(r-e)/a+2:(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ke(o,a,l,t.opacity)}function Ke(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ze(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Qe(t,e,n,r,i){var s=t*t,o=s*t;return((1-3*t+3*s-o)*e+(4-6*s+3*o)*n+(1+3*t+3*s-3*o)*r+o*i)/6}Ae(Pe,Ve,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:He,formatHex:He,formatHsl:function(){return Je(this).formatHsl()},formatRgb:Be,toString:Be}),Ae(qe,je,Te(Pe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ge,formatHex:Ge,formatRgb:Ye,toString:Ye})),Ae(Ke,function(t,e,n,r){return 1===arguments.length?Je(t):new Ke(t,e,n,null==r?1:r)},Te(Pe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qe(Ze(t>=240?t-240:t+120,i,r),Ze(t,i,r),Ze(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var tn=function(t){return function(){return t}};function en(t,e){return function(n){return t+n*e}}function nn(t){return 1==(t=+t)?rn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):tn(isNaN(e)?n:e)}}function rn(t,e){var n=e-t;return n?en(t,n):tn(isNaN(t)?e:t)}var sn=function t(e){var n=nn(e);function r(t,e){var r=n((t=je(t)).r,(e=je(e)).r),i=n(t.g,e.g),s=n(t.b,e.b),o=rn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=s(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function on(t){return function(e){var n,r,i=e.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=je(e[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=t(s),o=t(o),a=t(a),r.opacity=1,function(t){return r.r=s(t),r.g=o(t),r.b=a(t),r+""}}}on(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],s=t[r+1],o=r>0?t[r-1]:2*i-s,a=r<e-1?t[r+2]:2*s-i;return Qe((n-r/e)*e,o,i,s,a)}}),on(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],s=t[r%e],o=t[(r+1)%e],a=t[(r+2)%e];return Qe((n-r/e)*e,i,s,o,a)}});var an=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(ln.source,"g");var hn,dn,un=function(t,e){var n,r,i,s=ln.lastIndex=cn.lastIndex=0,o=-1,a=[],l=[];for(t+="",e+="";(n=ln.exec(t))&&(r=cn.exec(e));)(i=r.index)>s&&(i=e.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:an(n,r)})),s=cn.lastIndex;return s<e.length&&(i=e.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})},pn=0,fn=0,_n=0,mn=1e3,gn=0,yn=0,vn=0,bn="object"==typeof performance&&performance.now?performance:Date,wn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xn(){return yn||(wn(Cn),yn=bn.now()+vn)}function Cn(){yn=0}function Sn(){this._call=this._time=this._next=null}function An(t,e,n){var r=new Sn;return r.restart(t,e,n),r}function Tn(){yn=(gn=bn.now())+vn,pn=fn=0;try{!function(){xn(),++pn;for(var t,e=hn;e;)(t=yn-e._time)>=0&&e._call.call(null,t),e=e._next;--pn}()}finally{pn=0,function(){var t,e,n=hn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hn=e);dn=t,En(r)}(),yn=0}}function Pn(){var t=bn.now(),e=t-gn;e>mn&&(vn-=e,gn=t)}function En(t){pn||(fn&&(fn=clearTimeout(fn)),t-yn>24?(t<1/0&&(fn=setTimeout(Tn,t-bn.now()-vn)),_n&&(_n=clearInterval(_n))):(_n||(gn=bn.now(),_n=setInterval(Pn,mn)),pn=1,wn(Tn)))}Sn.prototype=An.prototype={constructor:Sn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?xn():+n)+(null==e?0:+e),this._next||dn===this||(dn?dn._next=this:hn=this,dn=this),this._call=t,this._time=n,En()},stop:function(){this._call&&(this._call=null,this._time=1/0,En())}};var In=function(t,e,n){var r=new Sn;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},Nn=Dt("start","end","cancel","interrupt"),Mn=[],On=0,Rn=1,kn=2,zn=3,Dn=4,Ln=5,Fn=6,Hn=function(t,e,n,r,i,s){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function s(l){var c,h,d,u;if(n.state!==Rn)return a();for(c in i)if((u=i[c]).name===n.name){if(u.state===zn)return In(s);u.state===Dn?(u.state=Fn,u.timer.stop(),u.on.call("interrupt",t,t.__data__,u.index,u.group),delete i[c]):+c<e&&(u.state=Fn,u.timer.stop(),u.on.call("cancel",t,t.__data__,u.index,u.group),delete i[c])}if(In(function(){n.state===zn&&(n.state=Dn,n.timer.restart(o,n.delay,n.time),o(l))}),n.state=kn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===kn){for(n.state=zn,r=new Array(d=n.tween.length),c=0,h=-1;c<d;++c)(u=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=u);r.length=h+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Ln,1),s=-1,o=r.length;++s<o;)r[s].call(t,i);n.state===Ln&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=Fn,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=An(function(t){n.state=Rn,n.timer.restart(s,n.delay,n.time),n.delay<=t&&s(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:Nn,tween:Mn,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:On})};function Bn(t,e){var n=Un(t,e);if(n.state>On)throw new Error("too late; already scheduled");return n}function Vn(t,e){var n=Un(t,e);if(n.state>zn)throw new Error("too late; already running");return n}function Un(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var $n,jn,qn,Gn,Yn=function(t,e){var n,r,i,s=t.__transition,o=!0;if(s){for(i in e=null==e?null:e+"",s)(n=s[i]).name===e?(r=n.state>kn&&n.state<Ln,n.state=Fn,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete t.__transition}},Wn=180/Math.PI,Xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Jn=function(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Wn,skewX:Math.atan(l)*Wn,scaleX:o,scaleY:a}};function Kn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(s,o){var a=[],l=[];return s=t(s),o=t(o),function(t,r,i,s,o,a){if(t!==i||r!==s){var l=o.push("translate(",null,e,null,n);a.push({i:l-4,x:an(t,i)},{i:l-2,x:an(r,s)})}else(i||s)&&o.push("translate("+i+e+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(t,e,n,s){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:an(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(s.rotate,o.rotate,a,l),function(t,e,n,s){t!==e?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:an(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(s.skewX,o.skewX,a,l),function(t,e,n,r,s,o){if(t!==n||e!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:an(t,n)},{i:a-2,x:an(e,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var Zn=Kn(function(t){return"none"===t?Xn:($n||($n=document.createElement("DIV"),jn=document.documentElement,qn=document.defaultView),$n.style.transform=t,t=qn.getComputedStyle(jn.appendChild($n),null).getPropertyValue("transform"),jn.removeChild($n),t=t.slice(7,-1).split(","),Jn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Qn=Kn(function(t){return null==t?Xn:(Gn||(Gn=document.createElementNS("http://www.w3.org/2000/svg","g")),Gn.setAttribute("transform",t),(t=Gn.transform.baseVal.consolidate())?(t=t.matrix,Jn(t.a,t.b,t.c,t.d,t.e,t.f)):Xn)},", ",")",")");function tr(t,e,n){var r=t._id;return t.each(function(){var t=Vn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Un(t,r).value[e]}}var er=function(t,e){var n;return("number"==typeof e?an:e instanceof Ve?sn:(n=Ve(e))?(e=n,sn):un)(t,e)};var nr=Ce.prototype.constructor;function rr(t){return function(){this.style.removeProperty(t)}}var ir=0;function sr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function or(){return++ir}var ar=Ce.prototype;sr.prototype=function(t){return Ce().transition(t)}.prototype={constructor:sr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ft(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,l,c=r[o],h=c.length,d=s[o]=new Array(h),u=0;u<h;++u)(a=c[u])&&(l=t.call(a,a.__data__,u,c))&&("__data__"in a&&(l.__data__=a.__data__),d[u]=l,Hn(d[u],e,n,u,d,Un(a,n)));return new sr(s,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Bt(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,c=r[a],h=c.length,d=0;d<h;++d)if(l=c[d]){for(var u,p=t.call(l,l.__data__,d,c),f=Un(l,n),_=0,m=p.length;_<m;++_)(u=p[_])&&Hn(u,e,n,_,p,f);s.push(p),o.push(l)}return new sr(s,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Vt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s,o=e[i],a=o.length,l=r[i]=[],c=0;c<a;++c)(s=o[c])&&t.call(s,s.__data__,c,o)&&l.push(s);return new sr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l,c=e[a],h=n[a],d=c.length,u=o[a]=new Array(d),p=0;p<d;++p)(l=c[p]||h[p])&&(u[p]=l);for(;a<r;++a)o[a]=e[a];return new sr(o,this._parents,this._name,this._id)},selection:function(){return new nr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=or(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)if(o=a[c]){var h=Un(o,e);Hn(o,t,n,c,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new sr(r,this._parents,t,n)},call:ar.call,nodes:ar.nodes,node:ar.node,size:ar.size,empty:ar.empty,each:ar.each,on:function(t,e){var n=this._id;return arguments.length<2?Un(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,s=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?Bn:Vn;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}(n,t,e))},attr:function(t,e){var n=Jt(t),r="transform"===n?Qn:er;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=e(r=o,l));this.removeAttribute(t)}})(n,r,tr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i,s=n+"";return function(){var o=this.getAttribute(t);return o===s?null:o===r?i:i=e(r=o,n)}})(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Jt(t);return this.tween(n,(r.local?function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}:function(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Zn:er;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var s=Zt(this,t),o=(this.style.removeProperty(t),Zt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}(t,r)).on("end.style."+t,rr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,s;return function(){var o=Zt(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Zt(this,t)),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}(t,r,tr(this,"style."+t,e))).each(function(t,e){var n,r,i,s,o="style."+e,a="end."+o;return function(){var l=Vn(this,t),c=l.on,h=null==l.value[o]?s||(s=rr(e)):void 0;c===n&&i===h||(r=(n=c).copy()).on(a,i=h),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,s=n+"";return function(){var o=Zt(this,t);return o===s?null:o===r?i:i=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function s(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,s,n)),r}return s._value=e,s}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Un(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=Vn(this,t),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var s=Vn(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Bn(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Bn(this,t).delay=e}})(e,t)):Un(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Vn(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Vn(this,t).duration=e}})(e,t)):Un(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Vn(this,t).ease=e}}(e,t)):Un(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0==--i&&s()}};n.each(function(){var n=Vn(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})})}};var lr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function cr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return lr.time=xn(),lr;return n}Ce.prototype.interrupt=function(t){return this.each(function(){Yn(this,t)})},Ce.prototype.transition=function(t){var e,n;t instanceof sr?(e=t._id,t=t._name):(e=or(),(n=lr).time=xn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,c=0;c<l;++c)(o=a[c])&&Hn(o,t,e,c,a,n||cr(o,e));return new sr(r,this._parents,t,e)};function hr(t){return[+t[0],+t[1]]}function dr(t){return[hr(t[0]),hr(t[1])]}["w","e"].map(ur),["n","s"].map(ur),["n","w","e","s","nw","ne","sw","se"].map(ur);function ur(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var pr=Math.PI,fr=2*pr,_r=fr-1e-6;function mr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function gr(){return new mr}mr.prototype=gr.prototype={constructor:mr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,s){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+s)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var s=this._x1,o=this._y1,a=n-t,l=r-e,c=s-t,h=o-e,d=c*c+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>1e-6)if(Math.abs(h*a-l*c)>1e-6&&i){var u=n-s,p=r-o,f=a*a+l*l,_=u*u+p*p,m=Math.sqrt(f),g=Math.sqrt(d),y=i*Math.tan((pr-Math.acos((f+d-_)/(2*m*g)))/2),v=y/g,b=y/m;Math.abs(v-1)>1e-6&&(this._+="L"+(t+v*c)+","+(e+v*h)),this._+="A"+i+","+i+",0,0,"+ +(h*u>c*p)+","+(this._x1=t+b*a)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,s){t=+t,e=+e,s=!!s;var o=(n=+n)*Math.cos(r),a=n*Math.sin(r),l=t+o,c=e+a,h=1^s,d=s?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+l+","+c),n&&(d<0&&(d=d%fr+fr),d>_r?this._+="A"+n+","+n+",0,1,"+h+","+(t-o)+","+(e-a)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=c):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=pr)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var yr=gr;function vr(){}function br(t,e){var n=new vr;if(t instanceof vr)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,s=t.length;if(null==e)for(;++i<s;)n.set(i,t[i]);else for(;++i<s;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}vr.prototype=br.prototype={constructor:vr,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var wr=br;function xr(){}var Cr=wr.prototype;function Sr(t,e){var n=new xr;if(t instanceof xr)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}xr.prototype=Sr.prototype={constructor:xr,has:Cr.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Cr.remove,clear:Cr.clear,values:Cr.keys,size:Cr.size,empty:Cr.empty,each:Cr.each};Array.prototype.slice;var Ar={},Tr={},Pr=34,Er=10,Ir=13;function Nr(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Mr(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function Or(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Rr(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+Or(-t,6):t>9999?"+"+Or(t,6):Or(t,4)}(t.getUTCFullYear())+"-"+Or(t.getUTCMonth()+1,2)+"-"+Or(t.getUTCDate(),2)+(i?"T"+Or(e,2)+":"+Or(n,2)+":"+Or(r,2)+"."+Or(i,3)+"Z":r?"T"+Or(e,2)+":"+Or(n,2)+":"+Or(r,2)+"Z":n||e?"T"+Or(e,2)+":"+Or(n,2)+"Z":"")}var kr=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],s=t.length,o=0,a=0,l=s<=0,c=!1;function h(){if(l)return Tr;if(c)return c=!1,Ar;var e,r,i=o;if(t.charCodeAt(i)===Pr){for(;o++<s&&t.charCodeAt(o)!==Pr||t.charCodeAt(++o)===Pr;);return(e=o)>=s?l=!0:(r=t.charCodeAt(o++))===Er?c=!0:r===Ir&&(c=!0,t.charCodeAt(o)===Er&&++o),t.slice(i+1,e-1).replace(/""/g,'"')}for(;o<s;){if((r=t.charCodeAt(e=o++))===Er)c=!0;else if(r===Ir)c=!0,t.charCodeAt(o)===Er&&++o;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,s)}for(t.charCodeAt(s-1)===Er&&--s,t.charCodeAt(s-1)===Ir&&--s;(r=h())!==Tr;){for(var d=[];r!==Ar&&r!==Tr;)d.push(r),r=h();e&&null==(d=e(d,a++))||i.push(d)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})}function s(e){return e.map(o).join(t)}function o(t){return null==t?"":t instanceof Date?Rr(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,s=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Nr(t);return function(r,i){return e(n(r),i,t)}}(t,e):Nr(t)});return s.columns=i||[],s},parseRows:r,format:function(e,n){return null==n&&(n=Mr(e)),[n.map(o).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Mr(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(s).join("\n")},formatRow:s,formatValue:o}},zr=kr(","),Dr=zr.parse,Lr=(zr.parseRows,zr.format,zr.formatBody,zr.formatRows,zr.formatRow,zr.formatValue,kr("\t")),Fr=Lr.parse;Lr.parseRows,Lr.format,Lr.formatBody,Lr.formatRows,Lr.formatRow,Lr.formatValue;function Hr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Br=function(t,e){return fetch(t,e).then(Hr)};function Vr(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Br(e,n).then(function(e){return t(e,r)})}}Vr(Dr),Vr(Fr);function Ur(t){return function(e,n){return Br(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}Ur("application/xml"),Ur("text/html"),Ur("image/svg+xml");function $r(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,s,o,a,l,c,h,d,u,p=t._root,f={data:r},_=t._x0,m=t._y0,g=t._x1,y=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((c=e>=(s=(_+g)/2))?_=s:g=s,(h=n>=(o=(m+y)/2))?m=o:y=o,i=p,!(p=p[d=h<<1|c]))return i[d]=f,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return f.next=p,i?i[d]=f:t._root=f,t;do{i=i?i[d]=new Array(4):t._root=new Array(4),(c=e>=(s=(_+g)/2))?_=s:g=s,(h=n>=(o=(m+y)/2))?m=o:y=o}while((d=h<<1|c)==(u=(l>=o)<<1|a>=s));return i[u]=p,i[d]=f,t}var jr=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function qr(t){return t[0]}function Gr(t){return t[1]}function Yr(t,e,n){var r=new Wr(null==e?qr:e,null==n?Gr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Wr(t,e,n,r,i,s){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function Xr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Jr=Yr.prototype=Wr.prototype;Jr.copy=function(){var t,e,n=new Wr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Xr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Xr(e));return n},Jr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return $r(this.cover(e,n),e,n,t)},Jr.addAll=function(t){var e,n,r,i,s=t.length,o=new Array(s),a=new Array(s),l=1/0,c=1/0,h=-1/0,d=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,a[n]=i,r<l&&(l=r),r>h&&(h=r),i<c&&(c=i),i>d&&(d=i));if(l>h||c>d)return this;for(this.cover(l,c).cover(h,d),n=0;n<s;++n)$r(this,o[n],a[n],t[n]);return this},Jr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,s=(r=Math.floor(e))+1;else{for(var o,a,l=i-n,c=this._root;n>t||t>=i||r>e||e>=s;)switch(a=(e<r)<<1|t<n,(o=new Array(4))[a]=c,c=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this},Jr.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Jr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Jr.find=function(t,e,n){var r,i,s,o,a,l,c,h=this._x0,d=this._y0,u=this._x1,p=this._y1,f=[],_=this._root;for(_&&f.push(new jr(_,h,d,u,p)),null==n?n=1/0:(h=t-n,d=e-n,u=t+n,p=e+n,n*=n);l=f.pop();)if(!(!(_=l.node)||(i=l.x0)>u||(s=l.y0)>p||(o=l.x1)<h||(a=l.y1)<d))if(_.length){var m=(i+o)/2,g=(s+a)/2;f.push(new jr(_[3],m,g,o,a),new jr(_[2],i,g,m,a),new jr(_[1],m,s,o,g),new jr(_[0],i,s,m,g)),(c=(e>=g)<<1|t>=m)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var y=t-+this._x.call(null,_.data),v=e-+this._y.call(null,_.data),b=y*y+v*v;if(b<n){var w=Math.sqrt(n=b);h=t-w,d=e-w,u=t+w,p=e+w,r=_.data}}return r},Jr.remove=function(t){if(isNaN(s=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,s,o,a,l,c,h,d,u,p=this._root,f=this._x0,_=this._y0,m=this._x1,g=this._y1;if(!p)return this;if(p.length)for(;;){if((c=s>=(a=(f+m)/2))?f=a:m=a,(h=o>=(l=(_+g)/2))?_=l:g=l,e=p,!(p=p[d=h<<1|c]))return this;if(!p.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,u=d)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[d]=i:delete e[d],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[u]=p:this._root=p),this):(this._root=i,this)},Jr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Jr.root=function(){return this._root},Jr.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Jr.visit=function(t){var e,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new jr(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,s=e.x1,o=e.y1)&&l.length){var c=(r+s)/2,h=(i+o)/2;(n=l[3])&&a.push(new jr(n,c,h,s,o)),(n=l[2])&&a.push(new jr(n,r,h,c,o)),(n=l[1])&&a.push(new jr(n,c,i,s,h)),(n=l[0])&&a.push(new jr(n,r,i,c,h))}return this},Jr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new jr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var s,o=e.x0,a=e.y0,l=e.x1,c=e.y1,h=(o+l)/2,d=(a+c)/2;(s=i[0])&&n.push(new jr(s,o,a,h,d)),(s=i[1])&&n.push(new jr(s,h,a,l,d)),(s=i[2])&&n.push(new jr(s,o,d,h,c)),(s=i[3])&&n.push(new jr(s,h,d,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Jr.x=function(t){return arguments.length?(this._x=t,this):this._x},Jr.y=function(t){return arguments.length?(this._y=t,this):this._y};Math.PI,Math.sqrt(5);var Kr=function(){return Math.random()},Zr=(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Kr),function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var s;if(null!=r)s=r,r=null;else do{r=2*e()-1,s=2*e()-1,i=r*r+s*s}while(!i||i>1);return t+n*s*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Kr)),Qr=(function t(e){function n(){var t=Zr.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Kr),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Kr));(function t(e){function n(t){var n=Qr.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Kr),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Kr);function ti(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var ei=Array.prototype,ni=(ei.map,ei.slice);var ri=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ii(t){if(!(e=ri.exec(t)))throw new Error("invalid format: "+t);var e;return new si({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function si(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}ii.prototype=si.prototype,si.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var oi,ai,li,ci,hi=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},di=function(t){return(t=hi(Math.abs(t)))?t[1]:NaN},ui=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t},pi=function(t,e){var n=hi(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},fi={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return pi(100*t,e)},r:pi,s:function(t,e){var n=hi(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(oi=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+hi(t,Math.max(0,e+s-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},_i=function(t){return t},mi=Array.prototype.map,gi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],yi=function(t){var e=void 0===t.grouping||void 0===t.thousands?_i:function(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}(mi.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",i=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?_i:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(mi.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",a=void 0===t.minus?"-":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function c(t){var c=(t=ii(t)).fill,h=t.align,d=t.sign,u=t.symbol,p=t.zero,f=t.width,_=t.comma,m=t.precision,g=t.trim,y=t.type;"n"===y?(_=!0,y="g"):fi[y]||(void 0===m&&(m=12),g=!0,y="g"),(p||"0"===c&&"="===h)&&(p=!0,c="0",h="=");var v="$"===u?n:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===u?r:/[%p]/.test(y)?o:"",w=fi[y],x=/[defgprs%]/.test(y);function C(t){var n,r,o,u=v,C=b;if("c"===y)C=w(t)+C,t="";else{var S=(t=+t)<0;if(t=isNaN(t)?l:w(Math.abs(t),m),g&&(t=ui(t)),S&&0==+t&&(S=!1),u=(S?"("===d?d:a:"-"===d||"("===d?"":d)+u,C=("s"===y?gi[8+oi/3]:"")+C+(S&&"("===d?")":""),x)for(n=-1,r=t.length;++n<r;)if(48>(o=t.charCodeAt(n))||o>57){C=(46===o?i+t.slice(n+1):t.slice(n))+C,t=t.slice(0,n);break}}_&&!p&&(t=e(t,1/0));var A=u.length+t.length+C.length,T=A<f?new Array(f-A+1).join(c):"";switch(_&&p&&(t=e(T+t,T.length?f-C.length:1/0),T=""),h){case"<":t=u+t+C+T;break;case"=":t=u+T+t+C;break;case"^":t=T.slice(0,A=T.length>>1)+u+t+C+T.slice(A);break;default:t=T+u+t+C}return s(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),C.toString=function(){return t+""},C}return{format:c,formatPrefix:function(t,e){var n=c(((t=ii(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(di(e)/3))),i=Math.pow(10,-r),s=gi[8+r/3];return function(t){return n(i*t)+s}}}};!function(t){ai=yi(t),li=ai.format,ci=ai.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var vi=function(t,e,n,r){var i,s=Et(t,e,n);switch((r=ii(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(di(e)/3)))-di(Math.abs(t)))}(s,o))||(r.precision=i),ci(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,di(e)-di(t))+1}(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-di(Math.abs(t)))}(s))||(r.precision=i-2*("%"===r.type))}return li(r)};function bi(t){var e=t.domain;return t.ticks=function(t){var n=e();return Tt(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return vi(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),s=0,o=i.length-1,a=i[s],l=i[o];return l<a&&(r=a,a=l,l=r,r=s,s=o,o=r),(r=Pt(a,l,n))>0?r=Pt(a=Math.floor(a/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=Pt(a=Math.ceil(a*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[s]=Math.floor(a/r)*r,i[o]=Math.ceil(l/r)*r,e(i)):r<0&&(i[s]=Math.ceil(a*r)/r,i[o]=Math.floor(l*r)/r,e(i)),t},t}var wi=new Date,xi=new Date;function Ci(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,s){var o,a=[];if(n=i.ceil(n),s=null==s?1:Math.floor(s),!(n<r&&s>0))return a;do{a.push(o=new Date(+n)),e(n,s),t(n)}while(o<n&&n<r);return a},i.filter=function(n){return Ci(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return wi.setTime(+e),xi.setTime(+r),t(wi),t(xi),Math.floor(n(wi,xi))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Si=Ci(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Si.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ci(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Ai=Si,Ti=(Si.range,Ci(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Pi=(Ti.range,6e4),Ei=6048e5;function Ii(t){return Ci(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/Ei})}var Ni=Ii(0),Mi=Ii(1),Oi=Ii(2),Ri=Ii(3),ki=Ii(4),zi=Ii(5),Di=Ii(6),Li=(Ni.range,Mi.range,Oi.range,Ri.range,ki.range,zi.range,Di.range,Ci(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/864e5},function(t){return t.getDate()-1})),Fi=Li,Hi=(Li.range,Ci(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*Pi)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()})),Bi=(Hi.range,Ci(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*Pi)},function(t,e){return(e-t)/Pi},function(t){return t.getMinutes()})),Vi=(Bi.range,Ci(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()})),Ui=(Vi.range,Ci(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t}));Ui.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ci(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ui:null};Ui.range;function $i(t){return Ci(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Ei})}var ji=$i(0),qi=$i(1),Gi=$i(2),Yi=$i(3),Wi=$i(4),Xi=$i(5),Ji=$i(6),Ki=(ji.range,qi.range,Gi.range,Yi.range,Wi.range,Xi.range,Ji.range,Ci(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1})),Zi=Ki,Qi=(Ki.range,Ci(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));Qi.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ci(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var ts=Qi;Qi.range;function es(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ns(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rs(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var is,ss={"-":"",_:" ",0:"0"},os=/^\s*\d+/,as=/^%/,ls=/[\\^$*+?|[\]().{}]/g;function cs(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function hs(t){return t.replace(ls,"\\$&")}function ds(t){return new RegExp("^(?:"+t.map(hs).join("|")+")","i")}function us(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ps(t,e,n){var r=os.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fs(t,e,n){var r=os.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function _s(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ms(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gs(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ys(t,e,n){var r=os.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function vs(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bs(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ws(t,e,n){var r=os.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function xs(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Cs(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ss(t,e,n){var r=os.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function As(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ts(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ps(t,e,n){var r=os.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Es(t,e,n){var r=os.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Is(t,e,n){var r=os.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ns(t,e,n){var r=as.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ms(t,e,n){var r=os.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Os(t,e,n){var r=os.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Rs(t,e){return cs(t.getDate(),e,2)}function ks(t,e){return cs(t.getHours(),e,2)}function zs(t,e){return cs(t.getHours()%12||12,e,2)}function Ds(t,e){return cs(1+Fi.count(Ai(t),t),e,3)}function Ls(t,e){return cs(t.getMilliseconds(),e,3)}function Fs(t,e){return Ls(t,e)+"000"}function Hs(t,e){return cs(t.getMonth()+1,e,2)}function Bs(t,e){return cs(t.getMinutes(),e,2)}function Vs(t,e){return cs(t.getSeconds(),e,2)}function Us(t){var e=t.getDay();return 0===e?7:e}function $s(t,e){return cs(Ni.count(Ai(t)-1,t),e,2)}function js(t,e){var n=t.getDay();return t=n>=4||0===n?ki(t):ki.ceil(t),cs(ki.count(Ai(t),t)+(4===Ai(t).getDay()),e,2)}function qs(t){return t.getDay()}function Gs(t,e){return cs(Mi.count(Ai(t)-1,t),e,2)}function Ys(t,e){return cs(t.getFullYear()%100,e,2)}function Ws(t,e){return cs(t.getFullYear()%1e4,e,4)}function Xs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+cs(e/60|0,"0",2)+cs(e%60,"0",2)}function Js(t,e){return cs(t.getUTCDate(),e,2)}function Ks(t,e){return cs(t.getUTCHours(),e,2)}function Zs(t,e){return cs(t.getUTCHours()%12||12,e,2)}function Qs(t,e){return cs(1+Zi.count(ts(t),t),e,3)}function to(t,e){return cs(t.getUTCMilliseconds(),e,3)}function eo(t,e){return to(t,e)+"000"}function no(t,e){return cs(t.getUTCMonth()+1,e,2)}function ro(t,e){return cs(t.getUTCMinutes(),e,2)}function io(t,e){return cs(t.getUTCSeconds(),e,2)}function so(t){var e=t.getUTCDay();return 0===e?7:e}function oo(t,e){return cs(ji.count(ts(t)-1,t),e,2)}function ao(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Wi(t):Wi.ceil(t),cs(Wi.count(ts(t),t)+(4===ts(t).getUTCDay()),e,2)}function lo(t){return t.getUTCDay()}function co(t,e){return cs(qi.count(ts(t)-1,t),e,2)}function ho(t,e){return cs(t.getUTCFullYear()%100,e,2)}function uo(t,e){return cs(t.getUTCFullYear()%1e4,e,4)}function po(){return"+0000"}function fo(){return"%"}function _o(t){return+t}function mo(t){return Math.floor(+t/1e3)}!function(t){is=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=ds(i),h=us(i),d=ds(s),u=us(s),p=ds(o),f=us(o),_=ds(a),m=us(a),g=ds(l),y=us(l),v={a:function(t){return o[t.getDay()]},A:function(t){return s[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:Rs,e:Rs,f:Fs,H:ks,I:zs,j:Ds,L:Ls,m:Hs,M:Bs,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:_o,s:mo,S:Vs,u:Us,U:$s,V:js,w:qs,W:Gs,x:null,X:null,y:Ys,Y:Ws,Z:Xs,"%":fo},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return s[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Js,e:Js,f:eo,H:Ks,I:Zs,j:Qs,L:to,m:no,M:ro,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:_o,s:mo,S:io,u:so,U:oo,V:ao,w:lo,W:co,x:null,X:null,y:ho,Y:uo,Z:po,"%":fo},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=u[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:Cs,e:Cs,f:Is,H:As,I:As,j:Ss,L:Es,m:xs,M:Ts,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},q:ws,Q:Ms,s:Os,S:Ps,u:fs,U:_s,V:ms,w:ps,W:gs,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:vs,Y:ys,Z:bs,"%":Ns};function x(t,e){return function(n){var r,i,s,o=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++a<c;)37===t.charCodeAt(a)&&(o.push(t.slice(l,a)),null!=(i=ss[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(s=e[r])&&(r=s(n,i)),o.push(r),l=a+1);return o.push(t.slice(l,a)),o.join("")}}function C(t,e){return function(n){var r,i,s=rs(1900,void 0,1);if(S(s,t,n+="",0)!=n.length)return null;if("Q"in s)return new Date(s.Q);if("s"in s)return new Date(1e3*s.s+("L"in s?s.L:0));if(!e||"Z"in s||(s.Z=0),"p"in s&&(s.H=s.H%12+12*s.p),void 0===s.m&&(s.m="q"in s?s.q:0),"V"in s){if(s.V<1||s.V>53)return null;"w"in s||(s.w=1),"Z"in s?(r=(i=(r=ns(rs(s.y,0,1))).getUTCDay())>4||0===i?qi.ceil(r):qi(r),r=Zi.offset(r,7*(s.V-1)),s.y=r.getUTCFullYear(),s.m=r.getUTCMonth(),s.d=r.getUTCDate()+(s.w+6)%7):(r=(i=(r=es(rs(s.y,0,1))).getDay())>4||0===i?Mi.ceil(r):Mi(r),r=Fi.offset(r,7*(s.V-1)),s.y=r.getFullYear(),s.m=r.getMonth(),s.d=r.getDate()+(s.w+6)%7)}else("W"in s||"U"in s)&&("w"in s||(s.w="u"in s?s.u%7:"W"in s?1:0),i="Z"in s?ns(rs(s.y,0,1)).getUTCDay():es(rs(s.y,0,1)).getDay(),s.m=0,s.d="W"in s?(s.w+6)%7+7*s.W-(i+5)%7:s.w+7*s.U-(i+6)%7);return"Z"in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,ns(s)):es(s)}}function S(t,e,n,r){for(var i,s,o=0,a=e.length,l=n.length;o<a;){if(r>=l)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(s=w[i in ss?e.charAt(o++):i])||(r=s(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},parse:function(t){var e=C(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=C(t+="",!0);return e.toString=function(){return t},e}}}(t),is.format,is.parse,is.utcFormat,is.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var go=Ci(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),yo=(go.range,Ci(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()})),vo=(yo.range,Ci(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Pi)},function(t,e){return(e-t)/Pi},function(t){return t.getUTCMinutes()}));vo.range;var bo=function(t){return function(){return t}},wo=Math.abs,xo=Math.atan2,Co=Math.cos,So=Math.max,Ao=Math.min,To=Math.sin,Po=Math.sqrt,Eo=1e-12,Io=Math.PI,No=Io/2,Mo=2*Io;function Oo(t){return t>=1?No:t<=-1?-No:Math.asin(t)}function Ro(t){return t.innerRadius}function ko(t){return t.outerRadius}function zo(t){return t.startAngle}function Do(t){return t.endAngle}function Lo(t){return t&&t.padAngle}function Fo(t,e,n,r,i,s,o){var a=t-n,l=e-r,c=(o?s:-s)/Po(a*a+l*l),h=c*l,d=-c*a,u=t+h,p=e+d,f=n+h,_=r+d,m=(u+f)/2,g=(p+_)/2,y=f-u,v=_-p,b=y*y+v*v,w=i-s,x=u*_-f*p,C=(v<0?-1:1)*Po(So(0,w*w*b-x*x)),S=(x*v-y*C)/b,A=(-x*y-v*C)/b,T=(x*v+y*C)/b,P=(-x*y+v*C)/b,E=S-m,I=A-g,N=T-m,M=P-g;return E*E+I*I>N*N+M*M&&(S=T,A=P),{cx:S,cy:A,x01:-h,y01:-d,x11:S*(i/w-1),y11:A*(i/w-1)}}var Ho=function(){var t=Ro,e=ko,n=bo(0),r=null,i=zo,s=Do,o=Lo,a=null;function l(){var l,c,h=+t.apply(this,arguments),d=+e.apply(this,arguments),u=i.apply(this,arguments)-No,p=s.apply(this,arguments)-No,f=wo(p-u),_=p>u;if(a||(a=l=yr()),d<h&&(c=d,d=h,h=c),d>Eo)if(f>Mo-Eo)a.moveTo(d*Co(u),d*To(u)),a.arc(0,0,d,u,p,!_),h>Eo&&(a.moveTo(h*Co(p),h*To(p)),a.arc(0,0,h,p,u,_));else{var m,g,y=u,v=p,b=u,w=p,x=f,C=f,S=o.apply(this,arguments)/2,A=S>Eo&&(r?+r.apply(this,arguments):Po(h*h+d*d)),T=Ao(wo(d-h)/2,+n.apply(this,arguments)),P=T,E=T;if(A>Eo){var I=Oo(A/h*To(S)),N=Oo(A/d*To(S));(x-=2*I)>Eo?(b+=I*=_?1:-1,w-=I):(x=0,b=w=(u+p)/2),(C-=2*N)>Eo?(y+=N*=_?1:-1,v-=N):(C=0,y=v=(u+p)/2)}var M=d*Co(y),O=d*To(y),R=h*Co(w),k=h*To(w);if(T>Eo){var z,D=d*Co(v),L=d*To(v),F=h*Co(b),H=h*To(b);if(f<Io&&(z=function(t,e,n,r,i,s,o,a){var l=n-t,c=r-e,h=o-i,d=a-s,u=d*l-h*c;if(!(u*u<Eo))return[t+(u=(h*(e-s)-d*(t-i))/u)*l,e+u*c]}(M,O,F,H,D,L,R,k))){var B=M-z[0],V=O-z[1],U=D-z[0],$=L-z[1],j=1/To(function(t){return t>1?0:t<-1?Io:Math.acos(t)}((B*U+V*$)/(Po(B*B+V*V)*Po(U*U+$*$)))/2),q=Po(z[0]*z[0]+z[1]*z[1]);P=Ao(T,(h-q)/(j-1)),E=Ao(T,(d-q)/(j+1))}}C>Eo?E>Eo?(m=Fo(F,H,M,O,d,E,_),g=Fo(D,L,R,k,d,E,_),a.moveTo(m.cx+m.x01,m.cy+m.y01),E<T?a.arc(m.cx,m.cy,E,xo(m.y01,m.x01),xo(g.y01,g.x01),!_):(a.arc(m.cx,m.cy,E,xo(m.y01,m.x01),xo(m.y11,m.x11),!_),a.arc(0,0,d,xo(m.cy+m.y11,m.cx+m.x11),xo(g.cy+g.y11,g.cx+g.x11),!_),a.arc(g.cx,g.cy,E,xo(g.y11,g.x11),xo(g.y01,g.x01),!_))):(a.moveTo(M,O),a.arc(0,0,d,y,v,!_)):a.moveTo(M,O),h>Eo&&x>Eo?P>Eo?(m=Fo(R,k,D,L,h,-P,_),g=Fo(M,O,F,H,h,-P,_),a.lineTo(m.cx+m.x01,m.cy+m.y01),P<T?a.arc(m.cx,m.cy,P,xo(m.y01,m.x01),xo(g.y01,g.x01),!_):(a.arc(m.cx,m.cy,P,xo(m.y01,m.x01),xo(m.y11,m.x11),!_),a.arc(0,0,h,xo(m.cy+m.y11,m.cx+m.x11),xo(g.cy+g.y11,g.cx+g.x11),_),a.arc(g.cx,g.cy,P,xo(g.y11,g.x11),xo(g.y01,g.x01),!_))):a.arc(0,0,h,w,b,_):a.lineTo(R,k)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +s.apply(this,arguments))/2-Io/2;return[Co(r)*n,To(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:bo(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:bo(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:bo(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:bo(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:bo(+t),l):i},l.endAngle=function(t){return arguments.length?(s="function"==typeof t?t:bo(+t),l):s},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:bo(+t),l):o},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l},Bo=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Vo=function(t){return t},Uo=function(){var t=Vo,e=Bo,n=null,r=bo(0),i=bo(Mo),s=bo(0);function o(o){var a,l,c,h,d,u=o.length,p=0,f=new Array(u),_=new Array(u),m=+r.apply(this,arguments),g=Math.min(Mo,Math.max(-Mo,i.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/u,s.apply(this,arguments)),v=y*(g<0?-1:1);for(a=0;a<u;++a)(d=_[f[a]=a]=+t(o[a],a,o))>0&&(p+=d);for(null!=e?f.sort(function(t,n){return e(_[t],_[n])}):null!=n&&f.sort(function(t,e){return n(o[t],o[e])}),a=0,c=p?(g-u*v)/p:0;a<u;++a,m=h)l=f[a],h=m+((d=_[l])>0?d*c:0)+v,_[l]={data:o[l],index:a,value:d,startAngle:m,endAngle:h,padAngle:y};return _}return o.value=function(e){return arguments.length?(t="function"==typeof e?e:bo(+e),o):t},o.sortValues=function(t){return arguments.length?(e=t,n=null,o):e},o.sort=function(t){return arguments.length?(n=t,e=null,o):n},o.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),o):r},o.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:bo(+t),o):i},o.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:bo(+t),o):s},o};function $o(){this._=null}function jo(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function qo(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Go(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Yo(t){for(;t.L;)t=t.L;return t}$o.prototype={constructor:$o,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Yo(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(qo(this,n),n=(t=n).U),n.C=!1,r.C=!0,Go(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Go(this,n),n=(t=n).U),n.C=!1,r.C=!0,qo(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,s=t.L,o=t.R;if(n=s?o?Yo(o):s:o,i?i.L===t?i.L=n:i.R=n:this._=n,s&&o?(r=n.C,n.C=t.C,n.L=s,s.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,qo(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Go(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,qo(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Go(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,qo(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Go(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Wo=$o;function Xo(t,e,n,r){var i=[null,null],s=ga.push(i)-1;return i.left=t,i.right=e,n&&Ko(i,t,e,n),r&&Ko(i,e,t,r),_a[t.index].halfedges.push(s),_a[e.index].halfedges.push(s),i}function Jo(t,e,n){var r=[e,n];return r.left=t,r}function Ko(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Zo(t,e,n,r,i){var s,o=t[0],a=t[1],l=o[0],c=o[1],h=0,d=1,u=a[0]-l,p=a[1]-c;if(s=e-l,u||!(s>0)){if(s/=u,u<0){if(s<h)return;s<d&&(d=s)}else if(u>0){if(s>d)return;s>h&&(h=s)}if(s=r-l,u||!(s<0)){if(s/=u,u<0){if(s>d)return;s>h&&(h=s)}else if(u>0){if(s<h)return;s<d&&(d=s)}if(s=n-c,p||!(s>0)){if(s/=p,p<0){if(s<h)return;s<d&&(d=s)}else if(p>0){if(s>d)return;s>h&&(h=s)}if(s=i-c,p||!(s<0)){if(s/=p,p<0){if(s>d)return;s>h&&(h=s)}else if(p>0){if(s<h)return;s<d&&(d=s)}return!(h>0||d<1)||(h>0&&(t[0]=[l+h*u,c+h*p]),d<1&&(t[1]=[l+d*u,c+d*p]),!0)}}}}}function Qo(t,e,n,r,i){var s=t[1];if(s)return!0;var o,a,l=t[0],c=t.left,h=t.right,d=c[0],u=c[1],p=h[0],f=h[1],_=(d+p)/2,m=(u+f)/2;if(f===u){if(_<e||_>=r)return;if(d>p){if(l){if(l[1]>=i)return}else l=[_,n];s=[_,i]}else{if(l){if(l[1]<n)return}else l=[_,i];s=[_,n]}}else if(a=m-(o=(d-p)/(f-u))*_,o<-1||o>1)if(d>p){if(l){if(l[1]>=i)return}else l=[(n-a)/o,n];s=[(i-a)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-a)/o,i];s=[(n-a)/o,n]}else if(u<f){if(l){if(l[0]>=r)return}else l=[e,o*e+a];s=[r,o*r+a]}else{if(l){if(l[0]<e)return}else l=[r,o*r+a];s=[e,o*e+a]}return t[0]=l,t[1]=s,!0}function ta(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function ea(t,e){return e[+(e.left!==t.site)]}function na(t,e){return e[+(e.left===t.site)]}var ra,ia=[];function sa(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,s=n.site;if(r!==s){var o=i[0],a=i[1],l=r[0]-o,c=r[1]-a,h=s[0]-o,d=s[1]-a,u=2*(l*d-c*h);if(!(u>=-va)){var p=l*l+c*c,f=h*h+d*d,_=(d*p-c*f)/u,m=(l*f-h*p)/u,g=ia.pop()||new function(){jo(this),this.x=this.y=this.arc=this.site=this.cy=null};g.arc=t,g.site=i,g.x=_+o,g.y=(g.cy=m+a)+Math.sqrt(_*_+m*m),t.circle=g;for(var y=null,v=ma._;v;)if(g.y<v.y||g.y===v.y&&g.x<=v.x){if(!v.L){y=v.P;break}v=v.L}else{if(!v.R){y=v;break}v=v.R}ma.insert(y,g),y||(ra=g)}}}}function oa(t){var e=t.circle;e&&(e.P||(ra=e.N),ma.remove(e),ia.push(e),jo(e),t.circle=null)}var aa=[];function la(t){var e=aa.pop()||new function(){jo(this),this.edge=this.site=this.circle=null};return e.site=t,e}function ca(t){oa(t),fa.remove(t),aa.push(t),jo(t)}function ha(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],s=t.P,o=t.N,a=[t];ca(t);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<ya&&Math.abs(r-l.circle.cy)<ya;)s=l.P,a.unshift(l),ca(l),l=s;a.unshift(l),oa(l);for(var c=o;c.circle&&Math.abs(n-c.circle.x)<ya&&Math.abs(r-c.circle.cy)<ya;)o=c.N,a.push(c),ca(c),c=o;a.push(c),oa(c);var h,d=a.length;for(h=1;h<d;++h)c=a[h],l=a[h-1],Ko(c.edge,l.site,c.site,i);l=a[0],(c=a[d-1]).edge=Xo(l.site,c.site,null,i),sa(l),sa(c)}function da(t){for(var e,n,r,i,s=t[0],o=t[1],a=fa._;a;)if((r=ua(a,o)-s)>ya)a=a.L;else{if(!((i=s-pa(a,o))>ya)){r>-ya?(e=a.P,n=a):i>-ya?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){_a[t.index]={site:t,halfedges:[]}}(t);var l=la(t);if(fa.insert(e,l),e||n){if(e===n)return oa(e),n=la(e.site),fa.insert(l,n),l.edge=n.edge=Xo(e.site,l.site),sa(e),void sa(n);if(n){oa(e),oa(n);var c=e.site,h=c[0],d=c[1],u=t[0]-h,p=t[1]-d,f=n.site,_=f[0]-h,m=f[1]-d,g=2*(u*m-p*_),y=u*u+p*p,v=_*_+m*m,b=[(m*y-p*v)/g+h,(u*v-_*y)/g+d];Ko(n.edge,c,f,b),l.edge=Xo(c,t,null,b),n.edge=Xo(t,f,null,b),sa(e),sa(n)}else l.edge=Xo(e.site,l.site)}}function ua(t,e){var n=t.site,r=n[0],i=n[1],s=i-e;if(!s)return r;var o=t.P;if(!o)return-1/0;var a=(n=o.site)[0],l=n[1],c=l-e;if(!c)return a;var h=a-r,d=1/s-1/c,u=h/c;return d?(-u+Math.sqrt(u*u-2*d*(h*h/(-2*c)-l+c/2+i-s/2)))/d+r:(r+a)/2}function pa(t,e){var n=t.N;if(n)return ua(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var fa,_a,ma,ga,ya=1e-6,va=1e-12;function ba(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function wa(t,e){return e[1]-t[1]||e[0]-t[0]}function xa(t,e){var n,r,i,s=t.sort(wa).pop();for(ga=[],_a=new Array(t.length),fa=new Wo,ma=new Wo;;)if(i=ra,s&&(!i||s[1]<i.y||s[1]===i.y&&s[0]<i.x))s[0]===n&&s[1]===r||(da(s),n=s[0],r=s[1]),s=t.pop();else{if(!i)break;ha(i.arc)}if(function(){for(var t,e,n,r,i=0,s=_a.length;i<s;++i)if((t=_a[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),a=new Array(r);for(n=0;n<r;++n)o[n]=n,a[n]=ta(t,ga[e[n]]);for(o.sort(function(t,e){return a[e]-a[t]}),n=0;n<r;++n)a[n]=e[o[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var o=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,s=ga.length;s--;)Qo(i=ga[s],t,e,n,r)&&Zo(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ya||Math.abs(i[0][1]-i[1][1])>ya)||delete ga[s]}(o,a,l,c),function(t,e,n,r){var i,s,o,a,l,c,h,d,u,p,f,_,m=_a.length,g=!0;for(i=0;i<m;++i)if(s=_a[i]){for(o=s.site,a=(l=s.halfedges).length;a--;)ga[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)f=(p=na(s,ga[l[a]]))[0],_=p[1],d=(h=ea(s,ga[l[++a%c]]))[0],u=h[1],(Math.abs(f-d)>ya||Math.abs(_-u)>ya)&&(l.splice(a,0,ga.push(Jo(o,p,Math.abs(f-t)<ya&&r-_>ya?[t,Math.abs(d-t)<ya?u:r]:Math.abs(_-r)<ya&&n-f>ya?[Math.abs(u-r)<ya?d:n,r]:Math.abs(f-n)<ya&&_-e>ya?[n,Math.abs(d-n)<ya?u:e]:Math.abs(_-e)<ya&&f-t>ya?[Math.abs(u-e)<ya?d:t,e]:null))-1),++c);c&&(g=!1)}if(g){var y,v,b,w=1/0;for(i=0,g=null;i<m;++i)(s=_a[i])&&(b=(y=(o=s.site)[0]-t)*y+(v=o[1]-e)*v)<w&&(w=b,g=s);if(g){var x=[t,e],C=[t,r],S=[n,r],A=[n,e];g.halfedges.push(ga.push(Jo(o=g.site,x,C))-1,ga.push(Jo(o,C,S))-1,ga.push(Jo(o,S,A))-1,ga.push(Jo(o,A,x))-1)}}for(i=0;i<m;++i)(s=_a[i])&&(s.halfedges.length||delete _a[i])}(o,a,l,c)}this.edges=ga,this.cells=_a,fa=ma=ga=_a=null}xa.prototype={constructor:xa,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return ea(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(s=(i=n.halfedges).length)for(var i,s,o,a=n.site,l=-1,c=e[i[s-1]],h=c.left===a?c.right:c.left;++l<s;)o=h,h=(c=e[i[l]]).left===a?c.right:c.left,o&&h&&r<o.index&&r<h.index&&ba(a,o,h)<0&&t.push([a.data,o.data,h.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,s=this,o=s._found||0,a=s.cells.length;!(i=s.cells[o]);)if(++o>=a)return null;var l=t-i.site[0],c=e-i.site[1],h=l*l+c*c;do{i=s.cells[r=o],o=null,i.halfedges.forEach(function(n){var r=s.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var l=t-a[0],c=e-a[1],d=l*l+c*c;d<h&&(h=d,o=a.index)}})}while(null!==o);return s._found=r,null==n||h<=n*n?i.site:null}};Math.SQRT2;function Ca(t,e,n){this.k=t,this.x=e,this.y=n}Ca.prototype={constructor:Ca,scale:function(t){return 1===t?this:new Ca(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ca(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Ca(1,0,0);Ca.prototype;customElements.define("lsg-pie",class extends dt{static get properties(){return{dataPoints:{type:Array},maxRadius:{type:Number,attribute:"angle"}}}constructor(){super(),this.firsttime=1,this.degrees=10,this.NR_ELEMENTS=360/this.degrees,this.dataForColering=null,this.dataSizeElements=null,this._handleClick=this._handleClick.bind(this)}createRenderRoot(){return this}render(){return 0===this.firsttime&&this.doUpdate(this.dataPoints),D`
            <div>
           
            </div>
            `}firstUpdated(t){this.firsttime=0;var e=Se("div").append("svg").attr("id","TEST");e.classed("svg-container",!0).attr("viewBox","0 0 220 220").classed("svg-content-responsive",!0);for(var n=Math.min(175,175)/2,r=10..toString(),i=e.append("g").attr("transform","translate(100,100)"),s=[],o=0;o<this.NR_ELEMENTS;o++)s.push(o);var a=function t(){var e,n=0,r=1,i=1,s=[.5],o=[0,1];function a(t){return t<=t?o[wt(s,t,0,i)]:e}function l(){var t=-1;for(s=new Array(i);++t<i;)s[t]=((t+1)*r-(t-i)*n)/(i+1);return a}return a.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],l()):[n,r]},a.range=function(t){return arguments.length?(i=(o=ni.call(t)).length-1,l()):o.slice()},a.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,s[0]]:e>=i?[s[i-1],r]:[s[e-1],s[e]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return s.slice()},a.copy=function(){return t().domain([n,r]).range(o).unknown(e)},ti.apply(bi(a),arguments)}().range(["#fff5f0","#fff4ef","#fff4ee","#fff3ed","#fff2ec","#fff2eb","#fff1ea","#fff0e9","#fff0e8","#ffefe7","#ffeee6","#ffeee6","#ffede5","#ffece4","#ffece3","#ffebe2","#feeae1","#fee9e0","#fee9de","#fee8dd","#fee7dc","#fee6db","#fee6da","#fee5d9","#fee4d8","#fee3d7","#fee2d6","#fee2d5","#fee1d4","#fee0d2","#fedfd1","#feded0","#feddcf","#fedccd","#fedbcc","#fedacb","#fed9ca","#fed8c8","#fed7c7","#fdd6c6","#fdd5c4","#fdd4c3","#fdd3c1","#fdd2c0","#fdd1bf","#fdd0bd","#fdcfbc","#fdceba","#fdcdb9","#fdccb7","#fdcbb6","#fdc9b4","#fdc8b3","#fdc7b2","#fdc6b0","#fdc5af","#fdc4ad","#fdc2ac","#fdc1aa","#fdc0a8","#fcbfa7","#fcbea5","#fcbca4","#fcbba2","#fcbaa1","#fcb99f","#fcb89e","#fcb69c","#fcb59b","#fcb499","#fcb398","#fcb196","#fcb095","#fcaf94","#fcae92","#fcac91","#fcab8f","#fcaa8e","#fca98c","#fca78b","#fca689","#fca588","#fca486","#fca285","#fca183","#fca082","#fc9e81","#fc9d7f","#fc9c7e","#fc9b7c","#fc997b","#fc987a","#fc9778","#fc9677","#fc9475","#fc9374","#fc9273","#fc9071","#fc8f70","#fc8e6f","#fc8d6d","#fc8b6c","#fc8a6b","#fc8969","#fc8868","#fc8667","#fc8565","#fc8464","#fb8263","#fb8162","#fb8060","#fb7f5f","#fb7d5e","#fb7c5d","#fb7b5b","#fb795a","#fb7859","#fb7758","#fb7657","#fb7455","#fa7354","#fa7253","#fa7052","#fa6f51","#fa6e50","#fa6c4e","#f96b4d","#f96a4c","#f9684b","#f9674a","#f96549","#f86448","#f86347","#f86146","#f86045","#f75e44","#f75d43","#f75c42","#f65a41","#f65940","#f6573f","#f5563e","#f5553d","#f4533c","#f4523b","#f4503a","#f34f39","#f34e38","#f24c37","#f24b37","#f14936","#f14835","#f04734","#ef4533","#ef4433","#ee4332","#ed4131","#ed4030","#ec3f2f","#eb3d2f","#eb3c2e","#ea3b2d","#e93a2d","#e8382c","#e7372b","#e6362b","#e6352a","#e5342a","#e43229","#e33128","#e23028","#e12f27","#e02e27","#df2d26","#de2c26","#dd2b25","#dc2a25","#db2924","#da2824","#d92723","#d72623","#d62522","#d52422","#d42321","#d32221","#d22121","#d12020","#d01f20","#ce1f1f","#cd1e1f","#cc1d1f","#cb1d1e","#ca1c1e","#c91b1e","#c71b1d","#c61a1d","#c5191d","#c4191c","#c3181c","#c2181c","#c0171b","#bf171b","#be161b","#bd161a","#bb151a","#ba151a","#b91419","#b81419","#b61419","#b51319","#b41318","#b21218","#b11218","#b01218","#ae1117","#ad1117","#ac1117","#aa1017","#a91016","#a71016","#a60f16","#a40f16","#a30e15","#a10e15","#a00e15","#9e0d15","#9c0d14","#9b0c14","#990c14","#970c14","#960b13","#940b13","#920a13","#900a13","#8f0a12","#8d0912","#8b0912","#890812","#870811","#860711","#840711","#820711","#800610","#7e0610","#7c0510","#7a0510","#78040f","#76040f","#75030f","#73030f","#71020e","#6f020e","#6d010e","#6b010e","#69000d","#67000d"]);a.domain([Nt(s,function(t){return t}),It(s,function(t){return t})]);var l=Array(this.NR_ELEMENTS).fill(this.degrees),c=Uo().sort(null).value(function(t){return t}),h=Ho().outerRadius(n-10).innerRadius(n-50),d=Ho().outerRadius(n).innerRadius(n);console.log(d);var u=d({startAngle:0,endAngle:2*Math.PI});console.log(u),e.append("path").attr("id","wavy").attr("d",u).style("fill","none").style("stroke","#0AAAAA").style("stroke-opacity",0).attr("transform","translate(100,100)"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","12.5%").attr("font-size",r).text("zijligging rechts"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","37.5%").attr("font-size",r).text("zijligging links"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","37.5%").attr("font-size",r).text("zijligging links"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","right").attr("startOffset","48.5%").attr("font-size",r).text("rug "),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","left").attr("startOffset","0%").attr("font-size",r).text("ligging"),e.append("text").append("textPath").attr("xlink:href","#wavy").style("text-anchor","middle").attr("startOffset","75%").attr("font-size",r).text("buik ligging");var p=i.selectAll(".arc").data(c(l)).enter().append("g").attr("class","arc");for(p.append("path").attr("d",h).attr("fill",function(t,e){return a(s[e])}).on("click",this._handleClick),o=0;o<this.NR_ELEMENTS;o++)s[o]=0;this.dataForColering=s,this.width=200,this.height=200,this.arc=p,this.path=h,this.color=a}_handleClick(){this.doUpdate()}doUpdate(t){var e=this.color,n=this.dataForColering,r=t[0]/this.degrees;r=Math.floor(r),n[r]=n[r]+20,e.domain([Nt(n,function(t){return t}),It(n,function(t){return t})]),Se("div").select("svg").selectAll("path").attr("fill",function(t,r){return e(n[r])}),n[r]=n[r]-19}});customElements.define("vaadin-lumo-styles",class extends HTMLElement{static get version(){return"1.5.0"}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Sa,Aa=null,Ta=window.HTMLImports&&window.HTMLImports.whenReady||null;function Pa(t){requestAnimationFrame(function(){Ta?Ta(t):(Aa||(Aa=new Promise(t=>{Sa=t}),"complete"===document.readyState?Sa():document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&Sa()})),Aa.then(function(){t&&t()}))})}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ea="__seenByShadyCSS",Ia="__shadyCSSCachedStyle";let Na=null,Ma=null;class Oa{constructor(){this.customStyles=[],this.enqueued=!1,Pa(()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}enqueueDocumentValidation(){!this.enqueued&&Ma&&(this.enqueued=!0,Pa(Ma))}addCustomStyle(t){t[Ea]||(t[Ea]=!0,this.customStyles.push(t),this.enqueueDocumentValidation())}getStyleForCustomStyle(t){if(t[Ia])return t[Ia];let e;return e=t.getStyle?t.getStyle():t}processStyles(){const t=this.customStyles;for(let e=0;e<t.length;e++){const n=t[e];if(n[Ia])continue;const r=this.getStyleForCustomStyle(n);if(r){const t=r.__appliedElement||r;Na&&Na(t),n[Ia]=t}}return t}}Oa.prototype.addCustomStyle=Oa.prototype.addCustomStyle,Oa.prototype.getStyleForCustomStyle=Oa.prototype.getStyleForCustomStyle,Oa.prototype.processStyles=Oa.prototype.processStyles,Object.defineProperties(Oa.prototype,{transformCallback:{get:()=>Na,set(t){Na=t}},validateCallback:{get:()=>Ma,set(t){let e=!1;Ma||(e=!0),Ma=t,e&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Ra=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,ka=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,za=/@media\s(.*)/;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Da(t,e){for(let n in e)null===n?t.style.removeProperty(n):t.style.setProperty(n,e[n])}function La(t,e){const n=window.getComputedStyle(t).getPropertyValue(e);return n?n.trim():""}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Fa=!(window.ShadyDOM&&window.ShadyDOM.inUse);let Ha,Ba;function Va(t){Ha=(!t||!t.shimcssproperties)&&(Fa||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(Ba=window.ShadyCSS.cssBuild);const Ua=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?Ha=window.ShadyCSS.nativeCss:window.ShadyCSS?(Va(window.ShadyCSS),window.ShadyCSS=void 0):Va(window.WebComponents&&window.WebComponents.flags);const $a=Ha,ja=new Oa;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.ShadyCSS||(window.ShadyCSS={prepareTemplate(t,e,n){},prepareTemplateDom(t,e){},prepareTemplateStyles(t,e,n){},styleSubtree(t,e){ja.processStyles(),Da(t,e)},styleElement(t){ja.processStyles()},styleDocument(t){ja.processStyles(),Da(document.body,t)},getComputedStyleValue:(t,e)=>La(t,e),flushCustomStyles(){},nativeCss:$a,nativeShadow:Fa,cssBuild:Ba,disableRuntime:Ua}),window.ShadyCSS.CustomStyleInterface=ja,
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
window.JSCompiler_renameProperty=function(t,e){return t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let qa,Ga,Ya=/(url\()([^)]*)(\))/g,Wa=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function Xa(t,e){if(t&&Wa.test(t))return t;if("//"===t)return t;if(void 0===qa){qa=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",qa="http://a/c%20d"===t.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),qa)try{return new URL(t,e).href}catch(e){return t}return Ga||((Ga=document.implementation.createHTMLDocument("temp")).base=Ga.createElement("base"),Ga.head.appendChild(Ga.base),Ga.anchor=Ga.createElement("a"),Ga.body.appendChild(Ga.anchor)),Ga.base.href=e,Ga.anchor.href=t,Ga.anchor.href||t}function Ja(t,e){return t.replace(Ya,function(t,n,r,i){return n+"'"+Xa(r.replace(/["']/g,""),e)+"'"+i})}function Ka(t){return t.substring(0,t.lastIndexOf("/")+1)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Za=!window.ShadyDOM;Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback;let Qa=Ka(document.baseURI||window.location.href);let tl=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;let el=!1;let nl=!1;let rl=!1;let il=!1;let sl=!1;let ol=!0;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let al={},ll={};function cl(t,e){al[t]=ll[t.toLowerCase()]=e}function hl(t){return al[t]||ll[t.toLowerCase()]}class dl extends HTMLElement{static get observedAttributes(){return["id"]}static import(t,e){if(t){let n=hl(t);return n&&e?n.querySelector(e):n}return null}attributeChangedCallback(t,e,n,r){e!==n&&this.register()}get assetpath(){if(!this.__assetpath){const t=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,e=Xa(this.getAttribute("assetpath")||"",t.baseURI);this.__assetpath=Ka(e)}return this.__assetpath}register(t){if(t=t||this.id){if(nl&&void 0!==hl(t))throw cl(t,null),new Error(`strictTemplatePolicy: dom-module ${t} re-registered`);this.id=t,cl(t,this),function(t){t.querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}(this)}}}dl.prototype.modules=al,customElements.define("dom-module",dl);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const ul="link[rel=import][type~=css]",pl="include",fl="shady-unscoped";function _l(t){return dl.import(t)}function ml(t){const e=Ja((t.body?t.body:t).textContent,t.baseURI),n=document.createElement("style");return n.textContent=e,n}function gl(t){const e=t.trim().split(/\s+/),n=[];for(let t=0;t<e.length;t++)n.push(...yl(e[t]));return n}function yl(t){const e=_l(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(void 0===e._styles){const t=[];t.push(...bl(e));const n=e.querySelector("template");n&&t.push(...vl(n,e.assetpath)),e._styles=t}return e._styles}function vl(t,e){if(!t._styles){const n=[],r=t.content.querySelectorAll("style");for(let t=0;t<r.length;t++){let i=r[t],s=i.getAttribute(pl);s&&n.push(...gl(s).filter(function(t,e,n){return n.indexOf(t)===e})),e&&(i.textContent=Ja(i.textContent,e)),n.push(i)}t._styles=n}return t._styles}function bl(t){const e=[],n=t.querySelectorAll(ul);for(let t=0;t<n.length;t++){let r=n[t];if(r.import){const t=r.import,n=r.hasAttribute(fl);if(n&&!t._unscopedStyle){const e=ml(t);e.setAttribute(fl,""),t._unscopedStyle=e}else t._style||(t._style=ml(t));e.push(n?t._unscopedStyle:t._style)}}return e}function wl(t){let e=_l(t);if(e&&void 0===e._cssText){let t=xl(e),n=e.querySelector("template");n&&(t+=function(t,e){let n="";const r=vl(t,e);for(let t=0;t<r.length;t++){let e=r[t];e.parentNode&&e.parentNode.removeChild(e),n+=e.textContent}return n}(n,e.assetpath)),e._cssText=t||null}return e||console.warn("Could not find style data in module named",t),e&&e._cssText||""}function xl(t){let e="",n=bl(t);for(let t=0;t<n.length;t++)e+=n[t].textContent;return e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Cl="include",Sl=window.ShadyCSS.CustomStyleInterface;window.customElements.define("custom-style",class extends HTMLElement{constructor(){super(),this._style=null,Sl.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const t=this.querySelector("style");if(!t)return null;this._style=t;const e=t.getAttribute(Cl);return e&&(t.removeAttribute(Cl),t.textContent=function(t){let e=t.trim().split(/\s+/),n="";for(let t=0;t<e.length;t++)n+=wl(e[t]);return n}(e)+t.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}});const Al=document.createElement("template");Al.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Base (background) */\n      --lumo-base-color: #FFF;\n\n      /* Tint */\n      --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);\n      --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);\n      --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);\n      --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);\n      --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);\n      --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);\n      --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);\n      --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);\n      --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);\n      --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);\n      --lumo-tint: #FFF;\n\n      /* Shade */\n      --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);\n      --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);\n      --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);\n      --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);\n      --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);\n      --lumo-shade-50pct: hsla(214, 45%, 20%, 0.5);\n      --lumo-shade-60pct: hsla(214, 43%, 19%, 0.61);\n      --lumo-shade-70pct: hsla(214, 42%, 18%, 0.72);\n      --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);\n      --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);\n      --lumo-shade: hsl(214, 35%, 15%);\n\n      /* Contrast */\n      --lumo-contrast-5pct: var(--lumo-shade-5pct);\n      --lumo-contrast-10pct: var(--lumo-shade-10pct);\n      --lumo-contrast-20pct: var(--lumo-shade-20pct);\n      --lumo-contrast-30pct: var(--lumo-shade-30pct);\n      --lumo-contrast-40pct: var(--lumo-shade-40pct);\n      --lumo-contrast-50pct: var(--lumo-shade-50pct);\n      --lumo-contrast-60pct: var(--lumo-shade-60pct);\n      --lumo-contrast-70pct: var(--lumo-shade-70pct);\n      --lumo-contrast-80pct: var(--lumo-shade-80pct);\n      --lumo-contrast-90pct: var(--lumo-shade-90pct);\n      --lumo-contrast: var(--lumo-shade);\n\n      /* Text */\n      --lumo-header-text-color: var(--lumo-contrast);\n      --lumo-body-text-color: var(--lumo-contrast-90pct);\n      --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n      --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n      --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n      /* Primary */\n      --lumo-primary-color: hsl(214, 90%, 52%);\n      --lumo-primary-color-50pct: hsla(214, 90%, 52%, 0.5);\n      --lumo-primary-color-10pct: hsla(214, 90%, 52%, 0.1);\n      --lumo-primary-text-color: var(--lumo-primary-color);\n      --lumo-primary-contrast-color: #FFF;\n\n      /* Error */\n      --lumo-error-color: hsl(3, 100%, 61%);\n      --lumo-error-color-50pct: hsla(3, 100%, 60%, 0.5);\n      --lumo-error-color-10pct: hsla(3, 100%, 60%, 0.1);\n      --lumo-error-text-color: hsl(3, 92%, 53%);\n      --lumo-error-contrast-color: #FFF;\n\n      /* Success */\n      --lumo-success-color: hsl(145, 80%, 42%); /* hsl(144,82%,37%); */\n      --lumo-success-color-50pct: hsla(145, 76%, 44%, 0.55);\n      --lumo-success-color-10pct: hsla(145, 76%, 44%, 0.12);\n      --lumo-success-text-color: hsl(145, 100%, 32%);\n      --lumo-success-contrast-color: #FFF;\n    }\n  </style>\n</custom-style><dom-module id="lumo-color">\n  <template>\n    <style>\n      [theme~="dark"] {\n        /* Base (background) */\n        --lumo-base-color: hsl(214, 35%, 21%);\n\n        /* Tint */\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.6);\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.7);\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n        --lumo-tint: hsl(214, 100%, 98%);\n\n        /* Shade */\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n        --lumo-shade: hsl(214, 33%, 13%);\n\n        /* Contrast */\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\n        --lumo-contrast: var(--lumo-tint);\n\n        /* Text */\n        --lumo-header-text-color: var(--lumo-contrast);\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n        /* Primary */\n        --lumo-primary-color: hsl(214, 86%, 55%);\n        --lumo-primary-color-50pct: hsla(214, 86%, 55%, 0.5);\n        --lumo-primary-color-10pct: hsla(214, 90%, 63%, 0.1);\n        --lumo-primary-text-color: hsl(214, 100%, 70%);\n        --lumo-primary-contrast-color: #FFF;\n\n        /* Error */\n        --lumo-error-color: hsl(3, 90%, 63%);\n        --lumo-error-color-50pct: hsla(3, 90%, 63%, 0.5);\n        --lumo-error-color-10pct: hsla(3, 90%, 63%, 0.1);\n        --lumo-error-text-color: hsl(3, 100%, 67%);\n\n        /* Success */\n        --lumo-success-color: hsl(145, 65%, 42%);\n        --lumo-success-color-50pct: hsla(145, 65%, 42%, 0.5);\n        --lumo-success-color-10pct: hsla(145, 65%, 42%, 0.1);\n        --lumo-success-text-color: hsl(145, 85%, 47%);\n      }\n\n      html {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      [theme~="dark"] {\n        color: var(--lumo-body-text-color);\n        background-color: var(--lumo-base-color);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        color: var(--lumo-header-text-color);\n      }\n\n      a {\n        color: var(--lumo-primary-text-color);\n      }\n\n      blockquote {\n        color: var(--lumo-secondary-text-color);\n      }\n\n      code,\n      pre {\n        background-color: var(--lumo-contrast-10pct);\n        border-radius: var(--lumo-border-radius-m);\n      }\n    </style>\n  </template>\n</dom-module><dom-module id="lumo-color-legacy">\n  <template>\n    <style include="lumo-color">\n      :host {\n        color: var(--lumo-body-text-color) !important;\n        background-color: var(--lumo-base-color) !important;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(Al.content);const Tl=document.createElement("template");Tl.innerHTML="<custom-style>\n  <style>\n    html {\n      --lumo-size-xs: 1.625rem;\n      --lumo-size-s: 1.875rem;\n      --lumo-size-m: 2.25rem;\n      --lumo-size-l: 2.75rem;\n      --lumo-size-xl: 3.5rem;\n\n      /* Icons */\n      --lumo-icon-size-s: 1.25em;\n      --lumo-icon-size-m: 1.5em;\n      --lumo-icon-size-l: 2.25em;\n      /* For backwards compatibility */\n      --lumo-icon-size: var(--lumo-icon-size-m);\n    }\n  </style>\n</custom-style>",document.head.appendChild(Tl.content);const Pl=document.createElement("template");Pl.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Square */\n      --lumo-space-xs: 0.25rem;\n      --lumo-space-s: 0.5rem;\n      --lumo-space-m: 1rem;\n      --lumo-space-l: 1.5rem;\n      --lumo-space-xl: 2.5rem;\n\n      /* Wide */\n      --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);\n      --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);\n      --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);\n      --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);\n      --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);\n\n      /* Tall */\n      --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);\n      --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);\n      --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);\n      --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);\n      --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);\n    }\n  </style>\n</custom-style>",document.head.appendChild(Pl.content);const El=document.createElement("template");El.innerHTML="<custom-style>\n  <style>\n    html {\n      /* Border radius */\n      --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */\n      --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */\n      --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */\n      --lumo-border-radius: 0.25em; /* Deprecated */\n\n      /* Shadow */\n      --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);\n      --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);\n      --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);\n      --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);\n      --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);\n\n      /* Clickable element cursor */\n      --lumo-clickable-cursor: default;\n    }\n  </style>\n</custom-style>",document.head.appendChild(El.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class Il{constructor(t){this.value=t.toString()}toString(){return this.value}}function Nl(t){if(t instanceof Il)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}const Ml=function(t,...e){const n=document.createElement("template");return n.innerHTML=e.reduce((e,n,r)=>e+function(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof Il)return Nl(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}(n)+t[r+1],t[0]),n},Ol=Ml`<dom-module id="lumo-split-layout" theme-for="vaadin-split-layout">
  <template>
    <style>
      [part="splitter"] {
        min-width: var(--lumo-space-s);
        min-height: var(--lumo-space-s);
        background-color: var(--lumo-contrast-5pct);
        transition: 0.1s background-color;
      }

      [part="handle"] {
        display: flex;
        align-items: center;
        justify-content: center;
        width: var(--lumo-size-m);
        height: var(--lumo-size-m);
      }

      [part="handle"]::after {
        content: "";
        display: block;
        width: 4px;
        height: 100%;
        max-width: 100%;
        max-height: 100%;
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-30pct);
        transition: 0.1s opacity, 0.1s background-color;
      }

      :host([orientation="vertical"]) [part="handle"]::after {
        width: 100%;
        height: 4px;
      }

      /* Hover style */

      [part="splitter"]:hover [part="handle"]::after {
        background-color: var(--lumo-contrast-40pct);
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        [part="splitter"]:hover [part="handle"]::after {
          background-color: var(--lumo-contrast-30pct);
        }
      }

      /* Active style */

      [part="splitter"]:active [part="handle"]::after {
        background-color: var(--lumo-contrast-50pct);
      }

      /* Small/minimal */

      :host([theme~="small"]) > [part="splitter"] {
        border-left: 1px solid var(--lumo-contrast-10pct);
        border-top: 1px solid var(--lumo-contrast-10pct);
      }

      :host([theme~="small"]) > [part="splitter"],
      :host([theme~="minimal"]) > [part="splitter"] {
        min-width: 0;
        min-height: 0;
        background-color: transparent;
      }

      :host([theme~="small"]) > [part="splitter"]::after,
      :host([theme~="minimal"]) > [part="splitter"]::after {
        content: "";
        position: absolute;
        top: -4px;
        right: -4px;
        bottom: -4px;
        left: -4px;
      }

      :host([theme~="small"]) > [part="splitter"] > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"] > [part="handle"]::after {
        opacity: 0;
      }

      :host([theme~="small"]) > [part="splitter"]:hover > [part="handle"]::after,
      :host([theme~="small"]) > [part="splitter"]:active > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"]:hover > [part="handle"]::after,
      :host([theme~="minimal"]) > [part="splitter"]:active > [part="handle"]::after {
        opacity: 1;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild(Ol.content);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Rl=0;function kl(){}kl.prototype.__mixinApplications,kl.prototype.__mixinSet;const zl=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let n=Rl++;return function(r){let i=r.__mixinSet;if(i&&i[n])return r;let s=e,o=s.get(r);o||(o=t(r),s.set(r,o));let a=Object.create(o.__mixinSet||i||null);return a[n]=!0,o.__mixinSet=a,o}},Dl=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Ll(t){return t.indexOf(".")>=0}function Fl(t){let e=t.indexOf(".");return-1===e?t:t.slice(0,e)}function Hl(t,e){return 0===t.indexOf(e+".")}function Bl(t,e){return 0===e.indexOf(t+".")}function Vl(t,e,n){return e+n.slice(t.length)}function Ul(t){if(Array.isArray(t)){let e=[];for(let n=0;n<t.length;n++){let r=t[n].toString().split(".");for(let t=0;t<r.length;t++)e.push(r[t])}return e.join(".")}return t}function $l(t){return Array.isArray(t)?Ul(t).split("."):t.toString().split(".")}function jl(t,e,n){let r=t,i=$l(e);for(let t=0;t<i.length;t++){if(!r)return;r=r[i[t]]}return n&&(n.path=i.join(".")),r}function ql(t,e,n){let r=t,i=$l(e),s=i[i.length-1];if(i.length>1){for(let t=0;t<i.length-1;t++){if(!(r=r[i[t]]))return}r[s]=n}else r[e]=n;return i.join(".")}const Gl={},Yl=/-[a-z]/g,Wl=/([A-Z])/g;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Xl(t){return Gl[t]||(Gl[t]=t.indexOf("-")<0?t:t.replace(Yl,t=>t[1].toUpperCase()))}function Jl(t){return Gl[t]||(Gl[t]=t.replace(Wl,"-$1").toLowerCase())}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let Kl=0,Zl=0,Ql=[],tc=0,ec=document.createTextNode("");new window.MutationObserver(function(){const t=Ql.length;for(let e=0;e<t;e++){let t=Ql[e];if(t)try{t()}catch(t){setTimeout(()=>{throw t})}}Ql.splice(0,t),Zl+=t}).observe(ec,{characterData:!0});const nc={after:t=>({run:e=>window.setTimeout(e,t),cancel(t){window.clearTimeout(t)}}),run:(t,e)=>window.setTimeout(t,e),cancel(t){window.clearTimeout(t)}},rc={run:t=>window.requestAnimationFrame(t),cancel(t){window.cancelAnimationFrame(t)}},ic={run:t=>window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16),cancel(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},sc={run:t=>(ec.textContent=tc++,Ql.push(t),Kl++),cancel(t){const e=t-Zl;if(e>=0){if(!Ql[e])throw new Error("invalid async handle: "+t);Ql[e]=null}}},oc=sc,ac=zl(t=>{return class extends t{static createProperties(t){const e=this.prototype;for(let n in t)n in e||e._createPropertyAccessor(n)}static attributeNameForProperty(t){return t.toLowerCase()}static typeForProperty(t){}_createPropertyAccessor(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}_addPropertyToAttributeMap(t){if(this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){const e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}_definePropertyAccessor(t,e){Object.defineProperty(this,t,{get(){return this._getProperty(t)},set:e?function(){}:function(e){this._setProperty(t,e)}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}_initializeInstanceProperties(t){Object.assign(this,t)}_setProperty(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}_getProperty(t){return this.__data[t]}_setPendingProperty(t,e,n){let r=this.__data[t],i=this._shouldPropertyChange(t,e,r);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||t in this.__dataOld||(this.__dataOld[t]=r),this.__data[t]=e,this.__dataPending[t]=e),i}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,oc.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){const t=this.__data,e=this.__dataPending,n=this.__dataOld;this._shouldPropertiesChange(t,e,n)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,n))}_shouldPropertiesChange(t,e,n){return Boolean(e)}_propertiesChanged(t,e,n){}_shouldPropertyChange(t,e,n){return n!==e&&(n==n||e==e)}attributeChangedCallback(t,e,n,r){e!==n&&this._attributeToProperty(t,n),super.attributeChangedCallback&&super.attributeChangedCallback(t,e,n,r)}_attributeToProperty(t,e,n){if(!this.__serializing){const r=this.__dataAttributes,i=r&&r[t]||t;this[i]=this._deserializeValue(e,n||this.constructor.typeForProperty(i))}}_propertyToAttribute(t,e,n){this.__serializing=!0,n=arguments.length<3?this[t]:n,this._valueToNodeAttribute(this,n,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}_valueToNodeAttribute(t,e,n){const r=this._serializeValue(e);"class"!==n&&"name"!==n&&"slot"!==n||(t=Dl(t)),void 0===r?t.removeAttribute(n):t.setAttribute(n,r)}_serializeValue(t){switch(typeof t){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}_deserializeValue(t,e){switch(e){case Boolean:return null!==t;case Number:return Number(t);default:return t}}}}),lc={};let cc=HTMLElement.prototype;for(;cc;){let t=Object.getOwnPropertyNames(cc);for(let e=0;e<t.length;e++)lc[t[e]]=!0;cc=Object.getPrototypeOf(cc)}const hc=zl(t=>{const e=ac(t);return class extends e{static createPropertiesForAttributes(){let t=this.observedAttributes;for(let e=0;e<t.length;e++)this.prototype._createPropertyAccessor(Xl(t[e]))}static attributeNameForProperty(t){return Jl(t)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(t){for(let e in t)this._setProperty(e,t[e])}_ensureAttribute(t,e){const n=this;n.hasAttribute(t)||this._valueToNodeAttribute(n,e,t)}_serializeValue(t){switch(typeof t){case"object":if(t instanceof Date)return t.toString();if(t)try{return JSON.stringify(t)}catch(t){return""}default:return super._serializeValue(t)}}_deserializeValue(t,e){let n;switch(e){case Object:try{n=JSON.parse(t)}catch(e){n=t}break;case Array:try{n=JSON.parse(t)}catch(e){n=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${t}`)}break;case Date:n=isNaN(t)?String(t):Number(t),n=new Date(n);break;default:n=super._deserializeValue(t,e)}return n}_definePropertyAccessor(t,e){!function(t,e){if(!lc[e]){let n=t[e];void 0!==n&&(t.__data?t._setPendingProperty(e,n):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=n))}}(this,t),super._definePropertyAccessor(t,e)}_hasAccessor(t){return this.__dataHasAccessor&&this.__dataHasAccessor[t]}_isPropertyPending(t){return Boolean(this.__dataPending&&t in this.__dataPending)}}}),dc={"dom-if":!0,"dom-repeat":!0};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let uc=!1,pc=!1;function fc(t){(function(){if(!uc){uc=!0;const t=document.createElement("textarea");t.placeholder="a",pc=t.placeholder===t.textContent}return pc})()&&"textarea"===t.localName&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}function _c(t){let e=t.getAttribute("is");if(e&&dc[e]){let n=t;for(n.removeAttribute("is"),t=n.ownerDocument.createElement(e),n.parentNode.replaceChild(t,n),t.appendChild(n);n.attributes.length;)t.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return t}function mc(t,e){let n=e.parentInfo&&mc(t,e.parentInfo);if(!n)return t;for(let t=n.firstChild,r=0;t;t=t.nextSibling)if(e.parentIndex===r++)return t}function gc(t,e,n,r){r.id&&(e[r.id]=n)}function yc(t,e,n){if(n.events&&n.events.length)for(let r,i=0,s=n.events;i<s.length&&(r=s[i]);i++)t._addMethodEventListenerToNode(e,r.name,r.value,t)}function vc(t,e,n){n.templateInfo&&(e._templateInfo=n.templateInfo)}const bc=zl(t=>{return class extends t{static _parseTemplate(t,e){if(!t._templateInfo){let n=t._templateInfo={};n.nodeInfoList=[],n.stripWhiteSpace=e&&e.stripWhiteSpace||t.hasAttribute("strip-whitespace"),this._parseTemplateContent(t,n,{parent:null})}return t._templateInfo}static _parseTemplateContent(t,e,n){return this._parseTemplateNode(t.content,e,n)}static _parseTemplateNode(t,e,n){let r=!1,i=t;return"template"!=i.localName||i.hasAttribute("preserve-content")?"slot"===i.localName&&(e.hasInsertionPoint=!0):r=this._parseTemplateNestedTemplate(i,e,n)||r,fc(i),i.firstChild&&this._parseTemplateChildNodes(i,e,n),i.hasAttributes&&i.hasAttributes()&&(r=this._parseTemplateNodeAttributes(i,e,n)||r),r}static _parseTemplateChildNodes(t,e,n){if("script"!==t.localName&&"style"!==t.localName)for(let r,i=t.firstChild,s=0;i;i=r){if("template"==i.localName&&(i=_c(i)),r=i.nextSibling,i.nodeType===Node.TEXT_NODE){let n=r;for(;n&&n.nodeType===Node.TEXT_NODE;)i.textContent+=n.textContent,r=n.nextSibling,t.removeChild(n),n=r;if(e.stripWhiteSpace&&!i.textContent.trim()){t.removeChild(i);continue}}let o={parentIndex:s,parentInfo:n};this._parseTemplateNode(i,e,o)&&(o.infoIndex=e.nodeInfoList.push(o)-1),i.parentNode&&s++}}static _parseTemplateNestedTemplate(t,e,n){let r=t,i=this._parseTemplate(r,e);return(i.content=r.content.ownerDocument.createDocumentFragment()).appendChild(r.content),n.templateInfo=i,!0}static _parseTemplateNodeAttributes(t,e,n){let r=!1,i=Array.from(t.attributes);for(let s,o=i.length-1;s=i[o];o--)r=this._parseTemplateNodeAttribute(t,e,n,s.name,s.value)||r;return r}static _parseTemplateNodeAttribute(t,e,n,r,i){return"on-"===r.slice(0,3)?(t.removeAttribute(r),n.events=n.events||[],n.events.push({name:r.slice(3),value:i}),!0):"id"===r&&(n.id=i,!0)}static _contentForTemplate(t){let e=t._templateInfo;return e&&e.content||t.content}_stampTemplate(t){t&&!t.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t);let e=this.constructor._parseTemplate(t),n=e.nodeInfoList,r=e.content||t.content,i=document.importNode(r,!0);i.__noInsertionPoint=!e.hasInsertionPoint;let s=i.nodeList=new Array(n.length);i.$={};for(let t,e=0,r=n.length;e<r&&(t=n[e]);e++){let n=s[e]=mc(i,t);gc(0,i.$,n,t),vc(0,n,t),yc(this,n,t)}return i=i}_addMethodEventListenerToNode(t,e,n,r){let i=function(t,e,n){return t=t._methodHost||t,function(e){t[n]?t[n](e,e.detail):console.warn("listener method `"+n+"` not defined")}}(r=r||t,0,n);return this._addEventListenerToNode(t,e,i),i}_addEventListenerToNode(t,e,n){t.addEventListener(e,n)}_removeEventListenerFromNode(t,e,n){t.removeEventListener(e,n)}}});
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let wc=0;const xc={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Cc=/[A-Z]/;function Sc(t,e){let n=t[e];if(n){if(!t.hasOwnProperty(e)){n=t[e]=Object.create(t[e]);for(let t in n){let e=n[t],r=n[t]=Array(e.length);for(let t=0;t<e.length;t++)r[t]=e[t]}}}else n=t[e]={};return n}function Ac(t,e,n,r,i,s){if(e){let o=!1,a=wc++;for(let l in n)Tc(t,e,a,l,n,r,i,s)&&(o=!0);return o}return!1}function Tc(t,e,n,r,i,s,o,a){let l=!1,c=e[o?Fl(r):r];if(c)for(let e,h=0,d=c.length;h<d&&(e=c[h]);h++)e.info&&e.info.lastRun===n||o&&!Pc(r,e.trigger)||(e.info&&(e.info.lastRun=n),e.fn(t,r,i,s,e.info,o,a),l=!0);return l}function Pc(t,e){if(e){let n=e.name;return n==t||!(!e.structured||!Hl(n,t))||!(!e.wildcard||!Bl(n,t))}return!0}function Ec(t,e,n,r,i){let s="string"==typeof i.method?t[i.method]:i.method,o=i.property;s?s.call(t,t.__data[o],r[o]):i.dynamicFn||console.warn("observer method `"+i.method+"` not defined")}function Ic(t,e,n){let r=Fl(e);if(r!==e){return Nc(t,Jl(r)+"-changed",n[e],e),!0}return!1}function Nc(t,e,n,r){let i={value:n,queueProperty:!0};r&&(i.path=r),Dl(t).dispatchEvent(new CustomEvent(e,{detail:i}))}function Mc(t,e,n,r,i,s){let o=(s?Fl(e):e)!=e?e:null,a=o?jl(t,o):t.__data[e];o&&void 0===a&&(a=n[e]),Nc(t,i.eventName,a,o)}function Oc(t,e,n,r,i){let s=t.__data[e];tl&&(s=tl(s,i.attrName,"attribute",t)),t._propertyToAttribute(e,i.attrName,s)}function Rc(t,e,n,r,i){let s=Bc(t,e,n,r,i),o=i.methodInfo;t.__dataHasAccessor&&t.__dataHasAccessor[o]?t._setPendingProperty(o,s,!0):t[o]=s}function kc(t,e,n,r,i,s,o){n.bindings=n.bindings||[];let a={kind:r,target:i,parts:s,literal:o,isCompound:1!==s.length};if(n.bindings.push(a),function(t){return Boolean(t.target)&&"attribute"!=t.kind&&"text"!=t.kind&&!t.isCompound&&"{"===t.parts[0].mode}(a)){let{event:t,negate:e}=a.parts[0];a.listenerEvent=t||Jl(i)+"-changed",a.listenerNegate=e}let l=e.nodeInfoList.length;for(let n=0;n<a.parts.length;n++){let r=a.parts[n];r.compoundIndex=n,zc(t,e,a,r,l)}}function zc(t,e,n,r,i){if(!r.literal)if("attribute"===n.kind&&"-"===n.target[0])console.warn("Cannot set attribute "+n.target+' because "-" is not a valid attribute starting character');else{let s=r.dependencies,o={index:i,binding:n,part:r,evaluator:t};for(let n=0;n<s.length;n++){let r=s[n];"string"==typeof r&&((r=qc(r)).wildcard=!0),t._addTemplatePropertyEffect(e,r.rootProperty,{fn:Dc,info:o,trigger:r})}}}function Dc(t,e,n,r,i,s,o){let a=o[i.index],l=i.binding,c=i.part;if(s&&c.source&&e.length>c.source.length&&"property"==l.kind&&!l.isCompound&&a.__isPropertyEffectsClient&&a.__dataHasAccessor&&a.__dataHasAccessor[l.target]){let r=n[e];e=Vl(c.source,l.target,e),a._setPendingPropertyOrPath(e,r,!1,!0)&&t._enqueueClient(a)}else{!function(t,e,n,r,i){i=function(t,e,n,r){if(n.isCompound){let i=t.__dataCompoundStorage[n.target];i[r.compoundIndex]=e,e=i.join("")}return"attribute"!==n.kind&&("textContent"!==n.target&&("value"!==n.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=void 0==e?"":e)),e}(e,i,n,r),tl&&(i=tl(i,n.target,n.kind,e));if("attribute"==n.kind)t._valueToNodeAttribute(e,i,n.target);else{let r=n.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[r]?e[xc.READ_ONLY]&&e[xc.READ_ONLY][r]||e._setPendingProperty(r,i)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,r,i)}}(t,a,l,c,i.evaluator._evaluateBinding(t,c,e,n,r,s))}}function Lc(t,e){if(e.isCompound){let n=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),r=e.parts,i=new Array(r.length);for(let t=0;t<r.length;t++)i[t]=r[t].literal;let s=e.target;n[s]=i,e.literal&&"property"==e.kind&&("className"===s&&(t=Dl(t)),t[s]=e.literal)}}function Fc(t,e,n){if(n.listenerEvent){let r=n.parts[0];t.addEventListener(n.listenerEvent,function(t){!function(t,e,n,r,i){let s,o=t.detail,a=o&&o.path;a?(r=Vl(n,r,a),s=o&&o.value):s=t.currentTarget[n],s=i?!s:s,e[xc.READ_ONLY]&&e[xc.READ_ONLY][r]||!e._setPendingPropertyOrPath(r,s,!0,Boolean(a))||o&&o.queueProperty||e._invalidateProperties()}(t,e,n.target,r.source,r.negate)})}}function Hc(t,e,n,r,i,s){s=e.static||s&&("object"!=typeof s||s[e.methodName]);let o={methodName:e.methodName,args:e.args,methodInfo:i,dynamicFn:s};for(let i,s=0;s<e.args.length&&(i=e.args[s]);s++)i.literal||t._addPropertyEffect(i.rootProperty,n,{fn:r,info:o,trigger:i});s&&t._addPropertyEffect(e.methodName,n,{fn:r,info:o})}function Bc(t,e,n,r,i){let s=t._methodHost||t,o=s[i.methodName];if(o){let r=t._marshalArgs(i.args,e,n);return o.apply(s,r)}i.dynamicFn||console.warn("method `"+i.methodName+"` not defined")}const Vc=[],Uc=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function $c(t){let e="";for(let n=0;n<t.length;n++){e+=t[n].literal||""}return e}function jc(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let t={methodName:e[1],static:!0,args:Vc};if(e[2].trim()){return function(t,e){return e.args=t.map(function(t){let n=qc(t);return n.literal||(e.static=!1),n},this),e}(e[2].replace(/\\,/g,"&comma;").split(","),t)}return t}return null}function qc(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),n={name:e,value:"",literal:!1},r=e[0];switch("-"===r&&(r=e[1]),r>="0"&&r<="9"&&(r="#"),r){case"'":case'"':n.value=e.slice(1,-1),n.literal=!0;break;case"#":n.value=Number(e),n.literal=!0}return n.literal||(n.rootProperty=Fl(e),n.structured=Ll(e),n.structured&&(n.wildcard=".*"==e.slice(-2),n.wildcard&&(n.name=e.slice(0,-2)))),n}function Gc(t,e,n){let r=jl(t,n);return void 0===r&&(r=e[n]),r}function Yc(t,e,n,r){t.notifyPath(n+".splices",{indexSplices:r}),t.notifyPath(n+".length",e.length)}function Wc(t,e,n,r,i,s){Yc(t,e,n,[{index:r,addedCount:i,removed:s,object:e,type:"splice"}])}const Xc=zl(t=>{const e=bc(hc(t));return class extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataCounter=0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo}get PROPERTY_EFFECT_TYPES(){return xc}_initializeProperties(){super._initializeProperties(),Jc.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_initializeProtoProperties(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}_initializeInstanceProperties(t){let e=this[xc.READ_ONLY];for(let n in t)e&&e[n]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[n]=this.__dataPending[n]=t[n])}_addPropertyEffect(t,e,n){this._createPropertyAccessor(t,e==xc.READ_ONLY);let r=Sc(this,e)[t];r||(r=this[e][t]=[]),r.push(n)}_removePropertyEffect(t,e,n){let r=Sc(this,e)[t],i=r.indexOf(n);i>=0&&r.splice(i,1)}_hasPropertyEffect(t,e){let n=this[e];return Boolean(n&&n[t])}_hasReadOnlyEffect(t){return this._hasPropertyEffect(t,xc.READ_ONLY)}_hasNotifyEffect(t){return this._hasPropertyEffect(t,xc.NOTIFY)}_hasReflectEffect(t){return this._hasPropertyEffect(t,xc.REFLECT)}_hasComputedEffect(t){return this._hasPropertyEffect(t,xc.COMPUTE)}_setPendingPropertyOrPath(t,e,n,r){if(r||Fl(Array.isArray(t)?t[0]:t)!==t){if(!r){let n=jl(this,t);if(!(t=ql(this,t,e))||!super._shouldPropertyChange(t,e,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,n))return function(t,e,n){let r=t.__dataLinkedPaths;if(r){let i;for(let s in r){let o=r[s];Bl(s,e)?(i=Vl(s,o,e),t._setPendingPropertyOrPath(i,n,!0,!0)):Bl(o,e)&&(i=Vl(o,s,e),t._setPendingPropertyOrPath(i,n,!0,!0))}}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,n);this[t]=e}return!1}_setUnmanagedPropertyToNode(t,e,n){n===t[e]&&"object"!=typeof n||("className"===e&&(t=Dl(t)),t[e]=n)}_setPendingProperty(t,e,n){let r=this.__dataHasPaths&&Ll(t),i=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,i[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),r?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(r||this[xc.NOTIFY]&&this[xc.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=n),!0)}_setProperty(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}_flushProperties(){this.__dataCounter++,super._flushProperties(),this.__dataCounter--}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(let e=0;e<t.length;e++){let n=t[e];n.__dataEnabled?n.__dataPending&&n._flushProperties():n._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(t,e){for(let n in t)!e&&this[xc.READ_ONLY]&&this[xc.READ_ONLY][n]||this._setPendingPropertyOrPath(n,t[n],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(t,e,n){let r=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,e,n,r){let i=t[xc.COMPUTE];if(i){let s=e;for(;Ac(t,i,s,n,r);)Object.assign(n,t.__dataOld),Object.assign(e,t.__dataPending),s=t.__dataPending,t.__dataPending=null}}(this,e,n,r);let i=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(e,n,r),this._flushClients(),Ac(this,this[xc.REFLECT],e,n,r),Ac(this,this[xc.OBSERVE],e,n,r),i&&function(t,e,n,r,i){let s,o,a=t[xc.NOTIFY],l=wc++;for(let o in e)e[o]&&(a&&Tc(t,a,l,o,n,r,i)?s=!0:i&&Ic(t,o,n)&&(s=!0));s&&(o=t.__dataHost)&&o._invalidateProperties&&o._invalidateProperties()}(this,i,e,n,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(t,e,n){this[xc.PROPAGATE]&&Ac(this,this[xc.PROPAGATE],t,e,n);let r=this.__templateInfo;for(;r;)Ac(this,r.propertyEffects,t,e,n,r.nodeList),r=r.nextTemplateInfo}linkPaths(t,e){t=Ul(t),e=Ul(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}unlinkPaths(t){t=Ul(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}notifySplices(t,e){let n={path:""};Yc(this,jl(this,t,n),n.path,e)}get(t,e){return jl(e||this,t)}set(t,e,n){n?ql(n,t,e):this[xc.READ_ONLY]&&this[xc.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}push(t,...e){let n={path:""},r=jl(this,t,n),i=r.length,s=r.push(...e);return e.length&&Wc(this,r,n.path,i,e.length,[]),s}pop(t){let e={path:""},n=jl(this,t,e),r=Boolean(n.length),i=n.pop();return r&&Wc(this,n,e.path,n.length,0,[i]),i}splice(t,e,n,...r){let i,s={path:""},o=jl(this,t,s);return e<0?e=o.length-Math.floor(-e):e&&(e=Math.floor(e)),i=2===arguments.length?o.splice(e):o.splice(e,n,...r),(r.length||i.length)&&Wc(this,o,s.path,e,r.length,i),i}shift(t){let e={path:""},n=jl(this,t,e),r=Boolean(n.length),i=n.shift();return r&&Wc(this,n,e.path,0,0,[i]),i}unshift(t,...e){let n={path:""},r=jl(this,t,n),i=r.unshift(...e);return e.length&&Wc(this,r,n.path,0,e.length,[]),i}notifyPath(t,e){let n;if(1==arguments.length){let r={path:""};e=jl(this,t,r),n=r.path}else n=Array.isArray(t)?Ul(t):t;this._setPendingPropertyOrPath(n,e,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(t,e){this._addPropertyEffect(t,xc.READ_ONLY),e&&(this["_set"+function(t){return t[0].toUpperCase()+t.substring(1)}(t)]=function(e){this._setProperty(t,e)})}_createPropertyObserver(t,e,n){let r={property:t,method:e,dynamicFn:Boolean(n)};this._addPropertyEffect(t,xc.OBSERVE,{fn:Ec,info:r,trigger:{name:t}}),n&&this._addPropertyEffect(e,xc.OBSERVE,{fn:Ec,info:r,trigger:{name:e}})}_createMethodObserver(t,e){let n=jc(t);if(!n)throw new Error("Malformed observer expression '"+t+"'");Hc(this,n,xc.OBSERVE,Bc,null,e)}_createNotifyingProperty(t){this._addPropertyEffect(t,xc.NOTIFY,{fn:Mc,info:{eventName:Jl(t)+"-changed",property:t}})}_createReflectedProperty(t){let e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,xc.REFLECT,{fn:Oc,info:{attrName:e}})}_createComputedProperty(t,e,n){let r=jc(e);if(!r)throw new Error("Malformed computed expression '"+e+"'");Hc(this,r,xc.COMPUTE,Rc,t,n)}_marshalArgs(t,e,n){const r=this.__data,i=[];for(let s=0,o=t.length;s<o;s++){let{name:o,structured:a,wildcard:l,value:c,literal:h}=t[s];if(!h)if(l){const t=Bl(o,e),i=Gc(r,n,t?e:o);c={path:t?e:o,value:i,base:t?jl(r,o):i}}else c=a?Gc(r,n,o):r[o];i[s]=c}return i}static addPropertyEffect(t,e,n){this.prototype._addPropertyEffect(t,e,n)}static createPropertyObserver(t,e,n){this.prototype._createPropertyObserver(t,e,n)}static createMethodObserver(t,e){this.prototype._createMethodObserver(t,e)}static createNotifyingProperty(t){this.prototype._createNotifyingProperty(t)}static createReadOnlyProperty(t,e){this.prototype._createReadOnlyProperty(t,e)}static createReflectedProperty(t){this.prototype._createReflectedProperty(t)}static createComputedProperty(t,e,n){this.prototype._createComputedProperty(t,e,n)}static bindTemplate(t){return this.prototype._bindTemplate(t)}_bindTemplate(t,e){let n=this.constructor._parseTemplate(t),r=this.__templateInfo==n;if(!r)for(let t in n.propertyEffects)this._createPropertyAccessor(t);if(e&&((n=Object.create(n)).wasPreBound=r,!r&&this.__templateInfo)){let t=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=t.nextTemplateInfo=n,n.previousTemplateInfo=t,n}return this.__templateInfo=n}static _addTemplatePropertyEffect(t,e,n){(t.hostProps=t.hostProps||{})[e]=!0;let r=t.propertyEffects=t.propertyEffects||{};(r[e]=r[e]||[]).push(n)}_stampTemplate(t){Jc.beginHosting(this);let e=super._stampTemplate(t);Jc.endHosting(this);let n=this._bindTemplate(t,!0);if(n.nodeList=e.nodeList,!n.wasPreBound){let t=n.childNodes=[];for(let n=e.firstChild;n;n=n.nextSibling)t.push(n)}return e.templateInfo=n,function(t,e){let{nodeList:n,nodeInfoList:r}=e;if(r.length)for(let e=0;e<r.length;e++){let i=r[e],s=n[e],o=i.bindings;if(o)for(let e=0;e<o.length;e++){let n=o[e];Lc(s,n),Fc(s,t,n)}s.__dataHost=t}}(this,n),this.__dataReady&&Ac(this,n.propertyEffects,this.__data,null,!1,n.nodeList),e}_removeBoundDom(t){let e=t.templateInfo;e.previousTemplateInfo&&(e.previousTemplateInfo.nextTemplateInfo=e.nextTemplateInfo),e.nextTemplateInfo&&(e.nextTemplateInfo.previousTemplateInfo=e.previousTemplateInfo),this.__templateInfoLast==e&&(this.__templateInfoLast=e.previousTemplateInfo),e.previousTemplateInfo=e.nextTemplateInfo=null;let n=e.childNodes;for(let t=0;t<n.length;t++){let e=n[t];e.parentNode.removeChild(e)}}static _parseTemplateNode(t,n,r){let i=e._parseTemplateNode.call(this,t,n,r);if(t.nodeType===Node.TEXT_NODE){let e=this._parseBindings(t.textContent,n);e&&(t.textContent=$c(e)||" ",kc(this,n,r,"text","textContent",e),i=!0)}return i}static _parseTemplateNodeAttribute(t,n,r,i,s){let o=this._parseBindings(s,n);if(o){let e=i,s="property";Cc.test(i)?s="attribute":"$"==i[i.length-1]&&(i=i.slice(0,-1),s="attribute");let a=$c(o);return a&&"attribute"==s&&("class"==i&&t.hasAttribute("class")&&(a+=" "+t.getAttribute(i)),t.setAttribute(i,a)),"input"===t.localName&&"value"===e&&t.setAttribute(e,""),t.removeAttribute(e),"property"===s&&(i=Xl(i)),kc(this,n,r,s,i,o,a),!0}return e._parseTemplateNodeAttribute.call(this,t,n,r,i,s)}static _parseTemplateNestedTemplate(t,n,r){let i=e._parseTemplateNestedTemplate.call(this,t,n,r),s=r.templateInfo.hostProps;for(let t in s)kc(this,n,r,"property","_host_"+t,[{mode:"{",source:t,dependencies:[t]}]);return i}static _parseBindings(t,e){let n,r=[],i=0;for(;null!==(n=Uc.exec(t));){n.index>i&&r.push({literal:t.slice(i,n.index)});let s=n[1][0],o=Boolean(n[2]),a=n[3].trim(),l=!1,c="",h=-1;"{"==s&&(h=a.indexOf("::"))>0&&(c=a.substring(h+2),a=a.substring(0,h),l=!0);let d=jc(a),u=[];if(d){let{args:t,methodName:n}=d;for(let e=0;e<t.length;e++){let n=t[e];n.literal||u.push(n)}let r=e.dynamicFns;(r&&r[n]||d.static)&&(u.push(n),d.dynamicFn=!0)}else u.push(a);r.push({source:a,mode:s,negate:o,customEvent:l,signature:d,dependencies:u,event:c}),i=Uc.lastIndex}if(i&&i<t.length){let e=t.substring(i);e&&r.push({literal:e})}return r.length?r:null}static _evaluateBinding(t,e,n,r,i,s){let o;return o=e.signature?Bc(t,n,r,0,e.signature):n!=e.source?jl(t,e.source):s&&Ll(n)?jl(t,n):t.__data[n],e.negate&&(o=!o),o}}});const Jc=new class{constructor(){this.stack=[]}registerHost(t){this.stack.length&&this.stack[this.stack.length-1]._enqueueClient(t)}beginHosting(t){this.stack.push(t)}endHosting(t){let e=this.stack.length;e&&this.stack[e-1]==t&&this.stack.pop()}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Kc=[];const Zc=zl(t=>{const e=ac(t);function n(t){const e=Object.getPrototypeOf(t);return e.prototype instanceof i?e:null}function r(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",t))){let e=null;if(t.hasOwnProperty(JSCompiler_renameProperty("properties",t))){const n=t.properties;n&&(e=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(t){const e={};for(let n in t){const r=t[n];e[n]="function"==typeof r?{type:r}:r}return e}(n))}t.__ownProperties=e}return t.__ownProperties}class i extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){!function(t){Kc.push(t)}(this.prototype);const t=this._properties;this.__observedAttributes=t?Object.keys(t).map(t=>this.attributeNameForProperty(t)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const t=n(this);t&&t.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const t=r(this);t&&this.createProperties(t)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const t=n(this);this.__properties=Object.assign({},t&&t._properties,r(this))}return this.__properties}static typeForProperty(t){const e=this._properties[t];return e&&e.type}_initializeProperties(){0,this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return i}),Qc="3.3.1",th=window.ShadyCSS&&window.ShadyCSS.cssBuild,eh=zl(t=>{const e=Zc(Xc(t));function n(t,e,n,r){n.computed&&(n.readOnly=!0),n.computed&&(t._hasReadOnlyEffect(e)?console.warn(`Cannot redefine computed property '${e}'.`):t._createComputedProperty(e,n.computed,r)),n.readOnly&&!t._hasReadOnlyEffect(e)?t._createReadOnlyProperty(e,!n.computed):!1===n.readOnly&&t._hasReadOnlyEffect(e)&&console.warn(`Cannot make readOnly property '${e}' non-readOnly.`),n.reflectToAttribute&&!t._hasReflectEffect(e)?t._createReflectedProperty(e):!1===n.reflectToAttribute&&t._hasReflectEffect(e)&&console.warn(`Cannot make reflected property '${e}' non-reflected.`),n.notify&&!t._hasNotifyEffect(e)?t._createNotifyingProperty(e):!1===n.notify&&t._hasNotifyEffect(e)&&console.warn(`Cannot make notify property '${e}' non-notify.`),n.observer&&t._createPropertyObserver(e,n.observer,r[n.observer]),t._addPropertyToAttributeMap(e)}function r(t,e,n,r){if(!th){const i=e.content.querySelectorAll("style"),s=vl(e),o=function(t){let e=_l(t);return e?bl(e):[]}(n),a=e.content.firstElementChild;for(let n=0;n<o.length;n++){let i=o[n];i.textContent=t._processStyleText(i.textContent,r),e.content.insertBefore(i,a)}let l=0;for(let e=0;e<s.length;e++){let n=s[e],o=i[l];o!==n?(n=n.cloneNode(!0),o.parentNode.insertBefore(n,o)):l++,n.textContent=t._processStyleText(n.textContent,r)}}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,n)}return class extends e{static get polymerElementVersion(){return Qc}static _finalizeClass(){e._finalizeClass.call(this);const t=function(t){return t.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",t))||(t.__ownObservers=t.hasOwnProperty(JSCompiler_renameProperty("observers",t))?t.observers:null),t.__ownObservers}(this);t&&this.createObservers(t,this._properties),this._prepareTemplate()}static _prepareTemplate(){let t=this.template;t&&("string"==typeof t?(console.error("template getter must return HTMLTemplateElement"),t=null):il||(t=t.cloneNode(!0))),this.prototype._template=t}static createProperties(t){for(let e in t)n(this.prototype,e,t[e],t)}static createObservers(t,e){const n=this.prototype;for(let r=0;r<t.length;r++)n._createMethodObserver(t[r],e)}static get template(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:function(t){let e=null;if(t&&(!nl||rl)&&(e=dl.import(t,"template"),nl&&!e))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${t}`);return e}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template),this._template}static set template(t){this._template=t}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const t=this.importMeta;if(t)this._importPath=Ka(t.url);else{const t=dl.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=Qa,this.importPath=this.constructor.importPath;let t=function(t){if(!t.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",t))){t.__propertyDefaults=null;let e=t._properties;for(let n in e){let r=e[n];"value"in r&&(t.__propertyDefaults=t.__propertyDefaults||{},t.__propertyDefaults[n]=r)}}return t.__propertyDefaults}(this.constructor);if(t)for(let e in t){let n=t[e];if(!this.hasOwnProperty(e)){let t="function"==typeof n.value?n.value.call(this):n.value;this._hasAccessor(e)?this._setPendingProperty(e,t,!0):this[e]=t}}}static _processStyleText(t,e){return Ja(t,e)}static _finalizeTemplate(t){const e=this.prototype._template;if(e&&!e.__polymerFinalized){e.__polymerFinalized=!0;const n=this.importPath;r(this,e,t,n?Xa(n):""),this.prototype._bindTemplate(e)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(t){const e=Dl(this);if(e.attachShadow)return t?(e.shadowRoot||(e.attachShadow({mode:"open",shadyUpgradeFragment:t}),e.shadowRoot.appendChild(t)),sl&&window.ShadyDOM&&window.ShadyDOM.flushInitial(e.shadowRoot),e.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(t){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,t)}resolveUrl(t,e){return!e&&this.importPath&&(e=Xa(this.importPath)),Xa(t,e)}static _parseTemplateContent(t,n,r){return n.dynamicFns=n.dynamicFns||this._properties,e._parseTemplateContent.call(this,t,n,r)}static _addTemplatePropertyEffect(t,n,r){return!il||n in this._properties||console.warn(`Property '${n}' used in template but not declared in 'properties'; `+"attribute will not be observed."),e._addTemplatePropertyEffect.call(this,t,n,r)}}}),nh=eh(HTMLElement);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class rh{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(t,e){this._asyncModule=t,this._callback=e,this._timer=this._asyncModule.run(()=>{this._timer=null,ih.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),ih.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(t,e,n){return t instanceof rh?t._cancelAsync():t=new rh,t.setConfig(e,n),t}}let ih=new Set;const sh=function(t){ih.add(t)},oh=function(){const t=Boolean(ih.size);return ih.forEach(t=>{try{t.flush()}catch(t){setTimeout(()=>{throw t})}}),t};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ah="string"==typeof document.head.style.touchAction,lh="__polymerGestures",ch="__polymerGesturesHandled",hh="__polymerGesturesTouchAction",dh=25,uh=5,ph=2500,fh=["mousedown","mousemove","mouseup","click"],_h=[0,1,4,2],mh=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(t){return!1}}();function gh(t){return fh.indexOf(t)>-1}let yh=!1;function vh(t){if(!gh(t)&&"touchend"!==t)return ah&&yh&&el?{passive:!0}:void 0}!function(){try{let t=Object.defineProperty({},"passive",{get(){yh=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}}();let bh=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const wh=[],xh={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},Ch={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function Sh(t){return xh[t.localName]||!1}function Ah(t){let e=Array.prototype.slice.call(t.labels||[]);if(!e.length){e=[];let n=t.getRootNode();if(t.id){let r=n.querySelectorAll(`label[for = ${t.id}]`);for(let t=0;t<r.length;t++)e.push(r[t])}}return e}let Th=function(t){let e=t.sourceCapabilities;if((!e||e.firesTouchEvents)&&(t[ch]={skip:!0},"click"===t.type)){let e=!1,n=Oh(t);for(let t=0;t<n.length;t++){if(n[t].nodeType===Node.ELEMENT_NODE)if("label"===n[t].localName)wh.push(n[t]);else if(Sh(n[t])){let r=Ah(n[t]);for(let t=0;t<r.length;t++)e=e||wh.indexOf(r[t])>-1}if(n[t]===Ih.mouse.target)return}if(e)return;t.preventDefault(),t.stopPropagation()}};function Ph(t){let e=bh?["click"]:fh;for(let n,r=0;r<e.length;r++)n=e[r],t?(wh.length=0,document.addEventListener(n,Th,!0)):document.removeEventListener(n,Th,!0)}function Eh(t){let e=t.type;if(!gh(e))return!1;if("mousemove"===e){let e=void 0===t.buttons?1:t.buttons;return t instanceof window.MouseEvent&&!mh&&(e=_h[t.which]||0),Boolean(1&e)}return 0===(void 0===t.button?0:t.button)}let Ih={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function Nh(t,e,n){t.movefn=e,t.upfn=n,document.addEventListener("mousemove",e),document.addEventListener("mouseup",n)}function Mh(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}ol&&document.addEventListener("touchend",function(t){if(!ol)return;Ih.mouse.mouseIgnoreJob||Ph(!0),Ih.mouse.target=Oh(t)[0],Ih.mouse.mouseIgnoreJob=rh.debounce(Ih.mouse.mouseIgnoreJob,nc.after(ph),function(){Ph(),Ih.mouse.target=null,Ih.mouse.mouseIgnoreJob=null})},!!yh&&{passive:!0});const Oh=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:t=>t.composedPath&&t.composedPath()||[],Rh={},kh=[];function zh(t){const e=Oh(t);return e.length>0?e[0]:t.target}function Dh(t){let e,n=t.type,r=t.currentTarget[lh];if(!r)return;let i=r[n];if(i){if(!t[ch]&&(t[ch]={},"touch"===n.slice(0,5))){let e=(t=t).changedTouches[0];if("touchstart"===n&&1===t.touches.length&&(Ih.touch.id=e.identifier),Ih.touch.id!==e.identifier)return;ah||"touchstart"!==n&&"touchmove"!==n||function(t){let e=t.changedTouches[0],n=t.type;if("touchstart"===n)Ih.touch.x=e.clientX,Ih.touch.y=e.clientY,Ih.touch.scrollDecided=!1;else if("touchmove"===n){if(Ih.touch.scrollDecided)return;Ih.touch.scrollDecided=!0;let n=function(t){let e="auto",n=Oh(t);for(let t,r=0;r<n.length;r++)if((t=n[r])[hh]){e=t[hh];break}return e}(t),r=!1,i=Math.abs(Ih.touch.x-e.clientX),s=Math.abs(Ih.touch.y-e.clientY);t.cancelable&&("none"===n?r=!0:"pan-x"===n?r=s>i:"pan-y"===n&&(r=i>s)),r?t.preventDefault():Uh("track")}}(t)}if(!(e=t[ch]).skip){for(let n,r=0;r<kh.length;r++)i[(n=kh[r]).name]&&!e[n.name]&&n.flow&&n.flow.start.indexOf(t.type)>-1&&n.reset&&n.reset();for(let r,s=0;s<kh.length;s++)i[(r=kh[s]).name]&&!e[r.name]&&(e[r.name]=!0,r[n](t))}}}function Lh(t,e,n){return!!Rh[e]&&(function(t,e,n){let r=Rh[e],i=r.deps,s=r.name,o=t[lh];o||(t[lh]=o={});for(let e,n,r=0;r<i.length;r++)e=i[r],bh&&gh(e)&&"click"!==e||((n=o[e])||(o[e]=n={_count:0}),0===n._count&&t.addEventListener(e,Dh,vh(e)),n[s]=(n[s]||0)+1,n._count=(n._count||0)+1);t.addEventListener(e,n),r.touchAction&&Bh(t,r.touchAction)}(t,e,n),!0)}function Fh(t,e,n){return!!Rh[e]&&(function(t,e,n){let r=Rh[e],i=r.deps,s=r.name,o=t[lh];if(o)for(let e,n,r=0;r<i.length;r++)e=i[r],(n=o[e])&&n[s]&&(n[s]=(n[s]||1)-1,n._count=(n._count||1)-1,0===n._count&&t.removeEventListener(e,Dh,vh(e)));t.removeEventListener(e,n)}(t,e,n),!0)}function Hh(t){kh.push(t);for(let e=0;e<t.emits.length;e++)Rh[t.emits[e]]=t}function Bh(t,e){ah&&t instanceof HTMLElement&&sc.run(()=>{t.style.touchAction=e}),t[hh]=e}function Vh(t,e,n){let r=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(r.detail=n,Dl(t).dispatchEvent(r),r.defaultPrevented){let t=n.preventer||n.sourceEvent;t&&t.preventDefault&&t.preventDefault()}}function Uh(t){let e=function(t){for(let e,n=0;n<kh.length;n++){e=kh[n];for(let n,r=0;r<e.emits.length;r++)if((n=e.emits[r])===t)return e}return null}(t);e.info&&(e.info.prevent=!0)}function $h(t,e,n,r){e&&Vh(e,t,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:r,prevent:function(t){return Uh(t)}})}function jh(t,e,n){if(t.prevent)return!1;if(t.started)return!0;let r=Math.abs(t.x-e),i=Math.abs(t.y-n);return r>=uh||i>=uh}function qh(t,e,n){if(!e)return;let r,i=t.moves[t.moves.length-2],s=t.moves[t.moves.length-1],o=s.x-t.x,a=s.y-t.y,l=0;i&&(r=s.x-i.x,l=s.y-i.y),Vh(e,"track",{state:t.state,x:n.clientX,y:n.clientY,dx:o,dy:a,ddx:r,ddy:l,sourceEvent:n,hover:function(){return function(t,e){let n=document.elementFromPoint(t,e),r=n;for(;r&&r.shadowRoot&&!window.ShadyDOM&&r!==(r=r.shadowRoot.elementFromPoint(t,e));)r&&(n=r);return n}(n.clientX,n.clientY)}})}function Gh(t,e,n){let r=Math.abs(e.clientX-t.x),i=Math.abs(e.clientY-t.y),s=zh(n||e);!s||Ch[s.localName]&&s.hasAttribute("disabled")||(isNaN(r)||isNaN(i)||r<=dh&&i<=dh||function(t){if("click"===t.type){if(0===t.detail)return!0;let e=zh(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;let n=e.getBoundingClientRect(),r=t.pageX,i=t.pageY;return!(r>=n.left&&r<=n.right&&i>=n.top&&i<=n.bottom)}return!1}(e))&&(t.prevent||Vh(s,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:n}))}Hh({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){Mh(this.info)},mousedown:function(t){if(!Eh(t))return;let e=zh(t),n=this;Nh(this.info,function(t){Eh(t)||($h("up",e,t),Mh(n.info))},function(t){Eh(t)&&$h("up",e,t),Mh(n.info)}),$h("down",e,t)},touchstart:function(t){$h("down",zh(t),t.changedTouches[0],t)},touchend:function(t){$h("up",zh(t),t.changedTouches[0],t)}}),Hh({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(t){this.moves.length>2&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,Mh(this.info)},mousedown:function(t){if(!Eh(t))return;let e=zh(t),n=this,r=function(t){let r=t.clientX,i=t.clientY;jh(n.info,r,i)&&(n.info.state=n.info.started?"mouseup"===t.type?"end":"track":"start","start"===n.info.state&&Uh("tap"),n.info.addMove({x:r,y:i}),Eh(t)||(n.info.state="end",Mh(n.info)),e&&qh(n.info,e,t),n.info.started=!0)};Nh(this.info,r,function(t){n.info.started&&r(t),Mh(n.info)}),this.info.x=t.clientX,this.info.y=t.clientY},touchstart:function(t){let e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove:function(t){let e=zh(t),n=t.changedTouches[0],r=n.clientX,i=n.clientY;jh(this.info,r,i)&&("start"===this.info.state&&Uh("tap"),this.info.addMove({x:r,y:i}),qh(this.info,e,n),this.info.state="track",this.info.started=!0)},touchend:function(t){let e=zh(t),n=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),qh(this.info,e,n))}}),Hh({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(t){Eh(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click:function(t){Eh(t)&&Gh(this.info,t)},touchstart:function(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend:function(t){Gh(this.info,t.changedTouches[0],t)}});const Yh=zl(t=>{return class extends t{_addEventListenerToNode(t,e,n){Lh(t,e,n)||super._addEventListenerToNode(t,e,n)}_removeEventListenerFromNode(t,e,n){Fh(t,e,n)||super._removeEventListenerFromNode(t,e,n)}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Wh(t,e,n){return{index:t,removed:e,addedCount:n}}const Xh=0,Jh=1,Kh=2,Zh=3;function Qh(t,e,n,r,i,s){let o,a=0,l=0,c=Math.min(n-e,s-i);if(0==e&&0==i&&(a=function(t,e,n){for(let r=0;r<n;r++)if(!ed(t[r],e[r]))return r;return n}(t,r,c)),n==t.length&&s==r.length&&(l=function(t,e,n){let r=t.length,i=e.length,s=0;for(;s<n&&ed(t[--r],e[--i]);)s++;return s}(t,r,c-a)),i+=a,s-=l,(n-=l)-(e+=a)==0&&s-i==0)return[];if(e==n){for(o=Wh(e,[],0);i<s;)o.removed.push(r[i++]);return[o]}if(i==s)return[Wh(e,[],n-e)];let h=function(t){let e=t.length-1,n=t[0].length-1,r=t[e][n],i=[];for(;e>0||n>0;){if(0==e){i.push(Kh),n--;continue}if(0==n){i.push(Zh),e--;continue}let s,o=t[e-1][n-1],a=t[e-1][n],l=t[e][n-1];(s=a<l?a<o?a:o:l<o?l:o)==o?(o==r?i.push(Xh):(i.push(Jh),r=o),e--,n--):s==a?(i.push(Zh),e--,r=a):(i.push(Kh),n--,r=l)}return i.reverse(),i}(function(t,e,n,r,i,s){let o=s-i+1,a=n-e+1,l=new Array(o);for(let t=0;t<o;t++)l[t]=new Array(a),l[t][0]=t;for(let t=0;t<a;t++)l[0][t]=t;for(let n=1;n<o;n++)for(let s=1;s<a;s++)if(ed(t[e+s-1],r[i+n-1]))l[n][s]=l[n-1][s-1];else{let t=l[n-1][s]+1,e=l[n][s-1]+1;l[n][s]=t<e?t:e}return l}(t,e,n,r,i,s));o=void 0;let d=[],u=e,p=i;for(let t=0;t<h.length;t++)switch(h[t]){case Xh:o&&(d.push(o),o=void 0),u++,p++;break;case Jh:o||(o=Wh(u,[],0)),o.addedCount++,u++,o.removed.push(r[p]),p++;break;case Kh:o||(o=Wh(u,[],0)),o.addedCount++,u++;break;case Zh:o||(o=Wh(u,[],0)),o.removed.push(r[p]),p++}return o&&d.push(o),d}function td(t,e){return Qh(t,0,t.length,e,0,e.length)}function ed(t,e){return t===e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function nd(t){return"slot"===t.localName}let rd=class{static getFlattenedNodes(t){const e=Dl(t);return nd(t)?(t=t,e.assignedNodes({flatten:!0})):Array.from(e.childNodes).map(t=>nd(t)?Dl(t=t).assignedNodes({flatten:!0}):[t]).reduce((t,e)=>t.concat(e),[])}constructor(t,e){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=t,this.callback=e,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=(()=>{this._schedule()}),this.connect(),this._schedule()}connect(){nd(this._target)?this._listenSlots([this._target]):Dl(this._target).children&&(this._listenSlots(Dl(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,t=>{this._processMutations(t)}):(this._nativeChildrenObserver=new MutationObserver(t=>{this._processMutations(t)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){nd(this._target)?this._unlistenSlots([this._target]):Dl(this._target).children&&(this._unlistenSlots(Dl(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,sc.run(()=>this.flush()))}_processMutations(t){this._processSlotMutations(t),this.flush()}_processSlotMutations(t){if(t)for(let e=0;e<t.length;e++){let n=t[e];n.addedNodes&&this._listenSlots(n.addedNodes),n.removedNodes&&this._unlistenSlots(n.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let t={target:this._target,addedNodes:[],removedNodes:[]},e=this.constructor.getFlattenedNodes(this._target),n=td(e,this._effectiveNodes);for(let e,r=0;r<n.length&&(e=n[r]);r++)for(let n,r=0;r<e.removed.length&&(n=e.removed[r]);r++)t.removedNodes.push(n);for(let r,i=0;i<n.length&&(r=n[i]);i++)for(let n=r.index;n<r.index+r.addedCount;n++)t.addedNodes.push(e[n]);this._effectiveNodes=e;let r=!1;return(t.addedNodes.length||t.removedNodes.length)&&(r=!0,this.callback.call(this._target,t)),r}_listenSlots(t){for(let e=0;e<t.length;e++){let n=t[e];nd(n)&&n.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(t){for(let e=0;e<t.length;e++){let n=t[e];nd(n)&&n.removeEventListener("slotchange",this._boundSchedule)}}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class id{constructor(){this.start=0,this.end=0,this.previous=null,this.parent=null,this.rules=null,this.parsedCssText="",this.cssText="",this.atRule=!1,this.type=0,this.keyframesName="",this.selector="",this.parsedSelector=""}}function sd(t){return function t(e,n){let r=n.substring(e.start,e.end-1);e.parsedCssText=e.cssText=r.trim();if(e.parent){let t=e.previous?e.previous.end:e.parent.start;r=(r=(r=function(t){return t.replace(/\\([0-9a-f]{1,6})\s/gi,function(){let t=arguments[1],e=6-t.length;for(;e--;)t="0"+t;return"\\"+t})}(r=n.substring(t,e.start-1))).replace(hd.multipleSpaces," ")).substring(r.lastIndexOf(";")+1);let i=e.parsedSelector=e.selector=r.trim();e.atRule=0===i.indexOf(pd),e.atRule?0===i.indexOf(ud)?e.type=ad.MEDIA_RULE:i.match(hd.keyframesRule)&&(e.type=ad.KEYFRAMES_RULE,e.keyframesName=e.selector.split(hd.multipleSpaces).pop()):0===i.indexOf(dd)?e.type=ad.MIXIN_RULE:e.type=ad.STYLE_RULE}let i=e.rules;if(i)for(let e,r=0,s=i.length;r<s&&(e=i[r]);r++)t(e,n);return e}(function(t){let e=new id;e.start=0,e.end=t.length;let n=e;for(let r=0,i=t.length;r<i;r++)if(t[r]===ld){n.rules||(n.rules=[]);let t=n,e=t.rules[t.rules.length-1]||null;(n=new id).start=r+1,n.parent=t,n.previous=e,t.rules.push(n)}else t[r]===cd&&(n.end=r+1,n=n.parent||e);return e}(t=function(t){return t.replace(hd.comments,"").replace(hd.port,"")}(t)),t)}function od(t,e,n=""){let r="";if(t.cssText||t.rules){let n=t.rules;if(n&&!function(t){let e=t[0];return Boolean(e)&&Boolean(e.selector)&&0===e.selector.indexOf(dd)}(n))for(let t,i=0,s=n.length;i<s&&(t=n[i]);i++)r=od(t,e,r);else(r=(r=e?t.cssText:function(t){return function(t){return t.replace(hd.mixinApply,"").replace(hd.varApply,"")}(t=function(t){return t.replace(hd.customProp,"").replace(hd.mixinProp,"")}(t))}(t.cssText)).trim())&&(r="  "+r+"\n")}return r&&(t.selector&&(n+=t.selector+" "+ld+"\n"),n+=r,t.selector&&(n+=cd+"\n\n")),n}const ad={STYLE_RULE:1,KEYFRAMES_RULE:7,MEDIA_RULE:4,MIXIN_RULE:1e3},ld="{",cd="}",hd={comments:/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,port:/@import[^;]*;/gim,customProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,mixinProp:/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,mixinApply:/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,varApply:/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,keyframesRule:/^@[^\s]*keyframes/,multipleSpaces:/\s+/g},dd="--",ud="@media",pd="@",fd=new Set,_d="shady-unscoped";function md(t){const e=t.textContent;if(!fd.has(e)){fd.add(e);const n=t.cloneNode(!0);document.head.appendChild(n)}}function gd(t){return t.hasAttribute(_d)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function yd(t,e){return t?("string"==typeof t&&(t=sd(t)),e&&bd(t,e),od(t,$a)):""}function vd(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=sd(t.textContent)),t.__cssRules||null}function bd(t,e,n,r){if(!t)return;let i=!1,s=t.type;if(r&&s===ad.MEDIA_RULE){let e=t.selector.match(za);e&&(window.matchMedia(e[1]).matches||(i=!0))}s===ad.STYLE_RULE?e(t):n&&s===ad.KEYFRAMES_RULE?n(t):s===ad.MIXIN_RULE&&(i=!0);let o=t.rules;if(o&&!i)for(let t,i=0,s=o.length;i<s&&(t=o[i]);i++)bd(t,e,n,r)}function wd(t,e){let n=0;for(let r=e,i=t.length;r<i;r++)if("("===t[r])n++;else if(")"===t[r]&&0==--n)return r;return-1}window.ShadyDOM&&window.ShadyDOM.wrap;const xd="css-build";function Cd(t){if(void 0!==Ba)return Ba;if(void 0===t.__cssBuild){const e=t.getAttribute(xd);if(e)t.__cssBuild=e;else{const e=function(t){const e="template"===t.localName?t.content.firstChild:t.firstChild;if(e instanceof Comment){const t=e.textContent.trim().split(":");if(t[0]===xd)return t[1]}return""}(t);""!==e&&function(t){const e="template"===t.localName?t.content.firstChild:t.firstChild;e.parentNode.removeChild(e)}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/(t),t.__cssBuild=e}}return t.__cssBuild||""}function Sd(t){return""!==Cd(t)}const Ad=/;\s*/m,Td=/^\s*(initial)|(inherit)\s*$/,Pd=/\s*!important/,Ed="_-_";class Id{constructor(){this._map={}}set(t,e){t=t.trim(),this._map[t]={properties:e,dependants:{}}}get(t){return t=t.trim(),this._map[t]||null}}let Nd=null;class Md{constructor(){this._currentElement=null,this._measureElement=null,this._map=new Id}detectMixin(t){return function(t){const e=ka.test(t)||Ra.test(t);return ka.lastIndex=0,Ra.lastIndex=0,e}(t)}gatherStyles(t){const e=function(t){const e=[],n=t.querySelectorAll("style");for(let t=0;t<n.length;t++){const r=n[t];gd(r)?Fa||(md(r),r.parentNode.removeChild(r)):(e.push(r.textContent),r.parentNode.removeChild(r))}return e.join("").trim()}(t.content);if(e){const n=document.createElement("style");return n.textContent=e,t.content.insertBefore(n,t.content.firstChild),n}return null}transformTemplate(t,e){void 0===t._gatheredStyle&&(t._gatheredStyle=this.gatherStyles(t));const n=t._gatheredStyle;return n?this.transformStyle(n,e):null}transformStyle(t,e=""){let n=vd(t);return this.transformRules(n,e),t.textContent=yd(n),n}transformCustomStyle(t){let e=vd(t);return bd(e,t=>{":root"===t.selector&&(t.selector="html"),this.transformRule(t)}),t.textContent=yd(e),e}transformRules(t,e){this._currentElement=e,bd(t,t=>{this.transformRule(t)}),this._currentElement=null}transformRule(t){t.cssText=this.transformCssText(t.parsedCssText,t),":root"===t.selector&&(t.selector=":host > *")}transformCssText(t,e){return t=t.replace(Ra,(t,n,r,i)=>this._produceCssProperties(t,n,r,i,e)),this._consumeCssProperties(t,e)}_getInitialValueForProperty(t){return this._measureElement||(this._measureElement=document.createElement("meta"),this._measureElement.setAttribute("apply-shim-measure",""),this._measureElement.style.all="initial",document.head.appendChild(this._measureElement)),window.getComputedStyle(this._measureElement).getPropertyValue(t)}_fallbacksFromPreviousRules(t){let e=t;for(;e.parent;)e=e.parent;const n={};let r=!1;return bd(e,e=>{(r=r||e===t)||e.selector===t.selector&&Object.assign(n,this._cssTextToMap(e.parsedCssText))}),n}_consumeCssProperties(t,e){let n=null;for(;n=ka.exec(t);){let r=n[0],i=n[1],s=n.index,o=s+r.indexOf("@apply"),a=s+r.length,l=t.slice(0,o),c=t.slice(a),h=e?this._fallbacksFromPreviousRules(e):{};Object.assign(h,this._cssTextToMap(l));let d=this._atApplyToCssProperties(i,h);t=`${l}${d}${c}`,ka.lastIndex=s+d.length}return t}_atApplyToCssProperties(t,e){t=t.replace(Ad,"");let n=[],r=this._map.get(t);if(r||(this._map.set(t,{}),r=this._map.get(t)),r){let i,s,o;this._currentElement&&(r.dependants[this._currentElement]=!0);const a=r.properties;for(i in a)o=e&&e[i],s=[i,": var(",t,Ed,i],o&&s.push(",",o.replace(Pd,"")),s.push(")"),Pd.test(a[i])&&s.push(" !important"),n.push(s.join(""))}return n.join("; ")}_replaceInitialOrInherit(t,e){let n=Td.exec(e);return n&&(e=n[1]?this._getInitialValueForProperty(t):"apply-shim-inherit"),e}_cssTextToMap(t,e=!1){let n,r,i=t.split(";"),s={};for(let t,o,a=0;a<i.length;a++)(t=i[a])&&(o=t.split(":")).length>1&&(n=o[0].trim(),r=o.slice(1).join(":"),e&&(r=this._replaceInitialOrInherit(n,r)),s[n]=r);return s}_invalidateMixinEntry(t){if(Nd)for(let e in t.dependants)e!==this._currentElement&&Nd(e)}_produceCssProperties(t,e,n,r,i){if(n&&function t(e,n){let r=e.indexOf("var(");if(-1===r)return n(e,"","","");let i=wd(e,r+3),s=e.substring(r+4,i),o=e.substring(0,r),a=t(e.substring(i+1),n),l=s.indexOf(",");return-1===l?n(o,s.trim(),"",a):n(o,s.substring(0,l).trim(),s.substring(l+1).trim(),a)}(n,(t,e)=>{e&&this._map.get(e)&&(r=`@apply ${e};`)}),!r)return t;let s=this._consumeCssProperties(""+r,i),o=t.slice(0,t.indexOf("--")),a=this._cssTextToMap(s,!0),l=a,c=this._map.get(e),h=c&&c.properties;h?l=Object.assign(Object.create(h),a):this._map.set(e,l);let d,u,p=[],f=!1;for(d in l)void 0===(u=a[d])&&(u="initial"),!h||d in h||(f=!0),p.push(`${e}${Ed}${d}: ${u}`);return f&&this._invalidateMixinEntry(c),c&&(c.properties=l),n&&(o=`${t};${o}`),`${o}${p.join("; ")};`}}Md.prototype.detectMixin=Md.prototype.detectMixin,Md.prototype.transformStyle=Md.prototype.transformStyle,Md.prototype.transformCustomStyle=Md.prototype.transformCustomStyle,Md.prototype.transformRules=Md.prototype.transformRules,Md.prototype.transformRule=Md.prototype.transformRule,Md.prototype.transformTemplate=Md.prototype.transformTemplate,Md.prototype._separator=Ed,Object.defineProperty(Md.prototype,"invalidCallback",{get:()=>Nd,set(t){Nd=t}});var Od=Md;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var Rd={};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const kd="_applyShimCurrentVersion",zd="_applyShimNextVersion",Dd="_applyShimValidatingVersion",Ld=Promise.resolve();function Fd(t){let e=Rd[t];e&&function(t){t[kd]=t[kd]||0,t[Dd]=t[Dd]||0,t[zd]=(t[zd]||0)+1}(e)}function Hd(t){return t[kd]===t[zd]}function Bd(t){return!Hd(t)&&t[Dd]===t[zd]}function Vd(t){t[Dd]=t[zd],t._validating||(t._validating=!0,Ld.then(function(){t[kd]=t[zd],t._validating=!1}))}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Ud=new Od;if(!window.ShadyCSS||!window.ShadyCSS.ScopingShim){const t=new class{constructor(){this.customStyleInterface=null,Ud.invalidCallback=Fd}ensure(){this.customStyleInterface||window.ShadyCSS.CustomStyleInterface&&(this.customStyleInterface=window.ShadyCSS.CustomStyleInterface,this.customStyleInterface.transformCallback=(t=>{Ud.transformCustomStyle(t)}),this.customStyleInterface.validateCallback=(()=>{requestAnimationFrame(()=>{this.customStyleInterface.enqueued&&this.flushCustomStyles()})}))}prepareTemplate(t,e){if(this.ensure(),Sd(t))return;Rd[e]=t;let n=Ud.transformTemplate(t,e);t._styleAst=n}flushCustomStyles(){if(this.ensure(),!this.customStyleInterface)return;let t=this.customStyleInterface.processStyles();if(this.customStyleInterface.enqueued){for(let e=0;e<t.length;e++){let n=t[e],r=this.customStyleInterface.getStyleForCustomStyle(n);r&&Ud.transformCustomStyle(r)}this.customStyleInterface.enqueued=!1}}styleSubtree(t,e){if(this.ensure(),e&&Da(t,e),t.shadowRoot){this.styleElement(t);let e=t.shadowRoot.children||t.shadowRoot.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}else{let e=t.children||t.childNodes;for(let t=0;t<e.length;t++)this.styleSubtree(e[t])}}styleElement(t){this.ensure();let{is:e}=function(t){let e=t.localName,n="",r="";return e?e.indexOf("-")>-1?n=e:(r=e,n=t.getAttribute&&t.getAttribute("is")||""):(n=t.is,r=t.extends),{is:n,typeExtension:r}}(t),n=Rd[e];if((!n||!Sd(n))&&n&&!Hd(n)){Bd(n)||(this.prepareTemplate(n,e),Vd(n));let r=t.shadowRoot;if(r){let t=r.querySelector("style");t&&(t.__cssRules=n._styleAst,t.textContent=yd(n._styleAst))}}}styleDocument(t){this.ensure(),this.styleSubtree(document.body,t)}};let e=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate(e,n,r){t.flushCustomStyles(),t.prepareTemplate(e,n)},prepareTemplateStyles(t,e,n){window.ShadyCSS.prepareTemplate(t,e,n)},prepareTemplateDom(t,e){},styleSubtree(e,n){t.flushCustomStyles(),t.styleSubtree(e,n)},styleElement(e){t.flushCustomStyles(),t.styleElement(e)},styleDocument(e){t.flushCustomStyles(),t.styleDocument(e)},getComputedStyleValue:(t,e)=>La(t,e),flushCustomStyles(){t.flushCustomStyles()},nativeCss:$a,nativeShadow:Fa,cssBuild:Ba,disableRuntime:Ua},e&&(window.ShadyCSS.CustomStyleInterface=e)}window.ShadyCSS.ApplyShim=Ud;
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const $d=/:host\(:dir\((ltr|rtl)\)\)/g,jd=':host([dir="$1"])',qd=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,Gd=':host([dir="$2"]) $1',Yd=/:dir\((?:ltr|rtl)\)/,Wd=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),Xd=[];let Jd=null,Kd="";function Zd(){Kd=document.documentElement.getAttribute("dir")}function Qd(t){if(!t.__autoDirOptOut){t.setAttribute("dir",Kd)}}function tu(){Zd(),Kd=document.documentElement.getAttribute("dir");for(let t=0;t<Xd.length;t++)Qd(Xd[t])}const eu=zl(t=>{Wd||Jd||(Zd(),(Jd=new MutationObserver(tu)).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const e=hc(t);class n extends e{static _processStyleText(t,n){return t=e._processStyleText.call(this,t,n),!Wd&&Yd.test(t)&&(t=this._replaceDirInCssText(t),this.__activateDir=!0),t}static _replaceDirInCssText(t){let e=t;return e=(e=e.replace($d,jd)).replace(qd,Gd)}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){e.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(Jd&&Jd.takeRecords().length&&tu(),Xd.push(this),Qd(this))}disconnectedCallback(){if(e.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const t=Xd.indexOf(this);t>-1&&Xd.splice(t,1)}}}return n.__activateDir=!1,n});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let nu=!1,ru=[],iu=[];function su(){nu=!0,requestAnimationFrame(function(){nu=!1,ou(ru),setTimeout(function(){!function(t){for(let e=0,n=t.length;e<n;e++)au(t.shift())}(iu)})})}function ou(t){for(;t.length;)au(t.shift())}function au(t){const e=t[0],n=t[1],r=t[2];try{n.apply(e,r)}catch(t){setTimeout(()=>{throw t})}}function lu(t,e,n){nu||su(),iu.push([t,e,n])}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function cu(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?cu():window.addEventListener("DOMContentLoaded",cu);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const hu=function(){let t,e;do{t=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),e=oh()}while(t||e)},du=Element.prototype,uu=du.matches||du.matchesSelector||du.mozMatchesSelector||du.msMatchesSelector||du.oMatchesSelector||du.webkitMatchesSelector,pu=function(t,e){return uu.call(t,e)};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/class fu{constructor(t){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(t),this.node=t}observeNodes(t){return new rd(this.node,t)}unobserveNodes(t){t.disconnect()}notifyObserver(){}deepContains(t){if(Dl(this.node).contains(t))return!0;let e=t,n=t.ownerDocument;for(;e&&e!==n&&e!==this.node;)e=Dl(e).parentNode||Dl(e).host;return e===this.node}getOwnerRoot(){return Dl(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?Dl(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let t=[],e=Dl(this.node).assignedSlot;for(;e;)t.push(e),e=Dl(e).assignedSlot;return t}importNode(t,e){let n=this.node instanceof Document?this.node:this.node.ownerDocument;return Dl(n).importNode(t,e)}getEffectiveChildNodes(){return rd.getFlattenedNodes(this.node)}queryDistributedElements(t){let e=this.getEffectiveChildNodes(),n=[];for(let r,i=0,s=e.length;i<s&&(r=e[i]);i++)r.nodeType===Node.ELEMENT_NODE&&pu(r,t)&&n.push(r);return n}get activeElement(){let t=this.node;return void 0!==t._activeElement?t._activeElement:t.activeElement}}function _u(t,e){for(let n=0;n<e.length;n++){let r=e[n];Object.defineProperty(t,r,{get:function(){return this.node[r]},configurable:!0})}}class mu{constructor(t){this.event=t}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}fu.prototype.cloneNode,fu.prototype.appendChild,fu.prototype.insertBefore,fu.prototype.removeChild,fu.prototype.replaceChild,fu.prototype.setAttribute,fu.prototype.removeAttribute,fu.prototype.querySelector,fu.prototype.querySelectorAll,fu.prototype.parentNode,fu.prototype.firstChild,fu.prototype.lastChild,fu.prototype.nextSibling,fu.prototype.previousSibling,fu.prototype.firstElementChild,fu.prototype.lastElementChild,fu.prototype.nextElementSibling,fu.prototype.previousElementSibling,fu.prototype.childNodes,fu.prototype.children,fu.prototype.classList,fu.prototype.textContent,fu.prototype.innerHTML;let gu=fu;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class t extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(fu.prototype).forEach(e=>{"activeElement"!=e&&(t.prototype[e]=fu.prototype[e])}),_u(t.prototype,["classList"]),gu=t,Object.defineProperties(mu.prototype,{localTarget:{get(){const t=this.event.currentTarget,e=t&&yu(t).getOwnerRoot(),n=this.path;for(let t=0;t<n.length;t++){const r=n[t];if(yu(r).getOwnerRoot()===e)return r}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(t,e){for(let n=0;n<e.length;n++){let r=e[n];t[r]=function(){return this.node[r].apply(this.node,arguments)}}}(fu.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),_u(fu.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(t,e){for(let n=0;n<e.length;n++){let r=e[n];Object.defineProperty(t,r,{get:function(){return this.node[r]},set:function(t){this.node[r]=t},configurable:!0})}}(fu.prototype,["textContent","innerHTML","className"]);const yu=function(t){if((t=t||document)instanceof gu)return t;if(t instanceof mu)return t;let e=t.__domApi;return e||(e=t instanceof Event?new mu(t):new gu(t),t.__domApi=e),e},vu=window.ShadyDOM,bu=window.ShadyCSS;function wu(t,e){return Dl(t).getRootNode()===e}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let xu=window.ShadyCSS;const Cu=zl(t=>{const e=eu(Yh(eh(t))),n={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class r extends e{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers}static get importMeta(){return this.prototype.importMeta}created(){}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.attached()}attached(){}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this.detached()}detached(){}attributeChangedCallback(t,e,n,r){e!==n&&(super.attributeChangedCallback(t,e,n,r),this.attributeChanged(t,e,n))}attributeChanged(t,e,n){}_initializeProperties(){let t=Object.getPrototypeOf(this);t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))||(this._registered(),t.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),this._applyListeners()}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(t){return this._serializeValue(t)}deserialize(t,e){return this._deserializeValue(t,e)}reflectPropertyToAttribute(t,e,n){this._propertyToAttribute(t,e,n)}serializeValueToAttribute(t,e,n){this._valueToNodeAttribute(n||this,t,e)}extend(t,e){if(!t||!e)return t||e;let n=Object.getOwnPropertyNames(e);for(let r,i=0;i<n.length&&(r=n[i]);i++){let n=Object.getOwnPropertyDescriptor(e,r);n&&Object.defineProperty(t,r,n)}return t}mixin(t,e){for(let n in e)t[n]=e[n];return t}chainObject(t,e){return t&&e&&t!==e&&(t.__proto__=e),t}instanceTemplate(t){let e=this.constructor._contentForTemplate(t);return document.importNode(e,!0)}fire(t,e,n){n=n||{},e=null===e||void 0===e?{}:e;let r=new Event(t,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});r.detail=e;let i=n.node||this;return Dl(i).dispatchEvent(r),r}listen(t,e,n){t=t||this;let r=this.__boundListeners||(this.__boundListeners=new WeakMap),i=r.get(t);i||(i={},r.set(t,i));let s=e+n;i[s]||(i[s]=this._addMethodEventListenerToNode(t,e,n,this))}unlisten(t,e,n){t=t||this;let r=this.__boundListeners&&this.__boundListeners.get(t),i=e+n,s=r&&r[i];s&&(this._removeEventListenerFromNode(t,e,s),r[i]=null)}setScrollDirection(t,e){Bh(e||this,n[t]||"auto")}$$(t){return this.root.querySelector(t)}get domHost(){let t=Dl(this).getRootNode();return t instanceof DocumentFragment?t.host:t}distributeContent(){const t=yu(this);window.ShadyDOM&&t.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return yu(this).getEffectiveChildNodes()}queryDistributedElements(t){return yu(this).queryDistributedElements(t)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter(function(t){return t.nodeType===Node.ELEMENT_NODE})}getEffectiveTextContent(){let t=this.getEffectiveChildNodes(),e=[];for(let n,r=0;n=t[r];r++)n.nodeType!==Node.COMMENT_NODE&&e.push(n.textContent);return e.join("")}queryEffectiveChildren(t){let e=this.queryDistributedElements(t);return e&&e[0]}queryAllEffectiveChildren(t){return this.queryDistributedElements(t)}getContentChildNodes(t){let e=this.root.querySelector(t||"slot");return e?yu(e).getDistributedNodes():[]}getContentChildren(t){return this.getContentChildNodes(t).filter(function(t){return t.nodeType===Node.ELEMENT_NODE})}isLightDescendant(t){return this!==t&&Dl(this).contains(t)&&Dl(this).getRootNode()===Dl(t).getRootNode()}isLocalDescendant(t){return this.root===Dl(t).getRootNode()}scopeSubtree(t,e=!1){return function(t,e=!1){if(!vu||!bu)return null;if(!vu.handlesDynamicScoping)return null;const n=bu.ScopingShim;if(!n)return null;const r=n.scopeForNode(t),i=Dl(t).getRootNode(),s=t=>{if(!wu(t,i))return;const e=Array.from(vu.nativeMethods.querySelectorAll.call(t,"*"));e.push(t);for(let t=0;t<e.length;t++){const s=e[t];if(!wu(s,i))continue;const o=n.currentScopeForNode(s);o!==r&&(""!==o&&n.unscopeNode(s,o),n.scopeNode(s,r))}};if(s(t),e){const e=new MutationObserver(t=>{for(let e=0;e<t.length;e++){const n=t[e];for(let t=0;t<n.addedNodes.length;t++){const e=n.addedNodes[t];e.nodeType===Node.ELEMENT_NODE&&s(e)}}});return e.observe(t,{childList:!0,subtree:!0}),e}return null}(t,e)}getComputedStyleValue(t){return xu.getComputedStyleValue(this,t)}debounce(t,e,n){return this._debouncers=this._debouncers||{},this._debouncers[t]=rh.debounce(this._debouncers[t],n>0?nc.after(n):sc,e.bind(this))}isDebouncerActive(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];return!(!e||!e.isActive())}flushDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.flush()}cancelDebouncer(t){this._debouncers=this._debouncers||{};let e=this._debouncers[t];e&&e.cancel()}async(t,e){return e>0?nc.run(t.bind(this),e):~sc.run(t.bind(this))}cancelAsync(t){t<0?sc.cancel(~t):nc.cancel(t)}create(t,e){let n=document.createElement(t);if(e)if(n.setProperties)n.setProperties(e);else for(let t in e)n[t]=e[t];return n}elementMatches(t,e){return pu(e||this,t)}toggleAttribute(t,e){let n=this;return 3===arguments.length&&(n=arguments[2]),1==arguments.length&&(e=!n.hasAttribute(t)),e?(Dl(n).setAttribute(t,""),!0):(Dl(n).removeAttribute(t),!1)}toggleClass(t,e,n){n=n||this,1==arguments.length&&(e=!n.classList.contains(t)),e?n.classList.add(t):n.classList.remove(t)}transform(t,e){(e=e||this).style.webkitTransform=t,e.style.transform=t}translate3d(t,e,n,r){r=r||this,this.transform("translate3d("+t+","+e+","+n+")",r)}arrayDelete(t,e){let n;if(Array.isArray(t)){if((n=t.indexOf(e))>=0)return t.splice(n,1)}else{if((n=jl(this,t).indexOf(e))>=0)return this.splice(t,n,1)}return null}_logger(t,e){switch(Array.isArray(e)&&1===e.length&&Array.isArray(e[0])&&(e=e[0]),t){case"log":case"warn":case"error":console[t](...e)}}_log(...t){this._logger("log",t)}_warn(...t){this._logger("warn",t)}_error(...t){this._logger("error",t)}_logf(t,...e){return["[%s::%s]",this.is,t,...e]}}return r.prototype.is="",r}),Su={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},Au={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},Tu=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},Au);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Pu(t,e,n,r){!function(t,e,n){const r=t._noAccessors,i=Object.getOwnPropertyNames(t);for(let s=0;s<i.length;s++){let o=i[s];if(!(o in n))if(r)e[o]=t[o];else{let n=Object.getOwnPropertyDescriptor(t,o);n&&(n.configurable=!0,Object.defineProperty(e,o,n))}}}(e,t,r);for(let t in Su)e[t]&&(n[t]=n[t]||[],n[t].push(e[t]))}function Eu(t,e){for(const n in e){const r=t[n],i=e[n];t[n]=!("value"in i)&&r&&"value"in r?Object.assign({value:r.value},i):i}}function Iu(t,e,n){let r;const i={};class s extends e{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(r)for(let t,e=0;e<r.length;e++)(t=r[e]).properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties);t.properties&&this.createProperties(t.properties),t.observers&&this.createObservers(t.observers,t.properties),this._prepareTemplate()}else e._finalizeClass.call(this)}static get properties(){const e={};if(r)for(let t=0;t<r.length;t++)Eu(e,r[t].properties);return Eu(e,t.properties),e}static get observers(){let e=[];if(r)for(let t,n=0;n<r.length;n++)(t=r[n]).observers&&(e=e.concat(t.observers));return t.observers&&(e=e.concat(t.observers)),e}created(){super.created();const t=i.created;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}_registered(){const t=s.prototype;if(!t.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",t))){t.__hasRegisterFinished=!0,super._registered(),il&&o(t);const e=Object.getPrototypeOf(this);let n=i.beforeRegister;if(n)for(let t=0;t<n.length;t++)n[t].call(e);if(n=i.registered)for(let t=0;t<n.length;t++)n[t].call(e)}}_applyListeners(){super._applyListeners();const t=i.listeners;if(t)for(let e=0;e<t.length;e++){const n=t[e];if(n)for(let t in n)this._addMethodEventListenerToNode(this,t,n[t])}}_ensureAttributes(){const t=i.hostAttributes;if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];for(let t in n)this._ensureAttribute(t,n[t])}super._ensureAttributes()}ready(){super.ready();let t=i.ready;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attached(){super.attached();let t=i.attached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}detached(){super.detached();let t=i.detached;if(t)for(let e=0;e<t.length;e++)t[e].call(this)}attributeChanged(t,e,n){super.attributeChanged();let r=i.attributeChanged;if(r)for(let i=0;i<r.length;i++)r[i].call(this,t,e,n)}}if(n){Array.isArray(n)||(n=[n]);let t=e.prototype.behaviors;r=function t(e,n,r){n=n||[];for(let i=e.length-1;i>=0;i--){let s=e[i];s?Array.isArray(s)?t(s,n):n.indexOf(s)<0&&(!r||r.indexOf(s)<0)&&n.unshift(s):console.warn("behavior is null, check for missing or 404 import")}return n}(n,null,t),s.prototype.behaviors=t?t.concat(n):r}const o=e=>{r&&function(t,e,n){for(let r=0;r<e.length;r++)Pu(t,e[r],n,Tu)}(e,r,i),Pu(e,t,i,Au)};return il||o(s.prototype),s.generatedFrom=t,s}const Nu=function(t,e){t||console.warn("Polymer.Class requires `info` argument");let n=e?e(Cu(HTMLElement)):Cu(HTMLElement);return(n=Iu(t,n,t.behaviors)).is=n.prototype.is=t.is,n},Mu=function(t){let e;return e="function"==typeof t?t:Mu.Class(t),customElements.define(e.is,e),e};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function Ou(t,e,n,r,i){let s;i&&(s="object"==typeof n&&null!==n)&&(r=t.__dataTemp[e]);let o=r!==n&&(r==r||n==n);return s&&o&&(t.__dataTemp[e]=n),o}Mu.Class=Nu;const Ru=zl(t=>{return class extends t{_shouldPropertyChange(t,e,n){return Ou(this,t,e,n,!0)}}}),ku=zl(t=>{return class extends t{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(t,e,n){return Ou(this,t,e,n,this.mutableData)}}});Ru._mutablePropertyChange=Ou;
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let zu=null;function Du(){return zu}Du.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:Du,writable:!0}});const Lu=Xc(Du),Fu=Ru(Lu);const Hu=Xc(class{});class Bu extends Hu{constructor(t){super(),this._configureProperties(t),this.root=this._stampTemplate(this.__dataHost);let e=[];this.children=e;for(let t=this.root.firstChild;t;t=t.nextSibling)e.push(t),t.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let n=this.__templatizeOptions;(t&&n.instanceProps||!n.instanceProps)&&this._enableProperties()}_configureProperties(t){if(this.__templatizeOptions.forwardHostProp)for(let t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(let e in t)this._setPendingProperty(e,t[e])}forwardHostProp(t,e){this._setPendingPropertyOrPath(t,e,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(t,e,n){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(t,e,t=>{t.model=this,n(t)});else{let r=this.__dataHost.__dataHost;r&&r._addEventListenerToNode(t,e,n)}}_showHideChildren(t){let e=this.children;for(let n=0;n<e.length;n++){let r=e[n];if(Boolean(t)!=Boolean(r.__hideTemplateChildren__))if(r.nodeType===Node.TEXT_NODE)t?(r.__polymerTextContent__=r.textContent,r.textContent=""):r.textContent=r.__polymerTextContent__;else if("slot"===r.localName)if(t)r.__polymerReplaced__=document.createComment("hidden-slot"),Dl(Dl(r).parentNode).replaceChild(r.__polymerReplaced__,r);else{const t=r.__polymerReplaced__;t&&Dl(Dl(t).parentNode).replaceChild(r,t)}else r.style&&(t?(r.__polymerDisplay__=r.style.display,r.style.display="none"):r.style.display=r.__polymerDisplay__);r.__hideTemplateChildren__=t,r._showHideChildren&&r._showHideChildren(t)}}_setUnmanagedPropertyToNode(t,e,n){t.__hideTemplateChildren__&&t.nodeType==Node.TEXT_NODE&&"textContent"==e?t.__polymerTextContent__=n:super._setUnmanagedPropertyToNode(t,e,n)}get parentModel(){let t=this.__parentModel;if(!t){let e;t=this;do{t=t.__dataHost.__dataHost}while((e=t.__templatizeOptions)&&!e.parentModel);this.__parentModel=t}return t}dispatchEvent(t){return!0}}Bu.prototype.__dataHost,Bu.prototype.__templatizeOptions,Bu.prototype._methodHost,Bu.prototype.__templatizeOwner,Bu.prototype.__hostProps;const Vu=Ru(Bu);function Uu(t){let e=t.__dataHost;return e&&e._methodHost||e}function $u(t,e,n){let r=n.mutableData?Vu:Bu;Yu.mixin&&(r=Yu.mixin(r));let i=class extends r{};return i.prototype.__templatizeOptions=n,i.prototype._bindTemplate(t),function(t,e,n,r){let i=n.hostProps||{};for(let e in r.instanceProps){delete i[e];let n=r.notifyInstanceProp;n&&t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:Gu(e,n)})}if(r.forwardHostProp&&e.__dataHost)for(let e in i)n.hasHostProps||(n.hasHostProps=!0),t.prototype._addPropertyEffect(e,t.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(t,e,n){t.__dataHost._setPendingPropertyOrPath("_host_"+e,n[e],!0,!0)}})}(i,t,e,n),i}function ju(t,e,n){let r=n.forwardHostProp;if(r&&e.hasHostProps){let i=e.templatizeTemplateClass;if(!i){let t=n.mutableData?Fu:Lu;i=e.templatizeTemplateClass=class extends t{};let s=e.hostProps;for(let t in s)i.prototype._addPropertyEffect("_host_"+t,i.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:qu(t,r)}),i.prototype._createNotifyingProperty("_host_"+t)}!function(t,e){zu=t,Object.setPrototypeOf(t,e.prototype),new e,zu=null}(t,i),t.__dataProto&&Object.assign(t.__data,t.__dataProto),t.__dataTemp={},t.__dataPending=null,t.__dataOld=null,t._enableProperties()}}function qu(t,e){return function(t,n,r){e.call(t.__templatizeOwner,n.substring("_host_".length),r[n])}}function Gu(t,e){return function(t,n,r){e.call(t.__templatizeOwner,t,n,r[n])}}function Yu(t,e,n){if(nl&&!Uu(t))throw new Error("strictTemplatePolicy: template owner not trusted");if(n=n||{},t.__templatizeOwner)throw new Error("A <template> can only be templatized once");t.__templatizeOwner=e;let r=(e?e.constructor:Bu)._parseTemplate(t),i=r.templatizeInstanceClass;i||(i=$u(t,r,n),r.templatizeInstanceClass=i),ju(t,r,n);let s=class extends i{};return s.prototype._methodHost=Uu(t),s.prototype.__dataHost=t,s.prototype.__templatizeOwner=e,s.prototype.__hostProps=r.hostProps,s=s}function Wu(t,e){let n;for(;e;)if(n=e.__templatizeInstance){if(n.__dataHost==t)return n;e=n.__dataHost}else e=Dl(e).parentNode;return null}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let Xu=!1;function Ju(){if(il&&!Za){if(!Xu){Xu=!0;const t=document.createElement("style");t.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(t)}return!0}return!1}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Ku=Yh(ku(Xc(HTMLElement)));customElements.define("dom-bind",class extends Ku{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),nl)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(t,e,n,r){this.mutableData=!0}connectedCallback(){Ju()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){Dl(Dl(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let t=0;t<this.__children.length;t++)this.root.appendChild(this.__children[t])}render(){let t;if(!this.__children){if(!(t=t||this.querySelector("template"))){let e=new MutationObserver(()=>{if(!(t=this.querySelector("template")))throw new Error("dom-bind requires a <template> child");e.disconnect(),this.render()});return void e.observe(this,{childList:!0})}this.root=this._stampTemplate(t),this.$=this.root.$,this.__children=[];for(let t=this.root.firstChild;t;t=t.nextSibling)this.__children[this.__children.length]=t;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const Zu=ku(nh);class Qu extends Zu{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__limit=1/0,this.__pool=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__lastChunkTime=null,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let t=0;t<this.__instances.length;t++)this.__detachInstance(t)}connectedCallback(){if(super.connectedCallback(),Ju()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let t=Dl(Dl(this).parentNode);for(let e=0;e<this.__instances.length;e++)this.__attachInstance(e,t)}}__ensureTemplatized(){if(!this.__ctor){let t=this.template=this.querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}let e={};e[this.as]=!0,e[this.indexAs]=!0,e[this.itemsIndexAs]=!0,this.__ctor=Yu(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:e,forwardHostProp:function(t,e){let n=this.__instances;for(let r,i=0;i<n.length&&(r=n[i]);i++)r.forwardHostProp(t,e)},notifyInstanceProp:function(t,e,n){if(function(t,e){return t===e||Hl(t,e)||Bl(t,e)}(this.as,e)){let r=t[this.itemsIndexAs];e==this.as&&(this.items[r]=n);let i=Vl(this.as,`${JSCompiler_renameProperty("items",this)}.${r}`,e);this.notifyPath(i,n)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(t){if("string"==typeof t){let e=t,n=this.__getMethodHost();return function(){return n[e].apply(n,arguments)}}return t}__sortChanged(t){this.__sortFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__filterChanged(t){this.__filterFn=this.__functionFromPropertyValue(t),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(t){return Math.ceil(1e3/t)}__initializeChunking(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}__tryRenderChunk(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}__requestRenderChunk(){requestAnimationFrame(()=>this.__renderChunk())}__renderChunk(){let t=performance.now(),e=this._targetFrameTime/(t-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*e)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=t,this.__debounceRender(this.__render)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__itemsChanged(t){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(t.path,t.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}__handleObservedPaths(t){if(this.__sortFn||this.__filterFn)if(t){if(this.__observePaths){let e=this.__observePaths;for(let n=0;n<e.length;n++)0===t.indexOf(e[n])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__debounceRender(t,e=0){this.__renderDebouncer=rh.debounce(this.__renderDebouncer,e>0?nc.after(e):sc,t.bind(this)),sh(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),hu()}__render(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}__applyFullRefresh(){let t=this.items||[],e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=n;this.__filterFn&&(e=e.filter((e,n,r)=>this.__filterFn(t[e],n,r))),this.__sortFn&&e.sort((e,n)=>this.__sortFn(t[e],t[n]));const n=this.__itemsIdxToInstIdx={};let r=0;const i=Math.min(e.length,this.__limit);for(;r<i;r++){let i=this.__instances[r],s=e[r],o=t[s];n[s]=r,i?(i._setPendingProperty(this.as,o),i._setPendingProperty(this.indexAs,r),i._setPendingProperty(this.itemsIndexAs,s),i._flushProperties()):this.__insertInstance(o,r,s)}for(let t=this.__instances.length-1;t>=r;t--)this.__detachAndRemoveInstance(t)}__detachInstance(t){let e=this.__instances[t];const n=Dl(e.root);for(let t=0;t<e.children.length;t++){let r=e.children[t];n.appendChild(r)}return e}__attachInstance(t,e){let n=this.__instances[t];e.insertBefore(n.root,this)}__detachAndRemoveInstance(t){let e=this.__detachInstance(t);e&&this.__pool.push(e),this.__instances.splice(t,1)}__stampInstance(t,e,n){let r={};return r[this.as]=t,r[this.indexAs]=e,r[this.itemsIndexAs]=n,new this.__ctor(r)}__insertInstance(t,e,n){let r=this.__pool.pop();r?(r._setPendingProperty(this.as,t),r._setPendingProperty(this.indexAs,e),r._setPendingProperty(this.itemsIndexAs,n),r._flushProperties()):r=this.__stampInstance(t,e,n);let i=this.__instances[e+1],s=i?i.children[0]:this;return Dl(Dl(this).parentNode).insertBefore(r.root,s),this.__instances[e]=r,r}_showHideChildren(t){for(let e=0;e<this.__instances.length;e++)this.__instances[e]._showHideChildren(t)}__handleItemPath(t,e){let n=t.slice(6),r=n.indexOf("."),i=r<0?n:n.substring(0,r);if(i==parseInt(i,10)){let t=r<0?"":n.substring(r+1);this.__handleObservedPaths(t);let s=this.__itemsIdxToInstIdx[i],o=this.__instances[s];if(o){let n=this.as+(t?"."+t:"");o._setPendingPropertyOrPath(n,e,!1,!0),o._flushProperties()}return!0}}itemForElement(t){let e=this.modelForElement(t);return e&&e[this.as]}indexForElement(t){let e=this.modelForElement(t);return e&&e[this.indexAs]}modelForElement(t){return Wu(this.template,t)}}customElements.define(Qu.is,Qu);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class tp extends nh{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}constructor(){super(),this.__renderDebouncer=null,this.__invalidProps=null,this.__instance=null,this._lastIf=!1,this.__ctor=null,this.__hideTemplateChildren__=!1}__debounceRender(){this.__renderDebouncer=rh.debounce(this.__renderDebouncer,sc,()=>this.__render()),sh(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const t=Dl(this).parentNode;t&&(t.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||Dl(t).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),Ju()||(this.style.display="none"),this.if&&this.__debounceRender()}render(){hu()}__render(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__ensureInstance(){let t=Dl(this).parentNode;if(t){if(!this.__ctor){let t=Dl(this).querySelector("template");if(!t){let t=new MutationObserver(()=>{if(!Dl(this).querySelector("template"))throw new Error("dom-if requires a <template> child");t.disconnect(),this.__render()});return t.observe(this,{childList:!0}),!1}this.__ctor=Yu(t,this,{mutableData:!0,forwardHostProp:function(t,e){this.__instance&&(this.if?this.__instance.forwardHostProp(t,e):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Fl(t)]=!0))}})}if(this.__instance){this.__syncHostProperties();let e=this.__instance.children;if(e&&e.length){if(Dl(this).previousSibling!==e[e.length-1])for(let n,r=0;r<e.length&&(n=e[r]);r++)Dl(t).insertBefore(n,this)}}else this.__instance=new this.__ctor,Dl(t).insertBefore(this.__instance.root,this)}return!0}__syncHostProperties(){let t=this.__invalidProps;if(t){for(let e in t)this.__instance._setPendingProperty(e,this.__dataHost[e]);this.__invalidProps=null,this.__instance._flushProperties()}}__teardownInstance(){if(this.__instance){let t=this.__instance.children;if(t&&t.length){let e=Dl(t[0]).parentNode;if(e){e=Dl(e);for(let n,r=0;r<t.length&&(n=t[r]);r++)e.removeChild(n)}}this.__instance=null,this.__invalidProps=null}}_showHideChildren(){let t=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(t)}}customElements.define(tp.is,tp);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ep,np=zl(t=>{let e=eh(t);return class extends e{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(t,e){let n=e.path;if(n==JSCompiler_renameProperty("items",this)){let n=e.base||[],r=this.__lastItems;if(t!==this.__lastMulti&&this.clearSelection(),r){let t=td(n,r);this.__applySplices(t)}this.__lastItems=n,this.__lastMulti=t}else if(e.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(e.value.indexSplices);else{let t=n.slice(`${JSCompiler_renameProperty("items",this)}.`.length),e=parseInt(t,10);t.indexOf(".")<0&&t==e&&this.__deselectChangedIdx(e)}}__applySplices(t){let e=this.__selectedMap;for(let n=0;n<t.length;n++){let r=t[n];e.forEach((t,n)=>{t<r.index||(t>=r.index+r.removed.length?e.set(n,t+r.addedCount-r.removed.length):e.set(n,-1))});for(let t=0;t<r.addedCount;t++){let n=r.index+t;e.has(this.items[n])&&e.set(this.items[n],n)}}this.__updateLinks();let n=0;e.forEach((t,r)=>{t<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null,e.delete(r)):n++})}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let t=0;this.__selectedMap.forEach(e=>{e>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${e}`,`${JSCompiler_renameProperty("selected",this)}.${t++}`)})}else this.__selectedMap.forEach(t=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${t}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${t}`)})}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(t){return this.__selectedMap.has(t)}isIndexSelected(t){return this.isSelected(this.items[t])}__deselectChangedIdx(t){let e=this.__selectedIndexForItemIndex(t);if(e>=0){let t=0;this.__selectedMap.forEach((n,r)=>{e==t++&&this.deselect(r)})}}__selectedIndexForItemIndex(t){let e=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${t}`];if(e)return parseInt(e.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(t){let e=this.__selectedMap.get(t);if(e>=0){let n;this.__selectedMap.delete(t),this.multi&&(n=this.__selectedIndexForItemIndex(e)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),n,1):this.selected=this.selectedItem=null}}deselectIndex(t){this.deselect(this.items[t])}select(t){this.selectIndex(this.items.indexOf(t))}selectIndex(t){let e=this.items[t];this.isSelected(e)?this.toggle&&this.deselectIndex(t):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(e,t),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),e):this.selected=this.selectedItem=e)}}})(nh);class rp extends np{static get is(){return"array-selector"}static get template(){return null}}customElements.define(rp.is,rp),ep=Ru._mutablePropertyChange;Boolean;const ip=Cu(HTMLElement).prototype;
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var sp=new Set;const op={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(sp.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(t){this.resizerShouldNotify(t)&&this._notifyDescendant(t)},this),this._fireResize())},assignParentResizable:function(t){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=t,t&&-1===t._interestedResizables.indexOf(this)&&(t._interestedResizables.push(this),t._subscribeIronResize(this))},stopResizeNotificationsFor:function(t){var e=this._interestedResizables.indexOf(t);e>-1&&(this._interestedResizables.splice(e,1),this._unsubscribeIronResize(t))},_subscribeIronResize:function(t){t.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(t){t.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(t){return!0},_onDescendantIronResize:function(t){this._notifyingDescendant?t.stopPropagation():Za||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(t){var e=yu(t).rootTarget;e!==this&&(e.assignParentResizable(this),this._notifyDescendant(e),t.stopPropagation())},_parentResizableChanged:function(t){t&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(t){this.isAttached&&(this._notifyingDescendant=!0,t.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var t=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function e(){document.removeEventListener("readystatechange",e),t()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(t){t!==this&&t._findParent()},this):(sp.forEach(function(t){t!==this&&t._findParent()},this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?sp.delete(this):sp.add(this)}},ap=t=>(class extends t{static get properties(){return{theme:{type:String,readOnly:!0}}}attributeChangedCallback(t,e,n){super.attributeChangedCallback(t,e,n),"theme"===t&&this._setTheme(n)}}),lp=t=>(class extends(ap(t)){static finalize(){super.finalize();const t=this.prototype._template,e=this.template&&this.template.parentElement&&this.template.parentElement.id===this.is,n=Object.getPrototypeOf(this.prototype)._template;n&&!e&&Array.from(n.content.querySelectorAll("style[include]")).forEach(e=>{this._includeStyle(e.getAttribute("include"),t)}),this._includeMatchingThemes(t)}static _includeMatchingThemes(t){const e=dl.prototype.modules;let n=!1;const r=this.is+"-default-theme";Object.keys(e).sort((t,e)=>{const n=0===t.indexOf("vaadin-"),r=0===e.indexOf("vaadin-"),i=["lumo-","material-"],s=i.filter(e=>0===t.indexOf(e)).length>0,o=i.filter(t=>0===e.indexOf(t)).length>0;return n!==r?n?-1:1:s!==o?s?-1:1:0}).forEach(i=>{if(i!==r){const r=e[i].getAttribute("theme-for");r&&r.split(" ").forEach(e=>{new RegExp("^"+e.split("*").join(".*")+"$").test(this.is)&&(n=!0,this._includeStyle(i,t))})}}),!n&&e[r]&&this._includeStyle(r,t)}static _includeStyle(t,e){if(e&&!e.content.querySelector(`style[include="${t}"]`)){const n=document.createElement("style");n.setAttribute("include",t),e.content.appendChild(n)}}}),cp=/\/\*\*\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,hp=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function dp(t,e){if("function"!=typeof t)return;const n=cp.exec(t.toString());if(n)try{t=new Function(n[1])}catch(t){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",t)}return t(e)}window.Vaadin=window.Vaadin||{};const up=function(t,e){if(window.Vaadin.developmentMode)return dp(t,e)};function pp(){}void 0===window.Vaadin.developmentMode&&(window.Vaadin.developmentMode=function(){try{return!!localStorage.getItem("vaadin.developmentmode.force")||["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0&&(hp?!function(){if(hp){const t=Object.keys(hp).map(t=>hp[t]).filter(t=>t.productionMode);if(t.length>0)return!0}return!1}():!dp(function(){return!0}))}catch(t){return!1}}());const fp=function(){return up(pp)};let _p;window.Vaadin||(window.Vaadin={}),window.Vaadin.registrations=window.Vaadin.registrations||[],window.Vaadin.developmentModeCallback=window.Vaadin.developmentModeCallback||{},window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){fp&&fp()};const mp=new Set,gp=t=>(class extends t{static finalize(){super.finalize();const{is:t}=this;t&&!mp.has(t)&&(window.Vaadin.registrations.push(this),mp.add(t),window.Vaadin.developmentModeCallback&&(_p=rh.debounce(_p,ic,()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()}),sh(_p)))}constructor(){super(),null===document.doctype&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}});
/**
@license
Copyright (c) 2016 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class yp extends(gp(lp(Yh(function(t,e){return Iu({},Cu(e),t)}([op],nh))))){static get template(){return Ml`
    <style>
      :host {
        display: flex;
        overflow: hidden !important;
        transform: translateZ(0);
      }

      :host([hidden]) {
        display: none !important;
      }

      :host([orientation="vertical"]) {
        flex-direction: column;
      }

      :host ::slotted(*) {
        flex: 1 1 auto;
        overflow: auto;
        -webkit-overflow-scrolling: touch;
      }

      [part="splitter"] {
        flex: none;
        position: relative;
        z-index: 1;
        overflow: visible;
        min-width: 8px;
        min-height: 8px;
      }

      :host(:not([orientation="vertical"])) > [part="splitter"] {
        cursor: ew-resize;
      }

      :host([orientation="vertical"]) > [part="splitter"] {
        cursor: ns-resize;
      }

      [part="handle"] {
        width: 40px;
        height: 40px;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate3d(-50%, -50%, 0);
      }
    </style>
    <slot id="primary" name="primary"></slot>
    <div part="splitter" id="splitter" on-track="_onHandleTrack" on-down="_setPointerEventsNone" on-up="_restorePointerEvents">
      <div part="handle"></div>
    </div>
    <slot id="secondary" name="secondary"></slot>

    <div hidden="">
      <!-- Workaround to fix a Shady style scoping issue caused by dynamic slot naming of the child elements (primary/secondary) -->
      <slot></slot>
    </div>
`}static get is(){return"vaadin-split-layout"}static get version(){return"4.1.1"}static get properties(){return{orientation:{type:String,reflectToAttribute:!0,value:"horizontal"},_previousPrimaryPointerEvents:String,_previousSecondaryPointerEvents:String}}ready(){super.ready(),new rd(this,this._processChildren)}_processChildren(){this.getEffectiveChildren().forEach((t,e)=>{0===e?(this._primaryChild=t,t.setAttribute("slot","primary")):1==e?(this._secondaryChild=t,t.setAttribute("slot","secondary")):t.removeAttribute("slot")})}_setFlexBasis(t,e,n){0===(e=Math.max(0,Math.min(e,n)))&&(e=1e-6),t.style.flex="1 1 "+e+"px"}_setPointerEventsNone(t){this._primaryChild&&this._secondaryChild&&(this._previousPrimaryPointerEvents=this._primaryChild.style.pointerEvents,this._previousSecondaryPointerEvents=this._secondaryChild.style.pointerEvents,this._primaryChild.style.pointerEvents="none",this._secondaryChild.style.pointerEvents="none",t.preventDefault())}_restorePointerEvents(){this._primaryChild&&this._secondaryChild&&(this._primaryChild.style.pointerEvents=this._previousPrimaryPointerEvents,this._secondaryChild.style.pointerEvents=this._previousSecondaryPointerEvents)}_onHandleTrack(t){if(this._primaryChild&&this._secondaryChild){var e="vertical"===this.orientation?"height":"width";if("start"!==t.detail.state){var n="vertical"===this.orientation?t.detail.dy:t.detail.dx;this._setFlexBasis(this._primaryChild,this._startSize.primary+n,this._startSize.container),this._setFlexBasis(this._secondaryChild,this._startSize.secondary-n,this._startSize.container),this.notifyResize(),"end"===t.detail.state&&(this.dispatchEvent(new CustomEvent("splitter-dragend")),delete this._startSize)}else this._startSize={container:this.getBoundingClientRect()[e]-this.$.splitter.getBoundingClientRect()[e],primary:this._primaryChild.getBoundingClientRect()[e],secondary:this._secondaryChild.getBoundingClientRect()[e]}}}}customElements.define(yp.is,yp);const vp=document.createElement("template");vp.innerHTML='<custom-style>\n  <style>\n    @font-face {\n      font-family: \'lumo-icons\';\n      src: url(data:application/font-woff;charset=utf-8;base64,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) format(\'woff\');\n      font-weight: normal;\n      font-style: normal;\n    }\n\n    html {\n      --lumo-icons-align-center: "\\ea01";\n      --lumo-icons-align-left: "\\ea02";\n      --lumo-icons-align-right: "\\ea03";\n      --lumo-icons-angle-down: "\\ea04";\n      --lumo-icons-angle-left: "\\ea05";\n      --lumo-icons-angle-right: "\\ea06";\n      --lumo-icons-angle-up: "\\ea07";\n      --lumo-icons-arrow-down: "\\ea08";\n      --lumo-icons-arrow-left: "\\ea09";\n      --lumo-icons-arrow-right: "\\ea0a";\n      --lumo-icons-arrow-up: "\\ea0b";\n      --lumo-icons-bar-chart: "\\ea0c";\n      --lumo-icons-bell: "\\ea0d";\n      --lumo-icons-calendar: "\\ea0e";\n      --lumo-icons-checkmark: "\\ea0f";\n      --lumo-icons-chevron-down: "\\ea10";\n      --lumo-icons-chevron-left: "\\ea11";\n      --lumo-icons-chevron-right: "\\ea12";\n      --lumo-icons-chevron-up: "\\ea13";\n      --lumo-icons-clock: "\\ea14";\n      --lumo-icons-cog: "\\ea15";\n      --lumo-icons-cross: "\\ea16";\n      --lumo-icons-download: "\\ea17";\n      --lumo-icons-dropdown: "\\ea18";\n      --lumo-icons-edit: "\\ea19";\n      --lumo-icons-error: "\\ea1a";\n      --lumo-icons-eye: "\\ea1b";\n      --lumo-icons-eye-disabled: "\\ea1c";\n      --lumo-icons-menu: "\\ea1d";\n      --lumo-icons-minus: "\\ea1e";\n      --lumo-icons-ordered-list: "\\ea1f";\n      --lumo-icons-phone: "\\ea20";\n      --lumo-icons-photo: "\\ea21";\n      --lumo-icons-play: "\\ea22";\n      --lumo-icons-plus: "\\ea23";\n      --lumo-icons-redo: "\\ea24";\n      --lumo-icons-reload: "\\ea25";\n      --lumo-icons-search: "\\ea26";\n      --lumo-icons-undo: "\\ea27";\n      --lumo-icons-unordered-list: "\\ea28";\n      --lumo-icons-upload: "\\ea29";\n      --lumo-icons-user: "\\ea2a";\n    }\n  </style>\n</custom-style>',document.head.appendChild(vp.content);const bp=document.createElement("template");bp.innerHTML='<custom-style>\n  <style>\n    html {\n      /* Font families */\n      --lumo-font-family: -apple-system, BlinkMacSystemFont, "Roboto", "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n\n      /* Font sizes */\n      --lumo-font-size-xxs: .75rem;\n      --lumo-font-size-xs: .8125rem;\n      --lumo-font-size-s: .875rem;\n      --lumo-font-size-m: 1rem;\n      --lumo-font-size-l: 1.125rem;\n      --lumo-font-size-xl: 1.375rem;\n      --lumo-font-size-xxl: 1.75rem;\n      --lumo-font-size-xxxl: 2.5rem;\n\n      /* Line heights */\n      --lumo-line-height-xs: 1.25;\n      --lumo-line-height-s: 1.375;\n      --lumo-line-height-m: 1.625;\n    }\n\n  </style>\n</custom-style><dom-module id="lumo-typography">\n  <template>\n    <style>\n      html {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      /* Can’t combine with the above selector because that doesn’t work in browsers without native shadow dom */\n      :host {\n        font-family: var(--lumo-font-family);\n        font-size: var(--lumo-font-size, var(--lumo-font-size-m));\n        line-height: var(--lumo-line-height-m);\n        -webkit-text-size-adjust: 100%;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n      }\n\n      small,\n      [theme~="font-size-s"] {\n        font-size: var(--lumo-font-size-s);\n        line-height: var(--lumo-line-height-s);\n      }\n\n      [theme~="font-size-xs"] {\n        font-size: var(--lumo-font-size-xs);\n        line-height: var(--lumo-line-height-xs);\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-weight: 600;\n        line-height: var(--lumo-line-height-xs);\n        margin-top: 1.25em;\n      }\n\n      h1 {\n        font-size: var(--lumo-font-size-xxxl);\n        margin-bottom: 0.75em;\n      }\n\n      h2 {\n        font-size: var(--lumo-font-size-xxl);\n        margin-bottom: 0.5em;\n      }\n\n      h3 {\n        font-size: var(--lumo-font-size-xl);\n        margin-bottom: 0.5em;\n      }\n\n      h4 {\n        font-size: var(--lumo-font-size-l);\n        margin-bottom: 0.5em;\n      }\n\n      h5 {\n        font-size: var(--lumo-font-size-m);\n        margin-bottom: 0.25em;\n      }\n\n      h6 {\n        font-size: var(--lumo-font-size-xs);\n        margin-bottom: 0;\n        text-transform: uppercase;\n        letter-spacing: 0.03em;\n      }\n\n      p,\n      blockquote {\n        margin-top: 0.5em;\n        margin-bottom: 0.75em;\n      }\n\n      a {\n        text-decoration: none;\n      }\n\n      a:hover {\n        text-decoration: underline;\n      }\n\n      hr {\n        display: block;\n        align-self: stretch;\n        height: 1px;\n        border: 0;\n        padding: 0;\n        margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);\n        background-color: var(--lumo-contrast-10pct);\n      }\n\n      blockquote {\n        border-left: 2px solid var(--lumo-contrast-30pct);\n      }\n\n      b,\n      strong {\n        font-weight: 600;\n      }\n    </style>\n  </template>\n</dom-module>',document.head.appendChild(bp.content);const wp=Ml`<dom-module id="lumo-checkbox" theme-for="vaadin-checkbox">
  <template>
    <style include="lumo-checkbox-style lumo-checkbox-effects">
      /* IE11 only */
      ::-ms-backdrop,
      [part="checkbox"] {
        line-height: 1;
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-checkbox-style">
  <template>
    <style>
      :host {
        -webkit-tap-highlight-color: transparent;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: default;
        outline: none;
      }

      [part="label"]:not([empty]) {
        margin: 0.1875em 0.875em 0.1875em 0.375em;
      }

      [part="checkbox"] {
        width: calc(1em + 2px);
        height: calc(1em + 2px);
        margin: 0.1875em;
        position: relative;
        border-radius: var(--lumo-border-radius);
        background-color: var(--lumo-contrast-20pct);
        transition: transform 0.2s cubic-bezier(.12, .32, .54, 2), background-color 0.15s;
        pointer-events: none;
        line-height: 1.2;
      }

      :host([indeterminate]) [part="checkbox"],
      :host([checked]) [part="checkbox"] {
        background-color: var(--lumo-primary-color);
      }

      /* Needed to align the checkbox nicely on the baseline */
      [part="checkbox"]::before {
        content: "\\2003";
      }

      /* Checkmark */
      [part="checkbox"]::after {
        content: "";
        display: inline-block;
        width: 0;
        height: 0;
        border: 0 solid var(--lumo-primary-contrast-color);
        border-width: 0.1875em 0 0 0.1875em;
        box-sizing: border-box;
        transform-origin: 0 0;
        position: absolute;
        top: 0.8125em;
        left: 0.5em;
        transform: scale(0.55) rotate(-135deg);
        opacity: 0;
      }

      :host([checked]) [part="checkbox"]::after {
        opacity: 1;
        width: 0.625em;
        height: 1.0625em;
      }

      /* Indeterminate checkmark */

      :host([indeterminate]) [part="checkbox"]::after {
        transform: none;
        opacity: 1;
        top: 45%;
        height: 10%;
        left: 22%;
        right: 22%;
        width: auto;
        border: 0;
        background-color: var(--lumo-primary-contrast-color);
        transition: opacity 0.25s;
      }

      /* Focus ring */

      :host([focus-ring]) [part="checkbox"] {
        box-shadow: 0 0 0 3px var(--lumo-primary-color-50pct);
      }

      /* Disabled */

      :host([disabled]) {
        pointer-events: none;
        color: var(--lumo-disabled-text-color);
      }

      :host([disabled]) [part="label"] ::slotted(*) {
        color: inherit;
      }

      :host([disabled]) [part="checkbox"] {
        background-color: var(--lumo-contrast-10pct);
      }

      :host([disabled]) [part="checkbox"]::after {
        border-color: var(--lumo-contrast-30pct);
      }

      :host([indeterminate][disabled]) [part="checkbox"]::after {
        background-color: var(--lumo-contrast-30pct);
      }
    </style>
  </template>
</dom-module><dom-module id="lumo-checkbox-effects">
  <template>
    <style>
      /* Transition the checkmark if activated with the mouse (disabled for grid select-all this way) */
      :host(:hover) [part="checkbox"]::after {
        transition: width 0.1s, height 0.25s;
      }

      /* Used for activation "halo" */
      [part="checkbox"]::before {
        color: transparent;
        display: inline-block;
        width: 100%;
        height: 100%;
        border-radius: inherit;
        background-color: inherit;
        transform: scale(1.4);
        opacity: 0;
        transition: transform 0.1s, opacity 0.8s;
      }

      /* Hover */

      :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part="checkbox"] {
        background-color: var(--lumo-contrast-30pct);
      }

      /* Disable hover for touch devices */
      @media (pointer: coarse) {
        :host(:not([checked]):not([indeterminate]):not([disabled]):hover) [part="checkbox"] {
          background-color: var(--lumo-contrast-20pct);
        }
      }

      /* Active */

      :host([active]) [part="checkbox"] {
        transform: scale(0.9);
        transition-duration: 0.05s;
      }

      :host([active][checked]) [part="checkbox"] {
        transform: scale(1.1);
      }

      :host([active]:not([checked])) [part="checkbox"]::before {
        transition-duration: 0.01s, 0.01s;
        transform: scale(0);
        opacity: 0.4;
      }
    </style>
  </template>
</dom-module>`;document.head.appendChild(wp.content);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
const xp=t=>(class extends((t=>(class extends t{static get properties(){var t={tabindex:{type:Number,value:0,reflectToAttribute:!0,observer:"_tabindexChanged"}};return window.ShadyDOM&&(t.tabIndex=t.tabindex),t}}))(t)){static get properties(){return{autofocus:{type:Boolean},_previousTabIndex:{type:Number},disabled:{type:Boolean,observer:"_disabledChanged",reflectToAttribute:!0},_isShiftTabbing:{type:Boolean}}}ready(){this.addEventListener("focusin",t=>{t.composedPath()[0]===this?this._focus(t):-1===t.composedPath().indexOf(this.focusElement)||this.disabled||this._setFocused(!0)}),this.addEventListener("focusout",t=>this._setFocused(!1)),super.ready();const t=t=>{t.composed||t.target.dispatchEvent(new CustomEvent(t.type,{bubbles:!0,composed:!0,cancelable:!1}))};this.shadowRoot.addEventListener("focusin",t),this.shadowRoot.addEventListener("focusout",t),this.addEventListener("keydown",t=>{if(!t.defaultPrevented&&9===t.keyCode)if(t.shiftKey)this._isShiftTabbing=!0,HTMLElement.prototype.focus.apply(this),this._setFocused(!1),setTimeout(()=>this._isShiftTabbing=!1,0);else{const t=window.navigator.userAgent.match(/Firefox\/(\d\d\.\d)/);if(t&&parseFloat(t[1])>=63&&parseFloat(t[1])<66&&this.parentNode&&this.nextSibling){const t=document.createElement("input");t.style.position="absolute",t.style.opacity=0,t.tabIndex=this.tabIndex,this.parentNode.insertBefore(t,this.nextSibling),t.focus(),t.addEventListener("focusout",()=>this.parentNode.removeChild(t))}}}),!this.autofocus||this.focused||this.disabled||window.requestAnimationFrame(()=>{this._focus(),this._setFocused(!0),this.setAttribute("focus-ring","")}),this._boundKeydownListener=this._bodyKeydownListener.bind(this),this._boundKeyupListener=this._bodyKeyupListener.bind(this)}connectedCallback(){super.connectedCallback(),document.body.addEventListener("keydown",this._boundKeydownListener,!0),document.body.addEventListener("keyup",this._boundKeyupListener,!0)}disconnectedCallback(){super.disconnectedCallback(),document.body.removeEventListener("keydown",this._boundKeydownListener,!0),document.body.removeEventListener("keyup",this._boundKeyupListener,!0),this.hasAttribute("focused")&&this._setFocused(!1)}_setFocused(t){t?this.setAttribute("focused",""):this.removeAttribute("focused"),t&&this._tabPressed?this.setAttribute("focus-ring",""):this.removeAttribute("focus-ring")}_bodyKeydownListener(t){this._tabPressed=9===t.keyCode}_bodyKeyupListener(){this._tabPressed=!1}get focusElement(){return window.console.warn(`Please implement the 'focusElement' property in <${this.localName}>`),this}_focus(t){this._isShiftTabbing||(this.focusElement.focus(),this._setFocused(!0))}focus(){this.focusElement&&!this.disabled&&(this.focusElement.focus(),this._setFocused(!0))}blur(){this.focusElement.blur(),this._setFocused(!1)}_disabledChanged(t){this.focusElement.disabled=t,t?(this.blur(),this._previousTabIndex=this.tabindex,this.tabindex=-1,this.setAttribute("aria-disabled","true")):(void 0!==this._previousTabIndex&&(this.tabindex=this._previousTabIndex),this.removeAttribute("aria-disabled"))}_tabindexChanged(t){void 0!==t&&(this.focusElement.tabIndex=t),this.disabled&&this.tabindex&&(-1!==this.tabindex&&(this._previousTabIndex=this.tabindex),this.tabindex=t=void 0),window.ShadyDOM&&this.setProperties({tabIndex:t,tabindex:t})}click(){this.disabled||super.click()}});
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class Cp extends(gp(xp(lp(Yh(nh))))){static get template(){return Ml`
    <style>
      :host {
        display: inline-block;
      }

      :host([hidden]) {
        display: none !important;
      }

      label {
        display: inline-flex;
        align-items: baseline;
        outline: none;
      }

      [part="checkbox"] {
        position: relative;
        display: inline-block;
        flex: none;
      }

      input[type="checkbox"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: inherit;
        margin: 0;
      }

      :host([disabled]) {
        -webkit-tap-highlight-color: transparent;
      }
    </style>

    <label>
      <span part="checkbox">
        <input type="checkbox" checked="{{checked::change}}" disabled\$="[[disabled]]" indeterminate="{{indeterminate::change}}" role="presentation" tabindex="-1">
      </span>

      <span part="label">
        <slot></slot>
      </span>
    </label>
`}static get is(){return"vaadin-checkbox"}static get version(){return"2.2.12"}static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,observer:"_checkedChanged",reflectToAttribute:!0},indeterminate:{type:Boolean,notify:!0,observer:"_indeterminateChanged",reflectToAttribute:!0,value:!1},value:{type:String,value:"on"},_nativeCheckbox:{type:Object}}}constructor(){super(),this.name}get name(){return this.checked?this._storedName:""}set name(t){this._storedName=t}ready(){super.ready(),this.setAttribute("role","checkbox"),this._nativeCheckbox=this.shadowRoot.querySelector('input[type="checkbox"]'),this.addEventListener("click",this._handleClick.bind(this)),this._addActiveListeners();const t=this.getAttribute("name");t&&(this.name=t),this.shadowRoot.querySelector('[part~="label"]').querySelector("slot").addEventListener("slotchange",this._updateLabelAttribute.bind(this)),this._updateLabelAttribute()}_updateLabelAttribute(){const t=this.shadowRoot.querySelector('[part~="label"]'),e=t.firstElementChild.assignedNodes();this._isAssignedNodesEmpty(e)?t.setAttribute("empty",""):t.removeAttribute("empty")}_isAssignedNodesEmpty(t){return 0===t.length||1==t.length&&t[0].nodeType==Node.TEXT_NODE&&""===t[0].textContent.trim()}_checkedChanged(t){this.indeterminate?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",t)}_indeterminateChanged(t){t?this.setAttribute("aria-checked","mixed"):this.setAttribute("aria-checked",this.checked)}_addActiveListeners(){this._addEventListenerToNode(this,"down",t=>{this.__interactionsAllowed(t)&&this.setAttribute("active","")}),this._addEventListenerToNode(this,"up",()=>this.removeAttribute("active")),this.addEventListener("keydown",t=>{this.__interactionsAllowed(t)&&32===t.keyCode&&(t.preventDefault(),this.setAttribute("active",""))}),this.addEventListener("keyup",t=>{this.__interactionsAllowed(t)&&32===t.keyCode&&(t.preventDefault(),this._toggleChecked(),this.removeAttribute("active"),this.indeterminate&&(this.indeterminate=!1))})}get focusElement(){return this.shadowRoot.querySelector("input")}__interactionsAllowed(t){return!this.disabled&&"a"!==t.target.localName}_handleClick(t){this.__interactionsAllowed(t)&&(this.indeterminate?(this.indeterminate=!1,t.preventDefault(),this._toggleChecked()):t.composedPath()[0]!==this._nativeCheckbox&&(t.preventDefault(),this._toggleChecked()))}_toggleChecked(){this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{composed:!1,bubbles:!0}))}}customElements.define(Cp.is,Cp);const Sp=Ml`<dom-module id="lumo-grid" theme-for="vaadin-grid">
  <template>
    <style>
      :host {
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-m);
        line-height: var(--lumo-line-height-s);
        color: var(--lumo-body-text-color);
        background-color: var(--lumo-base-color);
        box-sizing: border-box;
        -webkit-text-size-adjust: 100%;
        -webkit-tap-highlight-color: transparent;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;

        /* For internal use only */
        --_lumo-grid-border-color: var(--lumo-contrast-20pct);
        --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);
        --_lumo-grid-border-width: 1px;
        --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);
      }

      /* No (outer) border */

      :host(:not([theme~="no-border"])) {
        border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);
      }

      /* Cell styles */

      [part~="cell"] {
        min-height: var(--lumo-size-m);
        background-color: var(--lumo-base-color);
      }

      [part~="cell"] ::slotted(vaadin-grid-cell-content) {
        cursor: default;
        padding: var(--lumo-space-xs) var(--lumo-space-m);
      }

      /* Apply row borders by default and introduce the "no-row-borders" variant */
      :host(:not([theme~="no-row-borders"])) [part~="cell"]:not([part~="details-cell"]) {
        border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
      }

      /* Hide first body row top border */
      :host(:not([theme~="no-row-borders"])) [part="row"][first] [part~="cell"]:not([part~="details-cell"]) {
        border-top: 0;
        min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));
      }

      /* Focus-ring */

      [part~="cell"]:focus {
        outline: none;
      }

      :host([navigating]) [part~="cell"]:focus::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        pointer-events: none;
        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      /* Drag and Drop styles */
      :host([dragover])::after {
        content: "";
        position: absolute;
        z-index: 100;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        pointer-events: none;
        box-shadow: inset 0 0 0 2px var(--lumo-primary-color-50pct);
      }

      [part~="row"][dragover] {
        z-index: 100 !important;
      }

      [part~="row"][dragover] [part~="cell"] {
        overflow: visible;
      }

      [part~="row"][dragover] [part~="cell"]::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        height: calc(var(--_lumo-grid-border-width) + 2px);
        pointer-events: none;
        background: var(--lumo-primary-color-50pct);
      }

      :host([theme~="no-row-borders"]) [dragover] [part~="cell"]::after {
        height: 2px;
      }

      [part~="row"][dragover="below"] [part~="cell"]::after {
        top: 100%;
        bottom: auto;
        margin-top: -1px;
      }

      [part~="row"][dragover="above"] [part~="cell"]::after {
        top: auto;
        bottom: 100%;
        margin-bottom: -1px;
      }

      [part~="row"][details-opened][dragover="below"] [part~="cell"]:not([part~="details-cell"])::after,
      [part~="row"][details-opened][dragover="above"] [part~="details-cell"]::after {
        display: none;
      }

      [part~="row"][dragover][dragover="on-top"] [part~="cell"]::after {
        height: 100%;
      }

      [part~="row"][dragstart] {
        /* Add bottom-space to the row so the drag number doesn't get clipped. Needed for IE/Edge */
        border-bottom: 100px solid transparent;
        z-index: 100 !important;
        opacity: 0.9;
      }

      [part~="row"][dragstart] [part~="cell"] {
        border: none !important;
        box-shadow: none !important;
      }

      [part~="row"][dragstart] [part~="cell"][last-column] {
        border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
      }

      [part~="row"][dragstart] [part~="cell"][first-column] {
        border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
      }

      [ios] [part~="row"][dragstart] [part~="cell"] {
        background: var(--lumo-primary-color-50pct);
      }

      #scroller:not([ios]) [part~="row"][dragstart]:not([dragstart=""])::after {
        display: block;
        position: absolute;
        left: var(--_grid-drag-start-x);
        top: var(--_grid-drag-start-y);
        z-index: 100;
        content: attr(dragstart);
        align-items: center;
        justify-content: center;
        box-sizing: border-box;
        padding: calc(var(--lumo-space-xs) * 0.8);
        color: var(--lumo-error-contrast-color);
        background-color: var(--lumo-error-color);
        border-radius: var(--lumo-border-radius-m);
        font-family: var(--lumo-font-family);
        font-size: var(--lumo-font-size-xxs);
        line-height: 1;
        font-weight: 500;
        text-transform: initial;
        letter-spacing: initial;
        min-width: calc(var(--lumo-size-s) * 0.7);
        text-align: center;
      }

      /* Headers and footers */

      [part~="header-cell"] ::slotted(vaadin-grid-cell-content),
      [part~="footer-cell"] ::slotted(vaadin-grid-cell-content),
      [part~="reorder-ghost"] {
        font-size: var(--lumo-font-size-s);
        font-weight: 500;
      }

      [part~="footer-cell"] ::slotted(vaadin-grid-cell-content) {
        font-weight: 400;
      }

      [part="row"]:only-child [part~="header-cell"] {
        min-height: var(--lumo-size-xl);
      }

      /* Header borders */

      /* Hide first header row top border */
      :host(:not([theme~="no-row-borders"])) [part="row"]:first-child [part~="header-cell"] {
        border-top: 0;
      }

      [part="row"]:last-child [part~="header-cell"] {
        border-bottom: var(--_lumo-grid-border-width) solid transparent;
      }

      :host(:not([theme~="no-row-borders"])) [part="row"]:last-child [part~="header-cell"] {
        border-bottom-color: var(--_lumo-grid-secondary-border-color);
      }

      /* Overflow uses a stronger border color */
      :host([overflow~="top"]) [part="row"]:last-child [part~="header-cell"] {
        border-bottom-color: var(--_lumo-grid-border-color);
      }

      /* Footer borders */

      [part="row"]:first-child [part~="footer-cell"] {
        border-top: var(--_lumo-grid-border-width) solid transparent;
      }

      :host(:not([theme~="no-row-borders"])) [part="row"]:first-child [part~="footer-cell"] {
        border-top-color: var(--_lumo-grid-secondary-border-color);
      }

      /* Overflow uses a stronger border color */
      :host([overflow~="bottom"]) [part="row"]:first-child [part~="footer-cell"] {
        border-top-color: var(--_lumo-grid-border-color);
      }

      /* Column reordering */

      :host([reordering]) [part~="cell"] {
        background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);
      }

      :host([reordering]) [part~="cell"][reorder-status="allowed"] {
        background: var(--lumo-base-color);
      }

      :host([reordering]) [part~="cell"][reorder-status="dragging"] {
        background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);
      }

      [part~="reorder-ghost"] {
        opacity: 0.85;
        box-shadow: var(--lumo-box-shadow-s);
        /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */
        padding: var(--lumo-space-s) var(--lumo-space-m) !important;
      }

      /* Column resizing */

      [part="resize-handle"] {
        width: 3px;
        background-color: var(--lumo-primary-color-50pct);
        opacity: 0;
        transition: opacity 0.2s;
      }

      :host(:not([reordering])) *:not([column-resizing]) [part~="cell"]:hover [part="resize-handle"],
      [part="resize-handle"]:active {
        opacity: 1;
        transition-delay: 0.15s;
      }

      /* Column borders */

      :host([theme~="column-borders"]) [part~="cell"]:not([last-column]):not([part~="details-cell"]) {
        border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
      }

      /* Frozen columns */

      [last-frozen] {
        border-right: var(--_lumo-grid-border-width) solid transparent;
        overflow: hidden;
      }

      :host([overflow~="left"]) [part~="cell"][last-frozen]:not([part~="details-cell"]) {
        border-right-color: var(--_lumo-grid-border-color);
      }

      /* Row stripes */

      :host([theme~="row-stripes"]) [part~="row"]:not([odd]) [part~="body-cell"],
      :host([theme~="row-stripes"]) [part~="row"]:not([odd]) [part~="details-cell"] {
        background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
        background-repeat: repeat-x;
      }

      /* Selected row */

      /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */
      :host(:not([reordering])) [part~="row"][selected] {
        z-index: 1;
      }

      :host(:not([reordering])) [part~="row"][selected] [part~="body-cell"]:not([part~="details-cell"]) {
        background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));
        background-repeat: repeat;
      }

      /* Cover the border of an unselected row */
      :host(:not([theme~="no-row-borders"])) [part~="row"][selected] [part~="cell"]:not([part~="details-cell"]) {
        box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);
      }

      /* Compact */

      :host([theme~="compact"]) [part="row"]:only-child [part~="header-cell"] {
        min-height: var(--lumo-size-m);
      }

      :host([theme~="compact"]) [part~="cell"] {
        min-height: var(--lumo-size-s);
      }

      :host([theme~="compact"]) [part="row"][first] [part~="cell"]:not([part~="details-cell"]) {
        min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));
      }

      :host([theme~="compact"]) [part~="cell"] ::slotted(vaadin-grid-cell-content) {
        padding: var(--lumo-space-xs) var(--lumo-space-s);
      }

      /* Wrap cell contents */

      :host([theme~="wrap-cell-content"]) [part~="cell"] ::slotted(vaadin-grid-cell-content) {
        white-space: normal;
      }
    </style>
  </template>
</dom-module><dom-module theme-for="vaadin-checkbox" id="vaadin-grid-select-all-checkbox-lumo">
  <template>
    <style>
      :host(.vaadin-grid-select-all-checkbox) {
        font-size: var(--lumo-font-size-m);
      }
   </style>
  </template>
</dom-module>`;document.head.appendChild(Sp.content);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ap={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(t,e){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),e)if("document"===t)this.scrollTarget=this._doc;else if("string"==typeof t){var n=this.domHost;this.scrollTarget=n&&n.$?n.$[t]:yu(this.ownerDocument).querySelector("#"+t)}else this._isValidScrollTarget()&&(this._oldScrollTarget=t,this._toggleScrollListener(this._shouldHaveListener,t))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(t){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=t)},set _scrollLeft(t){this.scrollTarget===this._doc?window.scrollTo(t,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=t)},scroll:function(t,e){var n;"object"==typeof t?(n=t.left,e=t.top):n=t,n=n||0,e=e||0,this.scrollTarget===this._doc?window.scrollTo(n,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=n,this.scrollTarget.scrollTop=e)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(t,e){var n=e===this._doc?window:e;t?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),n.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(n.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(t){this._shouldHaveListener=t,this._toggleScrollListener(t,this.scrollTarget)}};
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/var Tp=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),Pp=Tp&&Tp[1]>=8,Ep=rc,Ip=ic,Np=sc;const Mp=Nu({behaviors:[op,Ap],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedVirtualIndex:-1,_itemsPerRow:1,_rowHeight:0,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var t=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,t-this._physicalCount)},set _virtualStart(t){t=this._clamp(t,0,this._maxVirtualStart),this.grid&&(t-=t%this._itemsPerRow),this._virtualStartVal=t},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(t){(t%=this._physicalCount)<0&&(t=this._physicalCount+t),this.grid&&(t-=t%this._itemsPerRow),this._physicalStartVal=t},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(t){this._physicalCountVal=t},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var t=this._firstVisibleIndexVal;if(null==t){var e=this._physicalTop+this._scrollOffset;t=this._iterateItems(function(t,n){return(e+=this._getPhysicalSizeIncrement(t))>this._scrollPosition?this.grid?n-n%this._itemsPerRow:n:this.grid&&this._virtualCount-1===n?n-n%this._itemsPerRow:void 0})||0,this._firstVisibleIndexVal=t}return t},get lastVisibleIndex(){var t=this._lastVisibleIndexVal;if(null==t){if(this.grid)t=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var e=this._physicalTop+this._scrollOffset;this._iterateItems(function(n,r){e<this._scrollBottom&&(t=r),e+=this._getPhysicalSizeIncrement(n)})}this._lastVisibleIndexVal=t}return t},get _scrollOffset(){return this._scrollerPaddingTop},attached:function(){this._debounce("_render",this._render,Ep),this.listen(this,"iron-resize","_resizeHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler")},updateViewportBoundaries:function(){var t=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(t["padding-top"],10),this._isRTL=Boolean("rtl"===t.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var t=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),e=t-this._scrollPosition,n=e>=0;if(this._scrollPosition=t,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(e)>this._physicalSize&&this._physicalSize>0){e-=this._scrollOffset;var r=Math.round(e/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+r,this._physicalStart=this._physicalStart+r,this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._update()}else if(this._physicalCount>0){var i=this._getReusables(n);n?(this._physicalTop=i.physicalTop,this._virtualStart=this._virtualStart+i.indexes.length,this._physicalStart=this._physicalStart+i.indexes.length):(this._virtualStart=this._virtualStart-i.indexes.length,this._physicalStart=this._physicalStart-i.indexes.length),this._update(i.indexes,n?null:i.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),Np)}},_getReusables:function(t){var e,n,r,i=[],s=this._hiddenContentSize*this._ratio,o=this._virtualStart,a=this._virtualEnd,l=this._physicalCount,c=this._physicalTop+this._scrollOffset,h=this._physicalBottom+this._scrollOffset,d=this._scrollTop,u=this._scrollBottom;for(t?(e=this._physicalStart,n=d-c):(e=this._physicalEnd,n=h-u);n-=r=this._getPhysicalSizeIncrement(e),!(i.length>=l||n<=s);)if(t){if(a+i.length+1>=this._virtualCount)break;if(c+r>=d-this._scrollOffset)break;i.push(e),c+=r,e=(e+1)%l}else{if(o-i.length<=0)break;if(c+this._physicalSize-r<=u)break;i.push(e),c-=r,e=0===e?l-1:e-1}return{indexes:i,physicalTop:c-this._scrollOffset}},_update:function(t,e){if(!(t&&0===t.length||0===this._physicalCount)){if(this._manageFocus(),this._assignModels(t),this._updateMetrics(t),e)for(;e.length;){var n=e.pop();this._physicalTop-=this._getPhysicalSizeIncrement(n)}this._positionItems(),this._updateScrollerSize()}},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(t){var e=this._clamp(this._physicalCount+t,3,this._virtualCount-this._virtualStart),n=(e=this._convertIndexToCompleteRow(e))-this._physicalCount,r=Math.round(.5*this._physicalCount);if(!(n<0)){if(n>0){var i=window.performance.now();[].push.apply(this._physicalItems,this._createPool(n));for(var s=0;s<n;s++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+n,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+n),this._update(),this._templateCost=(window.performance.now()-i)/n,r=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===r||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,r)),Ip):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,r),Np))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var t=this._getReusables(!0);this._physicalTop=t.physicalTop,this._virtualStart=this._virtualStart+t.indexes.length,this._physicalStart=this._physicalStart+t.indexes.length,this._update(t.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_itemsChanged:function(t){"items"===t.path&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._collection=(this.items,null),this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,Ep))},_iterateItems:function(t,e){var n,r,i,s;if(2===arguments.length&&e){for(s=0;s<e.length;s++)if(n=e[s],r=this._computeVidx(n),null!=(i=t.call(this,n,r)))return i}else{for(n=this._physicalStart,r=this._virtualStart;n<this._physicalCount;n++,r++)if(null!=(i=t.call(this,n,r)))return i;for(n=0;n<this._physicalStart;n++,r++)if(null!=(i=t.call(this,n,r)))return i}},_computeVidx:function(t){return t>=this._physicalStart?this._virtualStart+(t-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+t},_updateMetrics:function(t){hu();var e=0,n=0,r=this._physicalAverageCount,i=this._physicalAverage;this._iterateItems(function(t,r){n+=this._physicalSizes[t],this._physicalSizes[t]=this._physicalItems[t].offsetHeight,e+=this._physicalSizes[t],this._physicalAverageCount+=this._physicalSizes[t]?1:0},t),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(n=1===this._itemsPerRow?n:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+e-n,this._itemsPerRow=1),this._physicalAverageCount!==r&&(this._physicalAverage=Math.round((i*r+e)/this._physicalAverageCount))},_positionItems:function(){this._adjustScrollPosition();var t=this._physicalTop;this._iterateItems(function(e,n){this.translate3d(0,t+"px",0,this._physicalItems[e]),t+=this._physicalSizes[e]})},_getPhysicalSizeIncrement:function(t){return this.grid?this._computeVidx(t)%this._itemsPerRow!=this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[t]},_adjustScrollPosition:function(){var t=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==t){this._physicalTop=this._physicalTop-t;var e=this._scrollTop;!Pp&&e>0&&this._resetScrollPosition(e-t)}},_resetScrollPosition:function(t){this.scrollTarget&&t>=0&&(this._scrollTop=t,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(t){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((t=(t=(t=t||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToIndex:function(t){if(!("number"!=typeof t||t<0||t>this.items.length-1)&&(hu(),0!==this._physicalCount)){t=this._clamp(t,0,this._virtualCount-1),(!this._isIndexRendered(t)||t>=this._maxVirtualStart)&&(this._virtualStart=this.grid?t-2*this._itemsPerRow:t-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var e=this._physicalStart,n=this._virtualStart,r=0,i=this._hiddenContentSize;n<t&&r<=i;)r+=this._getPhysicalSizeIncrement(e),e=(e+1)%this._physicalCount,n++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+r),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this.updateViewportBoundaries(),this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},Ep)},_convertIndexToCompleteRow:function(t){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(t/this._itemsPerRow)*this._itemsPerRow:t},_isIndexRendered:function(t){return t>=this._virtualStart&&t<=this._virtualEnd},_getPhysicalIndex:function(t){return(this._physicalStart+(t-this._virtualStart))%this._physicalCount},_clamp:function(t,e,n){return Math.min(n,Math.max(e,t))},_debounce:function(t,e,n){this._debouncers=this._debouncers||{},this._debouncers[t]=rh.debounce(this._debouncers[t],n,e.bind(this)),sh(this._debouncers[t])}});
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/class Op extends Mp{static get is(){return"vaadin-grid-scroller"}static get properties(){return{size:{type:Number,notify:!0},_vidxOffset:{value:0}}}static get observers(){return["_effectiveSizeChanged(_effectiveSize)"]}connectedCallback(){super.connectedCallback(),this._scrollHandler()}_updateScrollerItem(t,e){}_afterScroll(){}_getRowTarget(){}_createScrollerRows(){}_canPopulate(){}scrollToIndex(t){this._warnPrivateAPIAccess("scrollToIndex"),t>0&&(this._pendingScrollToIndex=null),!parseInt(this.$.items.style.borderTopWidth)&&t>0&&(this._pendingScrollToIndex=t),this._scrollingToIndex=!0,t=Math.min(Math.max(t,0),this._effectiveSize-1),this.$.table.scrollTop=t/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight),this._scrollHandler(),this._accessIronListAPI(()=>this._maxScrollTop)&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(1e6),this._accessIronListAPI(()=>super.scrollToIndex(t-this._vidxOffset)),this._scrollHandler();const e=Array.from(this.$.items.children).filter(e=>e.index===t)[0];if(e){const t=e.getBoundingClientRect().top-this.$.header.getBoundingClientRect().bottom;Math.abs(t)>1&&(this.$.table.scrollTop+=t,this._scrollHandler())}this._scrollingToIndex=!1}_effectiveSizeChanged(t){let e,n=0;if(this._iterateItems((t,r)=>{if(r===this._firstVisibleIndex){const r=this._physicalItems[t];e=r.index,n=r.getBoundingClientRect().top}}),this.items&&t<this.items.length&&(this._scrollTop=0),!Array.isArray(this.items)){const e=this._edge||this._ie?3e4:1e5;this.items={length:Math.min(t,e)}}this._accessIronListAPI(()=>super._itemsChanged({path:"items"})),this._virtualCount=Math.min(this.items.length,t)||0,0===this._scrollTop&&(this._accessIronListAPI(()=>this._scrollToIndex(Math.min(t-1,e))),this._iterateItems((t,r)=>{const i=this._physicalItems[t];if(i.index===e&&(this.$.table.scrollTop+=Math.round(i.getBoundingClientRect().top-n)),i.index===this._focusedItemIndex&&this._itemsFocusable&&this.$.items.contains(this.shadowRoot.activeElement)){const t=Array.from(this._itemsFocusable.parentElement.children).indexOf(this._itemsFocusable);i.children[t].focus()}})),this._assignModels(),requestAnimationFrame(()=>this._update())}_positionItems(){let t;this._adjustScrollPosition(),isNaN(this._physicalTop)&&(t=!0,this._physicalTop=0);let e=this._physicalTop;this._iterateItems((t,n)=>{this._physicalItems[t].style.transform=`translateY(${e}px)`,e+=this._physicalSizes[t]}),t&&this._scrollToIndex(0)}_increasePoolIfNeeded(t){0===t&&this._scrollingToIndex||!this._canPopulate()||!this._effectiveSize||(this._initialPoolCreated?this._optPhysicalSize!==1/0&&(this._debounceIncreasePool=rh.debounce(this._debounceIncreasePool,rc,()=>{this._updateMetrics();const t=this._optPhysicalSize-this._physicalSize;let e=Math.ceil(t/this._physicalAverage);this._physicalCount+e>this._effectiveSize&&(e=Math.max(0,this._effectiveSize-this._physicalCount)),this._physicalSize&&e>0&&(super._increasePoolIfNeeded(e),this.__reorderChildNodes())})):(this._initialPoolCreated=!0,super._increasePoolIfNeeded(25)))}__reorderChildNodes(){const t=Array.from(this.$.items.childNodes);!!t.reduce((t,e,n,r)=>{if(0===n||r[n-1].index===e.index-1)return t},!0)||t.sort((t,e)=>t.index-e.index).forEach(t=>this.$.items.appendChild(t))}_createPool(t){const e=document.createDocumentFragment(),n=this._createScrollerRows(t);n.forEach(t=>e.appendChild(t)),this._getRowTarget().appendChild(e);const r=this.querySelector("[slot]");if(r){const t=r.getAttribute("slot");r.setAttribute("slot","foo-bar"),r.setAttribute("slot",t)}return this._updateHeaderFooterMetrics(),lu(this,()=>this.notifyResize()),n}_assignModels(t){this._iterateItems((t,e)=>{const n=this._physicalItems[t];this._toggleAttribute("hidden",e>=this._effectiveSize,n),this._updateScrollerItem(n,e+(this._vidxOffset||0))},t)}_scrollHandler(){const t=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(super._scrollHandler);const e=this._vidxOffset;this._accessIronListAPI(()=>this._maxScrollTop)&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(t),this._vidxOffset!==e&&this._update(),this._afterScroll()}_adjustVirtualIndexOffset(t){if(Math.abs(t)>1e4){if(this._noScale)return void(this._noScale=!1);const t=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),e=t*this._effectiveSize;this._vidxOffset=Math.round(e-t*this._virtualCount)}else{const t=this._vidxOffset||0,e=1e3,n=100;0===this._scrollTop?(this._vidxOffset=0,t!==this._vidxOffset&&super.scrollToIndex(0)):this.firstVisibleIndex<e&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,n),t!==this._vidxOffset&&super.scrollToIndex(this.firstVisibleIndex+(t-this._vidxOffset)),this._noScale=!0);const r=this._effectiveSize-this._virtualCount;this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=r,t!==this._vidxOffset&&super.scrollToIndex(this._virtualCount)):this.firstVisibleIndex>this._virtualCount-e&&this._vidxOffset<r&&(this._vidxOffset+=Math.min(r-this._vidxOffset,n),t!==this._vidxOffset&&super.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-t)),this._noScale=!0)}}_accessIronListAPI(t){this._warnPrivateAPIAccessAsyncEnabled=!1;const e=t.apply(this);return this._debouncerWarnPrivateAPIAccess=rh.debounce(this._debouncerWarnPrivateAPIAccess,rc,()=>this._warnPrivateAPIAccessAsyncEnabled=!0),e}_debounceRender(t,e){super._debounceRender(()=>this._accessIronListAPI(t),e)}_warnPrivateAPIAccess(t){this._warnPrivateAPIAccessAsyncEnabled&&console.warn(`Accessing private API (${t})!`)}_render(){this._accessIronListAPI(super._render)}_createFocusBackfillItem(){}_multiSelectionChanged(){}clearSelection(){}_itemsChanged(){}_manageFocus(){}_removeFocusedItem(){}get _firstVisibleIndex(){return this._accessIronListAPI(()=>super.firstVisibleIndex)}get _lastVisibleIndex(){return this._accessIronListAPI(()=>super.lastVisibleIndex)}_scrollToIndex(t){this._accessIronListAPI(()=>this.scrollToIndex(t))}get firstVisibleIndex(){return this._warnPrivateAPIAccess("firstVisibleIndex"),super.firstVisibleIndex}set firstVisibleIndex(t){this._warnPrivateAPIAccess("firstVisibleIndex"),super.firstVisibleIndex=t}get lastVisibleIndex(){return this._warnPrivateAPIAccess("lastVisibleIndex"),super.lastVisibleIndex}set lastVisibleIndex(t){this._warnPrivateAPIAccess("lastVisibleIndex"),super.lastVisibleIndex=t}updateViewportBoundaries(){this._warnPrivateAPIAccess("updateViewportBoundaries"),super.updateViewportBoundaries.apply(this,arguments)}_resizeHandler(){super._resizeHandler(),hu()}}customElements.define(Op.is,Op);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
const Rp=t=>(class extends t{static get observers(){return["_a11yUpdateGridSize(size, _columnTree, _columnTree.*)"]}_a11yGetHeaderRowCount(t){return t.filter(t=>t.some(t=>t._headerTemplate||t.headerRenderer||t.path||t.header)).length}_a11yGetFooterRowCount(t){return t.filter(t=>t.some(t=>t._headerTemplate||t.headerRenderer)).length}_a11yUpdateGridSize(t,e){if(void 0===t||void 0===e)return;const n=e[e.length-1];this.$.table.setAttribute("aria-rowcount",t+this._a11yGetHeaderRowCount(e)+this._a11yGetFooterRowCount(e)),this.$.table.setAttribute("aria-colcount",n&&n.length||0),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}_a11yUpdateHeaderRows(){Array.from(this.$.header.children).forEach((t,e)=>t.setAttribute("aria-rowindex",e+1))}_a11yUpdateFooterRows(){Array.from(this.$.footer.children).forEach((t,e)=>t.setAttribute("aria-rowindex",this._a11yGetHeaderRowCount(this._columnTree)+this.size+e+1))}_a11yUpdateRowRowindex(t,e){t.setAttribute("aria-rowindex",e+this._a11yGetHeaderRowCount(this._columnTree)+1)}_a11yUpdateRowSelected(t,e){t.setAttribute("aria-selected",Boolean(e)),Array.from(t.children).forEach(t=>t.setAttribute("aria-selected",Boolean(e)))}_a11yUpdateRowLevel(t,e){t.setAttribute("aria-level",e+1)}_a11yUpdateRowDetailsOpened(t,e){Array.from(t.children).forEach(t=>{"boolean"==typeof e?t.setAttribute("aria-expanded",e):t.hasAttribute("aria-expanded")&&t.removeAttribute("aria-expanded")})}_a11ySetRowDetailsCell(t,e){Array.from(t.children).forEach(t=>{t!==e&&t.setAttribute("aria-controls",e.id)})}_a11yUpdateCellColspan(t,e){t.setAttribute("aria-colspan",Number(e))}_a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach(t=>{let e=t.parentNode;for(;e&&"vaadin-grid-cell-content"!==e.localName;)e=e.parentNode;if(e&&e.assignedSlot){e.assignedSlot.parentNode.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[String(t.direction)]||"none")}})}}),kp=t=>(class extends t{static get properties(){return{activeItem:{type:Object,notify:!0,value:null}}}ready(){super.ready(),this.$.scroller.addEventListener("click",this._onClick.bind(this)),this.addEventListener("cell-activate",this._activateItem.bind(this))}_activateItem(t){const e=t.detail.model,n=e?e.item:null;n&&(this.activeItem=this._itemsEqual(this.activeItem,n)?null:n)}_onClick(t){if(t.defaultPrevented)return;const e=t.composedPath(),n=e[e.indexOf(this.$.table)-3];if(!n||n.getAttribute("part").indexOf("details-cell")>-1)return;const r=n._content,i=this.getRootNode().activeElement;r.contains(i)&&(!this._ie||this._isFocusable(i))||this._isFocusable(t.target)||this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(n.parentElement)}}))}_isFocusable(t){if(!t.parentNode)return!1;const e=-1!==Array.from(t.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, label, a[href], area[href]")).filter(t=>"cell body-cell"!==t.getAttribute("part")).indexOf(t);return!t.disabled&&e}}),zp=t=>(class extends t{static get properties(){return{items:Array}}static get observers(){return["_itemsChanged(items, items.*, isAttached)"]}_itemsChanged(t,e,n){if(n){if(!Array.isArray(t))return void 0!==t&&null!==t||(this.size=0),void(this.dataProvider===this._arrayDataProvider&&(this.dataProvider=void 0));this.size=t.length,this.dataProvider=this.dataProvider||this._arrayDataProvider,this.clearCache(),this._ensureFirstPageLoaded()}}_arrayDataProvider(t,e){let n=(Array.isArray(this.items)?this.items:[]).slice(0);this._filters&&this._checkPaths(this._filters,"filtering",n)&&(n=this._filter(n)),this.size=n.length,t.sortOrders.length&&this._checkPaths(this._sorters,"sorting",n)&&(n=n.sort(this._multiSort.bind(this)));const r=t.page*t.pageSize,i=r+t.pageSize;e(n.slice(r,i),n.length)}_checkPaths(t,e,n){if(!n.length)return!1;let r=!0;for(var i in t){const s=t[i].path;if(!s||-1===s.indexOf("."))continue;const o=s.replace(/\.[^\.]*$/,"");void 0===ip.get(o,n[0])&&(console.warn(`Path "${s}" used for ${e} does not exist in all of the items, ${e} is disabled.`),r=!1)}return r}_multiSort(t,e){return this._sorters.map(n=>"asc"===n.direction?this._compare(ip.get(n.path,t),ip.get(n.path,e)):"desc"===n.direction?this._compare(ip.get(n.path,e),ip.get(n.path,t)):0).reduce((t,e)=>t||e,0)}_normalizeEmptyValue(t){return[void 0,null].indexOf(t)>=0?"":isNaN(t)?t.toString():t}_compare(t,e){return(t=this._normalizeEmptyValue(t))<(e=this._normalizeEmptyValue(e))?-1:t>e?1:0}_filter(t){return t.filter((t,e)=>0===this._filters.filter(e=>{const n=this._normalizeEmptyValue(ip.get(e.path,t)),r=this._normalizeEmptyValue(e.value).toString().toLowerCase();return-1===n.toString().toLowerCase().indexOf(r)}).length)}}),Dp=t=>(class extends(Yh(t)){ready(){super.ready();const t=this.$.scroller;Lh(t,"track",this._onHeaderTrack.bind(this)),t.addEventListener("touchmove",e=>t.hasAttribute("column-resizing")&&e.preventDefault()),t.addEventListener("contextmenu",t=>"resize-handle"==t.target.getAttribute("part")&&t.preventDefault()),t.addEventListener("mousedown",t=>"resize-handle"===t.target.getAttribute("part")&&t.preventDefault())}_onHeaderTrack(t){const e=t.target;if("resize-handle"===e.getAttribute("part")){let s=e.parentElement._column;for(this._toggleAttribute("column-resizing",!0,this.$.scroller);"vaadin-grid-column-group"===s.localName;)s=Array.prototype.slice.call(s._childColumns,0).sort(function(t,e){return t._order-e._order}).filter(function(t){return!t.hidden}).pop();const o=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]'));var n=o.filter(t=>t._column===s)[0];if(n.offsetWidth){var r=window.getComputedStyle(n),i=10+parseInt(r.paddingLeft)+parseInt(r.paddingRight)+parseInt(r.borderLeftWidth)+parseInt(r.borderRightWidth)+parseInt(r.marginLeft)+parseInt(r.marginRight);s.width=Math.max(i,n.offsetWidth+t.detail.x-n.getBoundingClientRect().right)+"px",s.flexGrow=0}o.sort(function(t,e){return t._column._order-e._column._order}).forEach(function(t,e,r){e<r.indexOf(n)&&(t._column.width=t.offsetWidth+"px",t._column.flexGrow=0)}),"end"===t.detail.state&&(this._toggleAttribute("column-resizing",!1,this.$.scroller),this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:s}}))),this._resizeHandler()}}}),Lp=class t{constructor(t,e,n){this.grid=t,this.parentCache=e,this.parentItem=n,this.itemCaches={},this.items={},this.effectiveSize=0,this.size=0,this.pendingRequests={}}isLoading(){return Object.keys(this.pendingRequests).length||Object.keys(this.itemCaches).filter(t=>this.itemCaches[t].isLoading())[0]}getItemForIndex(t){const{cache:e,scaledIndex:n}=this.getCacheAndIndex(t);return e.items[n]}updateSize(){this.effectiveSize=!this.parentItem||this.grid._isExpanded(this.parentItem)?this.size+Object.keys(this.itemCaches).reduce((t,e)=>{const n=this.itemCaches[e];return n.updateSize(),t+n.effectiveSize},0):0}ensureSubCacheForScaledIndex(e){if(!this.itemCaches[e]){const n=new t(this.grid,this,this.items[e]);this.itemCaches[e]=n,this.grid._loadPage(0,n)}}getCacheAndIndex(t){let e=t;const n=Object.keys(this.itemCaches);for(var r=0;r<n.length;r++){const t=Number(n[r]),i=this.itemCaches[t];if(e<=t)return{cache:this,scaledIndex:e};if(e<=t+i.effectiveSize)return i.getCacheAndIndex(e-t-1);e-=i.effectiveSize}return{cache:this,scaledIndex:e}}},Fp=t=>(class extends t{static get properties(){return{pageSize:{type:Number,value:50,observer:"_pageSizeChanged"},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged"},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_cache:{type:Object,value:function(){return new Lp(this)}},itemIdPath:{type:String,value:null},expandedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_sizeChanged(size)","_itemIdPathChanged(itemIdPath)","_expandedItemsChanged(expandedItems.*)"]}_sizeChanged(t){const e=t-this._cache.size;this._cache.size+=e,this._cache.effectiveSize+=e,this._effectiveSize=this._cache.effectiveSize}_updateRowItem(t,e){e.children.forEach(e=>{e._instance&&(e._instance.item=t)})}_getItem(t,e){if(t>=this._effectiveSize)return;e.index=t;const{cache:n,scaledIndex:r}=this._cache.getCacheAndIndex(t),i=n.items[r];i?(this._toggleAttribute("loading",!1,e),this._updateItem(e,i),this._isExpanded(i)&&n.ensureSubCacheForScaledIndex(r)):(this._toggleAttribute("loading",!0,e),this._loadPage(this._getPageForIndex(r),n))}_pagesForPhysicalItems(){return[this._getPageForIndex(this._firstVisibleIndex+this._vidxOffset)].concat(this._physicalItems.filter(t=>t.index).items(t=>this._getPageForIndex(t.index))).reduce((t,e)=>(-1===t.indexOf(e)&&t.push(e),t),[])}_expandedInstanceChangedCallback(t,e){void 0!==t.item&&(e?this.expandItem(t.item):this.collapseItem(t.item))}getItemId(t){return this.itemIdPath?this.get(this.itemIdPath,t):t}_isExpanded(t){return this.__expandedKeys.has(this.getItemId(t))}_expandedItemsChanged(t){this.__cacheExpandedKeys(),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,this._assignModels()}_itemIdPathChanged(t){this.__cacheExpandedKeys()}__cacheExpandedKeys(){this.expandedItems&&(this.__expandedKeys=new Set,this.expandedItems.forEach(t=>{this.__expandedKeys.add(this.getItemId(t))}))}expandItem(t){this._isExpanded(t)||this.push("expandedItems",t)}collapseItem(t){this._isExpanded(t)&&this.splice("expandedItems",this._getItemIndexInArray(t,this.expandedItems),1)}_getIndexLevel(t){let{cache:e}=this._cache.getCacheAndIndex(t),n=0;for(;e.parentCache;)e=e.parentCache,n++;return n}_canPopulate(){return this._hasData&&this._columnTree}_loadPage(t,e){if(!e.pendingRequests[t]&&this.dataProvider){this._setLoading(!0),e.pendingRequests[t]=!0;const n={page:t,pageSize:this.pageSize,sortOrders:this._mapSorters(),filters:this._mapFilters(),parentItem:e.parentItem};this.dataProvider(n,(r,i)=>{void 0!==i?e.size=i:n.parentItem&&(e.size=r.length);const s=Array.from(this.$.items.children).map(t=>t._item);r.forEach((n,r)=>{const i=t*this.pageSize+r;e.items[i]=n,this._isExpanded(n)&&s.indexOf(n)>-1&&e.ensureSubCacheForScaledIndex(i)}),this._hasData=!0,delete e.pendingRequests[t],this._setLoading(!1),this._cache.updateSize(),this._effectiveSize=this._cache.effectiveSize,Array.from(this.$.items.children).filter(t=>!t.hidden).forEach(t=>{const e=this._cache.getItemForIndex(t.index);e&&(this._toggleAttribute("loading",!1,t),this._updateItem(t,e))}),this._increasePoolIfNeeded(0),this.__itemsReceived()})}}_getPageForIndex(t){return Math.floor(t/this.pageSize)}clearCache(){this._cache=new Lp(this),Array.from(this.$.items.children).forEach(t=>{Array.from(t.children).forEach(t=>{t._instance&&t._instance._setPendingProperty("item",{},!1)})}),this._cache.size=this.size||0,this._cache.updateSize(),this._hasData=!1,this._assignModels(),this._effectiveSize||this._loadPage(0,this._cache)}_flushItemsDebouncer(){this._debouncerLoad&&this._debouncerLoad.flush()}_pageSizeChanged(t,e){void 0!==e&&t!==e&&this.clearCache()}_checkSize(){void 0===this.size&&0===this._effectiveSize&&console.warn("The <vaadin-grid> needs the total number of items in order to display rows. Set the total number of items to the `size` property, or provide the total number of items in the second argument of the `dataProvider`’s `callback` call.")}_dataProviderChanged(t,e){void 0!==e&&this.clearCache(),t&&this.items&&this.items.length&&this._scrollToIndex(this._firstVisibleIndex),this._ensureFirstPageLoaded(),this._debouncerCheckSize=rh.debounce(this._debouncerCheckSize,nc.after(2e3),this._checkSize.bind(this)),this._scrollHandler()}_ensureFirstPageLoaded(){this._hasData||this._loadPage(0,this._cache,()=>{const t=this._hasData;this._hasData=!0,t||this.notifyResize()})}_itemsEqual(t,e){return this.getItemId(t)===this.getItemId(e)}_getItemIndexInArray(t,e){let n=-1;return e.forEach((e,r)=>{this._itemsEqual(e,t)&&(n=r)}),n}}),Hp=t=>(class extends t{ready(){super.ready(),this._addNodeObserver()}_hasColumnGroups(t){for(let e=0;e<t.length;e++)if("vaadin-grid-column-group"===t[e].localName)return!0;return!1}_getChildColumns(t){return rd.getFlattenedNodes(t).filter(this._isColumnElement)}_flattenColumnGroups(t){return t.map(t=>"vaadin-grid-column-group"===t.localName?this._getChildColumns(t):[t]).reduce((t,e)=>t.concat(e),[])}_getColumnTree(){for(var t=[],e=rd.getFlattenedNodes(this).filter(this._isColumnElement);t.push(e),this._hasColumnGroups(e);)e=this._flattenColumnGroups(e);return t}_updateColumnTree(){var t=this._getColumnTree();this._arrayEquals(t,this._columnTree)||(this._columnTree=t)}_addNodeObserver(){this._observer=new rd(this,t=>{const e=t.addedNodes.filter(t=>"template"===t.localName&&t.classList.contains("row-details"))[0];e&&this._rowDetailsTemplate!==e&&(this._rowDetailsTemplate=e),(t.addedNodes.filter(this._isColumnElement).length>0||t.removedNodes.filter(this._isColumnElement).length>0)&&this._updateColumnTree(),this._debouncerCheckImports=rh.debounce(this._debouncerCheckImports,nc.after(2e3),this._checkImports.bind(this)),this._ensureFirstPageLoaded()})}_arrayEquals(t,e){if(!t||!e||t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!this._arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}_checkImports(){["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach(t=>{var e=this.querySelector(t);!e||e instanceof nh||console.warn(`Make sure you have imported the required module for <${t}> element.`)})}_updateFirstAndLastColumn(){Array.from(this.shadowRoot.querySelectorAll("tr")).forEach(t=>this._updateFirstAndLastColumnForRow(t))}_updateFirstAndLastColumnForRow(t){Array.from(t.querySelectorAll('[part~="cell"]:not([part~="details-cell"])')).sort((t,e)=>t._column._order-e._column._order).forEach((t,e,n)=>{this._toggleAttribute("first-column",0===e,t),this._toggleAttribute("last-column",e===n.length-1,t)})}_isColumnElement(t){return t.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/.test(t.localName)}}),Bp=t=>(class extends t{getEventContext(t){const e={},n=t.composedPath(),r=n[n.indexOf(this.$.table)-3];return r?(e.section=["body","header","footer","details"].filter(t=>r.getAttribute("part").indexOf(t)>-1)[0],r._column&&(e.column=r._column),"body"!==e.section&&"details"!==e.section||Object.assign(e,this.__getRowModel(r.parentElement)),e):e}}),Vp=t=>(class extends t{static get properties(){return{_filters:{type:Array,value:function(){return[]}}}}ready(){super.ready(),this.addEventListener("filter-changed",this._filterChanged.bind(this))}_filterChanged(t){-1===this._filters.indexOf(t.target)&&this._filters.push(t.target),t.stopPropagation(),this.dataProvider&&this.clearCache()}_mapFilters(){return this._filters.map(t=>({path:t.path,value:t.value}))}});
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class Up extends class extends nh{}{static get is(){return"vaadin-grid-templatizer"}static get properties(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}},_grid:Object}}static get observers(){return["_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)"]}constructor(){super(),this._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0}}createInstance(){this._ensureTemplatized();const t=new this._TemplateClass({});return this.addInstance(t),t}addInstance(t){-1===this._templateInstances.indexOf(t)&&(this._templateInstances.push(t),requestAnimationFrame(()=>this.notifyPath("_templateInstances.*",this._templateInstances)))}removeInstance(t){const e=this._templateInstances.indexOf(t);this.splice("_templateInstances",e,1)}_ensureTemplatized(){this._TemplateClass||(this._TemplateClass=Yu(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function(t,e){this._forwardParentProp(t,e),this._templateInstances&&this._templateInstances.forEach(n=>n.notifyPath(t,e))},notifyInstanceProp:function(t,e,n){if("index"===e||"item"===e)return;const r=`__${e}__`;if(t[r]===n)return;t[r]=n;const i=Array.from(this._grid.$.items.children).filter(e=>this._grid._itemsEqual(e._item,t.item))[0];i&&Array.from(i.children).forEach(t=>{t._instance&&(t._instance[r]=n,t._instance.notifyPath(e,n))});if(Array.isArray(this._grid.items)&&0===e.indexOf("item.")){const r=this._grid.items.indexOf(t.item),i=e.slice("item.".length);this._grid.notifyPath(`items.${r}.${i}`,n)}const s=`_${e}InstanceChangedCallback`;this._grid&&this._grid[s]&&this._grid[s](t,n)}}))}_forwardParentProp(t,e){this._parentPathValues[t]=e,this._templateInstances.forEach(n=>n.notifyPath(t,e))}_templateInstancesChanged(t,e){let n,r;if("_templateInstances"===t.path)n=0,r=this._templateInstances.length;else{if("_templateInstances.splices"!==t.path)return;n=t.value.index,r=t.value.addedCount}Object.keys(this._parentPathValues||{}).forEach(t=>{for(var e=n;e<n+r;e++)this._templateInstances[e].set(t,this._parentPathValues[t])})}}customElements.define(Up.is,Up);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
const $p=t=>(class extends t{static get properties(){return{detailsOpenedItems:{type:Array,value:function(){return[]}},_rowDetailsTemplate:Object,rowDetailsRenderer:Function,_detailsCells:{type:Array}}}static get observers(){return["_detailsOpenedItemsChanged(detailsOpenedItems.*, _rowDetailsTemplate, rowDetailsRenderer)","_rowDetailsTemplateOrRendererChanged(_rowDetailsTemplate, rowDetailsRenderer)"]}_rowDetailsTemplateOrRendererChanged(t,e){if(t&&e)throw new Error("You should only use either a renderer or a template for row details");if(t||e){if(t&&!t.templatizer){var n=new Up;n._grid=this,n.dataHost=this.dataHost,n.template=t,t.templatizer=n}this._columnTree&&Array.from(this.$.items.children).forEach(t=>{t.querySelector("[part~=details-cell]")||(this._updateRow(t,this._columnTree[this._columnTree.length-1]),this._a11yUpdateRowDetailsOpened(t,!1)),delete t.querySelector("[part~=details-cell]")._instance}),this.detailsOpenedItems.length&&(Array.from(this.$.items.children).forEach(this._toggleDetailsCell,this),this._update())}}_detailsOpenedItemsChanged(t,e,n){"detailsOpenedItems.length"!==t.path&&t.value&&Array.from(this.$.items.children).forEach(t=>{this._toggleDetailsCell(t,t._item),this._a11yUpdateRowDetailsOpened(t,this._isDetailsOpened(t._item)),this._toggleAttribute("details-opened",this._isDetailsOpened(t._item),t)})}_configureDetailsCell(t){t.setAttribute("part","cell details-cell"),this._toggleAttribute("frozen",!0,t)}_toggleDetailsCell(t,e){const n=t.querySelector('[part~="details-cell"]');if(!n)return;const r=!this._isDetailsOpened(e),i=!!n.hidden!==r;(n._instance||n._renderer)&&n.hidden===r||(n.hidden=r,r?t.style.removeProperty("padding-bottom"):(this.rowDetailsRenderer?(n._renderer=this.rowDetailsRenderer,n._renderer.call(this,n._content,this,{index:t.index,item:e})):this._rowDetailsTemplate&&!n._instance&&(n._instance=this._rowDetailsTemplate.templatizer.createInstance(),n._content.innerHTML="",n._content.appendChild(n._instance.root),this._updateItem(t,e)),hu(),t.style.setProperty("padding-bottom",`${n.offsetHeight}px`),requestAnimationFrame(()=>this.notifyResize()))),i&&(this._updateMetrics(),this._positionItems())}_updateDetailsCellHeights(){Array.from(this.$.items.querySelectorAll('[part~="details-cell"]:not([hidden])')).forEach(t=>{t.parentElement.style.setProperty("padding-bottom",`${t.offsetHeight}px`)})}_isDetailsOpened(t){return this.detailsOpenedItems&&-1!==this._getItemIndexInArray(t,this.detailsOpenedItems)}openItemDetails(t){this._isDetailsOpened(t)||this.push("detailsOpenedItems",t)}closeItemDetails(t){this._isDetailsOpened(t)&&this.splice("detailsOpenedItems",this._getItemIndexInArray(t,this.detailsOpenedItems),1)}_detailsOpenedInstanceChangedCallback(t,e){super._detailsOpenedInstanceChangedCallback&&super._detailsOpenedInstanceChangedCallback(t,e),e?this.openItemDetails(t.item):this.closeItemDetails(t.item)}}),jp=t=>(class extends t{get _timeouts(){return{SCROLL_PERIOD:1e3,WHEEL_SCROLLING:200,SCROLLING:100,IGNORE_WHEEL:500}}static get properties(){return{_frozenCells:{type:Array,value:function(){return[]}},_scrollbarWidth:{type:Number,value:function(){var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}},_rowWithFocusedElement:Element,_deltaYAcc:{type:Number,value:0}}}static get observers(){return["_scrollHeightUpdated(_estScrollHeight)","_scrollViewportHeightUpdated(_viewportHeight)"]}set _scrollTop(t){this.$.table.scrollTop=t}get _scrollTop(){return this.$.table.scrollTop}constructor(){super(),this._scrollLineHeight=this._getScrollLineHeight()}_getScrollLineHeight(){const t=document.createElement("div");t.style.fontSize="initial",t.style.display="none",document.body.appendChild(t);const e=window.getComputedStyle(t).fontSize;return document.body.removeChild(t),e?window.parseInt(e):void 0}_scrollViewportHeightUpdated(t){this._scrollPageHeight=t-this.$.header.clientHeight-this.$.footer.clientHeight-this._scrollLineHeight}ready(){super.ready(),this.scrollTarget=this.$.table,this.addEventListener("wheel",t=>{this._wheelScrolling=!0,this._debouncerWheelScrolling=rh.debounce(this._debouncerWheelScrolling,nc.after(this._timeouts.WHEEL_SCROLLING),()=>this._wheelScrolling=!1),this._onWheel(t)}),this.$.table.addEventListener("scroll",t=>{this.$.outerscroller.outerScrolling&&t.stopImmediatePropagation()},!0),this.$.items.addEventListener("focusin",t=>{const e=t.composedPath().indexOf(this.$.items);this._rowWithFocusedElement=t.composedPath()[e-1]}),this.$.items.addEventListener("focusout",()=>this._rowWithFocusedElement=void 0)}scrollToIndex(t){this._accessIronListAPI(()=>super.scrollToIndex(t))}_onWheel(t){if(t.ctrlKey||this._hasScrolledAncestor(t.target,t.deltaX,t.deltaY))return;const e=this.$.table;let n=t.deltaY;if(t.deltaMode===WheelEvent.DOM_DELTA_LINE?n*=this._scrollLineHeight:t.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(n*=this._scrollPageHeight),this._wheelAnimationFrame)return this._deltaYAcc+=n,void t.preventDefault();n+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this._debouncerWheelAnimationFrame=rh.debounce(this._debouncerWheelAnimationFrame,rc,()=>this._wheelAnimationFrame=!1);var r=Math.abs(t.deltaX)+Math.abs(n);this._canScroll(e,t.deltaX,n)?(t.preventDefault(),e.scrollTop+=n,e.scrollLeft+=t.deltaX,this._scrollHandler(),this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=rh.debounce(this._debouncerIgnoreNewWheel,nc.after(this._timeouts.IGNORE_WHEEL),()=>this._ignoreNewWheel=!1)):this._hasResidualMomentum&&r<=this._previousMomentum||this._ignoreNewWheel?t.preventDefault():r>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=r}_hasScrolledAncestor(t,e,n){return"vaadin-grid-cell-content"!==t.localName&&(!(!this._canScroll(t,e,n)||-1===["auto","scroll"].indexOf(getComputedStyle(t).overflow))||(t!==this&&t.parentElement?this._hasScrolledAncestor(t.parentElement,e,n):void 0))}_canScroll(t,e,n){return n>0&&t.scrollTop<t.scrollHeight-t.offsetHeight||n<0&&t.scrollTop>0||e>0&&t.scrollLeft<t.scrollWidth-t.offsetWidth||e<0&&t.scrollLeft>0}_scheduleScrolling(){this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame(()=>this._toggleAttribute("scrolling",!0,this.$.scroller))),this._debounceScrolling=rh.debounce(this._debounceScrolling,nc.after(this._timeouts.SCROLLING),()=>{cancelAnimationFrame(this._scrollingFrame),delete this._scrollingFrame,this._toggleAttribute("scrolling",!1,this.$.scroller),this.$.outerscroller.outerScrolling||this._reorderRows()}),this._scrollPeriodFrame||(this._scrollPeriodFrame=requestAnimationFrame(()=>this._toggleAttribute("scroll-period",!0,this.$.scroller))),this._debounceScrollPeriod=rh.debounce(this._debounceScrollPeriod,nc.after(this._timeouts.SCROLL_PERIOD),()=>{cancelAnimationFrame(this._scrollPeriodFrame),delete this._scrollPeriodFrame,this._toggleAttribute("scroll-period",!1,this.$.scroller)})}_afterScroll(){this._translateStationaryElements(),this.hasAttribute("reordering")||this._scheduleScrolling();const t=this.$.outerscroller;if(this._ios||!this._wheelScrolling&&!t.passthrough||t.syncOuterScroller(),this._ios){const e=Math.max(-t.scrollTop,0)||Math.min(0,t.scrollHeight-t.scrollTop-t.offsetHeight);this.$.items.style.transform=`translateY(${e}px)`}this._updateOverflow()}_updateOverflow(){let t="";const e=this.$.table;e.scrollTop<e.scrollHeight-e.clientHeight&&(t+=" bottom"),e.scrollTop>0&&(t+=" top"),e.scrollLeft<e.scrollWidth-e.clientWidth&&(t+=" right"),e.scrollLeft>0&&(t+=" left"),this._debounceOverflow=rh.debounce(this._debounceOverflow,rc,()=>{const e=t.trim();e.length>0&&this.getAttribute("overflow")!==e?this.setAttribute("overflow",e):0==e.length&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")})}_reorderRows(){const t=this.$.items,e=t.querySelectorAll("tr");if(!e.length)return;const n=this._virtualStart+this._vidxOffset,r=this._rowWithFocusedElement||Array.from(e).filter(t=>!t.hidden)[0];if(!r)return;const i=r.index-n,s=Array.from(e).indexOf(r)-i;if(s>0)for(let n=0;n<s;n++)t.appendChild(e[n]);else if(s<0)for(let n=e.length+s;n<e.length;n++)t.insertBefore(e[n],e[0])}_frozenCellsChanged(){this._debouncerCacheElements=rh.debounce(this._debouncerCacheElements,sc,()=>{Array.from(this.root.querySelectorAll('[part~="cell"]')).forEach(function(t){t.style.transform=""}),this._frozenCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen]")),this._translateStationaryElements()}),this._updateLastFrozen()}_updateLastFrozen(){if(!this._columnTree)return;const t=this._columnTree[this._columnTree.length-1].slice(0);t.sort((t,e)=>t._order-e._order);const e=t.reduce((t,e,n)=>(e._lastFrozen=!1,e.frozen&&!e.hidden?n:t),void 0);void 0!==e&&(t[e]._lastFrozen=!0)}_translateStationaryElements(){this._edge&&!this._scrollbarWidth?(this.$.items.style.transform=this._getTranslate(-this._scrollLeft||0,-this._scrollTop||0),this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(-this._scrollLeft||0,0)):this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(0,this._scrollTop);for(var t=this._getTranslate(this._scrollLeft,0),e=0;e<this._frozenCells.length;e++)this._frozenCells[e].style.transform=t}_getTranslate(t,e){return"translate("+t+"px,"+e+"px)"}_scrollHeightUpdated(t){this.$.outersizer.style.top=this.$.fixedsizer.style.top=t+"px"}}),qp=t=>(class extends t{static get properties(){return{selectedItems:{type:Object,notify:!0,value:()=>[]}}}static get observers(){return["_selectedItemsChanged(selectedItems.*)"]}_isSelected(t){return this.selectedItems&&this._getItemIndexInArray(t,this.selectedItems)>-1}selectItem(t){this._isSelected(t)||this.push("selectedItems",t)}deselectItem(t){const e=this._getItemIndexInArray(t,this.selectedItems);e>-1&&this.splice("selectedItems",e,1)}_toggleItem(t){-1===this._getItemIndexInArray(t,this.selectedItems)?this.selectItem(t):this.deselectItem(t)}_selectedItemsChanged(t){!this.$.items.children.length||"selectedItems"!==t.path&&"selectedItems.splices"!==t.path||Array.from(this.$.items.children).forEach(t=>{this._updateItem(t,t._item)})}_selectedInstanceChangedCallback(t,e){super._selectedInstanceChangedCallback&&super._selectedInstanceChangedCallback(t,e),e?this.selectItem(t.item):this.deselectItem(t.item)}}),Gp=t=>(class extends t{static get properties(){return{multiSort:{type:Boolean,value:!1},_sorters:{type:Array,value:function(){return[]}},_previousSorters:{type:Array,value:function(){return[]}}}}ready(){super.ready(),this.addEventListener("sorter-changed",this._onSorterChanged),window.ShadyDOM&&sc.run(()=>{const t=this.querySelectorAll("vaadin-grid-sorter");Array.from(t).forEach(t=>{t instanceof nh&&t.dispatchEvent(new CustomEvent("sorter-changed",{bubbles:!0,composed:!0}))})})}_onSorterChanged(t){const e=t.target;this._removeArrayItem(this._sorters,e),e._order=null,this.multiSort?(e.direction&&this._sorters.unshift(e),this._sorters.forEach((t,e)=>t._order=this._sorters.length>1?e:null,this)):e.direction&&(this._sorters.forEach(t=>{t._order=null,t.direction=null}),this._sorters=[e]),t.stopPropagation(),this.dataProvider&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.clearCache(),this._a11yUpdateSorters(),this._previousSorters=this._mapSorters()}_mapSorters(){return this._sorters.map(t=>({path:t.path,direction:t.direction}))}_removeArrayItem(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}}),Yp=t=>(class extends t{static get properties(){return{cellClassNameGenerator:Function}}static get observers(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)"]}__cellClassNameGeneratorChanged(t){this.generateCellClassNames()}generateCellClassNames(){Array.from(this.$.items.children).filter(t=>!t.hidden).forEach(t=>this._generateCellClassNames(t,this.__getRowModel(t)))}_generateCellClassNames(t,e){Array.from(t.children).forEach(t=>{if(t.__generatedClasses&&t.__generatedClasses.forEach(e=>t.classList.remove(e)),this.cellClassNameGenerator){const n=this.cellClassNameGenerator(t._column,e);t.__generatedClasses=n&&n.split(" ").filter(t=>t.length>0),t.__generatedClasses&&t.__generatedClasses.forEach(e=>t.classList.add(e))}})}}),Wp="between",Xp="on-top-or-between",Jp="on-grid",Kp="on-top",Zp="above",Qp="below",tf="empty",ef=t=>(class extends t{static get properties(){return{dropMode:String,rowsDraggable:Boolean,dragFilter:Function,dropFilter:Function,__dndAutoScrollThreshold:{value:50}}}static get observers(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter)"]}ready(){super.ready(),this.$.table.addEventListener("dragstart",this._onDragStart.bind(this)),this.$.table.addEventListener("dragend",this._onDragEnd.bind(this)),this.$.table.addEventListener("dragover",this._onDragOver.bind(this)),this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this)),this.$.table.addEventListener("drop",this._onDrop.bind(this)),this.$.table.addEventListener("dragenter",t=>{this.dropMode&&(t.preventDefault(),t.stopPropagation())})}_onDragStart(t){if(this.rowsDraggable){let e=t.target;if("vaadin-grid-cell-content"===e.localName&&(e=e.assignedSlot.parentNode.parentNode),e.parentNode!==this.$.items)return;if(t.stopPropagation(),this._toggleAttribute("dragging-rows",!0,this),this._safari){const t=e.style.transform;e.style.top=/translateY\((.*)\)/.exec(t)[1],e.style.transform="none",requestAnimationFrame(()=>{e.style.top="",e.style.transform=t})}const n=e.getBoundingClientRect();window.ShadyDOM||(this._ios?t.dataTransfer.setDragImage(e):t.dataTransfer.setDragImage(e,t.clientX-n.left,t.clientY-n.top));let r=[e];this._isSelected(e._item)&&(r=this.__getViewportRows().filter(t=>this._isSelected(t._item)).filter(t=>!this.dragFilter||this.dragFilter(this.__getRowModel(t)))),t.dataTransfer.setData("text",this.__formatDefaultTransferData(r)),e.setAttribute("dragstart",r.length>1?r.length:""),this.updateStyles({"--_grid-drag-start-x":`${t.clientX-n.left+20}px`,"--_grid-drag-start-y":`${t.clientY-n.top+10}px`}),requestAnimationFrame(()=>{e.removeAttribute("dragstart"),this.updateStyles({"--_grid-drag-start-x":"","--_grid-drag-start-y":""})});const i=new CustomEvent("grid-dragstart",{detail:{draggedItems:r.map(t=>t._item),setDragData:(e,n)=>t.dataTransfer.setData(e,n),setDraggedItemsCount:t=>e.setAttribute("dragstart",t)}});i.originalEvent=t,this.dispatchEvent(i)}}_onDragEnd(t){this._toggleAttribute("dragging-rows",!1,this),t.stopPropagation();const e=new CustomEvent("grid-dragend");e.originalEvent=t,this.dispatchEvent(e)}_onDragLeave(t){t.stopPropagation(),this._clearDragStyles()}_onDragOver(t){if(this.dropMode){if(this._dropLocation=void 0,this._dragOverItem=void 0,this.__dndAutoScroll(t.clientY))return void this._clearDragStyles();let e=t.composedPath().filter(t=>"tr"===t.localName)[0];if(this._effectiveSize&&this.dropMode!==Jp)if(e&&e.parentNode===this.$.items){const n=e.getBoundingClientRect();if(this._dropLocation=Kp,this.dropMode===Wp){const e=t.clientY-n.top<n.bottom-t.clientY;this._dropLocation=e?Zp:Qp}else this.dropMode===Xp&&(t.clientY-n.top<n.height/3?this._dropLocation=Zp:t.clientY-n.top>n.height/3*2&&(this._dropLocation=Qp))}else{if(e)return;if(this.dropMode!==Wp&&this.dropMode!==Xp)return;e=Array.from(this.$.items.children).filter(t=>!t.hidden).pop(),this._dropLocation=Qp}else this._dropLocation=tf;if(e&&e.hasAttribute("drop-disabled"))return void(this._dropLocation=void 0);t.stopPropagation(),t.preventDefault(),this._dropLocation===tf?this._toggleAttribute("dragover",!0,this):e?(this._dragOverItem=e._item,e.getAttribute("dragover")!==this._dropLocation&&e.setAttribute("dragover",this._dropLocation)):this._clearDragStyles()}}__dndAutoScroll(t){if(this.__dndAutoScrolling)return!0;const e=this.$.header.getBoundingClientRect().bottom,n=this.$.footer.getBoundingClientRect().top,r=e-t+this.__dndAutoScrollThreshold,i=t-n+this.__dndAutoScrollThreshold;let s=0;if(i>0?s=2*i:r>0&&(s=2*-r),s){const t=this.$.table.scrollTop;if(this.$.table.scrollTop+=s,t!==this.$.table.scrollTop)return this.__dndAutoScrolling=!0,setTimeout(()=>this.__dndAutoScrolling=!1,20),this._scrollHandler(),!0}}__getViewportRows(){const t=this.$.header.getBoundingClientRect().bottom,e=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter(n=>{const r=n.getBoundingClientRect();return r.bottom>t&&r.top<e})}_clearDragStyles(){this.removeAttribute("dragover"),Array.from(this.$.items.children).forEach(t=>t.removeAttribute("dragover"))}_onDrop(t){if(this.dropMode){t.stopPropagation(),t.preventDefault();const e=t.dataTransfer.types&&Array.from(t.dataTransfer.types).map(e=>({type:e,data:t.dataTransfer.getData(e)}));this._clearDragStyles();const n=new CustomEvent("grid-drop",{bubbles:t.bubbles,cancelable:t.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:e}});n.originalEvent=t,this.dispatchEvent(n)}}__formatDefaultTransferData(t){return t.map(t=>Array.from(t.children).filter(t=>!t.hidden&&-1===t.getAttribute("part").indexOf("details-cell")).sort((t,e)=>t._column._order>e._column._order?1:-1).map(t=>t._content.textContent.trim()).filter(t=>t).join("\t")).join("\n")}_dragDropAccessChanged(t,e,n,r){this.filterDragAndDrop()}filterDragAndDrop(){Array.from(this.$.items.children).filter(t=>!t.hidden).forEach(t=>{this._filterDragAndDrop(t,this.__getRowModel(t))})}_filterDragAndDrop(t,e){const n=!this.rowsDraggable||this.dragFilter&&!this.dragFilter(e),r=!this.dropMode||this.dropFilter&&!this.dropFilter(e);(window.ShadyDOM?[t]:Array.from(t.children).map(t=>t._content)).forEach(t=>{n?t.removeAttribute("draggable"):t.setAttribute("draggable",!0)}),this._toggleAttribute("drag-disabled",n,t),this._toggleAttribute("drop-disabled",r,t)}}),nf=t=>(class extends t{static get properties(){return{_headerFocusable:{type:Object,observer:"_focusableChanged"},_itemsFocusable:{type:Object,observer:"_focusableChanged"},_footerFocusable:{type:Object,observer:"_focusableChanged"},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number}}ready(){super.ready(),this._ios||this._android||(this.addEventListener("keydown",this._onKeyDown),this.addEventListener("focusin",this._onFocusIn),this.addEventListener("focusout",this._onFocusOut),this.$.table.addEventListener("focusin",this._onCellFocusIn.bind(this)),this.$.table.addEventListener("focusout",this._onCellFocusOut.bind(this)),this.addEventListener("mousedown",()=>{this._toggleAttribute("navigating",!1,this),this._isMousedown=!0}),this.addEventListener("mouseup",()=>this._isMousedown=!1))}_focusableChanged(t,e){e&&e.setAttribute("tabindex","-1"),t&&t.setAttribute("tabindex","0")}_onKeyDown(t){let e,n=t.key;switch("Up"!==n&&"Down"!==n&&"Left"!==n&&"Right"!==n||(n="Arrow"+n),"Esc"===n&&(n="Escape"),"Spacebar"===n&&(n=" "),n){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":e="Navigation";break;case"Enter":case"Escape":case"F2":e="Interaction";break;case"Tab":e="Tab";break;case" ":e="Space"}this._detectInteracting(t),this.hasAttribute("interacting")&&"Interaction"!==e&&(e=void 0),e&&this[`_on${e}KeyDown`](t,n)}_ensureScrolledToIndex(t){Array.from(this.$.items.children).filter(e=>e.index===t)[0]||this._scrollToIndex(t)}_onNavigationKeyDown(t,e){function n(t){return Array.prototype.indexOf.call(t.parentNode.children,t)}t.preventDefault();const r=this._lastVisibleIndex-this._firstVisibleIndex-1;let i=0,s=0;switch(e){case"ArrowRight":i=1;break;case"ArrowLeft":i=-1;break;case"Home":i=-1/0,t.ctrlKey&&(s=-1/0);break;case"End":i=1/0,t.ctrlKey&&(s=1/0);break;case"ArrowDown":s=1;break;case"ArrowUp":s=-1;break;case"PageDown":s=r;break;case"PageUp":s=-r}const o=t.composedPath()[0],a=n(o),l=this._elementMatches(o,'[part~="details-cell"]'),c=o.parentNode,h=c.parentNode,d=(h===this.$.items?this._effectiveSize:h.children.length)-1,u=h===this.$.items?void 0!==this._focusedItemIndex?this._focusedItemIndex:c.index:n(c);let p=Math.max(0,Math.min(u+s,d)),f=!1;if(h===this.$.items){const t=c._item,e=this._cache.getItemForIndex(p);(f=l?0===s:1===s&&this._isDetailsOpened(t)||-1===s&&p!==u&&this._isDetailsOpened(e))!==l&&(1===s&&f||-1===s&&!f)&&(p=u)}if(h!==this.$.items)if(p>u)for(;p<d&&h.children[p].hidden;)p++;else if(p<u)for(;p>0&&h.children[p].hidden;)p--;void 0===this._focusedColumnOrder&&(this._focusedColumnOrder=l?0:this._getColumns(h,u)[a]._order);const _=this._getColumns(h,p),m=_.filter(t=>!t.hidden).map(t=>t._order).sort((t,e)=>t-e),g=m.length-1,y=m.indexOf(m.slice(0).sort((t,e)=>Math.abs(t-this._focusedColumnOrder)-Math.abs(e-this._focusedColumnOrder))[0]),v=0===s&&l?y:Math.max(0,Math.min(y+i,g));v!==y&&(this._focusedColumnOrder=void 0),h===this.$.items&&this._ensureScrolledToIndex(p),this._toggleAttribute("navigating",!0,this);const b=_.reduce((t,e,n)=>(t[e._order]=n,t),{})[m[v]],w=h===this.$.items?Array.from(h.children).filter(t=>t.index===p)[0]:h.children[p];if(!w)return;const x=f?Array.from(w.children).filter(t=>this._elementMatches(t,'[part~="details-cell"]'))[0]:w.children[b];if(this._scrollHorizontallyToCell(x),h===this.$.items&&(this._focusedItemIndex=p),h===this.$.items){const t=x.getBoundingClientRect(),e=this.$.footer.getBoundingClientRect().top,n=this.$.header.getBoundingClientRect().bottom;t.bottom>e?(this.$.table.scrollTop+=t.bottom-e,this._scrollHandler()):t.top<n&&(this.$.table.scrollTop-=n-t.top,this._scrollHandler())}x.focus()}_parseEventPath(t){const e=t.indexOf(this.$.table);return{rowGroup:t[e-1],row:t[e-2],cell:t[e-3]}}_onInteractionKeyDown(t,e){const n=t.composedPath()[0],r="input"===n.localName&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/i.test(n.type);let i;switch(e){case"Enter":i=!this.hasAttribute("interacting")||!r;break;case"Escape":i=!1;break;case"F2":i=!this.hasAttribute("interacting")}const{cell:s}=this._parseEventPath(t.composedPath());if(this.hasAttribute("interacting")!==i)if(i){const e=s._content.querySelector("[focus-target]")||s._content.firstElementChild;e&&(t.preventDefault(),e.focus(),this._toggleAttribute("interacting",!0,this),this._toggleAttribute("navigating",!1,this))}else t.preventDefault(),this._focusedColumnOrder=void 0,s.focus(),this._toggleAttribute("interacting",!1,this),this._toggleAttribute("navigating",!0,this)}_predictFocusStepTarget(t,e){const n=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit];let r=n.indexOf(t);for(r+=e;r>=0&&r<=n.length-1&&(!n[r]||n[r].parentNode.hidden);)r+=e;return n[r]}_onTabKeyDown(t){const e=this._predictFocusStepTarget(t.composedPath()[0],t.shiftKey?-1:1);if(e===this.$.table)this.$.table.focus();else if(e===this.$.focusexit)this.$.focusexit.focus();else if(e===this._itemsFocusable){let n=e;const r=this._itemsFocusable.parentNode;if(this._ensureScrolledToIndex(this._focusedItemIndex),r.index!==this._focusedItemIndex){const t=Array.from(r.children).indexOf(this._itemsFocusable),e=Array.from(this.$.items.children).filter(t=>t.index===this._focusedItemIndex)[0];e&&(n=e.children[t])}t.preventDefault(),n.focus()}else t.preventDefault(),e.focus();this._toggleAttribute("navigating",!0,this)}_onSpaceKeyDown(t){t.preventDefault();const e=t.composedPath()[0];if(e._content&&e._content.firstElementChild){const t=this.hasAttribute("navigating");e._content.firstElementChild.click(),this._toggleAttribute("navigating",t,this)}else this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(e.parentElement)}}))}_onFocusIn(t){this._isMousedown||this._toggleAttribute("navigating",!0,this);const e=t.composedPath()[0];e===this.$.table||e===this.$.focusexit?(this._predictFocusStepTarget(e,e===this.$.table?1:-1).focus(),this._toggleAttribute("interacting",!1,this)):this._detectInteracting(t)}_onFocusOut(t){this._toggleAttribute("navigating",!1,this),this._detectInteracting(t)}_onCellFocusIn(t){if(this._detectInteracting(t),3===t.composedPath().indexOf(this.$.table)){const e=t.composedPath()[0];this._activeRowGroup=e.parentNode.parentNode,this._activeRowGroup===this.$.header?this._headerFocusable=e:this._activeRowGroup===this.$.items?this._itemsFocusable=e:this._activeRowGroup===this.$.footer&&(this._footerFocusable=e),e._content.dispatchEvent(new CustomEvent("cell-focusin",{bubbles:!1}))}this._detectFocusedItemIndex(t)}_onCellFocusOut(t){if(3===t.composedPath().indexOf(this.$.table)){t.composedPath()[0]._content.dispatchEvent(new CustomEvent("cell-focusout",{bubbles:!1}))}}_detectInteracting(t){this._toggleAttribute("interacting",t.composedPath().some(t=>"vaadin-grid-cell-content"===t.localName),this)}_detectFocusedItemIndex(t){const{rowGroup:e,row:n}=this._parseEventPath(t.composedPath());e===this.$.items&&(this._focusedItemIndex=n.index)}_preventScrollerRotatingCellFocus(t,e){t.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items&&(this._navigatingIsHidden=!0,this._toggleAttribute("navigating",!1,this)),e===this._focusedItemIndex&&this._navigatingIsHidden&&(this._navigatingIsHidden=!1,this._toggleAttribute("navigating",!0,this))}_getColumns(t,e){let n=this._columnTree.length-1;return t===this.$.header?n=e:t===this.$.footer&&(n=this._columnTree.length-1-e),this._columnTree[n]}_resetKeyboardNavigation(){if(this.$.header.firstElementChild&&(this._headerFocusable=Array.from(this.$.header.firstElementChild.children).filter(t=>!t.hidden)[0]),this.$.items.firstElementChild){const t=this._iterateItems((t,e)=>{if(this._firstVisibleIndex===e)return this.$.items.children[t]});t&&(this._itemsFocusable=Array.from(t.children).filter(t=>!t.hidden)[0])}this.$.footer.firstElementChild&&(this._footerFocusable=Array.from(this.$.footer.firstElementChild.children).filter(t=>!t.hidden)[0])}_scrollHorizontallyToCell(t){if(t.hasAttribute("frozen")||this._elementMatches(t,'[part~="details-cell"]'))return;const e=t.getBoundingClientRect(),n=t.parentNode,r=Array.from(n.children).indexOf(t),i=this.$.table.getBoundingClientRect();let s=i.left,o=i.right;for(let t=r-1;t>=0;t--){const e=n.children[t];if(!e.hasAttribute("hidden")&&!this._elementMatches(e,'[part~="details-cell"]')&&e.hasAttribute("frozen")){s=e.getBoundingClientRect().right;break}}for(let t=r+1;t<n.children.length;t++){const e=n.children[t];if(!e.hasAttribute("hidden")&&!this._elementMatches(e,'[part~="details-cell"]')&&e.hasAttribute("frozen")){o=e.getBoundingClientRect().left;break}}e.left<s&&(this.$.table.scrollLeft+=Math.round(e.left-s)),e.right>o&&(this.$.table.scrollLeft+=Math.round(e.right-o))}_elementMatches(t,e){return t.matches?t.matches(e):-1!==Array.from(t.parentNode.querySelectorAll(e)).indexOf(t)}}),rf=t=>(class extends(Yh(t)){static get properties(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}static get observers(){return["_updateOrders(_columnTree, _columnTree.*)"]}ready(){super.ready(),Lh(this,"track",this._onTrackEvent),this._reorderGhost=this.shadowRoot.querySelector('[part="reorder-ghost"]'),this.addEventListener("touchstart",this._onTouchStart.bind(this)),this.addEventListener("touchmove",this._onTouchMove.bind(this)),this.addEventListener("touchend",this._onTouchEnd.bind(this)),this.addEventListener("contextmenu",this._onContextMenu.bind(this))}_onContextMenu(t){this.hasAttribute("reordering")&&t.preventDefault()}_onTouchStart(t){this._startTouchReorderTimeout=setTimeout(()=>{this._onTrackStart({detail:{x:t.touches[0].clientX,y:t.touches[0].clientY}})},100)}_onTouchMove(t){this._draggedColumn&&t.preventDefault(),clearTimeout(this._startTouchReorderTimeout)}_onTouchEnd(){clearTimeout(this._startTouchReorderTimeout),this._onTrackEnd()}_onTrackEvent(t){if("start"===t.detail.state){const e=t.composedPath(),n=e[e.indexOf(this.$.header)-2];if(!n||!n._content)return;const r=this.getRootNode().activeElement;if(n._content.contains(this.getRootNode().activeElement)&&(!this._ie||!this._isFocusable(r)))return;if(this.$.scroller.hasAttribute("column-resizing"))return;this._touchDevice||this._onTrackStart(t)}else"track"===t.detail.state?this._onTrack(t):"end"===t.detail.state&&this._onTrackEnd(t)}_onTrackStart(t){if(!this.columnReorderingAllowed)return;const e=t.path||yu(t).path;if(e&&e.filter(t=>t.hasAttribute&&t.hasAttribute("draggable"))[0])return;const n=this._cellFromPoint(t.detail.x,t.detail.y);if(n&&-1!==n.getAttribute("part").indexOf("header-cell")){for(this._toggleAttribute("reordering",!0,this),this._draggedColumn=n._column;1===this._draggedColumn.parentElement.childElementCount;)this._draggedColumn=this._draggedColumn.parentElement;this._setSiblingsReorderStatus(this._draggedColumn,"allowed"),this._draggedColumn._reorderStatus="dragging",this._updateGhost(n),this._reorderGhost.style.visibility="visible",this._updateGhostPosition(t.detail.x,this._touchDevice?t.detail.y-50:t.detail.y),this._autoScroller()}}_onTrack(t){if(!this._draggedColumn)return;const e=this._cellFromPoint(t.detail.x,t.detail.y);if(!e)return;const n=this._getTargetColumn(e,this._draggedColumn);this._isSwapAllowed(this._draggedColumn,n)&&this._isSwappableByPosition(n,t.detail.x)&&this._swapColumnOrders(this._draggedColumn,n),this._updateGhostPosition(t.detail.x,this._touchDevice?t.detail.y-50:t.detail.y),this._lastDragClientX=t.detail.x}_onTrackEnd(){this._draggedColumn&&(this._toggleAttribute("reordering",!1,this),this._draggedColumn._reorderStatus="",this._setSiblingsReorderStatus(this._draggedColumn,""),this._draggedColumn=null,this._lastDragClientX=null,this._reorderGhost.style.visibility="hidden",this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}})))}_getColumnsInOrder(){return this._columnTree.slice(0).pop().filter(t=>!t.hidden).sort((t,e)=>t._order-e._order)}_cellFromPoint(t,e){let n;if(t=t||0,e=e||0,this._draggedColumn||this._toggleAttribute("no-content-pointer-events",!0,this.$.scroller),Za?n=this.shadowRoot.elementFromPoint(t,e):"vaadin-grid-cell-content"===(n=document.elementFromPoint(t,e)).localName&&(n=n.assignedSlot.parentNode),this._toggleAttribute("no-content-pointer-events",!1,this.$.scroller),n&&n._column)return n}_updateGhostPosition(t,e){const n=this._reorderGhost.getBoundingClientRect(),r=t-n.width/2,i=e-n.height/2,s=parseInt(this._reorderGhost._left||0),o=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=s-(n.left-r),this._reorderGhost._top=o-(n.top-i),this._reorderGhost.style.transform=`translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`}_getInnerText(t){return t.localName?"none"===getComputedStyle(t).display?"":Array.from(t.childNodes).map(t=>this._getInnerText(t)).join(""):t.textContent}_updateGhost(t){const e=this._reorderGhost;e.textContent=this._getInnerText(t._content);const n=window.getComputedStyle(t);return["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach(t=>e.style[t]=n[t]),e}_updateOrders(t,e){void 0!==t&&void 0!==e&&(t[0].forEach((t,e)=>t._order=0),t[0].forEach((t,e)=>t._order=(e+1)*this._orderBaseScope))}_setSiblingsReorderStatus(t,e){Array.from(t.parentNode.children).filter(e=>/column/.test(e.localName)&&this._isSwapAllowed(e,t)).forEach(t=>t._reorderStatus=e)}_autoScroller(){if(this._lastDragClientX){const t=this._lastDragClientX-this.getBoundingClientRect().right+50,e=this.getBoundingClientRect().left-this._lastDragClientX+50;t>0?this.$.table.scrollLeft+=t/10:e>0&&(this.$.table.scrollLeft-=e/10),this._scrollHandler()}this._draggedColumn&&this.async(this._autoScroller,10)}_isSwapAllowed(t,e){if(t&&e){const n=t!==e,r=t.parentElement===e.parentElement,i=t.frozen===e.frozen;return n&&r&&i}}_isSwappableByPosition(t,e){const n=Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~="cell"]')).filter(e=>t.contains(e._column))[0],r=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),i=n.getBoundingClientRect();return i.left>r.left?e>i.right-r.width:e<i.left+r.width}_swapColumnOrders(t,e){const n=t._order;t._order=e._order,e._order=n,this._updateLastFrozen(),this._updateFirstAndLastColumn()}_getTargetColumn(t,e){if(t&&e){let n=t._column;for(;n.parentElement!==e.parentElement&&n!==this;)n=n.parentElement;return n.parentElement===e.parentElement?n:t._column}}}),sf=t=>(class extends t{static get properties(){return{resizable:{type:Boolean,value:function(){if("vaadin-grid-column-group"===this.localName)return;const t=this.parentNode;return t&&"vaadin-grid-column-group"===t.localName&&t.resizable||!1}},_headerTemplate:{type:Object},_footerTemplate:{type:Object},frozen:{type:Boolean,value:!1},hidden:{type:Boolean},header:{type:String},textAlign:{type:String},_lastFrozen:{type:Boolean,value:!1},_order:Number,_reorderStatus:Boolean,_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,headerRenderer:Function,footerRenderer:Function}}static get observers(){return["_widthChanged(width, _headerCell, _footerCell, _cells.*)","_frozenChanged(frozen, _headerCell, _footerCell, _cells.*)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells.*)","_pathOrHeaderChanged(path, header, _headerCell, _footerCell, _cells.*, renderer, headerRenderer, _bodyTemplate, _headerTemplate)","_textAlignChanged(textAlign, _cells.*, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells.*)","_lastFrozenChanged(_lastFrozen)","_setBodyTemplateOrRenderer(_bodyTemplate, renderer, _cells, _cells.*)","_setHeaderTemplateOrRenderer(_headerTemplate, headerRenderer, _headerCell)","_setFooterTemplateOrRenderer(_footerTemplate, footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells.*)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells.*)"]}connectedCallback(){super.connectedCallback(),this._bodyTemplate&&(this._bodyTemplate.templatizer._grid=this._grid),this._headerTemplate&&(this._headerTemplate.templatizer._grid=this._grid),this._footerTemplate&&(this._footerTemplate.templatizer._grid=this._grid),this._templateObserver.flush(),this._bodyTemplate||this._templateObserver.callback(),requestAnimationFrame(()=>{this._allCells.forEach(t=>{t._content.parentNode||this._grid&&this._grid.appendChild(t._content)})})}disconnectedCallback(){super.disconnectedCallback(),requestAnimationFrame(()=>{this._findHostGrid()||this._allCells.forEach(t=>{t._content.parentNode&&t._content.parentNode.removeChild(t._content)})}),this._gridValue=void 0}_findHostGrid(){let t=this;for(;t&&!/^vaadin.*grid(-pro)?$/.test(t.localName);)t=t.assignedSlot?t.assignedSlot.parentNode:t.parentNode;return t||void 0}get _grid(){return this._gridValue||(this._gridValue=this._findHostGrid()),this._gridValue}get _allCells(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter(t=>t)}constructor(){super(),this._templateObserver=new rd(this,t=>{this._headerTemplate=this._prepareHeaderTemplate(),this._footerTemplate=this._prepareFooterTemplate(),this._bodyTemplate=this._prepareBodyTemplate()})}_prepareHeaderTemplate(){return this._prepareTemplatizer(this._findTemplate(!0)||null,{})}_prepareFooterTemplate(){return this._prepareTemplatizer(this._findTemplate(!1,!0)||null,{})}_prepareBodyTemplate(){return this._prepareTemplatizer(this._findTemplate()||null)}_prepareTemplatizer(t,e){if(t&&!t.templatizer){const n=new Up;n._grid=this._grid,n.dataHost=this.dataHost,n._instanceProps=e||n._instanceProps,n.template=t,t.templatizer=n}return t}_renderHeaderAndFooter(){this.headerRenderer&&this.__runRenderer(this.headerRenderer,this._headerCell),this.footerRenderer&&this.__runRenderer(this.footerRenderer,this._footerCell)}__runRenderer(t,e,n){const r=[e._content,this];n&&n.item&&r.push(n),t.apply(this,r)}__setColumnTemplateOrRenderer(t,e,n){if(t&&e)throw new Error("You should only use either a renderer or a template");n.forEach(n=>{const r=this._grid.__getRowModel(n.parentElement);if(e)n._renderer=e,(r.item||e===this.headerRenderer||e===this.footerRenderer)&&this.__runRenderer(e,n,r);else if(n._template!==t){n._template=t,n._content.innerHTML="",t.templatizer._grid=t.templatizer._grid||this._grid;const e=t.templatizer.createInstance();n._content.appendChild(e.root),n._instance=e,r.item&&n._instance.setProperties(r)}})}_setBodyTemplateOrRenderer(t,e,n,r){(t||e)&&n&&this.__setColumnTemplateOrRenderer(t,e,n)}_setHeaderTemplateOrRenderer(t,e,n){(t||e)&&n&&this.__setColumnTemplateOrRenderer(t,e,[n])}_setFooterTemplateOrRenderer(t,e,n){(t||e)&&n&&(this.__setColumnTemplateOrRenderer(t,e,[n]),this._grid.__updateHeaderFooterRowVisibility(n.parentElement))}_selectFirstTemplate(t=!1,e=!1){return rd.getFlattenedNodes(this).filter(n=>"template"===n.localName&&n.classList.contains("header")===t&&n.classList.contains("footer")===e)[0]}_findTemplate(t,e){const n=this._selectFirstTemplate(t,e);return n&&this.dataHost&&(n._rootDataHost=this.dataHost._rootDataHost||this.dataHost),n}_flexGrowChanged(t,e,n,r){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("flexGrow"),this._allCells.forEach(e=>e.style.flexGrow=t)}_orderChanged(t,e,n,r){this._allCells.forEach(e=>e.style.order=t)}_widthChanged(t,e,n,r){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("width"),this._allCells.forEach(e=>e.style.width=t),this._grid&&this._grid.__forceReflow&&this._grid.__forceReflow()}_frozenChanged(t,e,n,r){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozen",t),this._allCells.forEach(e=>this._toggleAttribute("frozen",t,e)),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_lastFrozenChanged(t){this._allCells.forEach(e=>this._toggleAttribute("last-frozen",t,e)),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._lastFrozen=t)}_pathOrHeaderChanged(t,e,n,r,i,s,o,a,l){const c=void 0!==e;if(!o&&!l&&c&&n&&this.__setTextContent(n._content,e),t&&i.value){if(!s&&!a){const e=(e,n,{item:r})=>this.__setTextContent(e,this.get(t,r));this.__setColumnTemplateOrRenderer(void 0,e,i.value)}o||l||c||!n||null===e||this.__setTextContent(n._content,this._generateHeader(t))}n&&this._grid.__updateHeaderFooterRowVisibility(n.parentElement)}__setTextContent(t,e){t.textContent!==e&&(t.textContent=e)}_generateHeader(t){return t.substr(t.lastIndexOf(".")+1).replace(/([A-Z])/g,"-$1").toLowerCase().replace(/-/g," ").replace(/^./,t=>t.toUpperCase())}_toggleAttribute(t,e,n){n.hasAttribute(t)===!e&&(e?n.setAttribute(t,""):n.removeAttribute(t))}_reorderStatusChanged(t,e,n,r){this._allCells.forEach(e=>e.setAttribute("reorder-status",t))}_resizableChanged(t,e){void 0!==t&&void 0!==e&&e&&[e].concat(this._emptyCells).forEach(e=>{if(e){const n=e.querySelector('[part~="resize-handle"]');if(n&&e.removeChild(n),t){const t=document.createElement("div");t.setAttribute("part","resize-handle"),e.appendChild(t)}}})}_textAlignChanged(t,e,n,r){if(void 0===t)return;if(-1===["start","end","center"].indexOf(t))return void console.warn('textAlign can only be set as "start", "end" or "center"');let i;"ltr"===getComputedStyle(this._grid).direction?"start"===t?i="left":"end"===t&&(i="right"):"start"===t?i="right":"end"===t&&(i="left"),this._allCells.forEach(e=>{e._content.style.textAlign=t,getComputedStyle(e._content).textAlign!==t&&(e._content.style.textAlign=i)})}_hiddenChanged(t,e,n,r){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("hidden",t),this._allCells.forEach(e=>this._toggleAttribute("hidden",t,e)),!!t!=!!this._previousHidden&&this._grid&&(this._grid._updateLastFrozen&&this._grid._updateLastFrozen(),this._grid.notifyResize&&this._grid.notifyResize(),this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()),this._previousHidden=t}});
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/class of extends(sf(nh)){static get is(){return"vaadin-grid-column"}static get properties(){return{width:{type:String,value:"100px"},flexGrow:{type:Number,value:1},renderer:Function,path:{type:String},autoWidth:{type:Boolean,value:!1},_bodyTemplate:{type:Object},_cells:Array}}}customElements.define(of.is,of);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
class af extends class extends nh{}{static get template(){return Ml`
    <style>
      :host {
        display: block;
        height: 100%;
        width: 100%;
        position: absolute;
        top: 0;
        box-sizing: border-box;
        overflow: auto;
      }

      :host([passthrough]) {
        pointer-events: none;
      }
    </style>

    <slot></slot>
`}static get is(){return"vaadin-grid-outer-scroller"}static get properties(){return{scrollTarget:{type:Object},scrollHandler:{type:Object},passthrough:{type:Boolean,reflectToAttribute:!0,value:!0},outerScrolling:Boolean,noScrollbars:Boolean,_touchDevice:Boolean}}ready(){super.ready(),this.addEventListener("scroll",()=>this._syncScrollTarget()),this.parentElement.addEventListener("mousemove",this._onMouseMove.bind(this)),this.style.webkitOverflowScrolling="touch",this.addEventListener("mousedown",t=>this.outerScrolling=!0),this.addEventListener("mouseup",t=>{this.outerScrolling=!1,this.scrollHandler._scrollHandler()})}_onMouseMove(t){this._touchDevice||(this.noScrollbars&&this.parentElement.hasAttribute("scroll-period")?this.passthrough=t.offsetY<=this.clientHeight-20&&t.offsetX<=this.clientWidth-20:this.passthrough=t.offsetY<=this.clientHeight&&t.offsetX<=this.clientWidth)}syncOuterScroller(){this.scrollTop=this.scrollTarget.scrollTop,this.scrollLeft=this.scrollTarget.scrollLeft}_syncScrollTarget(){requestAnimationFrame(()=>{this.scrollTarget.scrollTop=this.scrollTop,this.scrollTarget.scrollLeft=this.scrollLeft,this.scrollHandler._scrollHandler()})}}customElements.define(af.is,af);
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
const lf=document.createElement("dom-module");lf.appendChild(Ml`
  <style>
    @keyframes vaadin-grid-appear {
      to {
        opacity: 1;
      }
    }

    :host {
      display: block;
      animation: 1ms vaadin-grid-appear;
      height: 400px;
      flex: 1 1 auto;
      align-self: stretch;
      position: relative;
    }

    :host([hidden]) {
      display: none !important;
    }

    #scroller {
      display: block;
      transform: translateY(0);
      width: auto;
      height: auto;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
    }

    :host([height-by-rows]) {
      height: auto;
      align-self: flex-start;
      flex-grow: 0;
      width: 100%;
    }

    :host([height-by-rows]) #scroller {
      width: 100%;
      height: 100%;
      position: relative;
    }

    #table {
      display: block;
      width: 100%;
      height: 100%;
      overflow: auto;
      z-index: -2;
      position: relative;
      outline: none;
    }

    #header {
      display: block;
      position: absolute;
      top: 0;
      width: 100%;
    }

    th {
      text-align: inherit;
    }

    /* Safari doesn't work with "inherit" */
    [safari] th {
      text-align: initial;
    }

    #footer {
      display: block;
      position: absolute;
      bottom: 0;
      width: 100%;
    }

    #items {
      display: block;
      width: 100%;
      position: relative;
      z-index: -1;
    }

    #items,
    #outersizer,
    #fixedsizer {
      border-top: 0 solid transparent;
      border-bottom: 0 solid transparent;
    }

    [part~="row"] {
      display: flex;
      width: 100%;
      box-sizing: border-box;
      margin: 0;
    }

    [part~="row"][loading] [part~="body-cell"] ::slotted(vaadin-grid-cell-content) {
      opacity: 0;
    }

    #items [part~="row"] {
      position: absolute;
    }

    #items [part~="row"]:empty {
      height: 1em;
    }

    [part~="cell"]:not([part~="details-cell"]) {
      flex-shrink: 0;
      flex-grow: 1;
      box-sizing: border-box;
      display: flex;
      width: 100%;
      position: relative;
      align-items: center;
      padding: 0;
      white-space: nowrap;
    }

    [part~="details-cell"] {
      position: absolute;
      bottom: 0;
      width: 100%;
      box-sizing: border-box;
      padding: 0;
    }

    [part~="cell"] ::slotted(vaadin-grid-cell-content) {
      display: block;
      width: 100%;
      box-sizing: border-box;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [hidden] {
      display: none !important;
    }

    [frozen] {
      z-index: 2;
      will-change: transform;
    }

    #outerscroller {
      /* Needed (at least) for Android Chrome */
      z-index: 0;
    }

    #scroller:not([safari]) #outerscroller {
      /* Needed for Android Chrome (#1020). Can't be applied to Safari
      since it would re-introduce the sub-pixel overflow bug (#853) */
      will-change: transform;
    }

    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller,
    [no-scrollbars][safari] #table,
    [no-scrollbars][firefox] #table {
      overflow: hidden;
    }

    [no-scrollbars]:not([safari]):not([firefox]) #outerscroller {
      pointer-events: none;
    }

    /* Reordering styles */
    :host([reordering]) [part~="cell"] ::slotted(vaadin-grid-cell-content),
    :host([reordering]) [part~="resize-handle"],
    #scroller[no-content-pointer-events] [part~="cell"] ::slotted(vaadin-grid-cell-content) {
      pointer-events: none;
    }

    [part~="reorder-ghost"] {
      visibility: hidden;
      position: fixed;
      pointer-events: none;
      opacity: 0.5;

      /* Prevent overflowing the grid in Firefox */
      top: 0;
      left: 0;
    }

    :host([reordering]) {
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    #scroller[ie][column-reordering-allowed] [part~="header-cell"] {
      -ms-user-select: none;
    }

    :host([reordering]) #outerscroller {
      -webkit-overflow-scrolling: auto !important;
    }

    /* Resizing styles */
    [part~="resize-handle"] {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
      cursor: col-resize;
      z-index: 1;
    }

    [part~="resize-handle"]::before {
      position: absolute;
      content: "";
      height: 100%;
      width: 35px;
      transform: translateX(-50%);
    }

    [last-column] [part~="resize-handle"]::before,
    [last-frozen] [part~="resize-handle"]::before {
      width: 18px;
      transform: none;
      right: 0;
    }

    #scroller[column-resizing] {
      -ms-user-select: none;
      -moz-user-select: none;
      -webkit-user-select: none;
      user-select: none;
    }

    /* Sizer styles */
    .sizer {
      display: flex;
      position: relative;
      width: 100%;
      visibility: hidden;
    }

    .sizer [part~="details-cell"] {
      display: none !important;
    }

    .sizer [part~="cell"][hidden] {
      display: none !important;
    }

    .sizer [part~="cell"] {
      display: block;
      flex-shrink: 0;
      line-height: 0;
      margin-top: -1em;
      height: 0 !important;
      min-height: 0 !important;
      max-height: 0 !important;
      padding: 0 !important;
    }

    .sizer [part~="cell"]::before {
      content: "-";
    }

    .sizer [part~="cell"] ::slotted(vaadin-grid-cell-content) {
      display: none !important;
    }

    /* Fixed mode (Tablet Edge) */
    #fixedsizer {
      position: absolute;
    }

    :not([edge][no-scrollbars]) #fixedsizer {
      display: none;
    }

    [edge][no-scrollbars] {
      /* Any value other than ‘none’ for the transform results in the creation of both a stacking context and
      a containing block. The object acts as a containing block for fixed positioned descendants. */
      transform: translateZ(0);
      overflow: hidden;
    }

    [edge][no-scrollbars] #header,
    [edge][no-scrollbars] #footer {
      position: fixed;
    }

    [edge][no-scrollbars] #items {
      position: fixed;
      width: 100%;
      will-change: transform;
    }
  </style>
`);const cf=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),hf=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;if(cf||hf){const t=document.createElement("style");t.textContent="\n    [scrolling][safari] #outerscroller,\n    [scrolling][firefox] #outerscroller {\n      pointer-events: auto;\n    }\n\n    [ios] #outerscroller {\n      pointer-events: auto;\n      z-index: -3;\n    }\n\n    [ios][scrolling] #outerscroller {\n      z-index: 0;\n    }\n\n    [ios] [frozen] {\n      will-change: auto;\n    }\n  ",lf.querySelector("template").content.appendChild(t)}lf.register("vaadin-grid-styles");
/**
@license
Copyright (c) 2017 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
*/
const df=(()=>{try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}})();class uf extends(gp(lp(Fp(zp(Hp(kp(jp(qp(Gp($p(nf(Rp(Vp(rf(Dp(Bp(ef(Yp(Op))))))))))))))))))){static get template(){return Ml`
    <style include="vaadin-grid-styles"></style>

    <div id="scroller" no-scrollbars\$="[[!_scrollbarWidth]]" wheel-scrolling\$="[[_wheelScrolling]]" safari\$="[[_safari]]" ios\$="[[_ios]]" loading\$="[[loading]]" edge\$="[[_edge]]" firefox\$="[[_firefox]]" ie\$="[[_ie]]" column-reordering-allowed\$="[[columnReorderingAllowed]]">

      <table id="table" role="grid" aria-multiselectable="true" tabindex="0">
        <caption id="fixedsizer" class="sizer" part="row"></caption>
        <thead id="header" role="rowgroup"></thead>
        <tbody id="items" role="rowgroup"></tbody>
        <tfoot id="footer" role="rowgroup"></tfoot>
      </table>

      <div part="reorder-ghost"></div>
      <vaadin-grid-outer-scroller id="outerscroller" _touch-device="[[_touchDevice]]" scroll-target="[[scrollTarget]]" scroll-handler="[[_this]]" no-scrollbars="[[!_scrollbarWidth]]">
        <div id="outersizer" class="sizer" part="row"></div>
      </vaadin-grid-outer-scroller>
    </div>

    <!-- The template needs at least one slot or else shady doesn't distribute -->
    <slot name="nodistribute"></slot>

    <div id="focusexit" tabindex="0"></div>
`}static get is(){return"vaadin-grid"}static get version(){return"5.5.2"}static get observers(){return["_columnTreeChanged(_columnTree, _columnTree.*)"]}static get properties(){return{_this:{type:Object,value:function(){return this}},_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1},_edge:{type:Boolean,value:"undefined"!=typeof CSS&&CSS.supports("(-ms-ime-align:auto)")},_ie:{type:Boolean,value:!(!navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/))},_firefox:{type:Boolean,value:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)},_touchDevice:{type:Boolean,value:df},heightByRows:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_heightByRowsChanged"},_recalculateColumnWidthOnceLoadingFinished:{type:Boolean,value:!0}}}constructor(){super(),this.addEventListener("animationend",this._onAnimationEnd)}__hasRowsWithClientHeight(){return!!Array.from(this.$.items.children).filter(t=>t.clientHeight).length}__itemsReceived(){this._recalculateColumnWidthOnceLoadingFinished&&!this._cache.isLoading()&&this.__hasRowsWithClientHeight()&&(this._recalculateColumnWidthOnceLoadingFinished=!1,this.recalculateColumnWidths())}_recalculateColumnWidths(t){t.forEach(t=>{t.width="auto",t._origFlexGrow=t.flexGrow,t.flexGrow=0}),t.forEach(t=>{t._currentWidth=0,t._allCells.forEach(e=>{const n=Math.ceil(e.getBoundingClientRect().width);t._currentWidth=Math.max(t._currentWidth,n)})}),t.forEach(t=>{t.width=`${t._currentWidth}px`,t.flexGrow=t._origFlexGrow,t._currentWidth=void 0,t._origFlexGrow=void 0})}recalculateColumnWidths(){if(this._columnTree)if(this._cache.isLoading())this._recalculateColumnWidthOnceLoadingFinished=!0;else{const t=this._getColumns().filter(t=>!t.hidden&&t.autoWidth);this._recalculateColumnWidths(t)}}_createScrollerRows(t){const e=[];for(var n=0;n<t;n++){const t=document.createElement("tr");t.setAttribute("part","row"),t.setAttribute("role","row"),this._columnTree&&this._updateRow(t,this._columnTree[this._columnTree.length-1],"body",!1,!0),e.push(t)}return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach(t=>t.notifyPath&&t.notifyPath("_cells.*",t._cells)),function(t,e,n){nu||su(),ru.push([t,e,n])}(this,()=>{this._updateFirstAndLastColumn(),this._resetKeyboardNavigation()}),e}_getRowTarget(){return this.$.items}_createCell(t){const e="vaadin-grid-cell-content-"+(this._contentIndex=this._contentIndex+1||0),n=document.createElement("vaadin-grid-cell-content");n.setAttribute("slot",e);const r=document.createElement(t);r.id=e.replace("-content-","-"),r.setAttribute("tabindex","-1"),r.setAttribute("role","td"===t?"gridcell":"columnheader");const i=document.createElement("slot");return i.setAttribute("name",e),r.appendChild(i),r._content=n,n.addEventListener("mousedown",()=>{if(window.chrome){const t=()=>{n.contains(this.getRootNode().activeElement)||r.focus(),document.removeEventListener("mouseup",t,!0)};document.addEventListener("mouseup",t,!0)}else setTimeout(()=>{n.contains(this.getRootNode().activeElement)||r.focus()})}),r}_updateRow(t,e,n,r,i){n=n||"body";const s=document.createDocumentFragment();Array.from(t.children).forEach(t=>t._vacant=!0),t.innerHTML="","outersizer"!==t.id&&"fixedsizer"!==t.id&&(t.hidden=!0),e.forEach((o,a)=>{let l;if("body"===n){if(o._cells=o._cells||[],(l=o._cells.filter(t=>t._vacant)[0])||(l=this._createCell("td"),o._cells.push(l)),l.setAttribute("part","cell body-cell"),t.appendChild(l),a===e.length-1&&(this._rowDetailsTemplate||this.rowDetailsRenderer)){this._detailsCells=this._detailsCells||[];const e=this._detailsCells.filter(t=>t._vacant)[0]||this._createCell("td");-1===this._detailsCells.indexOf(e)&&this._detailsCells.push(e),e._content.parentElement||s.appendChild(e._content),this._configureDetailsCell(e),t.appendChild(e),this._a11ySetRowDetailsCell(t,e),e._vacant=!1}o.notifyPath&&!i&&o.notifyPath("_cells.*",o._cells)}else{const e="header"===n?"th":"td";r||"vaadin-grid-column-group"===o.localName?((l=o[`_${n}Cell`]||this._createCell(e))._column=o,t.appendChild(l),o[`_${n}Cell`]=l):(o._emptyCells=o._emptyCells||[],(l=o._emptyCells.filter(t=>t._vacant)[0]||this._createCell(e))._column=o,t.appendChild(l),-1===o._emptyCells.indexOf(l)&&o._emptyCells.push(l)),l.setAttribute("part",`cell ${n}-cell`),this.__updateHeaderFooterRowVisibility(t)}l._content.parentElement||s.appendChild(l._content),l._vacant=!1,l._column=o}),this.appendChild(s),this._frozenCellsChanged(),this._updateFirstAndLastColumnForRow(t)}__updateHeaderFooterRowVisibility(t){if(!t)return;const e=Array.from(t.children).filter(e=>{const n=e._column;if(n._emptyCells&&n._emptyCells.indexOf(e)>-1)return!1;if(t.parentElement===this.$.header){if(n.headerRenderer||n._headerTemplate)return!0;if(null===n.header)return!1;if(n.path||void 0!==n.header)return!0}else if(n.footerRenderer||n._footerTemplate)return!0});t.hidden!==!e.length&&(t.hidden=!e.length,this.notifyResize())}_updateScrollerItem(t,e){this._preventScrollerRotatingCellFocus(t,e),this._columnTree&&(this._toggleAttribute("first",0===e,t),this._toggleAttribute("odd",e%2,t),this._a11yUpdateRowRowindex(t,e),this._getItem(e,t))}_columnTreeChanged(t,e){for(Array.from(this.$.items.children).forEach(e=>this._updateRow(e,t[t.length-1]));this.$.header.children.length<t.length;){const t=document.createElement("tr");t.setAttribute("part","row"),t.setAttribute("role","row"),this.$.header.appendChild(t);const e=document.createElement("tr");e.setAttribute("part","row"),e.setAttribute("role","row"),this.$.footer.appendChild(e)}for(;this.$.header.children.length>t.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Array.from(this.$.header.children).forEach((e,n)=>this._updateRow(e,t[n],"header",n===t.length-1)),Array.from(this.$.footer.children).forEach((e,n)=>this._updateRow(e,t[t.length-1-n],"footer",0===n)),this._updateRow(this.$.outersizer,t[t.length-1]),this._updateRow(this.$.fixedsizer,t[t.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}_updateItem(t,e){t._item=e;const n=this.__getRowModel(t);this._toggleAttribute("selected",n.selected,t),this._a11yUpdateRowSelected(t,n.selected),this._a11yUpdateRowLevel(t,n.level),this._toggleAttribute("expanded",n.expanded,t),(this._rowDetailsTemplate||this.rowDetailsRenderer)&&this._toggleDetailsCell(t,e),this._generateCellClassNames(t,n),this._filterDragAndDrop(t,n),Array.from(t.children).forEach(t=>{if(t._renderer){const e=t._column||this;t._renderer.call(e,t._content,e,n)}else t._instance&&(t._instance.__detailsOpened__=n.detailsOpened,t._instance.__selected__=n.selected,t._instance.__level__=n.level,t._instance.__expanded__=n.expanded,t._instance.setProperties(n))}),this._debouncerUpdateHeights=rh.debounce(this._debouncerUpdateHeights,nc.after(1),()=>{this._updateMetrics(),this._positionItems(),this._updateScrollerSize()})}_resizeHandler(){this._updateDetailsCellHeights(),this._accessIronListAPI(super._resizeHandler,!0),this._updateHeaderFooterMetrics()}_updateHeaderFooterMetrics(){const t=this.$.header.clientHeight+"px",e=this.$.footer.clientHeight+"px";[this.$.outersizer,this.$.fixedsizer,this.$.items].forEach(n=>{n.style.borderTopWidth=t,n.style.borderBottomWidth=e}),lu(this.$.header,()=>{this._pendingScrollToIndex&&this._scrollToIndex(this._pendingScrollToIndex)})}_onAnimationEnd(t){0===t.animationName.indexOf("vaadin-grid-appear")&&(this._render(),this._updateHeaderFooterMetrics(),t.stopPropagation(),this.notifyResize(),this.__itemsReceived())}_toggleAttribute(t,e,n){n.hasAttribute(t)===!e&&(e?n.setAttribute(t,""):n.removeAttribute(t))}__getRowModel(t){return{index:t.index,item:t._item,level:this._getIndexLevel(t.index),expanded:this._isExpanded(t._item),selected:this._isSelected(t._item),detailsOpened:!(!this._rowDetailsTemplate&&!this.rowDetailsRenderer)&&this._isDetailsOpened(t._item)}}render(){this._columnTree&&(this._columnTree.forEach(t=>{t.forEach(t=>t._renderHeaderAndFooter())}),this._update())}notifyResize(){super.notifyResize()}_heightByRowsChanged(t,e){(t||e)&&this.notifyResize()}__forceReflow(){this._debouncerForceReflow=rh.debounce(this._debouncerForceReflow,rc,()=>{this.$.scroller.style.overflow="hidden",setTimeout(()=>this.$.scroller.style.overflow="")})}}customElements.define(uf.is,uf);var pf,ff=function(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o};!function(t){t[t.THRESHOLD_CMD=15]="THRESHOLD_CMD",t[t.DFU_CMD=14]="DFU_CMD",t[t.SYNC_CMD=13]="SYNC_CMD",t[t.ADR_LSB_CMD=12]="ADR_LSB_CMD",t[t.ADR_MSB_CMD=11]="ADR_MSB_CMD",t[t.ADR_RST_CMD=10]="ADR_RST_CMD",t[t.back_CMD=9]="back_CMD",t[t.READ_TIM_CMD=8]="READ_TIM_CMD",t[t.CLEAR_TIM_CMD=7]="CLEAR_TIM_CMD",t[t.START_MEASURING_CMD=6]="START_MEASURING_CMD",t[t.STOP_MEASURING_CMD=5]="STOP_MEASURING_CMD",t[t.NO_CMD=4]="NO_CMD"}(pf||(pf={}));let _f=class extends dt{constructor(){super(),this.RAWVALUES_PER_DEGREE=16.4,this.name="PitchPerfect",this.readStatus=!1,this._clickDropDown=this._clickDropDown.bind(this),this._BTLEdatachanged=this._BTLEdatachanged.bind(this)}render(){if(!0===this.readStatus){let t=[];t=[{command:pf.NO_CMD,btleStruct:{serviceNr:0,action:ft.read,data:null}}];let e=this.CreateBTLEData(t);this.shadowRoot.getElementById("BTLE").btledata=e}return D`
     
      <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

      <lsg-bluetooth id=BTLE 
      primaryServiceObject = '[[{"service":"battery_service","characteristic":"battery_level"}],[{"service":"heart_rate","characteristic":"heart_rate_measurement"}]]'
       name="${this.name}" class="button w3-round-xxlarge w3-cell w3-hover-opacity">
      </lsg-bluetooth> 
      
  
      <button @click="${this.clickFunctionRead}">Readit </button>

      <select id="country" name="country">
          <option value="Sync">Sync</option>
          <option value="Threshold">Threshold</option>
          <option value="Sensor Update">SensorUpdate</option>
          <option value="Send Adress">SendAdress</option>
          <option value="Reset Adress">ResetAdress</option>
          <option value="Read Timings">ReadTimings</option>
          <option value="Start Measuring">StartMeasuring</option>
          <option value="Stop Measuring">StopMeasuring</option>
      </select>

        `}CreateBTLEData(t){length=t.length;let e=0;var n,r;for(r=[null];e<length;){for(var i=new ArrayBuffer(8),s=new Uint32Array(i),o=0;o<2;o+=1)s[o]=0;s[0]=t[e].command,null==t[e].btleStruct.data?s[1]=1:s[1]=t[e].btleStruct.data.getUint32(0),t[e].btleStruct.action===ft.write?r[e]=new DataView(i):r[e]=null,0===e?n=[{action:t[e].btleStruct.action,serviceNr:t[e].btleStruct.serviceNr,data:r[e]}]:n[e]={action:t[e].btleStruct.action,serviceNr:t[e].btleStruct.serviceNr,data:r[e]},e++}return n}_clickDropDown(){let t=[],e=new ArrayBuffer(4);switch(this.shadowRoot.getElementById("country").value){case"Sync":t=[{command:pf.SYNC_CMD,btleStruct:{serviceNr:0,action:ft.write,data:null}}];break;case"Threshold":new DataView(e).setUint32(0,400,!0),t=[{command:pf.THRESHOLD_CMD,btleStruct:{serviceNr:0,action:ft.write,data:new DataView(e)}}];break;case"Sensor Update":t=[{command:pf.DFU_CMD,btleStruct:{serviceNr:0,action:ft.write,data:null}}];break;case"Send Adress":new DataView(e).setUint32(0,400,!0),t=[{command:pf.ADR_LSB_CMD,btleStruct:{serviceNr:0,action:ft.write,data:new DataView(e)}}];break;case"Reset Adress":t=[{command:pf.ADR_RST_CMD,btleStruct:{serviceNr:0,action:ft.write,data:null}}];break;case"Read Timings":t=[{command:pf.READ_TIM_CMD,btleStruct:{serviceNr:0,action:ft.write,data:null}},{command:pf.NO_CMD,btleStruct:{serviceNr:0,action:ft.read,data:null}}];break;case"Start Measuring":t=[{command:pf.START_MEASURING_CMD,btleStruct:{serviceNr:0,action:ft.write,data:null}}];break;case"Stop Measuring":t=[{command:pf.STOP_MEASURING_CMD,btleStruct:{serviceNr:0,action:ft.write,data:null}}]}let n=this.CreateBTLEData(t);this.shadowRoot.getElementById("BTLE").btledata=n,console.log("clicked"),console.log(this.shadowRoot.getElementById("country").value)}firstUpdated(t){this.shadowRoot.getElementById("BTLE").addEventListener("data-event",this._BTLEdatachanged),this.shadowRoot.getElementById("country").addEventListener("change",this._clickDropDown)}_BTLEdatachanged(t){let e=[];var n=t.detail.message;if(console.log(t.detail.message),"connected"===t.detail.message){console.log("connect event message setting notify on");let t=[{command:pf.NO_CMD,btleStruct:{serviceNr:1,action:ft.enableNotify,data:null}}],e=this.CreateBTLEData(t);this.shadowRoot.getElementById("BTLE").btledata=e}else{n=t.detail.message;try{if(n.byteLength>7){e[0]=mf(n,0),console.log(e[0].PitchVal),console.log(e[0].TimerVal),16==n.byteLength&&(e[1]=mf(n,e[0].NewIndex),console.log(e[1].PitchVal),console.log(e[1].TimerVal));let t=new class{constructor(t){this.eventName="pitchperfect-data-event",this.dataType=gf.data,this.callerThis=t}setData(t){this.data=t}send(){let t=new CustomEvent(this.eventName,{detail:{message:this.data},bubbles:!0,composed:!0});this.callerThis.dispatchEvent(t)}}(this);t.data=e,t.send()}}catch(t){console.log("parsing timings failed")}}}clickFunctionRead(){for(var t=new ArrayBuffer(8),e=new Int8Array(t),n=0;n<8;n+=1)e[n]=0;e[0]=8,e[4]=1;var r=[new DataView(t)];document.getElementById("BTLE").data=r,document.getElementById("BTLE").read=!0,console.log("r click called")}clickFunctionWrite(){!function(){var t=[function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Int8Array(n),i=0;i<e;i+=1)r[i]=t.charCodeAt(i);return new DataView(n)}("{'R_ACC':1}")];document.getElementById("BTLE").data=t,document.getElementById("BTLE").read=!0}(),console.log("w click called")}};function mf(t,e){let n=e,r=t.getUint32(n,!0);return n+=4,{PitchVal:r/=16.4,TimerVal:t.getUint32(n,!0),NewIndex:n+=4}}var gf;ff([ot()],_f.prototype,"name",void 0),ff([ot()],_f.prototype,"readStatus",void 0),_f=ff([it("lsg-pitchperfect")],_f),function(t){t[t.status=0]="status",t[t.data=1]="data",t[t.control=2]="control",t[t.streaming=3]="streaming"}(gf||(gf={}));n(67);window.addEventListener("load",()=>{!async function(){if("serviceWorker"in navigator)try{await navigator.serviceWorker.register("./sw.js")}catch(t){console.log("ServiceWorker registration failed. Sorry about that.",t)}else console.log("Your browser does not support ServiceWorker.")}()})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9hd2FpdC1zZW1hcGhvcmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RpbWVycy1icm93c2VyaWZ5L21haW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NldGltbWVkaWF0ZS9zZXRJbW1lZGlhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL2RvbS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3BhcnQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi90ZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWluc3RhbmNlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvdGVtcGxhdGUtcmVzdWx0LmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvcGFydHMuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvbGl0LWh0bWwvbGliL3RlbXBsYXRlLWZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpYi9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL2xpdC1odG1sL2xpdC1odG1sLmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvbW9kaWZ5LXRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9saXQtaHRtbC9saWIvc2hhZHktcmVuZGVyLmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9AcG9seW1lci9saXQtZWxlbWVudC9saWIvdXBkYXRpbmctZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvQHBvbHltZXIvbGl0LWVsZW1lbnQvbGliL2RlY29yYXRvcnMuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2xpdC1lbGVtZW50L2xpYi9jc3MtdGFnLmpzIiwid2VicGFjazovLy8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9AcG9seW1lci9saXQtZWxlbWVudC9saXQtZWxlbWVudC5qcyIsIndlYnBhY2s6Ly8vLi4vY29tcG9uZW50cy9MU0dfYnRsZS9CVExFY2xhc3MudHMiLCJ3ZWJwYWNrOi8vLy4uL2NvbXBvbmVudHMvTFNHX2J0bGUvbWFpbi12aWV3LnRzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy9kaXN0L3BhY2thZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9hc2NlbmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy9iaXNlY3Rvci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2Jpc2VjdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL2Nyb3NzLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWFycmF5L3NyYy90aWNrcy5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtYXJyYXkvc3JjL3RocmVzaG9sZC9zdHVyZ2VzLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbWF4LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1hcnJheS9zcmMvbWluLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1heGlzL3NyYy9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZGlzcGF0Y2gvc3JjL2Rpc3BhdGNoLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdG9yQWxsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL21hdGNoZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NwYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW50ZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdGEuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3NvcnQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2NhbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvbmFtZXNwYWNlcy5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9uYW1lc3BhY2UuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2F0dHIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvd2luZG93LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vY2xhc3NlZC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vdGV4dC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vaHRtbC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmFpc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2xvd2VyLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL2NyZWF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2luc2VydC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vcmVtb3ZlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9jbG9uZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vb24uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2Rpc3BhdGNoLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2VsZWN0LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9zZWxlY3RBbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2ZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZXhpdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vam9pbi5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbWVyZ2UuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL29yZGVyLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9ub2Rlcy5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vbm9kZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2VsZWN0aW9uL3NyYy9zZWxlY3Rpb24vZW1wdHkuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2VhY2guanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL3Byb3BlcnR5LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdGlvbi9hcHBlbmQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNlbGVjdGlvbi9zcmMvc2VsZWN0aW9uL2RhdHVtLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zZWxlY3Rpb24vc3JjL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2RlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtY29sb3Ivc3JjL2NvbG9yLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXMuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtaW50ZXJwb2xhdGUvc3JjL2NvbG9yLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvcmdiLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvYmFzaXNDbG9zZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy9kYXRlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvbnVtYmVyLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvc3RyaW5nLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10aW1lci9zcmMvdGltZXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWVyL3NyYy90aW1lb3V0LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NjaGVkdWxlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9pbnRlcnJ1cHQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vcGFyc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWludGVycG9sYXRlL3NyYy90cmFuc2Zvcm0vZGVjb21wb3NlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvdHJhbnNmb3JtL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3R3ZWVuLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2ludGVycG9sYXRlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3JlbW92ZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vdGV4dFR3ZWVuLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3NlbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9zZWxlY3RBbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZmlsdGVyLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL21lcmdlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL3RyYW5zaXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vb24uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vYXR0ci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi9hdHRyVHdlZW4uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vc3R5bGVUd2Vlbi5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvdHJhbnNpdGlvbi90ZXh0LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2RlbGF5LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2R1cmF0aW9uLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy90cmFuc2l0aW9uL2Vhc2UuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3RyYW5zaXRpb24vZW5kLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10cmFuc2l0aW9uL3NyYy9zZWxlY3Rpb24vdHJhbnNpdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZWFzZS9zcmMvY3ViaWMuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRyYW5zaXRpb24vc3JjL3NlbGVjdGlvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdHJhbnNpdGlvbi9zcmMvc2VsZWN0aW9uL2ludGVycnVwdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtYnJ1c2gvc3JjL2JydXNoLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1jaG9yZC9zcmMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtY2hvcmQvc3JjL2FycmF5LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1jaG9yZC9zcmMvY2hvcmQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXBhdGgvc3JjL3BhdGguanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWNvbGxlY3Rpb24vc3JjL21hcC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtY29sbGVjdGlvbi9zcmMvc2V0LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1jb250b3VyL3NyYy9hcnJheS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZmV0Y2gvc3JjL2J1ZmZlci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZHN2L3NyYy9kc3YuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWRzdi9zcmMvY3N2LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1kc3Yvc3JjL3Rzdi5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZmV0Y2gvc3JjL3RleHQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZldGNoL3NyYy9kc3YuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZldGNoL3NyYy94bWwuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9hZGQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9jb3Zlci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3F1YWQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy94LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMveS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3F1YWR0cmVlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvZGF0YS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL2V4dGVudC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL2ZpbmQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9yZW1vdmUuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXF1YWR0cmVlL3NyYy9yb290LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvc2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcXVhZHRyZWUvc3JjL3Zpc2l0LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1xdWFkdHJlZS9zcmMvdmlzaXRBZnRlci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZm9yY2Uvc3JjL3NpbXVsYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXJhbmRvbS9zcmMvZGVmYXVsdFNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcmFuZG9tL3NyYy9ub3JtYWwuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXJhbmRvbS9zcmMvdW5pZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtcmFuZG9tL3NyYy9pcndpbkhhbGwuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXJhbmRvbS9zcmMvbG9nTm9ybWFsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1yYW5kb20vc3JjL2JhdGVzLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1yYW5kb20vc3JjL2V4cG9uZW50aWFsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zY2FsZS9zcmMvaW5pdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2NhbGUvc3JjL2FycmF5LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFNwZWNpZmllci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXREZWNpbWFsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFByZWZpeEF1dG8uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZGVmYXVsdExvY2FsZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9leHBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9mb3JtYXRUcmltLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdFJvdW5kZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvZm9ybWF0VHlwZXMuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvbG9jYWxlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdEdyb3VwLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL2Zvcm1hdE51bWVyYWxzLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1mb3JtYXQvc3JjL3ByZWNpc2lvblJvdW5kLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zY2FsZS9zcmMvdGlja0Zvcm1hdC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtZm9ybWF0L3NyYy9wcmVjaXNpb25QcmVmaXguanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLWZvcm1hdC9zcmMvcHJlY2lzaW9uRml4ZWQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNjYWxlL3NyYy9saW5lYXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL2ludGVydmFsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy95ZWFyLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy9tb250aC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvZHVyYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3dlZWsuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL2RheS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvaG91ci5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvbWludXRlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy9zZWNvbmQuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL21pbGxpc2Vjb25kLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy91dGNXZWVrLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy10aW1lL3NyYy91dGNEYXkuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3V0Y1llYXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUtZm9ybWF0L3NyYy9sb2NhbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUtZm9ybWF0L3NyYy9kZWZhdWx0TG9jYWxlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zY2FsZS9zcmMvdGltZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdGltZS9zcmMvdXRjTW9udGguanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3V0Y0hvdXIuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXRpbWUvc3JjL3V0Y01pbnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2hhcGUvc3JjL2NvbnN0YW50LmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1zaGFwZS9zcmMvbWF0aC5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2hhcGUvc3JjL2FyYy5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2hhcGUvc3JjL2Rlc2NlbmRpbmcuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXNoYXBlL3NyYy9pZGVudGl0eS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2hhcGUvc3JjL3BpZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtdm9yb25vaS9zcmMvUmVkQmxhY2tUcmVlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy12b3Jvbm9pL3NyYy9FZGdlLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy12b3Jvbm9pL3NyYy9DZWxsLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy12b3Jvbm9pL3NyYy9DaXJjbGUuanMiLCJ3ZWJwYWNrOi8vLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzLXZvcm9ub2kvc3JjL0JlYWNoLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy12b3Jvbm9pL3NyYy9EaWFncmFtLmpzIiwid2VicGFjazovLy8uLi9MU0dfQURfQVBQL25vZGVfbW9kdWxlcy9kMy1pbnRlcnBvbGF0ZS9zcmMvem9vbS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtem9vbS9zcmMvdHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uLi9jb21wb25lbnRzL0xTR19waWUvTFNHX3BpZS5qcyIsIndlYnBhY2s6Ly8vLi4vTFNHX0FEX0FQUC9ub2RlX21vZHVsZXMvZDMtc2NhbGUvc3JjL3F1YW50aXplLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy92ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvZG9jdW1lbnQtd2FpdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jb21tb24tcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jb21tb24tdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9zdHlsZS1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3MvZW50cnlwb2ludHMvY3VzdG9tLXN0eWxlLWludGVyZmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYm9vdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvcmVzb2x2ZS11cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3NldHRpbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tbW9kdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zdHlsZS1nYXRoZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvY29sb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWx1bW8tc3R5bGVzL3NpemluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3BhY2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3R5bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1zcGxpdC1sYXlvdXQvdGhlbWUvbHVtby92YWFkaW4tc3BsaXQtbGF5b3V0LXN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3dyYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3BhdGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2Nhc2UtbWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnRpZXMtY2hhbmdlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3Byb3BlcnR5LWFjY2Vzc29ycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL3RlbXBsYXRlLXN0YW1wLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydHktZWZmZWN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvdGVsZW1ldHJ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvcHJvcGVydGllcy1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZ2VzdHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9nZXN0dXJlLWV2ZW50LWxpc3RlbmVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXJyYXktc3BsaWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbGF0dGVuZWQtbm9kZXMtb2JzZXJ2ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9jc3MtcGFyc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy91bnNjb3BlZC1zdHlsZS1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9zcmMvc3R5bGUtdXRpbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHdlYmNvbXBvbmVudHMvc2hhZHljc3Mvc3JjL2FwcGx5LXNoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy90ZW1wbGF0ZS1tYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL3NyYy9hcHBseS1zaGltLXV0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ad2ViY29tcG9uZW50cy9zaGFkeWNzcy9lbnRyeXBvaW50cy9hcHBseS1zaGltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvZGlyLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9yZW5kZXItc3RhdHVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy91bnJlc29sdmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbHVzaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9zY29wZS1zdWJ0cmVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvbGVnYWN5LWVsZW1lbnQtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9jbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXItZm4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9tdXRhYmxlLWRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3RlbXBsYXRpemUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2hpZGUtdGVtcGxhdGUtY29udHJvbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2RvbS1iaW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tcmVwZWF0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20taWYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2FycmF5LXNlbGVjdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvbXV0YWJsZS1kYXRhLWJlaGF2aW9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcG9seW1lci9pcm9uLXJlc2l6YWJsZS1iZWhhdmlvci9pcm9uLXJlc2l6YWJsZS1iZWhhdmlvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4vdmFhZGluLXRoZW1lLXByb3BlcnR5LW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWRldmVsb3BtZW50LW1vZGUtZGV0ZWN0b3IvdmFhZGluLWRldmVsb3BtZW50LW1vZGUtZGV0ZWN0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MvdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MtY29sbGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZWxlbWVudC1taXhpbi92YWFkaW4tZWxlbWVudC1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tc3BsaXQtbGF5b3V0L3NyYy92YWFkaW4tc3BsaXQtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy9mb250LWljb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy90eXBvZ3JhcGh5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1jaGVja2JveC90aGVtZS9sdW1vL3ZhYWRpbi1jaGVja2JveC1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWNvbnRyb2wtc3RhdGUtbWl4aW4vdmFhZGluLWNvbnRyb2wtc3RhdGUtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWNoZWNrYm94L3NyYy92YWFkaW4tY2hlY2tib3guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvdGhlbWUvbHVtby92YWFkaW4tZ3JpZC1zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2lyb24tc2Nyb2xsLXRhcmdldC1iZWhhdmlvci9pcm9uLXNjcm9sbC10YXJnZXQtYmVoYXZpb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvc3JjL2lyb24tbGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtc2Nyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvc3JjL3ZhYWRpbi1ncmlkLWExMXktbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvc3JjL3ZhYWRpbi1ncmlkLWFjdGl2ZS1pdGVtLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1hcnJheS1kYXRhLXByb3ZpZGVyLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1jb2x1bW4tcmVzaXppbmctbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvc3JjL3ZhYWRpbi1ncmlkLWRhdGEtcHJvdmlkZXItbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvc3JjL3ZhYWRpbi1ncmlkLWR5bmFtaWMtY29sdW1ucy1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtZXZlbnQtY29udGV4dC1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtZmlsdGVyLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC10ZW1wbGF0aXplci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtcm93LWRldGFpbHMtbWl4aW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B2YWFkaW4vdmFhZGluLWdyaWQvc3JjL3ZhYWRpbi1ncmlkLXNjcm9sbC1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtc2VsZWN0aW9uLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1zb3J0LW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1zdHlsaW5nLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1kcmFnLWFuZC1kcm9wLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1rZXlib2FyZC1uYXZpZ2F0aW9uLW1peGluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1jb2x1bW4tcmVvcmRlcmluZy1taXhpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtY29sdW1uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC1vdXRlci1zY3JvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHZhYWRpbi92YWFkaW4tZ3JpZC9zcmMvdmFhZGluLWdyaWQtc3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AdmFhZGluL3ZhYWRpbi1ncmlkL3NyYy92YWFkaW4tZ3JpZC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvUGl0Y2hQZXJmZWN0Q29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJwcm9jZXNzIiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiZSIsInRoaXMiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImxlbmd0aCIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwicHVzaCIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsIndpbmRvdyIsInNldEltbWVkaWF0ZSIsIlNlbWFwaG9yZSIsIltvYmplY3QgT2JqZWN0XSIsImNvdW50IiwidGFza3MiLCJuZXh0Iiwic2hpZnQiLCJ1bmRlZmluZWQiLCJQcm9taXNlIiwicmVzIiwicmVqIiwicmVsZWFzZWQiLCJzY2hlZCIsImYiLCJhY3F1aXJlIiwidGhlbiIsInJlbGVhc2UiLCJjYXRjaCIsImVyciIsIk11dGV4Iiwic3VwZXIiLCJnbG9iYWwiLCJzY29wZSIsInNlbGYiLCJUaW1lb3V0IiwiaWQiLCJjbGVhckZuIiwiX2lkIiwiX2NsZWFyRm4iLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJjbG9zZSIsInVucmVmIiwicmVmIiwiZW5yb2xsIiwiaXRlbSIsIm1zZWNzIiwiX2lkbGVUaW1lb3V0SWQiLCJfaWRsZVRpbWVvdXQiLCJ1bmVucm9sbCIsIl91bnJlZkFjdGl2ZSIsImFjdGl2ZSIsIl9vblRpbWVvdXQiLCJjbGVhckltbWVkaWF0ZSIsInJlZ2lzdGVySW1tZWRpYXRlIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJjdXJyZW50bHlSdW5uaW5nQVRhc2siLCJkb2MiLCJkb2N1bWVudCIsImF0dGFjaFRvIiwiZ2V0UHJvdG90eXBlT2YiLCJ0b1N0cmluZyIsImhhbmRsZSIsInJ1bklmUHJlc2VudCIsInBvc3RNZXNzYWdlIiwiaW1wb3J0U2NyaXB0cyIsInBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMiLCJvbGRPbk1lc3NhZ2UiLCJvbm1lc3NhZ2UiLCJjYW5Vc2VQb3N0TWVzc2FnZSIsIm1lc3NhZ2VQcmVmaXgiLCJNYXRoIiwicmFuZG9tIiwib25HbG9iYWxNZXNzYWdlIiwiZXZlbnQiLCJzb3VyY2UiLCJkYXRhIiwiaW5kZXhPZiIsInNsaWNlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImF0dGFjaEV2ZW50IiwiaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24iLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsInBvcnQyIiwiaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24iLCJjcmVhdGVFbGVtZW50IiwiaHRtbCIsImRvY3VtZW50RWxlbWVudCIsInNjcmlwdCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiYXBwZW5kQ2hpbGQiLCJpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uIiwiY2FsbGJhY2siLCJ0YXNrIiwiZ3JpZF9iYWNrIiwiZ2V0RWxlbWVudEJ5SWQiLCJjb2x1bW5zIiwicXVlcnlTZWxlY3RvckFsbCIsImhlYWRlclJlbmRlcmVyIiwicm9vdCIsInRleHRDb250ZW50IiwicmVuZGVyZXIiLCJjb2x1bW4iLCJyb3dEYXRhIiwicGl0Y2giLCJ0aW1lIiwiZ3JpZF9mcm9udCIsImNvbHVtbnNmIiwiaXRlbXMiLCJpbm5lckhUTUwiLCJ0aW1lckF0TWF4UGl0Y2hfYmFjayIsInRpbWVyQXRNYXhQaXRjaF9mcm9udCIsIm1heFBpdGNoX2Zyb250IiwibWF4UGl0Y2hfYmFjayIsIkNhbGN1bGF0ZUFuZFVwZGF0ZVRleHQiLCJkaWZmIiwidG9GaXhlZCIsInRleHQiLCJldnQiLCJkZXRhaWwiLCJtZXNzYWdlIiwieCIsIlBpdGNoVmFsIiwiVGltZXJWYWwiLCJjb25zb2xlIiwibG9nIiwiZGlyZWN0aXZlcyIsIldlYWtNYXAiLCJpc0RpcmVjdGl2ZSIsImhhcyIsImlzQ0VQb2x5ZmlsbCIsImN1c3RvbUVsZW1lbnRzIiwicG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayIsInJlbW92ZU5vZGVzIiwiY29udGFpbmVyIiwic3RhcnQiLCJlbmQiLCJuZXh0U2libGluZyIsIm5vQ2hhbmdlIiwibm90aGluZyIsIlN0cmluZyIsIm5vZGVNYXJrZXIiLCJtYXJrZXJSZWdleCIsIlJlZ0V4cCIsImJvdW5kQXR0cmlidXRlU3VmZml4IiwiVGVtcGxhdGUiLCJyZXN1bHQiLCJlbGVtZW50IiwicGFydHMiLCJub2Rlc1RvUmVtb3ZlIiwic3RhY2siLCJ3YWxrZXIiLCJjcmVhdGVUcmVlV2Fsa2VyIiwiY29udGVudCIsImxhc3RQYXJ0SW5kZXgiLCJpbmRleCIsInBhcnRJbmRleCIsInN0cmluZ3MiLCJ2YWx1ZXMiLCJub2RlIiwibmV4dE5vZGUiLCJub2RlVHlwZSIsImhhc0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwiZW5kc1dpdGgiLCJzdHJpbmdGb3JQYXJ0IiwibGFzdEF0dHJpYnV0ZU5hbWVSZWdleCIsImV4ZWMiLCJhdHRyaWJ1dGVMb29rdXBOYW1lIiwidG9Mb3dlckNhc2UiLCJhdHRyaWJ1dGVWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInN0YXRpY3MiLCJzcGxpdCIsInR5cGUiLCJ0YWdOYW1lIiwiY3VycmVudE5vZGUiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwibGFzdEluZGV4IiwiaW5zZXJ0IiwiY3JlYXRlTWFya2VyIiwibWF0Y2giLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsInByZXZpb3VzU2libGluZyIsInBvcCIsInN0ciIsInN1ZmZpeCIsImlzVGVtcGxhdGVQYXJ0QWN0aXZlIiwicGFydCIsImNyZWF0ZUNvbW1lbnQiLCJ0ZW1wbGF0ZV9pbnN0YW5jZV9UZW1wbGF0ZUluc3RhbmNlIiwidGVtcGxhdGUiLCJwcm9jZXNzb3IiLCJvcHRpb25zIiwiX19wYXJ0cyIsInNldFZhbHVlIiwiY29tbWl0IiwiZnJhZ21lbnQiLCJjbG9uZU5vZGUiLCJpbXBvcnROb2RlIiwibm9kZUluZGV4Iiwibm9kZU5hbWUiLCJoYW5kbGVUZXh0RXhwcmVzc2lvbiIsImluc2VydEFmdGVyTm9kZSIsImhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zIiwiYWRvcHROb2RlIiwidXBncmFkZSIsImNvbW1lbnRNYXJrZXIiLCJ0ZW1wbGF0ZV9yZXN1bHRfVGVtcGxhdGVSZXN1bHQiLCJpc0NvbW1lbnRCaW5kaW5nIiwiY29tbWVudE9wZW4iLCJsYXN0SW5kZXhPZiIsImF0dHJpYnV0ZU1hdGNoIiwic3Vic3RyIiwiZ2V0SFRNTCIsImlzUHJpbWl0aXZlIiwiaXNJdGVyYWJsZSIsImlzQXJyYXkiLCJpdGVyYXRvciIsIkF0dHJpYnV0ZUNvbW1pdHRlciIsImRpcnR5IiwiX2NyZWF0ZVBhcnQiLCJwYXJ0c19BdHRyaWJ1dGVQYXJ0IiwidiIsInNldEF0dHJpYnV0ZSIsIl9nZXRWYWx1ZSIsImNvbW1pdHRlciIsImRpcmVjdGl2ZSIsInBhcnRzX05vZGVQYXJ0IiwiX19wZW5kaW5nVmFsdWUiLCJzdGFydE5vZGUiLCJlbmROb2RlIiwiX19pbnNlcnQiLCJfX2NvbW1pdFRleHQiLCJfX2NvbW1pdFRlbXBsYXRlUmVzdWx0IiwiTm9kZSIsIl9fY29tbWl0Tm9kZSIsIl9fY29tbWl0SXRlcmFibGUiLCJjbGVhciIsInZhbHVlQXNTdHJpbmciLCJ0ZW1wbGF0ZUZhY3RvcnkiLCJ1cGRhdGUiLCJpbnN0YW5jZSIsIl9jbG9uZSIsIml0ZW1QYXJ0cyIsIml0ZW1QYXJ0IiwiYXBwZW5kSW50b1BhcnQiLCJpbnNlcnRBZnRlclBhcnQiLCJwYXJ0c19Cb29sZWFuQXR0cmlidXRlUGFydCIsIlByb3BlcnR5Q29tbWl0dGVyIiwic2luZ2xlIiwiUHJvcGVydHlQYXJ0IiwiZXZlbnRPcHRpb25zU3VwcG9ydGVkIiwiY2FwdHVyZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfZSIsInBhcnRzX0V2ZW50UGFydCIsImV2ZW50TmFtZSIsImV2ZW50Q29udGV4dCIsIl9fYm91bmRIYW5kbGVFdmVudCIsImhhbmRsZUV2ZW50IiwibmV3TGlzdGVuZXIiLCJvbGRMaXN0ZW5lciIsInNob3VsZFJlbW92ZUxpc3RlbmVyIiwicGFzc2l2ZSIsInNob3VsZEFkZExpc3RlbmVyIiwiX19vcHRpb25zIiwiZ2V0T3B0aW9ucyIsImRlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciIsInByZWZpeCIsInRlbXBsYXRlQ2FjaGUiLCJ0ZW1wbGF0ZUNhY2hlcyIsInN0cmluZ3NBcnJheSIsImtleVN0cmluZyIsIk1hcCIsInNldCIsImpvaW4iLCJnZXRUZW1wbGF0ZUVsZW1lbnQiLCJyZW5kZXJfcGFydHMiLCJsaXRfaHRtbF9odG1sIiwid2Fsa2VyTm9kZUZpbHRlciIsInJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlIiwibmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzIiwicmVtb3ZlQ291bnQiLCJub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSIsImN1cnJlbnRSZW1vdmluZ05vZGUiLCJmb3JFYWNoIiwiY291bnROb2RlcyIsInN0YXJ0SW5kZXgiLCJnZXRUZW1wbGF0ZUNhY2hlS2V5Iiwic2NvcGVOYW1lIiwiY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiIsIlNoYWR5Q1NTIiwicHJlcGFyZVRlbXBsYXRlRG9tIiwid2FybiIsIlRFTVBMQVRFX1RZUEVTIiwic2hhZHlSZW5kZXJTZXQiLCJTZXQiLCJwcmVwYXJlVGVtcGxhdGVTdHlsZXMiLCJyZW5kZXJlZERPTSIsImFkZCIsInRlbXBsYXRlRWxlbWVudCIsInN0eWxlcyIsImNvbmRlbnNlZFN0eWxlIiwic3R5bGUiLCJ0ZW1wbGF0ZXMiLCJmcm9tIiwicmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyIsInJlZk5vZGUiLCJpbnNlcnRDb3VudCIsIndhbGtlckluZGV4IiwiaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSIsImZpcnN0Q2hpbGQiLCJxdWVyeVNlbGVjdG9yIiwibmF0aXZlU2hhZG93IiwicmVtb3ZlcyIsInVwZGF0aW5nX2VsZW1lbnRfSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSIsInByb3AiLCJfb2JqIiwiZGVzY3JpcHRvckZyb21Qcm90b3R5cGUiLCJwcm90byIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImRlZmF1bHRDb252ZXJ0ZXIiLCJCb29sZWFuIiwiSlNPTiIsInN0cmluZ2lmeSIsIk51bWJlciIsInBhcnNlIiwibm90RXF1YWwiLCJvbGQiLCJkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbiIsImF0dHJpYnV0ZSIsImNvbnZlcnRlciIsInJlZmxlY3QiLCJoYXNDaGFuZ2VkIiwibWljcm90YXNrUHJvbWlzZSIsInJlc29sdmUiLCJTVEFURV9IQVNfVVBEQVRFRCIsIlNUQVRFX1VQREFURV9SRVFVRVNURUQiLCJTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSIsIlNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkiLCJTVEFURV9IQVNfQ09OTkVDVEVEIiwiVXBkYXRpbmdFbGVtZW50IiwiSFRNTEVsZW1lbnQiLCJfdXBkYXRlU3RhdGUiLCJfaW5zdGFuY2VQcm9wZXJ0aWVzIiwiX3VwZGF0ZVByb21pc2UiLCJfaGFzQ29ubmVjdGVkUmVzb2x2ZXIiLCJfY2hhbmdlZFByb3BlcnRpZXMiLCJfcmVmbGVjdGluZ1Byb3BlcnRpZXMiLCJpbml0aWFsaXplIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiX2ZpbmFsaXplIiwiX2NsYXNzUHJvcGVydGllcyIsImF0dHIiLCJfYXR0cmlidXRlTmFtZUZvclByb3BlcnR5IiwiX2F0dHJpYnV0ZVRvUHJvcGVydHlNYXAiLCJzdXBlclByb3BlcnRpZXMiLCJrIiwiX2Vuc3VyZUNsYXNzUHJvcGVydGllcyIsIm5vQWNjZXNzb3IiLCJzdXBlckRlc2MiLCJkZXNjIiwib2xkVmFsdWUiLCJyZXF1ZXN0VXBkYXRlIiwiY29uZmlndXJhYmxlIiwiZmluYWxpemVkIiwic3VwZXJDdG9yIiwicHJvcHMiLCJwcm9wZXJ0aWVzIiwicHJvcEtleXMiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiY3JlYXRlUHJvcGVydHkiLCJmcm9tQXR0cmlidXRlIiwidG9BdHRyaWJ1dGUiLCJfc2F2ZUluc3RhbmNlUHJvcGVydGllcyIsImNvbnN0cnVjdG9yIiwiX2F0dHJpYnV0ZVRvUHJvcGVydHkiLCJjdG9yIiwiYXR0clZhbHVlIiwiX3Byb3BlcnR5VmFsdWVUb0F0dHJpYnV0ZSIsInByb3BOYW1lIiwiX3Byb3BlcnR5VmFsdWVGcm9tQXR0cmlidXRlIiwic2hvdWxkUmVxdWVzdFVwZGF0ZSIsIl92YWx1ZUhhc0NoYW5nZWQiLCJfaGFzUmVxdWVzdGVkVXBkYXRlIiwiX2VucXVldWVVcGRhdGUiLCJ1cGRhdGVDb21wbGV0ZSIsInByZXZpb3VzVXBkYXRlUHJvbWlzZSIsIl9oYXNDb25uZWN0ZWQiLCJwZXJmb3JtVXBkYXRlIiwiaGFzVXBkYXRlZCIsIl9hcHBseUluc3RhbmNlUHJvcGVydGllcyIsInNob3VsZFVwZGF0ZSIsImNoYW5nZWRQcm9wZXJ0aWVzIiwiX21hcmtVcGRhdGVkIiwiZmlyc3RVcGRhdGVkIiwidXBkYXRlZCIsInNpemUiLCJfcHJvcGVydHlUb0F0dHJpYnV0ZSIsImN1c3RvbUVsZW1lbnQiLCJjbGFzc09yRGVzY3JpcHRvciIsImNsYXp6IiwiZGVmaW5lIiwibGVnYWN5Q3VzdG9tRWxlbWVudCIsImRlc2NyaXB0b3IiLCJraW5kIiwiZWxlbWVudHMiLCJzdGFuZGFyZEN1c3RvbUVsZW1lbnQiLCJzdGFuZGFyZFByb3BlcnR5IiwicGxhY2VtZW50IiwiaW5pdGlhbGl6ZXIiLCJkZWNvcmF0b3JzX3Byb3BlcnR5IiwicHJvdG9PckRlc2NyaXB0b3IiLCJsZWdhY3lQcm9wZXJ0eSIsImxlZ2FjeVF1ZXJ5IiwiX3F1ZXJ5IiwidGFyZ2V0Iiwic2VsZWN0b3IiLCJzdGFuZGFyZFF1ZXJ5IiwicXVlcnlGbiIsInJlbmRlclJvb3QiLCJzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMiLCJEb2N1bWVudCIsImxpdF9lbGVtZW50X0xpdEVsZW1lbnQiLCJfdW5pcXVlU3R5bGVzIiwiX3N0eWxlcyIsInN0eWxlU2V0IiwicmVkdWNlUmlnaHQiLCJ1bnNoaWZ0IiwiY3JlYXRlUmVuZGVyUm9vdCIsIlNoYWRvd1Jvb3QiLCJhZG9wdFN0eWxlcyIsImF0dGFjaFNoYWRvdyIsImFkb3B0ZWRTdHlsZVNoZWV0cyIsIm1hcCIsInN0eWxlU2hlZXQiLCJfbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzIiwiU2NvcGluZ1NoaW0iLCJwcmVwYXJlQWRvcHRlZENzc1RleHQiLCJjc3NUZXh0IiwibG9jYWxOYW1lIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJzdHlsZUVsZW1lbnQiLCJ0ZW1wbGF0ZVJlc3VsdCIsInJlbmRlciIsImhhc1JlbmRlcmVkIiwibmVlZHNTY29waW5nIiwiaG9zdCIsImZpcnN0U2NvcGVSZW5kZXIiLCJyZW5kZXJDb250YWluZXIiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYXNzaWduIiwiYXBwZW5kSW50byIsImNhY2hlS2V5Iiwic2hhZHlUZW1wbGF0ZUZhY3RvcnkiLCJkZWxldGUiLCJCbHVldG9vdGhHYXR0U3RhdGUiLCJCVExFX0FjdGlvbiIsIm1haW5fdmlld19MU0dfYmx1ZXRvb3RoIiwiY29ubmVjdGVkU3RyIiwiY29ubmVjdGVkIiwicHJpbWFyeVNlcnZpY2VPYmplY3QiLCJzZXJ2aWNlIiwiY2hhcmFjdGVyaXN0aWMiLCJyZWFkIiwiYnRsZWRhdGEiLCJidXR0b25Db2xvdXIiLCJidXR0b25Qb2ludGVyIiwiYmx1ZXRvb3RoRGV2aWNlIiwiYmx1ZXRvb3RoR2F0dCIsInByZXZDb25uZWN0ZWRTdHIiLCJfaGFuZGxlQnRHYXR0U3RhdGVDaGFuZ2UiLCJfaGFuZGxlTm90aWZ5Q2hhbmdlZCIsImNvbnN0ciIsInByb2Nlc3NCVExFY29tbWFuZHMiLCJzZW5kZCIsIndyaXRldmFsdWVUb1NlcnZpY2UiLCJyZWFkQnRsZSIsImNvbm5lY3QiLCJvbGRzdGF0ZSIsImRpc2Nvbm5lY3QiLCJuYXZpZ2F0b3IiLCJibHVldG9vdGgiLCJyZXF1ZXN0RGV2aWNlIiwiZmlsdGVycyIsInNlcnZpY2VzIiwib3B0aW9uYWxTZXJ2aWNlcyIsIkV2ZW50VGFyZ2V0IiwiY29ubmVjdGlvblN0ciIsImdhdFNlcnZlciIsImN1cnJlbnRTZXJ2aWNlIiwiY3VycmVudENoYXJhY3RlcmlzdGljcyIsIm5vdGlmeUNoYXJhY3RlcmlzdGljcyIsInNlbWFwaG9yZSIsImF3YWl0X3NlbWFwaG9yZSIsIm1heHJldHJ5Iiwic3RhdGUiLCJEaXNjb25uZWN0ZWQiLCJTZXROb3RpZnkiLCJoYW5kbGVOb3RpZnlDaGFuZ2VkIiwibG9nU3RyIiwibmV3U3RhdGUiLCJsb2dzdHIiLCJDb25uZWN0aW5nIiwiRGlzY29ubmVjdGluZyIsIkNvbm5lY3RlZCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImNvbm5lY3RpdCIsInNldFN0YXRlIiwiY2xhc3NJbnN0YW5jZSIsImdhdHQiLCJlcnJvciIsInNlcnZpY2VOciIsImdldFByaW1hcnlTZXJ2aWNlIiwiZ2V0Q2hhcmFjdGVyaXN0aWMiLCJyZWFkVmFsdWUiLCJnZXRVaW50OCIsIm9uT2ZmIiwic3RhcnROb3RpZmljYXRpb25zIiwic3RvcE5vdGlmaWNhdGlvbnMiLCJ3cml0ZVZhbHVlIiwiYnVmZmVyIiwiRGF0YVZpZXciLCJteUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJidWJibGVzIiwiY29tcG9zZWQiLCJvbkRpc2Nvbm5lY3RlZCIsInJlYWR2YWx1ZUZyb21TZXJ2aWNlIiwicmVhc29uIiwiYnRsZUFjdGlvbiIsImFjdGlvbiIsIndyaXRlIiwiZW5hYmxlTm90aWZ5IiwiZGlzYWJsZU5vdGlmeSIsIl9fZGVjb3JhdGUiLCJhc2NlbmRpbmciLCJhIiwiYiIsIk5hTiIsImJpc2VjdG9yIiwiY29tcGFyZSIsImFzY2VuZGluZ0NvbXBhcmF0b3IiLCJsZWZ0IiwibG8iLCJoaSIsIm1pZCIsInJpZ2h0IiwiYXNjZW5kaW5nQmlzZWN0IiwiYmlzZWN0UmlnaHQiLCJiaXNlY3QiLCJhcnJheV9hcnJheSIsImUxMCIsInNxcnQiLCJlNSIsImUyIiwidGlja3MiLCJzdG9wIiwicmV2ZXJzZSIsInN0ZXAiLCJ0aWNrSW5jcmVtZW50IiwiaXNGaW5pdGUiLCJjZWlsIiwiZmxvb3IiLCJtYXgiLCJwb3dlciIsIkxOMTAiLCJwb3ciLCJ0aWNrU3RlcCIsInN0ZXAwIiwiYWJzIiwic3RlcDEiLCJzcmNfbWF4IiwidmFsdWVvZiIsInNyY19taW4iLCJtaW4iLCJkaXNwYXRjaCIsIl8iLCJ0ZXN0IiwiRGlzcGF0Y2giLCJ0eXBlbmFtZSIsIlQiLCJ0eXBlbmFtZXMiLCJ0eXBlcyIsInRyaW0iLCJwYXJzZVR5cGVuYW1lcyIsImNvcHkiLCJ0aGF0Iiwic3JjX2Rpc3BhdGNoIiwibm9uZSIsInNyY19zZWxlY3RvciIsInNlbGVjdG9yQWxsX2VtcHR5Iiwic2VsZWN0b3JBbGwiLCJtYXRjaGVyIiwibWF0Y2hlcyIsInNwYXJzZSIsIkVudGVyTm9kZSIsImRhdHVtIiwib3duZXJEb2N1bWVudCIsIm5hbWVzcGFjZVVSSSIsIl9uZXh0IiwiX3BhcmVudCIsIl9fZGF0YV9fIiwiY2hpbGQiLCJrZXlQcmVmaXgiLCJiaW5kSW5kZXgiLCJncm91cCIsImVudGVyIiwiZXhpdCIsImdyb3VwTGVuZ3RoIiwiZGF0YUxlbmd0aCIsImJpbmRLZXkiLCJrZXlWYWx1ZSIsIm5vZGVCeUtleVZhbHVlIiwia2V5VmFsdWVzIiwic29ydF9hc2NlbmRpbmciLCJ4aHRtbCIsIm5hbWVzcGFjZXMiLCJzdmciLCJ4bGluayIsInhtbCIsInhtbG5zIiwibmFtZXNwYWNlIiwic3BhY2UiLCJsb2NhbCIsInNyY193aW5kb3ciLCJkZWZhdWx0VmlldyIsInN0eWxlVmFsdWUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImNsYXNzQXJyYXkiLCJzdHJpbmciLCJjbGFzc0xpc3QiLCJDbGFzc0xpc3QiLCJfbm9kZSIsIl9uYW1lcyIsImNsYXNzZWRBZGQiLCJuYW1lcyIsImxpc3QiLCJjbGFzc2VkUmVtb3ZlIiwicmVtb3ZlIiwic3BsaWNlIiwiY29udGFpbnMiLCJ0ZXh0UmVtb3ZlIiwiaHRtbFJlbW92ZSIsInJhaXNlIiwibG93ZXIiLCJjcmVhdG9yIiwiZnVsbG5hbWUiLCJjcmVhdGVFbGVtZW50TlMiLCJ1cmkiLCJjb25zdGFudE51bGwiLCJyZW1vdmVfcmVtb3ZlIiwic2VsZWN0aW9uX2Nsb25lU2hhbGxvdyIsImNsb25lIiwic2VsZWN0aW9uX2Nsb25lRGVlcCIsImZpbHRlckV2ZW50cyIsIm9uX2V2ZW50IiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJmaWx0ZXJDb250ZXh0TGlzdGVuZXIiLCJsaXN0ZW5lciIsImNvbnRleHRMaXN0ZW5lciIsInJlbGF0ZWQiLCJyZWxhdGVkVGFyZ2V0IiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJldmVudDEiLCJldmVudDAiLCJvblJlbW92ZSIsIl9fb24iLCJqIiwib25BZGQiLCJ3cmFwIiwicGFyYW1zIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJjYW5jZWxhYmxlIiwic2VsZWN0aW9uX3Jvb3QiLCJTZWxlY3Rpb24iLCJncm91cHMiLCJwYXJlbnRzIiwiX2dyb3VwcyIsIl9wYXJlbnRzIiwic2VsZWN0aW9uX3NlbGVjdGlvbiIsInNlbGVjdCIsInN1Ymdyb3VwcyIsInN1Ym5vZGUiLCJzdWJncm91cCIsInNlbGVjdEFsbCIsImZpbHRlciIsImVhY2giLCJzcmNfY29uc3RhbnQiLCJlbnRlckdyb3VwIiwidXBkYXRlR3JvdXAiLCJwcmV2aW91cyIsImkwIiwiaTEiLCJfZW50ZXIiLCJfZXhpdCIsIm9uZW50ZXIiLCJvbnVwZGF0ZSIsIm9uZXhpdCIsImFwcGVuZCIsIm1lcmdlIiwib3JkZXIiLCJzZWxlY3Rpb24iLCJncm91cHMwIiwiZ3JvdXBzMSIsIm0wIiwibTEiLCJtZXJnZXMiLCJncm91cDAiLCJncm91cDEiLCJzb3J0IiwiY29tcGFyZU5vZGUiLCJzb3J0Z3JvdXBzIiwic29ydGdyb3VwIiwibm9kZXMiLCJlbXB0eSIsImdldEF0dHJpYnV0ZU5TIiwicmVtb3ZlQXR0cmlidXRlTlMiLCJzZXRBdHRyaWJ1dGVOUyIsInByaW9yaXR5IiwicmVtb3ZlUHJvcGVydHkiLCJzZXRQcm9wZXJ0eSIsImNsYXNzZWQiLCJiZWZvcmUiLCJkZWVwIiwib25fcGFyc2VUeXBlbmFtZXMiLCJzcmNfc2VsZWN0aW9uIiwic3JjX3NlbGVjdCIsImZhY3RvcnkiLCJleHRlbmQiLCJkZWZpbml0aW9uIiwiQ29sb3IiLCJyZUkiLCJyZU4iLCJyZVAiLCJyZUhleCIsInJlUmdiSW50ZWdlciIsInJlUmdiUGVyY2VudCIsInJlUmdiYUludGVnZXIiLCJyZVJnYmFQZXJjZW50IiwicmVIc2xQZXJjZW50IiwicmVIc2xhUGVyY2VudCIsIm5hbWVkIiwiYWxpY2VibHVlIiwiYW50aXF1ZXdoaXRlIiwiYXF1YSIsImFxdWFtYXJpbmUiLCJhenVyZSIsImJlaWdlIiwiYmlzcXVlIiwiYmxhY2siLCJibGFuY2hlZGFsbW9uZCIsImJsdWUiLCJibHVldmlvbGV0IiwiYnJvd24iLCJidXJseXdvb2QiLCJjYWRldGJsdWUiLCJjaGFydHJldXNlIiwiY2hvY29sYXRlIiwiY29yYWwiLCJjb3JuZmxvd2VyYmx1ZSIsImNvcm5zaWxrIiwiY3JpbXNvbiIsImN5YW4iLCJkYXJrYmx1ZSIsImRhcmtjeWFuIiwiZGFya2dvbGRlbnJvZCIsImRhcmtncmF5IiwiZGFya2dyZWVuIiwiZGFya2dyZXkiLCJkYXJra2hha2kiLCJkYXJrbWFnZW50YSIsImRhcmtvbGl2ZWdyZWVuIiwiZGFya29yYW5nZSIsImRhcmtvcmNoaWQiLCJkYXJrcmVkIiwiZGFya3NhbG1vbiIsImRhcmtzZWFncmVlbiIsImRhcmtzbGF0ZWJsdWUiLCJkYXJrc2xhdGVncmF5IiwiZGFya3NsYXRlZ3JleSIsImRhcmt0dXJxdW9pc2UiLCJkYXJrdmlvbGV0IiwiZGVlcHBpbmsiLCJkZWVwc2t5Ymx1ZSIsImRpbWdyYXkiLCJkaW1ncmV5IiwiZG9kZ2VyYmx1ZSIsImZpcmVicmljayIsImZsb3JhbHdoaXRlIiwiZm9yZXN0Z3JlZW4iLCJmdWNoc2lhIiwiZ2FpbnNib3JvIiwiZ2hvc3R3aGl0ZSIsImdvbGQiLCJnb2xkZW5yb2QiLCJncmF5IiwiZ3JlZW4iLCJncmVlbnllbGxvdyIsImdyZXkiLCJob25leWRldyIsImhvdHBpbmsiLCJpbmRpYW5yZWQiLCJpbmRpZ28iLCJpdm9yeSIsImtoYWtpIiwibGF2ZW5kZXIiLCJsYXZlbmRlcmJsdXNoIiwibGF3bmdyZWVuIiwibGVtb25jaGlmZm9uIiwibGlnaHRibHVlIiwibGlnaHRjb3JhbCIsImxpZ2h0Y3lhbiIsImxpZ2h0Z29sZGVucm9keWVsbG93IiwibGlnaHRncmF5IiwibGlnaHRncmVlbiIsImxpZ2h0Z3JleSIsImxpZ2h0cGluayIsImxpZ2h0c2FsbW9uIiwibGlnaHRzZWFncmVlbiIsImxpZ2h0c2t5Ymx1ZSIsImxpZ2h0c2xhdGVncmF5IiwibGlnaHRzbGF0ZWdyZXkiLCJsaWdodHN0ZWVsYmx1ZSIsImxpZ2h0eWVsbG93IiwibGltZSIsImxpbWVncmVlbiIsImxpbmVuIiwibWFnZW50YSIsIm1hcm9vbiIsIm1lZGl1bWFxdWFtYXJpbmUiLCJtZWRpdW1ibHVlIiwibWVkaXVtb3JjaGlkIiwibWVkaXVtcHVycGxlIiwibWVkaXVtc2VhZ3JlZW4iLCJtZWRpdW1zbGF0ZWJsdWUiLCJtZWRpdW1zcHJpbmdncmVlbiIsIm1lZGl1bXR1cnF1b2lzZSIsIm1lZGl1bXZpb2xldHJlZCIsIm1pZG5pZ2h0Ymx1ZSIsIm1pbnRjcmVhbSIsIm1pc3R5cm9zZSIsIm1vY2Nhc2luIiwibmF2YWpvd2hpdGUiLCJuYXZ5Iiwib2xkbGFjZSIsIm9saXZlIiwib2xpdmVkcmFiIiwib3JhbmdlIiwib3JhbmdlcmVkIiwib3JjaGlkIiwicGFsZWdvbGRlbnJvZCIsInBhbGVncmVlbiIsInBhbGV0dXJxdW9pc2UiLCJwYWxldmlvbGV0cmVkIiwicGFwYXlhd2hpcCIsInBlYWNocHVmZiIsInBlcnUiLCJwaW5rIiwicGx1bSIsInBvd2RlcmJsdWUiLCJwdXJwbGUiLCJyZWJlY2NhcHVycGxlIiwicmVkIiwicm9zeWJyb3duIiwicm95YWxibHVlIiwic2FkZGxlYnJvd24iLCJzYWxtb24iLCJzYW5keWJyb3duIiwic2VhZ3JlZW4iLCJzZWFzaGVsbCIsInNpZW5uYSIsInNpbHZlciIsInNreWJsdWUiLCJzbGF0ZWJsdWUiLCJzbGF0ZWdyYXkiLCJzbGF0ZWdyZXkiLCJzbm93Iiwic3ByaW5nZ3JlZW4iLCJzdGVlbGJsdWUiLCJ0YW4iLCJ0ZWFsIiwidGhpc3RsZSIsInRvbWF0byIsInR1cnF1b2lzZSIsInZpb2xldCIsIndoZWF0Iiwid2hpdGUiLCJ3aGl0ZXNtb2tlIiwieWVsbG93IiwieWVsbG93Z3JlZW4iLCJjb2xvcl9mb3JtYXRIZXgiLCJyZ2IiLCJmb3JtYXRIZXgiLCJjb2xvcl9mb3JtYXRSZ2IiLCJmb3JtYXRSZ2IiLCJjb2xvcl9jb2xvciIsImZvcm1hdCIsInBhcnNlSW50IiwicmdibiIsIlJnYiIsInJnYmEiLCJoc2xhIiwiY29sb3JfcmdiIiwib3BhY2l0eSIsInJnYkNvbnZlcnQiLCJyZ2JfZm9ybWF0SGV4IiwiaGV4IiwicmdiX2Zvcm1hdFJnYiIsImlzTmFOIiwicm91bmQiLCJoIiwiSHNsIiwiaHNsQ29udmVydCIsImhzbDJyZ2IiLCJtMiIsImJhc2lzIiwidDEiLCJ2MCIsInYxIiwidjIiLCJ2MyIsInQyIiwidDMiLCJjaGFubmVscyIsImRpc3BsYXlhYmxlIiwiZm9ybWF0SHNsIiwiYnJpZ2h0ZXIiLCJkYXJrZXIiLCJkM19pbnRlcnBvbGF0ZV9zcmNfY29uc3RhbnQiLCJsaW5lYXIiLCJnYW1tYSIsInkiLCJub2dhbW1hIiwiZXhwb25lbnRpYWwiLCJzcmNfcmdiIiwicmdiR2FtbWEiLCJjb2xvciIsInJnYlNwbGluZSIsInNwbGluZSIsImNvbG9ycyIsInNyY19udW1iZXIiLCJyZUEiLCJyZUIiLCJ0YXNrSGVhZCIsInRhc2tUYWlsIiwic3JjX3N0cmluZyIsImFtIiwiYm0iLCJicyIsImJpIiwicSIsIm9uZSIsInN0cmluZ196ZXJvIiwidGltZXJfZnJhbWUiLCJ0aW1lcl9pbnRlcnZhbCIsInBva2VEZWxheSIsImNsb2NrTGFzdCIsImNsb2NrTm93IiwiY2xvY2tTa2V3IiwiY2xvY2siLCJwZXJmb3JtYW5jZSIsIm5vdyIsIkRhdGUiLCJzZXRGcmFtZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsZWFyTm93IiwiVGltZXIiLCJfY2FsbCIsIl90aW1lIiwidGltZXIiLCJkZWxheSIsInJlc3RhcnQiLCJ3YWtlIiwidGltZXJGbHVzaCIsInQwIiwiSW5maW5pdHkiLCJzbGVlcCIsIm5hcCIsInBva2UiLCJUeXBlRXJyb3IiLCJzcmNfdGltZW91dCIsImVsYXBzZWQiLCJlbXB0eU9uIiwiZW1wdHlUd2VlbiIsIkNSRUFURUQiLCJTQ0hFRFVMRUQiLCJTVEFSVElORyIsIlNUQVJURUQiLCJSVU5OSU5HIiwiRU5ESU5HIiwiRU5ERUQiLCJ0cmFuc2l0aW9uX3NjaGVkdWxlIiwidGltaW5nIiwic2NoZWR1bGVzIiwiX190cmFuc2l0aW9uIiwidHdlZW4iLCJ0aWNrIiwiZHVyYXRpb24iLCJlYXNlIiwic2NoZWR1bGVfY3JlYXRlIiwic2NoZWR1bGVfaW5pdCIsInNjaGVkdWxlIiwic2NoZWR1bGVfZ2V0Iiwic2NoZWR1bGVfc2V0IiwiY3NzTm9kZSIsImNzc1Jvb3QiLCJjc3NWaWV3Iiwic3ZnTm9kZSIsImludGVycnVwdCIsImRlZ3JlZXMiLCJQSSIsImRlY29tcG9zZV9pZGVudGl0eSIsInRyYW5zbGF0ZVgiLCJ0cmFuc2xhdGVZIiwicm90YXRlIiwic2tld1giLCJzY2FsZVgiLCJzY2FsZVkiLCJkZWNvbXBvc2UiLCJhdGFuMiIsImF0YW4iLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybSIsInB4Q29tbWEiLCJweFBhcmVuIiwiZGVnUGFyZW4iLCJ4YSIsInlhIiwieGIiLCJ5YiIsInRyYW5zbGF0ZSIsInNjYWxlIiwiaW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MiLCJ0cmFuc2Zvcm0iLCJpbnRlcnBvbGF0ZVRyYW5zZm9ybVN2ZyIsImJhc2VWYWwiLCJjb25zb2xpZGF0ZSIsIm1hdHJpeCIsInR3ZWVuVmFsdWUiLCJ0cmFuc2l0aW9uIiwidHJhbnNpdGlvbl9pbnRlcnBvbGF0ZSIsInNlbGVjdGlvbl9TZWxlY3Rpb24iLCJzdHlsZV9zdHlsZVJlbW92ZSIsInRyYW5zaXRpb25faWQiLCJUcmFuc2l0aW9uIiwiX25hbWUiLCJuZXdJZCIsInNlbGVjdGlvbl9wcm90b3R5cGUiLCJjaGlsZHJlbiIsImluaGVyaXQiLCJpZDAiLCJpZDEiLCJvbjAiLCJvbjEiLCJzaXQiLCJldmVyeSIsIm9uX3N0YXJ0Iiwib25GdW5jdGlvbiIsImF0dHJUd2VlbiIsImludGVycG9sYXRlIiwic3RyaW5nMDAiLCJzdHJpbmcxMCIsImludGVycG9sYXRlMCIsInN0cmluZzAiLCJzdHJpbmcxIiwidmFsdWUxIiwiX3ZhbHVlIiwiYXR0ckludGVycG9sYXRlTlMiLCJhdHRySW50ZXJwb2xhdGUiLCJzdHlsZVR3ZWVuIiwic3R5bGVOdWxsIiwic3R5bGVfc3R5bGVGdW5jdGlvbiIsImxpc3RlbmVyMCIsInN0eWxlTWF5YmVSZW1vdmUiLCJzdHlsZV9zdHlsZUNvbnN0YW50Iiwic3R5bGVJbnRlcnBvbGF0ZSIsInRleHRfdGV4dEZ1bmN0aW9uIiwidGV4dF90ZXh0Q29uc3RhbnQiLCJ0ZXh0VHdlZW4iLCJ0ZXh0SW50ZXJwb2xhdGUiLCJyZW1vdmVGdW5jdGlvbiIsInR3ZWVuMCIsInR3ZWVuMSIsImVhc2VDb25zdGFudCIsInJlamVjdCIsImNhbmNlbCIsImRlZmF1bHRUaW1pbmciLCJ0cmFuc2l0aW9uX2luaGVyaXQiLCJudW1iZXIxIiwibnVtYmVyMiIsImJydXNoX3R5cGUiLCJjb3MiLCJzaW4iLCJwYXRoX3BpIiwicGF0aF90YXUiLCJ0YXVFcHNpbG9uIiwiUGF0aCIsIl94MCIsIl95MCIsIl94MSIsIl95MSIsInBhdGhfcGF0aCIsIm1vdmVUbyIsImNsb3NlUGF0aCIsImxpbmVUbyIsInF1YWRyYXRpY0N1cnZlVG8iLCJ4MSIsInkxIiwiYmV6aWVyQ3VydmVUbyIsIngyIiwieTIiLCJhcmNUbyIsIngwIiwieTAiLCJ4MjEiLCJ5MjEiLCJ4MDEiLCJ5MDEiLCJsMDFfMiIsIngyMCIsInkyMCIsImwyMV8yIiwibDIwXzIiLCJsMjEiLCJsMDEiLCJhY29zIiwidDAxIiwidDIxIiwiYXJjIiwiYTAiLCJhMSIsImNjdyIsImR4IiwiZHkiLCJjdyIsImRhIiwicmVjdCIsInciLCJzcmNfcGF0aCIsIm1hcF9NYXAiLCJtYXBfbWFwIiwia2V5cyIsImVudHJpZXMiLCJzcmNfbWFwIiwic2V0X1NldCIsInNldF9wcm90byIsInNldF9zZXQiLCJFT0wiLCJFT0YiLCJRVU9URSIsIk5FV0xJTkUiLCJSRVRVUk4iLCJvYmplY3RDb252ZXJ0ZXIiLCJpbmZlckNvbHVtbnMiLCJyb3dzIiwiY29sdW1uU2V0Iiwicm93IiwicGFkIiwid2lkdGgiLCJmb3JtYXREYXRlIiwiZGF0ZSIsImhvdXJzIiwiZ2V0VVRDSG91cnMiLCJtaW51dGVzIiwiZ2V0VVRDTWludXRlcyIsInNlY29uZHMiLCJnZXRVVENTZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiZ2V0VVRDTWlsbGlzZWNvbmRzIiwieWVhciIsImRzdl9mb3JtYXRZZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJnZXRVVENNb250aCIsImdldFVUQ0RhdGUiLCJkc3YiLCJkZWxpbWl0ZXIiLCJyZUZvcm1hdCIsIkRFTElNSVRFUiIsImNoYXJDb2RlQXQiLCJwYXJzZVJvd3MiLCJOIiwiSSIsImVvZiIsImVvbCIsInRva2VuIiwicmVwbGFjZSIsInByZWZvcm1hdEJvZHkiLCJmb3JtYXRWYWx1ZSIsImZvcm1hdFJvdyIsImNvbnZlcnQiLCJjdXN0b21Db252ZXJ0ZXIiLCJmb3JtYXRCb2R5IiwiZm9ybWF0Um93cyIsImNzdiIsImNzdlBhcnNlIiwidHN2IiwidHN2UGFyc2UiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZSIsIm9rIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsInNyY190ZXh0IiwiaW5wdXQiLCJpbml0IiwiZmV0Y2giLCJkc3ZQYXJzZSIsInBhcnNlciIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImFkZF9hZGQiLCJ0cmVlIiwieG0iLCJ5bSIsInhwIiwieXAiLCJib3R0b20iLCJfcm9vdCIsImxlYWYiLCJfeCIsIl95Iiwic3JjX3F1YWQiLCJ4X2RlZmF1bHRYIiwieV9kZWZhdWx0WSIsInF1YWR0cmVlIiwiUXVhZHRyZWUiLCJhZGRBbGwiLCJsZWFmX2NvcHkiLCJ0cmVlUHJvdG8iLCJjb3ZlciIsInh6IiwieXoiLCJ6IiwidmlzaXQiLCJleHRlbnQiLCJmaW5kIiwicmFkaXVzIiwieDMiLCJ5MyIsInF1YWRzIiwiZDIiLCJyZXRhaW5lciIsInJlbW92ZUFsbCIsInZpc2l0QWZ0ZXIiLCJzcmNfZGVmYXVsdFNvdXJjZSIsIm5vcm1hbCIsInNvdXJjZVJhbmRvbVVuaWZvcm0iLCJyYW5kb21Vbmlmb3JtIiwic291cmNlUmFuZG9tTm9ybWFsIiwicmFuZG9tTm9ybWFsIiwibXUiLCJzaWdtYSIsImlyd2luSGFsbCIsInNvdXJjZVJhbmRvbUxvZ05vcm1hbCIsInJhbmRvbUxvZ05vcm1hbCIsImV4cCIsInNvdXJjZVJhbmRvbUlyd2luSGFsbCIsInJhbmRvbUlyd2luSGFsbCIsInN1bSIsInNvdXJjZVJhbmRvbUJhdGVzIiwicmFuZG9tQmF0ZXMiLCJzb3VyY2VSYW5kb21FeHBvbmVudGlhbCIsInJhbmRvbUV4cG9uZW50aWFsIiwibGFtYmRhIiwiaW5pdFJhbmdlIiwiZG9tYWluIiwicmFuZ2UiLCJkM19zY2FsZV9zcmNfYXJyYXlfYXJyYXkiLCJkM19zY2FsZV9zcmNfYXJyYXlfc2xpY2UiLCJyZSIsImZvcm1hdFNwZWNpZmllciIsInNwZWNpZmllciIsIkZvcm1hdFNwZWNpZmllciIsImZpbGwiLCJhbGlnbiIsInNpZ24iLCJzeW1ib2wiLCJ6ZXJvIiwiY29tbWEiLCJwcmVjaXNpb24iLCJwcmVmaXhFeHBvbmVudCIsImRlZmF1bHRMb2NhbGVfbG9jYWxlIiwiZGVmYXVsdExvY2FsZV9mb3JtYXQiLCJkZWZhdWx0TG9jYWxlX2Zvcm1hdFByZWZpeCIsImZvcm1hdERlY2ltYWwiLCJ0b0V4cG9uZW50aWFsIiwiY29lZmZpY2llbnQiLCJzcmNfZXhwb25lbnQiLCJmb3JtYXRUcmltIiwib3V0IiwiZm9ybWF0Um91bmRlZCIsImV4cG9uZW50IiwiZm9ybWF0VHlwZXMiLCIlIiwidG9QcmVjaXNpb24iLCJYIiwidG9VcHBlckNhc2UiLCJkM19mb3JtYXRfc3JjX2lkZW50aXR5IiwibG9jYWxlX21hcCIsInByZWZpeGVzIiwic3JjX2xvY2FsZSIsImxvY2FsZSIsImdyb3VwaW5nIiwidGhvdXNhbmRzIiwic3Vic3RyaW5nIiwiZm9ybWF0R3JvdXAiLCJjdXJyZW5jeVByZWZpeCIsImN1cnJlbmN5IiwiY3VycmVuY3lTdWZmaXgiLCJkZWNpbWFsIiwibnVtZXJhbHMiLCJmb3JtYXROdW1lcmFscyIsInBlcmNlbnQiLCJtaW51cyIsIm5hbiIsIm5ld0Zvcm1hdCIsImZvcm1hdFR5cGUiLCJtYXliZVN1ZmZpeCIsInZhbHVlUHJlZml4IiwidmFsdWVTdWZmaXgiLCJ2YWx1ZU5lZ2F0aXZlIiwicGFkZGluZyIsImZvcm1hdFByZWZpeCIsImRlZmF1bHRMb2NhbGUiLCJzcmNfdGlja0Zvcm1hdCIsInByZWNpc2lvblByZWZpeCIsInByZWNpc2lvblJvdW5kIiwicHJlY2lzaW9uRml4ZWQiLCJsaW5lYXJpc2giLCJ0aWNrRm9ybWF0IiwibmljZSIsImludGVydmFsX3QwIiwiaW50ZXJ2YWxfdDEiLCJuZXdJbnRlcnZhbCIsImZsb29yaSIsIm9mZnNldGkiLCJmaWVsZCIsImludGVydmFsIiwiZDAiLCJkMSIsIm9mZnNldCIsInNldFRpbWUiLCJ5ZWFyX3llYXIiLCJzZXRNb250aCIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJnZXRGdWxsWWVhciIsInNyY195ZWFyIiwibW9udGhfbW9udGgiLCJzZXREYXRlIiwiZ2V0TW9udGgiLCJkdXJhdGlvbk1pbnV0ZSIsImR1cmF0aW9uV2VlayIsIndlZWtkYXkiLCJnZXREYXRlIiwiZ2V0RGF5IiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJzdW5kYXkiLCJtb25kYXkiLCJ0dWVzZGF5Iiwid2VkbmVzZGF5IiwidGh1cnNkYXkiLCJmcmlkYXkiLCJzYXR1cmRheSIsImRheV9kYXkiLCJzcmNfZGF5IiwiaG91cl9ob3VyIiwiZ2V0TWlsbGlzZWNvbmRzIiwiZ2V0U2Vjb25kcyIsImdldE1pbnV0ZXMiLCJnZXRIb3VycyIsIm1pbnV0ZV9taW51dGUiLCJzZWNvbmRfc2Vjb25kIiwibWlsbGlzZWNvbmRfbWlsbGlzZWNvbmQiLCJ1dGNXZWVrZGF5Iiwic2V0VVRDRGF0ZSIsImdldFVUQ0RheSIsInNldFVUQ0hvdXJzIiwidXRjU3VuZGF5IiwidXRjTW9uZGF5IiwidXRjVHVlc2RheSIsInV0Y1dlZG5lc2RheSIsInV0Y1RodXJzZGF5IiwidXRjRnJpZGF5IiwidXRjU2F0dXJkYXkiLCJ1dGNEYXkiLCJzcmNfdXRjRGF5IiwidXRjWWVhciIsInNldFVUQ01vbnRoIiwic2V0VVRDRnVsbFllYXIiLCJzcmNfdXRjWWVhciIsImxvY2FsRGF0ZSIsIkgiLCJNIiwiUyIsIkwiLCJ1dGNEYXRlIiwiVVRDIiwibmV3RGF0ZSIsInNyY19kZWZhdWx0TG9jYWxlX2xvY2FsZSIsInBhZHMiLCItIiwiMCIsIm51bWJlclJlIiwicGVyY2VudFJlIiwicmVxdW90ZVJlIiwibG9jYWxlX3BhZCIsInJlcXVvdGUiLCJmb3JtYXRSZSIsImZvcm1hdExvb2t1cCIsInBhcnNlV2Vla2RheU51bWJlclN1bmRheSIsInBhcnNlV2Vla2RheU51bWJlck1vbmRheSIsInUiLCJwYXJzZVdlZWtOdW1iZXJTdW5kYXkiLCJVIiwicGFyc2VXZWVrTnVtYmVySVNPIiwiViIsInBhcnNlV2Vla051bWJlck1vbmRheSIsIlciLCJwYXJzZUZ1bGxZZWFyIiwicGFyc2VZZWFyIiwicGFyc2Vab25lIiwiWiIsInBhcnNlUXVhcnRlciIsInBhcnNlTW9udGhOdW1iZXIiLCJwYXJzZURheU9mTW9udGgiLCJwYXJzZURheU9mWWVhciIsInBhcnNlSG91cjI0IiwicGFyc2VNaW51dGVzIiwicGFyc2VTZWNvbmRzIiwicGFyc2VNaWxsaXNlY29uZHMiLCJwYXJzZU1pY3Jvc2Vjb25kcyIsInBhcnNlTGl0ZXJhbFBlcmNlbnQiLCJwYXJzZVVuaXhUaW1lc3RhbXAiLCJRIiwicGFyc2VVbml4VGltZXN0YW1wU2Vjb25kcyIsImZvcm1hdERheU9mTW9udGgiLCJmb3JtYXRIb3VyMjQiLCJmb3JtYXRIb3VyMTIiLCJmb3JtYXREYXlPZlllYXIiLCJmb3JtYXRNaWxsaXNlY29uZHMiLCJmb3JtYXRNaWNyb3NlY29uZHMiLCJmb3JtYXRNb250aE51bWJlciIsImZvcm1hdE1pbnV0ZXMiLCJmb3JtYXRTZWNvbmRzIiwiZm9ybWF0V2Vla2RheU51bWJlck1vbmRheSIsImRheSIsImZvcm1hdFdlZWtOdW1iZXJTdW5kYXkiLCJmb3JtYXRXZWVrTnVtYmVySVNPIiwiZm9ybWF0V2Vla2RheU51bWJlclN1bmRheSIsImZvcm1hdFdlZWtOdW1iZXJNb25kYXkiLCJsb2NhbGVfZm9ybWF0WWVhciIsImZvcm1hdEZ1bGxZZWFyIiwiZm9ybWF0Wm9uZSIsImZvcm1hdFVUQ0RheU9mTW9udGgiLCJmb3JtYXRVVENIb3VyMjQiLCJmb3JtYXRVVENIb3VyMTIiLCJmb3JtYXRVVENEYXlPZlllYXIiLCJmb3JtYXRVVENNaWxsaXNlY29uZHMiLCJmb3JtYXRVVENNaWNyb3NlY29uZHMiLCJmb3JtYXRVVENNb250aE51bWJlciIsImZvcm1hdFVUQ01pbnV0ZXMiLCJmb3JtYXRVVENTZWNvbmRzIiwiZm9ybWF0VVRDV2Vla2RheU51bWJlck1vbmRheSIsImRvdyIsImZvcm1hdFVUQ1dlZWtOdW1iZXJTdW5kYXkiLCJmb3JtYXRVVENXZWVrTnVtYmVySVNPIiwiZm9ybWF0VVRDV2Vla2RheU51bWJlclN1bmRheSIsImZvcm1hdFVUQ1dlZWtOdW1iZXJNb25kYXkiLCJmb3JtYXRVVENZZWFyIiwiZm9ybWF0VVRDRnVsbFllYXIiLCJmb3JtYXRVVENab25lIiwiZm9ybWF0TGl0ZXJhbFBlcmNlbnQiLCJmb3JtYXRVbml4VGltZXN0YW1wIiwiZm9ybWF0VW5peFRpbWVzdGFtcFNlY29uZHMiLCJsb2NhbGVfZGF0ZVRpbWUiLCJkYXRlVGltZSIsImxvY2FsZV9kYXRlIiwibG9jYWxlX3RpbWUiLCJsb2NhbGVfcGVyaW9kcyIsInBlcmlvZHMiLCJsb2NhbGVfd2Vla2RheXMiLCJkYXlzIiwibG9jYWxlX3Nob3J0V2Vla2RheXMiLCJzaG9ydERheXMiLCJsb2NhbGVfbW9udGhzIiwibW9udGhzIiwibG9jYWxlX3Nob3J0TW9udGhzIiwic2hvcnRNb250aHMiLCJwZXJpb2RSZSIsInBlcmlvZExvb2t1cCIsIndlZWtkYXlSZSIsIndlZWtkYXlMb29rdXAiLCJzaG9ydFdlZWtkYXlSZSIsInNob3J0V2Vla2RheUxvb2t1cCIsIm1vbnRoUmUiLCJtb250aExvb2t1cCIsInNob3J0TW9udGhSZSIsInNob3J0TW9udGhMb29rdXAiLCJmb3JtYXRzIiwiQSIsIkIiLCJZIiwidXRjRm9ybWF0cyIsInBhcnNlcyIsInBhcnNlU3BlY2lmaWVyIiwiY2hhckF0IiwibmV3UGFyc2UiLCJ3ZWVrIiwidXRjRm9ybWF0IiwidXRjUGFyc2UiLCJmb3JtYXRMb2NhbGUiLCJkZWZhdWx0TG9jYWxlX2RlZmF1bHRMb2NhbGUiLCJ1dGNNb250aCIsInV0Y0hvdXIiLCJzZXRVVENNaW51dGVzIiwidXRjTWludXRlIiwic2V0VVRDU2Vjb25kcyIsImQzX3NoYXBlX3NyY19jb25zdGFudCIsIm1hdGhfY29zIiwic3JjX21hdGhfbWF4IiwibWF0aF9taW4iLCJtYXRoX3NpbiIsIm1hdGhfc3FydCIsIm1hdGhfZXBzaWxvbiIsIm1hdGhfcGkiLCJtYXRoX2hhbGZQaSIsIm1hdGhfdGF1IiwiYXNpbiIsImFyY0lubmVyUmFkaXVzIiwiaW5uZXJSYWRpdXMiLCJhcmNPdXRlclJhZGl1cyIsIm91dGVyUmFkaXVzIiwiYXJjU3RhcnRBbmdsZSIsInN0YXJ0QW5nbGUiLCJhcmNFbmRBbmdsZSIsImVuZEFuZ2xlIiwiYXJjUGFkQW5nbGUiLCJwYWRBbmdsZSIsImNvcm5lclRhbmdlbnRzIiwicjEiLCJyYyIsIm94Iiwib3kiLCJ4MTEiLCJ5MTEiLCJ4MTAiLCJ5MTAiLCJ4MDAiLCJ5MDAiLCJEIiwiY3gwIiwiY3kwIiwiY3gxIiwiY3kxIiwiZHgwIiwiZHkwIiwiZHgxIiwiZHkxIiwiY3giLCJjeSIsInNyY19hcmMiLCJjb3JuZXJSYWRpdXMiLCJwYWRSYWRpdXMiLCJjb250ZXh0IiwicjAiLCJhMDEiLCJhMTEiLCJhMDAiLCJhMTAiLCJkYTAiLCJkYTEiLCJhcCIsInJwIiwicmMwIiwicmMxIiwicDAiLCJwMSIsIm9jIiwieDMyIiwieTMyIiwiaW50ZXJzZWN0IiwiYXgiLCJheSIsImJ4IiwiYnkiLCJrYyIsImxjIiwiY2VudHJvaWQiLCJzcmNfZGVzY2VuZGluZyIsImQzX3NoYXBlX3NyY19pZGVudGl0eSIsInNyY19waWUiLCJzb3J0VmFsdWVzIiwicGllIiwiYXJjcyIsInBhIiwiUmVkQmxhY2tUcmVlIiwiUmVkQmxhY2tOb2RlIiwiQyIsIlIiLCJQIiwiUmVkQmxhY2tSb3RhdGVMZWZ0IiwiUmVkQmxhY2tSb3RhdGVSaWdodCIsIlJlZEJsYWNrRmlyc3QiLCJhZnRlciIsImdyYW5kcGEiLCJ1bmNsZSIsInNpYmxpbmciLCJzcmNfUmVkQmxhY2tUcmVlIiwiY3JlYXRlRWRnZSIsImVkZ2UiLCJEaWFncmFtX2VkZ2VzIiwic2V0RWRnZUVuZCIsImNlbGxzIiwiaGFsZmVkZ2VzIiwiY3JlYXRlQm9yZGVyRWRnZSIsInZlcnRleCIsImNsaXBFZGdlIiwiY29ubmVjdEVkZ2UiLCJmbSIsImZiIiwibHgiLCJseSIsInJ4IiwicnkiLCJmeCIsImZ5IiwiY2VsbEhhbGZlZGdlQW5nbGUiLCJjZWxsIiwic2l0ZSIsInZhIiwidmIiLCJjZWxsSGFsZmVkZ2VTdGFydCIsImNlbGxIYWxmZWRnZUVuZCIsImZpcnN0Q2lyY2xlIiwiY2lyY2xlUG9vbCIsImF0dGFjaENpcmNsZSIsImxBcmMiLCJyQXJjIiwibFNpdGUiLCJjU2l0ZSIsInJTaXRlIiwiZXBzaWxvbjIiLCJoYSIsImhjIiwiY2lyY2xlIiwiY2lyY2xlcyIsImRldGFjaENpcmNsZSIsImJlYWNoUG9vbCIsImNyZWF0ZUJlYWNoIiwiYmVhY2giLCJkZXRhY2hCZWFjaCIsImJlYWNoZXMiLCJyZW1vdmVCZWFjaCIsImRpc2FwcGVhcmluZyIsIkRpYWdyYW1fZXBzaWxvbiIsImlBcmMiLCJuQXJjcyIsImFkZEJlYWNoIiwiZHhsIiwiZHhyIiwiZGlyZWN0cml4IiwibGVmdEJyZWFrUG9pbnQiLCJyaWdodEJyZWFrUG9pbnQiLCJjcmVhdGVDZWxsIiwibmV3QXJjIiwiaGIiLCJyZm9jeCIsInJmb2N5IiwicGJ5MiIsImxmb2N4IiwibGZvY3kiLCJwbGJ5MiIsImhsIiwiYWJ5MiIsInRyaWFuZ2xlQXJlYSIsImxleGljb2dyYXBoaWMiLCJEaWFncmFtIiwic2l0ZXMiLCJzb3J0Q2VsbEhhbGZlZGdlcyIsImNsaXBFZGdlcyIsImlDZWxsIiwiaUhhbGZlZGdlIiwibkhhbGZlZGdlcyIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwibkNlbGxzIiwiZGMiLCJ2MDAiLCJ2MDEiLCJ2MTEiLCJ2MTAiLCJjbGlwQ2VsbHMiLCJlZGdlcyIsInBvbHlnb25zIiwicG9seWdvbiIsInRyaWFuZ2xlcyIsInMwIiwiZTEiLCJzMSIsImxpbmtzIiwiX2ZvdW5kIiwidngiLCJ2eSIsIlNRUlQyIiwiVHJhbnNmb3JtIiwicG9pbnQiLCJhcHBseVgiLCJhcHBseVkiLCJpbnZlcnQiLCJsb2NhdGlvbiIsImludmVydFgiLCJpbnZlcnRZIiwicmVzY2FsZVgiLCJyZXNjYWxlWSIsImRhdGFQb2ludHMiLCJtYXhSYWRpdXMiLCJmaXJzdHRpbWUiLCJOUl9FTEVNRU5UUyIsImRhdGFGb3JDb2xlcmluZyIsImRhdGFTaXplRWxlbWVudHMiLCJfaGFuZGxlQ2xpY2siLCJkb1VwZGF0ZSIsImhlaWdodCIsImZvbnRTaXplIiwicXVhbnRpemUiLCJ1bmtub3duIiwicmVzY2FsZSIsImludmVydEV4dGVudCIsInRocmVzaG9sZHMiLCJwYXRoIiwibGFiZWwiLCJwYXRoRGF0YSIsImRhdGFhcnJheSIsImFyY25yIiwicmVzb2x2ZUZuIiwicmVhZHlQcm9taXNlIiwid2hlblJlYWR5IiwiZG9jdW1lbnRXYWl0IiwicmVhZHlTdGF0ZSIsIlNFRU5fTUFSS0VSIiwiQ0FDSEVEX1NUWUxFIiwidHJhbnNmb3JtRm4iLCJ2YWxpZGF0ZUZuIiwiY3VzdG9tX3N0eWxlX2ludGVyZmFjZV9DdXN0b21TdHlsZUludGVyZmFjZSIsImVucXVldWVEb2N1bWVudFZhbGlkYXRpb24iLCJjdXN0b21TdHlsZSIsImNzIiwiZ2V0U3R5bGVGb3JDdXN0b21TdHlsZSIsInN0eWxlVG9UcmFuc2Zvcm0iLCJhZGRDdXN0b21TdHlsZSIsInByb2Nlc3NTdHlsZXMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidHJhbnNmb3JtQ2FsbGJhY2siLCJmbiIsInZhbGlkYXRlQ2FsbGJhY2siLCJuZWVkc0VucXVldWUiLCJWQVJfQVNTSUdOIiwiTUlYSU5fTUFUQ0giLCJNRURJQV9NQVRDSCIsInVwZGF0ZU5hdGl2ZVByb3BlcnRpZXMiLCJnZXRDb21wdXRlZFN0eWxlVmFsdWUiLCJuYXRpdmVDc3NWYXJpYWJsZXNfIiwic3R5bGVfc2V0dGluZ3NfY3NzQnVpbGQiLCJjYWxjQ3NzVmFyaWFibGVzIiwic2V0dGluZ3MiLCJ1c2VyQWdlbnQiLCJDU1MiLCJzdXBwb3J0cyIsImNzc0J1aWxkIiwiZGlzYWJsZVJ1bnRpbWUiLCJuYXRpdmVDc3MiLCJuYXRpdmVDc3NWYXJpYWJsZXMiLCJjdXN0b21TdHlsZUludGVyZmFjZSIsImVsZW1lbnROYW1lIiwiZWxlbWVudEV4dGVuZHMiLCJib2R5IiwiQ3VzdG9tU3R5bGVJbnRlcmZhY2UiLCJKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5Iiwib2JqIiwid29ya2luZ1VSTCIsInJlc29sdmVEb2MiLCJDU1NfVVJMX1JYIiwiQUJTX1VSTCIsInJlc29sdmVVcmwiLCJ1cmwiLCJiYXNlVVJJIiwiVVJMIiwicGF0aG5hbWUiLCJocmVmIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVIVE1MRG9jdW1lbnQiLCJiYXNlIiwiaGVhZCIsImFuY2hvciIsInJlc29sdmVDc3MiLCJwcmUiLCJwb3N0IiwicGF0aEZyb21VcmwiLCJ1c2VTaGFkb3ciLCJyb290UGF0aCIsInNhbml0aXplRE9NVmFsdWUiLCJQb2x5bWVyIiwicGFzc2l2ZVRvdWNoR2VzdHVyZXMiLCJzdHJpY3RUZW1wbGF0ZVBvbGljeSIsImFsbG93VGVtcGxhdGVGcm9tRG9tTW9kdWxlIiwibGVnYWN5T3B0aW1pemF0aW9ucyIsInN5bmNJbml0aWFsUmVuZGVyIiwiY2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHMiLCJkb21fbW9kdWxlX21vZHVsZXMiLCJsY01vZHVsZXMiLCJzZXRNb2R1bGUiLCJmaW5kTW9kdWxlIiwiZG9tX21vZHVsZV9Eb21Nb2R1bGUiLCJyZWdpc3RlciIsImFzc2V0cGF0aCIsIl9fYXNzZXRwYXRoIiwib3duZXIiLCJIVE1MSW1wb3J0cyIsImltcG9ydEZvckVsZW1lbnQiLCJpbnN0Iiwic3R5bGVPdXRzaWRlVGVtcGxhdGVDaGVjayIsIk1PRFVMRV9TVFlMRV9MSU5LX1NFTEVDVE9SIiwiSU5DTFVERV9BVFRSIiwiU0hBRFlfVU5TQ09QRURfQVRUUiIsImltcG9ydE1vZHVsZSIsImltcG9ydCIsInN0eWxlRm9ySW1wb3J0IiwiaW1wb3J0RG9jIiwiaW1wb3J0Q3NzIiwic3R5bGVzRnJvbU1vZHVsZXMiLCJtb2R1bGVJZHMiLCJzdHlsZXNGcm9tTW9kdWxlIiwiX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzIiwic3R5bGVzRnJvbVRlbXBsYXRlIiwiZSQiLCJpbmNsdWRlIiwicCQiLCJ1bnNjb3BlZCIsImhhc0F0dHJpYnV0ZSIsIl91bnNjb3BlZFN0eWxlIiwiX3N0eWxlIiwiY3NzRnJvbU1vZHVsZSIsIl9jc3NUZXh0IiwiX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzIiwiY3NzRnJvbVRlbXBsYXRlIiwiY3VzdG9tX3N0eWxlX2F0dHIiLCJjdXN0b21fc3R5bGVfQ3VzdG9tU3R5bGVJbnRlcmZhY2UiLCJjc3NGcm9tTW9kdWxlcyIsIiRfZG9jdW1lbnRDb250YWluZXIiLCJzaXppbmdfJF9kb2N1bWVudENvbnRhaW5lciIsInNwYWNpbmdfJF9kb2N1bWVudENvbnRhaW5lciIsInN0eWxlXyRfZG9jdW1lbnRDb250YWluZXIiLCJMaXRlcmFsU3RyaW5nIiwibGl0ZXJhbFZhbHVlIiwiaHRtbF90YWdfaHRtbCIsInJlZHVjZSIsImFjYyIsImlkeCIsIkhUTUxUZW1wbGF0ZUVsZW1lbnQiLCJodG1sVmFsdWUiLCJ2YWFkaW5fc3BsaXRfbGF5b3V0X3N0eWxlc18kX2RvY3VtZW50Q29udGFpbmVyIiwibWl4aW5fZGVkdXBlSWQiLCJNaXhpbkZ1bmN0aW9uIiwiX19taXhpbkFwcGxpY2F0aW9ucyIsIl9fbWl4aW5TZXQiLCJkZWR1cGluZ01peGluIiwibWl4aW4iLCJtaXhpbkFwcGxpY2F0aW9ucyIsIm1peGluRGVkdXBlSWQiLCJiYXNlU2V0IiwiZXh0ZW5kZWQiLCJtaXhpblNldCIsIlNoYWR5RE9NIiwiaXNQYXRoIiwicGF0aF9yb290IiwiZG90SW5kZXgiLCJpc0FuY2VzdG9yIiwiaXNEZXNjZW5kYW50IiwicGF0aF90cmFuc2xhdGUiLCJuZXdCYXNlIiwicGF0aF9ub3JtYWxpemUiLCJwYXRoX2dldCIsImluZm8iLCJwYXRoX3NldCIsImxhc3QiLCJjYXNlTWFwIiwiREFTSF9UT19DQU1FTCIsIkNBTUVMX1RPX0RBU0giLCJkYXNoVG9DYW1lbENhc2UiLCJkYXNoIiwiY2FtZWxUb0Rhc2hDYXNlIiwiY2FtZWwiLCJtaWNyb3Rhc2tDdXJySGFuZGxlIiwibWljcm90YXNrTGFzdEhhbmRsZSIsIm1pY3JvdGFza0NhbGxiYWNrcyIsIm1pY3JvdGFza05vZGVDb250ZW50IiwibWljcm90YXNrTm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJjYiIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwidGltZU91dCIsImFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJpZGxlUGVyaW9kIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImNhbmNlbElkbGVDYWxsYmFjayIsIm1pY3JvVGFzayIsIm1pY3JvdGFzayIsInByb3BlcnRpZXNfY2hhbmdlZF9Qcm9wZXJ0aWVzQ2hhbmdlZCIsInN1cGVyQ2xhc3MiLCJfY3JlYXRlUHJvcGVydHlBY2Nlc3NvciIsInJlYWRPbmx5IiwiX2FkZFByb3BlcnR5VG9BdHRyaWJ1dGVNYXAiLCJfX2RhdGFIYXNBY2Nlc3NvciIsIl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yIiwiX19kYXRhQXR0cmlidXRlcyIsImF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eSIsIl9nZXRQcm9wZXJ0eSIsIl9zZXRQcm9wZXJ0eSIsIl9fZGF0YUVuYWJsZWQiLCJfX2RhdGFSZWFkeSIsIl9fZGF0YUludmFsaWQiLCJfX2RhdGEiLCJfX2RhdGFQZW5kaW5nIiwiX19kYXRhT2xkIiwiX19kYXRhSW5zdGFuY2VQcm9wcyIsIl9fc2VyaWFsaXppbmciLCJfaW5pdGlhbGl6ZVByb3BlcnRpZXMiLCJfZmx1c2hQcm9wZXJ0aWVzIiwiX3NldFBlbmRpbmdQcm9wZXJ0eSIsIl9pbnZhbGlkYXRlUHJvcGVydGllcyIsImV4dCIsImNoYW5nZWQiLCJfc2hvdWxkUHJvcGVydHlDaGFuZ2UiLCJfaW5pdGlhbGl6ZUluc3RhbmNlUHJvcGVydGllcyIsInJlYWR5IiwiY2hhbmdlZFByb3BzIiwiX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UiLCJfcHJvcGVydGllc0NoYW5nZWQiLCJjdXJyZW50UHJvcHMiLCJvbGRQcm9wcyIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsIl9kZXNlcmlhbGl6ZVZhbHVlIiwidHlwZUZvclByb3BlcnR5IiwiX3ZhbHVlVG9Ob2RlQXR0cmlidXRlIiwiX3NlcmlhbGl6ZVZhbHVlIiwibmF0aXZlUHJvcGVydGllcyIsInByb3BlcnR5X2FjY2Vzc29yc19wcm90byIsInByb3BlcnR5X2FjY2Vzc29yc19Qcm9wZXJ0eUFjY2Vzc29ycyIsImEkIiwiX19kYXRhUHJvdG8iLCJfaW5pdGlhbGl6ZVByb3RvUHJvcGVydGllcyIsImVsIiwib3V0VmFsdWUiLCJtb2RlbCIsInNhdmVBY2Nlc3NvclZhbHVlIiwidGVtcGxhdGVFeHRlbnNpb25zIiwiZG9tLWlmIiwiZG9tLXJlcGVhdCIsInBsYWNlaG9sZGVyQnVnRGV0ZWN0IiwicGxhY2Vob2xkZXJCdWciLCJmaXhQbGFjZWhvbGRlciIsInBsYWNlaG9sZGVyIiwiaGFzUGxhY2Vob2xkZXJCdWciLCJ3cmFwVGVtcGxhdGVFeHRlbnNpb24iLCJpcyIsInJlcGxhY2VDaGlsZCIsImZpbmRUZW1wbGF0ZU5vZGUiLCJub2RlSW5mbyIsInBhcmVudEluZm8iLCJwYXJlbnRJbmRleCIsImFwcGx5SWRUb01hcCIsImFwcGx5RXZlbnRMaXN0ZW5lciIsImV2ZW50cyIsIl9hZGRNZXRob2RFdmVudExpc3RlbmVyVG9Ob2RlIiwiYXBwbHlUZW1wbGF0ZUNvbnRlbnQiLCJ0ZW1wbGF0ZUluZm8iLCJfdGVtcGxhdGVJbmZvIiwiVGVtcGxhdGVTdGFtcCIsIm91dGVyVGVtcGxhdGVJbmZvIiwibm9kZUluZm9MaXN0Iiwic3RyaXBXaGl0ZVNwYWNlIiwiX3BhcnNlVGVtcGxhdGVDb250ZW50IiwiX3BhcnNlVGVtcGxhdGVOb2RlIiwibm90ZWQiLCJoYXNJbnNlcnRpb25Qb2ludCIsIl9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUiLCJfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMiLCJfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzIiwiVEVYVF9OT0RFIiwiY2hpbGRJbmZvIiwiaW5mb0luZGV4IiwiX3BhcnNlVGVtcGxhdGUiLCJhdHRycyIsIl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZSIsImRlY29yYXRlIiwiZG9tIiwiX19ub0luc2VydGlvblBvaW50Iiwibm9kZUxpc3QiLCIkIiwibWV0aG9kTmFtZSIsImhhbmRsZXIiLCJfbWV0aG9kSG9zdCIsImNyZWF0ZU5vZGVFdmVudEhhbmRsZXIiLCJfYWRkRXZlbnRMaXN0ZW5lclRvTm9kZSIsInByb3BlcnR5X2VmZmVjdHNfZGVkdXBlSWQiLCJUWVBFUyIsIkNPTVBVVEUiLCJSRUZMRUNUIiwiTk9USUZZIiwiUFJPUEFHQVRFIiwiT0JTRVJWRSIsIlJFQURfT05MWSIsImNhcGl0YWxBdHRyaWJ1dGVSZWdleCIsImVuc3VyZU93bkVmZmVjdE1hcCIsImVmZmVjdHMiLCJwcm90b0Z4IiwiaW5zdEZ4IiwicnVuRWZmZWN0cyIsImhhc1BhdGhzIiwiZXh0cmFBcmdzIiwicmFuIiwicnVuRWZmZWN0c0ZvclByb3BlcnR5IiwiZGVkdXBlSWQiLCJmeHMiLCJsYXN0UnVuIiwicGF0aE1hdGNoZXNUcmlnZ2VyIiwidHJpZ2dlciIsInRyaWdnZXJQYXRoIiwic3RydWN0dXJlZCIsIndpbGRjYXJkIiwicnVuT2JzZXJ2ZXJFZmZlY3QiLCJtZXRob2QiLCJjaGFuZ2VkUHJvcCIsImR5bmFtaWNGbiIsIm5vdGlmeVBhdGgiLCJyb290UHJvcGVydHkiLCJkaXNwYXRjaE5vdGlmeUV2ZW50IiwicXVldWVQcm9wZXJ0eSIsInJ1bk5vdGlmeUVmZmVjdCIsInJ1blJlZmxlY3RFZmZlY3QiLCJhdHRyTmFtZSIsInJ1bkNvbXB1dGVkRWZmZWN0IiwicnVuTWV0aG9kRWZmZWN0IiwiY29tcHV0ZWRQcm9wIiwibWV0aG9kSW5mbyIsImFkZEJpbmRpbmciLCJsaXRlcmFsIiwiYmluZGluZ3MiLCJpc0NvbXBvdW5kIiwicHJvcGVydHlfZWZmZWN0c19zaG91bGRBZGRMaXN0ZW5lciIsIm5lZ2F0ZSIsImxpc3RlbmVyRXZlbnQiLCJsaXN0ZW5lck5lZ2F0ZSIsImNvbXBvdW5kSW5kZXgiLCJhZGRFZmZlY3RGb3JCaW5kaW5nUGFydCIsImRlcGVuZGVuY2llcyIsImV2YWx1YXRvciIsInBhcnNlQXJnIiwiX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QiLCJydW5CaW5kaW5nRWZmZWN0IiwiX19pc1Byb3BlcnR5RWZmZWN0c0NsaWVudCIsIl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgiLCJfZW5xdWV1ZUNsaWVudCIsInN0b3JhZ2UiLCJfX2RhdGFDb21wb3VuZFN0b3JhZ2UiLCJjb21wdXRlQmluZGluZ1ZhbHVlIiwiX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlIiwiYXBwbHlCaW5kaW5nVmFsdWUiLCJfZXZhbHVhdGVCaW5kaW5nIiwic2V0dXBDb21wb3VuZFN0b3JhZ2UiLCJsaXRlcmFscyIsImFkZE5vdGlmeUxpc3RlbmVyIiwiZnJvbVByb3AiLCJ0b1BhdGgiLCJmcm9tUGF0aCIsImN1cnJlbnRUYXJnZXQiLCJoYW5kbGVOb3RpZmljYXRpb24iLCJjcmVhdGVNZXRob2RFZmZlY3QiLCJzaWciLCJlZmZlY3RGbiIsInN0YXRpYyIsImFyZyIsIl9hZGRQcm9wZXJ0eUVmZmVjdCIsIl9tYXJzaGFsQXJncyIsImVtcHR5QXJyYXkiLCJiaW5kaW5nUmVnZXgiLCJPUEVOX0JSQUNLRVQiLCJsaXRlcmFsRnJvbVBhcnRzIiwicGFyc2VNZXRob2QiLCJleHByZXNzaW9uIiwiYXJnTGlzdCIsInJhd0FyZyIsInBhcnNlQXJncyIsImZjIiwiZ2V0QXJnVmFsdWUiLCJub3RpZnlTcGxpY2VzIiwic3BsaWNlcyIsImluZGV4U3BsaWNlcyIsIm5vdGlmeVNwbGljZSIsImFkZGVkQ291bnQiLCJyZW1vdmVkIiwicHJvcGVydHlfZWZmZWN0c19Qcm9wZXJ0eUVmZmVjdHMiLCJwcm9wZXJ0eUVmZmVjdHNCYXNlIiwiX19kYXRhQ291bnRlciIsIl9fZGF0YUNsaWVudHNSZWFkeSIsIl9fZGF0YVBlbmRpbmdDbGllbnRzIiwiX19kYXRhVG9Ob3RpZnkiLCJfX2RhdGFMaW5rZWRQYXRocyIsIl9fZGF0YUhhc1BhdGhzIiwiX19kYXRhSG9zdCIsIl9fZGF0YVRlbXAiLCJfX2RhdGFDbGllbnRzSW5pdGlhbGl6ZWQiLCJfX2NvbXB1dGVFZmZlY3RzIiwiX19yZWZsZWN0RWZmZWN0cyIsIl9fbm90aWZ5RWZmZWN0cyIsIl9fcHJvcGFnYXRlRWZmZWN0cyIsIl9fb2JzZXJ2ZUVmZmVjdHMiLCJfX3JlYWRPbmx5IiwiX190ZW1wbGF0ZUluZm8iLCJQUk9QRVJUWV9FRkZFQ1RfVFlQRVMiLCJob3N0U3RhY2siLCJyZWdpc3Rlckhvc3QiLCJlZmZlY3QiLCJfaGFzUHJvcGVydHlFZmZlY3QiLCJzaG91bGROb3RpZnkiLCJpc1BhdGhOb3RpZmljYXRpb24iLCJsaW5rIiwiY29tcHV0ZUxpbmtlZFBhdGhzIiwicHJvcElzUGF0aCIsInByZXZQcm9wcyIsImNsaWVudCIsIl9fZW5hYmxlT3JGbHVzaENsaWVudHMiLCJfcmVhZHlDbGllbnRzIiwiY2xpZW50cyIsIl9lbmFibGVQcm9wZXJ0aWVzIiwic2V0UmVhZE9ubHkiLCJfZmx1c2hDbGllbnRzIiwiY29tcHV0ZUVmZmVjdHMiLCJpbnB1dFByb3BzIiwicnVuQ29tcHV0ZWRFZmZlY3RzIiwibm90aWZ5UHJvcHMiLCJfcHJvcGFnYXRlUHJvcGVydHlDaGFuZ2VzIiwibm90aWZpZWQiLCJydW5Ob3RpZnlFZmZlY3RzIiwicHJvcGVydHlFZmZlY3RzIiwibmV4dFRlbXBsYXRlSW5mbyIsInRvIiwicmV0IiwiaGFkTGVuZ3RoIiwiZGVsZXRlQ291bnQiLCJwcm9wUGF0aCIsInByb3RlY3RlZFNldHRlciIsInVwcGVyIiwicGF0aFZhbHVlIiwiX2NyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIiLCJfY3JlYXRlTWV0aG9kT2JzZXJ2ZXIiLCJfY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkiLCJfY3JlYXRlUmVhZE9ubHlQcm9wZXJ0eSIsIl9jcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eSIsIl9jcmVhdGVDb21wdXRlZFByb3BlcnR5IiwiX2JpbmRUZW1wbGF0ZSIsImluc3RhbmNlQmluZGluZyIsIndhc1ByZUJvdW5kIiwiX190ZW1wbGF0ZUluZm9MYXN0IiwicHJldmlvdXNUZW1wbGF0ZUluZm8iLCJob3N0UHJvcHMiLCJiZWdpbkhvc3RpbmciLCJfc3RhbXBUZW1wbGF0ZSIsImVuZEhvc3RpbmciLCJjaGlsZE5vZGVzIiwic2V0dXBCaW5kaW5ncyIsIl9wYXJzZUJpbmRpbmdzIiwib3JpZ05hbWUiLCJjdXN0b21FdmVudCIsIm5vdGlmeUV2ZW50IiwiY29sb24iLCJzaWduYXR1cmUiLCJkeW5hbWljRm5zIiwic3RhY2tMZW4iLCJyZWdpc3RyYXRpb25zIiwicHJvcGVydGllc19taXhpbl9Qcm9wZXJ0aWVzTWl4aW4iLCJzdXBlclByb3BlcnRpZXNDbGFzcyIsIlByb3BlcnRpZXNNaXhpbiIsIm93blByb3BlcnRpZXMiLCJvdXRwdXQiLCJub3JtYWxpemVQcm9wZXJ0aWVzIiwiX19vd25Qcm9wZXJ0aWVzIiwiX3Byb3BlcnRpZXMiLCJfX29ic2VydmVkQXR0cmlidXRlcyIsImZpbmFsaXplIiwiX19maW5hbGl6ZWQiLCJfZmluYWxpemVDbGFzcyIsImNyZWF0ZVByb3BlcnRpZXMiLCJfX3Byb3BlcnRpZXMiLCJpbnN0YW5jZUNvdW50IiwiZGlzY29ubmVjdGVkQ2FsbGJhY2siLCJlbGVtZW50X21peGluX3ZlcnNpb24iLCJidWlsdENTUyIsIkVsZW1lbnRNaXhpbiIsInBvbHltZXJFbGVtZW50QmFzZSIsImNyZWF0ZVByb3BlcnR5RnJvbUNvbmZpZyIsImFsbFByb3BzIiwiY29tcHV0ZWQiLCJfaGFzUmVhZE9ubHlFZmZlY3QiLCJyZWZsZWN0VG9BdHRyaWJ1dGUiLCJfaGFzUmVmbGVjdEVmZmVjdCIsIm5vdGlmeSIsIl9oYXNOb3RpZnlFZmZlY3QiLCJvYnNlcnZlciIsInByb2Nlc3NFbGVtZW50U3R5bGVzIiwia2xhc3MiLCJ0ZW1wbGF0ZVN0eWxlcyIsInN0eWxlc1dpdGhJbXBvcnRzIiwibGlua2VkU3R5bGVzIiwic3R5bGVzRnJvbU1vZHVsZUltcG9ydHMiLCJmaXJzdFRlbXBsYXRlQ2hpbGQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9wcm9jZXNzU3R5bGVUZXh0IiwidGVtcGxhdGVTdHlsZUluZGV4IiwidGVtcGxhdGVTdHlsZSIsInByZXBhcmVUZW1wbGF0ZSIsInBvbHltZXJFbGVtZW50VmVyc2lvbiIsIm9ic2VydmVycyIsIl9fb3duT2JzZXJ2ZXJzIiwib3duT2JzZXJ2ZXJzIiwiY3JlYXRlT2JzZXJ2ZXJzIiwiX3ByZXBhcmVUZW1wbGF0ZSIsIl90ZW1wbGF0ZSIsImdldFRlbXBsYXRlRnJvbURvbU1vZHVsZSIsImltcG9ydFBhdGgiLCJtZXRhIiwiaW1wb3J0TWV0YSIsIl9pbXBvcnRQYXRoIiwiX2ZpbmFsaXplVGVtcGxhdGUiLCJfX3Byb3BlcnR5RGVmYXVsdHMiLCJwcm9wZXJ0eURlZmF1bHRzIiwiX2hhc0FjY2Vzc29yIiwiX19wb2x5bWVyRmluYWxpemVkIiwiX2F0dGFjaERvbSIsInNoYWRvd1Jvb3QiLCJzaGFkeVVwZ3JhZGVGcmFnbWVudCIsImZsdXNoSW5pdGlhbCIsInN0eWxlU3VidHJlZSIsInBvbHltZXJfZWxlbWVudF9Qb2x5bWVyRWxlbWVudCIsIkRlYm91bmNlciIsIl9hc3luY01vZHVsZSIsIl9jYWxsYmFjayIsIl90aW1lciIsImFzeW5jTW9kdWxlIiwiZGVib3VuY2VyUXVldWUiLCJpc0FjdGl2ZSIsIl9jYW5jZWxBc3luYyIsImRlYm91bmNlciIsInNldENvbmZpZyIsImVucXVldWVEZWJvdW5jZXIiLCJmbHVzaERlYm91bmNlcnMiLCJkaWRGbHVzaCIsImZsdXNoIiwiSEFTX05BVElWRV9UQSIsInRvdWNoQWN0aW9uIiwiR0VTVFVSRV9LRVkiLCJIQU5ETEVEX09CSiIsIlRPVUNIX0FDVElPTiIsIlRBUF9ESVNUQU5DRSIsIlRSQUNLX0RJU1RBTkNFIiwiTU9VU0VfVElNRU9VVCIsIk1PVVNFX0VWRU5UUyIsIk1PVVNFX1dISUNIX1RPX0JVVFRPTlMiLCJNT1VTRV9IQVNfQlVUVE9OUyIsIk1vdXNlRXZlbnQiLCJidXR0b25zIiwiaXNNb3VzZUV2ZW50Iiwic3VwcG9ydHNQYXNzaXZlIiwiUEFTU0lWRV9UT1VDSCIsIm9wdHMiLCJJU19UT1VDSF9PTkxZIiwiY2xpY2tlZExhYmVscyIsImxhYmVsbGFibGUiLCJidXR0b24iLCJrZXlnZW4iLCJtZXRlciIsInRleHRhcmVhIiwicHJvZ3Jlc3MiLCJjYW5CZURpc2FibGVkIiwiY29tbWFuZCIsImZpZWxkc2V0Iiwib3B0Z3JvdXAiLCJvcHRpb24iLCJjYW5CZUxhYmVsbGVkIiwibWF0Y2hpbmdMYWJlbHMiLCJsYWJlbHMiLCJnZXRSb290Tm9kZSIsIm1hdGNoaW5nIiwibW91c2VDYW5jZWxsZXIiLCJtb3VzZUV2ZW50Iiwic2MiLCJzb3VyY2VDYXBhYmlsaXRpZXMiLCJmaXJlc1RvdWNoRXZlbnRzIiwic2tpcCIsImNsaWNrRnJvbUxhYmVsIiwiZ2V0Q29tcG9zZWRQYXRoIiwiRUxFTUVOVF9OT0RFIiwib3duZXJMYWJlbHMiLCJQT0lOVEVSU1RBVEUiLCJtb3VzZSIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwic2V0dXBUZWFyZG93bk1vdXNlQ2FuY2VsbGVyIiwic2V0dXAiLCJlbiIsImhhc0xlZnRNb3VzZUJ1dHRvbiIsImV2Iiwid2hpY2giLCJtb3VzZUlnbm9yZUpvYiIsInRvdWNoIiwic2Nyb2xsRGVjaWRlZCIsInRyYWNrRG9jdW1lbnQiLCJzdGF0ZU9iaiIsIm1vdmVmbiIsInVwZm4iLCJ1bnRyYWNrRG9jdW1lbnQiLCJkZWJvdW5jZSIsIm5vUGF0Y2giLCJjb21wb3NlZFBhdGgiLCJnZXN0dXJlcyIsInJlY29nbml6ZXJzIiwiX2ZpbmRPcmlnaW5hbFRhcmdldCIsIl9oYW5kbGVOYXRpdmUiLCJoYW5kbGVkIiwiZ29iaiIsImdzIiwiY2hhbmdlZFRvdWNoZXMiLCJ0b3VjaGVzIiwiaWRlbnRpZmllciIsImNsaWVudFgiLCJjbGllbnRZIiwidGEiLCJmaXJzdFRvdWNoQWN0aW9uIiwic2hvdWxkUHJldmVudCIsInByZXZlbnQiLCJfaGFuZGxlVG91Y2hBY3Rpb24iLCJmbG93IiwicmVzZXQiLCJldlR5cGUiLCJyZWNvZ25pemVyIiwiZGVwcyIsImRlcCIsImdkIiwiX2NvdW50Iiwic2V0VG91Y2hBY3Rpb24iLCJfYWRkIiwiX3JlbW92ZSIsImdlc3R1cmVzX3JlZ2lzdGVyIiwicmVjb2ciLCJlbWl0cyIsIl9maXJlIiwiZGVmYXVsdFByZXZlbnRlZCIsInByZXZlbnRlciIsInNvdXJjZUV2ZW50IiwiZXZOYW1lIiwiX2ZpbmRSZWNvZ25pemVyQnlFdmVudCIsImRvd251cEZpcmUiLCJ0cmFja0hhc01vdmVkRW5vdWdoIiwic3RhcnRlZCIsInRyYWNrRmlyZSIsImRkeCIsInNlY29uZGxhc3QiLCJtb3ZlcyIsImxhc3Rtb3ZlIiwiZGR5IiwiaG92ZXIiLCJlbGVtZW50RnJvbVBvaW50IiwiZGVlcFRhcmdldEZpbmQiLCJ0cmFja0ZvcndhcmQiLCJiY3IiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWCIsInBhZ2VZIiwidG9wIiwiaXNTeW50aGV0aWNDbGljayIsIm1vdXNlZG93biIsInRvdWNoc3RhcnQiLCJ0b3VjaGVuZCIsImFkZE1vdmUiLCJtb3ZlIiwiY3QiLCJ0b3VjaG1vdmUiLCJjbGljayIsImdlc3R1cmVfZXZlbnRfbGlzdGVuZXJzX0dlc3R1cmVFdmVudExpc3RlbmVycyIsIl9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUiLCJuZXdTcGxpY2UiLCJFRElUX0xFQVZFIiwiRURJVF9VUERBVEUiLCJFRElUX0FERCIsIkVESVRfREVMRVRFIiwiY2FsY1NwbGljZXMiLCJjdXJyZW50IiwiY3VycmVudFN0YXJ0IiwiY3VycmVudEVuZCIsIm9sZFN0YXJ0Iiwib2xkRW5kIiwicHJlZml4Q291bnQiLCJzdWZmaXhDb3VudCIsIm1pbkxlbmd0aCIsInNlYXJjaExlbmd0aCIsImVxdWFscyIsInNoYXJlZFByZWZpeCIsImluZGV4MSIsImluZGV4MiIsInNoYXJlZFN1ZmZpeCIsIm9wcyIsImRpc3RhbmNlcyIsImVkaXRzIiwibm9ydGhXZXN0Iiwid2VzdCIsIm5vcnRoIiwic3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzIiwicm93Q291bnQiLCJjb2x1bW5Db3VudCIsImNhbGNFZGl0RGlzdGFuY2VzIiwib2xkSW5kZXgiLCJjYWxjdWxhdGVTcGxpY2VzIiwiY3VycmVudFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsImlzU2xvdCIsIkZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIiLCJ3cmFwcGVkIiwiYXNzaWduZWROb2RlcyIsImZsYXR0ZW4iLCJfc2hhZHlDaGlsZHJlbk9ic2VydmVyIiwiX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIiLCJfY29ubmVjdGVkIiwiX3RhcmdldCIsIl9lZmZlY3RpdmVOb2RlcyIsIl9vYnNlcnZlciIsIl9zY2hlZHVsZWQiLCJfYm91bmRTY2hlZHVsZSIsIl9zY2hlZHVsZSIsIl9saXN0ZW5TbG90cyIsIm9ic2VydmVDaGlsZHJlbiIsIm11dGF0aW9ucyIsIl9wcm9jZXNzTXV0YXRpb25zIiwiY2hpbGRMaXN0IiwiX3VubGlzdGVuU2xvdHMiLCJ1bm9ic2VydmVDaGlsZHJlbiIsIl9wcm9jZXNzU2xvdE11dGF0aW9ucyIsIm11dGF0aW9uIiwiYWRkZWROb2RlcyIsInJlbW92ZWROb2RlcyIsInRha2VSZWNvcmRzIiwibmV3Tm9kZXMiLCJnZXRGbGF0dGVuZWROb2RlcyIsIlN0eWxlTm9kZSIsImNzc19wYXJzZV9wYXJzZSIsImNzc19wYXJzZV9wYXJzZUNzcyIsInNzIiwiY29kZSIsInJlcGVhdCIsIl9leHBhbmRVbmljb2RlRXNjYXBlcyIsIlJYIiwibXVsdGlwbGVTcGFjZXMiLCJBVF9TVEFSVCIsIk1FRElBX1NUQVJUIiwiTUVESUFfUlVMRSIsImtleWZyYW1lc1J1bGUiLCJLRVlGUkFNRVNfUlVMRSIsIlZBUl9TVEFSVCIsIk1JWElOX1JVTEUiLCJTVFlMRV9SVUxFIiwiciQiLCJPUEVOX0JSQUNFIiwiQ0xPU0VfQlJBQ0UiLCJsZXgiLCJjb21tZW50cyIsInBvcnQiLCJjbGVhbiIsInByZXNlcnZlUHJvcGVydGllcyIsInJ1bGVzIiwiX2hhc01peGluUnVsZXMiLCJtaXhpbkFwcGx5IiwidmFyQXBwbHkiLCJyZW1vdmVDdXN0b21Qcm9wQXBwbHkiLCJjdXN0b21Qcm9wIiwibWl4aW5Qcm9wIiwicmVtb3ZlQ3VzdG9tUHJvcEFzc2lnbm1lbnQiLCJyZW1vdmVDdXN0b21Qcm9wcyIsInN0eWxlVGV4dFNldCIsInNjb3BpbmdBdHRyaWJ1dGUiLCJwcm9jZXNzVW5zY29wZWRTdHlsZSIsIm5ld1N0eWxlIiwiaXNVbnNjb3BlZFN0eWxlIiwidG9Dc3NUZXh0IiwiZm9yRWFjaFJ1bGUiLCJydWxlc0ZvclN0eWxlIiwic3R5bGVSdWxlQ2FsbGJhY2siLCJrZXlmcmFtZXNSdWxlQ2FsbGJhY2siLCJvbmx5QWN0aXZlUnVsZXMiLCJza2lwUnVsZXMiLCJtYXRjaE1lZGlhIiwiZmluZE1hdGNoaW5nUGFyZW4iLCJsZXZlbCIsIkNTU19CVUlMRF9BVFRSIiwiZ2V0Q3NzQnVpbGQiLCJfX2Nzc0J1aWxkIiwiYnVpbGRDb21tZW50IiwiQ29tbWVudCIsImNvbW1lbnRQYXJ0cyIsImdldEJ1aWxkQ29tbWVudCIsInJlbW92ZUJ1aWxkQ29tbWVudCIsImVsZW1lbnRIYXNCdWlsdENzcyIsIkFQUExZX05BTUVfQ0xFQU4iLCJJTklUSUFMX0lOSEVSSVQiLCJJTVBPUlRBTlQiLCJNSVhJTl9WQVJfU0VQIiwiTWl4aW5NYXAiLCJfbWFwIiwiZGVwZW5kYW50cyIsImludmFsaWRDYWxsYmFjayIsImFwcGx5X3NoaW1fQXBwbHlTaGltIiwiX2N1cnJlbnRFbGVtZW50IiwiX21lYXN1cmVFbGVtZW50IiwiZGV0ZWN0TWl4aW4iLCJzdHlsZVRleHQiLCJzdHlsZVRleHRQYXJ0cyIsImdhdGhlclN0eWxlVGV4dCIsIl9nYXRoZXJlZFN0eWxlIiwiZ2F0aGVyU3R5bGVzIiwidHJhbnNmb3JtU3R5bGUiLCJhc3QiLCJ0cmFuc2Zvcm1SdWxlcyIsInJ1bGUiLCJ0cmFuc2Zvcm1SdWxlIiwidHJhbnNmb3JtQ3NzVGV4dCIsIm1hdGNoVGV4dCIsInByb3BlcnR5TmFtZSIsInZhbHVlUHJvcGVydHkiLCJ2YWx1ZU1peGluIiwiX3Byb2R1Y2VDc3NQcm9wZXJ0aWVzIiwiX2NvbnN1bWVDc3NQcm9wZXJ0aWVzIiwiYWxsIiwic3RhcnRSdWxlIiwidG9wUnVsZSIsImZhbGxiYWNrcyIsInNlZW5TdGFydFJ1bGUiLCJfY3NzVGV4dFRvTWFwIiwibWl4aW5OYW1lIiwiYXBwbHlQb3MiLCJhZnRlckFwcGx5UG9zIiwidGV4dEJlZm9yZUFwcGx5IiwidGV4dEFmdGVyQXBwbHkiLCJkZWZhdWx0cyIsIl9mYWxsYmFja3NGcm9tUHJldmlvdXNSdWxlcyIsInJlcGxhY2VtZW50IiwiX2F0QXBwbHlUb0Nzc1Byb3BlcnRpZXMiLCJ2YXJzIiwibWl4aW5FbnRyeSIsIl9nZXRJbml0aWFsVmFsdWVGb3JQcm9wZXJ0eSIsInJlcGxhY2VJbml0aWFsT3JJbmhlcml0Iiwic3AiLCJfcmVwbGFjZUluaXRpYWxPckluaGVyaXQiLCJwcm9jZXNzVmFyaWFibGVBbmRGYWxsYmFjayIsImlubmVyIiwibWl4aW5Bc1Byb3BlcnRpZXMiLCJtaXhpblZhbHVlcyIsImNvbWJpbmVkUHJvcHMiLCJuZWVkVG9JbnZhbGlkYXRlIiwiX2ludmFsaWRhdGVNaXhpbkVudHJ5IiwidHJhbnNmb3JtQ3VzdG9tU3R5bGUiLCJ0cmFuc2Zvcm1UZW1wbGF0ZSIsImFwcGx5X3NoaW0iLCJ0ZW1wbGF0ZV9tYXAiLCJDVVJSRU5UX1ZFUlNJT04iLCJORVhUX1ZFUlNJT04iLCJWQUxJREFUSU5HX1ZFUlNJT04iLCJwcm9taXNlIiwiaW52YWxpZGF0ZSIsImludmFsaWRhdGVUZW1wbGF0ZSIsInRlbXBsYXRlSXNWYWxpZCIsInRlbXBsYXRlSXNWYWxpZGF0aW5nIiwic3RhcnRWYWxpZGF0aW5nVGVtcGxhdGUiLCJfdmFsaWRhdGluZyIsImFwcGx5U2hpbSIsImFwcGx5U2hpbUludGVyZmFjZSIsImZsdXNoQ3VzdG9tU3R5bGVzIiwiZW5zdXJlIiwic2hhZG93Q2hpbGRyZW4iLCJ0eXBlRXh0ZW5zaW9uIiwiZXh0ZW5kcyIsImdldElzRXh0ZW5kcyIsInN0eWxlRG9jdW1lbnQiLCJBcHBseVNoaW0iLCJIT1NUX0RJUiIsIkhPU1RfRElSX1JFUExBQ01FTlQiLCJFTF9ESVIiLCJFTF9ESVJfUkVQTEFDTUVOVCIsIkRJUl9DSEVDSyIsIlNISU1fU0hBRE9XIiwiRElSX0lOU1RBTkNFUyIsImRpcl9taXhpbl9vYnNlcnZlciIsImRvY3VtZW50RGlyIiwiZ2V0UlRMIiwic2V0UlRMIiwiX19hdXRvRGlyT3B0T3V0IiwidXBkYXRlRGlyZWN0aW9uIiwiRGlyTWl4aW4iLCJhdHRyaWJ1dGVGaWx0ZXIiLCJlbGVtZW50QmFzZSIsIkRpciIsIl9yZXBsYWNlRGlySW5Dc3NUZXh0IiwiX19hY3RpdmF0ZURpciIsInJlcGxhY2VkVGV4dCIsInNjaGVkdWxlZCIsImJlZm9yZVJlbmRlclF1ZXVlIiwiYWZ0ZXJSZW5kZXJRdWV1ZSIsInJlbmRlcl9zdGF0dXNfc2NoZWR1bGUiLCJmbHVzaFF1ZXVlIiwiY2FsbE1ldGhvZCIsInJ1blF1ZXVlIiwiYWZ0ZXJOZXh0UmVuZGVyIiwidW5yZXNvbHZlZF9yZXNvbHZlIiwiZmx1c2hfZmx1c2giLCJzaGFkeURPTSIsImRlYm91bmNlcnMiLCJwb2x5bWVyX2RvbV9wIiwiRWxlbWVudCIsIm5vcm1hbGl6ZWRNYXRjaGVzU2VsZWN0b3IiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJwb2x5bWVyX2RvbV9Eb21BcGlOYXRpdmUiLCJvYnNlcnZlckhhbmRsZSIsImlwJCIsImFzc2lnbmVkU2xvdCIsImMkIiwiZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcyIsImFjdGl2ZUVsZW1lbnQiLCJfYWN0aXZlRWxlbWVudCIsImZvcndhcmRSZWFkT25seVByb3BlcnRpZXMiLCJFdmVudEFwaSIsInJvb3RUYXJnZXQiLCJsb2NhbFRhcmdldCIsImxhc3RDaGlsZCIsImxhc3RFbGVtZW50Q2hpbGQiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiRG9tQXBpSW1wbCIsIldyYXBwZXIiLCJjdXJyZW50Um9vdCIsInBvbHltZXJfZG9tX2RvbSIsImdldE93bmVyUm9vdCIsIm1ldGhvZHMiLCJmb3J3YXJkTWV0aG9kcyIsImZvcndhcmRQcm9wZXJ0aWVzIiwiaGVscGVyIiwic2NvcGVfc3VidHJlZV9TaGFkeURPTSIsInNhbWVTY29wZSIsInN0eWxlSW50ZXJmYWNlIiwiTGVnYWN5RWxlbWVudE1peGluIiwibGVnYWN5RWxlbWVudEJhc2UiLCJESVJFQ1RJT05fTUFQIiwiTGVnYWN5RWxlbWVudCIsImlzQXR0YWNoZWQiLCJfX2JvdW5kTGlzdGVuZXJzIiwiX2RlYm91bmNlcnMiLCJhdHRhY2hlZCIsImRldGFjaGVkIiwiYXR0cmlidXRlQ2hhbmdlZCIsIl9yZWdpc3RlcmVkIiwiX19oYXNSZWdpc3RlckZpbmlzaGVkIiwiY3JlYXRlZCIsIl9hcHBseUxpc3RlbmVycyIsIl9lbnN1cmVBdHRyaWJ1dGVzIiwiYXBpIiwibiQiLCJwZCIsIl9fcHJvdG9fXyIsIl9jb250ZW50Rm9yVGVtcGxhdGUiLCJoYmwiLCJibCIsImRpcmVjdGlvbiIsInNsY3RyIiwiZG9tSG9zdCIsIkRvY3VtZW50RnJhZ21lbnQiLCJkb21BcGkiLCJxdWVyeURpc3RyaWJ1dGVkRWxlbWVudHMiLCJjbiIsInRjIiwiQ09NTUVOVF9OT0RFIiwiZ2V0RGlzdHJpYnV0ZWROb2RlcyIsImdldENvbnRlbnRDaGlsZE5vZGVzIiwic2hvdWxkT2JzZXJ2ZSIsImNvbnRhaW5lclNjb3BlIiwic2NvcGlmeSIsImN1cnJlbnRTY29wZSIsIm1vIiwibXhucyIsIm14biIsImFkZGVkTm9kZSIsInN1YnRyZWUiLCJzY29wZVN1YnRyZWUiLCJqb2JOYW1lIiwid2FpdCIsIndhaXRUaW1lIiwidGFnIiwiZWx0Iiwic2V0UHJvcGVydGllcyIsImJvb2wiLCJ0cmFuc2Zvcm1UZXh0Iiwid2Via2l0VHJhbnNmb3JtIiwiYXJyYXlPclBhdGgiLCJfbG9nZ2VyIiwibGlmZWN5Y2xlUHJvcHMiLCJiZWZvcmVSZWdpc3RlciIsInJlZ2lzdGVyZWQiLCJob3N0QXR0cmlidXRlcyIsImV4Y2x1ZGVPbkluZm8iLCJiZWhhdmlvcnMiLCJfbm9BY2Nlc3NvcnMiLCJleGNsdWRlT25CZWhhdmlvcnMiLCJhcHBseUluZm8iLCJsaWZlY3ljbGUiLCJleGNsdWRlUHJvcHMiLCJub0FjY2Vzc29ycyIsInByb3BlcnR5TmFtZXMiLCJjb3B5UHJvcGVydGllcyIsIm1lcmdlUHJvcGVydGllcyIsInRhcmdldEluZm8iLCJzb3VyY2VJbmZvIiwiR2VuZXJhdGVDbGFzc0Zyb21JbmZvIiwiQmFzZSIsImJlaGF2aW9yTGlzdCIsIlBvbHltZXJHZW5lcmF0ZWQiLCJnZW5lcmF0ZWRQcm90byIsImNvcHlQcm9wZXJ0aWVzVG9Qcm90byIsIl9lbnN1cmVBdHRyaWJ1dGUiLCJzdXBlckJlaGF2aW9ycyIsImZsYXR0ZW5CZWhhdmlvcnMiLCJleGNsdWRlIiwiYXBwbHlCZWhhdmlvcnMiLCJnZW5lcmF0ZWRGcm9tIiwiQ2xhc3MiLCJtdXRhYmxlUHJvcGVydHlDaGFuZ2UiLCJtdXRhYmxlRGF0YSIsImlzT2JqZWN0Iiwic2hvdWxkQ2hhbmdlIiwiTXV0YWJsZURhdGEiLCJPcHRpb25hbE11dGFibGVEYXRhIiwiX211dGFibGVQcm9wZXJ0eUNoYW5nZSIsIm5ld0luc3RhbmNlIiwiSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbiIsIndyaXRhYmxlIiwiRGF0YVRlbXBsYXRlIiwiTXV0YWJsZURhdGFUZW1wbGF0ZSIsInRlbXBsYXRlSW5zdGFuY2VCYXNlIiwidGVtcGxhdGl6ZV9UZW1wbGF0ZUluc3RhbmNlQmFzZSIsIl9jb25maWd1cmVQcm9wZXJ0aWVzIiwiX190ZW1wbGF0aXplSW5zdGFuY2UiLCJfX3RlbXBsYXRpemVPd25lciIsIl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyIsIl9zaG93SGlkZUNoaWxkcmVuIiwiX190ZW1wbGF0aXplT3B0aW9ucyIsImluc3RhbmNlUHJvcHMiLCJmb3J3YXJkSG9zdFByb3AiLCJocHJvcCIsIl9faG9zdFByb3BzIiwiaXByb3AiLCJwYXJlbnRNb2RlbCIsInRlbXBsYXRlSG9zdCIsImhpZGUiLCJfX3BvbHltZXJUZXh0Q29udGVudF9fIiwiX19wb2x5bWVyUmVwbGFjZWRfXyIsIl9fcG9seW1lckRpc3BsYXlfXyIsImRpc3BsYXkiLCJfX3BhcmVudE1vZGVsIiwiTXV0YWJsZVRlbXBsYXRlSW5zdGFuY2VCYXNlIiwiZmluZE1ldGhvZEhvc3QiLCJjcmVhdGVUZW1wbGF0aXplckNsYXNzIiwidGVtcGxhdGl6ZXJCYXNlIiwidGVtcGxhdGl6ZSIsInVzZXJOb3RpZnlJbnN0YW5jZVByb3AiLCJub3RpZnlJbnN0YW5jZVByb3AiLCJjcmVhdGVOb3RpZnlJbnN0YW5jZVByb3BFZmZlY3QiLCJoYXNIb3N0UHJvcHMiLCJhZGROb3RpZnlFZmZlY3RzIiwiYWRkUHJvcGFnYXRlRWZmZWN0cyIsInVzZXJGb3J3YXJkSG9zdFByb3AiLCJ0ZW1wbGF0aXplVGVtcGxhdGVDbGFzcyIsInRlbXBsYXRpemVkQmFzZSIsImNyZWF0ZUZvcndhcmRIb3N0UHJvcEVmZmVjdCIsInNldFByb3RvdHlwZU9mIiwidXBncmFkZVRlbXBsYXRlIiwiaG9zdFByb3AiLCJpbnN0UHJvcCIsImJhc2VDbGFzcyIsInRlbXBsYXRpemVJbnN0YW5jZUNsYXNzIiwibW9kZWxGb3JFbGVtZW50IiwiZWxlbWVudHNIaWRkZW4iLCJoaWRlRWxlbWVudHNHbG9iYWxseSIsImRvbUJpbmRCYXNlIiwiX19jaGlsZHJlbiIsIl9fcmVtb3ZlQ2hpbGRyZW4iLCJfX2luc2VydENoaWxkcmVuIiwiZG9tUmVwZWF0QmFzZSIsImRvbV9yZXBlYXRfRG9tUmVwZWF0IiwiYXMiLCJpbmRleEFzIiwiaXRlbXNJbmRleEFzIiwicmVuZGVyZWRJdGVtQ291bnQiLCJpbml0aWFsQ291bnQiLCJ0YXJnZXRGcmFtZXJhdGUiLCJfdGFyZ2V0RnJhbWVUaW1lIiwiX19pbnN0YW5jZXMiLCJfX2xpbWl0IiwiX19wb29sIiwiX19yZW5kZXJEZWJvdW5jZXIiLCJfX2l0ZW1zSWR4VG9JbnN0SWR4IiwiX19jaHVua0NvdW50IiwiX19sYXN0Q2h1bmtUaW1lIiwiX19zb3J0Rm4iLCJfX2ZpbHRlckZuIiwiX19vYnNlcnZlUGF0aHMiLCJfX2N0b3IiLCJfX2lzRGV0YWNoZWQiLCJfX2RldGFjaEluc3RhbmNlIiwid3JhcHBlZFBhcmVudCIsIl9fYXR0YWNoSW5zdGFuY2UiLCJfX3JlbmRlciIsImkkIiwicGF0aF9tYXRjaGVzIiwiZnVuY3Rpb25Pck1ldGhvZE5hbWUiLCJfX2dldE1ldGhvZEhvc3QiLCJfX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUiLCJfX2RlYm91bmNlUmVuZGVyIiwicmF0ZSIsIl9fcmVxdWVzdFJlbmRlckNodW5rIiwiX19yZW5kZXJDaHVuayIsImN1cnJDaHVua1RpbWUiLCJyYXRpbyIsImNoYW5nZSIsIl9faGFuZGxlSXRlbVBhdGgiLCJfX2luaXRpYWxpemVDaHVua2luZyIsInBhdGhzIiwiX19lbnN1cmVUZW1wbGF0aXplZCIsIl9fYXBwbHlGdWxsUmVmcmVzaCIsIl9zZXRSZW5kZXJlZEl0ZW1Db3VudCIsIl9fdHJ5UmVuZGVyQ2h1bmsiLCJpc250SWR4VG9JdGVtc0lkeCIsIml0ZW1zSWR4VG9JbnN0SWR4IiwiaW5zdElkeCIsImxpbWl0IiwiaXRlbUlkeCIsIl9faW5zZXJ0SW5zdGFuY2UiLCJfX2RldGFjaEFuZFJlbW92ZUluc3RhbmNlIiwid3JhcHBlZFJvb3QiLCJfX3N0YW1wSW5zdGFuY2UiLCJiZWZvcmVSb3ciLCJiZWZvcmVOb2RlIiwiaGlkZGVuIiwiaXRlbXNQYXRoIiwiZG90IiwiaXRlbXNJZHgiLCJpdGVtU3ViUGF0aCIsIl9faGFuZGxlT2JzZXJ2ZWRQYXRocyIsIml0ZW1QYXRoIiwiZG9tX2lmX0RvbUlmIiwiaWYiLCJyZXN0YW1wIiwiX19pbnZhbGlkUHJvcHMiLCJfX2luc3RhbmNlIiwiX2xhc3RJZiIsIkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUiLCJfX3RlYXJkb3duSW5zdGFuY2UiLCJfX2Vuc3VyZUluc3RhbmNlIiwiX19zeW5jSG9zdFByb3BlcnRpZXMiLCJtdXRhYmxlX2RhdGFfYmVoYXZpb3JfbXV0YWJsZVByb3BlcnR5Q2hhbmdlIiwiYmFzZUFycmF5U2VsZWN0b3IiLCJtdWx0aSIsInNlbGVjdGVkIiwic2VsZWN0ZWRJdGVtIiwidG9nZ2xlIiwiX19sYXN0SXRlbXMiLCJfX2xhc3RNdWx0aSIsIl9fc2VsZWN0ZWRNYXAiLCJpdGVtc0luZm8iLCJuZXdJdGVtcyIsImxhc3RJdGVtcyIsImNsZWFyU2VsZWN0aW9uIiwiX19hcHBseVNwbGljZXMiLCJfX2Rlc2VsZWN0Q2hhbmdlZElkeCIsIl9fdXBkYXRlTGlua3MiLCJzaWR4IiwibGlua1BhdGhzIiwiaXNTZWxlY3RlZCIsIl9fc2VsZWN0ZWRJbmRleEZvckl0ZW1JbmRleCIsImRlc2VsZWN0Iiwic2VsZWN0SW5kZXgiLCJkZXNlbGVjdEluZGV4IiwiYXJyYXlfc2VsZWN0b3JfQXJyYXlTZWxlY3Rvck1peGluIiwiQXJyYXlTZWxlY3RvciIsInBvbHltZXJfbGVnYWN5X0Jhc2UiLCJPUlBIQU5TIiwiSXJvblJlc2l6YWJsZUJlaGF2aW9yIiwiX3BhcmVudFJlc2l6YWJsZSIsIl9ub3RpZnlpbmdEZXNjZW5kYW50IiwiaXJvbi1yZXF1ZXN0LXJlc2l6ZS1ub3RpZmljYXRpb25zIiwiX2ludGVyZXN0ZWRSZXNpemFibGVzIiwiX2JvdW5kTm90aWZ5UmVzaXplIiwibm90aWZ5UmVzaXplIiwiX2JvdW5kT25EZXNjZW5kYW50SXJvblJlc2l6ZSIsIl9vbkRlc2NlbmRhbnRJcm9uUmVzaXplIiwiX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zIiwic3RvcFJlc2l6ZU5vdGlmaWNhdGlvbnNGb3IiLCJyZXNpemFibGUiLCJyZXNpemVyU2hvdWxkTm90aWZ5IiwiX25vdGlmeURlc2NlbmRhbnQiLCJfZmlyZVJlc2l6ZSIsImFzc2lnblBhcmVudFJlc2l6YWJsZSIsInBhcmVudFJlc2l6YWJsZSIsIl9zdWJzY3JpYmVJcm9uUmVzaXplIiwiX3Vuc3Vic2NyaWJlSXJvblJlc2l6ZSIsImZpcmUiLCJfb25Jcm9uUmVxdWVzdFJlc2l6ZU5vdGlmaWNhdGlvbnMiLCJfcGFyZW50UmVzaXphYmxlQ2hhbmdlZCIsImRlc2NlbmRhbnQiLCJyZWFkeXN0YXRlY2hhbmdlZCIsIl9maW5kUGFyZW50Iiwib3JwaGFuIiwiVGhlbWVQcm9wZXJ0eU1peGluIiwidGhlbWUiLCJuZXdWYWx1ZSIsIl9zZXRUaGVtZSIsIlRoZW1hYmxlTWl4aW4iLCJoYXNPd25UZW1wbGF0ZSIsInBhcmVudEVsZW1lbnQiLCJpbmhlcml0ZWRUZW1wbGF0ZSIsIl9pbmNsdWRlU3R5bGUiLCJfaW5jbHVkZU1hdGNoaW5nVGhlbWVzIiwiaGFzVGhlbWVzIiwiZGVmYXVsdE1vZHVsZU5hbWUiLCJtb2R1bGVOYW1lQSIsIm1vZHVsZU5hbWVCIiwidmFhZGluQSIsInZhYWRpbkIiLCJ2YWFkaW5UaGVtZVByZWZpeGVzIiwidmFhZGluVGhlbWVBIiwidmFhZGluVGhlbWVCIiwibW9kdWxlTmFtZSIsInRoZW1lRm9yIiwidGhlbWVGb3JUb2tlbiIsInN0eWxlRWwiLCJERVZfTU9ERV9DT0RFX1JFR0VYUCIsIkZsb3dDbGllbnRzIiwiVmFhZGluIiwiRmxvdyIsInVuY29tbWVudEFuZFJ1biIsInJ1bklmRGV2ZWxvcG1lbnRNb2RlIiwiZGV2ZWxvcG1lbnRNb2RlIiwibWF5YmVHYXRoZXJBbmRTZW5kU3RhdHMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiaG9zdG5hbWUiLCJwcm9kdWN0aW9uTW9kZUFwcHMiLCJwcm9kdWN0aW9uTW9kZSIsImlzRmxvd1Byb2R1Y3Rpb25Nb2RlIiwiaXNEZXZlbG9wbWVudE1vZGUiLCJ1c2FnZVN0YXRpc3RpY3MiLCJzdGF0c0pvYiIsImRldmVsb3BtZW50TW9kZUNhbGxiYWNrIiwidmFhZGluX2VsZW1lbnRfbWl4aW5fRWxlbWVudE1peGluIiwiZG9jdHlwZSIsInZhYWRpbl9zcGxpdF9sYXlvdXRfU3BsaXRMYXlvdXRFbGVtZW50IiwibWl4aW5CZWhhdmlvcnMiLCJvcmllbnRhdGlvbiIsIl9wcmV2aW91c1ByaW1hcnlQb2ludGVyRXZlbnRzIiwiX3ByZXZpb3VzU2Vjb25kYXJ5UG9pbnRlckV2ZW50cyIsIl9wcm9jZXNzQ2hpbGRyZW4iLCJnZXRFZmZlY3RpdmVDaGlsZHJlbiIsIl9wcmltYXJ5Q2hpbGQiLCJfc2Vjb25kYXJ5Q2hpbGQiLCJmbGV4QmFzaXMiLCJjb250YWluZXJTaXplIiwiZmxleCIsInBvaW50ZXJFdmVudHMiLCJkaXN0YW5jZSIsIl9zZXRGbGV4QmFzaXMiLCJfc3RhcnRTaXplIiwicHJpbWFyeSIsInNlY29uZGFyeSIsInNwbGl0dGVyIiwiZm9udF9pY29uc18kX2RvY3VtZW50Q29udGFpbmVyIiwidHlwb2dyYXBoeV8kX2RvY3VtZW50Q29udGFpbmVyIiwidmFhZGluX2NoZWNrYm94X3N0eWxlc18kX2RvY3VtZW50Q29udGFpbmVyIiwiQ29udHJvbFN0YXRlTWl4aW4iLCJ0YWJpbmRleCIsIlRhYkluZGV4TWl4aW4iLCJhdXRvZm9jdXMiLCJfcHJldmlvdXNUYWJJbmRleCIsImRpc2FibGVkIiwiX2lzU2hpZnRUYWJiaW5nIiwiX2ZvY3VzIiwiZm9jdXNFbGVtZW50IiwiX3NldEZvY3VzZWQiLCJlbnN1cmVFdmVudENvbXBvc2VkIiwia2V5Q29kZSIsInNoaWZ0S2V5IiwiZm9jdXMiLCJmaXJlZm94IiwicGFyc2VGbG9hdCIsImZha2VUYXJnZXQiLCJwb3NpdGlvbiIsInRhYkluZGV4IiwiZm9jdXNlZCIsIl9ib3VuZEtleWRvd25MaXN0ZW5lciIsIl9ib2R5S2V5ZG93bkxpc3RlbmVyIiwiX2JvdW5kS2V5dXBMaXN0ZW5lciIsIl9ib2R5S2V5dXBMaXN0ZW5lciIsIl90YWJQcmVzc2VkIiwiYmx1ciIsInZhYWRpbl9jaGVja2JveF9DaGVja2JveEVsZW1lbnQiLCJjaGVja2VkIiwiaW5kZXRlcm1pbmF0ZSIsIl9uYXRpdmVDaGVja2JveCIsIl9zdG9yZWROYW1lIiwiX2FkZEFjdGl2ZUxpc3RlbmVycyIsIl91cGRhdGVMYWJlbEF0dHJpYnV0ZSIsIl9pc0Fzc2lnbmVkTm9kZXNFbXB0eSIsIl9faW50ZXJhY3Rpb25zQWxsb3dlZCIsIl90b2dnbGVDaGVja2VkIiwidmFhZGluX2dyaWRfc3R5bGVzXyRfZG9jdW1lbnRDb250YWluZXIiLCJJcm9uU2Nyb2xsVGFyZ2V0QmVoYXZpb3IiLCJzY3JvbGxUYXJnZXQiLCJfZGVmYXVsdFNjcm9sbFRhcmdldCIsIl9zaG91bGRIYXZlTGlzdGVuZXIiLCJfc2Nyb2xsVGFyZ2V0Q2hhbmdlZCIsIl9vbGRTY3JvbGxUYXJnZXQiLCJfdG9nZ2xlU2Nyb2xsTGlzdGVuZXIiLCJfZG9jIiwiX2lzVmFsaWRTY3JvbGxUYXJnZXQiLCJfc2Nyb2xsSGFuZGxlciIsIl9zY3JvbGxUb3AiLCJwYWdlWU9mZnNldCIsInNjcm9sbFRvcCIsIl9zY3JvbGxMZWZ0IiwicGFnZVhPZmZzZXQiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG8iLCJzY3JvbGwiLCJsZWZ0T3JPcHRpb25zIiwiX3Njcm9sbFRhcmdldFdpZHRoIiwiaW5uZXJXaWR0aCIsIm9mZnNldFdpZHRoIiwiX3Njcm9sbFRhcmdldEhlaWdodCIsImlubmVySGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwieWVzIiwiZXZlbnRUYXJnZXQiLCJfYm91bmRTY3JvbGxIYW5kbGVyIiwidG9nZ2xlU2Nyb2xsTGlzdGVuZXIiLCJJT1MiLCJJT1NfVE9VQ0hfU0NST0xMSU5HIiwiQU5JTUFUSU9OX0ZSQU1FIiwiSURMRV9USU1FIiwiTUlDUk9fVEFTSyIsIlBvbHltZXJJcm9uTGlzdCIsIl9yYXRpbyIsIl9zY3JvbGxlclBhZGRpbmdUb3AiLCJfc2Nyb2xsUG9zaXRpb24iLCJfcGh5c2ljYWxTaXplIiwiX3BoeXNpY2FsQXZlcmFnZSIsIl9waHlzaWNhbEF2ZXJhZ2VDb3VudCIsIl9waHlzaWNhbFRvcCIsIl92aXJ0dWFsQ291bnQiLCJfZXN0U2Nyb2xsSGVpZ2h0IiwiX3Njcm9sbEhlaWdodCIsIl92aWV3cG9ydEhlaWdodCIsIl92aWV3cG9ydFdpZHRoIiwiX3BoeXNpY2FsSXRlbXMiLCJfcGh5c2ljYWxTaXplcyIsIl9maXJzdFZpc2libGVJbmRleFZhbCIsIl9jb2xsZWN0aW9uIiwiX2xhc3RWaXNpYmxlSW5kZXhWYWwiLCJfbWF4UGFnZXMiLCJfZm9jdXNlZFZpcnR1YWxJbmRleCIsIl9pdGVtc1BlclJvdyIsIl9yb3dIZWlnaHQiLCJfdGVtcGxhdGVDb3N0IiwiX3BoeXNpY2FsQm90dG9tIiwiX3Njcm9sbEJvdHRvbSIsIl92aXJ0dWFsRW5kIiwiX3ZpcnR1YWxTdGFydCIsIl9waHlzaWNhbENvdW50IiwiX2hpZGRlbkNvbnRlbnRTaXplIiwiZ3JpZCIsIl9waHlzaWNhbFJvd3MiLCJfbWF4U2Nyb2xsVG9wIiwiX3Njcm9sbE9mZnNldCIsIl9tYXhWaXJ0dWFsU3RhcnQiLCJ2aXJ0dWFsQ291bnQiLCJfY29udmVydEluZGV4VG9Db21wbGV0ZVJvdyIsInZhbCIsIl9jbGFtcCIsIl92aXJ0dWFsU3RhcnRWYWwiLCJfcGh5c2ljYWxTdGFydCIsIl9waHlzaWNhbFN0YXJ0VmFsIiwiX3BoeXNpY2FsRW5kIiwiX3BoeXNpY2FsQ291bnRWYWwiLCJfb3B0UGh5c2ljYWxTaXplIiwiX2lzVmlzaWJsZSIsImZpcnN0VmlzaWJsZUluZGV4IiwicGh5c2ljYWxPZmZzZXQiLCJfaXRlcmF0ZUl0ZW1zIiwicGlkeCIsInZpZHgiLCJfZ2V0UGh5c2ljYWxTaXplSW5jcmVtZW50IiwibGFzdFZpc2libGVJbmRleCIsIl9lc3RSb3dzSW5WaWV3IiwiX2RlYm91bmNlIiwiX3JlbmRlciIsImxpc3RlbiIsInVubGlzdGVuIiwidXBkYXRlVmlld3BvcnRCb3VuZGFyaWVzIiwiX2lzUlRMIiwiX3VwZGF0ZUdyaWRNZXRyaWNzIiwiZGVsdGEiLCJpc1Njcm9sbGluZ0Rvd24iLCJpZHhBZGp1c3RtZW50IiwiX3VwZGF0ZSIsInJldXNhYmxlcyIsIl9nZXRSZXVzYWJsZXMiLCJwaHlzaWNhbFRvcCIsImluZGV4ZXMiLCJfaW5jcmVhc2VQb29sSWZOZWVkZWQiLCJmcm9tVG9wIiwiaXRoIiwib2Zmc2V0Q29udGVudCIsInBoeXNpY2FsSXRlbUhlaWdodCIsImlkeHMiLCJwcm90ZWN0ZWRPZmZzZXRDb250ZW50IiwidmlydHVhbFN0YXJ0IiwidmlydHVhbEVuZCIsInBoeXNpY2FsQ291bnQiLCJzY3JvbGxCb3R0b20iLCJpdGVtU2V0IiwibW92aW5nVXAiLCJfbWFuYWdlRm9jdXMiLCJfYXNzaWduTW9kZWxzIiwiX3VwZGF0ZU1ldHJpY3MiLCJfcG9zaXRpb25JdGVtcyIsIl91cGRhdGVTY3JvbGxlclNpemUiLCJfaXNDbGllbnRGdWxsIiwibmV4dFBoeXNpY2FsQ291bnQiLCJuZXh0SW5jcmVhc2UiLCJ0cyIsIl9jcmVhdGVQb29sIiwiX2lzSW5kZXhSZW5kZXJlZCIsIl9nZXRQaHlzaWNhbEluZGV4IiwiX2l0ZW1zQ2hhbmdlZCIsIl9waHlzaWNhbEluZGV4Rm9yS2V5IiwiX3Jlc2V0U2Nyb2xsUG9zaXRpb24iLCJfcmVtb3ZlRm9jdXNlZEl0ZW0iLCJydG4iLCJfY29tcHV0ZVZpZHgiLCJuZXdQaHlzaWNhbFNpemUiLCJvbGRQaHlzaWNhbFNpemUiLCJwcmV2QXZnQ291bnQiLCJwcmV2UGh5c2ljYWxBdmciLCJfYWRqdXN0U2Nyb2xsUG9zaXRpb24iLCJ0cmFuc2xhdGUzZCIsImRlbHRhSGVpZ2h0IiwicG9zIiwiZm9yY2VVcGRhdGUiLCJfdmlydHVhbFJvd0NvdW50Iiwic2Nyb2xsVG9JbmRleCIsImN1cnJlbnRUb3BJdGVtIiwiY3VycmVudFZpcnR1YWxJdGVtIiwidGFyZ2V0T2Zmc2V0VG9wIiwiaGlkZGVuQ29udGVudFNpemUiLCJfcmVzZXRBdmVyYWdlIiwiX3Jlc2l6ZUhhbmRsZXIiLCJ2YWFkaW5fZ3JpZF9zY3JvbGxlcl9HcmlkU2Nyb2xsZXJFbGVtZW50IiwiX3ZpZHhPZmZzZXQiLCJfd2FyblByaXZhdGVBUElBY2Nlc3MiLCJfcGVuZGluZ1Njcm9sbFRvSW5kZXgiLCJib3JkZXJUb3BXaWR0aCIsIl9zY3JvbGxpbmdUb0luZGV4IiwiX2VmZmVjdGl2ZVNpemUiLCJ0YWJsZSIsInNjcm9sbEhlaWdodCIsIl9hY2Nlc3NJcm9uTGlzdEFQSSIsIl9hZGp1c3RWaXJ0dWFsSW5kZXhPZmZzZXQiLCJoZWFkZXJPZmZzZXQiLCJoZWFkZXIiLCJmdmkiLCJmdmlPZmZzZXQiLCJfZmlyc3RWaXNpYmxlSW5kZXgiLCJtYXhWaXJ0dWFsSXRlbXMiLCJfZWRnZSIsIl9pZSIsIl9zY3JvbGxUb0luZGV4IiwiX2ZvY3VzZWRJdGVtSW5kZXgiLCJfaXRlbXNGb2N1c2FibGUiLCJjZWxsSW5kZXgiLCJyZVBvc2l0aW9uIiwiX2NhblBvcHVsYXRlIiwiX2luaXRpYWxQb29sQ3JlYXRlZCIsIl9kZWJvdW5jZUluY3JlYXNlUG9vbCIsInJlbWFpbmluZ1BoeXNpY2FsU2l6ZSIsImVzdGltYXRlZE1pc3NpbmdSb3dDb3VudCIsIl9fcmVvcmRlckNoaWxkTm9kZXMiLCJpbk9yZGVyIiwiY3VycmVudEluZGV4Iiwicm93MSIsInJvdzIiLCJwaHlzaWNhbEl0ZW1zIiwiX2NyZWF0ZVNjcm9sbGVyUm93cyIsIl9nZXRSb3dUYXJnZXQiLCJzbG90IiwiX3VwZGF0ZUhlYWRlckZvb3Rlck1ldHJpY3MiLCJfdG9nZ2xlQXR0cmlidXRlIiwiX3VwZGF0ZVNjcm9sbGVySXRlbSIsIm9sZE9mZnNldCIsIl9hZnRlclNjcm9sbCIsIl9ub1NjYWxlIiwidGhyZXNob2xkIiwibWF4U2hpZnQiLCJtYXhPZmZzZXQiLCJfd2FyblByaXZhdGVBUElBY2Nlc3NBc3luY0VuYWJsZWQiLCJyZXR1cm5WYWx1ZSIsIl9kZWJvdW5jZXJXYXJuUHJpdmF0ZUFQSUFjY2VzcyIsIl9kZWJvdW5jZVJlbmRlciIsImFwaU5hbWUiLCJfbGFzdFZpc2libGVJbmRleCIsIkExMXlNaXhpbiIsIl9jb2x1bW5UcmVlIiwic29tZSIsImNvbCIsIl9oZWFkZXJUZW1wbGF0ZSIsImJvZHlDb2x1bW5zIiwiX2ExMXlHZXRIZWFkZXJSb3dDb3VudCIsIl9hMTF5R2V0Rm9vdGVyUm93Q291bnQiLCJfYTExeVVwZGF0ZUhlYWRlclJvd3MiLCJfYTExeVVwZGF0ZUZvb3RlclJvd3MiLCJoZWFkZXJSb3ciLCJmb290ZXIiLCJmb290ZXJSb3ciLCJkZXRhaWxzT3BlbmVkIiwiZGV0YWlsc0NlbGwiLCJjb2xzcGFuIiwic29ydGVyIiwiY2VsbENvbnRlbnQiLCJhc2MiLCJBY3RpdmVJdGVtTWl4aW4iLCJhY3RpdmVJdGVtIiwic2Nyb2xsZXIiLCJfb25DbGljayIsIl9hY3RpdmF0ZUl0ZW0iLCJjbGlja2VkSXRlbSIsIl9pdGVtc0VxdWFsIiwiX2NvbnRlbnQiLCJfaXNGb2N1c2FibGUiLCJfX2dldFJvd01vZGVsIiwiaXNGb2N1c2FibGVFbGVtZW50IiwidmFhZGluX2dyaWRfYXJyYXlfZGF0YV9wcm92aWRlcl9taXhpbl9BcnJheURhdGFQcm92aWRlck1peGluIiwiZGF0YVByb3ZpZGVyIiwiX2FycmF5RGF0YVByb3ZpZGVyIiwiY2xlYXJDYWNoZSIsIl9lbnN1cmVGaXJzdFBhZ2VMb2FkZWQiLCJfZmlsdGVycyIsIl9jaGVja1BhdGhzIiwiX2ZpbHRlciIsInNvcnRPcmRlcnMiLCJfc29ydGVycyIsIl9tdWx0aVNvcnQiLCJwYWdlIiwicGFnZVNpemUiLCJhcnJheVRvQ2hlY2siLCJwYXJlbnRQcm9wZXJ0eSIsIl9jb21wYXJlIiwiX25vcm1hbGl6ZUVtcHR5VmFsdWUiLCJmaWx0ZXJWYWx1ZUxvd2VyY2FzZSIsInZhYWRpbl9ncmlkX2NvbHVtbl9yZXNpemluZ19taXhpbl9Db2x1bW5SZXNpemluZ01peGluIiwiX29uSGVhZGVyVHJhY2siLCJfY29sdW1uIiwiX2NoaWxkQ29sdW1ucyIsIl9vcmRlciIsImNvbHVtblJvd0NlbGxzIiwidGFyZ2V0Q2VsbCIsIm1pbldpZHRoIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJSaWdodFdpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwiZmxleEdyb3ciLCJyZXNpemVkQ29sdW1uIiwiSXRlbUNhY2hlIiwicGFyZW50Q2FjaGUiLCJwYXJlbnRJdGVtIiwiaXRlbUNhY2hlcyIsImVmZmVjdGl2ZVNpemUiLCJwZW5kaW5nUmVxdWVzdHMiLCJpc0xvYWRpbmciLCJjYWNoZSIsInNjYWxlZEluZGV4IiwiZ2V0Q2FjaGVBbmRJbmRleCIsIl9pc0V4cGFuZGVkIiwicHJldiIsImN1cnIiLCJzdWJDYWNoZSIsInVwZGF0ZVNpemUiLCJfbG9hZFBhZ2UiLCJ0aGlzTGV2ZWxJbmRleCIsImV4cGFuZGVkSW5kZXgiLCJ2YWFkaW5fZ3JpZF9kYXRhX3Byb3ZpZGVyX21peGluX0RhdGFQcm92aWRlck1peGluIiwibG9hZGluZyIsIl9jYWNoZSIsIml0ZW1JZFBhdGgiLCJleHBhbmRlZEl0ZW1zIiwiX2luc3RhbmNlIiwiX3VwZGF0ZUl0ZW0iLCJlbnN1cmVTdWJDYWNoZUZvclNjYWxlZEluZGV4IiwiX2dldFBhZ2VGb3JJbmRleCIsImV4cGFuZEl0ZW0iLCJjb2xsYXBzZUl0ZW0iLCJfX2V4cGFuZGVkS2V5cyIsImdldEl0ZW1JZCIsIl9fY2FjaGVFeHBhbmRlZEtleXMiLCJfZ2V0SXRlbUluZGV4SW5BcnJheSIsIl9oYXNEYXRhIiwiX3NldExvYWRpbmciLCJfbWFwU29ydGVycyIsIl9tYXBGaWx0ZXJzIiwiY3VycmVudEl0ZW1zIiwiX2l0ZW0iLCJpdGVtc0luZGV4IiwiaXRlbUluZGV4IiwiY2FjaGVkSXRlbSIsImdldEl0ZW1Gb3JJbmRleCIsIl9faXRlbXNSZWNlaXZlZCIsIl9kZWJvdW5jZXJMb2FkIiwib2xkUGFnZVNpemUiLCJvbGREYXRhUHJvdmlkZXIiLCJfZGVib3VuY2VyQ2hlY2tTaXplIiwiX2NoZWNrU2l6ZSIsImhhZERhdGEiLCJpdGVtMSIsIml0ZW0yIiwidmFhZGluX2dyaWRfZHluYW1pY19jb2x1bW5zX21peGluX0R5bmFtaWNDb2x1bW5zTWl4aW4iLCJfYWRkTm9kZU9ic2VydmVyIiwiX2lzQ29sdW1uRWxlbWVudCIsIl9nZXRDaGlsZENvbHVtbnMiLCJfaGFzQ29sdW1uR3JvdXBzIiwiX2ZsYXR0ZW5Db2x1bW5Hcm91cHMiLCJjb2x1bW5UcmVlIiwiX2dldENvbHVtblRyZWUiLCJfYXJyYXlFcXVhbHMiLCJyb3dEZXRhaWxzVGVtcGxhdGUiLCJfcm93RGV0YWlsc1RlbXBsYXRlIiwiX3VwZGF0ZUNvbHVtblRyZWUiLCJfZGVib3VuY2VyQ2hlY2tJbXBvcnRzIiwiX2NoZWNrSW1wb3J0cyIsImFycjEiLCJhcnIyIiwiX3VwZGF0ZUZpcnN0QW5kTGFzdENvbHVtbkZvclJvdyIsIkV2ZW50Q29udGV4dE1peGluIiwic2VjdGlvbiIsIkZpbHRlck1peGluIiwiX2ZpbHRlckNoYW5nZWQiLCJ2YWFkaW5fZ3JpZF90ZW1wbGF0aXplcl9HcmlkVGVtcGxhdGl6ZXIiLCJkYXRhSG9zdCIsIl90ZW1wbGF0ZUluc3RhbmNlcyIsIl9wYXJlbnRQYXRoVmFsdWVzIiwiX2dyaWQiLCJfaW5zdGFuY2VQcm9wcyIsImV4cGFuZGVkIiwiX2Vuc3VyZVRlbXBsYXRpemVkIiwiX1RlbXBsYXRlQ2xhc3MiLCJhZGRJbnN0YW5jZSIsIl9mb3J3YXJkUGFyZW50UHJvcCIsIm9yaWdpbmFsUHJvcCIsImdyaWRDYWxsYmFjayIsImtleU5hbWUiLCJ2YWFkaW5fZ3JpZF9yb3dfZGV0YWlsc19taXhpbl9Sb3dEZXRhaWxzTWl4aW4iLCJkZXRhaWxzT3BlbmVkSXRlbXMiLCJyb3dEZXRhaWxzUmVuZGVyZXIiLCJfZGV0YWlsc0NlbGxzIiwidGVtcGxhdGl6ZXIiLCJfdXBkYXRlUm93IiwiX2ExMXlVcGRhdGVSb3dEZXRhaWxzT3BlbmVkIiwiX3RvZ2dsZURldGFpbHNDZWxsIiwiY2hhbmdlUmVjb3JkIiwiX2lzRGV0YWlsc09wZW5lZCIsImRldGFpbHNIaWRkZW4iLCJoaWRkZW5DaGFuZ2VkIiwiX3JlbmRlcmVyIiwiY3JlYXRlSW5zdGFuY2UiLCJfZGV0YWlsc09wZW5lZEluc3RhbmNlQ2hhbmdlZENhbGxiYWNrIiwib3Blbkl0ZW1EZXRhaWxzIiwiY2xvc2VJdGVtRGV0YWlscyIsInZhYWRpbl9ncmlkX3Njcm9sbF9taXhpbl9TY3JvbGxNaXhpbiIsIl90aW1lb3V0cyIsIlNDUk9MTF9QRVJJT0QiLCJXSEVFTF9TQ1JPTExJTkciLCJTQ1JPTExJTkciLCJJR05PUkVfV0hFRUwiLCJfZnJvemVuQ2VsbHMiLCJfc2Nyb2xsYmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJvdmVyZmxvdyIsInNjcm9sbGJhcldpZHRoIiwiY2xpZW50V2lkdGgiLCJfcm93V2l0aEZvY3VzZWRFbGVtZW50IiwiX2RlbHRhWUFjYyIsIl9zY3JvbGxMaW5lSGVpZ2h0IiwiX2dldFNjcm9sbExpbmVIZWlnaHQiLCJfc2Nyb2xsUGFnZUhlaWdodCIsImNsaWVudEhlaWdodCIsIl93aGVlbFNjcm9sbGluZyIsIl9kZWJvdW5jZXJXaGVlbFNjcm9sbGluZyIsIl9vbldoZWVsIiwib3V0ZXJzY3JvbGxlciIsIm91dGVyU2Nyb2xsaW5nIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiY3RybEtleSIsIl9oYXNTY3JvbGxlZEFuY2VzdG9yIiwiZGVsdGFYIiwiZGVsdGFZIiwiZGVsdGFNb2RlIiwiV2hlZWxFdmVudCIsIkRPTV9ERUxUQV9MSU5FIiwiRE9NX0RFTFRBX1BBR0UiLCJfd2hlZWxBbmltYXRpb25GcmFtZSIsIl9kZWJvdW5jZXJXaGVlbEFuaW1hdGlvbkZyYW1lIiwibW9tZW50dW0iLCJfY2FuU2Nyb2xsIiwiX2hhc1Jlc2lkdWFsTW9tZW50dW0iLCJfaWdub3JlTmV3V2hlZWwiLCJfZGVib3VuY2VySWdub3JlTmV3V2hlZWwiLCJfcHJldmlvdXNNb21lbnR1bSIsInNjcm9sbFdpZHRoIiwiX3Njcm9sbGluZ0ZyYW1lIiwiX2RlYm91bmNlU2Nyb2xsaW5nIiwiX3Jlb3JkZXJSb3dzIiwiX3Njcm9sbFBlcmlvZEZyYW1lIiwiX2RlYm91bmNlU2Nyb2xsUGVyaW9kIiwiX3RyYW5zbGF0ZVN0YXRpb25hcnlFbGVtZW50cyIsIl9zY2hlZHVsZVNjcm9sbGluZyIsIm9zIiwiX2lvcyIsInBhc3N0aHJvdWdoIiwic3luY091dGVyU2Nyb2xsZXIiLCJvdmVyU2Nyb2xsIiwiX3VwZGF0ZU92ZXJmbG93IiwiX2RlYm91bmNlT3ZlcmZsb3ciLCJhZGp1c3RlZFZpcnR1YWxTdGFydCIsInRhcmdldFJvdyIsInRhcmdldFBoeXNpY2FsSW5kZXgiLCJfZGVib3VuY2VyQ2FjaGVFbGVtZW50cyIsIl91cGRhdGVMYXN0RnJvemVuIiwiY29sdW1uc1JvdyIsImxhc3RGcm96ZW4iLCJfbGFzdEZyb3plbiIsImZyb3plbiIsIl9nZXRUcmFuc2xhdGUiLCJmcm96ZW5DZWxsVHJhbnNmb3JtIiwib3V0ZXJzaXplciIsImZpeGVkc2l6ZXIiLCJTZWxlY3Rpb25NaXhpbiIsInNlbGVjdGVkSXRlbXMiLCJfaXNTZWxlY3RlZCIsInNlbGVjdEl0ZW0iLCJkZXNlbGVjdEl0ZW0iLCJfc2VsZWN0ZWRJbnN0YW5jZUNoYW5nZWRDYWxsYmFjayIsInZhYWRpbl9ncmlkX3NvcnRfbWl4aW5fU29ydE1peGluIiwibXVsdGlTb3J0IiwiX3ByZXZpb3VzU29ydGVycyIsIl9vblNvcnRlckNoYW5nZWQiLCJzb3J0ZXJzIiwiX3JlbW92ZUFycmF5SXRlbSIsIl9hMTF5VXBkYXRlU29ydGVycyIsIlN0eWxpbmdNaXhpbiIsImNlbGxDbGFzc05hbWVHZW5lcmF0b3IiLCJjZWxsQ2xhc3NHZW5lcmF0b3IiLCJnZW5lcmF0ZUNlbGxDbGFzc05hbWVzIiwiX2dlbmVyYXRlQ2VsbENsYXNzTmFtZXMiLCJfX2dlbmVyYXRlZENsYXNzZXMiLCJjbGFzc05hbWUiLCJEcm9wTW9kZSIsIkRyb3BMb2NhdGlvbiIsIkRyYWdBbmREcm9wTWl4aW4iLCJkcm9wTW9kZSIsInJvd3NEcmFnZ2FibGUiLCJkcmFnRmlsdGVyIiwiZHJvcEZpbHRlciIsIl9fZG5kQXV0b1Njcm9sbFRocmVzaG9sZCIsIl9vbkRyYWdTdGFydCIsIl9vbkRyYWdFbmQiLCJfb25EcmFnT3ZlciIsIl9vbkRyYWdMZWF2ZSIsIl9vbkRyb3AiLCJfc2FmYXJpIiwicm93UmVjdCIsImRhdGFUcmFuc2ZlciIsInNldERyYWdJbWFnZSIsIl9fZ2V0Vmlld3BvcnRSb3dzIiwic2V0RGF0YSIsIl9fZm9ybWF0RGVmYXVsdFRyYW5zZmVyRGF0YSIsInVwZGF0ZVN0eWxlcyIsIi0tX2dyaWQtZHJhZy1zdGFydC14IiwiLS1fZ3JpZC1kcmFnLXN0YXJ0LXkiLCJkcmFnZ2VkSXRlbXMiLCJzZXREcmFnRGF0YSIsInNldERyYWdnZWRJdGVtc0NvdW50Iiwib3JpZ2luYWxFdmVudCIsIl9jbGVhckRyYWdTdHlsZXMiLCJfZHJvcExvY2F0aW9uIiwiX2RyYWdPdmVySXRlbSIsIl9fZG5kQXV0b1Njcm9sbCIsImRyb3BBYm92ZSIsIl9fZG5kQXV0b1Njcm9sbGluZyIsImhlYWRlckJvdHRvbSIsImZvb3RlclRvcCIsInRvcERpZmYiLCJib3R0b21EaWZmIiwic2Nyb2xsVG9wRGVsdGEiLCJkcmFnRGF0YSIsImdldERhdGEiLCJkcm9wVGFyZ2V0SXRlbSIsImRyb3BMb2NhdGlvbiIsImZpbHRlckRyYWdBbmREcm9wIiwiX2ZpbHRlckRyYWdBbmREcm9wIiwiZHJhZ0Rpc2FibGVkIiwiZHJvcERpc2FibGVkIiwiS2V5Ym9hcmROYXZpZ2F0aW9uTWl4aW4iLCJfaGVhZGVyRm9jdXNhYmxlIiwiX2Zvb3RlckZvY3VzYWJsZSIsIl9uYXZpZ2F0aW5nSXNIaWRkZW4iLCJfZm9jdXNlZENvbHVtbk9yZGVyIiwiX2FuZHJvaWQiLCJfb25LZXlEb3duIiwiX29uRm9jdXNJbiIsIl9vbkZvY3VzT3V0IiwiX29uQ2VsbEZvY3VzSW4iLCJfb25DZWxsRm9jdXNPdXQiLCJfaXNNb3VzZWRvd24iLCJmb2N1c2FibGUiLCJvbGRGb2N1c2FibGUiLCJrZXlHcm91cCIsIl9kZXRlY3RJbnRlcmFjdGluZyIsImluZGV4T2ZDaGlsZEVsZW1lbnQiLCJ2aXNpYmxlSXRlbXNDb3VudCIsImFjdGl2ZUNlbGwiLCJjb2x1bW5JbmRleCIsImlzUm93RGV0YWlscyIsIl9lbGVtZW50TWF0Y2hlcyIsImFjdGl2ZVJvdyIsImFjdGl2ZVJvd0dyb3VwIiwibWF4Um93SW5kZXgiLCJyb3dJbmRleCIsImRzdFJvd0luZGV4IiwiZHN0SXNSb3dEZXRhaWxzIiwiZHN0SXRlbSIsIl9nZXRDb2x1bW5zIiwiZHN0Q29sdW1ucyIsImRzdFNvcnRlZENvbHVtbk9yZGVycyIsIm1heE9yZGVyZWRDb2x1bW5JbmRleCIsIm9yZGVyZWRDb2x1bW5JbmRleCIsImRzdE9yZGVyZWRDb2x1bW5JbmRleCIsIl9lbnN1cmVTY3JvbGxlZFRvSW5kZXgiLCJkc3RDb2x1bW5JbmRleCIsImRzdFJvdyIsImRzdENlbGwiLCJfc2Nyb2xsSG9yaXpvbnRhbGx5VG9DZWxsIiwiZHN0UmVjdCIsInRhYmxlSW5kZXgiLCJyb3dHcm91cCIsImxvY2FsVGFyZ2V0SXNUZXh0SW5wdXQiLCJ3YW50SW50ZXJhY3RpbmciLCJfcGFyc2VFdmVudFBhdGgiLCJmb2N1c1RhcmdldCIsInNyY0VsZW1lbnQiLCJ0YWJPcmRlciIsImZvY3VzZXhpdCIsIl9wcmVkaWN0Rm9jdXNTdGVwVGFyZ2V0IiwiaXRlbXNGb2N1c1RhcmdldCIsImZvY3VzZWRJdGVtUm93Iiwid2FzTmF2aWdhdGluZyIsIl9hY3RpdmVSb3dHcm91cCIsIl9kZXRlY3RGb2N1c2VkSXRlbUluZGV4IiwiY29sdW1uVHJlZUxldmVsIiwiZmlyc3RWaXNpYmxlSW5kZXhSb3ciLCJkc3RDZWxsUmVjdCIsImRzdENlbGxJbmRleCIsInRhYmxlUmVjdCIsImxlZnRCb3VuZGFyeSIsInJpZ2h0Qm91bmRhcnkiLCJxdWVyeSIsInZhYWRpbl9ncmlkX2NvbHVtbl9yZW9yZGVyaW5nX21peGluX0NvbHVtblJlb3JkZXJpbmdNaXhpbiIsImNvbHVtblJlb3JkZXJpbmdBbGxvd2VkIiwiX29yZGVyQmFzZVNjb3BlIiwiX29uVHJhY2tFdmVudCIsIl9yZW9yZGVyR2hvc3QiLCJfb25Ub3VjaFN0YXJ0IiwiX29uVG91Y2hNb3ZlIiwiX29uVG91Y2hFbmQiLCJfb25Db250ZXh0TWVudSIsIl9zdGFydFRvdWNoUmVvcmRlclRpbWVvdXQiLCJfb25UcmFja1N0YXJ0IiwiX2RyYWdnZWRDb2x1bW4iLCJfb25UcmFja0VuZCIsImhlYWRlckNlbGwiLCJfdG91Y2hEZXZpY2UiLCJfb25UcmFjayIsIl9jZWxsRnJvbVBvaW50IiwiY2hpbGRFbGVtZW50Q291bnQiLCJfc2V0U2libGluZ3NSZW9yZGVyU3RhdHVzIiwiX3Jlb3JkZXJTdGF0dXMiLCJfdXBkYXRlR2hvc3QiLCJ2aXNpYmlsaXR5IiwiX3VwZGF0ZUdob3N0UG9zaXRpb24iLCJfYXV0b1Njcm9sbGVyIiwidGFyZ2V0Q29sdW1uIiwiX2dldFRhcmdldENvbHVtbiIsIl9pc1N3YXBBbGxvd2VkIiwiX2lzU3dhcHBhYmxlQnlQb3NpdGlvbiIsIl9zd2FwQ29sdW1uT3JkZXJzIiwiX2xhc3REcmFnQ2xpZW50WCIsIl9nZXRDb2x1bW5zSW5PcmRlciIsImV2ZW50Q2xpZW50WCIsImV2ZW50Q2xpZW50WSIsImdob3N0UmVjdCIsInRhcmdldExlZnQiLCJ0YXJnZXRUb3AiLCJfbGVmdCIsIl90b3AiLCJfZ2V0SW5uZXJUZXh0IiwiZ2hvc3QiLCJyaWdodERpZmYiLCJsZWZ0RGlmZiIsImFzeW5jIiwiY29sdW1uMSIsImNvbHVtbjIiLCJkaWZmZXJlbnRDb2x1bW5zIiwic2FtZVBhcmVudCIsInNhbWVGcm96ZW4iLCJzb3VyY2VDZWxsUmVjdCIsInRhcmdldFJlY3QiLCJfdXBkYXRlRmlyc3RBbmRMYXN0Q29sdW1uIiwiZHJhZ2dlZENvbHVtbiIsImNhbmRpZGF0ZSIsInZhYWRpbl9ncmlkX2NvbHVtbl9Db2x1bW5CYXNlTWl4aW4iLCJfZm9vdGVyVGVtcGxhdGUiLCJ0ZXh0QWxpZ24iLCJfZW1wdHlDZWxscyIsIl9oZWFkZXJDZWxsIiwiX2Zvb3RlckNlbGwiLCJmb290ZXJSZW5kZXJlciIsIl9ib2R5VGVtcGxhdGUiLCJfdGVtcGxhdGVPYnNlcnZlciIsIl9hbGxDZWxscyIsIl9maW5kSG9zdEdyaWQiLCJfZ3JpZFZhbHVlIiwiX2NlbGxzIiwiX3ByZXBhcmVIZWFkZXJUZW1wbGF0ZSIsIl9wcmVwYXJlRm9vdGVyVGVtcGxhdGUiLCJfcHJlcGFyZUJvZHlUZW1wbGF0ZSIsIl9wcmVwYXJlVGVtcGxhdGl6ZXIiLCJfZmluZFRlbXBsYXRlIiwiX19ydW5SZW5kZXJlciIsIl9fc2V0Q29sdW1uVGVtcGxhdGVPclJlbmRlcmVyIiwiaGVhZGVyVGVtcGxhdGUiLCJmb290ZXJUZW1wbGF0ZSIsImZvb3RlckNlbGwiLCJfX3VwZGF0ZUhlYWRlckZvb3RlclJvd1Zpc2liaWxpdHkiLCJfc2VsZWN0Rmlyc3RUZW1wbGF0ZSIsIl9yb290RGF0YUhvc3QiLCJfY29sdW1uUHJvcENoYW5nZWQiLCJfX2ZvcmNlUmVmbG93IiwiX2Zyb3plbkNlbGxzQ2hhbmdlZCIsImJvZHlUZW1wbGF0ZSIsImhhc0hlYWRlclRleHQiLCJfX3NldFRleHRDb250ZW50IiwicGF0aFJlbmRlcmVyIiwiX2dlbmVyYXRlSGVhZGVyIiwicmVvcmRlclN0YXR1cyIsImV4aXN0aW5nSGFuZGxlIiwidGV4dEFsaWduRmFsbGJhY2siLCJfcHJldmlvdXNIaWRkZW4iLCJfcmVzZXRLZXlib2FyZE5hdmlnYXRpb24iLCJ2YWFkaW5fZ3JpZF9jb2x1bW5fR3JpZENvbHVtbkVsZW1lbnQiLCJhdXRvV2lkdGgiLCJ2YWFkaW5fZ3JpZF9vdXRlcl9zY3JvbGxlcl9HcmlkT3V0ZXJTY3JvbGxlckVsZW1lbnQiLCJzY3JvbGxIYW5kbGVyIiwibm9TY3JvbGxiYXJzIiwiX3N5bmNTY3JvbGxUYXJnZXQiLCJfb25Nb3VzZU1vdmUiLCJ3ZWJraXRPdmVyZmxvd1Njcm9sbGluZyIsIm9mZnNldFkiLCJvZmZzZXRYIiwiVmFhZGluR3JpZFN0eWxlcyIsInNhZmFyaSIsInNjcm9sbGluZ1N0eWxlcyIsIlRPVUNIX0RFVklDRSIsInZhYWRpbl9ncmlkX0dyaWRFbGVtZW50IiwiX3RoaXMiLCJNU1N0cmVhbSIsInBsYXRmb3JtIiwibWF4VG91Y2hQb2ludHMiLCJfZmlyZWZveCIsImhlaWdodEJ5Um93cyIsIl9yZWNhbGN1bGF0ZUNvbHVtbldpZHRoT25jZUxvYWRpbmdGaW5pc2hlZCIsIl9vbkFuaW1hdGlvbkVuZCIsIl9faGFzUm93c1dpdGhDbGllbnRIZWlnaHQiLCJyZWNhbGN1bGF0ZUNvbHVtbldpZHRocyIsImNvbHMiLCJfb3JpZ0ZsZXhHcm93IiwiX2N1cnJlbnRXaWR0aCIsImNlbGxXaWR0aCIsIl9yZWNhbGN1bGF0ZUNvbHVtbldpZHRocyIsImJlZm9yZU5leHRSZW5kZXIiLCJzbG90TmFtZSIsIl9jb250ZW50SW5kZXgiLCJjaHJvbWUiLCJtb3VzZVVwTGlzdGVuZXIiLCJpc0NvbHVtblJvdyIsIm5vTm90aWZ5IiwiY29udGVudHNGcmFnbWVudCIsIl92YWNhbnQiLCJfY3JlYXRlQ2VsbCIsIl9jb25maWd1cmVEZXRhaWxzQ2VsbCIsIl9hMTF5U2V0Um93RGV0YWlsc0NlbGwiLCJ2aXNpYmxlUm93Q2VsbHMiLCJfcHJldmVudFNjcm9sbGVyUm90YXRpbmdDZWxsRm9jdXMiLCJfYTExeVVwZGF0ZVJvd1Jvd2luZGV4IiwiX2dldEl0ZW0iLCJfYTExeVVwZGF0ZVJvd1NlbGVjdGVkIiwiX2ExMXlVcGRhdGVSb3dMZXZlbCIsIl9fZGV0YWlsc09wZW5lZF9fIiwiX19zZWxlY3RlZF9fIiwiX19sZXZlbF9fIiwiX19leHBhbmRlZF9fIiwiX2RlYm91bmNlclVwZGF0ZUhlaWdodHMiLCJfdXBkYXRlRGV0YWlsc0NlbGxIZWlnaHRzIiwiaGVhZGVySGVpZ2h0IiwiZm9vdGVySGVpZ2h0IiwiYm9yZGVyQm90dG9tV2lkdGgiLCJhbmltYXRpb25OYW1lIiwiX2dldEluZGV4TGV2ZWwiLCJfcmVuZGVySGVhZGVyQW5kRm9vdGVyIiwiX2RlYm91bmNlckZvcmNlUmVmbG93IiwiQkxFX0NtZHMiLCJQaXRjaFBlcmZlY3RDb21wb25lbnRfTFNHX2NhcmluIiwiUkFXVkFMVUVTX1BFUl9ERUdSRUUiLCJyZWFkU3RhdHVzIiwiX2NsaWNrRHJvcERvd24iLCJfQlRMRWRhdGFjaGFuZ2VkIiwiYkRhdGEiLCJOT19DTUQiLCJidGxlU3RydWN0IiwiQ3JlYXRlQlRMRURhdGEiLCJjbGlja0Z1bmN0aW9uUmVhZCIsImNvbW1hbmRzIiwiY250IiwiZGF0YWVsZW1lbnQiLCJBcnJheUJ1ZmZlciIsInZpZXciLCJVaW50MzJBcnJheSIsImdldFVpbnQzMiIsIlNZTkNfQ01EIiwic2V0VWludDMyIiwiVEhSRVNIT0xEX0NNRCIsIkRGVV9DTUQiLCJBRFJfTFNCX0NNRCIsIkFEUl9SU1RfQ01EIiwiUkVBRF9USU1fQ01EIiwiU1RBUlRfTUVBU1VSSU5HX0NNRCIsIlNUT1BfTUVBU1VSSU5HX0NNRCIsInJldHZhbHMiLCJieXRlTGVuZ3RoIiwiUGFyc2VQaXRjaFBkYXRhIiwiTmV3SW5kZXgiLCJjYWxsZXJUaGlzIiwiZGF0YVR5cGUiLCJEYXRhU3RyZWFtX3R5cGUiLCJzZW5kIiwiSW50OEFycmF5IiwidHh0Iiwic3RyaW5nVG9BcnJheSIsInJlYWRTZW5zb3JFdmVudHMiLCJtYXhQaXRjaFZhbCIsIlBpdGNoUGVyZmVjdENvbXBvbmVudF9kZWNvcmF0ZSIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlclNXIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlB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LFNBQ0FDLGFBQUEsU0FDQUMsS0FBQSxNQUNBQyxXQUFBLFFBQ0FDLE1BQUEsU0FDQUMsTUFBQSxTQUNBQyxPQUFBLFNBQ0FDLE1BQUEsRUFDQUMsZUFBQSxTQUNBQyxLQUFBLElBQ0FDLFdBQUEsUUFDQUMsTUFBQSxTQUNBQyxVQUFBLFNBQ0FDLFVBQUEsUUFDQUMsV0FBQSxRQUNBQyxVQUFBLFNBQ0FDLE1BQUEsU0FDQUMsZUFBQSxRQUNBQyxTQUFBLFNBQ0FDLFFBQUEsU0FDQUMsS0FBQSxNQUNBQyxTQUFBLElBQ0FDLFNBQUEsTUFDQUMsY0FBQSxTQUNBQyxTQUFBLFNBQ0FDLFVBQUEsTUFDQUMsU0FBQSxTQUNBQyxVQUFBLFNBQ0FDLFlBQUEsUUFDQUMsZUFBQSxRQUNBQyxXQUFBLFNBQ0FDLFdBQUEsU0FDQUMsUUFBQSxRQUNBQyxXQUFBLFNBQ0FDLGFBQUEsUUFDQUMsY0FBQSxRQUNBQyxjQUFBLFFBQ0FDLGNBQUEsUUFDQUMsY0FBQSxNQUNBQyxXQUFBLFFBQ0FDLFNBQUEsU0FDQUMsWUFBQSxNQUNBQyxRQUFBLFFBQ0FDLFFBQUEsUUFDQUMsV0FBQSxRQUNBQyxVQUFBLFNBQ0FDLFlBQUEsU0FDQUMsWUFBQSxRQUNBQyxRQUFBLFNBQ0FDLFVBQUEsU0FDQUMsV0FBQSxTQUNBQyxLQUFBLFNBQ0FDLFVBQUEsU0FDQUMsS0FBQSxRQUNBQyxNQUFBLE1BQ0FDLFlBQUEsU0FDQUMsS0FBQSxRQUNBQyxTQUFBLFNBQ0FDLFFBQUEsU0FDQUMsVUFBQSxTQUNBQyxPQUFBLFFBQ0FDLE1BQUEsU0FDQUMsTUFBQSxTQUNBQyxTQUFBLFNBQ0FDLGNBQUEsU0FDQUMsVUFBQSxRQUNBQyxhQUFBLFNBQ0FDLFVBQUEsU0FDQUMsV0FBQSxTQUNBQyxVQUFBLFNBQ0FDLHFCQUFBLFNBQ0FDLFVBQUEsU0FDQUMsV0FBQSxRQUNBQyxVQUFBLFNBQ0FDLFVBQUEsU0FDQUMsWUFBQSxTQUNBQyxjQUFBLFFBQ0FDLGFBQUEsUUFDQUMsZUFBQSxRQUNBQyxlQUFBLFFBQ0FDLGVBQUEsU0FDQUMsWUFBQSxTQUNBQyxL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c0csQ0FBYyxnQkFFcEJycUgsU0FBU3dDLGVBQWUsUUFBU3RCLEtBQU9BLEVBQ3hDbEIsU0FBU3dDLGVBQWUsUUFBU3NYLE1BQU8sRUFsRTVDd3dHLEdBS0FqbUgsUUFBUUMsSUFBSSxvQkFLaEIsU0FBU3VsSCxHQUFnQnh4SCxFQUFZdVcsR0FHbkMsSUFBSXhJLEVBQVF3SSxFQUVSMjdHLEVBQWNseUgsRUFBTTR3SCxVQUFVN2lILEdBQXdCLEdBTzFELE9BTkFBLEdBQVMsR0FPUGpDLFNBTkZvbUgsR0FOMkIsS0FhekJubUgsU0FMdUIvTCxFQUFNNHdILFVBQVU3aUgsR0FBd0IsR0FNL0QwakgsU0FMRjFqSCxHQUFTLEdBa0RYLElBQVk2akgsR0F6VEVPLElBQVgvekcsa0NBQ1crekcsSUFBWC96Ryx3Q0FMVXd4RyxHQUFTdUMsSUFEckIzMEcsR0FBYyxxQkFDRm95RyxJQTZUYixTQUFZZ0MsR0FDVkEsSUFBQSxtQkFBVUEsSUFBQSxlQUFPQSxJQUFBLHFCQUFVQSxJQUFBLHlCQUQ3QixDQUFZQSxtQkN2VlpudEgsT0FBT3VFLGlCQUFpQixPQUFRLE1BSWhDNC9HLGlCQUNJLEdBQUksa0JBQW1CbG1HLFVBQ3JCLFVBQ1FBLFVBQVUwdkcsY0FBYy83RCxTQUFTLFdBQ3ZDLE1BQU83MEQsR0FDUHdLLFFBQVFDLElBQUksdURBQXdEekssUUFHdEV3SyxRQUFRQyxJQUFJLGdEQVhkb21IIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2OCk7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsIGV2YWwpKFwidGhpc1wiKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsIlwidXNlIHN0cmljdFwiO1xuY2xhc3MgU2VtYXBob3JlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb3VudCkge1xuICAgICAgICB0aGlzLnRhc2tzID0gW107XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICB9XG4gICAgc2NoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvdW50ID4gMCAmJiB0aGlzLnRhc2tzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQtLTtcbiAgICAgICAgICAgIGxldCBuZXh0ID0gdGhpcy50YXNrcy5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKG5leHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IFwiVW5leHBlY3RlZCB1bmRlZmluZWQgdmFsdWUgaW4gdGFza3MgbGlzdFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFjcXVpcmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICAgICAgICAgIHZhciB0YXNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciByZWxlYXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlcygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmVsZWFzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudGFza3MucHVzaCh0YXNrKTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzICYmIHByb2Nlc3MubmV4dFRpY2spIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKHRoaXMuc2NoZWQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUodGhpcy5zY2hlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVzZShmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmUoKVxuICAgICAgICAgICAgLnRoZW4ocmVsZWFzZSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZigpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TZW1hcGhvcmUgPSBTZW1hcGhvcmU7XG5jbGFzcyBNdXRleCBleHRlbmRzIFNlbWFwaG9yZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKDEpO1xuICAgIH1cbn1cbmV4cG9ydHMuTXV0ZXggPSBNdXRleDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsInZhciBzY29wZSA9ICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiICYmIGdsb2JhbCkgfHxcbiAgICAgICAgICAgICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmKSB8fFxuICAgICAgICAgICAgd2luZG93O1xudmFyIGFwcGx5ID0gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5O1xuXG4vLyBET00gQVBJcywgZm9yIGNvbXBsZXRlbmVzc1xuXG5leHBvcnRzLnNldFRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFyVGltZW91dCk7XG59O1xuZXhwb3J0cy5zZXRJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCwgc2NvcGUsIGFyZ3VtZW50cyksIGNsZWFySW50ZXJ2YWwpO1xufTtcbmV4cG9ydHMuY2xlYXJUaW1lb3V0ID1cbmV4cG9ydHMuY2xlYXJJbnRlcnZhbCA9IGZ1bmN0aW9uKHRpbWVvdXQpIHtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICB0aW1lb3V0LmNsb3NlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFRpbWVvdXQoaWQsIGNsZWFyRm4pIHtcbiAgdGhpcy5faWQgPSBpZDtcbiAgdGhpcy5fY2xlYXJGbiA9IGNsZWFyRm47XG59XG5UaW1lb3V0LnByb3RvdHlwZS51bnJlZiA9IFRpbWVvdXQucHJvdG90eXBlLnJlZiA9IGZ1bmN0aW9uKCkge307XG5UaW1lb3V0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9jbGVhckZuLmNhbGwoc2NvcGUsIHRoaXMuX2lkKTtcbn07XG5cbi8vIERvZXMgbm90IHN0YXJ0IHRoZSB0aW1lLCBqdXN0IHNldHMgdXAgdGhlIG1lbWJlcnMgbmVlZGVkLlxuZXhwb3J0cy5lbnJvbGwgPSBmdW5jdGlvbihpdGVtLCBtc2Vjcykge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gbXNlY3M7XG59O1xuXG5leHBvcnRzLnVuZW5yb2xsID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG4gIGl0ZW0uX2lkbGVUaW1lb3V0ID0gLTE7XG59O1xuXG5leHBvcnRzLl91bnJlZkFjdGl2ZSA9IGV4cG9ydHMuYWN0aXZlID0gZnVuY3Rpb24oaXRlbSkge1xuICBjbGVhclRpbWVvdXQoaXRlbS5faWRsZVRpbWVvdXRJZCk7XG5cbiAgdmFyIG1zZWNzID0gaXRlbS5faWRsZVRpbWVvdXQ7XG4gIGlmIChtc2VjcyA+PSAwKSB7XG4gICAgaXRlbS5faWRsZVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gb25UaW1lb3V0KCkge1xuICAgICAgaWYgKGl0ZW0uX29uVGltZW91dClcbiAgICAgICAgaXRlbS5fb25UaW1lb3V0KCk7XG4gICAgfSwgbXNlY3MpO1xuICB9XG59O1xuXG4vLyBzZXRpbW1lZGlhdGUgYXR0YWNoZXMgaXRzZWxmIHRvIHRoZSBnbG9iYWwgb2JqZWN0XG5yZXF1aXJlKFwic2V0aW1tZWRpYXRlXCIpO1xuLy8gT24gc29tZSBleG90aWMgZW52aXJvbm1lbnRzLCBpdCdzIG5vdCBjbGVhciB3aGljaCBvYmplY3QgYHNldGltbWVkaWF0ZWAgd2FzXG4vLyBhYmxlIHRvIGluc3RhbGwgb250by4gIFNlYXJjaCBlYWNoIHBvc3NpYmlsaXR5IGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZVxuLy8gYHNldGltbWVkaWF0ZWAgbGlicmFyeS5cbmV4cG9ydHMuc2V0SW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBnbG9iYWwuc2V0SW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAodGhpcyAmJiB0aGlzLnNldEltbWVkaWF0ZSk7XG5leHBvcnRzLmNsZWFySW1tZWRpYXRlID0gKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiICYmIHNlbGYuY2xlYXJJbW1lZGlhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgJiYgZ2xvYmFsLmNsZWFySW1tZWRpYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICh0aGlzICYmIHRoaXMuY2xlYXJJbW1lZGlhdGUpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXh0SGFuZGxlID0gMTsgLy8gU3BlYyBzYXlzIGdyZWF0ZXIgdGhhbiB6ZXJvXG4gICAgdmFyIHRhc2tzQnlIYW5kbGUgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UnVubmluZ0FUYXNrID0gZmFsc2U7XG4gICAgdmFyIGRvYyA9IGdsb2JhbC5kb2N1bWVudDtcbiAgICB2YXIgcmVnaXN0ZXJJbW1lZGlhdGU7XG5cbiAgICBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoY2FsbGJhY2spIHtcbiAgICAgIC8vIENhbGxiYWNrIGNhbiBlaXRoZXIgYmUgYSBmdW5jdGlvbiBvciBhIHN0cmluZ1xuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKFwiXCIgKyBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgICAvLyBDb3B5IGZ1bmN0aW9uIGFyZ3VtZW50c1xuICAgICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMV07XG4gICAgICB9XG4gICAgICAvLyBTdG9yZSBhbmQgcmVnaXN0ZXIgdGhlIHRhc2tcbiAgICAgIHZhciB0YXNrID0geyBjYWxsYmFjazogY2FsbGJhY2ssIGFyZ3M6IGFyZ3MgfTtcbiAgICAgIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV0gPSB0YXNrO1xuICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSk7XG4gICAgICByZXR1cm4gbmV4dEhhbmRsZSsrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bih0YXNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gICAgICAgIHZhciBhcmdzID0gdGFzay5hcmdzO1xuICAgICAgICBzd2l0Y2ggKGFyZ3MubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FsbGJhY2soYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bklmUHJlc2VudChoYW5kbGUpIHtcbiAgICAgICAgLy8gRnJvbSB0aGUgc3BlYzogXCJXYWl0IHVudGlsIGFueSBpbnZvY2F0aW9ucyBvZiB0aGlzIGFsZ29yaXRobSBzdGFydGVkIGJlZm9yZSB0aGlzIG9uZSBoYXZlIGNvbXBsZXRlZC5cIlxuICAgICAgICAvLyBTbyBpZiB3ZSdyZSBjdXJyZW50bHkgcnVubmluZyBhIHRhc2ssIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBpbnZvY2F0aW9uLlxuICAgICAgICBpZiAoY3VycmVudGx5UnVubmluZ0FUYXNrKSB7XG4gICAgICAgICAgICAvLyBEZWxheSBieSBkb2luZyBhIHNldFRpbWVvdXQuIHNldEltbWVkaWF0ZSB3YXMgdHJpZWQgaW5zdGVhZCwgYnV0IGluIEZpcmVmb3ggNyBpdCBnZW5lcmF0ZWQgYVxuICAgICAgICAgICAgLy8gXCJ0b28gbXVjaCByZWN1cnNpb25cIiBlcnJvci5cbiAgICAgICAgICAgIHNldFRpbWVvdXQocnVuSWZQcmVzZW50LCAwLCBoYW5kbGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhc2sgPSB0YXNrc0J5SGFuZGxlW2hhbmRsZV07XG4gICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcnVuKHRhc2spO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW1tZWRpYXRlKGhhbmRsZSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVJ1bm5pbmdBVGFzayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbGxOZXh0VGlja0ltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7IHJ1bklmUHJlc2VudChoYW5kbGUpOyB9KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYW5Vc2VQb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgLy8gVGhlIHRlc3QgYWdhaW5zdCBgaW1wb3J0U2NyaXB0c2AgcHJldmVudHMgdGhpcyBpbXBsZW1lbnRhdGlvbiBmcm9tIGJlaW5nIGluc3RhbGxlZCBpbnNpZGUgYSB3ZWIgd29ya2VyLFxuICAgICAgICAvLyB3aGVyZSBgZ2xvYmFsLnBvc3RNZXNzYWdlYCBtZWFucyBzb21ldGhpbmcgY29tcGxldGVseSBkaWZmZXJlbnQgYW5kIGNhbid0IGJlIHVzZWQgZm9yIHRoaXMgcHVycG9zZS5cbiAgICAgICAgaWYgKGdsb2JhbC5wb3N0TWVzc2FnZSAmJiAhZ2xvYmFsLmltcG9ydFNjcmlwdHMpIHtcbiAgICAgICAgICAgIHZhciBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBvbGRPbk1lc3NhZ2UgPSBnbG9iYWwub25tZXNzYWdlO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXMgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIiwgXCIqXCIpO1xuICAgICAgICAgICAgZ2xvYmFsLm9ubWVzc2FnZSA9IG9sZE9uTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIC8vIEluc3RhbGxzIGFuIGV2ZW50IGhhbmRsZXIgb24gYGdsb2JhbGAgZm9yIHRoZSBgbWVzc2FnZWAgZXZlbnQ6IHNlZVxuICAgICAgICAvLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL0RPTS93aW5kb3cucG9zdE1lc3NhZ2VcbiAgICAgICAgLy8gKiBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS9jb21tcy5odG1sI2Nyb3NzRG9jdW1lbnRNZXNzYWdlc1xuXG4gICAgICAgIHZhciBtZXNzYWdlUHJlZml4ID0gXCJzZXRJbW1lZGlhdGUkXCIgKyBNYXRoLnJhbmRvbSgpICsgXCIkXCI7XG4gICAgICAgIHZhciBvbkdsb2JhbE1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gZ2xvYmFsICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGV2ZW50LmRhdGEgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICBldmVudC5kYXRhLmluZGV4T2YobWVzc2FnZVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdsb2JhbC5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLCBvbkdsb2JhbE1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4ICsgaGFuZGxlLCBcIipcIik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFsbE1lc3NhZ2VDaGFubmVsSW1wbGVtZW50YXRpb24oKSB7XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCk7XG4gICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGUgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcnVuSWZQcmVzZW50KGhhbmRsZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVnaXN0ZXJJbW1lZGlhdGUgPSBmdW5jdGlvbihoYW5kbGUpIHtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICB2YXIgaHRtbCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIHJlZ2lzdGVySW1tZWRpYXRlID0gZnVuY3Rpb24oaGFuZGxlKSB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgICAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJ1bklmUHJlc2VudChoYW5kbGUpO1xuICAgICAgICAgICAgICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgICAgICAgICBzY3JpcHQgPSBudWxsO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGh0bWwuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YWxsU2V0VGltZW91dEltcGxlbWVudGF0aW9uKCkge1xuICAgICAgICByZWdpc3RlckltbWVkaWF0ZSA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgICAgICAgICAgc2V0VGltZW91dChydW5JZlByZXNlbnQsIDAsIGhhbmRsZSk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSWYgc3VwcG9ydGVkLCB3ZSBzaG91bGQgYXR0YWNoIHRvIHRoZSBwcm90b3R5cGUgb2YgZ2xvYmFsLCBzaW5jZSB0aGF0IGlzIHdoZXJlIHNldFRpbWVvdXQgZXQgYWwuIGxpdmUuXG4gICAgdmFyIGF0dGFjaFRvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihnbG9iYWwpO1xuICAgIGF0dGFjaFRvID0gYXR0YWNoVG8gJiYgYXR0YWNoVG8uc2V0VGltZW91dCA/IGF0dGFjaFRvIDogZ2xvYmFsO1xuXG4gICAgLy8gRG9uJ3QgZ2V0IGZvb2xlZCBieSBlLmcuIGJyb3dzZXJpZnkgZW52aXJvbm1lbnRzLlxuICAgIGlmICh7fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKSA9PT0gXCJbb2JqZWN0IHByb2Nlc3NdXCIpIHtcbiAgICAgICAgLy8gRm9yIE5vZGUuanMgYmVmb3JlIDAuOVxuICAgICAgICBpbnN0YWxsTmV4dFRpY2tJbXBsZW1lbnRhdGlvbigpO1xuXG4gICAgfSBlbHNlIGlmIChjYW5Vc2VQb3N0TWVzc2FnZSgpKSB7XG4gICAgICAgIC8vIEZvciBub24tSUUxMCBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFBvc3RNZXNzYWdlSW1wbGVtZW50YXRpb24oKTtcblxuICAgIH0gZWxzZSBpZiAoZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKSB7XG4gICAgICAgIC8vIEZvciB3ZWIgd29ya2Vycywgd2hlcmUgc3VwcG9ydGVkXG4gICAgICAgIGluc3RhbGxNZXNzYWdlQ2hhbm5lbEltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2UgaWYgKGRvYyAmJiBcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiIGluIGRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpKSB7XG4gICAgICAgIC8vIEZvciBJRSA24oCTOFxuICAgICAgICBpbnN0YWxsUmVhZHlTdGF0ZUNoYW5nZUltcGxlbWVudGF0aW9uKCk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGb3Igb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaW5zdGFsbFNldFRpbWVvdXRJbXBsZW1lbnRhdGlvbigpO1xuICAgIH1cblxuICAgIGF0dGFjaFRvLnNldEltbWVkaWF0ZSA9IHNldEltbWVkaWF0ZTtcbiAgICBhdHRhY2hUby5jbGVhckltbWVkaWF0ZSA9IGNsZWFySW1tZWRpYXRlO1xufSh0eXBlb2Ygc2VsZiA9PT0gXCJ1bmRlZmluZWRcIiA/IHR5cGVvZiBnbG9iYWwgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzIDogZ2xvYmFsIDogc2VsZikpO1xuIiwiZnVuY3Rpb24gUmVhZEFkcmVzc0Zyb21CYWNrQW5kU2VuZFRvRnJvbnQoKVxyXG57XHJcbiAgXHJcbn1cclxuXHJcbi8vY29uc3QgZ3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZhYWRpbi1ncmlkJyk7XHJcbmNvbnN0IGdyaWRfYmFjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdCYWNrR3JpZCcpO1xyXG5cclxuY29uc3QgY29sdW1ucyA9IGdyaWRfYmFjay5xdWVyeVNlbGVjdG9yQWxsKCd2YWFkaW4tZ3JpZC1jb2x1bW4nKTtcclxuXHJcbmNvbHVtbnNbMF0uaGVhZGVyUmVuZGVyZXIgPSBmdW5jdGlvbihyb290KSB7XHJcbiAgcm9vdC50ZXh0Q29udGVudCA9ICdQaXRjaCc7XHJcbn07XHJcbmNvbHVtbnNbMF0ucmVuZGVyZXIgPSBmdW5jdGlvbihyb290LCBjb2x1bW4sIHJvd0RhdGEpIHtcclxuICByb290LnRleHRDb250ZW50ID0gcm93RGF0YS5pdGVtLnBpdGNoO1xyXG59O1xyXG5cclxuY29sdW1uc1sxXS5oZWFkZXJSZW5kZXJlciA9IGZ1bmN0aW9uKHJvb3QpIHtcclxuICByb290LnRleHRDb250ZW50ID0gJ1RpbWUnO1xyXG59O1xyXG5jb2x1bW5zWzFdLnJlbmRlcmVyID0gZnVuY3Rpb24ocm9vdCwgY29sdW1uLCByb3dEYXRhKSB7XHJcbiAgcm9vdC50ZXh0Q29udGVudCA9IHJvd0RhdGEuaXRlbS50aW1lO1xyXG59O1xyXG5cclxuY29uc3QgZ3JpZF9mcm9udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdGcm9udEdyaWQnKTtcclxuXHJcbmNvbnN0IGNvbHVtbnNmID0gZ3JpZF9mcm9udC5xdWVyeVNlbGVjdG9yQWxsKCd2YWFkaW4tZ3JpZC1jb2x1bW4nKTtcclxuXHJcbmNvbHVtbnNmWzBdLmhlYWRlclJlbmRlcmVyID0gZnVuY3Rpb24ocm9vdCkge1xyXG4gIHJvb3QudGV4dENvbnRlbnQgPSAnUGl0Y2gnO1xyXG59O1xyXG5jb2x1bW5zZlswXS5yZW5kZXJlciA9IGZ1bmN0aW9uKHJvb3QsIGNvbHVtbiwgcm93RGF0YSkge1xyXG4gIHJvb3QudGV4dENvbnRlbnQgPSByb3dEYXRhLml0ZW0ucGl0Y2g7XHJcbn07XHJcblxyXG5jb2x1bW5zZlsxXS5oZWFkZXJSZW5kZXJlciA9IGZ1bmN0aW9uKHJvb3QpIHtcclxuICByb290LnRleHRDb250ZW50ID0gJ1RpbWUnO1xyXG59O1xyXG5jb2x1bW5zZlsxXS5yZW5kZXJlciA9IGZ1bmN0aW9uKHJvb3QsIGNvbHVtbiwgcm93RGF0YSkge1xyXG4gIHJvb3QudGV4dENvbnRlbnQgPSByb3dEYXRhLml0ZW0udGltZTtcclxufTtcclxuXHJcbi8vY29sdW1uc1syXS5oZWFkZXJSZW5kZXJlciA9IGZ1bmN0aW9uKHJvb3QpIHtcclxuLy8gIHJvb3QudGV4dENvbnRlbnQgPSAnUm9sZSc7XHJcbi8vfTtcclxuLy9jb2x1bW5zWzJdLnJlbmRlcmVyID0gZnVuY3Rpb24ocm9vdCwgY29sdW1uLCByb3dEYXRhKSB7XHJcbi8vICByb290LnRleHRDb250ZW50ID0gcm93RGF0YS5pdGVtLnJvbGU7XHJcbi8vfTtcclxuXHJcbnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IFxyXG4gIGdyaWRfYmFjay5pdGVtcyA9IFt7J3BpdGNoJzogNDAwLCAndGltZSc6ICdMZW5ub24nfSxcclxuICB7J3BpdGNoJzogNTA2LCAndGltZSc6ICdTdGFycid9XTtcclxuXHJcbiB9LCA1MDAwKTtcclxuXHJcbiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluZm9iYXJcIikuaW5uZXJIVE1MID0gXCJubyBkYXRhXCIgKyBcIm5vIGRhdGFcIjtcclxuXHJcbnZhciB0aW1lckF0TWF4UGl0Y2hfYmFjayA9IDEwMDAwMDtcclxudmFyIHRpbWVyQXRNYXhQaXRjaF9mcm9udCA9IDA7XHJcbnZhciBtYXhQaXRjaF9mcm9udCA9IDAuMDtcclxudmFyIG1heFBpdGNoX2JhY2sgID0gMC4wO1xyXG5cclxuZnVuY3Rpb24gQ2FsY3VsYXRlQW5kVXBkYXRlVGV4dCgpXHJcbntcclxuICBsZXQgZGlmZiA9ICgodGltZXJBdE1heFBpdGNoX2JhY2sgLSB0aW1lckF0TWF4UGl0Y2hfZnJvbnQpLygzMi43NjgpKS50b0ZpeGVkKDApO1xyXG4gIGxldCB0ZXh0ID0gXCJQaXRjaCBCYWNrOiBcIiArIG1heFBpdGNoX2JhY2sudG9GaXhlZCgwKS50b1N0cmluZygpICsgXCIgICAgUGl0Y2ggRnJvbnQ6IFwiICsgbWF4UGl0Y2hfZnJvbnQudG9GaXhlZCgwKS50b1N0cmluZygpICsgXCIgICAgVGltZURpZmY6IFwiICsgZGlmZi50b1N0cmluZygpIDtcclxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluZm9iYXJcIikuaW5uZXJIVE1MID0gdGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gQlRMRXBpdGNoZGF0YWNoYW5nZWRfYmFjayhldnQpIHtcclxuICB2YXIgdmFsdWUgPSBldnQuZGV0YWlsLm1lc3NhZ2U7XHJcbiAgaWYgKHZhbHVlLmxlbmd0aCA+IDEpXHJcbiAge1xyXG4gICAgZm9yICh4PTA7IHggPCB2YWx1ZS5sZW5ndGg7IHgrKylcclxuICAgIHtcclxuICAgICAgaWYgKHg9PTApXHJcbiAgICAgICAgZ3JpZF9iYWNrLml0ZW1zID0gW3sncGl0Y2gnOiB2YWx1ZVt4XS5QaXRjaFZhbC50b0ZpeGVkKDApLCAndGltZSc6IHZhbHVlW3hdLlRpbWVyVmFsLnRvRml4ZWQoMCl9XTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgIGdyaWRfYmFjay5pdGVtcyA9IGdyaWRfYmFjay5pdGVtcy5jb25jYXQoW3sncGl0Y2gnOiB2YWx1ZVt4XS5QaXRjaFZhbC50b0ZpeGVkKDApLCAndGltZSc6IHZhbHVlW3hdLlRpbWVyVmFsLnRvRml4ZWQoMCl9XSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGVsc2VcclxuICB7XHJcbiAgICB0aW1lckF0TWF4UGl0Y2hfYmFjayA9IHZhbHVlWzBdLlRpbWVyVmFsO1xyXG4gICAgbWF4UGl0Y2hfYmFjayA9IHZhbHVlWzBdLlBpdGNoVmFsO1xyXG4gICAgQ2FsY3VsYXRlQW5kVXBkYXRlVGV4dCgpO1xyXG4gIH1cclxuICBjb25zb2xlLmxvZyhcImJhY2sgZXZlbnRcIiwgdmFsdWUpO1xyXG4gIC8vIHZhciBkc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRleHRlbGVtZW50XCIpO1xyXG4gIC8vIGRzdC50ZXh0Q29udGVudCArPSB0eHQyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBCVExFcGl0Y2hkYXRhY2hhbmdlZF9mcm9udChldnQpIHtcclxuICB2YXIgdmFsdWUgPSBldnQuZGV0YWlsLm1lc3NhZ2U7XHJcblxyXG4gIGlmICh2YWx1ZS5sZW5ndGggPiAxKVxyXG4gIHtcclxuICAgIGZvciAoeD0wOyB4IDwgdmFsdWUubGVuZ3RoOyB4KyspXHJcbiAgICB7XHJcbiAgICAgIGlmICh4PT0wKVxyXG4gICAgICAgIGdyaWRfZnJvbnQuaXRlbXMgPSBbeydwaXRjaCc6IHZhbHVlW3hdLlBpdGNoVmFsLnRvRml4ZWQoMCksICd0aW1lJzogdmFsdWVbeF0uVGltZXJWYWwudG9GaXhlZCgwKX1dO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgZ3JpZF9mcm9udC5pdGVtcyA9IGdyaWRfZnJvbnQuaXRlbXMuY29uY2F0KFt7J3BpdGNoJzogdmFsdWVbeF0uUGl0Y2hWYWwudG9GaXhlZCgwKSwgJ3RpbWUnOiB2YWx1ZVt4XS5UaW1lclZhbC50b0ZpeGVkKDApfV0pO1xyXG4gICAgfVxyXG4gIH1cclxuICBlbHNlXHJcbiAge1xyXG4gICAgdGltZXJBdE1heFBpdGNoX2Zyb250ID0gdmFsdWVbMF0uVGltZXJWYWw7XHJcbiAgICBtYXhQaXRjaF9mcm9udCA9IHZhbHVlWzBdLlBpdGNoVmFsO1xyXG4gICAgQ2FsY3VsYXRlQW5kVXBkYXRlVGV4dCgpO1xyXG4gIH1cclxufVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcF9iYWNrXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJwaXRjaHBlcmZlY3QtZGF0YS1ldmVudFwiLCBCVExFcGl0Y2hkYXRhY2hhbmdlZF9iYWNrKTtcclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcF9mcm9udFwiKS5hZGRFdmVudExpc3RlbmVyKFwicGl0Y2hwZXJmZWN0LWRhdGEtZXZlbnRcIiwgQlRMRXBpdGNoZGF0YWNoYW5nZWRfZnJvbnQpO1xyXG5cclxuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgZGlyZWN0aXZlcyA9IG5ldyBXZWFrTWFwKCk7XG4vKipcbiAqIEJyYW5kcyBhIGZ1bmN0aW9uIGFzIGEgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gc28gdGhhdCBsaXQtaHRtbCB3aWxsIGNhbGxcbiAqIHRoZSBmdW5jdGlvbiBkdXJpbmcgdGVtcGxhdGUgcmVuZGVyaW5nLCByYXRoZXIgdGhhbiBwYXNzaW5nIGFzIGEgdmFsdWUuXG4gKlxuICogQSBfZGlyZWN0aXZlXyBpcyBhIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSBQYXJ0IGFzIGFuIGFyZ3VtZW50LiBJdCBoYXMgdGhlXG4gKiBzaWduYXR1cmU6IGAocGFydDogUGFydCkgPT4gdm9pZGAuXG4gKlxuICogQSBkaXJlY3RpdmUgX2ZhY3RvcnlfIGlzIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhcmd1bWVudHMgZm9yIGRhdGEgYW5kXG4gKiBjb25maWd1cmF0aW9uIGFuZCByZXR1cm5zIGEgZGlyZWN0aXZlLiBVc2VycyBvZiBkaXJlY3RpdmUgdXN1YWxseSByZWZlciB0b1xuICogdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGFzIHRoZSBkaXJlY3RpdmUuIEZvciBleGFtcGxlLCBcIlRoZSByZXBlYXQgZGlyZWN0aXZlXCIuXG4gKlxuICogVXN1YWxseSBhIHRlbXBsYXRlIGF1dGhvciB3aWxsIGludm9rZSBhIGRpcmVjdGl2ZSBmYWN0b3J5IGluIHRoZWlyIHRlbXBsYXRlXG4gKiB3aXRoIHJlbGV2YW50IGFyZ3VtZW50cywgd2hpY2ggd2lsbCB0aGVuIHJldHVybiBhIGRpcmVjdGl2ZSBmdW5jdGlvbi5cbiAqXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiB1c2luZyB0aGUgYHJlcGVhdCgpYCBkaXJlY3RpdmUgZmFjdG9yeSB0aGF0IHRha2VzIGFuXG4gKiBhcnJheSBhbmQgYSBmdW5jdGlvbiB0byByZW5kZXIgYW4gaXRlbTpcbiAqXG4gKiBgYGBqc1xuICogaHRtbGA8dWw+PCR7cmVwZWF0KGl0ZW1zLCAoaXRlbSkgPT4gaHRtbGA8bGk+JHtpdGVtfTwvbGk+YCl9PC91bD5gXG4gKiBgYGBcbiAqXG4gKiBXaGVuIGByZXBlYXRgIGlzIGludm9rZWQsIGl0IHJldHVybnMgYSBkaXJlY3RpdmUgZnVuY3Rpb24gdGhhdCBjbG9zZXMgb3ZlclxuICogYGl0ZW1zYCBhbmQgdGhlIHRlbXBsYXRlIGZ1bmN0aW9uLiBXaGVuIHRoZSBvdXRlciB0ZW1wbGF0ZSBpcyByZW5kZXJlZCwgdGhlXG4gKiByZXR1cm4gZGlyZWN0aXZlIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aXRoIHRoZSBQYXJ0IGZvciB0aGUgZXhwcmVzc2lvbi5cbiAqIGByZXBlYXRgIHRoZW4gcGVyZm9ybXMgaXQncyBjdXN0b20gbG9naWMgdG8gcmVuZGVyIG11bHRpcGxlIGl0ZW1zLlxuICpcbiAqIEBwYXJhbSBmIFRoZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gTXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhXG4gKiBmdW5jdGlvbiBvZiB0aGUgc2lnbmF0dXJlIGAocGFydDogUGFydCkgPT4gdm9pZGAuIFRoZSByZXR1cm5lZCBmdW5jdGlvbiB3aWxsXG4gKiBiZSBjYWxsZWQgd2l0aCB0aGUgcGFydCBvYmplY3QuXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQge2RpcmVjdGl2ZSwgaHRtbH0gZnJvbSAnbGl0LWh0bWwnO1xuICpcbiAqIGNvbnN0IGltbXV0YWJsZSA9IGRpcmVjdGl2ZSgodikgPT4gKHBhcnQpID0+IHtcbiAqICAgaWYgKHBhcnQudmFsdWUgIT09IHYpIHtcbiAqICAgICBwYXJ0LnNldFZhbHVlKHYpXG4gKiAgIH1cbiAqIH0pO1xuICovXG5leHBvcnQgY29uc3QgZGlyZWN0aXZlID0gKGYpID0+ICgoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGQgPSBmKC4uLmFyZ3MpO1xuICAgIGRpcmVjdGl2ZXMuc2V0KGQsIHRydWUpO1xuICAgIHJldHVybiBkO1xufSk7XG5leHBvcnQgY29uc3QgaXNEaXJlY3RpdmUgPSAobykgPT4ge1xuICAgIHJldHVybiB0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJyAmJiBkaXJlY3RpdmVzLmhhcyhvKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXJlY3RpdmUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBUcnVlIGlmIHRoZSBjdXN0b20gZWxlbWVudHMgcG9seWZpbGwgaXMgaW4gdXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNDRVBvbHlmaWxsID0gd2luZG93LmN1c3RvbUVsZW1lbnRzICE9PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMucG9seWZpbGxXcmFwRmx1c2hDYWxsYmFjayAhPT1cbiAgICAgICAgdW5kZWZpbmVkO1xuLyoqXG4gKiBSZXBhcmVudHMgbm9kZXMsIHN0YXJ0aW5nIGZyb20gYHN0YXJ0YCAoaW5jbHVzaXZlKSB0byBgZW5kYCAoZXhjbHVzaXZlKSxcbiAqIGludG8gYW5vdGhlciBjb250YWluZXIgKGNvdWxkIGJlIHRoZSBzYW1lIGNvbnRhaW5lciksIGJlZm9yZSBgYmVmb3JlYC4gSWZcbiAqIGBiZWZvcmVgIGlzIG51bGwsIGl0IGFwcGVuZHMgdGhlIG5vZGVzIHRvIHRoZSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZXBhcmVudE5vZGVzID0gKGNvbnRhaW5lciwgc3RhcnQsIGVuZCA9IG51bGwsIGJlZm9yZSA9IG51bGwpID0+IHtcbiAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkge1xuICAgICAgICBjb25zdCBuID0gc3RhcnQubmV4dFNpYmxpbmc7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoc3RhcnQsIGJlZm9yZSk7XG4gICAgICAgIHN0YXJ0ID0gbjtcbiAgICB9XG59O1xuLyoqXG4gKiBSZW1vdmVzIG5vZGVzLCBzdGFydGluZyBmcm9tIGBzdGFydGAgKGluY2x1c2l2ZSkgdG8gYGVuZGAgKGV4Y2x1c2l2ZSksIGZyb21cbiAqIGBjb250YWluZXJgLlxuICovXG5leHBvcnQgY29uc3QgcmVtb3ZlTm9kZXMgPSAoY29udGFpbmVyLCBzdGFydCwgZW5kID0gbnVsbCkgPT4ge1xuICAgIHdoaWxlIChzdGFydCAhPT0gZW5kKSB7XG4gICAgICAgIGNvbnN0IG4gPSBzdGFydC5uZXh0U2libGluZztcbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHN0YXJ0KTtcbiAgICAgICAgc3RhcnQgPSBuO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kb20uanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE4IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBBIHNlbnRpbmVsIHZhbHVlIHRoYXQgc2lnbmFscyB0aGF0IGEgdmFsdWUgd2FzIGhhbmRsZWQgYnkgYSBkaXJlY3RpdmUgYW5kXG4gKiBzaG91bGQgbm90IGJlIHdyaXR0ZW4gdG8gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vQ2hhbmdlID0ge307XG4vKipcbiAqIEEgc2VudGluZWwgdmFsdWUgdGhhdCBzaWduYWxzIGEgTm9kZVBhcnQgdG8gZnVsbHkgY2xlYXIgaXRzIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBub3RoaW5nID0ge307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJ0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQW4gZXhwcmVzc2lvbiBtYXJrZXIgd2l0aCBlbWJlZGRlZCB1bmlxdWUga2V5IHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoXG4gKiBwb3NzaWJsZSB0ZXh0IGluIHRlbXBsYXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hcmtlciA9IGB7e2xpdC0ke1N0cmluZyhNYXRoLnJhbmRvbSgpKS5zbGljZSgyKX19fWA7XG4vKipcbiAqIEFuIGV4cHJlc3Npb24gbWFya2VyIHVzZWQgdGV4dC1wb3NpdGlvbnMsIG11bHRpLWJpbmRpbmcgYXR0cmlidXRlcywgYW5kXG4gKiBhdHRyaWJ1dGVzIHdpdGggbWFya3VwLWxpa2UgdGV4dCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBub2RlTWFya2VyID0gYDwhLS0ke21hcmtlcn0tLT5gO1xuZXhwb3J0IGNvbnN0IG1hcmtlclJlZ2V4ID0gbmV3IFJlZ0V4cChgJHttYXJrZXJ9fCR7bm9kZU1hcmtlcn1gKTtcbi8qKlxuICogU3VmZml4IGFwcGVuZGVkIHRvIGFsbCBib3VuZCBhdHRyaWJ1dGUgbmFtZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCA9ICckbGl0JCc7XG4vKipcbiAqIEFuIHVwZGF0ZWFibGUgVGVtcGxhdGUgdGhhdCB0cmFja3MgdGhlIGxvY2F0aW9uIG9mIGR5bmFtaWMgcGFydHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBUZW1wbGF0ZSB7XG4gICAgY29uc3RydWN0b3IocmVzdWx0LCBlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgY29uc3Qgbm9kZXNUb1JlbW92ZSA9IFtdO1xuICAgICAgICBjb25zdCBzdGFjayA9IFtdO1xuICAgICAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbGVtZW50LmNvbnRlbnQsIDEzMyAvKiBOb2RlRmlsdGVyLlNIT1dfe0VMRU1FTlR8Q09NTUVOVHxURVhUfSAqLywgbnVsbCwgZmFsc2UpO1xuICAgICAgICAvLyBLZWVwcyB0cmFjayBvZiB0aGUgbGFzdCBpbmRleCBhc3NvY2lhdGVkIHdpdGggYSBwYXJ0LiBXZSB0cnkgdG8gZGVsZXRlXG4gICAgICAgIC8vIHVubmVjZXNzYXJ5IG5vZGVzLCBidXQgd2UgbmV2ZXIgd2FudCB0byBhc3NvY2lhdGUgdHdvIGRpZmZlcmVudCBwYXJ0c1xuICAgICAgICAvLyB0byB0aGUgc2FtZSBpbmRleC4gVGhleSBtdXN0IGhhdmUgYSBjb25zdGFudCBub2RlIGJldHdlZW4uXG4gICAgICAgIGxldCBsYXN0UGFydEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBjb25zdCB7IHN0cmluZ3MsIHZhbHVlczogeyBsZW5ndGggfSB9ID0gcmVzdWx0O1xuICAgICAgICB3aGlsZSAocGFydEluZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIGV4aGF1c3RlZCB0aGUgY29udGVudCBpbnNpZGUgYSBuZXN0ZWQgdGVtcGxhdGUgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlIHN0aWxsIGhhdmUgcGFydHMgKHRoZSBvdXRlciBmb3ItbG9vcCksIHdlIGtub3c6XG4gICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHRlbXBsYXRlIGluIHRoZSBzdGFja1xuICAgICAgICAgICAgICAgIC8vIC0gVGhlIHdhbGtlciB3aWxsIGZpbmQgYSBuZXh0Tm9kZSBvdXRzaWRlIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxIC8qIE5vZGUuRUxFTUVOVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSBhdHRyaWJ1dGVzO1xuICAgICAgICAgICAgICAgICAgICAvLyBQZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hbWVkTm9kZU1hcCxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXR0cmlidXRlcyBhcmUgbm90IGd1YXJhbnRlZWQgdG8gYmUgcmV0dXJuZWQgaW4gZG9jdW1lbnQgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIEVkZ2UvSUUgY2FuIHJldHVybiB0aGVtIG91dCBvZiBvcmRlciwgc28gd2UgY2Fubm90XG4gICAgICAgICAgICAgICAgICAgIC8vIGFzc3VtZSBhIGNvcnJlc3BvbmRlbmNlIGJldHdlZW4gcGFydCBpbmRleCBhbmQgYXR0cmlidXRlIGluZGV4LlxuICAgICAgICAgICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kc1dpdGgoYXR0cmlidXRlc1tpXS5uYW1lLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb3VudC0tID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIHNlY3Rpb24gbGVhZGluZyB1cCB0byB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gaW4gdGhpcyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ0ZvclBhcnQgPSBzdHJpbmdzW3BhcnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5kIHRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXguZXhlYyhzdHJpbmdGb3JQYXJ0KVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGwgYm91bmQgYXR0cmlidXRlcyBoYXZlIGhhZCBhIHN1ZmZpeCBhZGRlZCBpblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGVtcGxhdGVSZXN1bHQjZ2V0SFRNTCB0byBvcHQgb3V0IG9mIHNwZWNpYWwgYXR0cmlidXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZy4gVG8gbG9vayB1cCB0aGUgYXR0cmlidXRlIHZhbHVlIHdlIGFsc28gbmVlZCB0byBhZGRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBzdWZmaXguXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVMb29rdXBOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpICsgYm91bmRBdHRyaWJ1dGVTdWZmaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVWYWx1ZSA9IG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZUxvb2t1cE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlTG9va3VwTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0aWNzID0gYXR0cmlidXRlVmFsdWUuc3BsaXQobWFya2VyUmVnZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ2F0dHJpYnV0ZScsIGluZGV4LCBuYW1lLCBzdHJpbmdzOiBzdGF0aWNzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ICs9IHN0YXRpY3MubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lID09PSAnVEVNUExBVEUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IG5vZGUuY29udGVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5pbmRleE9mKG1hcmtlcikgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0cmluZ3MgPSBkYXRhLnNwbGl0KG1hcmtlclJlZ2V4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEluZGV4ID0gc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0ZXh0IG5vZGUgZm9yIGVhY2ggbGl0ZXJhbCBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIG5vZGVzIGFyZSBhbHNvIHVzZWQgYXMgdGhlIG1hcmtlcnMgZm9yIG5vZGUgcGFydHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYXN0SW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGluc2VydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzID0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydCA9IGNyZWF0ZU1hcmtlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBsYXN0QXR0cmlidXRlTmFtZVJlZ2V4LmV4ZWMocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsICYmIGVuZHNXaXRoKG1hdGNoWzJdLCBib3VuZEF0dHJpYnV0ZVN1ZmZpeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9IHMuc2xpY2UoMCwgbWF0Y2guaW5kZXgpICsgbWF0Y2hbMV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbMl0uc2xpY2UoMCwgLWJvdW5kQXR0cmlidXRlU3VmZml4Lmxlbmd0aCkgKyBtYXRjaFszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGluc2VydCwgbm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goeyB0eXBlOiAnbm9kZScsIGluZGV4OiArK2luZGV4IH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGV4dCwgd2UgbXVzdCBpbnNlcnQgYSBjb21tZW50IHRvIG1hcmsgb3VyIHBsYWNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBFbHNlLCB3ZSBjYW4gdHJ1c3QgaXQgd2lsbCBzdGljayBhcm91bmQgYWZ0ZXIgY2xvbmluZy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ3NbbGFzdEluZGV4XSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5kYXRhID0gc3RyaW5nc1tsYXN0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBwYXJ0IGZvciBlYWNoIG1hdGNoIGZvdW5kXG4gICAgICAgICAgICAgICAgICAgIHBhcnRJbmRleCArPSBsYXN0SW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PT0gOCAvKiBOb2RlLkNPTU1FTlRfTk9ERSAqLykge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLmRhdGEgPT09IG1hcmtlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBtYXJrZXIgbm9kZSB0byBiZSB0aGUgc3RhcnROb2RlIG9mIHRoZSBQYXJ0IGlmIGFueSBvZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZm9sbG93aW5nIGFyZSB0cnVlOlxuICAgICAgICAgICAgICAgICAgICAvLyAgKiBXZSBkb24ndCBoYXZlIGEgcHJldmlvdXNTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vICAqIFRoZSBwcmV2aW91c1NpYmxpbmcgaXMgYWxyZWFkeSB0aGUgc3RhcnQgb2YgYSBwcmV2aW91cyBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnByZXZpb3VzU2libGluZyA9PT0gbnVsbCB8fCBpbmRleCA9PT0gbGFzdFBhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY3JlYXRlTWFya2VyKCksIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RQYXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHsgdHlwZTogJ25vZGUnLCBpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIG5leHRTaWJsaW5nLCBrZWVwIHRoaXMgbm9kZSBzbyB3ZSBoYXZlIGFuIGVuZC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRWxzZSwgd2UgY2FuIHJlbW92ZSBpdCB0byBzYXZlIGZ1dHVyZSBjb3N0cy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubmV4dFNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGF0YSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXNUb1JlbW92ZS5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICgoaSA9IG5vZGUuZGF0YS5pbmRleE9mKG1hcmtlciwgaSArIDEpKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbW1lbnQgbm9kZSBoYXMgYSBiaW5kaW5nIG1hcmtlciBpbnNpZGUsIG1ha2UgYW4gaW5hY3RpdmUgcGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGJpbmRpbmcgd29uJ3Qgd29yaywgYnV0IHN1YnNlcXVlbnQgYmluZGluZ3Mgd2lsbFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAoanVzdGluZmFnbmFuaSk6IGNvbnNpZGVyIHdoZXRoZXIgaXQncyBldmVuIHdvcnRoIGl0IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIGJpbmRpbmdzIGluIGNvbW1lbnRzIHdvcmtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh7IHR5cGU6ICdub2RlJywgaW5kZXg6IC0xIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHRleHQgYmluZGluZyBub2RlcyBhZnRlciB0aGUgd2FsayB0byBub3QgZGlzdHVyYiB0aGUgVHJlZVdhbGtlclxuICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygbm9kZXNUb1JlbW92ZSkge1xuICAgICAgICAgICAgbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICB9XG4gICAgfVxufVxuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzdWZmaXgpID0+IHtcbiAgICBjb25zdCBpbmRleCA9IHN0ci5sZW5ndGggLSBzdWZmaXgubGVuZ3RoO1xuICAgIHJldHVybiBpbmRleCA+PSAwICYmIHN0ci5zbGljZShpbmRleCkgPT09IHN1ZmZpeDtcbn07XG5leHBvcnQgY29uc3QgaXNUZW1wbGF0ZVBhcnRBY3RpdmUgPSAocGFydCkgPT4gcGFydC5pbmRleCAhPT0gLTE7XG4vLyBBbGxvd3MgYGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpYCB0byBiZSByZW5hbWVkIGZvciBhXG4vLyBzbWFsbCBtYW51YWwgc2l6ZS1zYXZpbmdzLlxuZXhwb3J0IGNvbnN0IGNyZWF0ZU1hcmtlciA9ICgpID0+IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuLyoqXG4gKiBUaGlzIHJlZ2V4IGV4dHJhY3RzIHRoZSBhdHRyaWJ1dGUgbmFtZSBwcmVjZWRpbmcgYW4gYXR0cmlidXRlLXBvc2l0aW9uXG4gKiBleHByZXNzaW9uLiBJdCBkb2VzIHRoaXMgYnkgbWF0Y2hpbmcgdGhlIHN5bnRheCBhbGxvd2VkIGZvciBhdHRyaWJ1dGVzXG4gKiBhZ2FpbnN0IHRoZSBzdHJpbmcgbGl0ZXJhbCBkaXJlY3RseSBwcmVjZWRpbmcgdGhlIGV4cHJlc3Npb24sIGFzc3VtaW5nIHRoYXRcbiAqIHRoZSBleHByZXNzaW9uIGlzIGluIGFuIGF0dHJpYnV0ZS12YWx1ZSBwb3NpdGlvbi5cbiAqXG4gKiBTZWUgYXR0cmlidXRlcyBpbiB0aGUgSFRNTCBzcGVjOlxuICogaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L3N5bnRheC5odG1sI2VsZW1lbnRzLWF0dHJpYnV0ZXNcbiAqXG4gKiBcIiBcXHgwOVxceDBhXFx4MGNcXHgwZFwiIGFyZSBIVE1MIHNwYWNlIGNoYXJhY3RlcnM6XG4gKiBodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzcGFjZS1jaGFyYWN0ZXJzXG4gKlxuICogXCJcXDAtXFx4MUZcXHg3Ri1cXHg5RlwiIGFyZSBVbmljb2RlIGNvbnRyb2wgY2hhcmFjdGVycywgd2hpY2ggaW5jbHVkZXMgZXZlcnlcbiAqIHNwYWNlIGNoYXJhY3RlciBleGNlcHQgXCIgXCIuXG4gKlxuICogU28gYW4gYXR0cmlidXRlIGlzOlxuICogICogVGhlIG5hbWU6IGFueSBjaGFyYWN0ZXIgZXhjZXB0IGEgY29udHJvbCBjaGFyYWN0ZXIsIHNwYWNlIGNoYXJhY3RlciwgKCcpLFxuICogICAgKFwiKSwgXCI+XCIsIFwiPVwiLCBvciBcIi9cIlxuICogICogRm9sbG93ZWQgYnkgemVybyBvciBtb3JlIHNwYWNlIGNoYXJhY3RlcnNcbiAqICAqIEZvbGxvd2VkIGJ5IFwiPVwiXG4gKiAgKiBGb2xsb3dlZCBieSB6ZXJvIG9yIG1vcmUgc3BhY2UgY2hhcmFjdGVyc1xuICogICogRm9sbG93ZWQgYnk6XG4gKiAgICAqIEFueSBjaGFyYWN0ZXIgZXhjZXB0IHNwYWNlLCAoJyksIChcIiksIFwiPFwiLCBcIj5cIiwgXCI9XCIsIChgKSwgb3JcbiAqICAgICogKFwiKSB0aGVuIGFueSBub24tKFwiKSwgb3JcbiAqICAgICogKCcpIHRoZW4gYW55IG5vbi0oJylcbiAqL1xuZXhwb3J0IGNvbnN0IGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXggPSAvKFsgXFx4MDlcXHgwYVxceDBjXFx4MGRdKShbXlxcMC1cXHgxRlxceDdGLVxceDlGIFwiJz49L10rKShbIFxceDA5XFx4MGFcXHgwY1xceDBkXSo9WyBcXHgwOVxceDBhXFx4MGNcXHgwZF0qKD86W14gXFx4MDlcXHgwYVxceDBjXFx4MGRcIidgPD49XSp8XCJbXlwiXSp8J1teJ10qKSkkLztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0NFUG9seWZpbGwgfSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyBpc1RlbXBsYXRlUGFydEFjdGl2ZSB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiBhIGBUZW1wbGF0ZWAgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gdGhlIERPTSBhbmQgdXBkYXRlZFxuICogd2l0aCBuZXcgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSB7XG4gICAgY29uc3RydWN0b3IodGVtcGxhdGUsIHByb2Nlc3Nvciwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLl9fcGFydHMgPSBbXTtcbiAgICAgICAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgdXBkYXRlKHZhbHVlcykge1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgcGFydCBvZiB0aGlzLl9fcGFydHMpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnNldFZhbHVlKHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBwYXJ0IG9mIHRoaXMuX19wYXJ0cykge1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2Nsb25lKCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgYSBudW1iZXIgb2Ygc3RlcHMgaW4gdGhlIGxpZmVjeWNsZSBvZiBhIHRlbXBsYXRlIGluc3RhbmNlJ3NcbiAgICAgICAgLy8gRE9NIGZyYWdtZW50OlxuICAgICAgICAvLyAgMS4gQ2xvbmUgLSBjcmVhdGUgdGhlIGluc3RhbmNlIGZyYWdtZW50XG4gICAgICAgIC8vICAyLiBBZG9wdCAtIGFkb3B0IGludG8gdGhlIG1haW4gZG9jdW1lbnRcbiAgICAgICAgLy8gIDMuIFByb2Nlc3MgLSBmaW5kIHBhcnQgbWFya2VycyBhbmQgY3JlYXRlIHBhcnRzXG4gICAgICAgIC8vICA0LiBVcGdyYWRlIC0gdXBncmFkZSBjdXN0b20gZWxlbWVudHNcbiAgICAgICAgLy8gIDUuIFVwZGF0ZSAtIHNldCBub2RlLCBhdHRyaWJ1dGUsIHByb3BlcnR5LCBldGMuLCB2YWx1ZXNcbiAgICAgICAgLy8gIDYuIENvbm5lY3QgLSBjb25uZWN0IHRvIHRoZSBkb2N1bWVudC4gT3B0aW9uYWwgYW5kIG91dHNpZGUgb2YgdGhpc1xuICAgICAgICAvLyAgICAgbWV0aG9kLlxuICAgICAgICAvL1xuICAgICAgICAvLyBXZSBoYXZlIGEgZmV3IGNvbnN0cmFpbnRzIG9uIHRoZSBvcmRlcmluZyBvZiB0aGVzZSBzdGVwczpcbiAgICAgICAgLy8gICogV2UgbmVlZCB0byB1cGdyYWRlIGJlZm9yZSB1cGRhdGluZywgc28gdGhhdCBwcm9wZXJ0eSB2YWx1ZXMgd2lsbCBwYXNzXG4gICAgICAgIC8vICAgIHRocm91Z2ggYW55IHByb3BlcnR5IHNldHRlcnMuXG4gICAgICAgIC8vICAqIFdlIHdvdWxkIGxpa2UgdG8gcHJvY2VzcyBiZWZvcmUgdXBncmFkaW5nIHNvIHRoYXQgd2UncmUgc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyAgICBjbG9uZWQgZnJhZ21lbnQgaXMgaW5lcnQgYW5kIG5vdCBkaXN0dXJiZWQgYnkgc2VsZi1tb2RpZnlpbmcgRE9NLlxuICAgICAgICAvLyAgKiBXZSB3YW50IGN1c3RvbSBlbGVtZW50cyB0byB1cGdyYWRlIGV2ZW4gaW4gZGlzY29ubmVjdGVkIGZyYWdtZW50cy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gR2l2ZW4gdGhlc2UgY29uc3RyYWludHMsIHdpdGggZnVsbCBjdXN0b20gZWxlbWVudHMgc3VwcG9ydCB3ZSB3b3VsZFxuICAgICAgICAvLyBwcmVmZXIgdGhlIG9yZGVyOiBDbG9uZSwgUHJvY2VzcywgQWRvcHQsIFVwZ3JhZGUsIFVwZGF0ZSwgQ29ubmVjdFxuICAgICAgICAvL1xuICAgICAgICAvLyBCdXQgU2FmYXJpIGRvb2VzIG5vdCBpbXBsZW1lbnQgQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5I3VwZ3JhZGUsIHNvIHdlXG4gICAgICAgIC8vIGNhbiBub3QgaW1wbGVtZW50IHRoYXQgb3JkZXIgYW5kIHN0aWxsIGhhdmUgdXBncmFkZS1iZWZvcmUtdXBkYXRlIGFuZFxuICAgICAgICAvLyB1cGdyYWRlIGRpc2Nvbm5lY3RlZCBmcmFnbWVudHMuIFNvIHdlIGluc3RlYWQgc2FjcmlmaWNlIHRoZVxuICAgICAgICAvLyBwcm9jZXNzLWJlZm9yZS11cGdyYWRlIGNvbnN0cmFpbnQsIHNpbmNlIGluIEN1c3RvbSBFbGVtZW50cyB2MSBlbGVtZW50c1xuICAgICAgICAvLyBtdXN0IG5vdCBtb2RpZnkgdGhlaXIgbGlnaHQgRE9NIGluIHRoZSBjb25zdHJ1Y3Rvci4gV2Ugc3RpbGwgaGF2ZSBpc3N1ZXNcbiAgICAgICAgLy8gd2hlbiBjby1leGlzdGluZyB3aXRoIENFdjAgZWxlbWVudHMgbGlrZSBQb2x5bWVyIDEsIGFuZCB3aXRoIHBvbHlmaWxsc1xuICAgICAgICAvLyB0aGF0IGRvbid0IHN0cmljdGx5IGFkaGVyZSB0byB0aGUgbm8tbW9kaWZpY2F0aW9uIHJ1bGUgYmVjYXVzZSBzaGFkb3dcbiAgICAgICAgLy8gRE9NLCB3aGljaCBtYXkgYmUgY3JlYXRlZCBpbiB0aGUgY29uc3RydWN0b3IsIGlzIGVtdWxhdGVkIGJ5IGJlaW5nIHBsYWNlZFxuICAgICAgICAvLyBpbiB0aGUgbGlnaHQgRE9NLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgcmVzdWx0aW5nIG9yZGVyIGlzIG9uIG5hdGl2ZSBpczogQ2xvbmUsIEFkb3B0LCBVcGdyYWRlLCBQcm9jZXNzLFxuICAgICAgICAvLyBVcGRhdGUsIENvbm5lY3QuIGRvY3VtZW50LmltcG9ydE5vZGUoKSBwZXJmb3JtcyBDbG9uZSwgQWRvcHQsIGFuZCBVcGdyYWRlXG4gICAgICAgIC8vIGluIG9uZSBzdGVwLlxuICAgICAgICAvL1xuICAgICAgICAvLyBUaGUgQ3VzdG9tIEVsZW1lbnRzIHYxIHBvbHlmaWxsIHN1cHBvcnRzIHVwZ3JhZGUoKSwgc28gdGhlIG9yZGVyIHdoZW5cbiAgICAgICAgLy8gcG9seWZpbGxlZCBpcyB0aGUgbW9yZSBpZGVhbDogQ2xvbmUsIFByb2Nlc3MsIEFkb3B0LCBVcGdyYWRlLCBVcGRhdGUsXG4gICAgICAgIC8vIENvbm5lY3QuXG4gICAgICAgIGNvbnN0IGZyYWdtZW50ID0gaXNDRVBvbHlmaWxsID9cbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LmNsb25lTm9kZSh0cnVlKSA6XG4gICAgICAgICAgICBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGUuZWxlbWVudC5jb250ZW50LCB0cnVlKTtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBbXTtcbiAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnRlbXBsYXRlLnBhcnRzO1xuICAgICAgICAvLyBFZGdlIG5lZWRzIGFsbCA0IHBhcmFtZXRlcnMgcHJlc2VudDsgSUUxMSBuZWVkcyAzcmQgcGFyYW1ldGVyIHRvIGJlIG51bGxcbiAgICAgICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihmcmFnbWVudCwgMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIGxldCBwYXJ0SW5kZXggPSAwO1xuICAgICAgICBsZXQgbm9kZUluZGV4ID0gMDtcbiAgICAgICAgbGV0IHBhcnQ7XG4gICAgICAgIGxldCBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG5vZGVzIGFuZCBwYXJ0cyBvZiBhIHRlbXBsYXRlXG4gICAgICAgIHdoaWxlIChwYXJ0SW5kZXggPCBwYXJ0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICAgICAgaWYgKCFpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX19wYXJ0cy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgcGFydEluZGV4Kys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQcm9ncmVzcyB0aGUgdHJlZSB3YWxrZXIgdW50aWwgd2UgZmluZCBvdXIgbmV4dCBwYXJ0J3Mgbm9kZS5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBtdWx0aXBsZSBwYXJ0cyBtYXkgc2hhcmUgdGhlIHNhbWUgbm9kZSAoYXR0cmlidXRlIHBhcnRzXG4gICAgICAgICAgICAvLyBvbiBhIHNpbmdsZSBlbGVtZW50KSwgc28gdGhpcyBsb29wIG1heSBub3QgcnVuIGF0IGFsbC5cbiAgICAgICAgICAgIHdoaWxlIChub2RlSW5kZXggPCBwYXJ0LmluZGV4KSB7XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09ICdURU1QTEFURScpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgd2Fsa2VyLmN1cnJlbnROb2RlID0gbm9kZS5jb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UndmUgZXhoYXVzdGVkIHRoZSBjb250ZW50IGluc2lkZSBhIG5lc3RlZCB0ZW1wbGF0ZSBlbGVtZW50LlxuICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlIHN0aWxsIGhhdmUgcGFydHMgKHRoZSBvdXRlciBmb3ItbG9vcCksIHdlIGtub3c6XG4gICAgICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSB0ZW1wbGF0ZSBpbiB0aGUgc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgLy8gLSBUaGUgd2Fsa2VyIHdpbGwgZmluZCBhIG5leHROb2RlIG91dHNpZGUgdGhlIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgIHdhbGtlci5jdXJyZW50Tm9kZSA9IHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UndmUgYXJyaXZlZCBhdCBvdXIgcGFydCdzIG5vZGUuXG4gICAgICAgICAgICBpZiAocGFydC50eXBlID09PSAnbm9kZScpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gdGhpcy5wcm9jZXNzb3IuaGFuZGxlVGV4dEV4cHJlc3Npb24odGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBwYXJ0Lmluc2VydEFmdGVyTm9kZShub2RlLnByZXZpb3VzU2libGluZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3BhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fcGFydHMucHVzaCguLi50aGlzLnByb2Nlc3Nvci5oYW5kbGVBdHRyaWJ1dGVFeHByZXNzaW9ucyhub2RlLCBwYXJ0Lm5hbWUsIHBhcnQuc3RyaW5ncywgdGhpcy5vcHRpb25zKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDRVBvbHlmaWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZG9wdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMudXBncmFkZShmcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyYWdtZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRlbXBsYXRlLWluc3RhbmNlLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZXBhcmVudE5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYm91bmRBdHRyaWJ1dGVTdWZmaXgsIGxhc3RBdHRyaWJ1dGVOYW1lUmVnZXgsIG1hcmtlciwgbm9kZU1hcmtlciB9IGZyb20gJy4vdGVtcGxhdGUuanMnO1xuY29uc3QgY29tbWVudE1hcmtlciA9IGAgJHttYXJrZXJ9IGA7XG4vKipcbiAqIFRoZSByZXR1cm4gdHlwZSBvZiBgaHRtbGAsIHdoaWNoIGhvbGRzIGEgVGVtcGxhdGUgYW5kIHRoZSB2YWx1ZXMgZnJvbVxuICogaW50ZXJwb2xhdGVkIGV4cHJlc3Npb25zLlxuICovXG5leHBvcnQgY2xhc3MgVGVtcGxhdGVSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHN0cmluZ3MsIHZhbHVlcywgdHlwZSwgcHJvY2Vzc29yKSB7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMudmFsdWVzID0gdmFsdWVzO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLnByb2Nlc3NvciA9IHByb2Nlc3NvcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBvZiBIVE1MIHVzZWQgdG8gY3JlYXRlIGEgYDx0ZW1wbGF0ZT5gIGVsZW1lbnQuXG4gICAgICovXG4gICAgZ2V0SFRNTCgpIHtcbiAgICAgICAgY29uc3QgbCA9IHRoaXMuc3RyaW5ncy5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgaHRtbCA9ICcnO1xuICAgICAgICBsZXQgaXNDb21tZW50QmluZGluZyA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIC8vIEZvciBlYWNoIGJpbmRpbmcgd2Ugd2FudCB0byBkZXRlcm1pbmUgdGhlIGtpbmQgb2YgbWFya2VyIHRvIGluc2VydFxuICAgICAgICAgICAgLy8gaW50byB0aGUgdGVtcGxhdGUgc291cmNlIGJlZm9yZSBpdCdzIHBhcnNlZCBieSB0aGUgYnJvd3NlcidzIEhUTUxcbiAgICAgICAgICAgIC8vIHBhcnNlci4gVGhlIG1hcmtlciB0eXBlIGlzIGJhc2VkIG9uIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgaW4gYW5cbiAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSwgdGV4dCwgb3IgY29tbWVudCBwb2lzaXRpb24uXG4gICAgICAgICAgICAvLyAgICogRm9yIG5vZGUtcG9zaXRpb24gYmluZGluZ3Mgd2UgaW5zZXJ0IGEgY29tbWVudCB3aXRoIHRoZSBtYXJrZXJcbiAgICAgICAgICAgIC8vICAgICBzZW50aW5lbCBhcyBpdHMgdGV4dCBjb250ZW50LCBsaWtlIDwhLS17e2xpdC1ndWlkfX0tLT4uXG4gICAgICAgICAgICAvLyAgICogRm9yIGF0dHJpYnV0ZSBiaW5kaW5ncyB3ZSBpbnNlcnQganVzdCB0aGUgbWFya2VyIHNlbnRpbmVsIGZvciB0aGVcbiAgICAgICAgICAgIC8vICAgICBmaXJzdCBiaW5kaW5nLCBzbyB0aGF0IHdlIHN1cHBvcnQgdW5xdW90ZWQgYXR0cmlidXRlIGJpbmRpbmdzLlxuICAgICAgICAgICAgLy8gICAgIFN1YnNlcXVlbnQgYmluZGluZ3MgY2FuIHVzZSBhIGNvbW1lbnQgbWFya2VyIGJlY2F1c2UgbXVsdGktYmluZGluZ1xuICAgICAgICAgICAgLy8gICAgIGF0dHJpYnV0ZXMgbXVzdCBiZSBxdW90ZWQuXG4gICAgICAgICAgICAvLyAgICogRm9yIGNvbW1lbnQgYmluZGluZ3Mgd2UgaW5zZXJ0IGp1c3QgdGhlIG1hcmtlciBzZW50aW5lbCBzbyB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gICAgIGNsb3NlIHRoZSBjb21tZW50LlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBzY2FucyB0aGUgdGVtcGxhdGUgc291cmNlLCBidXQgaXMgKm5vdCogYW4gSFRNTFxuICAgICAgICAgICAgLy8gcGFyc2VyLiBXZSBkb24ndCBuZWVkIHRvIHRyYWNrIHRoZSB0cmVlIHN0cnVjdHVyZSBvZiB0aGUgSFRNTCwgb25seVxuICAgICAgICAgICAgLy8gd2hldGhlciBhIGJpbmRpbmcgaXMgaW5zaWRlIGEgY29tbWVudCwgYW5kIGlmIG5vdCwgaWYgaXQgYXBwZWFycyB0byBiZVxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IGJpbmRpbmcgaW4gYW4gYXR0cmlidXRlLlxuICAgICAgICAgICAgY29uc3QgY29tbWVudE9wZW4gPSBzLmxhc3RJbmRleE9mKCc8IS0tJyk7XG4gICAgICAgICAgICAvLyBXZSdyZSBpbiBjb21tZW50IHBvc2l0aW9uIGlmIHdlIGhhdmUgYSBjb21tZW50IG9wZW4gd2l0aCBubyBmb2xsb3dpbmdcbiAgICAgICAgICAgIC8vIGNvbW1lbnQgY2xvc2UuIEJlY2F1c2UgPC0tIGNhbiBhcHBlYXIgaW4gYW4gYXR0cmlidXRlIHZhbHVlIHRoZXJlIGNhblxuICAgICAgICAgICAgLy8gYmUgZmFsc2UgcG9zaXRpdmVzLlxuICAgICAgICAgICAgaXNDb21tZW50QmluZGluZyA9IChjb21tZW50T3BlbiA+IC0xIHx8IGlzQ29tbWVudEJpbmRpbmcpICYmXG4gICAgICAgICAgICAgICAgcy5pbmRleE9mKCctLT4nLCBjb21tZW50T3BlbiArIDEpID09PSAtMTtcbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGFuIGF0dHJpYnV0ZS1saWtlIHNlcXVlbmNlIHByZWNlZWRpbmcgdGhlXG4gICAgICAgICAgICAvLyBleHByZXNzaW9uLiBUaGlzIGNhbiBtYXRjaCBcIm5hbWU9dmFsdWVcIiBsaWtlIHN0cnVjdHVyZXMgaW4gdGV4dCxcbiAgICAgICAgICAgIC8vIGNvbW1lbnRzLCBhbmQgYXR0cmlidXRlIHZhbHVlcywgc28gdGhlcmUgY2FuIGJlIGZhbHNlLXBvc2l0aXZlcy5cbiAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZU1hdGNoID0gbGFzdEF0dHJpYnV0ZU5hbWVSZWdleC5leGVjKHMpO1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZU1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgb25seSBpbiB0aGlzIGJyYW5jaCBpZiB3ZSBkb24ndCBoYXZlIGEgYXR0cmlidXRlLWxpa2VcbiAgICAgICAgICAgICAgICAvLyBwcmVjZWVkaW5nIHNlcXVlbmNlLiBGb3IgY29tbWVudHMsIHRoaXMgZ3VhcmRzIGFnYWluc3QgdW51c3VhbFxuICAgICAgICAgICAgICAgIC8vIGF0dHJpYnV0ZSB2YWx1ZXMgbGlrZSA8ZGl2IGZvbz1cIjwhLS0keydiYXInfVwiPi4gQ2FzZXMgbGlrZVxuICAgICAgICAgICAgICAgIC8vIDwhLS0gZm9vPSR7J2Jhcid9LS0+IGFyZSBoYW5kbGVkIGNvcnJlY3RseSBpbiB0aGUgYXR0cmlidXRlIGJyYW5jaFxuICAgICAgICAgICAgICAgIC8vIGJlbG93LlxuICAgICAgICAgICAgICAgIGh0bWwgKz0gcyArIChpc0NvbW1lbnRCaW5kaW5nID8gY29tbWVudE1hcmtlciA6IG5vZGVNYXJrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIGF0dHJpYnV0ZXMgd2UgdXNlIGp1c3QgYSBtYXJrZXIgc2VudGluZWwsIGFuZCBhbHNvIGFwcGVuZCBhXG4gICAgICAgICAgICAgICAgLy8gJGxpdCQgc3VmZml4IHRvIHRoZSBuYW1lIHRvIG9wdC1vdXQgb2YgYXR0cmlidXRlLXNwZWNpZmljIHBhcnNpbmdcbiAgICAgICAgICAgICAgICAvLyB0aGF0IElFIGFuZCBFZGdlIGRvIGZvciBzdHlsZSBhbmQgY2VydGFpbiBTVkcgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAgICBodG1sICs9IHMuc3Vic3RyKDAsIGF0dHJpYnV0ZU1hdGNoLmluZGV4KSArIGF0dHJpYnV0ZU1hdGNoWzFdICtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTWF0Y2hbMl0gKyBib3VuZEF0dHJpYnV0ZVN1ZmZpeCArIGF0dHJpYnV0ZU1hdGNoWzNdICtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGh0bWwgKz0gdGhpcy5zdHJpbmdzW2xdO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG4gICAgICAgIHRlbXBsYXRlLmlubmVySFRNTCA9IHRoaXMuZ2V0SFRNTCgpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxufVxuLyoqXG4gKiBBIFRlbXBsYXRlUmVzdWx0IGZvciBTVkcgZnJhZ21lbnRzLlxuICpcbiAqIFRoaXMgY2xhc3Mgd3JhcHMgSFRNTCBpbiBhbiBgPHN2Zz5gIHRhZyBpbiBvcmRlciB0byBwYXJzZSBpdHMgY29udGVudHMgaW4gdGhlXG4gKiBTVkcgbmFtZXNwYWNlLCB0aGVuIG1vZGlmaWVzIHRoZSB0ZW1wbGF0ZSB0byByZW1vdmUgdGhlIGA8c3ZnPmAgdGFnIHNvIHRoYXRcbiAqIGNsb25lcyBvbmx5IGNvbnRhaW5lciB0aGUgb3JpZ2luYWwgZnJhZ21lbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBTVkdUZW1wbGF0ZVJlc3VsdCBleHRlbmRzIFRlbXBsYXRlUmVzdWx0IHtcbiAgICBnZXRIVE1MKCkge1xuICAgICAgICByZXR1cm4gYDxzdmc+JHtzdXBlci5nZXRIVE1MKCl9PC9zdmc+YDtcbiAgICB9XG4gICAgZ2V0VGVtcGxhdGVFbGVtZW50KCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IHN1cGVyLmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGVtcGxhdGUuY29udGVudDtcbiAgICAgICAgY29uc3Qgc3ZnRWxlbWVudCA9IGNvbnRlbnQuZmlyc3RDaGlsZDtcbiAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChzdmdFbGVtZW50KTtcbiAgICAgICAgcmVwYXJlbnROb2Rlcyhjb250ZW50LCBzdmdFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGVtcGxhdGUtcmVzdWx0LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlLmpzJztcbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL3BhcnQuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZSB9IGZyb20gJy4vdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuL3RlbXBsYXRlLXJlc3VsdC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVNYXJrZXIgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCBjb25zdCBpc1ByaW1pdGl2ZSA9ICh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiAodmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgISh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykpO1xufTtcbmV4cG9ydCBjb25zdCBpc0l0ZXJhYmxlID0gKHZhbHVlKSA9PiB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpIHx8XG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICAgICAgISEodmFsdWUgJiYgdmFsdWVbU3ltYm9sLml0ZXJhdG9yXSk7XG59O1xuLyoqXG4gKiBXcml0ZXMgYXR0cmlidXRlIHZhbHVlcyB0byB0aGUgRE9NIGZvciBhIGdyb3VwIG9mIEF0dHJpYnV0ZVBhcnRzIGJvdW5kIHRvIGFcbiAqIHNpbmdsZSBhdHRpYnV0ZS4gVGhlIHZhbHVlIGlzIG9ubHkgc2V0IG9uY2UgZXZlbiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgcGFydHNcbiAqIGZvciBhbiBhdHRyaWJ1dGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBdHRyaWJ1dGVDb21taXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgICAgIHRoaXMucGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wYXJ0c1tpXSA9IHRoaXMuX2NyZWF0ZVBhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2luZ2xlIHBhcnQuIE92ZXJyaWRlIHRoaXMgdG8gY3JlYXRlIGEgZGlmZmVybnQgdHlwZSBvZiBwYXJ0LlxuICAgICAqL1xuICAgIF9jcmVhdGVQYXJ0KCkge1xuICAgICAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZVBhcnQodGhpcyk7XG4gICAgfVxuICAgIF9nZXRWYWx1ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RyaW5ncyA9IHRoaXMuc3RyaW5ncztcbiAgICAgICAgY29uc3QgbCA9IHN0cmluZ3MubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IHRleHQgPSAnJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRleHQgKz0gc3RyaW5nc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IHBhcnQgPSB0aGlzLnBhcnRzW2ldO1xuICAgICAgICAgICAgaWYgKHBhcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBwYXJ0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChpc1ByaW1pdGl2ZSh2KSB8fCAhaXNJdGVyYWJsZSh2KSkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ICs9IHR5cGVvZiB2ID09PSAnc3RyaW5nJyA/IHYgOiBTdHJpbmcodik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCArPSB0eXBlb2YgdCA9PT0gJ3N0cmluZycgPyB0IDogU3RyaW5nKHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRleHQgKz0gc3RyaW5nc1tsXTtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCB0aGlzLl9nZXRWYWx1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBQYXJ0IHRoYXQgY29udHJvbHMgYWxsIG9yIHBhcnQgb2YgYW4gYXR0cmlidXRlIHZhbHVlLlxuICovXG5leHBvcnQgY2xhc3MgQXR0cmlidXRlUGFydCB7XG4gICAgY29uc3RydWN0b3IoY29tbWl0dGVyKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY29tbWl0dGVyID0gY29tbWl0dGVyO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT09IG5vQ2hhbmdlICYmICghaXNQcmltaXRpdmUodmFsdWUpIHx8IHZhbHVlICE9PSB0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGlzIGEgbm90IGEgZGlyZWN0aXZlLCBkaXJ0eSB0aGUgY29tbWl0dGVyIHNvIHRoYXQgaXQnbGxcbiAgICAgICAgICAgIC8vIGNhbGwgc2V0QXR0cmlidXRlLiBJZiB0aGUgdmFsdWUgaXMgYSBkaXJlY3RpdmUsIGl0J2xsIGRpcnR5IHRoZVxuICAgICAgICAgICAgLy8gY29tbWl0dGVyIGlmIGl0IGNhbGxzIHNldFZhbHVlKCkuXG4gICAgICAgICAgICBpZiAoIWlzRGlyZWN0aXZlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0dGVyLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLnZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbW1pdHRlci5jb21taXQoKTtcbiAgICB9XG59XG4vKipcbiAqIEEgUGFydCB0aGF0IGNvbnRyb2xzIGEgbG9jYXRpb24gd2l0aGluIGEgTm9kZSB0cmVlLiBMaWtlIGEgUmFuZ2UsIE5vZGVQYXJ0XG4gKiBoYXMgc3RhcnQgYW5kIGVuZCBsb2NhdGlvbnMgYW5kIGNhbiBzZXQgYW5kIHVwZGF0ZSB0aGUgTm9kZXMgYmV0d2VlbiB0aG9zZVxuICogbG9jYXRpb25zLlxuICpcbiAqIE5vZGVQYXJ0cyBzdXBwb3J0IHNldmVyYWwgdmFsdWUgdHlwZXM6IHByaW1pdGl2ZXMsIE5vZGVzLCBUZW1wbGF0ZVJlc3VsdHMsXG4gKiBhcyB3ZWxsIGFzIGFycmF5cyBhbmQgaXRlcmFibGVzIG9mIHRob3NlIHR5cGVzLlxuICovXG5leHBvcnQgY2xhc3MgTm9kZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwZW5kcyB0aGlzIHBhcnQgaW50byBhIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGFwcGVuZEludG8oY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhcnROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gY29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZU1hcmtlcigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyB0aGlzIHBhcnQgYWZ0ZXIgdGhlIGByZWZgIG5vZGUgKGJldHdlZW4gYHJlZmAgYW5kIGByZWZgJ3MgbmV4dFxuICAgICAqIHNpYmxpbmcpLiBCb3RoIGByZWZgIGFuZCBpdHMgbmV4dCBzaWJsaW5nIG11c3QgYmUgc3RhdGljLCB1bmNoYW5naW5nIG5vZGVzXG4gICAgICogc3VjaCBhcyB0aG9zZSB0aGF0IGFwcGVhciBpbiBhIGxpdGVyYWwgc2VjdGlvbiBvZiBhIHRlbXBsYXRlLlxuICAgICAqXG4gICAgICogVGhpcyBwYXJ0IG11c3QgYmUgZW1wdHksIGFzIGl0cyBjb250ZW50cyBhcmUgbm90IGF1dG9tYXRpY2FsbHkgbW92ZWQuXG4gICAgICovXG4gICAgaW5zZXJ0QWZ0ZXJOb2RlKHJlZikge1xuICAgICAgICB0aGlzLnN0YXJ0Tm9kZSA9IHJlZjtcbiAgICAgICAgdGhpcy5lbmROb2RlID0gcmVmLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHRoaXMgcGFydCBpbnRvIGEgcGFyZW50IHBhcnQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhcnQgbXVzdCBiZSBlbXB0eSwgYXMgaXRzIGNvbnRlbnRzIGFyZSBub3QgYXV0b21hdGljYWxseSBtb3ZlZC5cbiAgICAgKi9cbiAgICBhcHBlbmRJbnRvUGFydChwYXJ0KSB7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5zdGFydE5vZGUgPSBjcmVhdGVNYXJrZXIoKSk7XG4gICAgICAgIHBhcnQuX19pbnNlcnQodGhpcy5lbmROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHRoaXMgcGFydCBhZnRlciB0aGUgYHJlZmAgcGFydC5cbiAgICAgKlxuICAgICAqIFRoaXMgcGFydCBtdXN0IGJlIGVtcHR5LCBhcyBpdHMgY29udGVudHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IG1vdmVkLlxuICAgICAqL1xuICAgIGluc2VydEFmdGVyUGFydChyZWYpIHtcbiAgICAgICAgcmVmLl9faW5zZXJ0KHRoaXMuc3RhcnROb2RlID0gY3JlYXRlTWFya2VyKCkpO1xuICAgICAgICB0aGlzLmVuZE5vZGUgPSByZWYuZW5kTm9kZTtcbiAgICAgICAgcmVmLmVuZE5vZGUgPSB0aGlzLnN0YXJ0Tm9kZTtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIHdoaWxlIChpc0RpcmVjdGl2ZSh0aGlzLl9fcGVuZGluZ1ZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlyZWN0aXZlID0gdGhpcy5fX3BlbmRpbmdWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSBub0NoYW5nZTtcbiAgICAgICAgICAgIGRpcmVjdGl2ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbm9DaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9fY29tbWl0VGV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBUZW1wbGF0ZVJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuX19jb21taXROb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdEl0ZXJhYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gbm90aGluZykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5vdGhpbmc7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjaywgd2lsbCByZW5kZXIgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvblxuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdFRleHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9faW5zZXJ0KG5vZGUpIHtcbiAgICAgICAgdGhpcy5lbmROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRoaXMuZW5kTm9kZSk7XG4gICAgfVxuICAgIF9fY29tbWl0Tm9kZSh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX19pbnNlcnQodmFsdWUpO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIF9fY29tbWl0VGV4dCh2YWx1ZSkge1xuICAgICAgICBjb25zdCBub2RlID0gdGhpcy5zdGFydE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG4gICAgICAgIC8vIElmIGB2YWx1ZWAgaXNuJ3QgYWxyZWFkeSBhIHN0cmluZywgd2UgZXhwbGljaXRseSBjb252ZXJ0IGl0IGhlcmUgaW4gY2FzZVxuICAgICAgICAvLyBpdCBjYW4ndCBiZSBpbXBsaWNpdGx5IGNvbnZlcnRlZCAtIGkuZS4gaXQncyBhIHN5bWJvbC5cbiAgICAgICAgY29uc3QgdmFsdWVBc1N0cmluZyA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGlmIChub2RlID09PSB0aGlzLmVuZE5vZGUucHJldmlvdXNTaWJsaW5nICYmXG4gICAgICAgICAgICBub2RlLm5vZGVUeXBlID09PSAzIC8qIE5vZGUuVEVYVF9OT0RFICovKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgdGV4dCBub2RlIGJldHdlZW4gdGhlIG1hcmtlcnMsIHdlIGNhbiBqdXN0XG4gICAgICAgICAgICAvLyBzZXQgaXRzIHZhbHVlLCByYXRoZXIgdGhhbiByZXBsYWNpbmcgaXQuXG4gICAgICAgICAgICAvLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiBDYW4gd2UganVzdCBjaGVjayBpZiB0aGlzLnZhbHVlIGlzIHByaW1pdGl2ZT9cbiAgICAgICAgICAgIG5vZGUuZGF0YSA9IHZhbHVlQXNTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fY29tbWl0Tm9kZShkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZUFzU3RyaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICBfX2NvbW1pdFRlbXBsYXRlUmVzdWx0KHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5vcHRpb25zLnRlbXBsYXRlRmFjdG9yeSh2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlIGluc3RhbmNlb2YgVGVtcGxhdGVJbnN0YW5jZSAmJlxuICAgICAgICAgICAgdGhpcy52YWx1ZS50ZW1wbGF0ZSA9PT0gdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUudXBkYXRlKHZhbHVlLnZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgd2UgcHJvcGFnYXRlIHRoZSB0ZW1wbGF0ZSBwcm9jZXNzb3IgZnJvbSB0aGUgVGVtcGxhdGVSZXN1bHRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgd2UgdXNlIGl0cyBzeW50YXggZXh0ZW5zaW9uLCBldGMuIFRoZSB0ZW1wbGF0ZSBmYWN0b3J5IGNvbWVzXG4gICAgICAgICAgICAvLyBmcm9tIHRoZSByZW5kZXIgZnVuY3Rpb24gb3B0aW9ucyBzbyB0aGF0IGl0IGNhbiBjb250cm9sIHRlbXBsYXRlXG4gICAgICAgICAgICAvLyBjYWNoaW5nIGFuZCBwcmVwcm9jZXNzaW5nLlxuICAgICAgICAgICAgY29uc3QgaW5zdGFuY2UgPSBuZXcgVGVtcGxhdGVJbnN0YW5jZSh0ZW1wbGF0ZSwgdmFsdWUucHJvY2Vzc29yLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgZnJhZ21lbnQgPSBpbnN0YW5jZS5fY2xvbmUoKTtcbiAgICAgICAgICAgIGluc3RhbmNlLnVwZGF0ZSh2YWx1ZS52YWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5fX2NvbW1pdE5vZGUoZnJhZ21lbnQpO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fY29tbWl0SXRlcmFibGUodmFsdWUpIHtcbiAgICAgICAgLy8gRm9yIGFuIEl0ZXJhYmxlLCB3ZSBjcmVhdGUgYSBuZXcgSW5zdGFuY2VQYXJ0IHBlciBpdGVtLCB0aGVuIHNldCBpdHNcbiAgICAgICAgLy8gdmFsdWUgdG8gdGhlIGl0ZW0uIFRoaXMgaXMgYSBsaXR0bGUgYml0IG9mIG92ZXJoZWFkIGZvciBldmVyeSBpdGVtIGluXG4gICAgICAgIC8vIGFuIEl0ZXJhYmxlLCBidXQgaXQgbGV0cyB1cyByZWN1cnNlIGVhc2lseSBhbmQgZWZmaWNpZW50bHkgdXBkYXRlIEFycmF5c1xuICAgICAgICAvLyBvZiBUZW1wbGF0ZVJlc3VsdHMgdGhhdCB3aWxsIGJlIGNvbW1vbmx5IHJldHVybmVkIGZyb20gZXhwcmVzc2lvbnMgbGlrZTpcbiAgICAgICAgLy8gYXJyYXkubWFwKChpKSA9PiBodG1sYCR7aX1gKSwgYnkgcmV1c2luZyBleGlzdGluZyBUZW1wbGF0ZUluc3RhbmNlcy5cbiAgICAgICAgLy8gSWYgX3ZhbHVlIGlzIGFuIGFycmF5LCB0aGVuIHRoZSBwcmV2aW91cyByZW5kZXIgd2FzIG9mIGFuXG4gICAgICAgIC8vIGl0ZXJhYmxlIGFuZCBfdmFsdWUgd2lsbCBjb250YWluIHRoZSBOb2RlUGFydHMgZnJvbSB0aGUgcHJldmlvdXNcbiAgICAgICAgLy8gcmVuZGVyLiBJZiBfdmFsdWUgaXMgbm90IGFuIGFycmF5LCBjbGVhciB0aGlzIHBhcnQgYW5kIG1ha2UgYSBuZXdcbiAgICAgICAgLy8gYXJyYXkgZm9yIE5vZGVQYXJ0cy5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gW107XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGV0cyB1cyBrZWVwIHRyYWNrIG9mIGhvdyBtYW55IGl0ZW1zIHdlIHN0YW1wZWQgc28gd2UgY2FuIGNsZWFyIGxlZnRvdmVyXG4gICAgICAgIC8vIGl0ZW1zIGZyb20gYSBwcmV2aW91cyByZW5kZXJcbiAgICAgICAgY29uc3QgaXRlbVBhcnRzID0gdGhpcy52YWx1ZTtcbiAgICAgICAgbGV0IHBhcnRJbmRleCA9IDA7XG4gICAgICAgIGxldCBpdGVtUGFydDtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcmV1c2UgYW4gZXhpc3RpbmcgcGFydFxuICAgICAgICAgICAgaXRlbVBhcnQgPSBpdGVtUGFydHNbcGFydEluZGV4XTtcbiAgICAgICAgICAgIC8vIElmIG5vIGV4aXN0aW5nIHBhcnQsIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAgIGlmIChpdGVtUGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaXRlbVBhcnQgPSBuZXcgTm9kZVBhcnQodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpdGVtUGFydHMucHVzaChpdGVtUGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtUGFydC5hcHBlbmRJbnRvUGFydCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1QYXJ0Lmluc2VydEFmdGVyUGFydChpdGVtUGFydHNbcGFydEluZGV4IC0gMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW1QYXJ0LnNldFZhbHVlKGl0ZW0pO1xuICAgICAgICAgICAgaXRlbVBhcnQuY29tbWl0KCk7XG4gICAgICAgICAgICBwYXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydEluZGV4IDwgaXRlbVBhcnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdGhlIHBhcnRzIGFycmF5IHNvIF92YWx1ZSByZWZsZWN0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgaXRlbVBhcnRzLmxlbmd0aCA9IHBhcnRJbmRleDtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoaXRlbVBhcnQgJiYgaXRlbVBhcnQuZW5kTm9kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xlYXIoc3RhcnROb2RlID0gdGhpcy5zdGFydE5vZGUpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXModGhpcy5zdGFydE5vZGUucGFyZW50Tm9kZSwgc3RhcnROb2RlLm5leHRTaWJsaW5nLCB0aGlzLmVuZE5vZGUpO1xuICAgIH1cbn1cbi8qKlxuICogSW1wbGVtZW50cyBhIGJvb2xlYW4gYXR0cmlidXRlLCByb3VnaGx5IGFzIGRlZmluZWQgaW4gdGhlIEhUTUxcbiAqIHNwZWNpZmljYXRpb24uXG4gKlxuICogSWYgdGhlIHZhbHVlIGlzIHRydXRoeSwgdGhlbiB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQgd2l0aCBhIHZhbHVlIG9mXG4gKiAnJy4gSWYgdGhlIHZhbHVlIGlzIGZhbHNleSwgdGhlIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICovXG5leHBvcnQgY2xhc3MgQm9vbGVhbkF0dHJpYnV0ZVBhcnQge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHN0cmluZ3MubGVuZ3RoICE9PSAyIHx8IHN0cmluZ3NbMF0gIT09ICcnIHx8IHN0cmluZ3NbMV0gIT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb2xlYW4gYXR0cmlidXRlcyBjYW4gb25seSBjb250YWluIGEgc2luZ2xlIGV4cHJlc3Npb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIGNvbW1pdCgpIHtcbiAgICAgICAgd2hpbGUgKGlzRGlyZWN0aXZlKHRoaXMuX19wZW5kaW5nVmFsdWUpKSB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3RpdmUgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgICAgICAgICAgZGlyZWN0aXZlKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9fcGVuZGluZ1ZhbHVlID09PSBub0NoYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gISF0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5uYW1lLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKHRoaXMubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3BlbmRpbmdWYWx1ZSA9IG5vQ2hhbmdlO1xuICAgIH1cbn1cbi8qKlxuICogU2V0cyBhdHRyaWJ1dGUgdmFsdWVzIGZvciBQcm9wZXJ0eVBhcnRzLCBzbyB0aGF0IHRoZSB2YWx1ZSBpcyBvbmx5IHNldCBvbmNlXG4gKiBldmVuIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBwYXJ0cyBmb3IgYSBwcm9wZXJ0eS5cbiAqXG4gKiBJZiBhbiBleHByZXNzaW9uIGNvbnRyb2xzIHRoZSB3aG9sZSBwcm9wZXJ0eSB2YWx1ZSwgdGhlbiB0aGUgdmFsdWUgaXMgc2ltcGx5XG4gKiBhc3NpZ25lZCB0byB0aGUgcHJvcGVydHkgdW5kZXIgY29udHJvbC4gSWYgdGhlcmUgYXJlIHN0cmluZyBsaXRlcmFscyBvclxuICogbXVsdGlwbGUgZXhwcmVzc2lvbnMsIHRoZW4gdGhlIHN0cmluZ3MgYXJlIGV4cHJlc3Npb25zIGFyZSBpbnRlcnBvbGF0ZWQgaW50b1xuICogYSBzdHJpbmcgZmlyc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm9wZXJ0eUNvbW1pdHRlciBleHRlbmRzIEF0dHJpYnV0ZUNvbW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgbmFtZSwgc3RyaW5ncykge1xuICAgICAgICBzdXBlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgdGhpcy5zaW5nbGUgPVxuICAgICAgICAgICAgKHN0cmluZ3MubGVuZ3RoID09PSAyICYmIHN0cmluZ3NbMF0gPT09ICcnICYmIHN0cmluZ3NbMV0gPT09ICcnKTtcbiAgICB9XG4gICAgX2NyZWF0ZVBhcnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcGVydHlQYXJ0KHRoaXMpO1xuICAgIH1cbiAgICBfZ2V0VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNpbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFydHNbMF0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLl9nZXRWYWx1ZSgpO1xuICAgIH1cbiAgICBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tYW55XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRbdGhpcy5uYW1lXSA9IHRoaXMuX2dldFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUHJvcGVydHlQYXJ0IGV4dGVuZHMgQXR0cmlidXRlUGFydCB7XG59XG4vLyBEZXRlY3QgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyBzdXBwb3J0LiBJZiB0aGUgYGNhcHR1cmVgIHByb3BlcnR5IGlzIHJlYWRcbi8vIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LCB0aGVuIG9wdGlvbnMgYXJlIHN1cHBvcnRlZC4gSWYgbm90LCB0aGVuIHRoZSB0aHJpZFxuLy8gYXJndW1lbnQgdG8gYWRkL3JlbW92ZUV2ZW50TGlzdGVuZXIgaXMgaW50ZXJwcmV0ZWQgYXMgdGhlIGJvb2xlYW4gY2FwdHVyZVxuLy8gdmFsdWUgc28gd2Ugc2hvdWxkIG9ubHkgcGFzcyB0aGUgYGNhcHR1cmVgIHByb3BlcnR5LlxubGV0IGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IGZhbHNlO1xudHJ5IHtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICBnZXQgY2FwdHVyZSgpIHtcbiAgICAgICAgICAgIGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1hbnlcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG9wdGlvbnMsIG9wdGlvbnMpO1xufVxuY2F0Y2ggKF9lKSB7XG59XG5leHBvcnQgY2xhc3MgRXZlbnRQYXJ0IHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50LCBldmVudE5hbWUsIGV2ZW50Q29udGV4dCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLmV2ZW50TmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgdGhpcy5ldmVudENvbnRleHQgPSBldmVudENvbnRleHQ7XG4gICAgICAgIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50ID0gKGUpID0+IHRoaXMuaGFuZGxlRXZlbnQoZSk7XG4gICAgfVxuICAgIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19wZW5kaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgY29tbWl0KCkge1xuICAgICAgICB3aGlsZSAoaXNEaXJlY3RpdmUodGhpcy5fX3BlbmRpbmdWYWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpcmVjdGl2ZSA9IHRoaXMuX19wZW5kaW5nVmFsdWU7XG4gICAgICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgICAgICAgICBkaXJlY3RpdmUodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX19wZW5kaW5nVmFsdWUgPT09IG5vQ2hhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3TGlzdGVuZXIgPSB0aGlzLl9fcGVuZGluZ1ZhbHVlO1xuICAgICAgICBjb25zdCBvbGRMaXN0ZW5lciA9IHRoaXMudmFsdWU7XG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZUxpc3RlbmVyID0gbmV3TGlzdGVuZXIgPT0gbnVsbCB8fFxuICAgICAgICAgICAgb2xkTGlzdGVuZXIgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIChuZXdMaXN0ZW5lci5jYXB0dXJlICE9PSBvbGRMaXN0ZW5lci5jYXB0dXJlIHx8XG4gICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVyLm9uY2UgIT09IG9sZExpc3RlbmVyLm9uY2UgfHxcbiAgICAgICAgICAgICAgICAgICAgbmV3TGlzdGVuZXIucGFzc2l2ZSAhPT0gb2xkTGlzdGVuZXIucGFzc2l2ZSk7XG4gICAgICAgIGNvbnN0IHNob3VsZEFkZExpc3RlbmVyID0gbmV3TGlzdGVuZXIgIT0gbnVsbCAmJiAob2xkTGlzdGVuZXIgPT0gbnVsbCB8fCBzaG91bGRSZW1vdmVMaXN0ZW5lcik7XG4gICAgICAgIGlmIChzaG91bGRSZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNob3VsZEFkZExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9fb3B0aW9ucyA9IGdldE9wdGlvbnMobmV3TGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5ldmVudE5hbWUsIHRoaXMuX19ib3VuZEhhbmRsZUV2ZW50LCB0aGlzLl9fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ld0xpc3RlbmVyO1xuICAgICAgICB0aGlzLl9fcGVuZGluZ1ZhbHVlID0gbm9DaGFuZ2U7XG4gICAgfVxuICAgIGhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5jYWxsKHRoaXMuZXZlbnRDb250ZXh0IHx8IHRoaXMuZWxlbWVudCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52YWx1ZS5oYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBXZSBjb3B5IG9wdGlvbnMgYmVjYXVzZSBvZiB0aGUgaW5jb25zaXN0ZW50IGJlaGF2aW9yIG9mIGJyb3dzZXJzIHdoZW4gcmVhZGluZ1xuLy8gdGhlIHRoaXJkIGFyZ3VtZW50IG9mIGFkZC9yZW1vdmVFdmVudExpc3RlbmVyLiBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBvcHRpb25zXG4vLyBhdCBhbGwuIENocm9tZSA0MSBvbmx5IHJlYWRzIGBjYXB0dXJlYCBpZiB0aGUgYXJndW1lbnQgaXMgYW4gb2JqZWN0LlxuY29uc3QgZ2V0T3B0aW9ucyA9IChvKSA9PiBvICYmXG4gICAgKGV2ZW50T3B0aW9uc1N1cHBvcnRlZCA/XG4gICAgICAgIHsgY2FwdHVyZTogby5jYXB0dXJlLCBwYXNzaXZlOiBvLnBhc3NpdmUsIG9uY2U6IG8ub25jZSB9IDpcbiAgICAgICAgby5jYXB0dXJlKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbmltcG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgTm9kZVBhcnQsIFByb3BlcnR5Q29tbWl0dGVyIH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG4vKipcbiAqIENyZWF0ZXMgUGFydHMgd2hlbiBhIHRlbXBsYXRlIGlzIGluc3RhbnRpYXRlZC5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhbiBhdHRyaWJ1dGUtcG9zaXRpb24gYmluZGluZywgZ2l2ZW4gdGhlIGV2ZW50LCBhdHRyaWJ1dGVcbiAgICAgKiBuYW1lLCBhbmQgc3RyaW5nIGxpdGVyYWxzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgY29udGFpbmluZyB0aGUgYmluZGluZ1xuICAgICAqIEBwYXJhbSBuYW1lICBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0gc3RyaW5ncyBUaGUgc3RyaW5nIGxpdGVyYWxzLiBUaGVyZSBhcmUgYWx3YXlzIGF0IGxlYXN0IHR3byBzdHJpbmdzLFxuICAgICAqICAgZXZlbnQgZm9yIGZ1bGx5LWNvbnRyb2xsZWQgYmluZGluZ3Mgd2l0aCBhIHNpbmdsZSBleHByZXNzaW9uLlxuICAgICAqL1xuICAgIGhhbmRsZUF0dHJpYnV0ZUV4cHJlc3Npb25zKGVsZW1lbnQsIG5hbWUsIHN0cmluZ3MsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gbmFtZVswXTtcbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb25zdCBjb21taXR0ZXIgPSBuZXcgUHJvcGVydHlDb21taXR0ZXIoZWxlbWVudCwgbmFtZS5zbGljZSgxKSwgc3RyaW5ncyk7XG4gICAgICAgICAgICByZXR1cm4gY29tbWl0dGVyLnBhcnRzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmVmaXggPT09ICdAJykge1xuICAgICAgICAgICAgcmV0dXJuIFtuZXcgRXZlbnRQYXJ0KGVsZW1lbnQsIG5hbWUuc2xpY2UoMSksIG9wdGlvbnMuZXZlbnRDb250ZXh0KV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByZWZpeCA9PT0gJz8nKSB7XG4gICAgICAgICAgICByZXR1cm4gW25ldyBCb29sZWFuQXR0cmlidXRlUGFydChlbGVtZW50LCBuYW1lLnNsaWNlKDEpLCBzdHJpbmdzKV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29tbWl0dGVyID0gbmV3IEF0dHJpYnV0ZUNvbW1pdHRlcihlbGVtZW50LCBuYW1lLCBzdHJpbmdzKTtcbiAgICAgICAgcmV0dXJuIGNvbW1pdHRlci5wYXJ0cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHBhcnRzIGZvciBhIHRleHQtcG9zaXRpb24gYmluZGluZy5cbiAgICAgKiBAcGFyYW0gdGVtcGxhdGVGYWN0b3J5XG4gICAgICovXG4gICAgaGFuZGxlVGV4dEV4cHJlc3Npb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IE5vZGVQYXJ0KG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IgPSBuZXcgRGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZhdWx0LXRlbXBsYXRlLXByb2Nlc3Nvci5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBtYXJrZXIsIFRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IFRlbXBsYXRlRmFjdG9yeSB3aGljaCBjYWNoZXMgVGVtcGxhdGVzIGtleWVkIG9uXG4gKiByZXN1bHQudHlwZSBhbmQgcmVzdWx0LnN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZUZhY3RvcnkocmVzdWx0KSB7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQocmVzdWx0LnR5cGUpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChyZXN1bHQudHlwZSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgVGVtcGxhdGVTdHJpbmdzQXJyYXkgaXMgbmV3LCBnZW5lcmF0ZSBhIGtleSBmcm9tIHRoZSBzdHJpbmdzXG4gICAgLy8gVGhpcyBrZXkgaXMgc2hhcmVkIGJldHdlZW4gYWxsIHRlbXBsYXRlcyB3aXRoIGlkZW50aWNhbCBjb250ZW50XG4gICAgY29uc3Qga2V5ID0gcmVzdWx0LnN0cmluZ3Muam9pbihtYXJrZXIpO1xuICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgaGF2ZSBhIFRlbXBsYXRlIGZvciB0aGlzIGtleVxuICAgIHRlbXBsYXRlID0gdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuZ2V0KGtleSk7XG4gICAgaWYgKHRlbXBsYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3Qgc2VlbiB0aGlzIGtleSBiZWZvcmUsIGNyZWF0ZSBhIG5ldyBUZW1wbGF0ZVxuICAgICAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZShyZXN1bHQsIHJlc3VsdC5nZXRUZW1wbGF0ZUVsZW1lbnQoKSk7XG4gICAgICAgIC8vIENhY2hlIHRoZSBUZW1wbGF0ZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgdGVtcGxhdGVDYWNoZS5rZXlTdHJpbmcuc2V0KGtleSwgdGVtcGxhdGUpO1xuICAgIH1cbiAgICAvLyBDYWNoZSBhbGwgZnV0dXJlIHF1ZXJpZXMgZm9yIHRoaXMgVGVtcGxhdGVTdHJpbmdzQXJyYXlcbiAgICB0ZW1wbGF0ZUNhY2hlLnN0cmluZ3NBcnJheS5zZXQocmVzdWx0LnN0cmluZ3MsIHRlbXBsYXRlKTtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG59XG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYWNoZXMgPSBuZXcgTWFwKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10ZW1wbGF0ZS1mYWN0b3J5LmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICogQG1vZHVsZSBsaXQtaHRtbFxuICovXG5pbXBvcnQgeyByZW1vdmVOb2RlcyB9IGZyb20gJy4vZG9tLmpzJztcbmltcG9ydCB7IE5vZGVQYXJ0IH0gZnJvbSAnLi9wYXJ0cy5qcyc7XG5pbXBvcnQgeyB0ZW1wbGF0ZUZhY3RvcnkgfSBmcm9tICcuL3RlbXBsYXRlLWZhY3RvcnkuanMnO1xuZXhwb3J0IGNvbnN0IHBhcnRzID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogUmVuZGVycyBhIHRlbXBsYXRlIHJlc3VsdCBvciBvdGhlciB2YWx1ZSB0byBhIGNvbnRhaW5lci5cbiAqXG4gKiBUbyB1cGRhdGUgYSBjb250YWluZXIgd2l0aCBuZXcgdmFsdWVzLCByZWV2YWx1YXRlIHRoZSB0ZW1wbGF0ZSBsaXRlcmFsIGFuZFxuICogY2FsbCBgcmVuZGVyYCB3aXRoIHRoZSBuZXcgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSByZXN1bHQgQW55IHZhbHVlIHJlbmRlcmFibGUgYnkgTm9kZVBhcnQgLSB0eXBpY2FsbHkgYSBUZW1wbGF0ZVJlc3VsdFxuICogICAgIGNyZWF0ZWQgYnkgZXZhbHVhdGluZyBhIHRlbXBsYXRlIHRhZyBsaWtlIGBodG1sYCBvciBgc3ZnYC5cbiAqIEBwYXJhbSBjb250YWluZXIgQSBET00gcGFyZW50IHRvIHJlbmRlciB0by4gVGhlIGVudGlyZSBjb250ZW50cyBhcmUgZWl0aGVyXG4gKiAgICAgcmVwbGFjZWQsIG9yIGVmZmljaWVudGx5IHVwZGF0ZWQgaWYgdGhlIHNhbWUgcmVzdWx0IHR5cGUgd2FzIHByZXZpb3VzXG4gKiAgICAgcmVuZGVyZWQgdGhlcmUuXG4gKiBAcGFyYW0gb3B0aW9ucyBSZW5kZXJPcHRpb25zIGZvciB0aGUgZW50aXJlIHJlbmRlciB0cmVlIHJlbmRlcmVkIHRvIHRoaXNcbiAqICAgICBjb250YWluZXIuIFJlbmRlciBvcHRpb25zIG11c3QgKm5vdCogY2hhbmdlIGJldHdlZW4gcmVuZGVycyB0byB0aGUgc2FtZVxuICogICAgIGNvbnRhaW5lciwgYXMgdGhvc2UgY2hhbmdlcyB3aWxsIG5vdCBlZmZlY3QgcHJldmlvdXNseSByZW5kZXJlZCBET00uXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSAocmVzdWx0LCBjb250YWluZXIsIG9wdGlvbnMpID0+IHtcbiAgICBsZXQgcGFydCA9IHBhcnRzLmdldChjb250YWluZXIpO1xuICAgIGlmIChwYXJ0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVtb3ZlTm9kZXMoY29udGFpbmVyLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQgPSBuZXcgTm9kZVBhcnQoT2JqZWN0LmFzc2lnbih7IHRlbXBsYXRlRmFjdG9yeSB9LCBvcHRpb25zKSkpO1xuICAgICAgICBwYXJ0LmFwcGVuZEludG8oY29udGFpbmVyKTtcbiAgICB9XG4gICAgcGFydC5zZXRWYWx1ZShyZXN1bHQpO1xuICAgIHBhcnQuY29tbWl0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVuZGVyLmpzLm1hcCIsIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cbi8qKlxuICpcbiAqIE1haW4gbGl0LWh0bWwgbW9kdWxlLlxuICpcbiAqIE1haW4gZXhwb3J0czpcbiAqXG4gKiAtICBbW2h0bWxdXVxuICogLSAgW1tzdmddXVxuICogLSAgW1tyZW5kZXJdXVxuICpcbiAqIEBtb2R1bGUgbGl0LWh0bWxcbiAqIEBwcmVmZXJyZWRcbiAqL1xuLyoqXG4gKiBEbyBub3QgcmVtb3ZlIHRoaXMgY29tbWVudDsgaXQga2VlcHMgdHlwZWRvYyBmcm9tIG1pc3BsYWNpbmcgdGhlIG1vZHVsZVxuICogZG9jcy5cbiAqL1xuaW1wb3J0IHsgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuaW1wb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IERlZmF1bHRUZW1wbGF0ZVByb2Nlc3NvciwgZGVmYXVsdFRlbXBsYXRlUHJvY2Vzc29yIH0gZnJvbSAnLi9saWIvZGVmYXVsdC10ZW1wbGF0ZS1wcm9jZXNzb3IuanMnO1xuZXhwb3J0IHsgZGlyZWN0aXZlLCBpc0RpcmVjdGl2ZSB9IGZyb20gJy4vbGliL2RpcmVjdGl2ZS5qcyc7XG4vLyBUT0RPKGp1c3RpbmZhZ25hbmkpOiByZW1vdmUgbGluZSB3aGVuIHdlIGdldCBOb2RlUGFydCBtb3ZpbmcgbWV0aG9kc1xuZXhwb3J0IHsgcmVtb3ZlTm9kZXMsIHJlcGFyZW50Tm9kZXMgfSBmcm9tICcuL2xpYi9kb20uanMnO1xuZXhwb3J0IHsgbm9DaGFuZ2UsIG5vdGhpbmcgfSBmcm9tICcuL2xpYi9wYXJ0LmpzJztcbmV4cG9ydCB7IEF0dHJpYnV0ZUNvbW1pdHRlciwgQXR0cmlidXRlUGFydCwgQm9vbGVhbkF0dHJpYnV0ZVBhcnQsIEV2ZW50UGFydCwgaXNJdGVyYWJsZSwgaXNQcmltaXRpdmUsIE5vZGVQYXJ0LCBQcm9wZXJ0eUNvbW1pdHRlciwgUHJvcGVydHlQYXJ0IH0gZnJvbSAnLi9saWIvcGFydHMuanMnO1xuZXhwb3J0IHsgcGFydHMsIHJlbmRlciB9IGZyb20gJy4vbGliL3JlbmRlci5qcyc7XG5leHBvcnQgeyB0ZW1wbGF0ZUNhY2hlcywgdGVtcGxhdGVGYWN0b3J5IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtZmFjdG9yeS5qcyc7XG5leHBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtaW5zdGFuY2UuanMnO1xuZXhwb3J0IHsgU1ZHVGVtcGxhdGVSZXN1bHQsIFRlbXBsYXRlUmVzdWx0IH0gZnJvbSAnLi9saWIvdGVtcGxhdGUtcmVzdWx0LmpzJztcbmV4cG9ydCB7IGNyZWF0ZU1hcmtlciwgaXNUZW1wbGF0ZVBhcnRBY3RpdmUsIFRlbXBsYXRlIH0gZnJvbSAnLi9saWIvdGVtcGxhdGUuanMnO1xuLy8gSU1QT1JUQU5UOiBkbyBub3QgY2hhbmdlIHRoZSBwcm9wZXJ0eSBuYW1lIG9yIHRoZSBhc3NpZ25tZW50IGV4cHJlc3Npb24uXG4vLyBUaGlzIGxpbmUgd2lsbCBiZSB1c2VkIGluIHJlZ2V4ZXMgdG8gc2VhcmNoIGZvciBsaXQtaHRtbCB1c2FnZS5cbi8vIFRPRE8oanVzdGluZmFnbmFuaSk6IGluamVjdCB2ZXJzaW9uIG51bWJlciBhdCBidWlsZCB0aW1lXG4od2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSB8fCAod2luZG93WydsaXRIdG1sVmVyc2lvbnMnXSA9IFtdKSkucHVzaCgnMS4xLjInKTtcbi8qKlxuICogSW50ZXJwcmV0cyBhIHRlbXBsYXRlIGxpdGVyYWwgYXMgYW4gSFRNTCB0ZW1wbGF0ZSB0aGF0IGNhbiBlZmZpY2llbnRseVxuICogcmVuZGVyIHRvIGFuZCB1cGRhdGUgYSBjb250YWluZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFRlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ2h0bWwnLCBkZWZhdWx0VGVtcGxhdGVQcm9jZXNzb3IpO1xuLyoqXG4gKiBJbnRlcnByZXRzIGEgdGVtcGxhdGUgbGl0ZXJhbCBhcyBhbiBTVkcgdGVtcGxhdGUgdGhhdCBjYW4gZWZmaWNpZW50bHlcbiAqIHJlbmRlciB0byBhbmQgdXBkYXRlIGEgY29udGFpbmVyLlxuICovXG5leHBvcnQgY29uc3Qgc3ZnID0gKHN0cmluZ3MsIC4uLnZhbHVlcykgPT4gbmV3IFNWR1RlbXBsYXRlUmVzdWx0KHN0cmluZ3MsIHZhbHVlcywgJ3N2ZycsIGRlZmF1bHRUZW1wbGF0ZVByb2Nlc3Nvcik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saXQtaHRtbC5qcy5tYXAiLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuICogQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbiAqIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG4vKipcbiAqIEBtb2R1bGUgc2hhZHktcmVuZGVyXG4gKi9cbmltcG9ydCB7IGlzVGVtcGxhdGVQYXJ0QWN0aXZlIH0gZnJvbSAnLi90ZW1wbGF0ZS5qcyc7XG5jb25zdCB3YWxrZXJOb2RlRmlsdGVyID0gMTMzIC8qIE5vZGVGaWx0ZXIuU0hPV197RUxFTUVOVHxDT01NRU5UfFRFWFR9ICovO1xuLyoqXG4gKiBSZW1vdmVzIHRoZSBsaXN0IG9mIG5vZGVzIGZyb20gYSBUZW1wbGF0ZSBzYWZlbHkuIEluIGFkZGl0aW9uIHRvIHJlbW92aW5nXG4gKiBub2RlcyBmcm9tIHRoZSBUZW1wbGF0ZSwgdGhlIFRlbXBsYXRlIHBhcnQgaW5kaWNlcyBhcmUgdXBkYXRlZCB0byBtYXRjaFxuICogdGhlIG11dGF0ZWQgVGVtcGxhdGUgRE9NLlxuICpcbiAqIEFzIHRoZSB0ZW1wbGF0ZSBpcyB3YWxrZWQgdGhlIHJlbW92YWwgc3RhdGUgaXMgdHJhY2tlZCBhbmRcbiAqIHBhcnQgaW5kaWNlcyBhcmUgYWRqdXN0ZWQgYXMgbmVlZGVkLlxuICpcbiAqIGRpdlxuICogICBkaXYjMSAocmVtb3ZlKSA8LS0gc3RhcnQgcmVtb3ZpbmcgKHJlbW92aW5nIG5vZGUgaXMgZGl2IzEpXG4gKiAgICAgZGl2XG4gKiAgICAgICBkaXYjMiAocmVtb3ZlKSAgPC0tIGNvbnRpbnVlIHJlbW92aW5nIChyZW1vdmluZyBub2RlIGlzIHN0aWxsIGRpdiMxKVxuICogICAgICAgICBkaXZcbiAqIGRpdiA8LS0gc3RvcCByZW1vdmluZyBzaW5jZSBwcmV2aW91cyBzaWJsaW5nIGlzIHRoZSByZW1vdmluZyBub2RlIChkaXYjMSxcbiAqIHJlbW92ZWQgNCBub2RlcylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBub2Rlc1RvUmVtb3ZlKSB7XG4gICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSwgcGFydHMgfSA9IHRlbXBsYXRlO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoY29udGVudCwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIGxldCBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMpO1xuICAgIGxldCBwYXJ0ID0gcGFydHNbcGFydEluZGV4XTtcbiAgICBsZXQgbm9kZUluZGV4ID0gLTE7XG4gICAgbGV0IHJlbW92ZUNvdW50ID0gMDtcbiAgICBjb25zdCBub2Rlc1RvUmVtb3ZlSW5UZW1wbGF0ZSA9IFtdO1xuICAgIGxldCBjdXJyZW50UmVtb3ZpbmdOb2RlID0gbnVsbDtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgbm9kZUluZGV4Kys7XG4gICAgICAgIGNvbnN0IG5vZGUgPSB3YWxrZXIuY3VycmVudE5vZGU7XG4gICAgICAgIC8vIEVuZCByZW1vdmFsIGlmIHN0ZXBwZWQgcGFzdCB0aGUgcmVtb3Zpbmcgbm9kZVxuICAgICAgICBpZiAobm9kZS5wcmV2aW91c1NpYmxpbmcgPT09IGN1cnJlbnRSZW1vdmluZ05vZGUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgbm9kZSB0byByZW1vdmUgd2FzIGZvdW5kIGluIHRoZSB0ZW1wbGF0ZVxuICAgICAgICBpZiAobm9kZXNUb1JlbW92ZS5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAvLyBUcmFjayBub2RlIHdlJ3JlIHJlbW92aW5nXG4gICAgICAgICAgICBpZiAoY3VycmVudFJlbW92aW5nTm9kZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRSZW1vdmluZ05vZGUgPSBub2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gcmVtb3ZpbmcsIGluY3JlbWVudCBjb3VudCBieSB3aGljaCB0byBhZGp1c3Qgc3Vic2VxdWVudCBwYXJ0IGluZGljZXNcbiAgICAgICAgaWYgKGN1cnJlbnRSZW1vdmluZ05vZGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlbW92ZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHBhcnQgIT09IHVuZGVmaW5lZCAmJiBwYXJ0LmluZGV4ID09PSBub2RlSW5kZXgpIHtcbiAgICAgICAgICAgIC8vIElmIHBhcnQgaXMgaW4gYSByZW1vdmVkIG5vZGUgZGVhY3RpdmF0ZSBpdCBieSBzZXR0aW5nIGluZGV4IHRvIC0xIG9yXG4gICAgICAgICAgICAvLyBhZGp1c3QgdGhlIGluZGV4IGFzIG5lZWRlZC5cbiAgICAgICAgICAgIHBhcnQuaW5kZXggPSBjdXJyZW50UmVtb3ZpbmdOb2RlICE9PSBudWxsID8gLTEgOiBwYXJ0LmluZGV4IC0gcmVtb3ZlQ291bnQ7XG4gICAgICAgICAgICAvLyBnbyB0byB0aGUgbmV4dCBhY3RpdmUgcGFydC5cbiAgICAgICAgICAgIHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cywgcGFydEluZGV4KTtcbiAgICAgICAgICAgIHBhcnQgPSBwYXJ0c1twYXJ0SW5kZXhdO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5vZGVzVG9SZW1vdmVJblRlbXBsYXRlLmZvckVhY2goKG4pID0+IG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSk7XG59XG5jb25zdCBjb3VudE5vZGVzID0gKG5vZGUpID0+IHtcbiAgICBsZXQgY291bnQgPSAobm9kZS5ub2RlVHlwZSA9PT0gMTEgLyogTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFICovKSA/IDAgOiAxO1xuICAgIGNvbnN0IHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIobm9kZSwgd2Fsa2VyTm9kZUZpbHRlciwgbnVsbCwgZmFsc2UpO1xuICAgIHdoaWxlICh3YWxrZXIubmV4dE5vZGUoKSkge1xuICAgICAgICBjb3VudCsrO1xuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59O1xuY29uc3QgbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzID0gKHBhcnRzLCBzdGFydEluZGV4ID0gLTEpID0+IHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleCArIDE7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgIGlmIChpc1RlbXBsYXRlUGFydEFjdGl2ZShwYXJ0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufTtcbi8qKlxuICogSW5zZXJ0cyB0aGUgZ2l2ZW4gbm9kZSBpbnRvIHRoZSBUZW1wbGF0ZSwgb3B0aW9uYWxseSBiZWZvcmUgdGhlIGdpdmVuXG4gKiByZWZOb2RlLiBJbiBhZGRpdGlvbiB0byBpbnNlcnRpbmcgdGhlIG5vZGUgaW50byB0aGUgVGVtcGxhdGUsIHRoZSBUZW1wbGF0ZVxuICogcGFydCBpbmRpY2VzIGFyZSB1cGRhdGVkIHRvIG1hdGNoIHRoZSBtdXRhdGVkIFRlbXBsYXRlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIG5vZGUsIHJlZk5vZGUgPSBudWxsKSB7XG4gICAgY29uc3QgeyBlbGVtZW50OiB7IGNvbnRlbnQgfSwgcGFydHMgfSA9IHRlbXBsYXRlO1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmVmTm9kZSwgdGhlbiBwdXQgbm9kZSBhdCBlbmQgb2YgdGVtcGxhdGUuXG4gICAgLy8gTm8gcGFydCBpbmRpY2VzIG5lZWQgdG8gYmUgc2hpZnRlZCBpbiB0aGlzIGNhc2UuXG4gICAgaWYgKHJlZk5vZGUgPT09IG51bGwgfHwgcmVmTm9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgd2Fsa2VyID0gZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihjb250ZW50LCB3YWxrZXJOb2RlRmlsdGVyLCBudWxsLCBmYWxzZSk7XG4gICAgbGV0IHBhcnRJbmRleCA9IG5leHRBY3RpdmVJbmRleEluVGVtcGxhdGVQYXJ0cyhwYXJ0cyk7XG4gICAgbGV0IGluc2VydENvdW50ID0gMDtcbiAgICBsZXQgd2Fsa2VySW5kZXggPSAtMTtcbiAgICB3aGlsZSAod2Fsa2VyLm5leHROb2RlKCkpIHtcbiAgICAgICAgd2Fsa2VySW5kZXgrKztcbiAgICAgICAgY29uc3Qgd2Fsa2VyTm9kZSA9IHdhbGtlci5jdXJyZW50Tm9kZTtcbiAgICAgICAgaWYgKHdhbGtlck5vZGUgPT09IHJlZk5vZGUpIHtcbiAgICAgICAgICAgIGluc2VydENvdW50ID0gY291bnROb2Rlcyhub2RlKTtcbiAgICAgICAgICAgIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEgJiYgcGFydHNbcGFydEluZGV4XS5pbmRleCA9PT0gd2Fsa2VySW5kZXgpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3ZlIGluc2VydGVkIHRoZSBub2RlLCBzaW1wbHkgYWRqdXN0IGFsbCBzdWJzZXF1ZW50IHBhcnRzXG4gICAgICAgICAgICBpZiAoaW5zZXJ0Q291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHBhcnRJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydHNbcGFydEluZGV4XS5pbmRleCArPSBpbnNlcnRDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgcGFydEluZGV4ID0gbmV4dEFjdGl2ZUluZGV4SW5UZW1wbGF0ZVBhcnRzKHBhcnRzLCBwYXJ0SW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0SW5kZXggPSBuZXh0QWN0aXZlSW5kZXhJblRlbXBsYXRlUGFydHMocGFydHMsIHBhcnRJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RpZnktdGVtcGxhdGUuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBNb2R1bGUgdG8gYWRkIHNoYWR5IERPTS9zaGFkeSBDU1MgcG9seWZpbGwgc3VwcG9ydCB0byBsaXQtaHRtbCB0ZW1wbGF0ZVxuICogcmVuZGVyaW5nLiBTZWUgdGhlIFtbcmVuZGVyXV0gbWV0aG9kIGZvciBkZXRhaWxzLlxuICpcbiAqIEBtb2R1bGUgc2hhZHktcmVuZGVyXG4gKiBAcHJlZmVycmVkXG4gKi9cbi8qKlxuICogRG8gbm90IHJlbW92ZSB0aGlzIGNvbW1lbnQ7IGl0IGtlZXBzIHR5cGVkb2MgZnJvbSBtaXNwbGFjaW5nIHRoZSBtb2R1bGVcbiAqIGRvY3MuXG4gKi9cbmltcG9ydCB7IHJlbW92ZU5vZGVzIH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgaW5zZXJ0Tm9kZUludG9UZW1wbGF0ZSwgcmVtb3ZlTm9kZXNGcm9tVGVtcGxhdGUgfSBmcm9tICcuL21vZGlmeS10ZW1wbGF0ZS5qcyc7XG5pbXBvcnQgeyBwYXJ0cywgcmVuZGVyIGFzIGxpdFJlbmRlciB9IGZyb20gJy4vcmVuZGVyLmpzJztcbmltcG9ydCB7IHRlbXBsYXRlQ2FjaGVzIH0gZnJvbSAnLi90ZW1wbGF0ZS1mYWN0b3J5LmpzJztcbmltcG9ydCB7IFRlbXBsYXRlSW5zdGFuY2UgfSBmcm9tICcuL3RlbXBsYXRlLWluc3RhbmNlLmpzJztcbmltcG9ydCB7IG1hcmtlciwgVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICcuLi9saXQtaHRtbC5qcyc7XG4vLyBHZXQgYSBrZXkgdG8gbG9va3VwIGluIGB0ZW1wbGF0ZUNhY2hlc2AuXG5jb25zdCBnZXRUZW1wbGF0ZUNhY2hlS2V5ID0gKHR5cGUsIHNjb3BlTmFtZSkgPT4gYCR7dHlwZX0tLSR7c2NvcGVOYW1lfWA7XG5sZXQgY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbiA9IHRydWU7XG5pZiAodHlwZW9mIHdpbmRvdy5TaGFkeUNTUyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb21wYXRpYmxlU2hhZHlDU1NWZXJzaW9uID0gZmFsc2U7XG59XG5lbHNlIGlmICh0eXBlb2Ygd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZURvbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjb25zb2xlLndhcm4oYEluY29tcGF0aWJsZSBTaGFkeUNTUyB2ZXJzaW9uIGRldGVjdGVkLiBgICtcbiAgICAgICAgYFBsZWFzZSB1cGRhdGUgdG8gYXQgbGVhc3QgQHdlYmNvbXBvbmVudHMvd2ViY29tcG9uZW50c2pzQDIuMC4yIGFuZCBgICtcbiAgICAgICAgYEB3ZWJjb21wb25lbnRzL3NoYWR5Y3NzQDEuMy4xLmApO1xuICAgIGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gPSBmYWxzZTtcbn1cbi8qKlxuICogVGVtcGxhdGUgZmFjdG9yeSB3aGljaCBzY29wZXMgdGVtcGxhdGUgRE9NIHVzaW5nIFNoYWR5Q1NTLlxuICogQHBhcmFtIHNjb3BlTmFtZSB7c3RyaW5nfVxuICovXG5jb25zdCBzaGFkeVRlbXBsYXRlRmFjdG9yeSA9IChzY29wZU5hbWUpID0+IChyZXN1bHQpID0+IHtcbiAgICBjb25zdCBjYWNoZUtleSA9IGdldFRlbXBsYXRlQ2FjaGVLZXkocmVzdWx0LnR5cGUsIHNjb3BlTmFtZSk7XG4gICAgbGV0IHRlbXBsYXRlQ2FjaGUgPSB0ZW1wbGF0ZUNhY2hlcy5nZXQoY2FjaGVLZXkpO1xuICAgIGlmICh0ZW1wbGF0ZUNhY2hlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGVtcGxhdGVDYWNoZSA9IHtcbiAgICAgICAgICAgIHN0cmluZ3NBcnJheTogbmV3IFdlYWtNYXAoKSxcbiAgICAgICAgICAgIGtleVN0cmluZzogbmV3IE1hcCgpXG4gICAgICAgIH07XG4gICAgICAgIHRlbXBsYXRlQ2FjaGVzLnNldChjYWNoZUtleSwgdGVtcGxhdGVDYWNoZSk7XG4gICAgfVxuICAgIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlQ2FjaGUuc3RyaW5nc0FycmF5LmdldChyZXN1bHQuc3RyaW5ncyk7XG4gICAgaWYgKHRlbXBsYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlO1xuICAgIH1cbiAgICBjb25zdCBrZXkgPSByZXN1bHQuc3RyaW5ncy5qb2luKG1hcmtlcik7XG4gICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZUNhY2hlLmtleVN0cmluZy5nZXQoa2V5KTtcbiAgICBpZiAodGVtcGxhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gcmVzdWx0LmdldFRlbXBsYXRlRWxlbWVudCgpO1xuICAgICAgICBpZiAoY29tcGF0aWJsZVNoYWR5Q1NTVmVyc2lvbikge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZURvbShlbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRlbXBsYXRlID0gbmV3IFRlbXBsYXRlKHJlc3VsdCwgZWxlbWVudCk7XG4gICAgICAgIHRlbXBsYXRlQ2FjaGUua2V5U3RyaW5nLnNldChrZXksIHRlbXBsYXRlKTtcbiAgICB9XG4gICAgdGVtcGxhdGVDYWNoZS5zdHJpbmdzQXJyYXkuc2V0KHJlc3VsdC5zdHJpbmdzLCB0ZW1wbGF0ZSk7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufTtcbmNvbnN0IFRFTVBMQVRFX1RZUEVTID0gWydodG1sJywgJ3N2ZyddO1xuLyoqXG4gKiBSZW1vdmVzIGFsbCBzdHlsZSBlbGVtZW50cyBmcm9tIFRlbXBsYXRlcyBmb3IgdGhlIGdpdmVuIHNjb3BlTmFtZS5cbiAqL1xuY29uc3QgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyA9IChzY29wZU5hbWUpID0+IHtcbiAgICBURU1QTEFURV9UWVBFUy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlcyA9IHRlbXBsYXRlQ2FjaGVzLmdldChnZXRUZW1wbGF0ZUNhY2hlS2V5KHR5cGUsIHNjb3BlTmFtZSkpO1xuICAgICAgICBpZiAodGVtcGxhdGVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRlbXBsYXRlcy5rZXlTdHJpbmcuZm9yRWFjaCgodGVtcGxhdGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGVsZW1lbnQ6IHsgY29udGVudCB9IH0gPSB0ZW1wbGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBJRSAxMSBkb2Vzbid0IHN1cHBvcnQgdGhlIGl0ZXJhYmxlIHBhcmFtIFNldCBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgICBBcnJheS5mcm9tKGNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKSkuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMuYWRkKHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJlbW92ZU5vZGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBzdHlsZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5jb25zdCBzaGFkeVJlbmRlclNldCA9IG5ldyBTZXQoKTtcbi8qKlxuICogRm9yIHRoZSBnaXZlbiBzY29wZSBuYW1lLCBlbnN1cmVzIHRoYXQgU2hhZHlDU1Mgc3R5bGUgc2NvcGluZyBpcyBwZXJmb3JtZWQuXG4gKiBUaGlzIGlzIGRvbmUganVzdCBvbmNlIHBlciBzY29wZSBuYW1lIHNvIHRoZSBmcmFnbWVudCBhbmQgdGVtcGxhdGUgY2Fubm90XG4gKiBiZSBtb2RpZmllZC5cbiAqICgxKSBleHRyYWN0cyBzdHlsZXMgZnJvbSB0aGUgcmVuZGVyZWQgZnJhZ21lbnQgYW5kIGhhbmRzIHRoZW0gdG8gU2hhZHlDU1NcbiAqIHRvIGJlIHNjb3BlZCBhbmQgYXBwZW5kZWQgdG8gdGhlIGRvY3VtZW50XG4gKiAoMikgcmVtb3ZlcyBzdHlsZSBlbGVtZW50cyBmcm9tIGFsbCBsaXQtaHRtbCBUZW1wbGF0ZXMgZm9yIHRoaXMgc2NvcGUgbmFtZS5cbiAqXG4gKiBOb3RlLCA8c3R5bGU+IGVsZW1lbnRzIGNhbiBvbmx5IGJlIHBsYWNlZCBpbnRvIHRlbXBsYXRlcyBmb3IgdGhlXG4gKiBpbml0aWFsIHJlbmRlcmluZyBvZiB0aGUgc2NvcGUuIElmIDxzdHlsZT4gZWxlbWVudHMgYXJlIGluY2x1ZGVkIGluIHRlbXBsYXRlc1xuICogZHluYW1pY2FsbHkgcmVuZGVyZWQgdG8gdGhlIHNjb3BlIChhZnRlciB0aGUgZmlyc3Qgc2NvcGUgcmVuZGVyKSwgdGhleSB3aWxsXG4gKiBub3QgYmUgc2NvcGVkIGFuZCB0aGUgPHN0eWxlPiB3aWxsIGJlIGxlZnQgaW4gdGhlIHRlbXBsYXRlIGFuZCByZW5kZXJlZFxuICogb3V0cHV0LlxuICovXG5jb25zdCBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgPSAoc2NvcGVOYW1lLCByZW5kZXJlZERPTSwgdGVtcGxhdGUpID0+IHtcbiAgICBzaGFkeVJlbmRlclNldC5hZGQoc2NvcGVOYW1lKTtcbiAgICAvLyBJZiBgcmVuZGVyZWRET01gIGlzIHN0YW1wZWQgZnJvbSBhIFRlbXBsYXRlLCB0aGVuIHdlIG5lZWQgdG8gZWRpdCB0aGF0XG4gICAgLy8gVGVtcGxhdGUncyB1bmRlcmx5aW5nIHRlbXBsYXRlIGVsZW1lbnQuIE90aGVyd2lzZSwgd2UgY3JlYXRlIG9uZSBoZXJlXG4gICAgLy8gdG8gZ2l2ZSB0byBTaGFkeUNTUywgd2hpY2ggc3RpbGwgcmVxdWlyZXMgb25lIHdoaWxlIHNjb3BpbmcuXG4gICAgY29uc3QgdGVtcGxhdGVFbGVtZW50ID0gISF0ZW1wbGF0ZSA/IHRlbXBsYXRlLmVsZW1lbnQgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIC8vIE1vdmUgc3R5bGVzIG91dCBvZiByZW5kZXJlZCBET00gYW5kIHN0b3JlLlxuICAgIGNvbnN0IHN0eWxlcyA9IHJlbmRlcmVkRE9NLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJyk7XG4gICAgY29uc3QgeyBsZW5ndGggfSA9IHN0eWxlcztcbiAgICAvLyBJZiB0aGVyZSBhcmUgbm8gc3R5bGVzLCBza2lwIHVubmVjZXNzYXJ5IHdvcmtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIEVuc3VyZSBwcmVwYXJlVGVtcGxhdGVTdHlsZXMgaXMgY2FsbGVkIHRvIHN1cHBvcnQgYWRkaW5nXG4gICAgICAgIC8vIHN0eWxlcyB2aWEgYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGAgc2luY2UgdGhhdCByZXF1aXJlcyB0aGF0XG4gICAgICAgIC8vIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgIGlzIGNhbGxlZC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gU2hhZHlDU1Mgd2lsbCBvbmx5IHVwZGF0ZSBzdHlsZXMgY29udGFpbmluZyBAYXBwbHkgaW4gdGhlIHRlbXBsYXRlXG4gICAgICAgIC8vIGdpdmVuIHRvIGBwcmVwYXJlVGVtcGxhdGVTdHlsZXNgLiBJZiBubyBsaXQgVGVtcGxhdGUgd2FzIGdpdmVuLFxuICAgICAgICAvLyBTaGFkeUNTUyB3aWxsIG5vdCBiZSBhYmxlIHRvIHVwZGF0ZSB1c2VzIG9mIEBhcHBseSBpbiBhbnkgcmVsZXZhbnRcbiAgICAgICAgLy8gdGVtcGxhdGUuIEhvd2V2ZXIsIHRoaXMgaXMgbm90IGEgcHJvYmxlbSBiZWNhdXNlIHdlIG9ubHkgY3JlYXRlIHRoZVxuICAgICAgICAvLyB0ZW1wbGF0ZSBmb3IgdGhlIHB1cnBvc2Ugb2Ygc3VwcG9ydGluZyBgcHJlcGFyZUFkb3B0ZWRDc3NUZXh0YCxcbiAgICAgICAgLy8gd2hpY2ggZG9lc24ndCBzdXBwb3J0IEBhcHBseSBhdCBhbGwuXG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGVFbGVtZW50LCBzY29wZU5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNvbmRlbnNlZFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAvLyBDb2xsZWN0IHN0eWxlcyBpbnRvIGEgc2luZ2xlIHN0eWxlLiBUaGlzIGhlbHBzIHVzIG1ha2Ugc3VyZSBTaGFkeUNTU1xuICAgIC8vIG1hbmlwdWxhdGlvbnMgd2lsbCBub3QgcHJldmVudCB1cyBmcm9tIGJlaW5nIGFibGUgdG8gZml4IHVwIHRlbXBsYXRlXG4gICAgLy8gcGFydCBpbmRpY2VzLlxuICAgIC8vIE5PVEU6IGNvbGxlY3Rpbmcgc3R5bGVzIGlzIGluZWZmaWNpZW50IGZvciBicm93c2VycyBidXQgU2hhZHlDU1NcbiAgICAvLyBjdXJyZW50bHkgZG9lcyB0aGlzIGFueXdheS4gV2hlbiBpdCBkb2VzIG5vdCwgdGhpcyBzaG91bGQgYmUgY2hhbmdlZC5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgICAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbiAgICAgICAgY29uZGVuc2VkU3R5bGUudGV4dENvbnRlbnQgKz0gc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8vIFJlbW92ZSBzdHlsZXMgZnJvbSBuZXN0ZWQgdGVtcGxhdGVzIGluIHRoaXMgc2NvcGUuXG4gICAgcmVtb3ZlU3R5bGVzRnJvbUxpdFRlbXBsYXRlcyhzY29wZU5hbWUpO1xuICAgIC8vIEFuZCB0aGVuIHB1dCB0aGUgY29uZGVuc2VkIHN0eWxlIGludG8gdGhlIFwicm9vdFwiIHRlbXBsYXRlIHBhc3NlZCBpbiBhc1xuICAgIC8vIGB0ZW1wbGF0ZWAuXG4gICAgY29uc3QgY29udGVudCA9IHRlbXBsYXRlRWxlbWVudC5jb250ZW50O1xuICAgIGlmICghIXRlbXBsYXRlKSB7XG4gICAgICAgIGluc2VydE5vZGVJbnRvVGVtcGxhdGUodGVtcGxhdGUsIGNvbmRlbnNlZFN0eWxlLCBjb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudC5pbnNlcnRCZWZvcmUoY29uZGVuc2VkU3R5bGUsIGNvbnRlbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIC8vIE5vdGUsIGl0J3MgaW1wb3J0YW50IHRoYXQgU2hhZHlDU1MgZ2V0cyB0aGUgdGVtcGxhdGUgdGhhdCBgbGl0LWh0bWxgXG4gICAgLy8gd2lsbCBhY3R1YWxseSByZW5kZXIgc28gdGhhdCBpdCBjYW4gdXBkYXRlIHRoZSBzdHlsZSBpbnNpZGUgd2hlblxuICAgIC8vIG5lZWRlZCAoZS5nLiBAYXBwbHkgbmF0aXZlIFNoYWRvdyBET00gY2FzZSkuXG4gICAgd2luZG93LlNoYWR5Q1NTLnByZXBhcmVUZW1wbGF0ZVN0eWxlcyh0ZW1wbGF0ZUVsZW1lbnQsIHNjb3BlTmFtZSk7XG4gICAgY29uc3Qgc3R5bGUgPSBjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJyk7XG4gICAgaWYgKHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVTaGFkb3cgJiYgc3R5bGUgIT09IG51bGwpIHtcbiAgICAgICAgLy8gV2hlbiBpbiBuYXRpdmUgU2hhZG93IERPTSwgZW5zdXJlIHRoZSBzdHlsZSBjcmVhdGVkIGJ5IFNoYWR5Q1NTIGlzXG4gICAgICAgIC8vIGluY2x1ZGVkIGluIGluaXRpYWxseSByZW5kZXJlZCBvdXRwdXQgKGByZW5kZXJlZERPTWApLlxuICAgICAgICByZW5kZXJlZERPTS5pbnNlcnRCZWZvcmUoc3R5bGUuY2xvbmVOb2RlKHRydWUpLCByZW5kZXJlZERPTS5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoISF0ZW1wbGF0ZSkge1xuICAgICAgICAvLyBXaGVuIG5vIHN0eWxlIGlzIGxlZnQgaW4gdGhlIHRlbXBsYXRlLCBwYXJ0cyB3aWxsIGJlIGJyb2tlbiBhcyBhXG4gICAgICAgIC8vIHJlc3VsdC4gVG8gZml4IHRoaXMsIHdlIHB1dCBiYWNrIHRoZSBzdHlsZSBub2RlIFNoYWR5Q1NTIHJlbW92ZWRcbiAgICAgICAgLy8gYW5kIHRoZW4gdGVsbCBsaXQgdG8gcmVtb3ZlIHRoYXQgbm9kZSBmcm9tIHRoZSB0ZW1wbGF0ZS5cbiAgICAgICAgLy8gVGhlcmUgY2FuIGJlIG5vIHN0eWxlIGluIHRoZSB0ZW1wbGF0ZSBpbiAyIGNhc2VzICgxKSB3aGVuIFNoYWR5IERPTVxuICAgICAgICAvLyBpcyBpbiB1c2UsIFNoYWR5Q1NTIHJlbW92ZXMgYWxsIHN0eWxlcywgKDIpIHdoZW4gbmF0aXZlIFNoYWRvdyBET01cbiAgICAgICAgLy8gaXMgaW4gdXNlIFNoYWR5Q1NTIHJlbW92ZXMgdGhlIHN0eWxlIGlmIGl0IGNvbnRhaW5zIG5vIGNvbnRlbnQuXG4gICAgICAgIC8vIE5PVEUsIFNoYWR5Q1NTIGNyZWF0ZXMgaXRzIG93biBzdHlsZSBzbyB3ZSBjYW4gc2FmZWx5IGFkZC9yZW1vdmVcbiAgICAgICAgLy8gYGNvbmRlbnNlZFN0eWxlYCBoZXJlLlxuICAgICAgICBjb250ZW50Lmluc2VydEJlZm9yZShjb25kZW5zZWRTdHlsZSwgY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgY29uc3QgcmVtb3ZlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcmVtb3Zlcy5hZGQoY29uZGVuc2VkU3R5bGUpO1xuICAgICAgICByZW1vdmVOb2Rlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgcmVtb3Zlcyk7XG4gICAgfVxufTtcbi8qKlxuICogRXh0ZW5zaW9uIHRvIHRoZSBzdGFuZGFyZCBgcmVuZGVyYCBtZXRob2Qgd2hpY2ggc3VwcG9ydHMgcmVuZGVyaW5nXG4gKiB0byBTaGFkb3dSb290cyB3aGVuIHRoZSBTaGFkeURPTSAoaHR0cHM6Ly9naXRodWIuY29tL3dlYmNvbXBvbmVudHMvc2hhZHlkb20pXG4gKiBhbmQgU2hhZHlDU1MgKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzKSBwb2x5ZmlsbHMgYXJlIHVzZWRcbiAqIG9yIHdoZW4gdGhlIHdlYmNvbXBvbmVudHNqc1xuICogKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3dlYmNvbXBvbmVudHNqcykgcG9seWZpbGwgaXMgdXNlZC5cbiAqXG4gKiBBZGRzIGEgYHNjb3BlTmFtZWAgb3B0aW9uIHdoaWNoIGlzIHVzZWQgdG8gc2NvcGUgZWxlbWVudCBET00gYW5kIHN0eWxlc2hlZXRzXG4gKiB3aGVuIG5hdGl2ZSBTaGFkb3dET00gaXMgdW5hdmFpbGFibGUuIFRoZSBgc2NvcGVOYW1lYCB3aWxsIGJlIGFkZGVkIHRvXG4gKiB0aGUgY2xhc3MgYXR0cmlidXRlIG9mIGFsbCByZW5kZXJlZCBET00uIEluIGFkZGl0aW9uLCBhbnkgc3R5bGUgZWxlbWVudHMgd2lsbFxuICogYmUgYXV0b21hdGljYWxseSByZS13cml0dGVuIHdpdGggdGhpcyBgc2NvcGVOYW1lYCBzZWxlY3RvciBhbmQgbW92ZWQgb3V0XG4gKiBvZiB0aGUgcmVuZGVyZWQgRE9NIGFuZCBpbnRvIHRoZSBkb2N1bWVudCBgPGhlYWQ+YC5cbiAqXG4gKiBJdCBpcyBjb21tb24gdG8gdXNlIHRoaXMgcmVuZGVyIG1ldGhvZCBpbiBjb25qdW5jdGlvbiB3aXRoIGEgY3VzdG9tIGVsZW1lbnRcbiAqIHdoaWNoIHJlbmRlcnMgYSBzaGFkb3dSb290LiBXaGVuIHRoaXMgaXMgZG9uZSwgdHlwaWNhbGx5IHRoZSBlbGVtZW50J3NcbiAqIGBsb2NhbE5hbWVgIHNob3VsZCBiZSB1c2VkIGFzIHRoZSBgc2NvcGVOYW1lYC5cbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBET00gc2NvcGluZywgU2hhZHlDU1MgYWxzbyBzdXBwb3J0cyBhIGJhc2ljIHNoaW0gZm9yIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgKG5lZWRlZCBvbmx5IG9uIG9sZGVyIGJyb3dzZXJzIGxpa2UgSUUxMSkgYW5kIGEgc2hpbSBmb3JcbiAqIGEgZGVwcmVjYXRlZCBmZWF0dXJlIGNhbGxlZCBgQGFwcGx5YCB0aGF0IHN1cHBvcnRzIGFwcGx5aW5nIGEgc2V0IG9mIGNzc1xuICogY3VzdG9tIHByb3BlcnRpZXMgdG8gYSBnaXZlbiBsb2NhdGlvbi5cbiAqXG4gKiBVc2FnZSBjb25zaWRlcmF0aW9uczpcbiAqXG4gKiAqIFBhcnQgdmFsdWVzIGluIGA8c3R5bGU+YCBlbGVtZW50cyBhcmUgb25seSBhcHBsaWVkIHRoZSBmaXJzdCB0aW1lIGEgZ2l2ZW5cbiAqIGBzY29wZU5hbWVgIHJlbmRlcnMuIFN1YnNlcXVlbnQgY2hhbmdlcyB0byBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyB3aWxsIGhhdmVcbiAqIG5vIGVmZmVjdC4gQmVjYXVzZSBvZiB0aGlzLCBwYXJ0cyBpbiBzdHlsZSBlbGVtZW50cyBzaG91bGQgb25seSBiZSB1c2VkIGZvclxuICogdmFsdWVzIHRoYXQgd2lsbCBuZXZlciBjaGFuZ2UsIGZvciBleGFtcGxlIHBhcnRzIHRoYXQgc2V0IHNjb3BlLXdpZGUgdGhlbWVcbiAqIHZhbHVlcyBvciBwYXJ0cyB3aGljaCByZW5kZXIgc2hhcmVkIHN0eWxlIGVsZW1lbnRzLlxuICpcbiAqICogTm90ZSwgZHVlIHRvIGEgbGltaXRhdGlvbiBvZiB0aGUgU2hhZHlET00gcG9seWZpbGwsIHJlbmRlcmluZyBpbiBhXG4gKiBjdXN0b20gZWxlbWVudCdzIGBjb25zdHJ1Y3RvcmAgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCByZW5kZXJpbmcgc2hvdWxkXG4gKiBlaXRoZXIgZG9uZSBhc3luY2hyb25vdXNseSwgZm9yIGV4YW1wbGUgYXQgbWljcm90YXNrIHRpbWluZyAoZm9yIGV4YW1wbGVcbiAqIGBQcm9taXNlLnJlc29sdmUoKWApLCBvciBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgZmlyc3QgdGltZSB0aGUgZWxlbWVudCdzXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIHJ1bnMuXG4gKlxuICogVXNhZ2UgY29uc2lkZXJhdGlvbnMgd2hlbiB1c2luZyBzaGltbWVkIGN1c3RvbSBwcm9wZXJ0aWVzIG9yIGBAYXBwbHlgOlxuICpcbiAqICogV2hlbmV2ZXIgYW55IGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSB3aGljaCBhZmZlY3RcbiAqIGNzcyBjdXN0b20gcHJvcGVydGllcywgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudChlbGVtZW50KWAgbXVzdCBiZSBjYWxsZWRcbiAqIHRvIHVwZGF0ZSB0aGUgZWxlbWVudC4gVGhlcmUgYXJlIHR3byBjYXNlcyB3aGVuIHRoaXMgaXMgbmVlZGVkOlxuICogKDEpIHRoZSBlbGVtZW50IGlzIGNvbm5lY3RlZCB0byBhIG5ldyBwYXJlbnQsICgyKSBhIGNsYXNzIGlzIGFkZGVkIHRvIHRoZVxuICogZWxlbWVudCB0aGF0IGNhdXNlcyBpdCB0byBtYXRjaCBkaWZmZXJlbnQgY3VzdG9tIHByb3BlcnRpZXMuXG4gKiBUbyBhZGRyZXNzIHRoZSBmaXJzdCBjYXNlIHdoZW4gcmVuZGVyaW5nIGEgY3VzdG9tIGVsZW1lbnQsIGBzdHlsZUVsZW1lbnRgXG4gKiBzaG91bGQgYmUgY2FsbGVkIGluIHRoZSBlbGVtZW50J3MgYGNvbm5lY3RlZENhbGxiYWNrYC5cbiAqXG4gKiAqIFNoaW1tZWQgY3VzdG9tIHByb3BlcnRpZXMgbWF5IG9ubHkgYmUgZGVmaW5lZCBlaXRoZXIgZm9yIGFuIGVudGlyZVxuICogc2hhZG93Um9vdCAoZm9yIGV4YW1wbGUsIGluIGEgYDpob3N0YCBydWxlKSBvciB2aWEgYSBydWxlIHRoYXQgZGlyZWN0bHlcbiAqIG1hdGNoZXMgYW4gZWxlbWVudCB3aXRoIGEgc2hhZG93Um9vdC4gSW4gb3RoZXIgd29yZHMsIGluc3RlYWQgb2YgZmxvd2luZyBmcm9tXG4gKiBwYXJlbnQgdG8gY2hpbGQgYXMgZG8gbmF0aXZlIGNzcyBjdXN0b20gcHJvcGVydGllcywgc2hpbW1lZCBjdXN0b20gcHJvcGVydGllc1xuICogZmxvdyBvbmx5IGZyb20gc2hhZG93Um9vdHMgdG8gbmVzdGVkIHNoYWRvd1Jvb3RzLlxuICpcbiAqICogV2hlbiB1c2luZyBgQGFwcGx5YCBtaXhpbmcgY3NzIHNob3J0aGFuZCBwcm9wZXJ0eSBuYW1lcyB3aXRoXG4gKiBub24tc2hvcnRoYW5kIG5hbWVzIChmb3IgZXhhbXBsZSBgYm9yZGVyYCBhbmQgYGJvcmRlci13aWR0aGApIGlzIG5vdFxuICogc3VwcG9ydGVkLlxuICovXG5leHBvcnQgY29uc3QgcmVuZGVyID0gKHJlc3VsdCwgY29udGFpbmVyLCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKCFvcHRpb25zIHx8IHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JyB8fCAhb3B0aW9ucy5zY29wZU5hbWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgYHNjb3BlTmFtZWAgb3B0aW9uIGlzIHJlcXVpcmVkLicpO1xuICAgIH1cbiAgICBjb25zdCBzY29wZU5hbWUgPSBvcHRpb25zLnNjb3BlTmFtZTtcbiAgICBjb25zdCBoYXNSZW5kZXJlZCA9IHBhcnRzLmhhcyhjb250YWluZXIpO1xuICAgIGNvbnN0IG5lZWRzU2NvcGluZyA9IGNvbXBhdGlibGVTaGFkeUNTU1ZlcnNpb24gJiZcbiAgICAgICAgY29udGFpbmVyLm5vZGVUeXBlID09PSAxMSAvKiBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgKi8gJiZcbiAgICAgICAgISFjb250YWluZXIuaG9zdDtcbiAgICAvLyBIYW5kbGUgZmlyc3QgcmVuZGVyIHRvIGEgc2NvcGUgc3BlY2lhbGx5Li4uXG4gICAgY29uc3QgZmlyc3RTY29wZVJlbmRlciA9IG5lZWRzU2NvcGluZyAmJiAhc2hhZHlSZW5kZXJTZXQuaGFzKHNjb3BlTmFtZSk7XG4gICAgLy8gT24gZmlyc3Qgc2NvcGUgcmVuZGVyLCByZW5kZXIgaW50byBhIGZyYWdtZW50OyB0aGlzIGNhbm5vdCBiZSBhIHNpbmdsZVxuICAgIC8vIGZyYWdtZW50IHRoYXQgaXMgcmV1c2VkIHNpbmNlIG5lc3RlZCByZW5kZXJzIGNhbiBvY2N1ciBzeW5jaHJvbm91c2x5LlxuICAgIGNvbnN0IHJlbmRlckNvbnRhaW5lciA9IGZpcnN0U2NvcGVSZW5kZXIgPyBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkgOiBjb250YWluZXI7XG4gICAgbGl0UmVuZGVyKHJlc3VsdCwgcmVuZGVyQ29udGFpbmVyLCBPYmplY3QuYXNzaWduKHsgdGVtcGxhdGVGYWN0b3J5OiBzaGFkeVRlbXBsYXRlRmFjdG9yeShzY29wZU5hbWUpIH0sIG9wdGlvbnMpKTtcbiAgICAvLyBXaGVuIHBlcmZvcm1pbmcgZmlyc3Qgc2NvcGUgcmVuZGVyLFxuICAgIC8vICgxKSBXZSd2ZSByZW5kZXJlZCBpbnRvIGEgZnJhZ21lbnQgc28gdGhhdCB0aGVyZSdzIGEgY2hhbmNlIHRvXG4gICAgLy8gYHByZXBhcmVUZW1wbGF0ZVN0eWxlc2AgYmVmb3JlIHN1Yi1lbGVtZW50cyBoaXQgdGhlIERPTVxuICAgIC8vICh3aGljaCBtaWdodCBjYXVzZSB0aGVtIHRvIHJlbmRlciBiYXNlZCBvbiBhIGNvbW1vbiBwYXR0ZXJuIG9mXG4gICAgLy8gcmVuZGVyaW5nIGluIGEgY3VzdG9tIGVsZW1lbnQncyBgY29ubmVjdGVkQ2FsbGJhY2tgKTtcbiAgICAvLyAoMikgU2NvcGUgdGhlIHRlbXBsYXRlIHdpdGggU2hhZHlDU1Mgb25lIHRpbWUgb25seSBmb3IgdGhpcyBzY29wZS5cbiAgICAvLyAoMykgUmVuZGVyIHRoZSBmcmFnbWVudCBpbnRvIHRoZSBjb250YWluZXIgYW5kIG1ha2Ugc3VyZSB0aGVcbiAgICAvLyBjb250YWluZXIga25vd3MgaXRzIGBwYXJ0YCBpcyB0aGUgb25lIHdlIGp1c3QgcmVuZGVyZWQuIFRoaXMgZW5zdXJlc1xuICAgIC8vIERPTSB3aWxsIGJlIHJlLXVzZWQgb24gc3Vic2VxdWVudCByZW5kZXJzLlxuICAgIGlmIChmaXJzdFNjb3BlUmVuZGVyKSB7XG4gICAgICAgIGNvbnN0IHBhcnQgPSBwYXJ0cy5nZXQocmVuZGVyQ29udGFpbmVyKTtcbiAgICAgICAgcGFydHMuZGVsZXRlKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIC8vIFNoYWR5Q1NTIG1pZ2h0IGhhdmUgc3R5bGUgc2hlZXRzIChlLmcuIGZyb20gYHByZXBhcmVBZG9wdGVkQ3NzVGV4dGApXG4gICAgICAgIC8vIHRoYXQgc2hvdWxkIGFwcGx5IHRvIGByZW5kZXJDb250YWluZXJgIGV2ZW4gaWYgdGhlIHJlbmRlcmVkIHZhbHVlIGlzXG4gICAgICAgIC8vIG5vdCBhIFRlbXBsYXRlSW5zdGFuY2UuIEhvd2V2ZXIsIGl0IHdpbGwgb25seSBpbnNlcnQgc2NvcGVkIHN0eWxlc1xuICAgICAgICAvLyBpbnRvIHRoZSBkb2N1bWVudCBpZiBgcHJlcGFyZVRlbXBsYXRlU3R5bGVzYCBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgICAgICAvLyBmb3IgdGhlIGdpdmVuIHNjb3BlIG5hbWUuXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gcGFydC52YWx1ZSBpbnN0YW5jZW9mIFRlbXBsYXRlSW5zdGFuY2UgP1xuICAgICAgICAgICAgcGFydC52YWx1ZS50ZW1wbGF0ZSA6XG4gICAgICAgICAgICB1bmRlZmluZWQ7XG4gICAgICAgIHByZXBhcmVUZW1wbGF0ZVN0eWxlcyhzY29wZU5hbWUsIHJlbmRlckNvbnRhaW5lciwgdGVtcGxhdGUpO1xuICAgICAgICByZW1vdmVOb2Rlcyhjb250YWluZXIsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlckNvbnRhaW5lcik7XG4gICAgICAgIHBhcnRzLnNldChjb250YWluZXIsIHBhcnQpO1xuICAgIH1cbiAgICAvLyBBZnRlciBlbGVtZW50cyBoYXZlIGhpdCB0aGUgRE9NLCB1cGRhdGUgc3R5bGluZyBpZiB0aGlzIGlzIHRoZVxuICAgIC8vIGluaXRpYWwgcmVuZGVyIHRvIHRoaXMgY29udGFpbmVyLlxuICAgIC8vIFRoaXMgaXMgbmVlZGVkIHdoZW5ldmVyIGR5bmFtaWMgY2hhbmdlcyBhcmUgbWFkZSBzbyBpdCB3b3VsZCBiZVxuICAgIC8vIHNhZmVzdCB0byBkbyBldmVyeSByZW5kZXI7IGhvd2V2ZXIsIHRoaXMgd291bGQgcmVncmVzcyBwZXJmb3JtYW5jZVxuICAgIC8vIHNvIHdlIGxlYXZlIGl0IHVwIHRvIHRoZSB1c2VyIHRvIGNhbGwgYFNoYWR5Q1NTLnN0eWxlRWxlbWVudGBcbiAgICAvLyBmb3IgZHluYW1pYyBjaGFuZ2VzLlxuICAgIGlmICghaGFzUmVuZGVyZWQgJiYgbmVlZHNTY29waW5nKSB7XG4gICAgICAgIHdpbmRvdy5TaGFkeUNTUy5zdHlsZUVsZW1lbnQoY29udGFpbmVyLmhvc3QpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGFkeS1yZW5kZXIuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLyoqXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXNcbiAqIHJlcGxhY2VkIGF0IGNvbXBpbGUgdGltZSBieSB0aGUgbXVuZ2VkIG5hbWUgZm9yIG9iamVjdFtwcm9wZXJ0eV0uIFdlIGNhbm5vdFxuICogYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lXG4gKiBiZWhhdmlvciB3aGVuIG5vdCBjb21waWxpbmcuXG4gKi9cbmNvbnN0IEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkgPSAocHJvcCwgX29iaikgPT4gcHJvcDtcbi8qKlxuICogUmV0dXJucyB0aGUgcHJvcGVydHkgZGVzY3JpcHRvciBmb3IgYSBwcm9wZXJ0eSBvbiB0aGlzIHByb3RvdHlwZSBieSB3YWxraW5nXG4gKiB1cCB0aGUgcHJvdG90eXBlIGNoYWluLiBOb3RlIHRoYXQgd2Ugc3RvcCBqdXN0IGJlZm9yZSBPYmplY3QucHJvdG90eXBlLCB3aGljaFxuICogYWxzbyBhdm9pZHMgaXNzdWVzIHdpdGggU3ltYm9sIHBvbHlmaWxscyAoY29yZS1qcywgZ2V0LW93bi1wcm9wZXJ0eS1zeW1ib2xzKSxcbiAqIHdoaWNoIGNyZWF0ZSBhY2Nlc3NvcnMgZm9yIHRoZSBzeW1ib2xzIG9uIE9iamVjdC5wcm90b3R5cGUuXG4gKi9cbmNvbnN0IGRlc2NyaXB0b3JGcm9tUHJvdG90eXBlID0gKG5hbWUsIHByb3RvKSA9PiB7XG4gICAgaWYgKG5hbWUgaW4gcHJvdG8pIHtcbiAgICAgICAgd2hpbGUgKHByb3RvICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgICAgICBpZiAocHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihwcm90bywgbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5leHBvcnQgY29uc3QgZGVmYXVsdENvbnZlcnRlciA9IHtcbiAgICB0b0F0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgQm9vbGVhbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPyAnJyA6IG51bGw7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHZhbHVlIGlzIGBudWxsYCBvciBgdW5kZWZpbmVkYCBwYXNzIHRoaXMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIHRvIGFsbG93IHJlbW92aW5nL25vIGNoYW5nZSBiZWhhdmlvci5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHZhbHVlIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgIGZyb21BdHRyaWJ1dGUodmFsdWUsIHR5cGUpIHtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEJvb2xlYW46XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlICE9PSBudWxsO1xuICAgICAgICAgICAgY2FzZSBOdW1iZXI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsID8gbnVsbCA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBjYXNlIE9iamVjdDpcbiAgICAgICAgICAgIGNhc2UgQXJyYXk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59O1xuLyoqXG4gKiBDaGFuZ2UgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBkaWZmZXJlbnQgZnJvbSBgb2xkVmFsdWVgLlxuICogVGhpcyBtZXRob2QgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBmb3IgYSBwcm9wZXJ0eSdzIGBoYXNDaGFuZ2VkYCBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vdEVxdWFsID0gKHZhbHVlLCBvbGQpID0+IHtcbiAgICAvLyBUaGlzIGVuc3VyZXMgKG9sZD09TmFOLCB2YWx1ZT09TmFOKSBhbHdheXMgcmV0dXJucyBmYWxzZVxuICAgIHJldHVybiBvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpO1xufTtcbmNvbnN0IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uID0ge1xuICAgIGF0dHJpYnV0ZTogdHJ1ZSxcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgY29udmVydGVyOiBkZWZhdWx0Q29udmVydGVyLFxuICAgIHJlZmxlY3Q6IGZhbHNlLFxuICAgIGhhc0NoYW5nZWQ6IG5vdEVxdWFsXG59O1xuY29uc3QgbWljcm90YXNrUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbmNvbnN0IFNUQVRFX0hBU19VUERBVEVEID0gMTtcbmNvbnN0IFNUQVRFX1VQREFURV9SRVFVRVNURUQgPSAxIDw8IDI7XG5jb25zdCBTVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURSA9IDEgPDwgMztcbmNvbnN0IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkgPSAxIDw8IDQ7XG5jb25zdCBTVEFURV9IQVNfQ09OTkVDVEVEID0gMSA8PCA1O1xuLyoqXG4gKiBCYXNlIGVsZW1lbnQgY2xhc3Mgd2hpY2ggbWFuYWdlcyBlbGVtZW50IHByb3BlcnRpZXMgYW5kIGF0dHJpYnV0ZXMuIFdoZW5cbiAqIHByb3BlcnRpZXMgY2hhbmdlLCB0aGUgYHVwZGF0ZWAgbWV0aG9kIGlzIGFzeW5jaHJvbm91c2x5IGNhbGxlZC4gVGhpcyBtZXRob2RcbiAqIHNob3VsZCBiZSBzdXBwbGllZCBieSBzdWJjbGFzc2VycyB0byByZW5kZXIgdXBkYXRlcyBhcyBkZXNpcmVkLlxuICovXG5leHBvcnQgY2xhc3MgVXBkYXRpbmdFbGVtZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IDA7XG4gICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG1pY3JvdGFza1Byb21pc2U7XG4gICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFwIHdpdGgga2V5cyBmb3IgYW55IHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgICAgICogdXBkYXRlIGN5Y2xlIHdpdGggcHJldmlvdXMgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXAgd2l0aCBrZXlzIG9mIHByb3BlcnRpZXMgdGhhdCBzaG91bGQgYmUgcmVmbGVjdGVkIHdoZW4gdXBkYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluaXRpYWxpemUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXR0cmlidXRlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gbm90ZTogcGlnZ3kgYmFja2luZyBvbiB0aGlzIHRvIGVuc3VyZSB3ZSdyZSBfZmluYWxpemVkLlxuICAgICAgICB0aGlzLl9maW5hbGl6ZSgpO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW3AsIHZdIG9mIHRoaXMuX2NsYXNzUHJvcGVydGllcykge1xuICAgICAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwLCB2KTtcbiAgICAgICAgICAgIGlmIChhdHRyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLnNldChhdHRyLCBwKTtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLnB1c2goYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhlIHByaXZhdGUgYF9jbGFzc1Byb3BlcnRpZXNgIHByb3BlcnR5IG1ldGFkYXRhIGlzIGNyZWF0ZWQuXG4gICAgICogSW4gYWRkaXRpb24gdG8gYF9maW5hbGl6ZWAgdGhpcyBpcyBhbHNvIGNhbGxlZCBpbiBgY3JlYXRlUHJvcGVydHlgIHRvXG4gICAgICogZW5zdXJlIHRoZSBgQHByb3BlcnR5YCBkZWNvcmF0b3IgY2FuIGFkZCBwcm9wZXJ0eSBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpIHtcbiAgICAgICAgLy8gZW5zdXJlIHByaXZhdGUgc3RvcmFnZSBmb3IgcHJvcGVydHkgZGVjbGFyYXRpb25zLlxuICAgICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX2NsYXNzUHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgdGhpcy5fY2xhc3NQcm9wZXJ0aWVzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgLy8gTk9URTogV29ya2Fyb3VuZCBJRTExIG5vdCBzdXBwb3J0aW5nIE1hcCBjb25zdHJ1Y3RvciBhcmd1bWVudC5cbiAgICAgICAgICAgIGNvbnN0IHN1cGVyUHJvcGVydGllcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fY2xhc3NQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgaWYgKHN1cGVyUHJvcGVydGllcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc3VwZXJQcm9wZXJ0aWVzLmZvckVhY2goKHYsIGspID0+IHRoaXMuX2NsYXNzUHJvcGVydGllcy5zZXQoaywgdikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBwcm9wZXJ0eSBhY2Nlc3NvciBvbiB0aGUgZWxlbWVudCBwcm90b3R5cGUgaWYgb25lIGRvZXMgbm90IGV4aXN0LlxuICAgICAqIFRoZSBwcm9wZXJ0eSBzZXR0ZXIgY2FsbHMgdGhlIHByb3BlcnR5J3MgYGhhc0NoYW5nZWRgIHByb3BlcnR5IG9wdGlvblxuICAgICAqIG9yIHVzZXMgYSBzdHJpY3QgaWRlbnRpdHkgY2hlY2sgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgb3Igbm90IHRvIHJlcXVlc3RcbiAgICAgKiBhbiB1cGRhdGUuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlUHJvcGVydHkobmFtZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIC8vIE5vdGUsIHNpbmNlIHRoaXMgY2FuIGJlIGNhbGxlZCBieSB0aGUgYEBwcm9wZXJ0eWAgZGVjb3JhdG9yIHdoaWNoXG4gICAgICAgIC8vIGlzIGNhbGxlZCBiZWZvcmUgYF9maW5hbGl6ZWAsIHdlIGVuc3VyZSBzdG9yYWdlIGV4aXN0cyBmb3IgcHJvcGVydHlcbiAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgIHRoaXMuX2Vuc3VyZUNsYXNzUHJvcGVydGllcygpO1xuICAgICAgICB0aGlzLl9jbGFzc1Byb3BlcnRpZXMuc2V0KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoIW9wdGlvbnMubm9BY2Nlc3Nvcikge1xuICAgICAgICAgICAgY29uc3Qgc3VwZXJEZXNjID0gZGVzY3JpcHRvckZyb21Qcm90b3R5cGUobmFtZSwgdGhpcy5wcm90b3R5cGUpO1xuICAgICAgICAgICAgbGV0IGRlc2M7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIHN1cGVyIGFjY2Vzc29yLCBjYXB0dXJlIGl0IGFuZCBcInN1cGVyXCIgdG8gaXRcbiAgICAgICAgICAgIGlmIChzdXBlckRlc2MgIT09IHVuZGVmaW5lZCAmJiAoc3VwZXJEZXNjLnNldCAmJiBzdXBlckRlc2MuZ2V0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgc2V0LCBnZXQgfSA9IHN1cGVyRGVzYztcbiAgICAgICAgICAgICAgICBkZXNjID0ge1xuICAgICAgICAgICAgICAgICAgICBnZXQoKSB7IHJldHVybiBnZXQuY2FsbCh0aGlzKTsgfSxcbiAgICAgICAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXNbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gdHlwZW9mIG5hbWUgPT09ICdzeW1ib2wnID8gU3ltYm9sKCkgOiBgX18ke25hbWV9YDtcbiAgICAgICAgICAgICAgICBkZXNjID0ge1xuICAgICAgICAgICAgICAgICAgICBnZXQoKSB7IHJldHVybiB0aGlzW2tleV07IH0sXG4gICAgICAgICAgICAgICAgICAgIHNldCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUobmFtZSwgb2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMucHJvdG90eXBlLCBuYW1lLCBkZXNjKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzIGFuZCBlbnN1cmVzXG4gICAgICogYW55IHN1cGVyY2xhc3NlcyBhcmUgYWxzbyBmaW5hbGl6ZWQuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2ZpbmFsaXplKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdmaW5hbGl6ZWQnLCB0aGlzKSkgJiZcbiAgICAgICAgICAgIHRoaXMuZmluYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluYWxpemUgYW55IHN1cGVyY2xhc3Nlc1xuICAgICAgICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgICAgIGlmICh0eXBlb2Ygc3VwZXJDdG9yLl9maW5hbGl6ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgc3VwZXJDdG9yLl9maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fZW5zdXJlQ2xhc3NQcm9wZXJ0aWVzKCk7XG4gICAgICAgIC8vIGluaXRpYWxpemUgTWFwIHBvcHVsYXRlZCBpbiBvYnNlcnZlZEF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gbWFrZSBhbnkgcHJvcGVydGllc1xuICAgICAgICAvLyBOb3RlLCBvbmx5IHByb2Nlc3MgXCJvd25cIiBwcm9wZXJ0aWVzIHNpbmNlIHRoaXMgZWxlbWVudCB3aWxsIGluaGVyaXRcbiAgICAgICAgLy8gYW55IHByb3BlcnRpZXMgZGVmaW5lZCBvbiB0aGUgc3VwZXJDbGFzcywgYW5kIGZpbmFsaXphdGlvbiBlbnN1cmVzXG4gICAgICAgIC8vIHRoZSBlbnRpcmUgcHJvdG90eXBlIGNoYWluIGlzIGZpbmFsaXplZC5cbiAgICAgICAgaWYgKHRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgncHJvcGVydGllcycsIHRoaXMpKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcHMgPSB0aGlzLnByb3BlcnRpZXM7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IHN5bWJvbHMgaW4gcHJvcGVydGllcyAoSUUxMSBkb2VzIG5vdCBzdXBwb3J0IHRoaXMpXG4gICAgICAgICAgICBjb25zdCBwcm9wS2V5cyA9IFtcbiAgICAgICAgICAgICAgICAuLi5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcyksXG4gICAgICAgICAgICAgICAgLi4uKHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIDogW11cbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcHJvcEtleXMpIHtcbiAgICAgICAgICAgICAgICAvLyBub3RlLCB1c2Ugb2YgYGFueWAgaXMgZHVlIHRvIFR5cGVTcmlwdCBsYWNrIG9mIHN1cHBvcnQgZm9yIHN5bWJvbCBpblxuICAgICAgICAgICAgICAgIC8vIGluZGV4IHR5cGVzXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVQcm9wZXJ0eShwLCBwcm9wc1twXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSBgbmFtZWAuXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2F0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG9wdGlvbnMuYXR0cmlidXRlO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlID09PSBmYWxzZVxuICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgIDogKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAgICAgPyBhdHRyaWJ1dGVcbiAgICAgICAgICAgICAgICA6ICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgPyBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGEgcHJvcGVydHkgc2hvdWxkIHJlcXVlc3QgYW4gdXBkYXRlLlxuICAgICAqIENhbGxlZCB3aGVuIGEgcHJvcGVydHkgdmFsdWUgaXMgc2V0IGFuZCB1c2VzIHRoZSBgaGFzQ2hhbmdlZGBcbiAgICAgKiBvcHRpb24gZm9yIHRoZSBwcm9wZXJ0eSBpZiBwcmVzZW50IG9yIGEgc3RyaWN0IGlkZW50aXR5IGNoZWNrLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF92YWx1ZUhhc0NoYW5nZWQodmFsdWUsIG9sZCwgaGFzQ2hhbmdlZCA9IG5vdEVxdWFsKSB7XG4gICAgICAgIHJldHVybiBoYXNDaGFuZ2VkKHZhbHVlLCBvbGQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZSBmb3IgdGhlIGdpdmVuIGF0dHJpYnV0ZSB2YWx1ZS5cbiAgICAgKiBDYWxsZWQgdmlhIHRoZSBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCBhbmQgdXNlcyB0aGUgcHJvcGVydHknc1xuICAgICAqIGBjb252ZXJ0ZXJgIG9yIGBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZWAgcHJvcGVydHkgb3B0aW9uLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9wZXJ0eVZhbHVlRnJvbUF0dHJpYnV0ZSh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB0eXBlID0gb3B0aW9ucy50eXBlO1xuICAgICAgICBjb25zdCBjb252ZXJ0ZXIgPSBvcHRpb25zLmNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyO1xuICAgICAgICBjb25zdCBmcm9tQXR0cmlidXRlID0gKHR5cGVvZiBjb252ZXJ0ZXIgPT09ICdmdW5jdGlvbicgPyBjb252ZXJ0ZXIgOiBjb252ZXJ0ZXIuZnJvbUF0dHJpYnV0ZSk7XG4gICAgICAgIHJldHVybiBmcm9tQXR0cmlidXRlID8gZnJvbUF0dHJpYnV0ZSh2YWx1ZSwgdHlwZSkgOiB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgdmFsdWUuIElmIHRoaXNcbiAgICAgKiByZXR1cm5zIHVuZGVmaW5lZCwgdGhlIHByb3BlcnR5IHdpbGwgKm5vdCogYmUgcmVmbGVjdGVkIHRvIGFuIGF0dHJpYnV0ZS5cbiAgICAgKiBJZiB0aGlzIHJldHVybnMgbnVsbCwgdGhlIGF0dHJpYnV0ZSB3aWxsIGJlIHJlbW92ZWQsIG90aGVyd2lzZSB0aGVcbiAgICAgKiBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgdG8gdGhlIHZhbHVlLlxuICAgICAqIFRoaXMgdXNlcyB0aGUgcHJvcGVydHkncyBgcmVmbGVjdGAgYW5kIGB0eXBlLnRvQXR0cmlidXRlYCBwcm9wZXJ0eSBvcHRpb25zLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVmbGVjdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHlwZSA9IG9wdGlvbnMudHlwZTtcbiAgICAgICAgY29uc3QgY29udmVydGVyID0gb3B0aW9ucy5jb252ZXJ0ZXI7XG4gICAgICAgIGNvbnN0IHRvQXR0cmlidXRlID0gY29udmVydGVyICYmIGNvbnZlcnRlci50b0F0dHJpYnV0ZSB8fFxuICAgICAgICAgICAgZGVmYXVsdENvbnZlcnRlci50b0F0dHJpYnV0ZTtcbiAgICAgICAgcmV0dXJuIHRvQXR0cmlidXRlKHZhbHVlLCB0eXBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgZWxlbWVudCBpbml0aWFsaXphdGlvbi4gQnkgZGVmYXVsdCBjYXB0dXJlcyBhbnkgcHJlLXNldCB2YWx1ZXMgZm9yXG4gICAgICogcmVnaXN0ZXJlZCBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIGluaXRpYWxpemUoKSB7IHRoaXMuX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKTsgfVxuICAgIC8qKlxuICAgICAqIEZpeGVzIGFueSBwcm9wZXJ0aWVzIHNldCBvbiB0aGUgaW5zdGFuY2UgYmVmb3JlIHVwZ3JhZGUgdGltZS5cbiAgICAgKiBPdGhlcndpc2UgdGhlc2Ugd291bGQgc2hhZG93IHRoZSBhY2Nlc3NvciBhbmQgYnJlYWsgdGhlc2UgcHJvcGVydGllcy5cbiAgICAgKiBUaGUgcHJvcGVydGllcyBhcmUgc3RvcmVkIGluIGEgTWFwIHdoaWNoIGlzIHBsYXllZCBiYWNrIGFmdGVyIHRoZVxuICAgICAqIGNvbnN0cnVjdG9yIHJ1bnMuIE5vdGUsIG9uIHZlcnkgb2xkIHZlcnNpb25zIG9mIFNhZmFyaSAoPD05KSBvciBDaHJvbWVcbiAgICAgKiAoPD00MSksIHByb3BlcnRpZXMgY3JlYXRlZCBmb3IgbmF0aXZlIHBsYXRmb3JtIHByb3BlcnRpZXMgbGlrZSAoYGlkYCBvclxuICAgICAqIGBuYW1lYCkgbWF5IG5vdCBoYXZlIGRlZmF1bHQgdmFsdWVzIHNldCBpbiB0aGUgZWxlbWVudCBjb25zdHJ1Y3Rvci4gT25cbiAgICAgKiB0aGVzZSBicm93c2VycyBuYXRpdmUgcHJvcGVydGllcyBhcHBlYXIgb24gaW5zdGFuY2VzIGFuZCB0aGVyZWZvcmUgdGhlaXJcbiAgICAgKiBkZWZhdWx0IHZhbHVlIHdpbGwgb3ZlcndyaXRlIGFueSBlbGVtZW50IGRlZmF1bHQgKGUuZy4gaWYgdGhlIGVsZW1lbnQgc2V0c1xuICAgICAqIHRoaXMuaWQgPSAnaWQnIGluIHRoZSBjb25zdHJ1Y3RvciwgdGhlICdpZCcgd2lsbCBiZWNvbWUgJycgc2luY2UgdGhpcyBpc1xuICAgICAqIHRoZSBuYXRpdmUgcGxhdGZvcm0gZGVmYXVsdCkuXG4gICAgICovXG4gICAgX3NhdmVJbnN0YW5jZVByb3BlcnRpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgW3BdIG9mIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgIC5fY2xhc3NQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1twXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twXTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2luc3RhbmNlUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2luc3RhbmNlUHJvcGVydGllcy5zZXQocCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgcHJldmlvdXNseSBzYXZlZCBpbnN0YW5jZSBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIF9hcHBseUluc3RhbmNlUHJvcGVydGllcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBbcCwgdl0gb2YgdGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzW3BdID0gdjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnN0YW5jZVByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX0NPTk5FQ1RFRDtcbiAgICAgICAgLy8gRW5zdXJlIGNvbm5lY3Rpb24gdHJpZ2dlcnMgYW4gdXBkYXRlLiBVcGRhdGVzIGNhbm5vdCBjb21wbGV0ZSBiZWZvcmVcbiAgICAgICAgLy8gY29ubmVjdGlvbiBhbmQgaWYgb25lIGlzIHBlbmRpbmcgY29ubmVjdGlvbiB0aGUgYF9oYXNDb25uZWN0aW9uUmVzb2x2ZXJgXG4gICAgICAgIC8vIHdpbGwgZXhpc3QuIElmIHNvLCByZXNvbHZlIGl0IHRvIGNvbXBsZXRlIHRoZSB1cGRhdGUsIG90aGVyd2lzZVxuICAgICAgICAvLyByZXF1ZXN0VXBkYXRlLlxuICAgICAgICBpZiAodGhpcy5faGFzQ29ubmVjdGVkUmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc0Nvbm5lY3RlZFJlc29sdmVyKCk7XG4gICAgICAgICAgICB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbG93cyBmb3IgYHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKClgIGluIGV4dGVuc2lvbnMgd2hpbGVcbiAgICAgKiByZXNlcnZpbmcgdGhlIHBvc3NpYmlsaXR5IG9mIG1ha2luZyBub24tYnJlYWtpbmcgZmVhdHVyZSBhZGRpdGlvbnNcbiAgICAgKiB3aGVuIGRpc2Nvbm5lY3RpbmcgYXQgc29tZSBwb2ludCBpbiB0aGUgZnV0dXJlLlxuICAgICAqL1xuICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkgeyB9XG4gICAgLyoqXG4gICAgICogU3luY2hyb25pemVzIHByb3BlcnR5IHZhbHVlcyB3aGVuIGF0dHJpYnV0ZXMgY2hhbmdlLlxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9hdHRyaWJ1dGVUb1Byb3BlcnR5KG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvcGVydHlUb0F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IGRlZmF1bHRQcm9wZXJ0eURlY2xhcmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICBjb25zdCBhdHRyID0gY3Rvci5fYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAoYXR0ciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyVmFsdWUgPSBjdG9yLl9wcm9wZXJ0eVZhbHVlVG9BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gYW4gdW5kZWZpbmVkIHZhbHVlIGRvZXMgbm90IGNoYW5nZSB0aGUgYXR0cmlidXRlLlxuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhY2sgaWYgdGhlIHByb3BlcnR5IGlzIGJlaW5nIHJlZmxlY3RlZCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gc2V0dGluZyB0aGUgcHJvcGVydHkgYWdhaW4gdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLiBOb3RlOlxuICAgICAgICAgICAgLy8gMS4gdGhpcyB0YWtlcyBhZHZhbnRhZ2Ugb2YgdGhlIGZhY3QgdGhhdCB0aGUgY2FsbGJhY2sgaXMgc3luY2hyb25vdXMuXG4gICAgICAgICAgICAvLyAyLiB3aWxsIGJlaGF2ZSBpbmNvcnJlY3RseSBpZiBtdWx0aXBsZSBhdHRyaWJ1dGVzIGFyZSBpbiB0aGUgcmVhY3Rpb25cbiAgICAgICAgICAgIC8vIHN0YWNrIGF0IHRpbWUgb2YgY2FsbGluZy4gSG93ZXZlciwgc2luY2Ugd2UgcHJvY2VzcyBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAvLyBpbiBgdXBkYXRlYCB0aGlzIHNob3VsZCBub3QgYmUgcG9zc2libGUgKG9yIGFuIGV4dHJlbWUgY29ybmVyIGNhc2VcbiAgICAgICAgICAgIC8vIHRoYXQgd2UnZCBsaWtlIHRvIGRpc2NvdmVyKS5cbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fQVRUUklCVVRFO1xuICAgICAgICAgICAgaWYgKGF0dHJWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX0FUVFJJQlVURTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSkge1xuICAgICAgICAvLyBVc2UgdHJhY2tpbmcgaW5mbyB0byBhdm9pZCBkZXNlcmlhbGl6aW5nIGF0dHJpYnV0ZSB2YWx1ZSBpZiBpdCB3YXNcbiAgICAgICAgLy8ganVzdCBzZXQgZnJvbSBhIHByb3BlcnR5IHNldHRlci5cbiAgICAgICAgaWYgKHRoaXMuX3VwZGF0ZVN0YXRlICYgU1RBVEVfSVNfUkVGTEVDVElOR19UT19BVFRSSUJVVEUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcbiAgICAgICAgY29uc3QgcHJvcE5hbWUgPSBjdG9yLl9hdHRyaWJ1dGVUb1Byb3BlcnR5TWFwLmdldChuYW1lKTtcbiAgICAgICAgaWYgKHByb3BOYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBjdG9yLl9jbGFzc1Byb3BlcnRpZXMuZ2V0KHByb3BOYW1lKSB8fCBkZWZhdWx0UHJvcGVydHlEZWNsYXJhdGlvbjtcbiAgICAgICAgICAgIC8vIG1hcmsgc3RhdGUgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSB8IFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFk7XG4gICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9XG4gICAgICAgICAgICAgICAgY3Rvci5fcHJvcGVydHlWYWx1ZUZyb21BdHRyaWJ1dGUodmFsdWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gbWFyayBzdGF0ZSBub3QgcmVmbGVjdGluZ1xuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9JU19SRUZMRUNUSU5HX1RPX1BST1BFUlRZO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIGFuIHVwZGF0ZSB3aGljaCBpcyBwcm9jZXNzZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgc2hvdWxkXG4gICAgICogYmUgY2FsbGVkIHdoZW4gYW4gZWxlbWVudCBzaG91bGQgdXBkYXRlIGJhc2VkIG9uIHNvbWUgc3RhdGUgbm90IHRyaWdnZXJlZFxuICAgICAqIGJ5IHNldHRpbmcgYSBwcm9wZXJ0eS4gSW4gdGhpcyBjYXNlLCBwYXNzIG5vIGFyZ3VtZW50cy4gSXQgc2hvdWxkIGFsc28gYmVcbiAgICAgKiBjYWxsZWQgd2hlbiBtYW51YWxseSBpbXBsZW1lbnRpbmcgYSBwcm9wZXJ0eSBzZXR0ZXIuIEluIHRoaXMgY2FzZSwgcGFzcyB0aGVcbiAgICAgKiBwcm9wZXJ0eSBgbmFtZWAgYW5kIGBvbGRWYWx1ZWAgdG8gZW5zdXJlIHRoYXQgYW55IGNvbmZpZ3VyZWQgcHJvcGVydHlcbiAgICAgKiBvcHRpb25zIGFyZSBob25vcmVkLiBSZXR1cm5zIHRoZSBgdXBkYXRlQ29tcGxldGVgIFByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWRcbiAgICAgKiB3aGVuIHRoZSB1cGRhdGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG5hbWUge1Byb3BlcnR5S2V5fSAob3B0aW9uYWwpIG5hbWUgb2YgcmVxdWVzdGluZyBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBvbGRWYWx1ZSB7YW55fSAob3B0aW9uYWwpIG9sZCB2YWx1ZSBvZiByZXF1ZXN0aW5nIHByb3BlcnR5XG4gICAgICogQHJldHVybnMge1Byb21pc2V9IEEgUHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXMuXG4gICAgICovXG4gICAgcmVxdWVzdFVwZGF0ZShuYW1lLCBvbGRWYWx1ZSkge1xuICAgICAgICBsZXQgc2hvdWxkUmVxdWVzdFVwZGF0ZSA9IHRydWU7XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgYSBwcm9wZXJ0eSBrZXksIHBlcmZvcm0gcHJvcGVydHkgdXBkYXRlIHN0ZXBzLlxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLl9jaGFuZ2VkUHJvcGVydGllcy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGN0b3IuX2NsYXNzUHJvcGVydGllcy5nZXQobmFtZSkgfHwgZGVmYXVsdFByb3BlcnR5RGVjbGFyYXRpb247XG4gICAgICAgICAgICBpZiAoY3Rvci5fdmFsdWVIYXNDaGFuZ2VkKHRoaXNbbmFtZV0sIG9sZFZhbHVlLCBvcHRpb25zLmhhc0NoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgLy8gdHJhY2sgb2xkIHZhbHVlIHdoZW4gY2hhbmdpbmcuXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlZFByb3BlcnRpZXMuc2V0KG5hbWUsIG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBhZGQgdG8gcmVmbGVjdGluZyBwcm9wZXJ0aWVzIHNldFxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlZmxlY3QgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICAgICAgISh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0lTX1JFRkxFQ1RJTkdfVE9fUFJPUEVSVFkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcy5zZXQobmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGFib3J0IHRoZSByZXF1ZXN0IGlmIHRoZSBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNvbnNpZGVyZWQgY2hhbmdlZC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNob3VsZFJlcXVlc3RVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hhc1JlcXVlc3RlZFVwZGF0ZSAmJiBzaG91bGRSZXF1ZXN0VXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9lbnF1ZXVlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlQ29tcGxldGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIGVsZW1lbnQgdG8gYXN5bmNocm9ub3VzbHkgdXBkYXRlLlxuICAgICAqL1xuICAgIGFzeW5jIF9lbnF1ZXVlVXBkYXRlKCkge1xuICAgICAgICAvLyBNYXJrIHN0YXRlIHVwZGF0aW5nLi4uXG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlID0gdGhpcy5fdXBkYXRlU3RhdGUgfCBTVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICAgICAgICBsZXQgcmVzb2x2ZTtcbiAgICAgICAgY29uc3QgcHJldmlvdXNVcGRhdGVQcm9taXNlID0gdGhpcy5fdXBkYXRlUHJvbWlzZTtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMpID0+IHJlc29sdmUgPSByZXMpO1xuICAgICAgICAvLyBFbnN1cmUgYW55IHByZXZpb3VzIHVwZGF0ZSBoYXMgcmVzb2x2ZWQgYmVmb3JlIHVwZGF0aW5nLlxuICAgICAgICAvLyBUaGlzIGBhd2FpdGAgYWxzbyBlbnN1cmVzIHRoYXQgcHJvcGVydHkgY2hhbmdlcyBhcmUgYmF0Y2hlZC5cbiAgICAgICAgYXdhaXQgcHJldmlvdXNVcGRhdGVQcm9taXNlO1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhlIGVsZW1lbnQgaGFzIGNvbm5lY3RlZCBiZWZvcmUgdXBkYXRpbmcuXG4gICAgICAgIGlmICghdGhpcy5faGFzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzKSA9PiB0aGlzLl9oYXNDb25uZWN0ZWRSZXNvbHZlciA9IHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsb3cgYHBlcmZvcm1VcGRhdGVgIHRvIGJlIGFzeW5jaHJvbm91cyB0byBlbmFibGUgc2NoZWR1bGluZyBvZiB1cGRhdGVzLlxuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgICAgLy8gTm90ZSwgdGhpcyBpcyB0byBhdm9pZCBkZWxheWluZyBhbiBhZGRpdGlvbmFsIG1pY3JvdGFzayB1bmxlc3Mgd2UgbmVlZFxuICAgICAgICAvLyB0by5cbiAgICAgICAgaWYgKHJlc3VsdCAhPSBudWxsICYmXG4gICAgICAgICAgICB0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGF3YWl0IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKCF0aGlzLl9oYXNSZXF1ZXN0ZWRVcGRhdGUpO1xuICAgIH1cbiAgICBnZXQgX2hhc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19DT05ORUNURUQpO1xuICAgIH1cbiAgICBnZXQgX2hhc1JlcXVlc3RlZFVwZGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX1VQREFURV9SRVFVRVNURUQpO1xuICAgIH1cbiAgICBnZXQgaGFzVXBkYXRlZCgpIHsgcmV0dXJuICh0aGlzLl91cGRhdGVTdGF0ZSAmIFNUQVRFX0hBU19VUERBVEVEKTsgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGVsZW1lbnQgdXBkYXRlLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBjaGFuZ2UgdGhlIHRpbWluZyBvZiB1cGRhdGVzLiBGb3IgaW5zdGFuY2UsXG4gICAgICogdG8gc2NoZWR1bGUgdXBkYXRlcyB0byBvY2N1ciBqdXN0IGJlZm9yZSB0aGUgbmV4dCBmcmFtZTpcbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHByb3RlY3RlZCBhc3luYyBwZXJmb3JtVXBkYXRlKCk6IFByb21pc2U8dW5rbm93bj4ge1xuICAgICAqICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiByZXNvbHZlKCkpKTtcbiAgICAgKiAgIHN1cGVyLnBlcmZvcm1VcGRhdGUoKTtcbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcGVyZm9ybVVwZGF0ZSgpIHtcbiAgICAgICAgLy8gTWl4aW4gaW5zdGFuY2UgcHJvcGVydGllcyBvbmNlLCBpZiB0aGV5IGV4aXN0LlxuICAgICAgICBpZiAodGhpcy5faW5zdGFuY2VQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB0aGlzLl9hcHBseUluc3RhbmNlUHJvcGVydGllcygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZSh0aGlzLl9jaGFuZ2VkUHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRQcm9wZXJ0aWVzID0gdGhpcy5fY2hhbmdlZFByb3BlcnRpZXM7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgICAgICB0aGlzLl9tYXJrVXBkYXRlZCgpO1xuICAgICAgICAgICAgaWYgKCEodGhpcy5fdXBkYXRlU3RhdGUgJiBTVEFURV9IQVNfVVBEQVRFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSA9IHRoaXMuX3VwZGF0ZVN0YXRlIHwgU1RBVEVfSEFTX1VQREFURUQ7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVkKGNoYW5nZWRQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX21hcmtVcGRhdGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX21hcmtVcGRhdGVkKCkge1xuICAgICAgICB0aGlzLl9jaGFuZ2VkUHJvcGVydGllcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUgPSB0aGlzLl91cGRhdGVTdGF0ZSAmIH5TVEFURV9VUERBVEVfUkVRVUVTVEVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIGVsZW1lbnQgaGFzIGNvbXBsZXRlZCB1cGRhdGluZy5cbiAgICAgKiBUaGUgUHJvbWlzZSB2YWx1ZSBpcyBhIGJvb2xlYW4gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGVsZW1lbnQgY29tcGxldGVkIHRoZVxuICAgICAqIHVwZGF0ZSB3aXRob3V0IHRyaWdnZXJpbmcgYW5vdGhlciB1cGRhdGUuIFRoZSBQcm9taXNlIHJlc3VsdCBpcyBgZmFsc2VgIGlmXG4gICAgICogYSBwcm9wZXJ0eSB3YXMgc2V0IGluc2lkZSBgdXBkYXRlZCgpYC4gVGhpcyBnZXR0ZXIgY2FuIGJlIGltcGxlbWVudGVkIHRvXG4gICAgICogYXdhaXQgYWRkaXRpb25hbCBzdGF0ZS4gRm9yIGV4YW1wbGUsIGl0IGlzIHNvbWV0aW1lcyB1c2VmdWwgdG8gYXdhaXQgYVxuICAgICAqIHJlbmRlcmVkIGVsZW1lbnQgYmVmb3JlIGZ1bGZpbGxpbmcgdGhpcyBQcm9taXNlLiBUbyBkbyB0aGlzLCBmaXJzdCBhd2FpdFxuICAgICAqIGBzdXBlci51cGRhdGVDb21wbGV0ZWAgdGhlbiBhbnkgc3Vic2VxdWVudCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSByZXR1cm5zIGEgYm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVcbiAgICAgKiB1cGRhdGUgcmVzb2x2ZWQgd2l0aG91dCB0cmlnZ2VyaW5nIGFub3RoZXIgdXBkYXRlLlxuICAgICAqL1xuICAgIGdldCB1cGRhdGVDb21wbGV0ZSgpIHsgcmV0dXJuIHRoaXMuX3VwZGF0ZVByb21pc2U7IH1cbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGV0aGVyIG9yIG5vdCBgdXBkYXRlYCBzaG91bGQgYmUgY2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgcmVxdWVzdHNcbiAgICAgKiBhbiB1cGRhdGUuIEJ5IGRlZmF1bHQsIHRoaXMgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGB0cnVlYCwgYnV0IHRoaXMgY2FuIGJlXG4gICAgICogY3VzdG9taXplZCB0byBjb250cm9sIHdoZW4gdG8gdXBkYXRlLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgc2hvdWxkVXBkYXRlKF9jaGFuZ2VkUHJvcGVydGllcykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXMuXG4gICAgICogSXQgY2FuIGJlIG92ZXJyaWRkZW4gdG8gcmVuZGVyIGFuZCBrZWVwIHVwZGF0ZWQgZWxlbWVudCBET00uXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXJcbiAgICAgKiBhbm90aGVyIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqICogQHBhcmFtIF9jaGFuZ2VkUHJvcGVydGllcyBNYXAgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzIHdpdGggb2xkIHZhbHVlc1xuICAgICAqL1xuICAgIHVwZGF0ZShfY2hhbmdlZFByb3BlcnRpZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRoaXMuX3JlZmxlY3RpbmdQcm9wZXJ0aWVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5VG9BdHRyaWJ1dGUoaywgdGhpc1trXSwgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZWZsZWN0aW5nUHJvcGVydGllcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW5ldmVyIHRoZSBlbGVtZW50IGlzIHVwZGF0ZWQuIEltcGxlbWVudCB0byBwZXJmb3JtXG4gICAgICogcG9zdC11cGRhdGluZyB0YXNrcyB2aWEgRE9NIEFQSXMsIGZvciBleGFtcGxlLCBmb2N1c2luZyBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlZChfY2hhbmdlZFByb3BlcnRpZXMpIHsgfVxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBmaXJzdCB1cGRhdGVkLiBJbXBsZW1lbnQgdG8gcGVyZm9ybSBvbmUgdGltZVxuICAgICAqIHdvcmsgb24gdGhlIGVsZW1lbnQgYWZ0ZXIgdXBkYXRlLlxuICAgICAqXG4gICAgICogU2V0dGluZyBwcm9wZXJ0aWVzIGluc2lkZSB0aGlzIG1ldGhvZCB3aWxsIHRyaWdnZXIgdGhlIGVsZW1lbnQgdG8gdXBkYXRlXG4gICAgICogYWdhaW4gYWZ0ZXIgdGhpcyB1cGRhdGUgY3ljbGUgY29tcGxldGVzLlxuICAgICAqXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgZmlyc3RVcGRhdGVkKF9jaGFuZ2VkUHJvcGVydGllcykgeyB9XG59XG4vKipcbiAqIE1hcmtzIGNsYXNzIGFzIGhhdmluZyBmaW5pc2hlZCBjcmVhdGluZyBwcm9wZXJ0aWVzLlxuICovXG5VcGRhdGluZ0VsZW1lbnQuZmluYWxpemVkID0gdHJ1ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVwZGF0aW5nLWVsZW1lbnQuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuY29uc3QgbGVnYWN5Q3VzdG9tRWxlbWVudCA9ICh0YWdOYW1lLCBjbGF6eikgPT4ge1xuICAgIHdpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUodGFnTmFtZSwgY2xhenopO1xuICAgIC8vIENhc3QgYXMgYW55IGJlY2F1c2UgVFMgZG9lc24ndCByZWNvZ25pemUgdGhlIHJldHVybiB0eXBlIGFzIGJlaW5nIGFcbiAgICAvLyBzdWJ0eXBlIG9mIHRoZSBkZWNvcmF0ZWQgY2xhc3Mgd2hlbiBjbGF6eiBpcyB0eXBlZCBhc1xuICAgIC8vIGBDb25zdHJ1Y3RvcjxIVE1MRWxlbWVudD5gIGZvciBzb21lIHJlYXNvbi5cbiAgICAvLyBgQ29uc3RydWN0b3I8SFRNTEVsZW1lbnQ+YCBpcyBoZWxwZnVsIHRvIG1ha2Ugc3VyZSB0aGUgZGVjb3JhdG9yIGlzXG4gICAgLy8gYXBwbGllZCB0byBlbGVtZW50cyBob3dldmVyLlxuICAgIHJldHVybiBjbGF6ejtcbn07XG5jb25zdCBzdGFuZGFyZEN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSwgZGVzY3JpcHRvcikgPT4ge1xuICAgIGNvbnN0IHsga2luZCwgZWxlbWVudHMgfSA9IGRlc2NyaXB0b3I7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZCxcbiAgICAgICAgZWxlbWVudHMsXG4gICAgICAgIC8vIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIG9uY2UgdGhlIGNsYXNzIGlzIG90aGVyd2lzZSBmdWxseSBkZWZpbmVkXG4gICAgICAgIGZpbmlzaGVyKGNsYXp6KSB7XG4gICAgICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHRhZ05hbWUsIGNsYXp6KTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuLyoqXG4gKiBDbGFzcyBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGRlZmluZXMgdGhlIGRlY29yYXRlZCBjbGFzcyBhcyBhIGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSB0YWdOYW1lIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZWxlbWVudCB0byBkZWZpbmVcbiAqXG4gKiBJbiBUeXBlU2NyaXB0LCB0aGUgYHRhZ05hbWVgIHBhc3NlZCB0byBgY3VzdG9tRWxlbWVudGAgc2hvdWxkIGJlIGEga2V5IG9mIHRoZVxuICogYEhUTUxFbGVtZW50VGFnTmFtZU1hcGAgaW50ZXJmYWNlLiBUbyBhZGQgeW91ciBlbGVtZW50IHRvIHRoZSBpbnRlcmZhY2UsXG4gKiBkZWNsYXJlIHRoZSBpbnRlcmZhY2UgaW4gdGhpcyBtb2R1bGU6XG4gKlxuICogICAgIEBjdXN0b21FbGVtZW50KCdteS1lbGVtZW50JylcbiAqICAgICBleHBvcnQgY2xhc3MgTXlFbGVtZW50IGV4dGVuZHMgTGl0RWxlbWVudCB7fVxuICpcbiAqICAgICBkZWNsYXJlIGdsb2JhbCB7XG4gKiAgICAgICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAqICAgICAgICAgJ215LWVsZW1lbnQnOiBNeUVsZW1lbnQ7XG4gKiAgICAgICB9XG4gKiAgICAgfVxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3RvbUVsZW1lbnQgPSAodGFnTmFtZSkgPT4gKGNsYXNzT3JEZXNjcmlwdG9yKSA9PiAodHlwZW9mIGNsYXNzT3JEZXNjcmlwdG9yID09PSAnZnVuY3Rpb24nKVxuICAgID8gbGVnYWN5Q3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcilcbiAgICA6IHN0YW5kYXJkQ3VzdG9tRWxlbWVudCh0YWdOYW1lLCBjbGFzc09yRGVzY3JpcHRvcik7XG5jb25zdCBzdGFuZGFyZFByb3BlcnR5ID0gKG9wdGlvbnMsIGVsZW1lbnQpID0+IHtcbiAgICAvLyBjcmVhdGVQcm9wZXJ0eSgpIHRha2VzIGNhcmUgb2YgZGVmaW5pbmcgdGhlIHByb3BlcnR5LCBidXQgd2Ugc3RpbGwgbXVzdFxuICAgIC8vIHJldHVybiBzb21lIGtpbmQgb2YgZGVzY3JpcHRvciwgc28gcmV0dXJuIGEgZGVzY3JpcHRvciBmb3IgYW4gdW51c2VkXG4gICAgLy8gcHJvdG90eXBlIGZpZWxkLiBUaGUgZmluaXNoZXIgY2FsbHMgY3JlYXRlUHJvcGVydHkoKS5cbiAgICByZXR1cm4ge1xuICAgICAgICBraW5kOiAnZmllbGQnLFxuICAgICAgICBrZXk6IFN5bWJvbCgpLFxuICAgICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICBkZXNjcmlwdG9yOiB7fSxcbiAgICAgICAgLy8gV2hlbiBAYmFiZWwvcGx1Z2luLXByb3Bvc2FsLWRlY29yYXRvcnMgaW1wbGVtZW50cyBpbml0aWFsaXplcnMsXG4gICAgICAgIC8vIGRvIHRoaXMgaW5zdGVhZCBvZiB0aGUgaW5pdGlhbGl6ZXIgYmVsb3cuIFNlZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2lzc3Vlcy85MjYwIGV4dHJhczogW1xuICAgICAgICAvLyAgIHtcbiAgICAgICAgLy8gICAgIGtpbmQ6ICdpbml0aWFsaXplcicsXG4gICAgICAgIC8vICAgICBwbGFjZW1lbnQ6ICdvd24nLFxuICAgICAgICAvLyAgICAgaW5pdGlhbGl6ZXI6IGRlc2NyaXB0b3IuaW5pdGlhbGl6ZXIsXG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyBdLFxuICAgICAgICBpbml0aWFsaXplcigpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5pbml0aWFsaXplciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXNbZWxlbWVudC5rZXldID0gZWxlbWVudC5pbml0aWFsaXplci5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgY2xhenouY3JlYXRlUHJvcGVydHkoZWxlbWVudC5rZXksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5jb25zdCBsZWdhY3lQcm9wZXJ0eSA9IChvcHRpb25zLCBwcm90bywgbmFtZSkgPT4ge1xuICAgIHByb3RvLmNvbnN0cnVjdG9yLmNyZWF0ZVByb3BlcnR5KG5hbWUsIG9wdGlvbnMpO1xufTtcbi8qKlxuICogQSBwcm9wZXJ0eSBkZWNvcmF0b3Igd2hpY2ggY3JlYXRlcyBhIExpdEVsZW1lbnQgcHJvcGVydHkgd2hpY2ggcmVmbGVjdHMgYVxuICogY29ycmVzcG9uZGluZyBhdHRyaWJ1dGUgdmFsdWUuIEEgYFByb3BlcnR5RGVjbGFyYXRpb25gIG1heSBvcHRpb25hbGx5IGJlXG4gKiBzdXBwbGllZCB0byBjb25maWd1cmUgcHJvcGVydHkgZmVhdHVyZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwcm9wZXJ0eSA9IChvcHRpb25zKSA9PiAocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IChuYW1lICE9PSB1bmRlZmluZWQpXG4gICAgPyBsZWdhY3lQcm9wZXJ0eShvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSlcbiAgICA6IHN0YW5kYXJkUHJvcGVydHkob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IpO1xuLyoqXG4gKiBBIHByb3BlcnR5IGRlY29yYXRvciB0aGF0IGNvbnZlcnRzIGEgY2xhc3MgcHJvcGVydHkgaW50byBhIGdldHRlciB0aGF0XG4gKiBleGVjdXRlcyBhIHF1ZXJ5U2VsZWN0b3Igb24gdGhlIGVsZW1lbnQncyByZW5kZXJSb290LlxuICovXG5leHBvcnQgY29uc3QgcXVlcnkgPSBfcXVlcnkoKHRhcmdldCwgc2VsZWN0b3IpID0+IHRhcmdldC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSk7XG4vKipcbiAqIEEgcHJvcGVydHkgZGVjb3JhdG9yIHRoYXQgY29udmVydHMgYSBjbGFzcyBwcm9wZXJ0eSBpbnRvIGEgZ2V0dGVyXG4gKiB0aGF0IGV4ZWN1dGVzIGEgcXVlcnlTZWxlY3RvckFsbCBvbiB0aGUgZWxlbWVudCdzIHJlbmRlclJvb3QuXG4gKi9cbmV4cG9ydCBjb25zdCBxdWVyeUFsbCA9IF9xdWVyeSgodGFyZ2V0LCBzZWxlY3RvcikgPT4gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbmNvbnN0IGxlZ2FjeVF1ZXJ5ID0gKGRlc2NyaXB0b3IsIHByb3RvLCBuYW1lKSA9PiB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90bywgbmFtZSwgZGVzY3JpcHRvcik7IH07XG5jb25zdCBzdGFuZGFyZFF1ZXJ5ID0gKGRlc2NyaXB0b3IsIGVsZW1lbnQpID0+ICh7XG4gICAga2luZDogJ21ldGhvZCcsXG4gICAgcGxhY2VtZW50OiAncHJvdG90eXBlJyxcbiAgICBrZXk6IGVsZW1lbnQua2V5LFxuICAgIGRlc2NyaXB0b3IsXG59KTtcbi8qKlxuICogQmFzZS1pbXBsZW1lbnRhdGlvbiBvZiBgQHF1ZXJ5YCBhbmQgYEBxdWVyeUFsbGAgZGVjb3JhdG9ycy5cbiAqXG4gKiBAcGFyYW0gcXVlcnlGbiBleGVjdHV0ZSBhIGBzZWxlY3RvcmAgKGllLCBxdWVyeVNlbGVjdG9yIG9yIHF1ZXJ5U2VsZWN0b3JBbGwpXG4gKiBhZ2FpbnN0IGB0YXJnZXRgLlxuICovXG5mdW5jdGlvbiBfcXVlcnkocXVlcnlGbikge1xuICAgIHJldHVybiAoc2VsZWN0b3IpID0+IChwcm90b09yRGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0ge1xuICAgICAgICAgICAgZ2V0KCkgeyByZXR1cm4gcXVlcnlGbih0aGlzLnJlbmRlclJvb3QsIHNlbGVjdG9yKTsgfSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAobmFtZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgPyBsZWdhY3lRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvciwgbmFtZSlcbiAgICAgICAgICAgIDogc3RhbmRhcmRRdWVyeShkZXNjcmlwdG9yLCBwcm90b09yRGVzY3JpcHRvcik7XG4gICAgfTtcbn1cbmNvbnN0IHN0YW5kYXJkRXZlbnRPcHRpb25zID0gKG9wdGlvbnMsIGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZWxlbWVudCwgeyBmaW5pc2hlcihjbGF6eikge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjbGF6ei5wcm90b3R5cGVbZWxlbWVudC5rZXldLCBvcHRpb25zKTtcbiAgICAgICAgfSB9KTtcbn07XG5jb25zdCBsZWdhY3lFdmVudE9wdGlvbnMgPSAob3B0aW9ucywgcHJvdG8sIG5hbWUpID0+IHsgT2JqZWN0LmFzc2lnbihwcm90b1tuYW1lXSwgb3B0aW9ucyk7IH07XG4vKipcbiAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgb3B0aW9ucyB0byBhIG1ldGhvZCB1c2VkIGFzIGFuIGV2ZW50IGxpc3RlbmVyIGluIGFcbiAqIGxpdC1odG1sIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEFuIG9iamVjdCB0aGF0IHNwZWNpZmlzIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnMgYXMgYWNjZXB0ZWQgYnlcbiAqIGBFdmVudFRhcmdldCNhZGRFdmVudExpc3RlbmVyYCBhbmQgYEV2ZW50VGFyZ2V0I3JlbW92ZUV2ZW50TGlzdGVuZXJgLlxuICpcbiAqIEN1cnJlbnQgYnJvd3NlcnMgc3VwcG9ydCB0aGUgYGNhcHR1cmVgLCBgcGFzc2l2ZWAsIGFuZCBgb25jZWAgb3B0aW9ucy4gU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjUGFyYW1ldGVyc1xuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgIGNsYXNzIE15RWxlbWVudCB7XG4gKlxuICogICAgICAgY2xpY2tlZCA9IGZhbHNlO1xuICpcbiAqICAgICAgIHJlbmRlcigpIHtcbiAqICAgICAgICAgcmV0dXJuIGh0bWxgPGRpdiBAY2xpY2s9JHt0aGlzLl9vbkNsaWNrfWA+PGJ1dHRvbj48L2J1dHRvbj48L2Rpdj5gO1xuICogICAgICAgfVxuICpcbiAqICAgICAgIEBldmVudE9wdGlvbnMoe2NhcHR1cmU6IHRydWV9KVxuICogICAgICAgX29uQ2xpY2soZSkge1xuICogICAgICAgICB0aGlzLmNsaWNrZWQgPSB0cnVlO1xuICogICAgICAgfVxuICogICAgIH1cbiAqL1xuZXhwb3J0IGNvbnN0IGV2ZW50T3B0aW9ucyA9IChvcHRpb25zKSA9PiBcbi8vIFJldHVybiB2YWx1ZSB0eXBlZCBhcyBhbnkgdG8gcHJldmVudCBUeXBlU2NyaXB0IGZyb20gY29tcGxhaW5pbmcgdGhhdFxuLy8gc3RhbmRhcmQgZGVjb3JhdG9yIGZ1bmN0aW9uIHNpZ25hdHVyZSBkb2VzIG5vdCBtYXRjaCBUeXBlU2NyaXB0IGRlY29yYXRvclxuLy8gc2lnbmF0dXJlXG4vLyBUT0RPKGtzY2hhYWYpOiB1bmNsZWFyIHdoeSBpdCB3YXMgb25seSBmYWlsaW5nIG9uIHRoaXMgZGVjb3JhdG9yIGFuZCBub3Rcbi8vIHRoZSBvdGhlcnNcbigocHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpID0+IChuYW1lICE9PSB1bmRlZmluZWQpXG4gICAgPyBsZWdhY3lFdmVudE9wdGlvbnMob3B0aW9ucywgcHJvdG9PckRlc2NyaXB0b3IsIG5hbWUpXG4gICAgOiBzdGFuZGFyZEV2ZW50T3B0aW9ucyhvcHRpb25zLCBwcm90b09yRGVzY3JpcHRvcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVjb3JhdG9ycy5qcy5tYXAiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmV4cG9ydCBjb25zdCBzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMgPSAoJ2Fkb3B0ZWRTdHlsZVNoZWV0cycgaW4gRG9jdW1lbnQucHJvdG90eXBlKTtcbmV4cG9ydCBjbGFzcyBDU1NSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGNzc1RleHQpIHsgdGhpcy5jc3NUZXh0ID0gY3NzVGV4dDsgfVxuICAgIC8vIE5vdGUsIHRoaXMgaXMgYSBnZXR0ZXIgc28gdGhhdCBpdCdzIGxhenkuIEluIHByYWN0aWNlLCB0aGlzIG1lYW5zXG4gICAgLy8gc3R5bGVzaGVldHMgYXJlIG5vdCBjcmVhdGVkIHVudGlsIHRoZSBmaXJzdCBlbGVtZW50IGluc3RhbmNlIGlzIG1hZGUuXG4gICAgZ2V0IHN0eWxlU2hlZXQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZVNoZWV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIE5vdGUsIGlmIGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIHN1cHBvcnRlZCB0aGVuIHdlIGFzc3VtZSBDU1NTdHlsZVNoZWV0XG4gICAgICAgICAgICAvLyBpcyBjb25zdHJ1Y3RhYmxlLlxuICAgICAgICAgICAgaWYgKHN1cHBvcnRzQWRvcHRpbmdTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBuZXcgQ1NTU3R5bGVTaGVldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQucmVwbGFjZVN5bmModGhpcy5jc3NUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0eWxlU2hlZXQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZVNoZWV0O1xuICAgIH1cbn1cbmNvbnN0IHRleHRGcm9tQ1NTUmVzdWx0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQ1NTUmVzdWx0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5jc3NUZXh0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBWYWx1ZSBwYXNzZWQgdG8gJ2NzcycgZnVuY3Rpb24gbXVzdCBiZSBhICdjc3MnIGZ1bmN0aW9uIHJlc3VsdDogJHt2YWx1ZX0uYCk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBjc3MgPSAoc3RyaW5ncywgLi4udmFsdWVzKSA9PiB7XG4gICAgY29uc3QgY3NzVGV4dCA9IHZhbHVlcy5yZWR1Y2UoKGFjYywgdiwgaWR4KSA9PiBhY2MgKyB0ZXh0RnJvbUNTU1Jlc3VsdCh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pO1xuICAgIHJldHVybiBuZXcgQ1NTUmVzdWx0KGNzc1RleHQpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNzcy10YWcuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcbiAqIFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbiAqIENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG4gKiBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tICdsaXQtaHRtbCc7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdsaXQtaHRtbC9saWIvc2hhZHktcmVuZGVyJztcbmltcG9ydCB7IFVwZGF0aW5nRWxlbWVudCB9IGZyb20gJy4vbGliL3VwZGF0aW5nLWVsZW1lbnQuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvdXBkYXRpbmctZWxlbWVudC5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWNvcmF0b3JzLmpzJztcbmV4cG9ydCB7IGh0bWwsIHN2ZywgVGVtcGxhdGVSZXN1bHQsIFNWR1RlbXBsYXRlUmVzdWx0IH0gZnJvbSAnbGl0LWh0bWwvbGl0LWh0bWwnO1xuaW1wb3J0IHsgc3VwcG9ydHNBZG9wdGluZ1N0eWxlU2hlZXRzIH0gZnJvbSAnLi9saWIvY3NzLXRhZy5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9jc3MtdGFnLmpzJztcbmV4cG9ydCBjbGFzcyBMaXRFbGVtZW50IGV4dGVuZHMgVXBkYXRpbmdFbGVtZW50IHtcbiAgICAvKipcbiAgICAgKiBBcnJheSBvZiBzdHlsZXMgdG8gYXBwbHkgdG8gdGhlIGVsZW1lbnQuIFRoZSBzdHlsZXMgc2hvdWxkIGJlIGRlZmluZWRcbiAgICAgKiB1c2luZyB0aGUgYGNzc2AgdGFnIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgc3R5bGVzKCkgeyByZXR1cm4gW107IH1cbiAgICBzdGF0aWMgZ2V0IF91bmlxdWVTdHlsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3Qgc3R5bGVzID0gdGhpcy5zdHlsZXM7XG4gICAgICAgICAgICAvLyBBcyBhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiB0byBhdm9pZCBkdXBsaWNhdGVkIHN0eWxpbmcgdGhhdCBjYW5cbiAgICAgICAgICAgIC8vIG9jY3VyIGVzcGVjaWFsbHkgd2hlbiBjb21wb3NpbmcgdmlhIHN1YmNsYXNzaW5nLCBkZS1kdXBsaWNhdGUgc3R5bGVzXG4gICAgICAgICAgICAvLyBwcmVzZXJ2aW5nIHRoZSBsYXN0IGl0ZW0gaW4gdGhlIGxpc3QuIFRoZSBsYXN0IGl0ZW0gaXMga2VwdCB0b1xuICAgICAgICAgICAgLy8gdHJ5IHRvIHByZXNlcnZlIGNhc2NhZGUgb3JkZXIgd2l0aCB0aGUgYXNzdW1wdGlvbiB0aGF0IGl0J3MgbW9zdFxuICAgICAgICAgICAgLy8gaW1wb3J0YW50IHRoYXQgbGFzdCBhZGRlZCBzdHlsZXMgb3ZlcnJpZGUgcHJldmlvdXMgc3R5bGVzLlxuICAgICAgICAgICAgY29uc3Qgc3R5bGVTZXQgPSBzdHlsZXMucmVkdWNlUmlnaHQoKHNldCwgcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldC5hZGQocyk7XG4gICAgICAgICAgICAgICAgLy8gb24gSUUgc2V0LmFkZCBkb2VzIG5vdCByZXR1cm4gdGhlIHNldC5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0O1xuICAgICAgICAgICAgfSwgbmV3IFNldCgpKTtcbiAgICAgICAgICAgIC8vIEFycmF5LmZvcm0gZG9lcyBub3Qgd29yayBvbiBTZXQgaW4gSUVcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlcyA9IFtdO1xuICAgICAgICAgICAgc3R5bGVTZXQuZm9yRWFjaCgodikgPT4gdGhpcy5fc3R5bGVzLnVuc2hpZnQodikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGVsZW1lbnQgaW5pdGlhbGl6YXRpb24uIEJ5IGRlZmF1bHQgdGhpcyBjYWxscyBgY3JlYXRlUmVuZGVyUm9vdGBcbiAgICAgKiB0byBjcmVhdGUgdGhlIGVsZW1lbnQgYHJlbmRlclJvb3RgIG5vZGUgYW5kIGNhcHR1cmVzIGFueSBwcmUtc2V0IHZhbHVlcyBmb3JcbiAgICAgKiByZWdpc3RlcmVkIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgc3VwZXIuaW5pdGlhbGl6ZSgpO1xuICAgICAgICB0aGlzLnJlbmRlclJvb3QgPSB0aGlzLmNyZWF0ZVJlbmRlclJvb3QoKTtcbiAgICAgICAgLy8gTm90ZSwgaWYgcmVuZGVyUm9vdCBpcyBub3QgYSBzaGFkb3dSb290LCBzdHlsZXMgd291bGQvY291bGQgYXBwbHkgdG8gdGhlXG4gICAgICAgIC8vIGVsZW1lbnQncyBnZXRSb290Tm9kZSgpLiBXaGlsZSB0aGlzIGNvdWxkIGJlIGRvbmUsIHdlJ3JlIGNob29zaW5nIG5vdCB0b1xuICAgICAgICAvLyBzdXBwb3J0IHRoaXMgbm93IHNpbmNlIGl0IHdvdWxkIHJlcXVpcmUgZGlmZmVyZW50IGxvZ2ljIGFyb3VuZCBkZS1kdXBpbmcuXG4gICAgICAgIGlmICh3aW5kb3cuU2hhZG93Um9vdCAmJiB0aGlzLnJlbmRlclJvb3QgaW5zdGFuY2VvZiB3aW5kb3cuU2hhZG93Um9vdCkge1xuICAgICAgICAgICAgdGhpcy5hZG9wdFN0eWxlcygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5vZGUgaW50byB3aGljaCB0aGUgZWxlbWVudCBzaG91bGQgcmVuZGVyIGFuZCBieSBkZWZhdWx0XG4gICAgICogY3JlYXRlcyBhbmQgcmV0dXJucyBhbiBvcGVuIHNoYWRvd1Jvb3QuIEltcGxlbWVudCB0byBjdXN0b21pemUgd2hlcmUgdGhlXG4gICAgICogZWxlbWVudCdzIERPTSBpcyByZW5kZXJlZC4gRm9yIGV4YW1wbGUsIHRvIHJlbmRlciBpbnRvIHRoZSBlbGVtZW50J3NcbiAgICAgKiBjaGlsZE5vZGVzLCByZXR1cm4gYHRoaXNgLlxuICAgICAqIEByZXR1cm5zIHtFbGVtZW50fERvY3VtZW50RnJhZ21lbnR9IFJldHVybnMgYSBub2RlIGludG8gd2hpY2ggdG8gcmVuZGVyLlxuICAgICAqL1xuICAgIGNyZWF0ZVJlbmRlclJvb3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBzdHlsaW5nIHRvIHRoZSBlbGVtZW50IHNoYWRvd1Jvb3QgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHN0eWxlc2BcbiAgICAgKiBwcm9wZXJ0eS4gU3R5bGluZyB3aWxsIGFwcGx5IHVzaW5nIGBzaGFkb3dSb290LmFkb3B0ZWRTdHlsZVNoZWV0c2Agd2hlcmVcbiAgICAgKiBhdmFpbGFibGUgYW5kIHdpbGwgZmFsbGJhY2sgb3RoZXJ3aXNlLiBXaGVuIFNoYWRvdyBET00gaXMgcG9seWZpbGxlZCxcbiAgICAgKiBTaGFkeUNTUyBzY29wZXMgc3R5bGVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRvY3VtZW50LiBXaGVuIFNoYWRvdyBET01cbiAgICAgKiBpcyBhdmFpbGFibGUgYnV0IGBhZG9wdGVkU3R5bGVTaGVldHNgIGlzIG5vdCwgc3R5bGVzIGFyZSBhcHBlbmRlZCB0byB0aGVcbiAgICAgKiBlbmQgb2YgdGhlIGBzaGFkb3dSb290YCB0byBbbWltaWMgc3BlY1xuICAgICAqIGJlaGF2aW9yXShodHRwczovL3dpY2cuZ2l0aHViLmlvL2NvbnN0cnVjdC1zdHlsZXNoZWV0cy8jdXNpbmctY29uc3RydWN0ZWQtc3R5bGVzaGVldHMpLlxuICAgICAqL1xuICAgIGFkb3B0U3R5bGVzKCkge1xuICAgICAgICBjb25zdCBzdHlsZXMgPSB0aGlzLmNvbnN0cnVjdG9yLl91bmlxdWVTdHlsZXM7XG4gICAgICAgIGlmIChzdHlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgYXJlIHRocmVlIHNlcGFyYXRlIGNhc2VzIGhlcmUgYmFzZWQgb24gU2hhZG93IERPTSBzdXBwb3J0LlxuICAgICAgICAvLyAoMSkgc2hhZG93Um9vdCBwb2x5ZmlsbGVkOiB1c2UgU2hhZHlDU1NcbiAgICAgICAgLy8gKDIpIHNoYWRvd1Jvb3QuYWRvcHRlZFN0eWxlU2hlZXRzIGF2YWlsYWJsZTogdXNlIGl0LlxuICAgICAgICAvLyAoMykgc2hhZG93Um9vdC5hZG9wdGVkU3R5bGVTaGVldHMgcG9seWZpbGxlZDogYXBwZW5kIHN0eWxlcyBhZnRlclxuICAgICAgICAvLyByZW5kZXJpbmdcbiAgICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAhPT0gdW5kZWZpbmVkICYmICF3aW5kb3cuU2hhZHlDU1MubmF0aXZlU2hhZG93KSB7XG4gICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MuU2NvcGluZ1NoaW0ucHJlcGFyZUFkb3B0ZWRDc3NUZXh0KHN0eWxlcy5tYXAoKHMpID0+IHMuY3NzVGV4dCksIHRoaXMubG9jYWxOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdXBwb3J0c0Fkb3B0aW5nU3R5bGVTaGVldHMpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUm9vdC5hZG9wdGVkU3R5bGVTaGVldHMgPVxuICAgICAgICAgICAgICAgIHN0eWxlcy5tYXAoKHMpID0+IHMuc3R5bGVTaGVldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIG11c3QgYmUgZG9uZSBhZnRlciByZW5kZXJpbmcgc28gdGhlIGFjdHVhbCBzdHlsZSBpbnNlcnRpb24gaXMgZG9uZVxuICAgICAgICAgICAgLy8gaW4gYHVwZGF0ZWAuXG4gICAgICAgICAgICB0aGlzLl9uZWVkc1NoaW1BZG9wdGVkU3R5bGVTaGVldHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgICAvLyBOb3RlLCBmaXJzdCB1cGRhdGUvcmVuZGVyIGhhbmRsZXMgc3R5bGVFbGVtZW50IHNvIHdlIG9ubHkgY2FsbCB0aGlzIGlmXG4gICAgICAgIC8vIGNvbm5lY3RlZCBhZnRlciBmaXJzdCB1cGRhdGUuXG4gICAgICAgIGlmICh0aGlzLmhhc1VwZGF0ZWQgJiYgd2luZG93LlNoYWR5Q1NTICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHdpbmRvdy5TaGFkeUNTUy5zdHlsZUVsZW1lbnQodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZWxlbWVudC4gVGhpcyBtZXRob2QgcmVmbGVjdHMgcHJvcGVydHkgdmFsdWVzIHRvIGF0dHJpYnV0ZXNcbiAgICAgKiBhbmQgY2FsbHMgYHJlbmRlcmAgdG8gcmVuZGVyIERPTSB2aWEgbGl0LWh0bWwuIFNldHRpbmcgcHJvcGVydGllcyBpbnNpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB3aWxsICpub3QqIHRyaWdnZXIgYW5vdGhlciB1cGRhdGUuXG4gICAgICogKiBAcGFyYW0gX2NoYW5nZWRQcm9wZXJ0aWVzIE1hcCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgd2l0aCBvbGQgdmFsdWVzXG4gICAgICovXG4gICAgdXBkYXRlKGNoYW5nZWRQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZShjaGFuZ2VkUHJvcGVydGllcyk7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlUmVzdWx0ID0gdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgaWYgKHRlbXBsYXRlUmVzdWx0IGluc3RhbmNlb2YgVGVtcGxhdGVSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3JcbiAgICAgICAgICAgICAgICAucmVuZGVyKHRlbXBsYXRlUmVzdWx0LCB0aGlzLnJlbmRlclJvb3QsIHsgc2NvcGVOYW1lOiB0aGlzLmxvY2FsTmFtZSwgZXZlbnRDb250ZXh0OiB0aGlzIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdoZW4gbmF0aXZlIFNoYWRvdyBET00gaXMgdXNlZCBidXQgYWRvcHRlZFN0eWxlcyBhcmUgbm90IHN1cHBvcnRlZCxcbiAgICAgICAgLy8gaW5zZXJ0IHN0eWxpbmcgYWZ0ZXIgcmVuZGVyaW5nIHRvIGVuc3VyZSBhZG9wdGVkU3R5bGVzIGhhdmUgaGlnaGVzdFxuICAgICAgICAvLyBwcmlvcml0eS5cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzU2hpbUFkb3B0ZWRTdHlsZVNoZWV0cykge1xuICAgICAgICAgICAgdGhpcy5fbmVlZHNTaGltQWRvcHRlZFN0eWxlU2hlZXRzID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLl91bmlxdWVTdHlsZXMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHMuY3NzVGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclJvb3QuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBlYWNoIHVwZGF0ZSB0byBwZXJmb3JtIHJlbmRlcmluZyB0YXNrcy4gVGhpcyBtZXRob2QgbXVzdCByZXR1cm5cbiAgICAgKiBhIGxpdC1odG1sIFRlbXBsYXRlUmVzdWx0LiBTZXR0aW5nIHByb3BlcnRpZXMgaW5zaWRlIHRoaXMgbWV0aG9kIHdpbGwgKm5vdCpcbiAgICAgKiB0cmlnZ2VyIHRoZSBlbGVtZW50IHRvIHVwZGF0ZS5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7IH1cbn1cbi8qKlxuICogRW5zdXJlIHRoaXMgY2xhc3MgaXMgbWFya2VkIGFzIGBmaW5hbGl6ZWRgIGFzIGFuIG9wdGltaXphdGlvbiBlbnN1cmluZ1xuICogaXQgd2lsbCBub3QgbmVlZGxlc3NseSB0cnkgdG8gYGZpbmFsaXplYC5cbiAqL1xuTGl0RWxlbWVudC5maW5hbGl6ZWQgPSB0cnVlO1xuLyoqXG4gKiBSZW5kZXIgbWV0aG9kIHVzZWQgdG8gcmVuZGVyIHRoZSBsaXQtaHRtbCBUZW1wbGF0ZVJlc3VsdCB0byB0aGUgZWxlbWVudCdzXG4gKiBET00uXG4gKiBAcGFyYW0ge1RlbXBsYXRlUmVzdWx0fSBUZW1wbGF0ZSB0byByZW5kZXIuXG4gKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gTm9kZSBpbnRvIHdoaWNoIHRvIHJlbmRlci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBFbGVtZW50IG5hbWUuXG4gKiBAbm9jb2xsYXBzZVxuICovXG5MaXRFbGVtZW50LnJlbmRlciA9IHJlbmRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpdC1lbGVtZW50LmpzLm1hcCIsImltcG9ydCB7XHJcbiAgICBTZW1hcGhvcmVcclxuICB9IGZyb20gJy4uLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL2F3YWl0LXNlbWFwaG9yZSc7XHJcblxyXG5lbnVtIEJsdWV0b290aEdhdHRTdGF0ZSB7XHJcbiAgICBEaXNjb25uZWN0ZWQgPSAxLFxyXG4gICAgQ29ubmVjdGluZyxcclxuICAgIENvbm5lY3RlZCxcclxuICAgIERpc2Nvbm5lY3RpbmcsXHJcbiAgICBFcnJvcixcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQlRMRWNsYXNzIGV4dGVuZHMgRXZlbnRUYXJnZXQge1xyXG4gICAgYmx1ZXRvb3RoRGV2aWNlOiBhbnkgPSBudWxsO1xyXG4gICAgY29ubmVjdGlvblN0cjogc3RyaW5nID0gJ2Rpc2Nvbm5lY3RlZCc7XHJcbiAgICBnYXRTZXJ2ZXI6IGFueSA9IG51bGw7XHJcbiAgICBjdXJyZW50U2VydmljZTphbnkgPSBudWxsO1xyXG4gICAgY3VycmVudENoYXJhY3RlcmlzdGljczphbnkgPSBudWxsO1xyXG4gICAgbm90aWZ5Q2hhcmFjdGVyaXN0aWNzOiBhbnkgPSBudWxsO1xyXG4gICAgcHJpbWFyeVNlcnZpY2VPYmplY3QgPSBbXSBhcyBhbnlbXTtcclxuICAgLy8gcHJpbWFyeVNlcnZpY2VPYmplY3Q6IGFueSA9IG51bGw7XHJcbiAgICBzZW1hcGhvcmUgPSBuZXcgU2VtYXBob3JlKDEpO1xyXG5cclxuICAgIG1heHJldHJ5OiBudW1iZXIgPSAwO1xyXG4gICAgLy8gICBkaXNjb25uZWN0YmxlOiBib29sZWFuID0gZmFsc2U7IC8vIG9uIHB1cnBvc2UgZGlzY29ubmVjdFxyXG4gICAgLy8gICBjb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgIHN0YXRlOiBCbHVldG9vdGhHYXR0U3RhdGUgPSBCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGVkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGJsdWV0b290aERldmljZTogYW55LCBwcmltYXJ5U2VydmljZU9iamVjdDogYW55W10pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuYmx1ZXRvb3RoRGV2aWNlID0gYmx1ZXRvb3RoRGV2aWNlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBCbHVldG9vdGhHYXR0U3RhdGUuRGlzY29ubmVjdGVkO1xyXG4gICAgICAgIHRoaXMucHJpbWFyeVNlcnZpY2VPYmplY3QgPSBwcmltYXJ5U2VydmljZU9iamVjdDtcclxuICAgICAgICB0aGlzLlNldE5vdGlmeSA9IHRoaXMuU2V0Tm90aWZ5LmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVOb3RpZnlDaGFuZ2VkID0gdGhpcy5oYW5kbGVOb3RpZnlDaGFuZ2VkLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2cobG9nU3RyOiBTdHJpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhsb2dTdHIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhdGUobmV3U3RhdGU6IEJsdWV0b290aEdhdHRTdGF0ZSkge1xyXG4gICAgICAgIGxldCBsb2dzdHI6IFN0cmluZyA9IFwib2xkIHN0YXRlID0gXCIgKyBCbHVldG9vdGhHYXR0U3RhdGVbdGhpcy5zdGF0ZV0gKyBcIiBuZXcgc3RhdGUgPSBcIiArIEJsdWV0b290aEdhdHRTdGF0ZVtuZXdTdGF0ZV07XHJcbiAgICAgICAgdGhpcy5sb2cobG9nc3RyKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gbmV3U3RhdGU7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3RlZDpcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNlcnZpY2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hhcmFjdGVyaXN0aWNzID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0ciA9ICdjb25uZWN0JztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGluZzpcclxuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0ciA9ICdjb25uZWN0aW5nJ1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3Rpbmc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdHIgPSAnZGlzY29ubmVjdGluZydcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGVkOlxyXG4gICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvblN0ciA9ICdjb25uZWN0ZWQnXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdHIgPSAnZXJyb3InXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3N0YXRlLWNoYW5nZScpKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyB0aW1lb3V0KCkge1xyXG4gICAgICAvLyAgdmFyIGJTdHJpbmc6QXJyYXlCdWZmZXIgPSBhd2FpdCB0aGlzLnJlYWR2YWx1ZUZyb21TZXJ2aWNlKCk7XHJcbiAgICAgIC8vICBhd2FpdCBiU3RyaW5nO1xyXG4gICAgICAvLyAgY29uc29sZS5sb2coXCJyZWFkaW5nIGNoYXJpc3RpYyBkb25lIFxcblwiKVxyXG4gICAgICAvLyAgdmFyIHRleHQgPSB1aW50VG9TdHJpbmcoYlN0cmluZyk7XHJcbiAgICAgIC8vICBjb25zb2xlLmxvZyh0ZXh0KTtcclxuXHJcbiAgICAgICAgaWYgKCh0aGlzLm1heHJldHJ5IDwgMTApICYmICh0aGlzLnN0YXRlID09PSBCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGluZykpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXhyZXRyeSsrO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RpdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25uZWN0KCkgLy8gZW50cnkgcG9pbnQgZm9yIGNvbm5lY3QgZnJvbSBvdXRzaWRlXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IEJsdWV0b290aEdhdHRTdGF0ZS5EaXNjb25uZWN0ZWQpIC8vIGl0cyBkaXNjb25uZWN0ZWQgc28gcmVhZHkgdG8gY29ubmVjdFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShCbHVldG9vdGhHYXR0U3RhdGUuQ29ubmVjdGluZyk7XHJcbiAgICAgICAgICAgIHRoaXMubWF4cmV0cnkgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RpdCgpO1xyXG4gICAgICAgIH1cclxuIC8vICAgICAgIGVsc2Uge1xyXG4gLy8gICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgLy8gd2FpdCBhIHdoaWxlIGJlZm9yZSBjb25uZWN0aW5nIGFnYWluLCBtYXliZSBpdCBpcyBzdGlsbCBkaXNjb25uZWN0aW5nXHJcbiAvLyAgICAgICAgICAge1xyXG4gLy8gICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKEJsdWV0b290aEdhdHRTdGF0ZS5Db25uZWN0aW5nKTtcclxuIC8vICAgICAgICAgICAgICAgdGhpcy5tYXhyZXRyeSA9IDA7XHJcbiAvLyAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGl0KCk7XHJcbiAvLyAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAvLyAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGlzY29ubmVjdChjbGFzc0luc3RhbmNlOiBCVExFY2xhc3MpIHtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLmJsdWV0b290aERldmljZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3RpbmcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdEaXNjb25uZWN0aW5nIGZyb20gQmx1ZXRvb3RoIERldmljZS4uLicpO1xyXG4gICAgICAgIGlmICh0aGlzLmJsdWV0b290aERldmljZS5nYXR0LmNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJsdWV0b290aERldmljZS5nYXR0LmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnPiBCbHVldG9vdGggRGV2aWNlIGlzIGFscmVhZHkgZGlzY29ubmVjdGVkJyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3RlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYmx1ZXRvb3RoRGV2aWNlID0gbnVsbDtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgIGNvbm5lY3RpdCgpIC8vIGNhbGxlZCBieSBjb25uZWN0IGFuZCB0aGUgdGltZW91dFxyXG4gICAge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2F0U2VydmVyID0gYXdhaXQgdGhpcy5ibHVldG9vdGhEZXZpY2UuZ2F0dC5jb25uZWN0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoQmx1ZXRvb3RoR2F0dFN0YXRlLkNvbm5lY3RlZCk7IC8vIGlmIG5vdCBjb25uZWN0ZWQgaXQgd2lsbCBnb3RvIHRoZSBjYXRjaCBcclxuICAgICAgICAgICBcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb25uZWN0aW5nIGZhaWxlZCAgXFxuXCIpO1xyXG4gICAgICAgICAgICAodGhpcy5zdGF0ZSA9PT0gQmx1ZXRvb3RoR2F0dFN0YXRlLkNvbm5lY3RpbmcpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwidHJ5IGFnYWluIG92ZXIgNSBzZWNvbmRzIFxcblwiKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy50aW1lb3V0LmJpbmQodGhpcyksIDUwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIG9uRGlzY29ubmVjdGVkKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCc+IEJsdWV0b290aCBEZXZpY2UgZGlzY29ubmVjdGVkJyk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIEJsdWV0b290aEdhdHRTdGF0ZS5EaXNjb25uZWN0aW5nOlxyXG4gICAgICAgICAgICBjYXNlIEJsdWV0b290aEdhdHRTdGF0ZS5FcnJvcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoQmx1ZXRvb3RoR2F0dFN0YXRlLkRpc2Nvbm5lY3RlZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKEJsdWV0b290aEdhdHRTdGF0ZS5EaXNjb25uZWN0ZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7IC8vIGNvbm5lY3QgYWdhaW5cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldENoYXJhY3RlcmlzdGljKHNlcnZpY2VOcjpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAvLyBpZiAodGhpcy5jdXJyZW50U2VydmljZSA9PSBudWxsKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgIHRoaXMuY3VycmVudFNlcnZpY2UgPSBhd2FpdCB0aGlzLmdhdFNlcnZlci5nZXRQcmltYXJ5U2VydmljZSh0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0W3NlcnZpY2VOcl1bMF0uc2VydmljZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgLy8gaWYgKHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljcyA9PSBudWxsKVxyXG4gICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hhcmFjdGVyaXN0aWNzID0gYXdhaXQgdGhpcy5jdXJyZW50U2VydmljZS5nZXRDaGFyYWN0ZXJpc3RpYyh0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0W3NlcnZpY2VOcl1bMF0uY2hhcmFjdGVyaXN0aWMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHJlYWR2YWx1ZUZyb21TZXJ2aWNlKHNlcnZpY2VOcjpudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQmx1ZXRvb3RoR2F0dFN0YXRlLkNvbm5lY3RlZCkge1xyXG5cclxuICAgICAgICAgICAgbGV0IHJlbGVhc2UgPSBhd2FpdCB0aGlzLnNlbWFwaG9yZS5hY3F1aXJlKCk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYyhzZXJ2aWNlTnIpOyAvLyBmaWxscyB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpYyBcclxuICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGF3YWl0IHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljcy5yZWFkVmFsdWUoKTtcclxuICAgICAgICAgICAgICAgIGxldCBiYXR0ZXJ5TGV2ZWwgPSB2YWx1ZS5nZXRVaW50OCgwKTtcclxuICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBcmdoISAnICsgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgU2V0Tm90aWZ5KG9uT2ZmOmJvb2xlYW4sIHNlcnZpY2VOcjpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IEJsdWV0b290aEdhdHRTdGF0ZS5Db25uZWN0ZWQpIHtcclxuICAgICAgICAgICAgbGV0IHJlbGVhc2UgPSBhd2FpdCB0aGlzLnNlbWFwaG9yZS5hY3F1aXJlKCk7XHJcblxyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRDaGFyYWN0ZXJpc3RpYyhzZXJ2aWNlTnIpOyAvLyBmaWxscyB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY1xyXG4gICAgICAgICAgICAgICAgaWYgKG9uT2ZmID09PSB0cnVlKSBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY3Muc3RhcnROb3RpZmljYXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlDaGFyYWN0ZXJpc3RpY3MgPSB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY3M7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3RpZnkgc2V0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnlDaGFyYWN0ZXJpc3RpY3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhcmFjdGVyaXN0aWN2YWx1ZWNoYW5nZWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOb3RpZnlDaGFuZ2VkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmN1cnJlbnRDaGFyYWN0ZXJpc3RpY3Muc3RvcE5vdGlmaWNhdGlvbnMoKTtcclxuICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBcmdoISAnICsgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gXHRcdFxyXG4gICAgfVxyXG4gICAgYXN5bmMgIHdyaXRldmFsdWVUb1NlcnZpY2UodmFsdWU6RGF0YVZpZXcsIHNlcnZpY2VOcjpudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQmx1ZXRvb3RoR2F0dFN0YXRlLkNvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICBsZXQgcmVsZWFzZSA9IGF3YWl0IHRoaXMuc2VtYXBob3JlLmFjcXVpcmUoKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldENoYXJhY3RlcmlzdGljKHNlcnZpY2VOcik7IC8vIGZpbGxzIHRoaXMuY3VycmVudENoYXJhY3RlcmlzdGljIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jdXJyZW50Q2hhcmFjdGVyaXN0aWNzLndyaXRlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmVsZWFzZSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FyZ2ghICcgKyBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICByZWxlYXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGhhbmRsZU5vdGlmeUNoYW5nZWQoZXZ0OiBhbnkpIHtcclxuXHJcbiAgICAgICAgbGV0IHZhbHVlID0gKGV2ZW50LnRhcmdldCBhcyBhbnkpLnZhbHVlO1xyXG5cclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLmJ1ZmZlciA/IHZhbHVlIDogbmV3IERhdGFWaWV3KHZhbHVlKTtcclxuXHJcbiAgICAgICAgbGV0IG15RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ25vdGlmeS1kYXRhLWV2ZW50Jywge1xyXG4gICAgICAgICAgICBkZXRhaWw6IHsgbWVzc2FnZTogdmFsdWUgfSxcclxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZSxcclxuICAgICAgICAgICAgY29tcG9zZWQ6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobXlFdmVudCk7XHJcblxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuIiwiLyoqXHJcbiAqIEltcG9ydCBMaXRFbGVtZW50IGJhc2UgY2xhc3MsIGh0bWwgaGVscGVyIGZ1bmN0aW9uLFxyXG4gKiBhbmQgVHlwZVNjcmlwdCBkZWNvcmF0b3JzXHJcbiAqKi9cclxuaW1wb3J0IHtcclxuICBMaXRFbGVtZW50LCBodG1sLCBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eVxyXG59IGZyb20gJy4uLy4uL0xTR19BUFAvbm9kZV9tb2R1bGVzL0Bwb2x5bWVyL2xpdC1lbGVtZW50JztcclxuLyppbXBvcnQge2NsYXNzTWFwfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyc7ICovXHJcbmltcG9ydCBCVExFY2xhc3MgZnJvbSAnLi9CVExFY2xhc3MnXHJcblxyXG5leHBvcnQgZW51bSBCVExFX0FjdGlvbiB7XHJcbiAgJ3JlYWQnLCAnd3JpdGUnLCdlbmFibGVOb3RpZnknLCdkaXNhYmxlTm90aWZ5J1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJUTEVfU3RydWN0IHtcclxuICBzZXJ2aWNlTnI6IG51bWJlcixcclxuICBhY3Rpb246IEJUTEVfQWN0aW9uLCBcclxuICBkYXRhOiBEYXRhVmlld1xyXG59XHJcblxyXG4vKipcclxuICogVXNlIHRoZSBjdXN0b21FbGVtZW50IGRlY29yYXRvciB0byBkZWZpbmUgeW91ciBjbGFzcyBhc1xyXG4gKiBhIGN1c3RvbSBlbGVtZW50LiBSZWdpc3RlcnMgPG15LWVsZW1lbnQ+IGFzIGFuIEhUTUwgdGFnLlxyXG4gKi9cclxuQGN1c3RvbUVsZW1lbnQoJ2xzZy1ibHVldG9vdGgnKVxyXG5leHBvcnQgY2xhc3MgTFNHX2JsdWV0b290aCBleHRlbmRzIExpdEVsZW1lbnR7XHJcblxyXG4gIFxyXG4gIC8qKiBcclxuICAgKiBDcmVhdGUgYW4gb2JzZXJ2ZWQgcHJvcGVydHkuIFRyaWdnZXJzIHVwZGF0ZSBvbiBjaGFuZ2UuIFxyXG4gICAqL1xyXG5cclxuICBAcHJvcGVydHkoKSBuYW1lOiBzdHJpbmcgPSAnbmFtZWl0JztcclxuICBAcHJvcGVydHkoKSBjb25uZWN0ZWRTdHI6IFN0cmluZyA9ICdjb25uZWN0JztcclxuICBAcHJvcGVydHkoKSBjb25uZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBAcHJvcGVydHkoe3R5cGUgOiBBcnJheX0pICBwcmltYXJ5U2VydmljZU9iamVjdCA9IFtbeyBzZXJ2aWNlOiAnaGVhcnRfcmF0ZScsIGNoYXJhY3RlcmlzdGljOiAnaGVhcnRfcmF0ZV9tZWFzdXJlbWVudCcgfV1dO1xyXG4gIEBwcm9wZXJ0eSgpIHJlYWQ6IGJvb2xlYW4gPSBmYWxzZTtcclxuICBAcHJvcGVydHkoKSBkYXRhOiBEYXRhVmlld1tdO1xyXG4gIEBwcm9wZXJ0eSgpIGJ0bGVkYXRhOiBCVExFX1N0cnVjdFtdID0gbnVsbDtcclxuICBcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcbiAgICB0aGlzLl9oYW5kbGVCdEdhdHRTdGF0ZUNoYW5nZSA9IHRoaXMuX2hhbmRsZUJ0R2F0dFN0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVOb3RpZnlDaGFuZ2VkID0gdGhpcy5faGFuZGxlTm90aWZ5Q2hhbmdlZC5iaW5kKHRoaXMpO1xyXG4gXHJcbiAgfVxyXG5cclxuICAvLyBpZiB5b3Ugd2FudCBhbGwgY3NzIHN0eWxlcyBmcm9tIHRoZSBodG1sIHBhZ2UgZW5hYmxlIHRoaXM6XHJcbiAgLy8gY3JlYXRlUmVuZGVyUm9vdCgpIHtcclxuICAvLyAgIHJldHVybiB0aGlzO1xyXG4gIC8vIH1cclxuXHJcbiAgYnV0dG9uQ29sb3VyID0gJ2JsdWUnO1xyXG4gIGJ1dHRvblBvaW50ZXIgPSAncG9pbnRlcic7XHJcbiAgYmx1ZXRvb3RoRGV2aWNlOmFueSA9IG51bGw7XHJcbiAgYmx1ZXRvb3RoR2F0dDpCVExFY2xhc3MgPSBudWxsO1xyXG4gIHByZXZDb25uZWN0ZWRTdHI6IFN0cmluZyA9ICcnO1xyXG5cclxuXHJcbiAgYmx1ZXRvb3RoQ2FsbGJhY2soY29uc3RyOnN0cmluZylcclxuICB7XHJcbiAgICAgdGhpcy5jb25uZWN0ZWRTdHIgPSBjb25zdHI7XHJcbiAgfVxyXG4gIC8qKlxyXG4gICAqIEltcGxlbWVudCBgcmVuZGVyYCB0byBkZWZpbmUgYSB0ZW1wbGF0ZSBmb3IgeW91ciBlbGVtZW50LlxyXG4gICAqL1xyXG4gIHJlbmRlcigpIHtcclxuICAgIC8qKlxyXG4gICAgICogVXNlIEphdmFTY3JpcHQgZXhwcmVzc2lvbnMgdG8gaW5jbHVkZSBwcm9wZXJ0eSB2YWx1ZXMgaW5cclxuICAgICAqIHRoZSBlbGVtZW50IHRlbXBsYXRlLlxyXG4gICAgICovXHJcbiAgICBcclxuICAgIGlmICh0aGlzLmNvbm5lY3RlZFN0ciA9PSBcImNvbm5lY3RlZFwiKVxyXG4gICAge1xyXG4gICAgICAgdGhpcy5idXR0b25Db2xvdXIgPSAnZ3JlZW4nO1xyXG4gICAgICAgXHJcbiAgICAgICBpZiAodGhpcy5idGxlZGF0YSAhPSBudWxsKVxyXG4gICAgICAge1xyXG4gICAgICAgICB0aGlzLnByb2Nlc3NCVExFY29tbWFuZHMoKTtcclxuICAgICAgICAgLy9mb3IgKGNvbnN0IGJ0bGVBY3Rpb24gb2YgdGhpcy5idGxlZGF0YSl7XHJcbiAgICAgICAgIC8vICBjb25zb2xlLmxvZyhidGxlQWN0aW9uKTtcclxuICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgdGhpcy5idGxlZGF0YSA9IG51bGw7XHJcbiAgICAgICB9XHJcbiAgICAgICBpZiAodGhpcy5kYXRhICE9IG51bGwpIC8vIHdoZW4gdGhlIHVzZXIgd2FudHMgdG8gd3JpdGUgZGF0YVxyXG4gICAgICAge1xyXG4gICAgICAgICAgdmFyIHNlbmRkID0gdGhpcy5kYXRhOyAvLyB3ZSBtYWtlIHRoaXMuZGF0YSBudWxsIHNvIHVzZSBhIHZhciBmb3IgdGhlIHNlY29uZCB3cml0ZVxyXG4gICAgICAgICAgdGhpcy5ibHVldG9vdGhHYXR0LndyaXRldmFsdWVUb1NlcnZpY2Uoc2VuZGRbMF0sMClcclxuICAgICAgICAgIC50aGVuKHZhbHVlID0+IHtcclxuICAgICAgICAgICAgaWYgKHNlbmRkLmxlbmd0aCA+IDEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQud3JpdGV2YWx1ZVRvU2VydmljZShzZW5kZFsxXSwwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xyXG4gICAgICAgfVxyXG4gICAgICAgaWYgKHRoaXMucmVhZCkgLy8gd2hlbiB0aGUgdXNlciB3YW50cyB0byByZWFkIGZvciBhIGNoYXJhY3Rpc3RpYyBcclxuICAgICAgIHtcclxuICAgICAgICAgIHRoaXMucmVhZEJ0bGUoMCk7XHJcbiAgICAgICB9XHJcbiAgICAgIFxyXG4gICAgfWVsc2VcclxuICAgIGlmICh0aGlzLmNvbm5lY3RlZFN0ciA9PSBcImNvbm5lY3RcIilcclxuICAgIHtcclxuICAgICAgIHRoaXMuYnV0dG9uQ29sb3VyID0gJ2JsdWUnO1xyXG4gICAgfWVsc2UgXHJcbiAgICBpZiAodGhpcy5jb25uZWN0ZWRTdHIgPT0gXCJjb25uZWN0aW5nXCIpXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuYnV0dG9uQ29sb3VyID0gJ29yYW5nZSc7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgIHRoaXMuYnV0dG9uQ29sb3VyID0gJ3JlZCc7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5wcmV2Q29ubmVjdGVkU3RyID0gdGhpcy5jb25uZWN0ZWRTdHI7XHJcblxyXG4gICAgcmV0dXJuIGh0bWxgXHJcbiAgICAgICA8c3R5bGU+XHJcbiAgICAgICBcclxuICAgICAgICAuYnV0dG9uIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3RoaXMuYnV0dG9uQ29sb3VyfTsgXHJcbiAgICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICAgIGNvbG9yOiB2YXIoLS1idG4tY29sb3IsIHdoaXRlKTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICBtYXJnaW46IDRweCA0cHg7XHJcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMTVweCA1MHB4IDMwcHg7XHJcbiAgICAgICAgY3Vyc29yOiAke3RoaXMuYnV0dG9uUG9pbnRlcn07XHJcbiAgICAgICAgb3V0bGluZTowO1xyXG4gICAgICAgIH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvblwiIEBjbGljaz1cIiR7dGhpcy5jb25uZWN0fVwiPiAke3RoaXMubmFtZX0gJHt0aGlzLmNvbm5lY3RlZFN0cn08L2J1dHRvbj5gO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgY29ubmVjdCgpIHtcclxuICAgIGxldCBvbGRzdGF0ZSA9IHRoaXMuY29ubmVjdGVkU3RyO1xyXG5cclxuICAgIGlmICh0aGlzLmJsdWV0b290aEdhdHQgIT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQuZGlzY29ubmVjdCh0aGlzLmJsdWV0b290aEdhdHQpOyAgLy8gZGlzY29ubmVjdCBvbGQgZ2F0dFxyXG4gICAgfVxyXG4gICAgaWYgKG9sZHN0YXRlID09IFwiY29ubmVjdFwiKVxyXG4gICAge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHRoaXMuYmx1ZXRvb3RoRGV2aWNlID0gYXdhaXQgbmF2aWdhdG9yLmJsdWV0b290aC5yZXF1ZXN0RGV2aWNlKHtcclxuICAgICAgICAgIGZpbHRlcnM6IFt7IHNlcnZpY2VzOiBbdGhpcy5wcmltYXJ5U2VydmljZU9iamVjdFswXVswXS5zZXJ2aWNlLCB0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0WzFdWzBdLnNlcnZpY2VdICB9XSxcclxuICAgICAgICAgIG9wdGlvbmFsU2VydmljZXM6IFt0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0WzBdWzBdLnNlcnZpY2UsIHRoaXMucHJpbWFyeVNlcnZpY2VPYmplY3RbMV1bMF0uc2VydmljZV1cclxuXHJcbiAgICAgICAgICAvL2ZpbHRlcnM6IFt7IHNlcnZpY2VzOiBbdGhpcy5zdHJlYW1pbmdTZXJ2aWNlLCB0aGlzLmNvbnRyb2xTZXJ2aWNlXSB9XSxcclxuICAgICAgICAgIC8vb3B0aW9uYWxTZXJ2aWNlczogW3RoaXMuY29udHJvbFNlcnZpY2UsIHRoaXMuc3RyZWFtaW5nU2VydmljZV1cclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmJsdWV0b290aEdhdHQgPSBuZXcgQlRMRWNsYXNzKHRoaXMuYmx1ZXRvb3RoRGV2aWNlLCB0aGlzLnByaW1hcnlTZXJ2aWNlT2JqZWN0KTtcclxuICAgICAgICAvLyBuZWVkIHRvIGJpbmQgdG8gdGhlIGNsYXNzIGVsc2Ugd2UgY2Fubm90IGNhbGwgYW55dGhpbmcgaW5zaWRlIHRoZSBibHVldG9vdGggY2xhc3NcclxuICAgICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80MzcyNzUxNi9qYXZhc2NyaXB0LWhvdy1hZGRpbmctZXZlbnQtaGFuZGxlci1pbnNpZGUtYS1jbGFzcy13aXRoLWEtY2xhc3MtbWV0aG9kLWFzLXRoZS1jLzQzNzI3NTgyXHJcbiAgICAgICAgdGhpcy5ibHVldG9vdGhEZXZpY2UuYWRkRXZlbnRMaXN0ZW5lcignZ2F0dHNlcnZlcmRpc2Nvbm5lY3RlZCcsIHRoaXMuYmx1ZXRvb3RoR2F0dC5vbkRpc2Nvbm5lY3RlZC5iaW5kKHRoaXMuYmx1ZXRvb3RoR2F0dCkpO1xyXG4gICAgICAgIHRoaXMuYmx1ZXRvb3RoR2F0dC5hZGRFdmVudExpc3RlbmVyKCdzdGF0ZS1jaGFuZ2UnLCB0aGlzLl9oYW5kbGVCdEdhdHRTdGF0ZUNoYW5nZSk7XHJcbiAgICAgICAgdGhpcy5ibHVldG9vdGhHYXR0LmFkZEV2ZW50TGlzdGVuZXIoJ25vdGlmeS1kYXRhLWV2ZW50JywgdGhpcy5faGFuZGxlTm90aWZ5Q2hhbmdlZCk7XHJcbiAgICAgICAgdGhpcy5ibHVldG9vdGhHYXR0LmNvbm5lY3QoKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXJnaCEgJyArIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICAgXHJcbiAgYXN5bmMgcmVhZEJ0bGUoc2VydmljZU5yOm51bWJlcilcclxuICB7XHJcbiAgICBhd2FpdCB0aGlzLmJsdWV0b290aEdhdHQucmVhZHZhbHVlRnJvbVNlcnZpY2Uoc2VydmljZU5yKVxyXG4gICAgICAudGhlbih2YWx1ZSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWFkID0gZmFsc2U7XHJcbiAgICAgICAgY29uc29sZS5sb2codmFsdWUpO1xyXG4gICAgICAgIGxldCBteUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdkYXRhLWV2ZW50Jywge1xyXG4gICAgICAgICAgZGV0YWlsOiB7IG1lc3NhZ2U6IHZhbHVlIH0sXHJcbiAgICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgICAgY29tcG9zZWQ6IHRydWVcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobXlFdmVudCk7XHJcbiAgICAgIH0sIHJlYXNvbiA9PiB7XHJcbiAgICAgICAgdGhpcy5yZWFkID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuICBhc3luYyBwcm9jZXNzQlRMRWNvbW1hbmRzKClcclxuICB7IFxyXG4gICAgZm9yIChjb25zdCBidGxlQWN0aW9uIG9mIHRoaXMuYnRsZWRhdGEpe1xyXG4gICAgICBpZiAoYnRsZUFjdGlvbi5hY3Rpb24gPT0gQlRMRV9BY3Rpb24ud3JpdGUpXHJcbiAgICAgICAgYXdhaXQgdGhpcy5ibHVldG9vdGhHYXR0LndyaXRldmFsdWVUb1NlcnZpY2UoYnRsZUFjdGlvbi5kYXRhLCBidGxlQWN0aW9uLnNlcnZpY2VOcik7XHJcbiAgICAgIGlmICAoYnRsZUFjdGlvbi5hY3Rpb24gPT0gQlRMRV9BY3Rpb24ucmVhZClcclxuICAgICAgICBhd2FpdCB0aGlzLnJlYWRCdGxlKGJ0bGVBY3Rpb24uc2VydmljZU5yKTsgXHJcbiAgICAgIGlmIChidGxlQWN0aW9uLmFjdGlvbiA9PSBCVExFX0FjdGlvbi5lbmFibGVOb3RpZnkpXHJcbiAgICAgICAgYXdhaXQgdGhpcy5ibHVldG9vdGhHYXR0LlNldE5vdGlmeSh0cnVlLCBidGxlQWN0aW9uLnNlcnZpY2VOcik7XHJcbiAgICAgIGlmIChidGxlQWN0aW9uLmFjdGlvbiA9PSBCVExFX0FjdGlvbi5kaXNhYmxlTm90aWZ5KVxyXG4gICAgICAgIGF3YWl0IHRoaXMuYmx1ZXRvb3RoR2F0dC5TZXROb3RpZnkoZmFsc2UsIGJ0bGVBY3Rpb24uc2VydmljZU5yKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVCdEdhdHRTdGF0ZUNoYW5nZShldnQ6YW55KSB7XHJcbiAgICAvLyB1cGRhdGUgdGhpcy5jb25uZWN0ZWRTdHIgd2hlbiB0aGUgQlRMRSdzIHN0YWdlIGNoYW5nZXNcclxuXHJcbiAgICB0aGlzLmNvbm5lY3RlZFN0ciA9IGV2dC50YXJnZXQuY29ubmVjdGlvblN0cjtcclxuICAgIGlmICh0aGlzLmNvbm5lY3RlZFN0ciA9PSAnY29ubmVjdGVkJylcclxuICAgIHtcclxuICAgICAgbGV0IG15RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2RhdGEtZXZlbnQnLCB7XHJcbiAgICAgICAgZGV0YWlsOiB7IG1lc3NhZ2U6IFwiY29ubmVjdGVkXCIgfSxcclxuICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobXlFdmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIF9oYW5kbGVOb3RpZnlDaGFuZ2VkKGV2dDphbnkpXHJcbiAge1xyXG4gICAgaWYgKHRoaXMuY29ubmVjdGVkU3RyID09ICdjb25uZWN0ZWQnKVxyXG4gICAge1xyXG4gICAgIC8vIGxldCB2YWx1ZSA9IChldmVudC50YXJnZXQgYXMgYW55KS52YWx1ZTtcclxuXHJcblx0ICAgLy8gdmFsdWUgPSB2YWx1ZS5idWZmZXIgPyB2YWx1ZSA6IG5ldyBEYXRhVmlldyh2YWx1ZSk7XHJcblx0XHJcblx0ICAgIGxldCBteUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdkYXRhLWV2ZW50Jywge1xyXG4gICAgICAgIGRldGFpbDogeyBtZXNzYWdlOiBldnQuZGV0YWlsLm1lc3NhZ2UgfSxcclxuICAgICAgICBidWJibGVzOiB0cnVlLFxyXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobXlFdmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcbiIsImV4cG9ydCB2YXIgbmFtZSA9IFwiZDNcIjtcbmV4cG9ydCB2YXIgdmVyc2lvbiA9IFwiNS4xNS4wXCI7XG5leHBvcnQgdmFyIGRlc2NyaXB0aW9uID0gXCJEYXRhLURyaXZlbiBEb2N1bWVudHNcIjtcbmV4cG9ydCB2YXIga2V5d29yZHMgPSBbXCJkb21cIixcInZpc3VhbGl6YXRpb25cIixcInN2Z1wiLFwiYW5pbWF0aW9uXCIsXCJjYW52YXNcIl07XG5leHBvcnQgdmFyIGhvbWVwYWdlID0gXCJodHRwczovL2QzanMub3JnXCI7XG5leHBvcnQgdmFyIGxpY2Vuc2UgPSBcIkJTRC0zLUNsYXVzZVwiO1xuZXhwb3J0IHZhciBhdXRob3IgPSB7XCJuYW1lXCI6XCJNaWtlIEJvc3RvY2tcIixcInVybFwiOlwiaHR0cHM6Ly9ib3N0Lm9ja3Mub3JnL21pa2VcIn07XG5leHBvcnQgdmFyIG1haW4gPSBcImRpc3QvZDMubm9kZS5qc1wiO1xuZXhwb3J0IHZhciB1bnBrZyA9IFwiZGlzdC9kMy5taW4uanNcIjtcbmV4cG9ydCB2YXIganNkZWxpdnIgPSBcImRpc3QvZDMubWluLmpzXCI7XG5leHBvcnQgdmFyIG1vZHVsZSA9IFwiaW5kZXguanNcIjtcbmV4cG9ydCB2YXIgcmVwb3NpdG9yeSA9IHtcInR5cGVcIjpcImdpdFwiLFwidXJsXCI6XCJodHRwczovL2dpdGh1Yi5jb20vZDMvZDMuZ2l0XCJ9O1xuZXhwb3J0IHZhciBmaWxlcyA9IFtcImRpc3QvKiovKi5qc1wiLFwiaW5kZXguanNcIl07XG5leHBvcnQgdmFyIHNjcmlwdHMgPSB7XCJwcmV0ZXN0XCI6XCJyaW1yYWYgZGlzdCAmJiBta2RpciBkaXN0ICYmIGpzb24ybW9kdWxlIHBhY2thZ2UuanNvbiA+IGRpc3QvcGFja2FnZS5qcyAmJiByb2xsdXAgLWNcIixcInRlc3RcIjpcInRhcGUgJ3Rlc3QvKiovKi10ZXN0LmpzJ1wiLFwicHJlcHVibGlzaE9ubHlcIjpcInlhcm4gdGVzdFwiLFwicG9zdHB1Ymxpc2hcIjpcImdpdCBwdXNoICYmIGdpdCBwdXNoIC0tdGFncyAmJiBjZCAuLi9kMy5naXRodWIuY29tICYmIGdpdCBwdWxsICYmIGNwIC4uL2QzL2Rpc3QvZDMuanMgZDMudjUuanMgJiYgY3AgLi4vZDMvZGlzdC9kMy5taW4uanMgZDMudjUubWluLmpzICYmIGdpdCBhZGQgZDMudjUuanMgZDMudjUubWluLmpzICYmIGdpdCBjb21taXQgLW0gXFxcImQzICR7bnBtX3BhY2thZ2VfdmVyc2lvbn1cXFwiICYmIGdpdCBwdXNoICYmIGNkIC0gJiYgY2QgLi4vZDMtYm93ZXIgJiYgZ2l0IHB1bGwgJiYgY3AgLi4vZDMvTElDRU5TRSAuLi9kMy9SRUFETUUubWQgLi4vZDMvZGlzdC9kMy5qcyAuLi9kMy9kaXN0L2QzLm1pbi5qcyAuICYmIGdpdCBhZGQgLS0gTElDRU5TRSBSRUFETUUubWQgZDMuanMgZDMubWluLmpzICYmIGdpdCBjb21taXQgLW0gXFxcIiR7bnBtX3BhY2thZ2VfdmVyc2lvbn1cXFwiICYmIGdpdCB0YWcgLWFtIFxcXCIke25wbV9wYWNrYWdlX3ZlcnNpb259XFxcIiB2JHtucG1fcGFja2FnZV92ZXJzaW9ufSAmJiBnaXQgcHVzaCAmJiBnaXQgcHVzaCAtLXRhZ3MgJiYgY2QgLSAmJiB6aXAgLWogZGlzdC9kMy56aXAgLS0gTElDRU5TRSBSRUFETUUubWQgQVBJLm1kIENIQU5HRVMubWQgZGlzdC9kMy5qcyBkaXN0L2QzLm1pbi5qc1wifTtcbmV4cG9ydCB2YXIgZGV2RGVwZW5kZW5jaWVzID0ge1wianNvbjJtb2R1bGVcIjpcIjAuMFwiLFwicmltcmFmXCI6XCIyXCIsXCJyb2xsdXBcIjpcIjFcIixcInJvbGx1cC1wbHVnaW4tYXNjaWlcIjpcIjAuMFwiLFwicm9sbHVwLXBsdWdpbi1ub2RlLXJlc29sdmVcIjpcIjNcIixcInJvbGx1cC1wbHVnaW4tdGVyc2VyXCI6XCI1XCIsXCJ0YXBlXCI6XCI0XCJ9O1xuZXhwb3J0IHZhciBkZXBlbmRlbmNpZXMgPSB7XCJkMy1hcnJheVwiOlwiMVwiLFwiZDMtYXhpc1wiOlwiMVwiLFwiZDMtYnJ1c2hcIjpcIjFcIixcImQzLWNob3JkXCI6XCIxXCIsXCJkMy1jb2xsZWN0aW9uXCI6XCIxXCIsXCJkMy1jb2xvclwiOlwiMVwiLFwiZDMtY29udG91clwiOlwiMVwiLFwiZDMtZGlzcGF0Y2hcIjpcIjFcIixcImQzLWRyYWdcIjpcIjFcIixcImQzLWRzdlwiOlwiMVwiLFwiZDMtZWFzZVwiOlwiMVwiLFwiZDMtZmV0Y2hcIjpcIjFcIixcImQzLWZvcmNlXCI6XCIxXCIsXCJkMy1mb3JtYXRcIjpcIjFcIixcImQzLWdlb1wiOlwiMVwiLFwiZDMtaGllcmFyY2h5XCI6XCIxXCIsXCJkMy1pbnRlcnBvbGF0ZVwiOlwiMVwiLFwiZDMtcGF0aFwiOlwiMVwiLFwiZDMtcG9seWdvblwiOlwiMVwiLFwiZDMtcXVhZHRyZWVcIjpcIjFcIixcImQzLXJhbmRvbVwiOlwiMVwiLFwiZDMtc2NhbGVcIjpcIjJcIixcImQzLXNjYWxlLWNocm9tYXRpY1wiOlwiMVwiLFwiZDMtc2VsZWN0aW9uXCI6XCIxXCIsXCJkMy1zaGFwZVwiOlwiMVwiLFwiZDMtdGltZVwiOlwiMVwiLFwiZDMtdGltZS1mb3JtYXRcIjpcIjJcIixcImQzLXRpbWVyXCI6XCIxXCIsXCJkMy10cmFuc2l0aW9uXCI6XCIxXCIsXCJkMy12b3Jvbm9pXCI6XCIxXCIsXCJkMy16b29tXCI6XCIxXCJ9O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJpbXBvcnQgYXNjZW5kaW5nIGZyb20gXCIuL2FzY2VuZGluZ1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjb21wYXJlKSB7XG4gIGlmIChjb21wYXJlLmxlbmd0aCA9PT0gMSkgY29tcGFyZSA9IGFzY2VuZGluZ0NvbXBhcmF0b3IoY29tcGFyZSk7XG4gIHJldHVybiB7XG4gICAgbGVmdDogZnVuY3Rpb24oYSwgeCwgbG8sIGhpKSB7XG4gICAgICBpZiAobG8gPT0gbnVsbCkgbG8gPSAwO1xuICAgICAgaWYgKGhpID09IG51bGwpIGhpID0gYS5sZW5ndGg7XG4gICAgICB3aGlsZSAobG8gPCBoaSkge1xuICAgICAgICB2YXIgbWlkID0gbG8gKyBoaSA+Pj4gMTtcbiAgICAgICAgaWYgKGNvbXBhcmUoYVttaWRdLCB4KSA8IDApIGxvID0gbWlkICsgMTtcbiAgICAgICAgZWxzZSBoaSA9IG1pZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsbztcbiAgICB9LFxuICAgIHJpZ2h0OiBmdW5jdGlvbihhLCB4LCBsbywgaGkpIHtcbiAgICAgIGlmIChsbyA9PSBudWxsKSBsbyA9IDA7XG4gICAgICBpZiAoaGkgPT0gbnVsbCkgaGkgPSBhLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsbyA8IGhpKSB7XG4gICAgICAgIHZhciBtaWQgPSBsbyArIGhpID4+PiAxO1xuICAgICAgICBpZiAoY29tcGFyZShhW21pZF0sIHgpID4gMCkgaGkgPSBtaWQ7XG4gICAgICAgIGVsc2UgbG8gPSBtaWQgKyAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxvO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gYXNjZW5kaW5nQ29tcGFyYXRvcihmKSB7XG4gIHJldHVybiBmdW5jdGlvbihkLCB4KSB7XG4gICAgcmV0dXJuIGFzY2VuZGluZyhmKGQpLCB4KTtcbiAgfTtcbn1cbiIsImltcG9ydCBhc2NlbmRpbmcgZnJvbSBcIi4vYXNjZW5kaW5nXCI7XG5pbXBvcnQgYmlzZWN0b3IgZnJvbSBcIi4vYmlzZWN0b3JcIjtcblxudmFyIGFzY2VuZGluZ0Jpc2VjdCA9IGJpc2VjdG9yKGFzY2VuZGluZyk7XG5leHBvcnQgdmFyIGJpc2VjdFJpZ2h0ID0gYXNjZW5kaW5nQmlzZWN0LnJpZ2h0O1xuZXhwb3J0IHZhciBiaXNlY3RMZWZ0ID0gYXNjZW5kaW5nQmlzZWN0LmxlZnQ7XG5leHBvcnQgZGVmYXVsdCBiaXNlY3RSaWdodDtcbiIsImltcG9ydCB7cGFpcn0gZnJvbSBcIi4vcGFpcnNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzMCwgdmFsdWVzMSwgcmVkdWNlKSB7XG4gIHZhciBuMCA9IHZhbHVlczAubGVuZ3RoLFxuICAgICAgbjEgPSB2YWx1ZXMxLmxlbmd0aCxcbiAgICAgIHZhbHVlcyA9IG5ldyBBcnJheShuMCAqIG4xKSxcbiAgICAgIGkwLFxuICAgICAgaTEsXG4gICAgICBpLFxuICAgICAgdmFsdWUwO1xuXG4gIGlmIChyZWR1Y2UgPT0gbnVsbCkgcmVkdWNlID0gcGFpcjtcblxuICBmb3IgKGkwID0gaSA9IDA7IGkwIDwgbjA7ICsraTApIHtcbiAgICBmb3IgKHZhbHVlMCA9IHZhbHVlczBbaTBdLCBpMSA9IDA7IGkxIDwgbjE7ICsraTEsICsraSkge1xuICAgICAgdmFsdWVzW2ldID0gcmVkdWNlKHZhbHVlMCwgdmFsdWVzMVtpMV0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG4iLCJ2YXIgYXJyYXkgPSBBcnJheS5wcm90b3R5cGU7XG5cbmV4cG9ydCB2YXIgc2xpY2UgPSBhcnJheS5zbGljZTtcbmV4cG9ydCB2YXIgbWFwID0gYXJyYXkubWFwO1xuIiwidmFyIGUxMCA9IE1hdGguc3FydCg1MCksXG4gICAgZTUgPSBNYXRoLnNxcnQoMTApLFxuICAgIGUyID0gTWF0aC5zcXJ0KDIpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdGFydCwgc3RvcCwgY291bnQpIHtcbiAgdmFyIHJldmVyc2UsXG4gICAgICBpID0gLTEsXG4gICAgICBuLFxuICAgICAgdGlja3MsXG4gICAgICBzdGVwO1xuXG4gIHN0b3AgPSArc3RvcCwgc3RhcnQgPSArc3RhcnQsIGNvdW50ID0gK2NvdW50O1xuICBpZiAoc3RhcnQgPT09IHN0b3AgJiYgY291bnQgPiAwKSByZXR1cm4gW3N0YXJ0XTtcbiAgaWYgKHJldmVyc2UgPSBzdG9wIDwgc3RhcnQpIG4gPSBzdGFydCwgc3RhcnQgPSBzdG9wLCBzdG9wID0gbjtcbiAgaWYgKChzdGVwID0gdGlja0luY3JlbWVudChzdGFydCwgc3RvcCwgY291bnQpKSA9PT0gMCB8fCAhaXNGaW5pdGUoc3RlcCkpIHJldHVybiBbXTtcblxuICBpZiAoc3RlcCA+IDApIHtcbiAgICBzdGFydCA9IE1hdGguY2VpbChzdGFydCAvIHN0ZXApO1xuICAgIHN0b3AgPSBNYXRoLmZsb29yKHN0b3AgLyBzdGVwKTtcbiAgICB0aWNrcyA9IG5ldyBBcnJheShuID0gTWF0aC5jZWlsKHN0b3AgLSBzdGFydCArIDEpKTtcbiAgICB3aGlsZSAoKytpIDwgbikgdGlja3NbaV0gPSAoc3RhcnQgKyBpKSAqIHN0ZXA7XG4gIH0gZWxzZSB7XG4gICAgc3RhcnQgPSBNYXRoLmZsb29yKHN0YXJ0ICogc3RlcCk7XG4gICAgc3RvcCA9IE1hdGguY2VpbChzdG9wICogc3RlcCk7XG4gICAgdGlja3MgPSBuZXcgQXJyYXkobiA9IE1hdGguY2VpbChzdGFydCAtIHN0b3AgKyAxKSk7XG4gICAgd2hpbGUgKCsraSA8IG4pIHRpY2tzW2ldID0gKHN0YXJ0IC0gaSkgLyBzdGVwO1xuICB9XG5cbiAgaWYgKHJldmVyc2UpIHRpY2tzLnJldmVyc2UoKTtcblxuICByZXR1cm4gdGlja3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0aWNrSW5jcmVtZW50KHN0YXJ0LCBzdG9wLCBjb3VudCkge1xuICB2YXIgc3RlcCA9IChzdG9wIC0gc3RhcnQpIC8gTWF0aC5tYXgoMCwgY291bnQpLFxuICAgICAgcG93ZXIgPSBNYXRoLmZsb29yKE1hdGgubG9nKHN0ZXApIC8gTWF0aC5MTjEwKSxcbiAgICAgIGVycm9yID0gc3RlcCAvIE1hdGgucG93KDEwLCBwb3dlcik7XG4gIHJldHVybiBwb3dlciA+PSAwXG4gICAgICA/IChlcnJvciA+PSBlMTAgPyAxMCA6IGVycm9yID49IGU1ID8gNSA6IGVycm9yID49IGUyID8gMiA6IDEpICogTWF0aC5wb3coMTAsIHBvd2VyKVxuICAgICAgOiAtTWF0aC5wb3coMTAsIC1wb3dlcikgLyAoZXJyb3IgPj0gZTEwID8gMTAgOiBlcnJvciA+PSBlNSA/IDUgOiBlcnJvciA+PSBlMiA/IDIgOiAxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpY2tTdGVwKHN0YXJ0LCBzdG9wLCBjb3VudCkge1xuICB2YXIgc3RlcDAgPSBNYXRoLmFicyhzdG9wIC0gc3RhcnQpIC8gTWF0aC5tYXgoMCwgY291bnQpLFxuICAgICAgc3RlcDEgPSBNYXRoLnBvdygxMCwgTWF0aC5mbG9vcihNYXRoLmxvZyhzdGVwMCkgLyBNYXRoLkxOMTApKSxcbiAgICAgIGVycm9yID0gc3RlcDAgLyBzdGVwMTtcbiAgaWYgKGVycm9yID49IGUxMCkgc3RlcDEgKj0gMTA7XG4gIGVsc2UgaWYgKGVycm9yID49IGU1KSBzdGVwMSAqPSA1O1xuICBlbHNlIGlmIChlcnJvciA+PSBlMikgc3RlcDEgKj0gMjtcbiAgcmV0dXJuIHN0b3AgPCBzdGFydCA/IC1zdGVwMSA6IHN0ZXAxO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzKSB7XG4gIHJldHVybiBNYXRoLmNlaWwoTWF0aC5sb2codmFsdWVzLmxlbmd0aCkgLyBNYXRoLkxOMikgKyAxO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWVzLCB2YWx1ZW9mKSB7XG4gIHZhciBuID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgIGkgPSAtMSxcbiAgICAgIHZhbHVlLFxuICAgICAgbWF4O1xuXG4gIGlmICh2YWx1ZW9mID09IG51bGwpIHtcbiAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBGaW5kIHRoZSBmaXJzdCBjb21wYXJhYmxlIHZhbHVlLlxuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlc1tpXSkgIT0gbnVsbCAmJiB2YWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBtYXggPSB2YWx1ZTtcbiAgICAgICAgd2hpbGUgKCsraSA8IG4pIHsgLy8gQ29tcGFyZSB0aGUgcmVtYWluaW5nIHZhbHVlcy5cbiAgICAgICAgICBpZiAoKHZhbHVlID0gdmFsdWVzW2ldKSAhPSBudWxsICYmIHZhbHVlID4gbWF4KSB7XG4gICAgICAgICAgICBtYXggPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlbHNlIHtcbiAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBGaW5kIHRoZSBmaXJzdCBjb21wYXJhYmxlIHZhbHVlLlxuICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlb2YodmFsdWVzW2ldLCBpLCB2YWx1ZXMpKSAhPSBudWxsICYmIHZhbHVlID49IHZhbHVlKSB7XG4gICAgICAgIG1heCA9IHZhbHVlO1xuICAgICAgICB3aGlsZSAoKytpIDwgbikgeyAvLyBDb21wYXJlIHRoZSByZW1haW5pbmcgdmFsdWVzLlxuICAgICAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlc1tpXSwgaSwgdmFsdWVzKSkgIT0gbnVsbCAmJiB2YWx1ZSA+IG1heCkge1xuICAgICAgICAgICAgbWF4ID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1heDtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlcywgdmFsdWVvZikge1xuICB2YXIgbiA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICBpID0gLTEsXG4gICAgICB2YWx1ZSxcbiAgICAgIG1pbjtcblxuICBpZiAodmFsdWVvZiA9PSBudWxsKSB7XG4gICAgd2hpbGUgKCsraSA8IG4pIHsgLy8gRmluZCB0aGUgZmlyc3QgY29tcGFyYWJsZSB2YWx1ZS5cbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZXNbaV0pICE9IG51bGwgJiYgdmFsdWUgPj0gdmFsdWUpIHtcbiAgICAgICAgbWluID0gdmFsdWU7XG4gICAgICAgIHdoaWxlICgrK2kgPCBuKSB7IC8vIENvbXBhcmUgdGhlIHJlbWFpbmluZyB2YWx1ZXMuXG4gICAgICAgICAgaWYgKCh2YWx1ZSA9IHZhbHVlc1tpXSkgIT0gbnVsbCAmJiBtaW4gPiB2YWx1ZSkge1xuICAgICAgICAgICAgbWluID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZWxzZSB7XG4gICAgd2hpbGUgKCsraSA8IG4pIHsgLy8gRmluZCB0aGUgZmlyc3QgY29tcGFyYWJsZSB2YWx1ZS5cbiAgICAgIGlmICgodmFsdWUgPSB2YWx1ZW9mKHZhbHVlc1tpXSwgaSwgdmFsdWVzKSkgIT0gbnVsbCAmJiB2YWx1ZSA+PSB2YWx1ZSkge1xuICAgICAgICBtaW4gPSB2YWx1ZTtcbiAgICAgICAgd2hpbGUgKCsraSA8IG4pIHsgLy8gQ29tcGFyZSB0aGUgcmVtYWluaW5nIHZhbHVlcy5cbiAgICAgICAgICBpZiAoKHZhbHVlID0gdmFsdWVvZih2YWx1ZXNbaV0sIGksIHZhbHVlcykpICE9IG51bGwgJiYgbWluID4gdmFsdWUpIHtcbiAgICAgICAgICAgIG1pbiA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtaW47XG59XG4iLCJleHBvcnQgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuIiwidmFyIG5vb3AgPSB7dmFsdWU6IGZ1bmN0aW9uKCkge319O1xuXG5mdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSBhcmd1bWVudHMubGVuZ3RoLCBfID0ge30sIHQ7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoISh0ID0gYXJndW1lbnRzW2ldICsgXCJcIikgfHwgKHQgaW4gXykgfHwgL1tcXHMuXS8udGVzdCh0KSkgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCB0eXBlOiBcIiArIHQpO1xuICAgIF9bdF0gPSBbXTtcbiAgfVxuICByZXR1cm4gbmV3IERpc3BhdGNoKF8pO1xufVxuXG5mdW5jdGlvbiBEaXNwYXRjaChfKSB7XG4gIHRoaXMuXyA9IF87XG59XG5cbmZ1bmN0aW9uIHBhcnNlVHlwZW5hbWVzKHR5cGVuYW1lcywgdHlwZXMpIHtcbiAgcmV0dXJuIHR5cGVuYW1lcy50cmltKCkuc3BsaXQoL158XFxzKy8pLm1hcChmdW5jdGlvbih0KSB7XG4gICAgdmFyIG5hbWUgPSBcIlwiLCBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSBuYW1lID0gdC5zbGljZShpICsgMSksIHQgPSB0LnNsaWNlKDAsIGkpO1xuICAgIGlmICh0ICYmICF0eXBlcy5oYXNPd25Qcm9wZXJ0eSh0KSkgdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biB0eXBlOiBcIiArIHQpO1xuICAgIHJldHVybiB7dHlwZTogdCwgbmFtZTogbmFtZX07XG4gIH0pO1xufVxuXG5EaXNwYXRjaC5wcm90b3R5cGUgPSBkaXNwYXRjaC5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBEaXNwYXRjaCxcbiAgb246IGZ1bmN0aW9uKHR5cGVuYW1lLCBjYWxsYmFjaykge1xuICAgIHZhciBfID0gdGhpcy5fLFxuICAgICAgICBUID0gcGFyc2VUeXBlbmFtZXModHlwZW5hbWUgKyBcIlwiLCBfKSxcbiAgICAgICAgdCxcbiAgICAgICAgaSA9IC0xLFxuICAgICAgICBuID0gVC5sZW5ndGg7XG5cbiAgICAvLyBJZiBubyBjYWxsYmFjayB3YXMgc3BlY2lmaWVkLCByZXR1cm4gdGhlIGNhbGxiYWNrIG9mIHRoZSBnaXZlbiB0eXBlIGFuZCBuYW1lLlxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikge1xuICAgICAgd2hpbGUgKCsraSA8IG4pIGlmICgodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpICYmICh0ID0gZ2V0KF9bdF0sIHR5cGVuYW1lLm5hbWUpKSkgcmV0dXJuIHQ7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSWYgYSB0eXBlIHdhcyBzcGVjaWZpZWQsIHNldCB0aGUgY2FsbGJhY2sgZm9yIHRoZSBnaXZlbiB0eXBlIGFuZCBuYW1lLlxuICAgIC8vIE90aGVyd2lzZSwgaWYgYSBudWxsIGNhbGxiYWNrIHdhcyBzcGVjaWZpZWQsIHJlbW92ZSBjYWxsYmFja3Mgb2YgdGhlIGdpdmVuIG5hbWUuXG4gICAgaWYgKGNhbGxiYWNrICE9IG51bGwgJiYgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgY2FsbGJhY2s6IFwiICsgY2FsbGJhY2spO1xuICAgIHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICBpZiAodCA9ICh0eXBlbmFtZSA9IFRbaV0pLnR5cGUpIF9bdF0gPSBzZXQoX1t0XSwgdHlwZW5hbWUubmFtZSwgY2FsbGJhY2spO1xuICAgICAgZWxzZSBpZiAoY2FsbGJhY2sgPT0gbnVsbCkgZm9yICh0IGluIF8pIF9bdF0gPSBzZXQoX1t0XSwgdHlwZW5hbWUubmFtZSwgbnVsbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGNvcHk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb3B5ID0ge30sIF8gPSB0aGlzLl87XG4gICAgZm9yICh2YXIgdCBpbiBfKSBjb3B5W3RdID0gX1t0XS5zbGljZSgpO1xuICAgIHJldHVybiBuZXcgRGlzcGF0Y2goY29weSk7XG4gIH0sXG4gIGNhbGw6IGZ1bmN0aW9uKHR5cGUsIHRoYXQpIHtcbiAgICBpZiAoKG4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMikgPiAwKSBmb3IgKHZhciBhcmdzID0gbmV3IEFycmF5KG4pLCBpID0gMCwgbiwgdDsgaSA8IG47ICsraSkgYXJnc1tpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgaWYgKCF0aGlzLl8uaGFzT3duUHJvcGVydHkodHlwZSkpIHRocm93IG5ldyBFcnJvcihcInVua25vd24gdHlwZTogXCIgKyB0eXBlKTtcbiAgICBmb3IgKHQgPSB0aGlzLl9bdHlwZV0sIGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyArK2kpIHRbaV0udmFsdWUuYXBwbHkodGhhdCwgYXJncyk7XG4gIH0sXG4gIGFwcGx5OiBmdW5jdGlvbih0eXBlLCB0aGF0LCBhcmdzKSB7XG4gICAgaWYgKCF0aGlzLl8uaGFzT3duUHJvcGVydHkodHlwZSkpIHRocm93IG5ldyBFcnJvcihcInVua25vd24gdHlwZTogXCIgKyB0eXBlKTtcbiAgICBmb3IgKHZhciB0ID0gdGhpcy5fW3R5cGVdLCBpID0gMCwgbiA9IHQubGVuZ3RoOyBpIDwgbjsgKytpKSB0W2ldLnZhbHVlLmFwcGx5KHRoYXQsIGFyZ3MpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXQodHlwZSwgbmFtZSkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IHR5cGUubGVuZ3RoLCBjOyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKChjID0gdHlwZVtpXSkubmFtZSA9PT0gbmFtZSkge1xuICAgICAgcmV0dXJuIGMudmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldCh0eXBlLCBuYW1lLCBjYWxsYmFjaykge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IHR5cGUubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKHR5cGVbaV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgdHlwZVtpXSA9IG5vb3AsIHR5cGUgPSB0eXBlLnNsaWNlKDAsIGkpLmNvbmNhdCh0eXBlLnNsaWNlKGkgKyAxKSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHR5cGUucHVzaCh7bmFtZTogbmFtZSwgdmFsdWU6IGNhbGxiYWNrfSk7XG4gIHJldHVybiB0eXBlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBkaXNwYXRjaDtcbiIsImZ1bmN0aW9uIG5vbmUoKSB7fVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPT0gbnVsbCA/IG5vbmUgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImZ1bmN0aW9uIGVtcHR5KCkge1xuICByZXR1cm4gW107XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHJldHVybiBzZWxlY3RvciA9PSBudWxsID8gZW1wdHkgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHVwZGF0ZSkge1xuICByZXR1cm4gbmV3IEFycmF5KHVwZGF0ZS5sZW5ndGgpO1xufVxuIiwiaW1wb3J0IHNwYXJzZSBmcm9tIFwiLi9zcGFyc2VcIjtcbmltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZW50ZXIgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEVudGVyTm9kZShwYXJlbnQsIGRhdHVtKSB7XG4gIHRoaXMub3duZXJEb2N1bWVudCA9IHBhcmVudC5vd25lckRvY3VtZW50O1xuICB0aGlzLm5hbWVzcGFjZVVSSSA9IHBhcmVudC5uYW1lc3BhY2VVUkk7XG4gIHRoaXMuX25leHQgPSBudWxsO1xuICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gIHRoaXMuX19kYXRhX18gPSBkYXR1bTtcbn1cblxuRW50ZXJOb2RlLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IEVudGVyTm9kZSxcbiAgYXBwZW5kQ2hpbGQ6IGZ1bmN0aW9uKGNoaWxkKSB7IHJldHVybiB0aGlzLl9wYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCB0aGlzLl9uZXh0KTsgfSxcbiAgaW5zZXJ0QmVmb3JlOiBmdW5jdGlvbihjaGlsZCwgbmV4dCkgeyByZXR1cm4gdGhpcy5fcGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCwgbmV4dCk7IH0sXG4gIHF1ZXJ5U2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7IHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7IH0sXG4gIHF1ZXJ5U2VsZWN0b3JBbGw6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7IHJldHVybiB0aGlzLl9wYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7IH1cbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4KSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4geDtcbiAgfTtcbn1cbiIsImltcG9ydCB7U2VsZWN0aW9ufSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHtFbnRlck5vZGV9IGZyb20gXCIuL2VudGVyXCI7XG5pbXBvcnQgY29uc3RhbnQgZnJvbSBcIi4uL2NvbnN0YW50XCI7XG5cbnZhciBrZXlQcmVmaXggPSBcIiRcIjsgLy8gUHJvdGVjdCBhZ2FpbnN0IGtleXMgbGlrZSDigJxfX3Byb3RvX1/igJ0uXG5cbmZ1bmN0aW9uIGJpbmRJbmRleChwYXJlbnQsIGdyb3VwLCBlbnRlciwgdXBkYXRlLCBleGl0LCBkYXRhKSB7XG4gIHZhciBpID0gMCxcbiAgICAgIG5vZGUsXG4gICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aDtcblxuICAvLyBQdXQgYW55IG5vbi1udWxsIG5vZGVzIHRoYXQgZml0IGludG8gdXBkYXRlLlxuICAvLyBQdXQgYW55IG51bGwgbm9kZXMgaW50byBlbnRlci5cbiAgLy8gUHV0IGFueSByZW1haW5pbmcgZGF0YSBpbnRvIGVudGVyLlxuICBmb3IgKDsgaSA8IGRhdGFMZW5ndGg7ICsraSkge1xuICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gUHV0IGFueSBub24tbnVsbCBub2RlcyB0aGF0IGRvbuKAmXQgZml0IGludG8gZXhpdC5cbiAgZm9yICg7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgZXhpdFtpXSA9IG5vZGU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGJpbmRLZXkocGFyZW50LCBncm91cCwgZW50ZXIsIHVwZGF0ZSwgZXhpdCwgZGF0YSwga2V5KSB7XG4gIHZhciBpLFxuICAgICAgbm9kZSxcbiAgICAgIG5vZGVCeUtleVZhbHVlID0ge30sXG4gICAgICBncm91cExlbmd0aCA9IGdyb3VwLmxlbmd0aCxcbiAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aCxcbiAgICAgIGtleVZhbHVlcyA9IG5ldyBBcnJheShncm91cExlbmd0aCksXG4gICAgICBrZXlWYWx1ZTtcblxuICAvLyBDb21wdXRlIHRoZSBrZXkgZm9yIGVhY2ggbm9kZS5cbiAgLy8gSWYgbXVsdGlwbGUgbm9kZXMgaGF2ZSB0aGUgc2FtZSBrZXksIHRoZSBkdXBsaWNhdGVzIGFyZSBhZGRlZCB0byBleGl0LlxuICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBMZW5ndGg7ICsraSkge1xuICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgIGtleVZhbHVlc1tpXSA9IGtleVZhbHVlID0ga2V5UHJlZml4ICsga2V5LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApO1xuICAgICAgaWYgKGtleVZhbHVlIGluIG5vZGVCeUtleVZhbHVlKSB7XG4gICAgICAgIGV4aXRbaV0gPSBub2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZUJ5S2V5VmFsdWVba2V5VmFsdWVdID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBrZXkgZm9yIGVhY2ggZGF0dW0uXG4gIC8vIElmIHRoZXJlIGEgbm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBrZXksIGpvaW4gYW5kIGFkZCBpdCB0byB1cGRhdGUuXG4gIC8vIElmIHRoZXJlIGlzIG5vdCAob3IgdGhlIGtleSBpcyBhIGR1cGxpY2F0ZSksIGFkZCBpdCB0byBlbnRlci5cbiAgZm9yIChpID0gMDsgaSA8IGRhdGFMZW5ndGg7ICsraSkge1xuICAgIGtleVZhbHVlID0ga2V5UHJlZml4ICsga2V5LmNhbGwocGFyZW50LCBkYXRhW2ldLCBpLCBkYXRhKTtcbiAgICBpZiAobm9kZSA9IG5vZGVCeUtleVZhbHVlW2tleVZhbHVlXSkge1xuICAgICAgdXBkYXRlW2ldID0gbm9kZTtcbiAgICAgIG5vZGUuX19kYXRhX18gPSBkYXRhW2ldO1xuICAgICAgbm9kZUJ5S2V5VmFsdWVba2V5VmFsdWVdID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgZW50ZXJbaV0gPSBuZXcgRW50ZXJOb2RlKHBhcmVudCwgZGF0YVtpXSk7XG4gICAgfVxuICB9XG5cbiAgLy8gQWRkIGFueSByZW1haW5pbmcgbm9kZXMgdGhhdCB3ZXJlIG5vdCBib3VuZCB0byBkYXRhIHRvIGV4aXQuXG4gIGZvciAoaSA9IDA7IGkgPCBncm91cExlbmd0aDsgKytpKSB7XG4gICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIChub2RlQnlLZXlWYWx1ZVtrZXlWYWx1ZXNbaV1dID09PSBub2RlKSkge1xuICAgICAgZXhpdFtpXSA9IG5vZGU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIGRhdGEgPSBuZXcgQXJyYXkodGhpcy5zaXplKCkpLCBqID0gLTE7XG4gICAgdGhpcy5lYWNoKGZ1bmN0aW9uKGQpIHsgZGF0YVsrK2pdID0gZDsgfSk7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICB2YXIgYmluZCA9IGtleSA/IGJpbmRLZXkgOiBiaW5kSW5kZXgsXG4gICAgICBwYXJlbnRzID0gdGhpcy5fcGFyZW50cyxcbiAgICAgIGdyb3VwcyA9IHRoaXMuX2dyb3VwcztcblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHZhbHVlID0gY29uc3RhbnQodmFsdWUpO1xuXG4gIGZvciAodmFyIG0gPSBncm91cHMubGVuZ3RoLCB1cGRhdGUgPSBuZXcgQXJyYXkobSksIGVudGVyID0gbmV3IEFycmF5KG0pLCBleGl0ID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIHZhciBwYXJlbnQgPSBwYXJlbnRzW2pdLFxuICAgICAgICBncm91cCA9IGdyb3Vwc1tqXSxcbiAgICAgICAgZ3JvdXBMZW5ndGggPSBncm91cC5sZW5ndGgsXG4gICAgICAgIGRhdGEgPSB2YWx1ZS5jYWxsKHBhcmVudCwgcGFyZW50ICYmIHBhcmVudC5fX2RhdGFfXywgaiwgcGFyZW50cyksXG4gICAgICAgIGRhdGFMZW5ndGggPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgZW50ZXJHcm91cCA9IGVudGVyW2pdID0gbmV3IEFycmF5KGRhdGFMZW5ndGgpLFxuICAgICAgICB1cGRhdGVHcm91cCA9IHVwZGF0ZVtqXSA9IG5ldyBBcnJheShkYXRhTGVuZ3RoKSxcbiAgICAgICAgZXhpdEdyb3VwID0gZXhpdFtqXSA9IG5ldyBBcnJheShncm91cExlbmd0aCk7XG5cbiAgICBiaW5kKHBhcmVudCwgZ3JvdXAsIGVudGVyR3JvdXAsIHVwZGF0ZUdyb3VwLCBleGl0R3JvdXAsIGRhdGEsIGtleSk7XG5cbiAgICAvLyBOb3cgY29ubmVjdCB0aGUgZW50ZXIgbm9kZXMgdG8gdGhlaXIgZm9sbG93aW5nIHVwZGF0ZSBub2RlLCBzdWNoIHRoYXRcbiAgICAvLyBhcHBlbmRDaGlsZCBjYW4gaW5zZXJ0IHRoZSBtYXRlcmlhbGl6ZWQgZW50ZXIgbm9kZSBiZWZvcmUgdGhpcyBub2RlLFxuICAgIC8vIHJhdGhlciB0aGFuIGF0IHRoZSBlbmQgb2YgdGhlIHBhcmVudCBub2RlLlxuICAgIGZvciAodmFyIGkwID0gMCwgaTEgPSAwLCBwcmV2aW91cywgbmV4dDsgaTAgPCBkYXRhTGVuZ3RoOyArK2kwKSB7XG4gICAgICBpZiAocHJldmlvdXMgPSBlbnRlckdyb3VwW2kwXSkge1xuICAgICAgICBpZiAoaTAgPj0gaTEpIGkxID0gaTAgKyAxO1xuICAgICAgICB3aGlsZSAoIShuZXh0ID0gdXBkYXRlR3JvdXBbaTFdKSAmJiArK2kxIDwgZGF0YUxlbmd0aCk7XG4gICAgICAgIHByZXZpb3VzLl9uZXh0ID0gbmV4dCB8fCBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZSA9IG5ldyBTZWxlY3Rpb24odXBkYXRlLCBwYXJlbnRzKTtcbiAgdXBkYXRlLl9lbnRlciA9IGVudGVyO1xuICB1cGRhdGUuX2V4aXQgPSBleGl0O1xuICByZXR1cm4gdXBkYXRlO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNvbXBhcmUpIHtcbiAgaWYgKCFjb21wYXJlKSBjb21wYXJlID0gYXNjZW5kaW5nO1xuXG4gIGZ1bmN0aW9uIGNvbXBhcmVOb2RlKGEsIGIpIHtcbiAgICByZXR1cm4gYSAmJiBiID8gY29tcGFyZShhLl9fZGF0YV9fLCBiLl9fZGF0YV9fKSA6ICFhIC0gIWI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBzb3J0Z3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzb3J0Z3JvdXAgPSBzb3J0Z3JvdXBzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzb3J0Z3JvdXBbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3J0Z3JvdXAuc29ydChjb21wYXJlTm9kZSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzb3J0Z3JvdXBzLCB0aGlzLl9wYXJlbnRzKS5vcmRlcigpO1xufVxuXG5mdW5jdGlvbiBhc2NlbmRpbmcoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IGEgPj0gYiA/IDAgOiBOYU47XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrID0gYXJndW1lbnRzWzBdO1xuICBhcmd1bWVudHNbMF0gPSB0aGlzO1xuICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCB2YXIgeGh0bWwgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzdmc6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgeGh0bWw6IHhodG1sLFxuICB4bGluazogXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gIHhtbDogXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIixcbiAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIlxufTtcbiIsImltcG9ydCBuYW1lc3BhY2VzIGZyb20gXCIuL25hbWVzcGFjZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgcHJlZml4ID0gbmFtZSArPSBcIlwiLCBpID0gcHJlZml4LmluZGV4T2YoXCI6XCIpO1xuICBpZiAoaSA+PSAwICYmIChwcmVmaXggPSBuYW1lLnNsaWNlKDAsIGkpKSAhPT0gXCJ4bWxuc1wiKSBuYW1lID0gbmFtZS5zbGljZShpICsgMSk7XG4gIHJldHVybiBuYW1lc3BhY2VzLmhhc093blByb3BlcnR5KHByZWZpeCkgPyB7c3BhY2U6IG5hbWVzcGFjZXNbcHJlZml4XSwgbG9jYWw6IG5hbWV9IDogbmFtZTtcbn1cbiIsImltcG9ydCBuYW1lc3BhY2UgZnJvbSBcIi4uL25hbWVzcGFjZVwiO1xuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyUmVtb3ZlTlMoZnVsbG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50KG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudE5TKGZ1bGxuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHZhbHVlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHYgPT0gbnVsbCkgdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgZWxzZSB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uTlMoZnVsbG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHYgPT0gbnVsbCkgdGhpcy5yZW1vdmVBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwpO1xuICAgIGVsc2UgdGhpcy5zZXRBdHRyaWJ1dGVOUyhmdWxsbmFtZS5zcGFjZSwgZnVsbG5hbWUubG9jYWwsIHYpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLm5vZGUoKTtcbiAgICByZXR1cm4gZnVsbG5hbWUubG9jYWxcbiAgICAgICAgPyBub2RlLmdldEF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbClcbiAgICAgICAgOiBub2RlLmdldEF0dHJpYnV0ZShmdWxsbmFtZSk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5lYWNoKCh2YWx1ZSA9PSBudWxsXG4gICAgICA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJSZW1vdmVOUyA6IGF0dHJSZW1vdmUpIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJGdW5jdGlvbk5TIDogYXR0ckZ1bmN0aW9uKVxuICAgICAgOiAoZnVsbG5hbWUubG9jYWwgPyBhdHRyQ29uc3RhbnROUyA6IGF0dHJDb25zdGFudCkpKShmdWxsbmFtZSwgdmFsdWUpKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIChub2RlLm93bmVyRG9jdW1lbnQgJiYgbm9kZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSAvLyBub2RlIGlzIGEgTm9kZVxuICAgICAgfHwgKG5vZGUuZG9jdW1lbnQgJiYgbm9kZSkgLy8gbm9kZSBpcyBhIFdpbmRvd1xuICAgICAgfHwgbm9kZS5kZWZhdWx0VmlldzsgLy8gbm9kZSBpcyBhIERvY3VtZW50XG59XG4iLCJpbXBvcnQgZGVmYXVsdFZpZXcgZnJvbSBcIi4uL3dpbmRvd1wiO1xuXG5mdW5jdGlvbiBzdHlsZVJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZUNvbnN0YW50KG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZUZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmICh2ID09IG51bGwpIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gICAgZWxzZSB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIHYsIHByaW9yaXR5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMVxuICAgICAgPyB0aGlzLmVhY2goKHZhbHVlID09IG51bGxcbiAgICAgICAgICAgID8gc3R5bGVSZW1vdmUgOiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgICAgPyBzdHlsZUZ1bmN0aW9uXG4gICAgICAgICAgICA6IHN0eWxlQ29uc3RhbnQpKG5hbWUsIHZhbHVlLCBwcmlvcml0eSA9PSBudWxsID8gXCJcIiA6IHByaW9yaXR5KSlcbiAgICAgIDogc3R5bGVWYWx1ZSh0aGlzLm5vZGUoKSwgbmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZVZhbHVlKG5vZGUsIG5hbWUpIHtcbiAgcmV0dXJuIG5vZGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShuYW1lKVxuICAgICAgfHwgZGVmYXVsdFZpZXcobm9kZSkuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKG5hbWUpO1xufVxuIiwiZnVuY3Rpb24gY2xhc3NBcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50cmltKCkuc3BsaXQoL158XFxzKy8pO1xufVxuXG5mdW5jdGlvbiBjbGFzc0xpc3Qobm9kZSkge1xuICByZXR1cm4gbm9kZS5jbGFzc0xpc3QgfHwgbmV3IENsYXNzTGlzdChub2RlKTtcbn1cblxuZnVuY3Rpb24gQ2xhc3NMaXN0KG5vZGUpIHtcbiAgdGhpcy5fbm9kZSA9IG5vZGU7XG4gIHRoaXMuX25hbWVzID0gY2xhc3NBcnJheShub2RlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpO1xufVxuXG5DbGFzc0xpc3QucHJvdG90eXBlID0ge1xuICBhZGQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0aGlzLl9uYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgaSA9IHRoaXMuX25hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgaWYgKGkgPj0gMCkge1xuICAgICAgdGhpcy5fbmFtZXMuc3BsaWNlKGksIDEpO1xuICAgICAgdGhpcy5fbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLl9uYW1lcy5qb2luKFwiIFwiKSk7XG4gICAgfVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLl9uYW1lcy5pbmRleE9mKG5hbWUpID49IDA7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNsYXNzZWRBZGQobm9kZSwgbmFtZXMpIHtcbiAgdmFyIGxpc3QgPSBjbGFzc0xpc3Qobm9kZSksIGkgPSAtMSwgbiA9IG5hbWVzLmxlbmd0aDtcbiAgd2hpbGUgKCsraSA8IG4pIGxpc3QuYWRkKG5hbWVzW2ldKTtcbn1cblxuZnVuY3Rpb24gY2xhc3NlZFJlbW92ZShub2RlLCBuYW1lcykge1xuICB2YXIgbGlzdCA9IGNsYXNzTGlzdChub2RlKSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbGlzdC5yZW1vdmUobmFtZXNbaV0pO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VkVHJ1ZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZEFkZCh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGYWxzZShuYW1lcykge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY2xhc3NlZFJlbW92ZSh0aGlzLCBuYW1lcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNsYXNzZWRGdW5jdGlvbihuYW1lcywgdmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICh2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpID8gY2xhc3NlZEFkZCA6IGNsYXNzZWRSZW1vdmUpKHRoaXMsIG5hbWVzKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIG5hbWVzID0gY2xhc3NBcnJheShuYW1lICsgXCJcIik7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIGxpc3QgPSBjbGFzc0xpc3QodGhpcy5ub2RlKCkpLCBpID0gLTEsIG4gPSBuYW1lcy5sZW5ndGg7XG4gICAgd2hpbGUgKCsraSA8IG4pIGlmICghbGlzdC5jb250YWlucyhuYW1lc1tpXSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IGNsYXNzZWRGdW5jdGlvbiA6IHZhbHVlXG4gICAgICA/IGNsYXNzZWRUcnVlXG4gICAgICA6IGNsYXNzZWRGYWxzZSkobmFtZXMsIHZhbHVlKSk7XG59XG4iLCJmdW5jdGlvbiB0ZXh0UmVtb3ZlKCkge1xuICB0aGlzLnRleHRDb250ZW50ID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2ID09IG51bGwgPyBcIlwiIDogdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKHZhbHVlID09IG51bGxcbiAgICAgICAgICA/IHRleHRSZW1vdmUgOiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgICA/IHRleHRGdW5jdGlvblxuICAgICAgICAgIDogdGV4dENvbnN0YW50KSh2YWx1ZSkpXG4gICAgICA6IHRoaXMubm9kZSgpLnRleHRDb250ZW50O1xufVxuIiwiZnVuY3Rpb24gaHRtbFJlbW92ZSgpIHtcbiAgdGhpcy5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5mdW5jdGlvbiBodG1sQ29uc3RhbnQodmFsdWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGh0bWxGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHYgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIHRoaXMuaW5uZXJIVE1MID0gdiA9PSBudWxsID8gXCJcIiA6IHY7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBhcmd1bWVudHMubGVuZ3RoXG4gICAgICA/IHRoaXMuZWFjaCh2YWx1ZSA9PSBudWxsXG4gICAgICAgICAgPyBodG1sUmVtb3ZlIDogKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBodG1sRnVuY3Rpb25cbiAgICAgICAgICA6IGh0bWxDb25zdGFudCkodmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKS5pbm5lckhUTUw7XG59XG4iLCJmdW5jdGlvbiByYWlzZSgpIHtcbiAgaWYgKHRoaXMubmV4dFNpYmxpbmcpIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVhY2gocmFpc2UpO1xufVxuIiwiZnVuY3Rpb24gbG93ZXIoKSB7XG4gIGlmICh0aGlzLnByZXZpb3VzU2libGluZykgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLCB0aGlzLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKGxvd2VyKTtcbn1cbiIsImltcG9ydCBuYW1lc3BhY2UgZnJvbSBcIi4vbmFtZXNwYWNlXCI7XG5pbXBvcnQge3hodG1sfSBmcm9tIFwiLi9uYW1lc3BhY2VzXCI7XG5cbmZ1bmN0aW9uIGNyZWF0b3JJbmhlcml0KG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBkb2N1bWVudCA9IHRoaXMub3duZXJEb2N1bWVudCxcbiAgICAgICAgdXJpID0gdGhpcy5uYW1lc3BhY2VVUkk7XG4gICAgcmV0dXJuIHVyaSA9PT0geGh0bWwgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0geGh0bWxcbiAgICAgICAgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpXG4gICAgICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHVyaSwgbmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0b3JGaXhlZChmdWxsbmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSkge1xuICB2YXIgZnVsbG5hbWUgPSBuYW1lc3BhY2UobmFtZSk7XG4gIHJldHVybiAoZnVsbG5hbWUubG9jYWxcbiAgICAgID8gY3JlYXRvckZpeGVkXG4gICAgICA6IGNyZWF0b3JJbmhlcml0KShmdWxsbmFtZSk7XG59XG4iLCJpbXBvcnQgY3JlYXRvciBmcm9tIFwiLi4vY3JlYXRvclwiO1xuaW1wb3J0IHNlbGVjdG9yIGZyb20gXCIuLi9zZWxlY3RvclwiO1xuXG5mdW5jdGlvbiBjb25zdGFudE51bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBiZWZvcmUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKSxcbiAgICAgIHNlbGVjdCA9IGJlZm9yZSA9PSBudWxsID8gY29uc3RhbnROdWxsIDogdHlwZW9mIGJlZm9yZSA9PT0gXCJmdW5jdGlvblwiID8gYmVmb3JlIDogc2VsZWN0b3IoYmVmb3JlKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc2VydEJlZm9yZShjcmVhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSwgc2VsZWN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwiZnVuY3Rpb24gcmVtb3ZlKCkge1xuICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lYWNoKHJlbW92ZSk7XG59XG4iLCJmdW5jdGlvbiBzZWxlY3Rpb25fY2xvbmVTaGFsbG93KCkge1xuICB2YXIgY2xvbmUgPSB0aGlzLmNsb25lTm9kZShmYWxzZSksIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcbiAgcmV0dXJuIHBhcmVudCA/IHBhcmVudC5pbnNlcnRCZWZvcmUoY2xvbmUsIHRoaXMubmV4dFNpYmxpbmcpIDogY2xvbmU7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbl9jbG9uZURlZXAoKSB7XG4gIHZhciBjbG9uZSA9IHRoaXMuY2xvbmVOb2RlKHRydWUpLCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNsb25lLCB0aGlzLm5leHRTaWJsaW5nKSA6IGNsb25lO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWVwKSB7XG4gIHJldHVybiB0aGlzLnNlbGVjdChkZWVwID8gc2VsZWN0aW9uX2Nsb25lRGVlcCA6IHNlbGVjdGlvbl9jbG9uZVNoYWxsb3cpO1xufVxuIiwidmFyIGZpbHRlckV2ZW50cyA9IHt9O1xuXG5leHBvcnQgdmFyIGV2ZW50ID0gbnVsbDtcblxuaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgaWYgKCEoXCJvbm1vdXNlZW50ZXJcIiBpbiBlbGVtZW50KSkge1xuICAgIGZpbHRlckV2ZW50cyA9IHttb3VzZWVudGVyOiBcIm1vdXNlb3ZlclwiLCBtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCJ9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbHRlckNvbnRleHRMaXN0ZW5lcihsaXN0ZW5lciwgaW5kZXgsIGdyb3VwKSB7XG4gIGxpc3RlbmVyID0gY29udGV4dExpc3RlbmVyKGxpc3RlbmVyLCBpbmRleCwgZ3JvdXApO1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XG4gICAgaWYgKCFyZWxhdGVkIHx8IChyZWxhdGVkICE9PSB0aGlzICYmICEocmVsYXRlZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0aGlzKSAmIDgpKSkge1xuICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBjb250ZXh0TGlzdGVuZXIobGlzdGVuZXIsIGluZGV4LCBncm91cCkge1xuICByZXR1cm4gZnVuY3Rpb24oZXZlbnQxKSB7XG4gICAgdmFyIGV2ZW50MCA9IGV2ZW50OyAvLyBFdmVudHMgY2FuIGJlIHJlZW50cmFudCAoZS5nLiwgZm9jdXMpLlxuICAgIGV2ZW50ID0gZXZlbnQxO1xuICAgIHRyeSB7XG4gICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIHRoaXMuX19kYXRhX18sIGluZGV4LCBncm91cCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGV2ZW50ID0gZXZlbnQwO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gcGFyc2VUeXBlbmFtZXModHlwZW5hbWVzKSB7XG4gIHJldHVybiB0eXBlbmFtZXMudHJpbSgpLnNwbGl0KC9efFxccysvKS5tYXAoZnVuY3Rpb24odCkge1xuICAgIHZhciBuYW1lID0gXCJcIiwgaSA9IHQuaW5kZXhPZihcIi5cIik7XG4gICAgaWYgKGkgPj0gMCkgbmFtZSA9IHQuc2xpY2UoaSArIDEpLCB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4ge3R5cGU6IHQsIG5hbWU6IG5hbWV9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25SZW1vdmUodHlwZW5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvbiA9IHRoaXMuX19vbjtcbiAgICBpZiAoIW9uKSByZXR1cm47XG4gICAgZm9yICh2YXIgaiA9IDAsIGkgPSAtMSwgbSA9IG9uLmxlbmd0aCwgbzsgaiA8IG07ICsraikge1xuICAgICAgaWYgKG8gPSBvbltqXSwgKCF0eXBlbmFtZS50eXBlIHx8IG8udHlwZSA9PT0gdHlwZW5hbWUudHlwZSkgJiYgby5uYW1lID09PSB0eXBlbmFtZS5uYW1lKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihvLnR5cGUsIG8ubGlzdGVuZXIsIG8uY2FwdHVyZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblsrK2ldID0gbztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCsraSkgb24ubGVuZ3RoID0gaTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9fb247XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9uQWRkKHR5cGVuYW1lLCB2YWx1ZSwgY2FwdHVyZSkge1xuICB2YXIgd3JhcCA9IGZpbHRlckV2ZW50cy5oYXNPd25Qcm9wZXJ0eSh0eXBlbmFtZS50eXBlKSA/IGZpbHRlckNvbnRleHRMaXN0ZW5lciA6IGNvbnRleHRMaXN0ZW5lcjtcbiAgcmV0dXJuIGZ1bmN0aW9uKGQsIGksIGdyb3VwKSB7XG4gICAgdmFyIG9uID0gdGhpcy5fX29uLCBvLCBsaXN0ZW5lciA9IHdyYXAodmFsdWUsIGksIGdyb3VwKTtcbiAgICBpZiAob24pIGZvciAodmFyIGogPSAwLCBtID0gb24ubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgICBpZiAoKG8gPSBvbltqXSkudHlwZSA9PT0gdHlwZW5hbWUudHlwZSAmJiBvLm5hbWUgPT09IHR5cGVuYW1lLm5hbWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciwgby5jYXB0dXJlKTtcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKG8udHlwZSwgby5saXN0ZW5lciA9IGxpc3RlbmVyLCBvLmNhcHR1cmUgPSBjYXB0dXJlKTtcbiAgICAgICAgby52YWx1ZSA9IHZhbHVlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0eXBlbmFtZS50eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgbyA9IHt0eXBlOiB0eXBlbmFtZS50eXBlLCBuYW1lOiB0eXBlbmFtZS5uYW1lLCB2YWx1ZTogdmFsdWUsIGxpc3RlbmVyOiBsaXN0ZW5lciwgY2FwdHVyZTogY2FwdHVyZX07XG4gICAgaWYgKCFvbikgdGhpcy5fX29uID0gW29dO1xuICAgIGVsc2Ugb24ucHVzaChvKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHlwZW5hbWUsIHZhbHVlLCBjYXB0dXJlKSB7XG4gIHZhciB0eXBlbmFtZXMgPSBwYXJzZVR5cGVuYW1lcyh0eXBlbmFtZSArIFwiXCIpLCBpLCBuID0gdHlwZW5hbWVzLmxlbmd0aCwgdDtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDIpIHtcbiAgICB2YXIgb24gPSB0aGlzLm5vZGUoKS5fX29uO1xuICAgIGlmIChvbikgZm9yICh2YXIgaiA9IDAsIG0gPSBvbi5sZW5ndGgsIG87IGogPCBtOyArK2opIHtcbiAgICAgIGZvciAoaSA9IDAsIG8gPSBvbltqXTsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAoKHQgPSB0eXBlbmFtZXNbaV0pLnR5cGUgPT09IG8udHlwZSAmJiB0Lm5hbWUgPT09IG8ubmFtZSkge1xuICAgICAgICAgIHJldHVybiBvLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIG9uID0gdmFsdWUgPyBvbkFkZCA6IG9uUmVtb3ZlO1xuICBpZiAoY2FwdHVyZSA9PSBudWxsKSBjYXB0dXJlID0gZmFsc2U7XG4gIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHRoaXMuZWFjaChvbih0eXBlbmFtZXNbaV0sIHZhbHVlLCBjYXB0dXJlKSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tRXZlbnQoZXZlbnQxLCBsaXN0ZW5lciwgdGhhdCwgYXJncykge1xuICB2YXIgZXZlbnQwID0gZXZlbnQ7XG4gIGV2ZW50MS5zb3VyY2VFdmVudCA9IGV2ZW50O1xuICBldmVudCA9IGV2ZW50MTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbGlzdGVuZXIuYXBwbHkodGhhdCwgYXJncyk7XG4gIH0gZmluYWxseSB7XG4gICAgZXZlbnQgPSBldmVudDA7XG4gIH1cbn1cbiIsImltcG9ydCBkZWZhdWx0VmlldyBmcm9tIFwiLi4vd2luZG93XCI7XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQobm9kZSwgdHlwZSwgcGFyYW1zKSB7XG4gIHZhciB3aW5kb3cgPSBkZWZhdWx0Vmlldyhub2RlKSxcbiAgICAgIGV2ZW50ID0gd2luZG93LkN1c3RvbUV2ZW50O1xuXG4gIGlmICh0eXBlb2YgZXZlbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGV2ZW50ID0gbmV3IGV2ZW50KHR5cGUsIHBhcmFtcyk7XG4gIH0gZWxzZSB7XG4gICAgZXZlbnQgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcbiAgICBpZiAocGFyYW1zKSBldmVudC5pbml0RXZlbnQodHlwZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlKSwgZXZlbnQuZGV0YWlsID0gcGFyYW1zLmRldGFpbDtcbiAgICBlbHNlIGV2ZW50LmluaXRFdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UpO1xuICB9XG5cbiAgbm9kZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hDb25zdGFudCh0eXBlLCBwYXJhbXMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkaXNwYXRjaEV2ZW50KHRoaXMsIHR5cGUsIHBhcmFtcyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoRnVuY3Rpb24odHlwZSwgcGFyYW1zKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2hFdmVudCh0aGlzLCB0eXBlLCBwYXJhbXMuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHR5cGUsIHBhcmFtcykge1xuICByZXR1cm4gdGhpcy5lYWNoKCh0eXBlb2YgcGFyYW1zID09PSBcImZ1bmN0aW9uXCJcbiAgICAgID8gZGlzcGF0Y2hGdW5jdGlvblxuICAgICAgOiBkaXNwYXRjaENvbnN0YW50KSh0eXBlLCBwYXJhbXMpKTtcbn1cbiIsImltcG9ydCBzZWxlY3Rpb25fc2VsZWN0IGZyb20gXCIuL3NlbGVjdFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9zZWxlY3RBbGwgZnJvbSBcIi4vc2VsZWN0QWxsXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2ZpbHRlciBmcm9tIFwiLi9maWx0ZXJcIjtcbmltcG9ydCBzZWxlY3Rpb25fZGF0YSBmcm9tIFwiLi9kYXRhXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2VudGVyIGZyb20gXCIuL2VudGVyXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2V4aXQgZnJvbSBcIi4vZXhpdFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9qb2luIGZyb20gXCIuL2pvaW5cIjtcbmltcG9ydCBzZWxlY3Rpb25fbWVyZ2UgZnJvbSBcIi4vbWVyZ2VcIjtcbmltcG9ydCBzZWxlY3Rpb25fb3JkZXIgZnJvbSBcIi4vb3JkZXJcIjtcbmltcG9ydCBzZWxlY3Rpb25fc29ydCBmcm9tIFwiLi9zb3J0XCI7XG5pbXBvcnQgc2VsZWN0aW9uX2NhbGwgZnJvbSBcIi4vY2FsbFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9ub2RlcyBmcm9tIFwiLi9ub2Rlc1wiO1xuaW1wb3J0IHNlbGVjdGlvbl9ub2RlIGZyb20gXCIuL25vZGVcIjtcbmltcG9ydCBzZWxlY3Rpb25fc2l6ZSBmcm9tIFwiLi9zaXplXCI7XG5pbXBvcnQgc2VsZWN0aW9uX2VtcHR5IGZyb20gXCIuL2VtcHR5XCI7XG5pbXBvcnQgc2VsZWN0aW9uX2VhY2ggZnJvbSBcIi4vZWFjaFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9hdHRyIGZyb20gXCIuL2F0dHJcIjtcbmltcG9ydCBzZWxlY3Rpb25fc3R5bGUgZnJvbSBcIi4vc3R5bGVcIjtcbmltcG9ydCBzZWxlY3Rpb25fcHJvcGVydHkgZnJvbSBcIi4vcHJvcGVydHlcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2xhc3NlZCBmcm9tIFwiLi9jbGFzc2VkXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3RleHQgZnJvbSBcIi4vdGV4dFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9odG1sIGZyb20gXCIuL2h0bWxcIjtcbmltcG9ydCBzZWxlY3Rpb25fcmFpc2UgZnJvbSBcIi4vcmFpc2VcIjtcbmltcG9ydCBzZWxlY3Rpb25fbG93ZXIgZnJvbSBcIi4vbG93ZXJcIjtcbmltcG9ydCBzZWxlY3Rpb25fYXBwZW5kIGZyb20gXCIuL2FwcGVuZFwiO1xuaW1wb3J0IHNlbGVjdGlvbl9pbnNlcnQgZnJvbSBcIi4vaW5zZXJ0XCI7XG5pbXBvcnQgc2VsZWN0aW9uX3JlbW92ZSBmcm9tIFwiLi9yZW1vdmVcIjtcbmltcG9ydCBzZWxlY3Rpb25fY2xvbmUgZnJvbSBcIi4vY2xvbmVcIjtcbmltcG9ydCBzZWxlY3Rpb25fZGF0dW0gZnJvbSBcIi4vZGF0dW1cIjtcbmltcG9ydCBzZWxlY3Rpb25fb24gZnJvbSBcIi4vb25cIjtcbmltcG9ydCBzZWxlY3Rpb25fZGlzcGF0Y2ggZnJvbSBcIi4vZGlzcGF0Y2hcIjtcblxuZXhwb3J0IHZhciByb290ID0gW251bGxdO1xuXG5leHBvcnQgZnVuY3Rpb24gU2VsZWN0aW9uKGdyb3VwcywgcGFyZW50cykge1xuICB0aGlzLl9ncm91cHMgPSBncm91cHM7XG4gIHRoaXMuX3BhcmVudHMgPSBwYXJlbnRzO1xufVxuXG5mdW5jdGlvbiBzZWxlY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKFtbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XV0sIHJvb3QpO1xufVxuXG5TZWxlY3Rpb24ucHJvdG90eXBlID0gc2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNlbGVjdGlvbixcbiAgc2VsZWN0OiBzZWxlY3Rpb25fc2VsZWN0LFxuICBzZWxlY3RBbGw6IHNlbGVjdGlvbl9zZWxlY3RBbGwsXG4gIGZpbHRlcjogc2VsZWN0aW9uX2ZpbHRlcixcbiAgZGF0YTogc2VsZWN0aW9uX2RhdGEsXG4gIGVudGVyOiBzZWxlY3Rpb25fZW50ZXIsXG4gIGV4aXQ6IHNlbGVjdGlvbl9leGl0LFxuICBqb2luOiBzZWxlY3Rpb25fam9pbixcbiAgbWVyZ2U6IHNlbGVjdGlvbl9tZXJnZSxcbiAgb3JkZXI6IHNlbGVjdGlvbl9vcmRlcixcbiAgc29ydDogc2VsZWN0aW9uX3NvcnQsXG4gIGNhbGw6IHNlbGVjdGlvbl9jYWxsLFxuICBub2Rlczogc2VsZWN0aW9uX25vZGVzLFxuICBub2RlOiBzZWxlY3Rpb25fbm9kZSxcbiAgc2l6ZTogc2VsZWN0aW9uX3NpemUsXG4gIGVtcHR5OiBzZWxlY3Rpb25fZW1wdHksXG4gIGVhY2g6IHNlbGVjdGlvbl9lYWNoLFxuICBhdHRyOiBzZWxlY3Rpb25fYXR0cixcbiAgc3R5bGU6IHNlbGVjdGlvbl9zdHlsZSxcbiAgcHJvcGVydHk6IHNlbGVjdGlvbl9wcm9wZXJ0eSxcbiAgY2xhc3NlZDogc2VsZWN0aW9uX2NsYXNzZWQsXG4gIHRleHQ6IHNlbGVjdGlvbl90ZXh0LFxuICBodG1sOiBzZWxlY3Rpb25faHRtbCxcbiAgcmFpc2U6IHNlbGVjdGlvbl9yYWlzZSxcbiAgbG93ZXI6IHNlbGVjdGlvbl9sb3dlcixcbiAgYXBwZW5kOiBzZWxlY3Rpb25fYXBwZW5kLFxuICBpbnNlcnQ6IHNlbGVjdGlvbl9pbnNlcnQsXG4gIHJlbW92ZTogc2VsZWN0aW9uX3JlbW92ZSxcbiAgY2xvbmU6IHNlbGVjdGlvbl9jbG9uZSxcbiAgZGF0dW06IHNlbGVjdGlvbl9kYXR1bSxcbiAgb246IHNlbGVjdGlvbl9vbixcbiAgZGlzcGF0Y2g6IHNlbGVjdGlvbl9kaXNwYXRjaFxufTtcblxuZXhwb3J0IGRlZmF1bHQgc2VsZWN0aW9uO1xuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgc2VsZWN0b3IgZnJvbSBcIi4uL3NlbGVjdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICBpZiAodHlwZW9mIHNlbGVjdCAhPT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgKHN1Ym5vZGUgPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpKSB7XG4gICAgICAgIGlmIChcIl9fZGF0YV9fXCIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187XG4gICAgICAgIHN1Ymdyb3VwW2ldID0gc3Vibm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgc2VsZWN0b3JBbGwgZnJvbSBcIi4uL3NlbGVjdG9yQWxsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHNlbGVjdCkge1xuICBpZiAodHlwZW9mIHNlbGVjdCAhPT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIHN1Ymdyb3Vwcy5wdXNoKHNlbGVjdC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSk7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdWJncm91cHMsIHBhcmVudHMpO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb259IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgbWF0Y2hlciBmcm9tIFwiLi4vbWF0Y2hlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihtYXRjaCkge1xuICBpZiAodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIG1hdGNoID0gbWF0Y2hlcihtYXRjaCk7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBtID0gZ3JvdXBzLmxlbmd0aCwgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG0pLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBzdWJncm91cCA9IHN1Ymdyb3Vwc1tqXSA9IFtdLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKChub2RlID0gZ3JvdXBbaV0pICYmIG1hdGNoLmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApKSB7XG4gICAgICAgIHN1Ymdyb3VwLnB1c2gobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3ViZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCBzcGFyc2UgZnJvbSBcIi4vc3BhcnNlXCI7XG5pbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgU2VsZWN0aW9uKHRoaXMuX2V4aXQgfHwgdGhpcy5fZ3JvdXBzLm1hcChzcGFyc2UpLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG9uZW50ZXIsIG9udXBkYXRlLCBvbmV4aXQpIHtcbiAgdmFyIGVudGVyID0gdGhpcy5lbnRlcigpLCB1cGRhdGUgPSB0aGlzLCBleGl0ID0gdGhpcy5leGl0KCk7XG4gIGVudGVyID0gdHlwZW9mIG9uZW50ZXIgPT09IFwiZnVuY3Rpb25cIiA/IG9uZW50ZXIoZW50ZXIpIDogZW50ZXIuYXBwZW5kKG9uZW50ZXIgKyBcIlwiKTtcbiAgaWYgKG9udXBkYXRlICE9IG51bGwpIHVwZGF0ZSA9IG9udXBkYXRlKHVwZGF0ZSk7XG4gIGlmIChvbmV4aXQgPT0gbnVsbCkgZXhpdC5yZW1vdmUoKTsgZWxzZSBvbmV4aXQoZXhpdCk7XG4gIHJldHVybiBlbnRlciAmJiB1cGRhdGUgPyBlbnRlci5tZXJnZSh1cGRhdGUpLm9yZGVyKCkgOiB1cGRhdGU7XG59XG4iLCJpbXBvcnQge1NlbGVjdGlvbn0gZnJvbSBcIi4vaW5kZXhcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsZWN0aW9uKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHNlbGVjdGlvbi5fZ3JvdXBzLCBtMCA9IGdyb3VwczAubGVuZ3RoLCBtMSA9IGdyb3VwczEubGVuZ3RoLCBtID0gTWF0aC5taW4obTAsIG0xKSwgbWVyZ2VzID0gbmV3IEFycmF5KG0wKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cDAgPSBncm91cHMwW2pdLCBncm91cDEgPSBncm91cHMxW2pdLCBuID0gZ3JvdXAwLmxlbmd0aCwgbWVyZ2UgPSBtZXJnZXNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwMFtpXSB8fCBncm91cDFbaV0pIHtcbiAgICAgICAgbWVyZ2VbaV0gPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBqIDwgbTA7ICsraikge1xuICAgIG1lcmdlc1tqXSA9IGdyb3VwczBbal07XG4gIH1cblxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihtZXJnZXMsIHRoaXMuX3BhcmVudHMpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG5cbiAgZm9yICh2YXIgZ3JvdXBzID0gdGhpcy5fZ3JvdXBzLCBqID0gLTEsIG0gPSBncm91cHMubGVuZ3RoOyArK2ogPCBtOykge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gZ3JvdXAubGVuZ3RoIC0gMSwgbmV4dCA9IGdyb3VwW2ldLCBub2RlOyAtLWkgPj0gMDspIHtcbiAgICAgIGlmIChub2RlID0gZ3JvdXBbaV0pIHtcbiAgICAgICAgaWYgKG5leHQgJiYgbm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuZXh0KSBeIDQpIG5leHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dCk7XG4gICAgICAgIG5leHQgPSBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBub2RlcyA9IG5ldyBBcnJheSh0aGlzLnNpemUoKSksIGkgPSAtMTtcbiAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkgeyBub2Rlc1srK2ldID0gdGhpczsgfSk7XG4gIHJldHVybiBub2Rlcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgaiA9IDAsIG0gPSBncm91cHMubGVuZ3RoOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIGkgPSAwLCBuID0gZ3JvdXAubGVuZ3RoOyBpIDwgbjsgKytpKSB7XG4gICAgICB2YXIgbm9kZSA9IGdyb3VwW2ldO1xuICAgICAgaWYgKG5vZGUpIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBzaXplID0gMDtcbiAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkgeyArK3NpemU7IH0pO1xuICByZXR1cm4gc2l6ZTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gIXRoaXMubm9kZSgpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY2FsbGJhY2spIHtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIGogPSAwLCBtID0gZ3JvdXBzLmxlbmd0aDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBpID0gMCwgbiA9IGdyb3VwLmxlbmd0aCwgbm9kZTsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkgY2FsbGJhY2suY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJmdW5jdGlvbiBwcm9wZXJ0eVJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBkZWxldGUgdGhpc1tuYW1lXTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gcHJvcGVydHlDb25zdGFudChuYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBwcm9wZXJ0eUZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdiA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHYgPT0gbnVsbCkgZGVsZXRlIHRoaXNbbmFtZV07XG4gICAgZWxzZSB0aGlzW25hbWVdID0gdjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxXG4gICAgICA/IHRoaXMuZWFjaCgodmFsdWUgPT0gbnVsbFxuICAgICAgICAgID8gcHJvcGVydHlSZW1vdmUgOiB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAgID8gcHJvcGVydHlGdW5jdGlvblxuICAgICAgICAgIDogcHJvcGVydHlDb25zdGFudCkobmFtZSwgdmFsdWUpKVxuICAgICAgOiB0aGlzLm5vZGUoKVtuYW1lXTtcbn1cbiIsImltcG9ydCBjcmVhdG9yIGZyb20gXCIuLi9jcmVhdG9yXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUpIHtcbiAgdmFyIGNyZWF0ZSA9IHR5cGVvZiBuYW1lID09PSBcImZ1bmN0aW9uXCIgPyBuYW1lIDogY3JlYXRvcihuYW1lKTtcbiAgcmV0dXJuIHRoaXMuc2VsZWN0KGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmFwcGVuZENoaWxkKGNyZWF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLnByb3BlcnR5KFwiX19kYXRhX19cIiwgdmFsdWUpXG4gICAgICA6IHRoaXMubm9kZSgpLl9fZGF0YV9fO1xufVxuIiwiaW1wb3J0IHtTZWxlY3Rpb24sIHJvb3R9IGZyb20gXCIuL3NlbGVjdGlvbi9pbmRleFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiXG4gICAgICA/IG5ldyBTZWxlY3Rpb24oW1tkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKV1dLCBbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50XSlcbiAgICAgIDogbmV3IFNlbGVjdGlvbihbW3NlbGVjdG9yXV0sIHJvb3QpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oY29uc3RydWN0b3IsIGZhY3RvcnksIHByb3RvdHlwZSkge1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBmYWN0b3J5LnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgcHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQocGFyZW50LCBkZWZpbml0aW9uKSB7XG4gIHZhciBwcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHBhcmVudC5wcm90b3R5cGUpO1xuICBmb3IgKHZhciBrZXkgaW4gZGVmaW5pdGlvbikgcHJvdG90eXBlW2tleV0gPSBkZWZpbml0aW9uW2tleV07XG4gIHJldHVybiBwcm90b3R5cGU7XG59XG4iLCJpbXBvcnQgZGVmaW5lLCB7ZXh0ZW5kfSBmcm9tIFwiLi9kZWZpbmUuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIENvbG9yKCkge31cblxuZXhwb3J0IHZhciBkYXJrZXIgPSAwLjc7XG5leHBvcnQgdmFyIGJyaWdodGVyID0gMSAvIGRhcmtlcjtcblxudmFyIHJlSSA9IFwiXFxcXHMqKFsrLV0/XFxcXGQrKVxcXFxzKlwiLFxuICAgIHJlTiA9IFwiXFxcXHMqKFsrLV0/XFxcXGQqXFxcXC4/XFxcXGQrKD86W2VFXVsrLV0/XFxcXGQrKT8pXFxcXHMqXCIsXG4gICAgcmVQID0gXCJcXFxccyooWystXT9cXFxcZCpcXFxcLj9cXFxcZCsoPzpbZUVdWystXT9cXFxcZCspPyklXFxcXHMqXCIsXG4gICAgcmVIZXggPSAvXiMoWzAtOWEtZl17Myw4fSkkLyxcbiAgICByZVJnYkludGVnZXIgPSBuZXcgUmVnRXhwKFwiXnJnYlxcXFwoXCIgKyBbcmVJLCByZUksIHJlSV0gKyBcIlxcXFwpJFwiKSxcbiAgICByZVJnYlBlcmNlbnQgPSBuZXcgUmVnRXhwKFwiXnJnYlxcXFwoXCIgKyBbcmVQLCByZVAsIHJlUF0gKyBcIlxcXFwpJFwiKSxcbiAgICByZVJnYmFJbnRlZ2VyID0gbmV3IFJlZ0V4cChcIl5yZ2JhXFxcXChcIiArIFtyZUksIHJlSSwgcmVJLCByZU5dICsgXCJcXFxcKSRcIiksXG4gICAgcmVSZ2JhUGVyY2VudCA9IG5ldyBSZWdFeHAoXCJecmdiYVxcXFwoXCIgKyBbcmVQLCByZVAsIHJlUCwgcmVOXSArIFwiXFxcXCkkXCIpLFxuICAgIHJlSHNsUGVyY2VudCA9IG5ldyBSZWdFeHAoXCJeaHNsXFxcXChcIiArIFtyZU4sIHJlUCwgcmVQXSArIFwiXFxcXCkkXCIpLFxuICAgIHJlSHNsYVBlcmNlbnQgPSBuZXcgUmVnRXhwKFwiXmhzbGFcXFxcKFwiICsgW3JlTiwgcmVQLCByZVAsIHJlTl0gKyBcIlxcXFwpJFwiKTtcblxudmFyIG5hbWVkID0ge1xuICBhbGljZWJsdWU6IDB4ZjBmOGZmLFxuICBhbnRpcXVld2hpdGU6IDB4ZmFlYmQ3LFxuICBhcXVhOiAweDAwZmZmZixcbiAgYXF1YW1hcmluZTogMHg3ZmZmZDQsXG4gIGF6dXJlOiAweGYwZmZmZixcbiAgYmVpZ2U6IDB4ZjVmNWRjLFxuICBiaXNxdWU6IDB4ZmZlNGM0LFxuICBibGFjazogMHgwMDAwMDAsXG4gIGJsYW5jaGVkYWxtb25kOiAweGZmZWJjZCxcbiAgYmx1ZTogMHgwMDAwZmYsXG4gIGJsdWV2aW9sZXQ6IDB4OGEyYmUyLFxuICBicm93bjogMHhhNTJhMmEsXG4gIGJ1cmx5d29vZDogMHhkZWI4ODcsXG4gIGNhZGV0Ymx1ZTogMHg1ZjllYTAsXG4gIGNoYXJ0cmV1c2U6IDB4N2ZmZjAwLFxuICBjaG9jb2xhdGU6IDB4ZDI2OTFlLFxuICBjb3JhbDogMHhmZjdmNTAsXG4gIGNvcm5mbG93ZXJibHVlOiAweDY0OTVlZCxcbiAgY29ybnNpbGs6IDB4ZmZmOGRjLFxuICBjcmltc29uOiAweGRjMTQzYyxcbiAgY3lhbjogMHgwMGZmZmYsXG4gIGRhcmtibHVlOiAweDAwMDA4YixcbiAgZGFya2N5YW46IDB4MDA4YjhiLFxuICBkYXJrZ29sZGVucm9kOiAweGI4ODYwYixcbiAgZGFya2dyYXk6IDB4YTlhOWE5LFxuICBkYXJrZ3JlZW46IDB4MDA2NDAwLFxuICBkYXJrZ3JleTogMHhhOWE5YTksXG4gIGRhcmtraGFraTogMHhiZGI3NmIsXG4gIGRhcmttYWdlbnRhOiAweDhiMDA4YixcbiAgZGFya29saXZlZ3JlZW46IDB4NTU2YjJmLFxuICBkYXJrb3JhbmdlOiAweGZmOGMwMCxcbiAgZGFya29yY2hpZDogMHg5OTMyY2MsXG4gIGRhcmtyZWQ6IDB4OGIwMDAwLFxuICBkYXJrc2FsbW9uOiAweGU5OTY3YSxcbiAgZGFya3NlYWdyZWVuOiAweDhmYmM4ZixcbiAgZGFya3NsYXRlYmx1ZTogMHg0ODNkOGIsXG4gIGRhcmtzbGF0ZWdyYXk6IDB4MmY0ZjRmLFxuICBkYXJrc2xhdGVncmV5OiAweDJmNGY0ZixcbiAgZGFya3R1cnF1b2lzZTogMHgwMGNlZDEsXG4gIGRhcmt2aW9sZXQ6IDB4OTQwMGQzLFxuICBkZWVwcGluazogMHhmZjE0OTMsXG4gIGRlZXBza3libHVlOiAweDAwYmZmZixcbiAgZGltZ3JheTogMHg2OTY5NjksXG4gIGRpbWdyZXk6IDB4Njk2OTY5LFxuICBkb2RnZXJibHVlOiAweDFlOTBmZixcbiAgZmlyZWJyaWNrOiAweGIyMjIyMixcbiAgZmxvcmFsd2hpdGU6IDB4ZmZmYWYwLFxuICBmb3Jlc3RncmVlbjogMHgyMjhiMjIsXG4gIGZ1Y2hzaWE6IDB4ZmYwMGZmLFxuICBnYWluc2Jvcm86IDB4ZGNkY2RjLFxuICBnaG9zdHdoaXRlOiAweGY4ZjhmZixcbiAgZ29sZDogMHhmZmQ3MDAsXG4gIGdvbGRlbnJvZDogMHhkYWE1MjAsXG4gIGdyYXk6IDB4ODA4MDgwLFxuICBncmVlbjogMHgwMDgwMDAsXG4gIGdyZWVueWVsbG93OiAweGFkZmYyZixcbiAgZ3JleTogMHg4MDgwODAsXG4gIGhvbmV5ZGV3OiAweGYwZmZmMCxcbiAgaG90cGluazogMHhmZjY5YjQsXG4gIGluZGlhbnJlZDogMHhjZDVjNWMsXG4gIGluZGlnbzogMHg0YjAwODIsXG4gIGl2b3J5OiAweGZmZmZmMCxcbiAga2hha2k6IDB4ZjBlNjhjLFxuICBsYXZlbmRlcjogMHhlNmU2ZmEsXG4gIGxhdmVuZGVyYmx1c2g6IDB4ZmZmMGY1LFxuICBsYXduZ3JlZW46IDB4N2NmYzAwLFxuICBsZW1vbmNoaWZmb246IDB4ZmZmYWNkLFxuICBsaWdodGJsdWU6IDB4YWRkOGU2LFxuICBsaWdodGNvcmFsOiAweGYwODA4MCxcbiAgbGlnaHRjeWFuOiAweGUwZmZmZixcbiAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDB4ZmFmYWQyLFxuICBsaWdodGdyYXk6IDB4ZDNkM2QzLFxuICBsaWdodGdyZWVuOiAweDkwZWU5MCxcbiAgbGlnaHRncmV5OiAweGQzZDNkMyxcbiAgbGlnaHRwaW5rOiAweGZmYjZjMSxcbiAgbGlnaHRzYWxtb246IDB4ZmZhMDdhLFxuICBsaWdodHNlYWdyZWVuOiAweDIwYjJhYSxcbiAgbGlnaHRza3libHVlOiAweDg3Y2VmYSxcbiAgbGlnaHRzbGF0ZWdyYXk6IDB4Nzc4ODk5LFxuICBsaWdodHNsYXRlZ3JleTogMHg3Nzg4OTksXG4gIGxpZ2h0c3RlZWxibHVlOiAweGIwYzRkZSxcbiAgbGlnaHR5ZWxsb3c6IDB4ZmZmZmUwLFxuICBsaW1lOiAweDAwZmYwMCxcbiAgbGltZWdyZWVuOiAweDMyY2QzMixcbiAgbGluZW46IDB4ZmFmMGU2LFxuICBtYWdlbnRhOiAweGZmMDBmZixcbiAgbWFyb29uOiAweDgwMDAwMCxcbiAgbWVkaXVtYXF1YW1hcmluZTogMHg2NmNkYWEsXG4gIG1lZGl1bWJsdWU6IDB4MDAwMGNkLFxuICBtZWRpdW1vcmNoaWQ6IDB4YmE1NWQzLFxuICBtZWRpdW1wdXJwbGU6IDB4OTM3MGRiLFxuICBtZWRpdW1zZWFncmVlbjogMHgzY2IzNzEsXG4gIG1lZGl1bXNsYXRlYmx1ZTogMHg3YjY4ZWUsXG4gIG1lZGl1bXNwcmluZ2dyZWVuOiAweDAwZmE5YSxcbiAgbWVkaXVtdHVycXVvaXNlOiAweDQ4ZDFjYyxcbiAgbWVkaXVtdmlvbGV0cmVkOiAweGM3MTU4NSxcbiAgbWlkbmlnaHRibHVlOiAweDE5MTk3MCxcbiAgbWludGNyZWFtOiAweGY1ZmZmYSxcbiAgbWlzdHlyb3NlOiAweGZmZTRlMSxcbiAgbW9jY2FzaW46IDB4ZmZlNGI1LFxuICBuYXZham93aGl0ZTogMHhmZmRlYWQsXG4gIG5hdnk6IDB4MDAwMDgwLFxuICBvbGRsYWNlOiAweGZkZjVlNixcbiAgb2xpdmU6IDB4ODA4MDAwLFxuICBvbGl2ZWRyYWI6IDB4NmI4ZTIzLFxuICBvcmFuZ2U6IDB4ZmZhNTAwLFxuICBvcmFuZ2VyZWQ6IDB4ZmY0NTAwLFxuICBvcmNoaWQ6IDB4ZGE3MGQ2LFxuICBwYWxlZ29sZGVucm9kOiAweGVlZThhYSxcbiAgcGFsZWdyZWVuOiAweDk4ZmI5OCxcbiAgcGFsZXR1cnF1b2lzZTogMHhhZmVlZWUsXG4gIHBhbGV2aW9sZXRyZWQ6IDB4ZGI3MDkzLFxuICBwYXBheWF3aGlwOiAweGZmZWZkNSxcbiAgcGVhY2hwdWZmOiAweGZmZGFiOSxcbiAgcGVydTogMHhjZDg1M2YsXG4gIHBpbms6IDB4ZmZjMGNiLFxuICBwbHVtOiAweGRkYTBkZCxcbiAgcG93ZGVyYmx1ZTogMHhiMGUwZTYsXG4gIHB1cnBsZTogMHg4MDAwODAsXG4gIHJlYmVjY2FwdXJwbGU6IDB4NjYzMzk5LFxuICByZWQ6IDB4ZmYwMDAwLFxuICByb3N5YnJvd246IDB4YmM4ZjhmLFxuICByb3lhbGJsdWU6IDB4NDE2OWUxLFxuICBzYWRkbGVicm93bjogMHg4YjQ1MTMsXG4gIHNhbG1vbjogMHhmYTgwNzIsXG4gIHNhbmR5YnJvd246IDB4ZjRhNDYwLFxuICBzZWFncmVlbjogMHgyZThiNTcsXG4gIHNlYXNoZWxsOiAweGZmZjVlZSxcbiAgc2llbm5hOiAweGEwNTIyZCxcbiAgc2lsdmVyOiAweGMwYzBjMCxcbiAgc2t5Ymx1ZTogMHg4N2NlZWIsXG4gIHNsYXRlYmx1ZTogMHg2YTVhY2QsXG4gIHNsYXRlZ3JheTogMHg3MDgwOTAsXG4gIHNsYXRlZ3JleTogMHg3MDgwOTAsXG4gIHNub3c6IDB4ZmZmYWZhLFxuICBzcHJpbmdncmVlbjogMHgwMGZmN2YsXG4gIHN0ZWVsYmx1ZTogMHg0NjgyYjQsXG4gIHRhbjogMHhkMmI0OGMsXG4gIHRlYWw6IDB4MDA4MDgwLFxuICB0aGlzdGxlOiAweGQ4YmZkOCxcbiAgdG9tYXRvOiAweGZmNjM0NyxcbiAgdHVycXVvaXNlOiAweDQwZTBkMCxcbiAgdmlvbGV0OiAweGVlODJlZSxcbiAgd2hlYXQ6IDB4ZjVkZWIzLFxuICB3aGl0ZTogMHhmZmZmZmYsXG4gIHdoaXRlc21va2U6IDB4ZjVmNWY1LFxuICB5ZWxsb3c6IDB4ZmZmZjAwLFxuICB5ZWxsb3dncmVlbjogMHg5YWNkMzJcbn07XG5cbmRlZmluZShDb2xvciwgY29sb3IsIHtcbiAgY29weTogZnVuY3Rpb24oY2hhbm5lbHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgdGhpcy5jb25zdHJ1Y3RvciwgdGhpcywgY2hhbm5lbHMpO1xuICB9LFxuICBkaXNwbGF5YWJsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucmdiKCkuZGlzcGxheWFibGUoKTtcbiAgfSxcbiAgaGV4OiBjb2xvcl9mb3JtYXRIZXgsIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguXG4gIGZvcm1hdEhleDogY29sb3JfZm9ybWF0SGV4LFxuICBmb3JtYXRIc2w6IGNvbG9yX2Zvcm1hdEhzbCxcbiAgZm9ybWF0UmdiOiBjb2xvcl9mb3JtYXRSZ2IsXG4gIHRvU3RyaW5nOiBjb2xvcl9mb3JtYXRSZ2Jcbn0pO1xuXG5mdW5jdGlvbiBjb2xvcl9mb3JtYXRIZXgoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdEhleCgpO1xufVxuXG5mdW5jdGlvbiBjb2xvcl9mb3JtYXRIc2woKSB7XG4gIHJldHVybiBoc2xDb252ZXJ0KHRoaXMpLmZvcm1hdEhzbCgpO1xufVxuXG5mdW5jdGlvbiBjb2xvcl9mb3JtYXRSZ2IoKSB7XG4gIHJldHVybiB0aGlzLnJnYigpLmZvcm1hdFJnYigpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb2xvcihmb3JtYXQpIHtcbiAgdmFyIG0sIGw7XG4gIGZvcm1hdCA9IChmb3JtYXQgKyBcIlwiKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIChtID0gcmVIZXguZXhlYyhmb3JtYXQpKSA/IChsID0gbVsxXS5sZW5ndGgsIG0gPSBwYXJzZUludChtWzFdLCAxNiksIGwgPT09IDYgPyByZ2JuKG0pIC8vICNmZjAwMDBcbiAgICAgIDogbCA9PT0gMyA/IG5ldyBSZ2IoKG0gPj4gOCAmIDB4ZikgfCAobSA+PiA0ICYgMHhmMCksIChtID4+IDQgJiAweGYpIHwgKG0gJiAweGYwKSwgKChtICYgMHhmKSA8PCA0KSB8IChtICYgMHhmKSwgMSkgLy8gI2YwMFxuICAgICAgOiBsID09PSA4ID8gbmV3IFJnYihtID4+IDI0ICYgMHhmZiwgbSA+PiAxNiAmIDB4ZmYsIG0gPj4gOCAmIDB4ZmYsIChtICYgMHhmZikgLyAweGZmKSAvLyAjZmYwMDAwMDBcbiAgICAgIDogbCA9PT0gNCA/IG5ldyBSZ2IoKG0gPj4gMTIgJiAweGYpIHwgKG0gPj4gOCAmIDB4ZjApLCAobSA+PiA4ICYgMHhmKSB8IChtID4+IDQgJiAweGYwKSwgKG0gPj4gNCAmIDB4ZikgfCAobSAmIDB4ZjApLCAoKChtICYgMHhmKSA8PCA0KSB8IChtICYgMHhmKSkgLyAweGZmKSAvLyAjZjAwMFxuICAgICAgOiBudWxsKSAvLyBpbnZhbGlkIGhleFxuICAgICAgOiAobSA9IHJlUmdiSW50ZWdlci5leGVjKGZvcm1hdCkpID8gbmV3IFJnYihtWzFdLCBtWzJdLCBtWzNdLCAxKSAvLyByZ2IoMjU1LCAwLCAwKVxuICAgICAgOiAobSA9IHJlUmdiUGVyY2VudC5leGVjKGZvcm1hdCkpID8gbmV3IFJnYihtWzFdICogMjU1IC8gMTAwLCBtWzJdICogMjU1IC8gMTAwLCBtWzNdICogMjU1IC8gMTAwLCAxKSAvLyByZ2IoMTAwJSwgMCUsIDAlKVxuICAgICAgOiAobSA9IHJlUmdiYUludGVnZXIuZXhlYyhmb3JtYXQpKSA/IHJnYmEobVsxXSwgbVsyXSwgbVszXSwgbVs0XSkgLy8gcmdiYSgyNTUsIDAsIDAsIDEpXG4gICAgICA6IChtID0gcmVSZ2JhUGVyY2VudC5leGVjKGZvcm1hdCkpID8gcmdiYShtWzFdICogMjU1IC8gMTAwLCBtWzJdICogMjU1IC8gMTAwLCBtWzNdICogMjU1IC8gMTAwLCBtWzRdKSAvLyByZ2IoMTAwJSwgMCUsIDAlLCAxKVxuICAgICAgOiAobSA9IHJlSHNsUGVyY2VudC5leGVjKGZvcm1hdCkpID8gaHNsYShtWzFdLCBtWzJdIC8gMTAwLCBtWzNdIC8gMTAwLCAxKSAvLyBoc2woMTIwLCA1MCUsIDUwJSlcbiAgICAgIDogKG0gPSByZUhzbGFQZXJjZW50LmV4ZWMoZm9ybWF0KSkgPyBoc2xhKG1bMV0sIG1bMl0gLyAxMDAsIG1bM10gLyAxMDAsIG1bNF0pIC8vIGhzbGEoMTIwLCA1MCUsIDUwJSwgMSlcbiAgICAgIDogbmFtZWQuaGFzT3duUHJvcGVydHkoZm9ybWF0KSA/IHJnYm4obmFtZWRbZm9ybWF0XSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgICAgIDogZm9ybWF0ID09PSBcInRyYW5zcGFyZW50XCIgPyBuZXcgUmdiKE5hTiwgTmFOLCBOYU4sIDApXG4gICAgICA6IG51bGw7XG59XG5cbmZ1bmN0aW9uIHJnYm4obikge1xuICByZXR1cm4gbmV3IFJnYihuID4+IDE2ICYgMHhmZiwgbiA+PiA4ICYgMHhmZiwgbiAmIDB4ZmYsIDEpO1xufVxuXG5mdW5jdGlvbiByZ2JhKHIsIGcsIGIsIGEpIHtcbiAgaWYgKGEgPD0gMCkgciA9IGcgPSBiID0gTmFOO1xuICByZXR1cm4gbmV3IFJnYihyLCBnLCBiLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYkNvbnZlcnQobykge1xuICBpZiAoIShvIGluc3RhbmNlb2YgQ29sb3IpKSBvID0gY29sb3Iobyk7XG4gIGlmICghbykgcmV0dXJuIG5ldyBSZ2I7XG4gIG8gPSBvLnJnYigpO1xuICByZXR1cm4gbmV3IFJnYihvLnIsIG8uZywgby5iLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmdiKHIsIGcsIGIsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyByZ2JDb252ZXJ0KHIpIDogbmV3IFJnYihyLCBnLCBiLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZ2IociwgZywgYiwgb3BhY2l0eSkge1xuICB0aGlzLnIgPSArcjtcbiAgdGhpcy5nID0gK2c7XG4gIHRoaXMuYiA9ICtiO1xuICB0aGlzLm9wYWNpdHkgPSArb3BhY2l0eTtcbn1cblxuZGVmaW5lKFJnYiwgcmdiLCBleHRlbmQoQ29sb3IsIHtcbiAgYnJpZ2h0ZXI6IGZ1bmN0aW9uKGspIHtcbiAgICBrID0gayA9PSBudWxsID8gYnJpZ2h0ZXIgOiBNYXRoLnBvdyhicmlnaHRlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyOiBmdW5jdGlvbihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGRhcmtlciA6IE1hdGgucG93KGRhcmtlciwgayk7XG4gICAgcmV0dXJuIG5ldyBSZ2IodGhpcy5yICogaywgdGhpcy5nICogaywgdGhpcy5iICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgcmdiOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZGlzcGxheWFibGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoLTAuNSA8PSB0aGlzLnIgJiYgdGhpcy5yIDwgMjU1LjUpXG4gICAgICAgICYmICgtMC41IDw9IHRoaXMuZyAmJiB0aGlzLmcgPCAyNTUuNSlcbiAgICAgICAgJiYgKC0wLjUgPD0gdGhpcy5iICYmIHRoaXMuYiA8IDI1NS41KVxuICAgICAgICAmJiAoMCA8PSB0aGlzLm9wYWNpdHkgJiYgdGhpcy5vcGFjaXR5IDw9IDEpO1xuICB9LFxuICBoZXg6IHJnYl9mb3JtYXRIZXgsIC8vIERlcHJlY2F0ZWQhIFVzZSBjb2xvci5mb3JtYXRIZXguXG4gIGZvcm1hdEhleDogcmdiX2Zvcm1hdEhleCxcbiAgZm9ybWF0UmdiOiByZ2JfZm9ybWF0UmdiLFxuICB0b1N0cmluZzogcmdiX2Zvcm1hdFJnYlxufSkpO1xuXG5mdW5jdGlvbiByZ2JfZm9ybWF0SGV4KCkge1xuICByZXR1cm4gXCIjXCIgKyBoZXgodGhpcy5yKSArIGhleCh0aGlzLmcpICsgaGV4KHRoaXMuYik7XG59XG5cbmZ1bmN0aW9uIHJnYl9mb3JtYXRSZ2IoKSB7XG4gIHZhciBhID0gdGhpcy5vcGFjaXR5OyBhID0gaXNOYU4oYSkgPyAxIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgYSkpO1xuICByZXR1cm4gKGEgPT09IDEgPyBcInJnYihcIiA6IFwicmdiYShcIilcbiAgICAgICsgTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCBNYXRoLnJvdW5kKHRoaXMucikgfHwgMCkpICsgXCIsIFwiXG4gICAgICArIE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh0aGlzLmcpIHx8IDApKSArIFwiLCBcIlxuICAgICAgKyBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIE1hdGgucm91bmQodGhpcy5iKSB8fCAwKSlcbiAgICAgICsgKGEgPT09IDEgPyBcIilcIiA6IFwiLCBcIiArIGEgKyBcIilcIik7XG59XG5cbmZ1bmN0aW9uIGhleCh2YWx1ZSkge1xuICB2YWx1ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgTWF0aC5yb3VuZCh2YWx1ZSkgfHwgMCkpO1xuICByZXR1cm4gKHZhbHVlIDwgMTYgPyBcIjBcIiA6IFwiXCIpICsgdmFsdWUudG9TdHJpbmcoMTYpO1xufVxuXG5mdW5jdGlvbiBoc2xhKGgsIHMsIGwsIGEpIHtcbiAgaWYgKGEgPD0gMCkgaCA9IHMgPSBsID0gTmFOO1xuICBlbHNlIGlmIChsIDw9IDAgfHwgbCA+PSAxKSBoID0gcyA9IE5hTjtcbiAgZWxzZSBpZiAocyA8PSAwKSBoID0gTmFOO1xuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBhKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhzbENvbnZlcnQobykge1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG5ldyBIc2woby5oLCBvLnMsIG8ubCwgby5vcGFjaXR5KTtcbiAgaWYgKCEobyBpbnN0YW5jZW9mIENvbG9yKSkgbyA9IGNvbG9yKG8pO1xuICBpZiAoIW8pIHJldHVybiBuZXcgSHNsO1xuICBpZiAobyBpbnN0YW5jZW9mIEhzbCkgcmV0dXJuIG87XG4gIG8gPSBvLnJnYigpO1xuICB2YXIgciA9IG8uciAvIDI1NSxcbiAgICAgIGcgPSBvLmcgLyAyNTUsXG4gICAgICBiID0gby5iIC8gMjU1LFxuICAgICAgbWluID0gTWF0aC5taW4ociwgZywgYiksXG4gICAgICBtYXggPSBNYXRoLm1heChyLCBnLCBiKSxcbiAgICAgIGggPSBOYU4sXG4gICAgICBzID0gbWF4IC0gbWluLFxuICAgICAgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgaWYgKHMpIHtcbiAgICBpZiAociA9PT0gbWF4KSBoID0gKGcgLSBiKSAvIHMgKyAoZyA8IGIpICogNjtcbiAgICBlbHNlIGlmIChnID09PSBtYXgpIGggPSAoYiAtIHIpIC8gcyArIDI7XG4gICAgZWxzZSBoID0gKHIgLSBnKSAvIHMgKyA0O1xuICAgIHMgLz0gbCA8IDAuNSA/IG1heCArIG1pbiA6IDIgLSBtYXggLSBtaW47XG4gICAgaCAqPSA2MDtcbiAgfSBlbHNlIHtcbiAgICBzID0gbCA+IDAgJiYgbCA8IDEgPyAwIDogaDtcbiAgfVxuICByZXR1cm4gbmV3IEhzbChoLCBzLCBsLCBvLm9wYWNpdHkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaHNsKGgsIHMsIGwsIG9wYWNpdHkpIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBoc2xDb252ZXJ0KGgpIDogbmV3IEhzbChoLCBzLCBsLCBvcGFjaXR5ID09IG51bGwgPyAxIDogb3BhY2l0eSk7XG59XG5cbmZ1bmN0aW9uIEhzbChoLCBzLCBsLCBvcGFjaXR5KSB7XG4gIHRoaXMuaCA9ICtoO1xuICB0aGlzLnMgPSArcztcbiAgdGhpcy5sID0gK2w7XG4gIHRoaXMub3BhY2l0eSA9ICtvcGFjaXR5O1xufVxuXG5kZWZpbmUoSHNsLCBoc2wsIGV4dGVuZChDb2xvciwge1xuICBicmlnaHRlcjogZnVuY3Rpb24oaykge1xuICAgIGsgPSBrID09IG51bGwgPyBicmlnaHRlciA6IE1hdGgucG93KGJyaWdodGVyLCBrKTtcbiAgICByZXR1cm4gbmV3IEhzbCh0aGlzLmgsIHRoaXMucywgdGhpcy5sICogaywgdGhpcy5vcGFjaXR5KTtcbiAgfSxcbiAgZGFya2VyOiBmdW5jdGlvbihrKSB7XG4gICAgayA9IGsgPT0gbnVsbCA/IGRhcmtlciA6IE1hdGgucG93KGRhcmtlciwgayk7XG4gICAgcmV0dXJuIG5ldyBIc2wodGhpcy5oLCB0aGlzLnMsIHRoaXMubCAqIGssIHRoaXMub3BhY2l0eSk7XG4gIH0sXG4gIHJnYjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGggPSB0aGlzLmggJSAzNjAgKyAodGhpcy5oIDwgMCkgKiAzNjAsXG4gICAgICAgIHMgPSBpc05hTihoKSB8fCBpc05hTih0aGlzLnMpID8gMCA6IHRoaXMucyxcbiAgICAgICAgbCA9IHRoaXMubCxcbiAgICAgICAgbTIgPSBsICsgKGwgPCAwLjUgPyBsIDogMSAtIGwpICogcyxcbiAgICAgICAgbTEgPSAyICogbCAtIG0yO1xuICAgIHJldHVybiBuZXcgUmdiKFxuICAgICAgaHNsMnJnYihoID49IDI0MCA/IGggLSAyNDAgOiBoICsgMTIwLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoLCBtMSwgbTIpLFxuICAgICAgaHNsMnJnYihoIDwgMTIwID8gaCArIDI0MCA6IGggLSAxMjAsIG0xLCBtMiksXG4gICAgICB0aGlzLm9wYWNpdHlcbiAgICApO1xuICB9LFxuICBkaXNwbGF5YWJsZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICgwIDw9IHRoaXMucyAmJiB0aGlzLnMgPD0gMSB8fCBpc05hTih0aGlzLnMpKVxuICAgICAgICAmJiAoMCA8PSB0aGlzLmwgJiYgdGhpcy5sIDw9IDEpXG4gICAgICAgICYmICgwIDw9IHRoaXMub3BhY2l0eSAmJiB0aGlzLm9wYWNpdHkgPD0gMSk7XG4gIH0sXG4gIGZvcm1hdEhzbDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGEgPSB0aGlzLm9wYWNpdHk7IGEgPSBpc05hTihhKSA/IDEgOiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBhKSk7XG4gICAgcmV0dXJuIChhID09PSAxID8gXCJoc2woXCIgOiBcImhzbGEoXCIpXG4gICAgICAgICsgKHRoaXMuaCB8fCAwKSArIFwiLCBcIlxuICAgICAgICArICh0aGlzLnMgfHwgMCkgKiAxMDAgKyBcIiUsIFwiXG4gICAgICAgICsgKHRoaXMubCB8fCAwKSAqIDEwMCArIFwiJVwiXG4gICAgICAgICsgKGEgPT09IDEgPyBcIilcIiA6IFwiLCBcIiArIGEgKyBcIilcIik7XG4gIH1cbn0pKTtcblxuLyogRnJvbSBGdkQgMTMuMzcsIENTUyBDb2xvciBNb2R1bGUgTGV2ZWwgMyAqL1xuZnVuY3Rpb24gaHNsMnJnYihoLCBtMSwgbTIpIHtcbiAgcmV0dXJuIChoIDwgNjAgPyBtMSArIChtMiAtIG0xKSAqIGggLyA2MFxuICAgICAgOiBoIDwgMTgwID8gbTJcbiAgICAgIDogaCA8IDI0MCA/IG0xICsgKG0yIC0gbTEpICogKDI0MCAtIGgpIC8gNjBcbiAgICAgIDogbTEpICogMjU1O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGJhc2lzKHQxLCB2MCwgdjEsIHYyLCB2Mykge1xuICB2YXIgdDIgPSB0MSAqIHQxLCB0MyA9IHQyICogdDE7XG4gIHJldHVybiAoKDEgLSAzICogdDEgKyAzICogdDIgLSB0MykgKiB2MFxuICAgICAgKyAoNCAtIDYgKiB0MiArIDMgKiB0MykgKiB2MVxuICAgICAgKyAoMSArIDMgKiB0MSArIDMgKiB0MiAtIDMgKiB0MykgKiB2MlxuICAgICAgKyB0MyAqIHYzKSAvIDY7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlcykge1xuICB2YXIgbiA9IHZhbHVlcy5sZW5ndGggLSAxO1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdCA8PSAwID8gKHQgPSAwKSA6IHQgPj0gMSA/ICh0ID0gMSwgbiAtIDEpIDogTWF0aC5mbG9vcih0ICogbiksXG4gICAgICAgIHYxID0gdmFsdWVzW2ldLFxuICAgICAgICB2MiA9IHZhbHVlc1tpICsgMV0sXG4gICAgICAgIHYwID0gaSA+IDAgPyB2YWx1ZXNbaSAtIDFdIDogMiAqIHYxIC0gdjIsXG4gICAgICAgIHYzID0gaSA8IG4gLSAxID8gdmFsdWVzW2kgKyAyXSA6IDIgKiB2MiAtIHYxO1xuICAgIHJldHVybiBiYXNpcygodCAtIGkgLyBuKSAqIG4sIHYwLCB2MSwgdjIsIHYzKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB4O1xuICB9O1xufVxuIiwiaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5cbmZ1bmN0aW9uIGxpbmVhcihhLCBkKSB7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKyB0ICogZDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZXhwb25lbnRpYWwoYSwgYiwgeSkge1xuICByZXR1cm4gYSA9IE1hdGgucG93KGEsIHkpLCBiID0gTWF0aC5wb3coYiwgeSkgLSBhLCB5ID0gMSAvIHksIGZ1bmN0aW9uKHQpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coYSArIHQgKiBiLCB5KTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh1ZShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQgPiAxODAgfHwgZCA8IC0xODAgPyBkIC0gMzYwICogTWF0aC5yb3VuZChkIC8gMzYwKSA6IGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnYW1tYSh5KSB7XG4gIHJldHVybiAoeSA9ICt5KSA9PT0gMSA/IG5vZ2FtbWEgOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIgLSBhID8gZXhwb25lbnRpYWwoYSwgYiwgeSkgOiBjb25zdGFudChpc05hTihhKSA/IGIgOiBhKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9nYW1tYShhLCBiKSB7XG4gIHZhciBkID0gYiAtIGE7XG4gIHJldHVybiBkID8gbGluZWFyKGEsIGQpIDogY29uc3RhbnQoaXNOYU4oYSkgPyBiIDogYSk7XG59XG4iLCJpbXBvcnQge3JnYiBhcyBjb2xvclJnYn0gZnJvbSBcImQzLWNvbG9yXCI7XG5pbXBvcnQgYmFzaXMgZnJvbSBcIi4vYmFzaXMuanNcIjtcbmltcG9ydCBiYXNpc0Nsb3NlZCBmcm9tIFwiLi9iYXNpc0Nsb3NlZC5qc1wiO1xuaW1wb3J0IG5vZ2FtbWEsIHtnYW1tYX0gZnJvbSBcIi4vY29sb3IuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHJnYkdhbW1hKHkpIHtcbiAgdmFyIGNvbG9yID0gZ2FtbWEoeSk7XG5cbiAgZnVuY3Rpb24gcmdiKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IGNvbG9yKChzdGFydCA9IGNvbG9yUmdiKHN0YXJ0KSkuciwgKGVuZCA9IGNvbG9yUmdiKGVuZCkpLnIpLFxuICAgICAgICBnID0gY29sb3Ioc3RhcnQuZywgZW5kLmcpLFxuICAgICAgICBiID0gY29sb3Ioc3RhcnQuYiwgZW5kLmIpLFxuICAgICAgICBvcGFjaXR5ID0gbm9nYW1tYShzdGFydC5vcGFjaXR5LCBlbmQub3BhY2l0eSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHN0YXJ0LnIgPSByKHQpO1xuICAgICAgc3RhcnQuZyA9IGcodCk7XG4gICAgICBzdGFydC5iID0gYih0KTtcbiAgICAgIHN0YXJ0Lm9wYWNpdHkgPSBvcGFjaXR5KHQpO1xuICAgICAgcmV0dXJuIHN0YXJ0ICsgXCJcIjtcbiAgICB9O1xuICB9XG5cbiAgcmdiLmdhbW1hID0gcmdiR2FtbWE7XG5cbiAgcmV0dXJuIHJnYjtcbn0pKDEpO1xuXG5mdW5jdGlvbiByZ2JTcGxpbmUoc3BsaW5lKSB7XG4gIHJldHVybiBmdW5jdGlvbihjb2xvcnMpIHtcbiAgICB2YXIgbiA9IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgIHIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGcgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGIgPSBuZXcgQXJyYXkobiksXG4gICAgICAgIGksIGNvbG9yO1xuICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGNvbG9yID0gY29sb3JSZ2IoY29sb3JzW2ldKTtcbiAgICAgIHJbaV0gPSBjb2xvci5yIHx8IDA7XG4gICAgICBnW2ldID0gY29sb3IuZyB8fCAwO1xuICAgICAgYltpXSA9IGNvbG9yLmIgfHwgMDtcbiAgICB9XG4gICAgciA9IHNwbGluZShyKTtcbiAgICBnID0gc3BsaW5lKGcpO1xuICAgIGIgPSBzcGxpbmUoYik7XG4gICAgY29sb3Iub3BhY2l0eSA9IDE7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGNvbG9yLnIgPSByKHQpO1xuICAgICAgY29sb3IuZyA9IGcodCk7XG4gICAgICBjb2xvci5iID0gYih0KTtcbiAgICAgIHJldHVybiBjb2xvciArIFwiXCI7XG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciByZ2JCYXNpcyA9IHJnYlNwbGluZShiYXNpcyk7XG5leHBvcnQgdmFyIHJnYkJhc2lzQ2xvc2VkID0gcmdiU3BsaW5lKGJhc2lzQ2xvc2VkKTtcbiIsImltcG9ydCB7YmFzaXN9IGZyb20gXCIuL2Jhc2lzLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlcykge1xuICB2YXIgbiA9IHZhbHVlcy5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgdmFyIGkgPSBNYXRoLmZsb29yKCgodCAlPSAxKSA8IDAgPyArK3QgOiB0KSAqIG4pLFxuICAgICAgICB2MCA9IHZhbHVlc1soaSArIG4gLSAxKSAlIG5dLFxuICAgICAgICB2MSA9IHZhbHVlc1tpICUgbl0sXG4gICAgICAgIHYyID0gdmFsdWVzWyhpICsgMSkgJSBuXSxcbiAgICAgICAgdjMgPSB2YWx1ZXNbKGkgKyAyKSAlIG5dO1xuICAgIHJldHVybiBiYXNpcygodCAtIGkgLyBuKSAqIG4sIHYwLCB2MSwgdjIsIHYzKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGQgPSBuZXcgRGF0ZTtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGQuc2V0VGltZShhICogKDEgLSB0KSArIGIgKiB0KSwgZDtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPSArYSwgYiA9ICtiLCBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIGEgKiAoMSAtIHQpICsgYiAqIHQ7XG4gIH07XG59XG4iLCJpbXBvcnQgbnVtYmVyIGZyb20gXCIuL251bWJlci5qc1wiO1xuXG52YXIgcmVBID0gL1stK10/KD86XFxkK1xcLj9cXGQqfFxcLj9cXGQrKSg/OltlRV1bLStdP1xcZCspPy9nLFxuICAgIHJlQiA9IG5ldyBSZWdFeHAocmVBLnNvdXJjZSwgXCJnXCIpO1xuXG5mdW5jdGlvbiB6ZXJvKGIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBiO1xuICB9O1xufVxuXG5mdW5jdGlvbiBvbmUoYikge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiBiKHQpICsgXCJcIjtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oYSwgYikge1xuICB2YXIgYmkgPSByZUEubGFzdEluZGV4ID0gcmVCLmxhc3RJbmRleCA9IDAsIC8vIHNjYW4gaW5kZXggZm9yIG5leHQgbnVtYmVyIGluIGJcbiAgICAgIGFtLCAvLyBjdXJyZW50IG1hdGNoIGluIGFcbiAgICAgIGJtLCAvLyBjdXJyZW50IG1hdGNoIGluIGJcbiAgICAgIGJzLCAvLyBzdHJpbmcgcHJlY2VkaW5nIGN1cnJlbnQgbnVtYmVyIGluIGIsIGlmIGFueVxuICAgICAgaSA9IC0xLCAvLyBpbmRleCBpbiBzXG4gICAgICBzID0gW10sIC8vIHN0cmluZyBjb25zdGFudHMgYW5kIHBsYWNlaG9sZGVyc1xuICAgICAgcSA9IFtdOyAvLyBudW1iZXIgaW50ZXJwb2xhdG9yc1xuXG4gIC8vIENvZXJjZSBpbnB1dHMgdG8gc3RyaW5ncy5cbiAgYSA9IGEgKyBcIlwiLCBiID0gYiArIFwiXCI7XG5cbiAgLy8gSW50ZXJwb2xhdGUgcGFpcnMgb2YgbnVtYmVycyBpbiBhICYgYi5cbiAgd2hpbGUgKChhbSA9IHJlQS5leGVjKGEpKVxuICAgICAgJiYgKGJtID0gcmVCLmV4ZWMoYikpKSB7XG4gICAgaWYgKChicyA9IGJtLmluZGV4KSA+IGJpKSB7IC8vIGEgc3RyaW5nIHByZWNlZGVzIHRoZSBuZXh0IG51bWJlciBpbiBiXG4gICAgICBicyA9IGIuc2xpY2UoYmksIGJzKTtcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBicztcbiAgICB9XG4gICAgaWYgKChhbSA9IGFtWzBdKSA9PT0gKGJtID0gYm1bMF0pKSB7IC8vIG51bWJlcnMgaW4gYSAmIGIgbWF0Y2hcbiAgICAgIGlmIChzW2ldKSBzW2ldICs9IGJtOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgICAgZWxzZSBzWysraV0gPSBibTtcbiAgICB9IGVsc2UgeyAvLyBpbnRlcnBvbGF0ZSBub24tbWF0Y2hpbmcgbnVtYmVyc1xuICAgICAgc1srK2ldID0gbnVsbDtcbiAgICAgIHEucHVzaCh7aTogaSwgeDogbnVtYmVyKGFtLCBibSl9KTtcbiAgICB9XG4gICAgYmkgPSByZUIubGFzdEluZGV4O1xuICB9XG5cbiAgLy8gQWRkIHJlbWFpbnMgb2YgYi5cbiAgaWYgKGJpIDwgYi5sZW5ndGgpIHtcbiAgICBicyA9IGIuc2xpY2UoYmkpO1xuICAgIGlmIChzW2ldKSBzW2ldICs9IGJzOyAvLyBjb2FsZXNjZSB3aXRoIHByZXZpb3VzIHN0cmluZ1xuICAgIGVsc2Ugc1srK2ldID0gYnM7XG4gIH1cblxuICAvLyBTcGVjaWFsIG9wdGltaXphdGlvbiBmb3Igb25seSBhIHNpbmdsZSBtYXRjaC5cbiAgLy8gT3RoZXJ3aXNlLCBpbnRlcnBvbGF0ZSBlYWNoIG9mIHRoZSBudW1iZXJzIGFuZCByZWpvaW4gdGhlIHN0cmluZy5cbiAgcmV0dXJuIHMubGVuZ3RoIDwgMiA/IChxWzBdXG4gICAgICA/IG9uZShxWzBdLngpXG4gICAgICA6IHplcm8oYikpXG4gICAgICA6IChiID0gcS5sZW5ndGgsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbzsgaSA8IGI7ICsraSkgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgICAgIHJldHVybiBzLmpvaW4oXCJcIik7XG4gICAgICAgIH0pO1xufVxuIiwidmFyIGZyYW1lID0gMCwgLy8gaXMgYW4gYW5pbWF0aW9uIGZyYW1lIHBlbmRpbmc/XG4gICAgdGltZW91dCA9IDAsIC8vIGlzIGEgdGltZW91dCBwZW5kaW5nP1xuICAgIGludGVydmFsID0gMCwgLy8gYXJlIGFueSB0aW1lcnMgYWN0aXZlP1xuICAgIHBva2VEZWxheSA9IDEwMDAsIC8vIGhvdyBmcmVxdWVudGx5IHdlIGNoZWNrIGZvciBjbG9jayBza2V3XG4gICAgdGFza0hlYWQsXG4gICAgdGFza1RhaWwsXG4gICAgY2xvY2tMYXN0ID0gMCxcbiAgICBjbG9ja05vdyA9IDAsXG4gICAgY2xvY2tTa2V3ID0gMCxcbiAgICBjbG9jayA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gXCJvYmplY3RcIiAmJiBwZXJmb3JtYW5jZS5ub3cgPyBwZXJmb3JtYW5jZSA6IERhdGUsXG4gICAgc2V0RnJhbWUgPSB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KSA6IGZ1bmN0aW9uKGYpIHsgc2V0VGltZW91dChmLCAxNyk7IH07XG5cbmV4cG9ydCBmdW5jdGlvbiBub3coKSB7XG4gIHJldHVybiBjbG9ja05vdyB8fCAoc2V0RnJhbWUoY2xlYXJOb3cpLCBjbG9ja05vdyA9IGNsb2NrLm5vdygpICsgY2xvY2tTa2V3KTtcbn1cblxuZnVuY3Rpb24gY2xlYXJOb3coKSB7XG4gIGNsb2NrTm93ID0gMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFRpbWVyKCkge1xuICB0aGlzLl9jYWxsID1cbiAgdGhpcy5fdGltZSA9XG4gIHRoaXMuX25leHQgPSBudWxsO1xufVxuXG5UaW1lci5wcm90b3R5cGUgPSB0aW1lci5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBUaW1lcixcbiAgcmVzdGFydDogZnVuY3Rpb24oY2FsbGJhY2ssIGRlbGF5LCB0aW1lKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiY2FsbGJhY2sgaXMgbm90IGEgZnVuY3Rpb25cIik7XG4gICAgdGltZSA9ICh0aW1lID09IG51bGwgPyBub3coKSA6ICt0aW1lKSArIChkZWxheSA9PSBudWxsID8gMCA6ICtkZWxheSk7XG4gICAgaWYgKCF0aGlzLl9uZXh0ICYmIHRhc2tUYWlsICE9PSB0aGlzKSB7XG4gICAgICBpZiAodGFza1RhaWwpIHRhc2tUYWlsLl9uZXh0ID0gdGhpcztcbiAgICAgIGVsc2UgdGFza0hlYWQgPSB0aGlzO1xuICAgICAgdGFza1RhaWwgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLl9jYWxsID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fdGltZSA9IHRpbWU7XG4gICAgc2xlZXAoKTtcbiAgfSxcbiAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX2NhbGwpIHtcbiAgICAgIHRoaXMuX2NhbGwgPSBudWxsO1xuICAgICAgdGhpcy5fdGltZSA9IEluZmluaXR5O1xuICAgICAgc2xlZXAoKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIHQucmVzdGFydChjYWxsYmFjaywgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyRmx1c2goKSB7XG4gIG5vdygpOyAvLyBHZXQgdGhlIGN1cnJlbnQgdGltZSwgaWYgbm90IGFscmVhZHkgc2V0LlxuICArK2ZyYW1lOyAvLyBQcmV0ZW5kIHdl4oCZdmUgc2V0IGFuIGFsYXJtLCBpZiB3ZSBoYXZlbuKAmXQgYWxyZWFkeS5cbiAgdmFyIHQgPSB0YXNrSGVhZCwgZTtcbiAgd2hpbGUgKHQpIHtcbiAgICBpZiAoKGUgPSBjbG9ja05vdyAtIHQuX3RpbWUpID49IDApIHQuX2NhbGwuY2FsbChudWxsLCBlKTtcbiAgICB0ID0gdC5fbmV4dDtcbiAgfVxuICAtLWZyYW1lO1xufVxuXG5mdW5jdGlvbiB3YWtlKCkge1xuICBjbG9ja05vdyA9IChjbG9ja0xhc3QgPSBjbG9jay5ub3coKSkgKyBjbG9ja1NrZXc7XG4gIGZyYW1lID0gdGltZW91dCA9IDA7XG4gIHRyeSB7XG4gICAgdGltZXJGbHVzaCgpO1xuICB9IGZpbmFsbHkge1xuICAgIGZyYW1lID0gMDtcbiAgICBuYXAoKTtcbiAgICBjbG9ja05vdyA9IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gcG9rZSgpIHtcbiAgdmFyIG5vdyA9IGNsb2NrLm5vdygpLCBkZWxheSA9IG5vdyAtIGNsb2NrTGFzdDtcbiAgaWYgKGRlbGF5ID4gcG9rZURlbGF5KSBjbG9ja1NrZXcgLT0gZGVsYXksIGNsb2NrTGFzdCA9IG5vdztcbn1cblxuZnVuY3Rpb24gbmFwKCkge1xuICB2YXIgdDAsIHQxID0gdGFza0hlYWQsIHQyLCB0aW1lID0gSW5maW5pdHk7XG4gIHdoaWxlICh0MSkge1xuICAgIGlmICh0MS5fY2FsbCkge1xuICAgICAgaWYgKHRpbWUgPiB0MS5fdGltZSkgdGltZSA9IHQxLl90aW1lO1xuICAgICAgdDAgPSB0MSwgdDEgPSB0MS5fbmV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdDIgPSB0MS5fbmV4dCwgdDEuX25leHQgPSBudWxsO1xuICAgICAgdDEgPSB0MCA/IHQwLl9uZXh0ID0gdDIgOiB0YXNrSGVhZCA9IHQyO1xuICAgIH1cbiAgfVxuICB0YXNrVGFpbCA9IHQwO1xuICBzbGVlcCh0aW1lKTtcbn1cblxuZnVuY3Rpb24gc2xlZXAodGltZSkge1xuICBpZiAoZnJhbWUpIHJldHVybjsgLy8gU29vbmVzdCBhbGFybSBhbHJlYWR5IHNldCwgb3Igd2lsbCBiZS5cbiAgaWYgKHRpbWVvdXQpIHRpbWVvdXQgPSBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gIHZhciBkZWxheSA9IHRpbWUgLSBjbG9ja05vdzsgLy8gU3RyaWN0bHkgbGVzcyB0aGFuIGlmIHdlIHJlY29tcHV0ZWQgY2xvY2tOb3cuXG4gIGlmIChkZWxheSA+IDI0KSB7XG4gICAgaWYgKHRpbWUgPCBJbmZpbml0eSkgdGltZW91dCA9IHNldFRpbWVvdXQod2FrZSwgdGltZSAtIGNsb2NrLm5vdygpIC0gY2xvY2tTa2V3KTtcbiAgICBpZiAoaW50ZXJ2YWwpIGludGVydmFsID0gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFpbnRlcnZhbCkgY2xvY2tMYXN0ID0gY2xvY2subm93KCksIGludGVydmFsID0gc2V0SW50ZXJ2YWwocG9rZSwgcG9rZURlbGF5KTtcbiAgICBmcmFtZSA9IDEsIHNldEZyYW1lKHdha2UpO1xuICB9XG59XG4iLCJpbXBvcnQge1RpbWVyfSBmcm9tIFwiLi90aW1lci5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaywgZGVsYXksIHRpbWUpIHtcbiAgdmFyIHQgPSBuZXcgVGltZXI7XG4gIGRlbGF5ID0gZGVsYXkgPT0gbnVsbCA/IDAgOiArZGVsYXk7XG4gIHQucmVzdGFydChmdW5jdGlvbihlbGFwc2VkKSB7XG4gICAgdC5zdG9wKCk7XG4gICAgY2FsbGJhY2soZWxhcHNlZCArIGRlbGF5KTtcbiAgfSwgZGVsYXksIHRpbWUpO1xuICByZXR1cm4gdDtcbn1cbiIsImltcG9ydCB7ZGlzcGF0Y2h9IGZyb20gXCJkMy1kaXNwYXRjaFwiO1xuaW1wb3J0IHt0aW1lciwgdGltZW91dH0gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBlbXB0eU9uID0gZGlzcGF0Y2goXCJzdGFydFwiLCBcImVuZFwiLCBcImNhbmNlbFwiLCBcImludGVycnVwdFwiKTtcbnZhciBlbXB0eVR3ZWVuID0gW107XG5cbmV4cG9ydCB2YXIgQ1JFQVRFRCA9IDA7XG5leHBvcnQgdmFyIFNDSEVEVUxFRCA9IDE7XG5leHBvcnQgdmFyIFNUQVJUSU5HID0gMjtcbmV4cG9ydCB2YXIgU1RBUlRFRCA9IDM7XG5leHBvcnQgdmFyIFJVTk5JTkcgPSA0O1xuZXhwb3J0IHZhciBFTkRJTkcgPSA1O1xuZXhwb3J0IHZhciBFTkRFRCA9IDY7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5vZGUsIG5hbWUsIGlkLCBpbmRleCwgZ3JvdXAsIHRpbWluZykge1xuICB2YXIgc2NoZWR1bGVzID0gbm9kZS5fX3RyYW5zaXRpb247XG4gIGlmICghc2NoZWR1bGVzKSBub2RlLl9fdHJhbnNpdGlvbiA9IHt9O1xuICBlbHNlIGlmIChpZCBpbiBzY2hlZHVsZXMpIHJldHVybjtcbiAgY3JlYXRlKG5vZGUsIGlkLCB7XG4gICAgbmFtZTogbmFtZSxcbiAgICBpbmRleDogaW5kZXgsIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay5cbiAgICBncm91cDogZ3JvdXAsIC8vIEZvciBjb250ZXh0IGR1cmluZyBjYWxsYmFjay5cbiAgICBvbjogZW1wdHlPbixcbiAgICB0d2VlbjogZW1wdHlUd2VlbixcbiAgICB0aW1lOiB0aW1pbmcudGltZSxcbiAgICBkZWxheTogdGltaW5nLmRlbGF5LFxuICAgIGR1cmF0aW9uOiB0aW1pbmcuZHVyYXRpb24sXG4gICAgZWFzZTogdGltaW5nLmVhc2UsXG4gICAgdGltZXI6IG51bGwsXG4gICAgc3RhdGU6IENSRUFURURcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KG5vZGUsIGlkKSB7XG4gIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7XG4gIGlmIChzY2hlZHVsZS5zdGF0ZSA+IENSRUFURUQpIHRocm93IG5ldyBFcnJvcihcInRvbyBsYXRlOyBhbHJlYWR5IHNjaGVkdWxlZFwiKTtcbiAgcmV0dXJuIHNjaGVkdWxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0KG5vZGUsIGlkKSB7XG4gIHZhciBzY2hlZHVsZSA9IGdldChub2RlLCBpZCk7XG4gIGlmIChzY2hlZHVsZS5zdGF0ZSA+IFNUQVJURUQpIHRocm93IG5ldyBFcnJvcihcInRvbyBsYXRlOyBhbHJlYWR5IHJ1bm5pbmdcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldChub2RlLCBpZCkge1xuICB2YXIgc2NoZWR1bGUgPSBub2RlLl9fdHJhbnNpdGlvbjtcbiAgaWYgKCFzY2hlZHVsZSB8fCAhKHNjaGVkdWxlID0gc2NoZWR1bGVbaWRdKSkgdGhyb3cgbmV3IEVycm9yKFwidHJhbnNpdGlvbiBub3QgZm91bmRcIik7XG4gIHJldHVybiBzY2hlZHVsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlKG5vZGUsIGlkLCBzZWxmKSB7XG4gIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbixcbiAgICAgIHR3ZWVuO1xuXG4gIC8vIEluaXRpYWxpemUgdGhlIHNlbGYgdGltZXIgd2hlbiB0aGUgdHJhbnNpdGlvbiBpcyBjcmVhdGVkLlxuICAvLyBOb3RlIHRoZSBhY3R1YWwgZGVsYXkgaXMgbm90IGtub3duIHVudGlsIHRoZSBmaXJzdCBjYWxsYmFjayFcbiAgc2NoZWR1bGVzW2lkXSA9IHNlbGY7XG4gIHNlbGYudGltZXIgPSB0aW1lcihzY2hlZHVsZSwgMCwgc2VsZi50aW1lKTtcblxuICBmdW5jdGlvbiBzY2hlZHVsZShlbGFwc2VkKSB7XG4gICAgc2VsZi5zdGF0ZSA9IFNDSEVEVUxFRDtcbiAgICBzZWxmLnRpbWVyLnJlc3RhcnQoc3RhcnQsIHNlbGYuZGVsYXksIHNlbGYudGltZSk7XG5cbiAgICAvLyBJZiB0aGUgZWxhcHNlZCBkZWxheSBpcyBsZXNzIHRoYW4gb3VyIGZpcnN0IHNsZWVwLCBzdGFydCBpbW1lZGlhdGVseS5cbiAgICBpZiAoc2VsZi5kZWxheSA8PSBlbGFwc2VkKSBzdGFydChlbGFwc2VkIC0gc2VsZi5kZWxheSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydChlbGFwc2VkKSB7XG4gICAgdmFyIGksIGosIG4sIG87XG5cbiAgICAvLyBJZiB0aGUgc3RhdGUgaXMgbm90IFNDSEVEVUxFRCwgdGhlbiB3ZSBwcmV2aW91c2x5IGVycm9yZWQgb24gc3RhcnQuXG4gICAgaWYgKHNlbGYuc3RhdGUgIT09IFNDSEVEVUxFRCkgcmV0dXJuIHN0b3AoKTtcblxuICAgIGZvciAoaSBpbiBzY2hlZHVsZXMpIHtcbiAgICAgIG8gPSBzY2hlZHVsZXNbaV07XG4gICAgICBpZiAoby5uYW1lICE9PSBzZWxmLm5hbWUpIGNvbnRpbnVlO1xuXG4gICAgICAvLyBXaGlsZSB0aGlzIGVsZW1lbnQgYWxyZWFkeSBoYXMgYSBzdGFydGluZyB0cmFuc2l0aW9uIGR1cmluZyB0aGlzIGZyYW1lLFxuICAgICAgLy8gZGVmZXIgc3RhcnRpbmcgYW4gaW50ZXJydXB0aW5nIHRyYW5zaXRpb24gdW50aWwgdGhhdCB0cmFuc2l0aW9uIGhhcyBhXG4gICAgICAvLyBjaGFuY2UgdG8gdGljayAoYW5kIHBvc3NpYmx5IGVuZCk7IHNlZSBkMy9kMy10cmFuc2l0aW9uIzU0IVxuICAgICAgaWYgKG8uc3RhdGUgPT09IFNUQVJURUQpIHJldHVybiB0aW1lb3V0KHN0YXJ0KTtcblxuICAgICAgLy8gSW50ZXJydXB0IHRoZSBhY3RpdmUgdHJhbnNpdGlvbiwgaWYgYW55LlxuICAgICAgaWYgKG8uc3RhdGUgPT09IFJVTk5JTkcpIHtcbiAgICAgICAgby5zdGF0ZSA9IEVOREVEO1xuICAgICAgICBvLnRpbWVyLnN0b3AoKTtcbiAgICAgICAgby5vbi5jYWxsKFwiaW50ZXJydXB0XCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIG8uaW5kZXgsIG8uZ3JvdXApO1xuICAgICAgICBkZWxldGUgc2NoZWR1bGVzW2ldO1xuICAgICAgfVxuXG4gICAgICAvLyBDYW5jZWwgYW55IHByZS1lbXB0ZWQgdHJhbnNpdGlvbnMuXG4gICAgICBlbHNlIGlmICgraSA8IGlkKSB7XG4gICAgICAgIG8uc3RhdGUgPSBFTkRFRDtcbiAgICAgICAgby50aW1lci5zdG9wKCk7XG4gICAgICAgIG8ub24uY2FsbChcImNhbmNlbFwiLCBub2RlLCBub2RlLl9fZGF0YV9fLCBvLmluZGV4LCBvLmdyb3VwKTtcbiAgICAgICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWZlciB0aGUgZmlyc3QgdGljayB0byBlbmQgb2YgdGhlIGN1cnJlbnQgZnJhbWU7IHNlZSBkMy9kMyMxNTc2LlxuICAgIC8vIE5vdGUgdGhlIHRyYW5zaXRpb24gbWF5IGJlIGNhbmNlbGVkIGFmdGVyIHN0YXJ0IGFuZCBiZWZvcmUgdGhlIGZpcnN0IHRpY2shXG4gICAgLy8gTm90ZSB0aGlzIG11c3QgYmUgc2NoZWR1bGVkIGJlZm9yZSB0aGUgc3RhcnQgZXZlbnQ7IHNlZSBkMy9kMy10cmFuc2l0aW9uIzE2IVxuICAgIC8vIEFzc3VtaW5nIHRoaXMgaXMgc3VjY2Vzc2Z1bCwgc3Vic2VxdWVudCBjYWxsYmFja3MgZ28gc3RyYWlnaHQgdG8gdGljay5cbiAgICB0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYuc3RhdGUgPT09IFNUQVJURUQpIHtcbiAgICAgICAgc2VsZi5zdGF0ZSA9IFJVTk5JTkc7XG4gICAgICAgIHNlbGYudGltZXIucmVzdGFydCh0aWNrLCBzZWxmLmRlbGF5LCBzZWxmLnRpbWUpO1xuICAgICAgICB0aWNrKGVsYXBzZWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gRGlzcGF0Y2ggdGhlIHN0YXJ0IGV2ZW50LlxuICAgIC8vIE5vdGUgdGhpcyBtdXN0IGJlIGRvbmUgYmVmb3JlIHRoZSB0d2VlbiBhcmUgaW5pdGlhbGl6ZWQuXG4gICAgc2VsZi5zdGF0ZSA9IFNUQVJUSU5HO1xuICAgIHNlbGYub24uY2FsbChcInN0YXJ0XCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApO1xuICAgIGlmIChzZWxmLnN0YXRlICE9PSBTVEFSVElORykgcmV0dXJuOyAvLyBpbnRlcnJ1cHRlZFxuICAgIHNlbGYuc3RhdGUgPSBTVEFSVEVEO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgdHdlZW4sIGRlbGV0aW5nIG51bGwgdHdlZW4uXG4gICAgdHdlZW4gPSBuZXcgQXJyYXkobiA9IHNlbGYudHdlZW4ubGVuZ3RoKTtcbiAgICBmb3IgKGkgPSAwLCBqID0gLTE7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmIChvID0gc2VsZi50d2VlbltpXS52YWx1ZS5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIHNlbGYuaW5kZXgsIHNlbGYuZ3JvdXApKSB7XG4gICAgICAgIHR3ZWVuWysral0gPSBvO1xuICAgICAgfVxuICAgIH1cbiAgICB0d2Vlbi5sZW5ndGggPSBqICsgMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpY2soZWxhcHNlZCkge1xuICAgIHZhciB0ID0gZWxhcHNlZCA8IHNlbGYuZHVyYXRpb24gPyBzZWxmLmVhc2UuY2FsbChudWxsLCBlbGFwc2VkIC8gc2VsZi5kdXJhdGlvbikgOiAoc2VsZi50aW1lci5yZXN0YXJ0KHN0b3ApLCBzZWxmLnN0YXRlID0gRU5ESU5HLCAxKSxcbiAgICAgICAgaSA9IC0xLFxuICAgICAgICBuID0gdHdlZW4ubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIHR3ZWVuW2ldLmNhbGwobm9kZSwgdCk7XG4gICAgfVxuXG4gICAgLy8gRGlzcGF0Y2ggdGhlIGVuZCBldmVudC5cbiAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gRU5ESU5HKSB7XG4gICAgICBzZWxmLm9uLmNhbGwoXCJlbmRcIiwgbm9kZSwgbm9kZS5fX2RhdGFfXywgc2VsZi5pbmRleCwgc2VsZi5ncm91cCk7XG4gICAgICBzdG9wKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBzZWxmLnN0YXRlID0gRU5ERUQ7XG4gICAgc2VsZi50aW1lci5zdG9wKCk7XG4gICAgZGVsZXRlIHNjaGVkdWxlc1tpZF07XG4gICAgZm9yICh2YXIgaSBpbiBzY2hlZHVsZXMpIHJldHVybjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIGRlbGV0ZSBub2RlLl9fdHJhbnNpdGlvbjtcbiAgfVxufVxuIiwiaW1wb3J0IHtTVEFSVElORywgRU5ESU5HLCBFTkRFRH0gZnJvbSBcIi4vdHJhbnNpdGlvbi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCBuYW1lKSB7XG4gIHZhciBzY2hlZHVsZXMgPSBub2RlLl9fdHJhbnNpdGlvbixcbiAgICAgIHNjaGVkdWxlLFxuICAgICAgYWN0aXZlLFxuICAgICAgZW1wdHkgPSB0cnVlLFxuICAgICAgaTtcblxuICBpZiAoIXNjaGVkdWxlcykgcmV0dXJuO1xuXG4gIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG5cbiAgZm9yIChpIGluIHNjaGVkdWxlcykge1xuICAgIGlmICgoc2NoZWR1bGUgPSBzY2hlZHVsZXNbaV0pLm5hbWUgIT09IG5hbWUpIHsgZW1wdHkgPSBmYWxzZTsgY29udGludWU7IH1cbiAgICBhY3RpdmUgPSBzY2hlZHVsZS5zdGF0ZSA+IFNUQVJUSU5HICYmIHNjaGVkdWxlLnN0YXRlIDwgRU5ESU5HO1xuICAgIHNjaGVkdWxlLnN0YXRlID0gRU5ERUQ7XG4gICAgc2NoZWR1bGUudGltZXIuc3RvcCgpO1xuICAgIHNjaGVkdWxlLm9uLmNhbGwoYWN0aXZlID8gXCJpbnRlcnJ1cHRcIiA6IFwiY2FuY2VsXCIsIG5vZGUsIG5vZGUuX19kYXRhX18sIHNjaGVkdWxlLmluZGV4LCBzY2hlZHVsZS5ncm91cCk7XG4gICAgZGVsZXRlIHNjaGVkdWxlc1tpXTtcbiAgfVxuXG4gIGlmIChlbXB0eSkgZGVsZXRlIG5vZGUuX190cmFuc2l0aW9uO1xufVxuIiwiaW1wb3J0IGRlY29tcG9zZSwge2lkZW50aXR5fSBmcm9tIFwiLi9kZWNvbXBvc2UuanNcIjtcblxudmFyIGNzc05vZGUsXG4gICAgY3NzUm9vdCxcbiAgICBjc3NWaWV3LFxuICAgIHN2Z05vZGU7XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNzcyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IFwibm9uZVwiKSByZXR1cm4gaWRlbnRpdHk7XG4gIGlmICghY3NzTm9kZSkgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIiksIGNzc1Jvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGNzc1ZpZXcgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcbiAgY3NzTm9kZS5zdHlsZS50cmFuc2Zvcm0gPSB2YWx1ZTtcbiAgdmFsdWUgPSBjc3NWaWV3LmdldENvbXB1dGVkU3R5bGUoY3NzUm9vdC5hcHBlbmRDaGlsZChjc3NOb2RlKSwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zZm9ybVwiKTtcbiAgY3NzUm9vdC5yZW1vdmVDaGlsZChjc3NOb2RlKTtcbiAgdmFsdWUgPSB2YWx1ZS5zbGljZSg3LCAtMSkuc3BsaXQoXCIsXCIpO1xuICByZXR1cm4gZGVjb21wb3NlKCt2YWx1ZVswXSwgK3ZhbHVlWzFdLCArdmFsdWVbMl0sICt2YWx1ZVszXSwgK3ZhbHVlWzRdLCArdmFsdWVbNV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTdmcodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBpZGVudGl0eTtcbiAgaWYgKCFzdmdOb2RlKSBzdmdOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJnXCIpO1xuICBzdmdOb2RlLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLCB2YWx1ZSk7XG4gIGlmICghKHZhbHVlID0gc3ZnTm9kZS50cmFuc2Zvcm0uYmFzZVZhbC5jb25zb2xpZGF0ZSgpKSkgcmV0dXJuIGlkZW50aXR5O1xuICB2YWx1ZSA9IHZhbHVlLm1hdHJpeDtcbiAgcmV0dXJuIGRlY29tcG9zZSh2YWx1ZS5hLCB2YWx1ZS5iLCB2YWx1ZS5jLCB2YWx1ZS5kLCB2YWx1ZS5lLCB2YWx1ZS5mKTtcbn1cbiIsInZhciBkZWdyZWVzID0gMTgwIC8gTWF0aC5QSTtcblxuZXhwb3J0IHZhciBpZGVudGl0eSA9IHtcbiAgdHJhbnNsYXRlWDogMCxcbiAgdHJhbnNsYXRlWTogMCxcbiAgcm90YXRlOiAwLFxuICBza2V3WDogMCxcbiAgc2NhbGVYOiAxLFxuICBzY2FsZVk6IDFcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFyIHNjYWxlWCwgc2NhbGVZLCBza2V3WDtcbiAgaWYgKHNjYWxlWCA9IE1hdGguc3FydChhICogYSArIGIgKiBiKSkgYSAvPSBzY2FsZVgsIGIgLz0gc2NhbGVYO1xuICBpZiAoc2tld1ggPSBhICogYyArIGIgKiBkKSBjIC09IGEgKiBza2V3WCwgZCAtPSBiICogc2tld1g7XG4gIGlmIChzY2FsZVkgPSBNYXRoLnNxcnQoYyAqIGMgKyBkICogZCkpIGMgLz0gc2NhbGVZLCBkIC89IHNjYWxlWSwgc2tld1ggLz0gc2NhbGVZO1xuICBpZiAoYSAqIGQgPCBiICogYykgYSA9IC1hLCBiID0gLWIsIHNrZXdYID0gLXNrZXdYLCBzY2FsZVggPSAtc2NhbGVYO1xuICByZXR1cm4ge1xuICAgIHRyYW5zbGF0ZVg6IGUsXG4gICAgdHJhbnNsYXRlWTogZixcbiAgICByb3RhdGU6IE1hdGguYXRhbjIoYiwgYSkgKiBkZWdyZWVzLFxuICAgIHNrZXdYOiBNYXRoLmF0YW4oc2tld1gpICogZGVncmVlcyxcbiAgICBzY2FsZVg6IHNjYWxlWCxcbiAgICBzY2FsZVk6IHNjYWxlWVxuICB9O1xufVxuIiwiaW1wb3J0IG51bWJlciBmcm9tIFwiLi4vbnVtYmVyLmpzXCI7XG5pbXBvcnQge3BhcnNlQ3NzLCBwYXJzZVN2Z30gZnJvbSBcIi4vcGFyc2UuanNcIjtcblxuZnVuY3Rpb24gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2UsIHB4Q29tbWEsIHB4UGFyZW4sIGRlZ1BhcmVuKSB7XG5cbiAgZnVuY3Rpb24gcG9wKHMpIHtcbiAgICByZXR1cm4gcy5sZW5ndGggPyBzLnBvcCgpICsgXCIgXCIgOiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNsYXRlKHhhLCB5YSwgeGIsIHliLCBzLCBxKSB7XG4gICAgaWYgKHhhICE9PSB4YiB8fCB5YSAhPT0geWIpIHtcbiAgICAgIHZhciBpID0gcy5wdXNoKFwidHJhbnNsYXRlKFwiLCBudWxsLCBweENvbW1hLCBudWxsLCBweFBhcmVuKTtcbiAgICAgIHEucHVzaCh7aTogaSAtIDQsIHg6IG51bWJlcih4YSwgeGIpfSwge2k6IGkgLSAyLCB4OiBudW1iZXIoeWEsIHliKX0pO1xuICAgIH0gZWxzZSBpZiAoeGIgfHwgeWIpIHtcbiAgICAgIHMucHVzaChcInRyYW5zbGF0ZShcIiArIHhiICsgcHhDb21tYSArIHliICsgcHhQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcm90YXRlKGEsIGIsIHMsIHEpIHtcbiAgICBpZiAoYSAhPT0gYikge1xuICAgICAgaWYgKGEgLSBiID4gMTgwKSBiICs9IDM2MDsgZWxzZSBpZiAoYiAtIGEgPiAxODApIGEgKz0gMzYwOyAvLyBzaG9ydGVzdCBwYXRoXG4gICAgICBxLnB1c2goe2k6IHMucHVzaChwb3AocykgKyBcInJvdGF0ZShcIiwgbnVsbCwgZGVnUGFyZW4pIC0gMiwgeDogbnVtYmVyKGEsIGIpfSk7XG4gICAgfSBlbHNlIGlmIChiKSB7XG4gICAgICBzLnB1c2gocG9wKHMpICsgXCJyb3RhdGUoXCIgKyBiICsgZGVnUGFyZW4pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNrZXdYKGEsIGIsIHMsIHEpIHtcbiAgICBpZiAoYSAhPT0gYikge1xuICAgICAgcS5wdXNoKHtpOiBzLnB1c2gocG9wKHMpICsgXCJza2V3WChcIiwgbnVsbCwgZGVnUGFyZW4pIC0gMiwgeDogbnVtYmVyKGEsIGIpfSk7XG4gICAgfSBlbHNlIGlmIChiKSB7XG4gICAgICBzLnB1c2gocG9wKHMpICsgXCJza2V3WChcIiArIGIgKyBkZWdQYXJlbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2NhbGUoeGEsIHlhLCB4YiwgeWIsIHMsIHEpIHtcbiAgICBpZiAoeGEgIT09IHhiIHx8IHlhICE9PSB5Yikge1xuICAgICAgdmFyIGkgPSBzLnB1c2gocG9wKHMpICsgXCJzY2FsZShcIiwgbnVsbCwgXCIsXCIsIG51bGwsIFwiKVwiKTtcbiAgICAgIHEucHVzaCh7aTogaSAtIDQsIHg6IG51bWJlcih4YSwgeGIpfSwge2k6IGkgLSAyLCB4OiBudW1iZXIoeWEsIHliKX0pO1xuICAgIH0gZWxzZSBpZiAoeGIgIT09IDEgfHwgeWIgIT09IDEpIHtcbiAgICAgIHMucHVzaChwb3AocykgKyBcInNjYWxlKFwiICsgeGIgKyBcIixcIiArIHliICsgXCIpXCIpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG4gICAgdmFyIHMgPSBbXSwgLy8gc3RyaW5nIGNvbnN0YW50cyBhbmQgcGxhY2Vob2xkZXJzXG4gICAgICAgIHEgPSBbXTsgLy8gbnVtYmVyIGludGVycG9sYXRvcnNcbiAgICBhID0gcGFyc2UoYSksIGIgPSBwYXJzZShiKTtcbiAgICB0cmFuc2xhdGUoYS50cmFuc2xhdGVYLCBhLnRyYW5zbGF0ZVksIGIudHJhbnNsYXRlWCwgYi50cmFuc2xhdGVZLCBzLCBxKTtcbiAgICByb3RhdGUoYS5yb3RhdGUsIGIucm90YXRlLCBzLCBxKTtcbiAgICBza2V3WChhLnNrZXdYLCBiLnNrZXdYLCBzLCBxKTtcbiAgICBzY2FsZShhLnNjYWxlWCwgYS5zY2FsZVksIGIuc2NhbGVYLCBiLnNjYWxlWSwgcywgcSk7XG4gICAgYSA9IGIgPSBudWxsOyAvLyBnY1xuICAgIHJldHVybiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgaSA9IC0xLCBuID0gcS5sZW5ndGgsIG87XG4gICAgICB3aGlsZSAoKytpIDwgbikgc1sobyA9IHFbaV0pLmldID0gby54KHQpO1xuICAgICAgcmV0dXJuIHMuam9pbihcIlwiKTtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtQ3NzID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VDc3MsIFwicHgsIFwiLCBcInB4KVwiLCBcImRlZylcIik7XG5leHBvcnQgdmFyIGludGVycG9sYXRlVHJhbnNmb3JtU3ZnID0gaW50ZXJwb2xhdGVUcmFuc2Zvcm0ocGFyc2VTdmcsIFwiLCBcIiwgXCIpXCIsIFwiKVwiKTtcbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIHR3ZWVuUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzY2hlZHVsZSA9IHNldCh0aGlzLCBpZCksXG4gICAgICAgIHR3ZWVuID0gc2NoZWR1bGUudHdlZW47XG5cbiAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIHR3ZWVuIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIHR3ZWVuIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmICh0d2VlbiAhPT0gdHdlZW4wKSB7XG4gICAgICB0d2VlbjEgPSB0d2VlbjAgPSB0d2VlbjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdHdlZW4xLmxlbmd0aDsgaSA8IG47ICsraSkge1xuICAgICAgICBpZiAodHdlZW4xW2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICB0d2VlbjEgPSB0d2VlbjEuc2xpY2UoKTtcbiAgICAgICAgICB0d2VlbjEuc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2NoZWR1bGUudHdlZW4gPSB0d2VlbjE7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHR3ZWVuRnVuY3Rpb24oaWQsIG5hbWUsIHZhbHVlKSB7XG4gIHZhciB0d2VlbjAsIHR3ZWVuMTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzZXQodGhpcywgaWQpLFxuICAgICAgICB0d2VlbiA9IHNjaGVkdWxlLnR3ZWVuO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCB0d2VlbiB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCB0d2VlbiBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAodHdlZW4gIT09IHR3ZWVuMCkge1xuICAgICAgdHdlZW4xID0gKHR3ZWVuMCA9IHR3ZWVuKS5zbGljZSgpO1xuICAgICAgZm9yICh2YXIgdCA9IHtuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9LCBpID0gMCwgbiA9IHR3ZWVuMS5sZW5ndGg7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgaWYgKHR3ZWVuMVtpXS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgdHdlZW4xW2ldID0gdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IG4pIHR3ZWVuMS5wdXNoKHQpO1xuICAgIH1cblxuICAgIHNjaGVkdWxlLnR3ZWVuID0gdHdlZW4xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICBuYW1lICs9IFwiXCI7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSB7XG4gICAgdmFyIHR3ZWVuID0gZ2V0KHRoaXMubm9kZSgpLCBpZCkudHdlZW47XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSB0d2Vlbi5sZW5ndGgsIHQ7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgodCA9IHR3ZWVuW2ldKS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgIHJldHVybiB0LnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmVhY2goKHZhbHVlID09IG51bGwgPyB0d2VlblJlbW92ZSA6IHR3ZWVuRnVuY3Rpb24pKGlkLCBuYW1lLCB2YWx1ZSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHdlZW5WYWx1ZSh0cmFuc2l0aW9uLCBuYW1lLCB2YWx1ZSkge1xuICB2YXIgaWQgPSB0cmFuc2l0aW9uLl9pZDtcblxuICB0cmFuc2l0aW9uLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKTtcbiAgICAoc2NoZWR1bGUudmFsdWUgfHwgKHNjaGVkdWxlLnZhbHVlID0ge30pKVtuYW1lXSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH0pO1xuXG4gIHJldHVybiBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIGdldChub2RlLCBpZCkudmFsdWVbbmFtZV07XG4gIH07XG59XG4iLCJpbXBvcnQge2NvbG9yfSBmcm9tIFwiZDMtY29sb3JcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGVOdW1iZXIsIGludGVycG9sYXRlUmdiLCBpbnRlcnBvbGF0ZVN0cmluZ30gZnJvbSBcImQzLWludGVycG9sYXRlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGM7XG4gIHJldHVybiAodHlwZW9mIGIgPT09IFwibnVtYmVyXCIgPyBpbnRlcnBvbGF0ZU51bWJlclxuICAgICAgOiBiIGluc3RhbmNlb2YgY29sb3IgPyBpbnRlcnBvbGF0ZVJnYlxuICAgICAgOiAoYyA9IGNvbG9yKGIpKSA/IChiID0gYywgaW50ZXJwb2xhdGVSZ2IpXG4gICAgICA6IGludGVycG9sYXRlU3RyaW5nKShhLCBiKTtcbn1cbiIsImZ1bmN0aW9uIHJlbW92ZUZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnROb2RlO1xuICAgIGZvciAodmFyIGkgaW4gdGhpcy5fX3RyYW5zaXRpb24pIGlmICgraSAhPT0gaWQpIHJldHVybjtcbiAgICBpZiAocGFyZW50KSBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5vbihcImVuZC5yZW1vdmVcIiwgcmVtb3ZlRnVuY3Rpb24odGhpcy5faWQpKTtcbn1cbiIsImltcG9ydCB7c2VsZWN0aW9ufSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5cbnZhciBTZWxlY3Rpb24gPSBzZWxlY3Rpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5fZ3JvdXBzLCB0aGlzLl9wYXJlbnRzKTtcbn1cbiIsImltcG9ydCB7aW50ZXJwb2xhdGVUcmFuc2Zvcm1Dc3MgYXMgaW50ZXJwb2xhdGVUcmFuc2Zvcm19IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtzdHlsZX0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gc3R5bGVOdWxsKG5hbWUsIGludGVycG9sYXRlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgc3RyaW5nMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHN0cmluZzEwID0gc3RyaW5nMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlUmVtb3ZlKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3R5bGUucmVtb3ZlUHJvcGVydHkobmFtZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlQ29uc3RhbnQobmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlMSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIixcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwID0gc3R5bGUodGhpcywgbmFtZSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHN0eWxlRnVuY3Rpb24obmFtZSwgaW50ZXJwb2xhdGUsIHZhbHVlKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEwLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSBzdHlsZSh0aGlzLCBuYW1lKSxcbiAgICAgICAgdmFsdWUxID0gdmFsdWUodGhpcyksXG4gICAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiO1xuICAgIGlmICh2YWx1ZTEgPT0gbnVsbCkgc3RyaW5nMSA9IHZhbHVlMSA9ICh0aGlzLnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpLCBzdHlsZSh0aGlzLCBuYW1lKSk7XG4gICAgcmV0dXJuIHN0cmluZzAgPT09IHN0cmluZzEgPyBudWxsXG4gICAgICAgIDogc3RyaW5nMCA9PT0gc3RyaW5nMDAgJiYgc3RyaW5nMSA9PT0gc3RyaW5nMTAgPyBpbnRlcnBvbGF0ZTBcbiAgICAgICAgOiAoc3RyaW5nMTAgPSBzdHJpbmcxLCBpbnRlcnBvbGF0ZTAgPSBpbnRlcnBvbGF0ZShzdHJpbmcwMCA9IHN0cmluZzAsIHZhbHVlMSkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZU1heWJlUmVtb3ZlKGlkLCBuYW1lKSB7XG4gIHZhciBvbjAsIG9uMSwgbGlzdGVuZXIwLCBrZXkgPSBcInN0eWxlLlwiICsgbmFtZSwgZXZlbnQgPSBcImVuZC5cIiArIGtleSwgcmVtb3ZlO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgb24gPSBzY2hlZHVsZS5vbixcbiAgICAgICAgbGlzdGVuZXIgPSBzY2hlZHVsZS52YWx1ZVtrZXldID09IG51bGwgPyByZW1vdmUgfHwgKHJlbW92ZSA9IHN0eWxlUmVtb3ZlKG5hbWUpKSA6IHVuZGVmaW5lZDtcblxuICAgIC8vIElmIHRoaXMgbm9kZSBzaGFyZWQgYSBkaXNwYXRjaCB3aXRoIHRoZSBwcmV2aW91cyBub2RlLFxuICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgIC8vIE90aGVyd2lzZSwgY29weS1vbi13cml0ZS5cbiAgICBpZiAob24gIT09IG9uMCB8fCBsaXN0ZW5lcjAgIT09IGxpc3RlbmVyKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKGV2ZW50LCBsaXN0ZW5lcjAgPSBsaXN0ZW5lcik7XG5cbiAgICBzY2hlZHVsZS5vbiA9IG9uMTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUsIHByaW9yaXR5KSB7XG4gIHZhciBpID0gKG5hbWUgKz0gXCJcIikgPT09IFwidHJhbnNmb3JtXCIgPyBpbnRlcnBvbGF0ZVRyYW5zZm9ybSA6IGludGVycG9sYXRlO1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlTnVsbChuYW1lLCBpKSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIHN0eWxlUmVtb3ZlKG5hbWUpKVxuICAgIDogdHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyB0aGlzXG4gICAgICAuc3R5bGVUd2VlbihuYW1lLCBzdHlsZUZ1bmN0aW9uKG5hbWUsIGksIHR3ZWVuVmFsdWUodGhpcywgXCJzdHlsZS5cIiArIG5hbWUsIHZhbHVlKSkpXG4gICAgICAuZWFjaChzdHlsZU1heWJlUmVtb3ZlKHRoaXMuX2lkLCBuYW1lKSlcbiAgICA6IHRoaXNcbiAgICAgIC5zdHlsZVR3ZWVuKG5hbWUsIHN0eWxlQ29uc3RhbnQobmFtZSwgaSwgdmFsdWUpLCBwcmlvcml0eSlcbiAgICAgIC5vbihcImVuZC5zdHlsZS5cIiArIG5hbWUsIG51bGwpO1xufVxuIiwiZnVuY3Rpb24gdGV4dEludGVycG9sYXRlKGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gaS5jYWxsKHRoaXMsIHQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiB0ZXh0VHdlZW4odmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiB0ZXh0SW50ZXJwb2xhdGUoaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBrZXkgPSBcInRleHRcIjtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHRleHRUd2Vlbih2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3Rpb259IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB0cmFuc2l0aW9uX2F0dHIgZnJvbSBcIi4vYXR0ci5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fYXR0clR3ZWVuIGZyb20gXCIuL2F0dHJUd2Vlbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fZGVsYXkgZnJvbSBcIi4vZGVsYXkuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2R1cmF0aW9uIGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lYXNlIGZyb20gXCIuL2Vhc2UuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX2ZpbHRlciBmcm9tIFwiLi9maWx0ZXIuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX21lcmdlIGZyb20gXCIuL21lcmdlLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9vbiBmcm9tIFwiLi9vbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fcmVtb3ZlIGZyb20gXCIuL3JlbW92ZS5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc2VsZWN0IGZyb20gXCIuL3NlbGVjdC5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc2VsZWN0QWxsIGZyb20gXCIuL3NlbGVjdEFsbC5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc2VsZWN0aW9uIGZyb20gXCIuL3NlbGVjdGlvbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fc3R5bGUgZnJvbSBcIi4vc3R5bGUuanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3N0eWxlVHdlZW4gZnJvbSBcIi4vc3R5bGVUd2Vlbi5qc1wiO1xuaW1wb3J0IHRyYW5zaXRpb25fdGV4dCBmcm9tIFwiLi90ZXh0LmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90ZXh0VHdlZW4gZnJvbSBcIi4vdGV4dFR3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl90cmFuc2l0aW9uIGZyb20gXCIuL3RyYW5zaXRpb24uanNcIjtcbmltcG9ydCB0cmFuc2l0aW9uX3R3ZWVuIGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgdHJhbnNpdGlvbl9lbmQgZnJvbSBcIi4vZW5kLmpzXCI7XG5cbnZhciBpZCA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2l0aW9uKGdyb3VwcywgcGFyZW50cywgbmFtZSwgaWQpIHtcbiAgdGhpcy5fZ3JvdXBzID0gZ3JvdXBzO1xuICB0aGlzLl9wYXJlbnRzID0gcGFyZW50cztcbiAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gIHRoaXMuX2lkID0gaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zaXRpb24obmFtZSkge1xuICByZXR1cm4gc2VsZWN0aW9uKCkudHJhbnNpdGlvbihuYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5ld0lkKCkge1xuICByZXR1cm4gKytpZDtcbn1cblxudmFyIHNlbGVjdGlvbl9wcm90b3R5cGUgPSBzZWxlY3Rpb24ucHJvdG90eXBlO1xuXG5UcmFuc2l0aW9uLnByb3RvdHlwZSA9IHRyYW5zaXRpb24ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogVHJhbnNpdGlvbixcbiAgc2VsZWN0OiB0cmFuc2l0aW9uX3NlbGVjdCxcbiAgc2VsZWN0QWxsOiB0cmFuc2l0aW9uX3NlbGVjdEFsbCxcbiAgZmlsdGVyOiB0cmFuc2l0aW9uX2ZpbHRlcixcbiAgbWVyZ2U6IHRyYW5zaXRpb25fbWVyZ2UsXG4gIHNlbGVjdGlvbjogdHJhbnNpdGlvbl9zZWxlY3Rpb24sXG4gIHRyYW5zaXRpb246IHRyYW5zaXRpb25fdHJhbnNpdGlvbixcbiAgY2FsbDogc2VsZWN0aW9uX3Byb3RvdHlwZS5jYWxsLFxuICBub2Rlczogc2VsZWN0aW9uX3Byb3RvdHlwZS5ub2RlcyxcbiAgbm9kZTogc2VsZWN0aW9uX3Byb3RvdHlwZS5ub2RlLFxuICBzaXplOiBzZWxlY3Rpb25fcHJvdG90eXBlLnNpemUsXG4gIGVtcHR5OiBzZWxlY3Rpb25fcHJvdG90eXBlLmVtcHR5LFxuICBlYWNoOiBzZWxlY3Rpb25fcHJvdG90eXBlLmVhY2gsXG4gIG9uOiB0cmFuc2l0aW9uX29uLFxuICBhdHRyOiB0cmFuc2l0aW9uX2F0dHIsXG4gIGF0dHJUd2VlbjogdHJhbnNpdGlvbl9hdHRyVHdlZW4sXG4gIHN0eWxlOiB0cmFuc2l0aW9uX3N0eWxlLFxuICBzdHlsZVR3ZWVuOiB0cmFuc2l0aW9uX3N0eWxlVHdlZW4sXG4gIHRleHQ6IHRyYW5zaXRpb25fdGV4dCxcbiAgdGV4dFR3ZWVuOiB0cmFuc2l0aW9uX3RleHRUd2VlbixcbiAgcmVtb3ZlOiB0cmFuc2l0aW9uX3JlbW92ZSxcbiAgdHdlZW46IHRyYW5zaXRpb25fdHdlZW4sXG4gIGRlbGF5OiB0cmFuc2l0aW9uX2RlbGF5LFxuICBkdXJhdGlvbjogdHJhbnNpdGlvbl9kdXJhdGlvbixcbiAgZWFzZTogdHJhbnNpdGlvbl9lYXNlLFxuICBlbmQ6IHRyYW5zaXRpb25fZW5kXG59O1xuIiwiaW1wb3J0IHtzZWxlY3Rvcn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNjaGVkdWxlLCB7Z2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgdmFyIG5hbWUgPSB0aGlzLl9uYW1lLFxuICAgICAgaWQgPSB0aGlzLl9pZDtcblxuICBpZiAodHlwZW9mIHNlbGVjdCAhPT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBzZWxlY3RvcihzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBuZXcgQXJyYXkobiksIG5vZGUsIHN1Ym5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKG5vZGUgPSBncm91cFtpXSkgJiYgKHN1Ym5vZGUgPSBzZWxlY3QuY2FsbChub2RlLCBub2RlLl9fZGF0YV9fLCBpLCBncm91cCkpKSB7XG4gICAgICAgIGlmIChcIl9fZGF0YV9fXCIgaW4gbm9kZSkgc3Vibm9kZS5fX2RhdGFfXyA9IG5vZGUuX19kYXRhX187XG4gICAgICAgIHN1Ymdyb3VwW2ldID0gc3Vibm9kZTtcbiAgICAgICAgc2NoZWR1bGUoc3ViZ3JvdXBbaV0sIG5hbWUsIGlkLCBpLCBzdWJncm91cCwgZ2V0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKHN1Ymdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiaW1wb3J0IHtzZWxlY3RvckFsbH0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHtUcmFuc2l0aW9ufSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHNjaGVkdWxlLCB7Z2V0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWxlY3QpIHtcbiAgdmFyIG5hbWUgPSB0aGlzLl9uYW1lLFxuICAgICAgaWQgPSB0aGlzLl9pZDtcblxuICBpZiAodHlwZW9mIHNlbGVjdCAhPT0gXCJmdW5jdGlvblwiKSBzZWxlY3QgPSBzZWxlY3RvckFsbChzZWxlY3QpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IFtdLCBwYXJlbnRzID0gW10sIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAgPSBncm91cHNbal0sIG4gPSBncm91cC5sZW5ndGgsIG5vZGUsIGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAobm9kZSA9IGdyb3VwW2ldKSB7XG4gICAgICAgIGZvciAodmFyIGNoaWxkcmVuID0gc2VsZWN0LmNhbGwobm9kZSwgbm9kZS5fX2RhdGFfXywgaSwgZ3JvdXApLCBjaGlsZCwgaW5oZXJpdCA9IGdldChub2RlLCBpZCksIGsgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBrIDwgbDsgKytrKSB7XG4gICAgICAgICAgaWYgKGNoaWxkID0gY2hpbGRyZW5ba10pIHtcbiAgICAgICAgICAgIHNjaGVkdWxlKGNoaWxkLCBuYW1lLCBpZCwgaywgY2hpbGRyZW4sIGluaGVyaXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdWJncm91cHMucHVzaChjaGlsZHJlbik7XG4gICAgICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFRyYW5zaXRpb24oc3ViZ3JvdXBzLCBwYXJlbnRzLCBuYW1lLCBpZCk7XG59XG4iLCJpbXBvcnQge21hdGNoZXJ9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcbmltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obWF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBtYXRjaCAhPT0gXCJmdW5jdGlvblwiKSBtYXRjaCA9IG1hdGNoZXIobWF0Y2gpO1xuXG4gIGZvciAodmFyIGdyb3VwcyA9IHRoaXMuX2dyb3VwcywgbSA9IGdyb3Vwcy5sZW5ndGgsIHN1Ymdyb3VwcyA9IG5ldyBBcnJheShtKSwgaiA9IDA7IGogPCBtOyArK2opIHtcbiAgICBmb3IgKHZhciBncm91cCA9IGdyb3Vwc1tqXSwgbiA9IGdyb3VwLmxlbmd0aCwgc3ViZ3JvdXAgPSBzdWJncm91cHNbal0gPSBbXSwgbm9kZSwgaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgIGlmICgobm9kZSA9IGdyb3VwW2ldKSAmJiBtYXRjaC5jYWxsKG5vZGUsIG5vZGUuX19kYXRhX18sIGksIGdyb3VwKSkge1xuICAgICAgICBzdWJncm91cC5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihzdWJncm91cHMsIHRoaXMuX3BhcmVudHMsIHRoaXMuX25hbWUsIHRoaXMuX2lkKTtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbn0gZnJvbSBcIi4vaW5kZXguanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odHJhbnNpdGlvbikge1xuICBpZiAodHJhbnNpdGlvbi5faWQgIT09IHRoaXMuX2lkKSB0aHJvdyBuZXcgRXJyb3I7XG5cbiAgZm9yICh2YXIgZ3JvdXBzMCA9IHRoaXMuX2dyb3VwcywgZ3JvdXBzMSA9IHRyYW5zaXRpb24uX2dyb3VwcywgbTAgPSBncm91cHMwLmxlbmd0aCwgbTEgPSBncm91cHMxLmxlbmd0aCwgbSA9IE1hdGgubWluKG0wLCBtMSksIG1lcmdlcyA9IG5ldyBBcnJheShtMCksIGogPSAwOyBqIDwgbTsgKytqKSB7XG4gICAgZm9yICh2YXIgZ3JvdXAwID0gZ3JvdXBzMFtqXSwgZ3JvdXAxID0gZ3JvdXBzMVtqXSwgbiA9IGdyb3VwMC5sZW5ndGgsIG1lcmdlID0gbWVyZ2VzW2pdID0gbmV3IEFycmF5KG4pLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cDBbaV0gfHwgZ3JvdXAxW2ldKSB7XG4gICAgICAgIG1lcmdlW2ldID0gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmb3IgKDsgaiA8IG0wOyArK2opIHtcbiAgICBtZXJnZXNbal0gPSBncm91cHMwW2pdO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKG1lcmdlcywgdGhpcy5fcGFyZW50cywgdGhpcy5fbmFtZSwgdGhpcy5faWQpO1xufVxuIiwiaW1wb3J0IHtUcmFuc2l0aW9uLCBuZXdJZH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCBzY2hlZHVsZSwge2dldH0gZnJvbSBcIi4vc2NoZWR1bGUuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBuYW1lID0gdGhpcy5fbmFtZSxcbiAgICAgIGlkMCA9IHRoaXMuX2lkLFxuICAgICAgaWQxID0gbmV3SWQoKTtcblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICB2YXIgaW5oZXJpdCA9IGdldChub2RlLCBpZDApO1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZDEsIGksIGdyb3VwLCB7XG4gICAgICAgICAgdGltZTogaW5oZXJpdC50aW1lICsgaW5oZXJpdC5kZWxheSArIGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZGVsYXk6IDAsXG4gICAgICAgICAgZHVyYXRpb246IGluaGVyaXQuZHVyYXRpb24sXG4gICAgICAgICAgZWFzZTogaW5oZXJpdC5lYXNlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgVHJhbnNpdGlvbihncm91cHMsIHRoaXMuX3BhcmVudHMsIG5hbWUsIGlkMSk7XG59XG4iLCJpbXBvcnQge2dldCwgc2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBzdGFydChuYW1lKSB7XG4gIHJldHVybiAobmFtZSArIFwiXCIpLnRyaW0oKS5zcGxpdCgvXnxcXHMrLykuZXZlcnkoZnVuY3Rpb24odCkge1xuICAgIHZhciBpID0gdC5pbmRleE9mKFwiLlwiKTtcbiAgICBpZiAoaSA+PSAwKSB0ID0gdC5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gIXQgfHwgdCA9PT0gXCJzdGFydFwiO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb25GdW5jdGlvbihpZCwgbmFtZSwgbGlzdGVuZXIpIHtcbiAgdmFyIG9uMCwgb24xLCBzaXQgPSBzdGFydChuYW1lKSA/IGluaXQgOiBzZXQ7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2NoZWR1bGUgPSBzaXQodGhpcywgaWQpLFxuICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgLy8gSWYgdGhpcyBub2RlIHNoYXJlZCBhIGRpc3BhdGNoIHdpdGggdGhlIHByZXZpb3VzIG5vZGUsXG4gICAgLy8ganVzdCBhc3NpZ24gdGhlIHVwZGF0ZWQgc2hhcmVkIGRpc3BhdGNoIGFuZCB3ZeKAmXJlIGRvbmUhXG4gICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgIGlmIChvbiAhPT0gb24wKSAob24xID0gKG9uMCA9IG9uKS5jb3B5KCkpLm9uKG5hbWUsIGxpc3RlbmVyKTtcblxuICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCBsaXN0ZW5lcikge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA8IDJcbiAgICAgID8gZ2V0KHRoaXMubm9kZSgpLCBpZCkub24ub24obmFtZSlcbiAgICAgIDogdGhpcy5lYWNoKG9uRnVuY3Rpb24oaWQsIG5hbWUsIGxpc3RlbmVyKSk7XG59XG4iLCJpbXBvcnQge2ludGVycG9sYXRlVHJhbnNmb3JtU3ZnIGFzIGludGVycG9sYXRlVHJhbnNmb3JtfSBmcm9tIFwiZDMtaW50ZXJwb2xhdGVcIjtcbmltcG9ydCB7bmFtZXNwYWNlfSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge3R3ZWVuVmFsdWV9IGZyb20gXCIuL3R3ZWVuLmpzXCI7XG5pbXBvcnQgaW50ZXJwb2xhdGUgZnJvbSBcIi4vaW50ZXJwb2xhdGUuanNcIjtcblxuZnVuY3Rpb24gYXR0clJlbW92ZShuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0clJlbW92ZU5TKGZ1bGxuYW1lKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJDb25zdGFudChuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUxKSB7XG4gIHZhciBzdHJpbmcwMCxcbiAgICAgIHN0cmluZzEgPSB2YWx1ZTEgKyBcIlwiLFxuICAgICAgaW50ZXJwb2xhdGUwO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckNvbnN0YW50TlMoZnVsbG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZTEpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMSA9IHZhbHVlMSArIFwiXCIsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYXR0ckZ1bmN0aW9uKG5hbWUsIGludGVycG9sYXRlLCB2YWx1ZSkge1xuICB2YXIgc3RyaW5nMDAsXG4gICAgICBzdHJpbmcxMCxcbiAgICAgIGludGVycG9sYXRlMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdHJpbmcwLCB2YWx1ZTEgPSB2YWx1ZSh0aGlzKSwgc3RyaW5nMTtcbiAgICBpZiAodmFsdWUxID09IG51bGwpIHJldHVybiB2b2lkIHRoaXMucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIHN0cmluZzAgPSB0aGlzLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIjtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGF0dHJGdW5jdGlvbk5TKGZ1bGxuYW1lLCBpbnRlcnBvbGF0ZSwgdmFsdWUpIHtcbiAgdmFyIHN0cmluZzAwLFxuICAgICAgc3RyaW5nMTAsXG4gICAgICBpbnRlcnBvbGF0ZTA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RyaW5nMCwgdmFsdWUxID0gdmFsdWUodGhpcyksIHN0cmluZzE7XG4gICAgaWYgKHZhbHVlMSA9PSBudWxsKSByZXR1cm4gdm9pZCB0aGlzLnJlbW92ZUF0dHJpYnV0ZU5TKGZ1bGxuYW1lLnNwYWNlLCBmdWxsbmFtZS5sb2NhbCk7XG4gICAgc3RyaW5nMCA9IHRoaXMuZ2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsKTtcbiAgICBzdHJpbmcxID0gdmFsdWUxICsgXCJcIjtcbiAgICByZXR1cm4gc3RyaW5nMCA9PT0gc3RyaW5nMSA/IG51bGxcbiAgICAgICAgOiBzdHJpbmcwID09PSBzdHJpbmcwMCAmJiBzdHJpbmcxID09PSBzdHJpbmcxMCA/IGludGVycG9sYXRlMFxuICAgICAgICA6IChzdHJpbmcxMCA9IHN0cmluZzEsIGludGVycG9sYXRlMCA9IGludGVycG9sYXRlKHN0cmluZzAwID0gc3RyaW5nMCwgdmFsdWUxKSk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHZhciBmdWxsbmFtZSA9IG5hbWVzcGFjZShuYW1lKSwgaSA9IGZ1bGxuYW1lID09PSBcInRyYW5zZm9ybVwiID8gaW50ZXJwb2xhdGVUcmFuc2Zvcm0gOiBpbnRlcnBvbGF0ZTtcbiAgcmV0dXJuIHRoaXMuYXR0clR3ZWVuKG5hbWUsIHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICA/IChmdWxsbmFtZS5sb2NhbCA/IGF0dHJGdW5jdGlvbk5TIDogYXR0ckZ1bmN0aW9uKShmdWxsbmFtZSwgaSwgdHdlZW5WYWx1ZSh0aGlzLCBcImF0dHIuXCIgKyBuYW1lLCB2YWx1ZSkpXG4gICAgICA6IHZhbHVlID09IG51bGwgPyAoZnVsbG5hbWUubG9jYWwgPyBhdHRyUmVtb3ZlTlMgOiBhdHRyUmVtb3ZlKShmdWxsbmFtZSlcbiAgICAgIDogKGZ1bGxuYW1lLmxvY2FsID8gYXR0ckNvbnN0YW50TlMgOiBhdHRyQ29uc3RhbnQpKGZ1bGxuYW1lLCBpLCB2YWx1ZSkpO1xufVxuIiwiaW1wb3J0IHtuYW1lc3BhY2V9IGZyb20gXCJkMy1zZWxlY3Rpb25cIjtcblxuZnVuY3Rpb24gYXR0ckludGVycG9sYXRlKG5hbWUsIGkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCBpLmNhbGwodGhpcywgdCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSkge1xuICByZXR1cm4gZnVuY3Rpb24odCkge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlTlMoZnVsbG5hbWUuc3BhY2UsIGZ1bGxuYW1lLmxvY2FsLCBpLmNhbGwodGhpcywgdCkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBhdHRyVHdlZW5OUyhmdWxsbmFtZSwgdmFsdWUpIHtcbiAgdmFyIHQwLCBpMDtcbiAgZnVuY3Rpb24gdHdlZW4oKSB7XG4gICAgdmFyIGkgPSB2YWx1ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIGlmIChpICE9PSBpMCkgdDAgPSAoaTAgPSBpKSAmJiBhdHRySW50ZXJwb2xhdGVOUyhmdWxsbmFtZSwgaSk7XG4gICAgcmV0dXJuIHQwO1xuICB9XG4gIHR3ZWVuLl92YWx1ZSA9IHZhbHVlO1xuICByZXR1cm4gdHdlZW47XG59XG5cbmZ1bmN0aW9uIGF0dHJUd2VlbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgdDAsIGkwO1xuICBmdW5jdGlvbiB0d2VlbigpIHtcbiAgICB2YXIgaSA9IHZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKGkgIT09IGkwKSB0MCA9IChpMCA9IGkpICYmIGF0dHJJbnRlcnBvbGF0ZShuYW1lLCBpKTtcbiAgICByZXR1cm4gdDA7XG4gIH1cbiAgdHdlZW4uX3ZhbHVlID0gdmFsdWU7XG4gIHJldHVybiB0d2Vlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGtleSA9IFwiYXR0ci5cIiArIG5hbWU7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIChrZXkgPSB0aGlzLnR3ZWVuKGtleSkpICYmIGtleS5fdmFsdWU7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gdGhpcy50d2VlbihrZXksIG51bGwpO1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcjtcbiAgdmFyIGZ1bGxuYW1lID0gbmFtZXNwYWNlKG5hbWUpO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIChmdWxsbmFtZS5sb2NhbCA/IGF0dHJUd2Vlbk5TIDogYXR0clR3ZWVuKShmdWxsbmFtZSwgdmFsdWUpKTtcbn1cbiIsImZ1bmN0aW9uIHN0eWxlSW50ZXJwb2xhdGUobmFtZSwgaSwgcHJpb3JpdHkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQpIHtcbiAgICB0aGlzLnN0eWxlLnNldFByb3BlcnR5KG5hbWUsIGkuY2FsbCh0aGlzLCB0KSwgcHJpb3JpdHkpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzdHlsZVR3ZWVuKG5hbWUsIHZhbHVlLCBwcmlvcml0eSkge1xuICB2YXIgdCwgaTA7XG4gIGZ1bmN0aW9uIHR3ZWVuKCkge1xuICAgIHZhciBpID0gdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICBpZiAoaSAhPT0gaTApIHQgPSAoaTAgPSBpKSAmJiBzdHlsZUludGVycG9sYXRlKG5hbWUsIGksIHByaW9yaXR5KTtcbiAgICByZXR1cm4gdDtcbiAgfVxuICB0d2Vlbi5fdmFsdWUgPSB2YWx1ZTtcbiAgcmV0dXJuIHR3ZWVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgcHJpb3JpdHkpIHtcbiAgdmFyIGtleSA9IFwic3R5bGUuXCIgKyAobmFtZSArPSBcIlwiKTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gKGtleSA9IHRoaXMudHdlZW4oa2V5KSkgJiYga2V5Ll92YWx1ZTtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB0aGlzLnR3ZWVuKGtleSwgbnVsbCk7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IEVycm9yO1xuICByZXR1cm4gdGhpcy50d2VlbihrZXksIHN0eWxlVHdlZW4obmFtZSwgdmFsdWUsIHByaW9yaXR5ID09IG51bGwgPyBcIlwiIDogcHJpb3JpdHkpKTtcbn1cbiIsImltcG9ydCB7dHdlZW5WYWx1ZX0gZnJvbSBcIi4vdHdlZW4uanNcIjtcblxuZnVuY3Rpb24gdGV4dENvbnN0YW50KHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRleHRGdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbHVlMSA9IHZhbHVlKHRoaXMpO1xuICAgIHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTEgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZTE7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLnR3ZWVuKFwidGV4dFwiLCB0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgPyB0ZXh0RnVuY3Rpb24odHdlZW5WYWx1ZSh0aGlzLCBcInRleHRcIiwgdmFsdWUpKVxuICAgICAgOiB0ZXh0Q29uc3RhbnQodmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCIpKTtcbn1cbiIsImltcG9ydCB7Z2V0LCBpbml0fSBmcm9tIFwiLi9zY2hlZHVsZS5qc1wiO1xuXG5mdW5jdGlvbiBkZWxheUZ1bmN0aW9uKGlkLCB2YWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaW5pdCh0aGlzLCBpZCkuZGVsYXkgPSArdmFsdWUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVsYXlDb25zdGFudChpZCwgdmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID0gK3ZhbHVlLCBmdW5jdGlvbigpIHtcbiAgICBpbml0KHRoaXMsIGlkKS5kZWxheSA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBkZWxheUZ1bmN0aW9uXG4gICAgICAgICAgOiBkZWxheUNvbnN0YW50KShpZCwgdmFsdWUpKVxuICAgICAgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5kZWxheTtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGR1cmF0aW9uRnVuY3Rpb24oaWQsIHZhbHVlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmR1cmF0aW9uID0gK3ZhbHVlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGR1cmF0aW9uQ29uc3RhbnQoaWQsIHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9ICt2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgc2V0KHRoaXMsIGlkKS5kdXJhdGlvbiA9IHZhbHVlO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaWQgPSB0aGlzLl9pZDtcblxuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmVhY2goKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICAgPyBkdXJhdGlvbkZ1bmN0aW9uXG4gICAgICAgICAgOiBkdXJhdGlvbkNvbnN0YW50KShpZCwgdmFsdWUpKVxuICAgICAgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5kdXJhdGlvbjtcbn1cbiIsImltcG9ydCB7Z2V0LCBzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmZ1bmN0aW9uIGVhc2VDb25zdGFudChpZCwgdmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3I7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBzZXQodGhpcywgaWQpLmVhc2UgPSB2YWx1ZTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGlkID0gdGhpcy5faWQ7XG5cbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAgID8gdGhpcy5lYWNoKGVhc2VDb25zdGFudChpZCwgdmFsdWUpKVxuICAgICAgOiBnZXQodGhpcy5ub2RlKCksIGlkKS5lYXNlO1xufVxuIiwiaW1wb3J0IHtzZXR9IGZyb20gXCIuL3NjaGVkdWxlLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgb24wLCBvbjEsIHRoYXQgPSB0aGlzLCBpZCA9IHRoYXQuX2lkLCBzaXplID0gdGhhdC5zaXplKCk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgY2FuY2VsID0ge3ZhbHVlOiByZWplY3R9LFxuICAgICAgICBlbmQgPSB7dmFsdWU6IGZ1bmN0aW9uKCkgeyBpZiAoLS1zaXplID09PSAwKSByZXNvbHZlKCk7IH19O1xuXG4gICAgdGhhdC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNjaGVkdWxlID0gc2V0KHRoaXMsIGlkKSxcbiAgICAgICAgICBvbiA9IHNjaGVkdWxlLm9uO1xuXG4gICAgICAvLyBJZiB0aGlzIG5vZGUgc2hhcmVkIGEgZGlzcGF0Y2ggd2l0aCB0aGUgcHJldmlvdXMgbm9kZSxcbiAgICAgIC8vIGp1c3QgYXNzaWduIHRoZSB1cGRhdGVkIHNoYXJlZCBkaXNwYXRjaCBhbmQgd2XigJlyZSBkb25lIVxuICAgICAgLy8gT3RoZXJ3aXNlLCBjb3B5LW9uLXdyaXRlLlxuICAgICAgaWYgKG9uICE9PSBvbjApIHtcbiAgICAgICAgb24xID0gKG9uMCA9IG9uKS5jb3B5KCk7XG4gICAgICAgIG9uMS5fLmNhbmNlbC5wdXNoKGNhbmNlbCk7XG4gICAgICAgIG9uMS5fLmludGVycnVwdC5wdXNoKGNhbmNlbCk7XG4gICAgICAgIG9uMS5fLmVuZC5wdXNoKGVuZCk7XG4gICAgICB9XG5cbiAgICAgIHNjaGVkdWxlLm9uID0gb24xO1xuICAgIH0pO1xuICB9KTtcbn1cbiIsImltcG9ydCB7VHJhbnNpdGlvbiwgbmV3SWR9IGZyb20gXCIuLi90cmFuc2l0aW9uL2luZGV4LmpzXCI7XG5pbXBvcnQgc2NoZWR1bGUgZnJvbSBcIi4uL3RyYW5zaXRpb24vc2NoZWR1bGUuanNcIjtcbmltcG9ydCB7ZWFzZUN1YmljSW5PdXR9IGZyb20gXCJkMy1lYXNlXCI7XG5pbXBvcnQge25vd30gZnJvbSBcImQzLXRpbWVyXCI7XG5cbnZhciBkZWZhdWx0VGltaW5nID0ge1xuICB0aW1lOiBudWxsLCAvLyBTZXQgb24gdXNlLlxuICBkZWxheTogMCxcbiAgZHVyYXRpb246IDI1MCxcbiAgZWFzZTogZWFzZUN1YmljSW5PdXRcbn07XG5cbmZ1bmN0aW9uIGluaGVyaXQobm9kZSwgaWQpIHtcbiAgdmFyIHRpbWluZztcbiAgd2hpbGUgKCEodGltaW5nID0gbm9kZS5fX3RyYW5zaXRpb24pIHx8ICEodGltaW5nID0gdGltaW5nW2lkXSkpIHtcbiAgICBpZiAoIShub2RlID0gbm9kZS5wYXJlbnROb2RlKSkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRUaW1pbmcudGltZSA9IG5vdygpLCBkZWZhdWx0VGltaW5nO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGltaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBpZCxcbiAgICAgIHRpbWluZztcblxuICBpZiAobmFtZSBpbnN0YW5jZW9mIFRyYW5zaXRpb24pIHtcbiAgICBpZCA9IG5hbWUuX2lkLCBuYW1lID0gbmFtZS5fbmFtZTtcbiAgfSBlbHNlIHtcbiAgICBpZCA9IG5ld0lkKCksICh0aW1pbmcgPSBkZWZhdWx0VGltaW5nKS50aW1lID0gbm93KCksIG5hbWUgPSBuYW1lID09IG51bGwgPyBudWxsIDogbmFtZSArIFwiXCI7XG4gIH1cblxuICBmb3IgKHZhciBncm91cHMgPSB0aGlzLl9ncm91cHMsIG0gPSBncm91cHMubGVuZ3RoLCBqID0gMDsgaiA8IG07ICsraikge1xuICAgIGZvciAodmFyIGdyb3VwID0gZ3JvdXBzW2pdLCBuID0gZ3JvdXAubGVuZ3RoLCBub2RlLCBpID0gMDsgaSA8IG47ICsraSkge1xuICAgICAgaWYgKG5vZGUgPSBncm91cFtpXSkge1xuICAgICAgICBzY2hlZHVsZShub2RlLCBuYW1lLCBpZCwgaSwgZ3JvdXAsIHRpbWluZyB8fCBpbmhlcml0KG5vZGUsIGlkKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBUcmFuc2l0aW9uKGdyb3VwcywgdGhpcy5fcGFyZW50cywgbmFtZSwgaWQpO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGN1YmljSW4odCkge1xuICByZXR1cm4gdCAqIHQgKiB0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNPdXQodCkge1xuICByZXR1cm4gLS10ICogdCAqIHQgKyAxO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNJbk91dCh0KSB7XG4gIHJldHVybiAoKHQgKj0gMikgPD0gMSA/IHQgKiB0ICogdCA6ICh0IC09IDIpICogdCAqIHQgKyAyKSAvIDI7XG59XG4iLCJpbXBvcnQge3NlbGVjdGlvbn0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHNlbGVjdGlvbl9pbnRlcnJ1cHQgZnJvbSBcIi4vaW50ZXJydXB0LmpzXCI7XG5pbXBvcnQgc2VsZWN0aW9uX3RyYW5zaXRpb24gZnJvbSBcIi4vdHJhbnNpdGlvbi5qc1wiO1xuXG5zZWxlY3Rpb24ucHJvdG90eXBlLmludGVycnVwdCA9IHNlbGVjdGlvbl9pbnRlcnJ1cHQ7XG5zZWxlY3Rpb24ucHJvdG90eXBlLnRyYW5zaXRpb24gPSBzZWxlY3Rpb25fdHJhbnNpdGlvbjtcbiIsImltcG9ydCBpbnRlcnJ1cHQgZnJvbSBcIi4uL2ludGVycnVwdC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgaW50ZXJydXB0KHRoaXMsIG5hbWUpO1xuICB9KTtcbn1cbiIsImltcG9ydCB7ZGlzcGF0Y2h9IGZyb20gXCJkMy1kaXNwYXRjaFwiO1xuaW1wb3J0IHtkcmFnRGlzYWJsZSwgZHJhZ0VuYWJsZX0gZnJvbSBcImQzLWRyYWdcIjtcbmltcG9ydCB7aW50ZXJwb2xhdGV9IGZyb20gXCJkMy1pbnRlcnBvbGF0ZVwiO1xuaW1wb3J0IHtjdXN0b21FdmVudCwgZXZlbnQsIHRvdWNoLCBtb3VzZSwgc2VsZWN0fSBmcm9tIFwiZDMtc2VsZWN0aW9uXCI7XG5pbXBvcnQge2ludGVycnVwdH0gZnJvbSBcImQzLXRyYW5zaXRpb25cIjtcbmltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuaW1wb3J0IEJydXNoRXZlbnQgZnJvbSBcIi4vZXZlbnQuanNcIjtcbmltcG9ydCBub2V2ZW50LCB7bm9wcm9wYWdhdGlvbn0gZnJvbSBcIi4vbm9ldmVudC5qc1wiO1xuXG52YXIgTU9ERV9EUkFHID0ge25hbWU6IFwiZHJhZ1wifSxcbiAgICBNT0RFX1NQQUNFID0ge25hbWU6IFwic3BhY2VcIn0sXG4gICAgTU9ERV9IQU5ETEUgPSB7bmFtZTogXCJoYW5kbGVcIn0sXG4gICAgTU9ERV9DRU5URVIgPSB7bmFtZTogXCJjZW50ZXJcIn07XG5cbmZ1bmN0aW9uIG51bWJlcjEoZSkge1xuICByZXR1cm4gWytlWzBdLCArZVsxXV07XG59XG5cbmZ1bmN0aW9uIG51bWJlcjIoZSkge1xuICByZXR1cm4gW251bWJlcjEoZVswXSksIG51bWJlcjEoZVsxXSldO1xufVxuXG5mdW5jdGlvbiB0b3VjaGVyKGlkZW50aWZpZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgIHJldHVybiB0b3VjaCh0YXJnZXQsIGV2ZW50LnRvdWNoZXMsIGlkZW50aWZpZXIpO1xuICB9O1xufVxuXG52YXIgWCA9IHtcbiAgbmFtZTogXCJ4XCIsXG4gIGhhbmRsZXM6IFtcIndcIiwgXCJlXCJdLm1hcCh0eXBlKSxcbiAgaW5wdXQ6IGZ1bmN0aW9uKHgsIGUpIHsgcmV0dXJuIHggPT0gbnVsbCA/IG51bGwgOiBbWyt4WzBdLCBlWzBdWzFdXSwgWyt4WzFdLCBlWzFdWzFdXV07IH0sXG4gIG91dHB1dDogZnVuY3Rpb24oeHkpIHsgcmV0dXJuIHh5ICYmIFt4eVswXVswXSwgeHlbMV1bMF1dOyB9XG59O1xuXG52YXIgWSA9IHtcbiAgbmFtZTogXCJ5XCIsXG4gIGhhbmRsZXM6IFtcIm5cIiwgXCJzXCJdLm1hcCh0eXBlKSxcbiAgaW5wdXQ6IGZ1bmN0aW9uKHksIGUpIHsgcmV0dXJuIHkgPT0gbnVsbCA/IG51bGwgOiBbW2VbMF1bMF0sICt5WzBdXSwgW2VbMV1bMF0sICt5WzFdXV07IH0sXG4gIG91dHB1dDogZnVuY3Rpb24oeHkpIHsgcmV0dXJuIHh5ICYmIFt4eVswXVsxXSwgeHlbMV1bMV1dOyB9XG59O1xuXG52YXIgWFkgPSB7XG4gIG5hbWU6IFwieHlcIixcbiAgaGFuZGxlczogW1wiblwiLCBcIndcIiwgXCJlXCIsIFwic1wiLCBcIm53XCIsIFwibmVcIiwgXCJzd1wiLCBcInNlXCJdLm1hcCh0eXBlKSxcbiAgaW5wdXQ6IGZ1bmN0aW9uKHh5KSB7IHJldHVybiB4eSA9PSBudWxsID8gbnVsbCA6IG51bWJlcjIoeHkpOyB9LFxuICBvdXRwdXQ6IGZ1bmN0aW9uKHh5KSB7IHJldHVybiB4eTsgfVxufTtcblxudmFyIGN1cnNvcnMgPSB7XG4gIG92ZXJsYXk6IFwiY3Jvc3NoYWlyXCIsXG4gIHNlbGVjdGlvbjogXCJtb3ZlXCIsXG4gIG46IFwibnMtcmVzaXplXCIsXG4gIGU6IFwiZXctcmVzaXplXCIsXG4gIHM6IFwibnMtcmVzaXplXCIsXG4gIHc6IFwiZXctcmVzaXplXCIsXG4gIG53OiBcIm53c2UtcmVzaXplXCIsXG4gIG5lOiBcIm5lc3ctcmVzaXplXCIsXG4gIHNlOiBcIm53c2UtcmVzaXplXCIsXG4gIHN3OiBcIm5lc3ctcmVzaXplXCJcbn07XG5cbnZhciBmbGlwWCA9IHtcbiAgZTogXCJ3XCIsXG4gIHc6IFwiZVwiLFxuICBudzogXCJuZVwiLFxuICBuZTogXCJud1wiLFxuICBzZTogXCJzd1wiLFxuICBzdzogXCJzZVwiXG59O1xuXG52YXIgZmxpcFkgPSB7XG4gIG46IFwic1wiLFxuICBzOiBcIm5cIixcbiAgbnc6IFwic3dcIixcbiAgbmU6IFwic2VcIixcbiAgc2U6IFwibmVcIixcbiAgc3c6IFwibndcIlxufTtcblxudmFyIHNpZ25zWCA9IHtcbiAgb3ZlcmxheTogKzEsXG4gIHNlbGVjdGlvbjogKzEsXG4gIG46IG51bGwsXG4gIGU6ICsxLFxuICBzOiBudWxsLFxuICB3OiAtMSxcbiAgbnc6IC0xLFxuICBuZTogKzEsXG4gIHNlOiArMSxcbiAgc3c6IC0xXG59O1xuXG52YXIgc2lnbnNZID0ge1xuICBvdmVybGF5OiArMSxcbiAgc2VsZWN0aW9uOiArMSxcbiAgbjogLTEsXG4gIGU6IG51bGwsXG4gIHM6ICsxLFxuICB3OiBudWxsLFxuICBudzogLTEsXG4gIG5lOiAtMSxcbiAgc2U6ICsxLFxuICBzdzogKzFcbn07XG5cbmZ1bmN0aW9uIHR5cGUodCkge1xuICByZXR1cm4ge3R5cGU6IHR9O1xufVxuXG4vLyBJZ25vcmUgcmlnaHQtY2xpY2ssIHNpbmNlIHRoYXQgc2hvdWxkIG9wZW4gdGhlIGNvbnRleHQgbWVudS5cbmZ1bmN0aW9uIGRlZmF1bHRGaWx0ZXIoKSB7XG4gIHJldHVybiAhZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYnV0dG9uO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0RXh0ZW50KCkge1xuICB2YXIgc3ZnID0gdGhpcy5vd25lclNWR0VsZW1lbnQgfHwgdGhpcztcbiAgaWYgKHN2Zy5oYXNBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIpKSB7XG4gICAgc3ZnID0gc3ZnLnZpZXdCb3guYmFzZVZhbDtcbiAgICByZXR1cm4gW1tzdmcueCwgc3ZnLnldLCBbc3ZnLnggKyBzdmcud2lkdGgsIHN2Zy55ICsgc3ZnLmhlaWdodF1dO1xuICB9XG4gIHJldHVybiBbWzAsIDBdLCBbc3ZnLndpZHRoLmJhc2VWYWwudmFsdWUsIHN2Zy5oZWlnaHQuYmFzZVZhbC52YWx1ZV1dO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0VG91Y2hhYmxlKCkge1xuICByZXR1cm4gbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IChcIm9udG91Y2hzdGFydFwiIGluIHRoaXMpO1xufVxuXG4vLyBMaWtlIGQzLmxvY2FsLCBidXQgd2l0aCB0aGUgbmFtZSDigJxfX2JydXNo4oCdIHJhdGhlciB0aGFuIGF1dG8tZ2VuZXJhdGVkLlxuZnVuY3Rpb24gbG9jYWwobm9kZSkge1xuICB3aGlsZSAoIW5vZGUuX19icnVzaCkgaWYgKCEobm9kZSA9IG5vZGUucGFyZW50Tm9kZSkpIHJldHVybjtcbiAgcmV0dXJuIG5vZGUuX19icnVzaDtcbn1cblxuZnVuY3Rpb24gZW1wdHkoZXh0ZW50KSB7XG4gIHJldHVybiBleHRlbnRbMF1bMF0gPT09IGV4dGVudFsxXVswXVxuICAgICAgfHwgZXh0ZW50WzBdWzFdID09PSBleHRlbnRbMV1bMV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBicnVzaFNlbGVjdGlvbihub2RlKSB7XG4gIHZhciBzdGF0ZSA9IG5vZGUuX19icnVzaDtcbiAgcmV0dXJuIHN0YXRlID8gc3RhdGUuZGltLm91dHB1dChzdGF0ZS5zZWxlY3Rpb24pIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJydXNoWCgpIHtcbiAgcmV0dXJuIGJydXNoKFgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYnJ1c2hZKCkge1xuICByZXR1cm4gYnJ1c2goWSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gYnJ1c2goWFkpO1xufVxuXG5mdW5jdGlvbiBicnVzaChkaW0pIHtcbiAgdmFyIGV4dGVudCA9IGRlZmF1bHRFeHRlbnQsXG4gICAgICBmaWx0ZXIgPSBkZWZhdWx0RmlsdGVyLFxuICAgICAgdG91Y2hhYmxlID0gZGVmYXVsdFRvdWNoYWJsZSxcbiAgICAgIGtleXMgPSB0cnVlLFxuICAgICAgbGlzdGVuZXJzID0gZGlzcGF0Y2goXCJzdGFydFwiLCBcImJydXNoXCIsIFwiZW5kXCIpLFxuICAgICAgaGFuZGxlU2l6ZSA9IDYsXG4gICAgICB0b3VjaGVuZGluZztcblxuICBmdW5jdGlvbiBicnVzaChncm91cCkge1xuICAgIHZhciBvdmVybGF5ID0gZ3JvdXBcbiAgICAgICAgLnByb3BlcnR5KFwiX19icnVzaFwiLCBpbml0aWFsaXplKVxuICAgICAgLnNlbGVjdEFsbChcIi5vdmVybGF5XCIpXG4gICAgICAuZGF0YShbdHlwZShcIm92ZXJsYXlcIildKTtcblxuICAgIG92ZXJsYXkuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJvdmVybGF5XCIpXG4gICAgICAgIC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJhbGxcIilcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29ycy5vdmVybGF5KVxuICAgICAgLm1lcmdlKG92ZXJsYXkpXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBleHRlbnQgPSBsb2NhbCh0aGlzKS5leHRlbnQ7XG4gICAgICAgICAgc2VsZWN0KHRoaXMpXG4gICAgICAgICAgICAgIC5hdHRyKFwieFwiLCBleHRlbnRbMF1bMF0pXG4gICAgICAgICAgICAgIC5hdHRyKFwieVwiLCBleHRlbnRbMF1bMV0pXG4gICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZXh0ZW50WzFdWzBdIC0gZXh0ZW50WzBdWzBdKVxuICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBleHRlbnRbMV1bMV0gLSBleHRlbnRbMF1bMV0pO1xuICAgICAgICB9KTtcblxuICAgIGdyb3VwLnNlbGVjdEFsbChcIi5zZWxlY3Rpb25cIilcbiAgICAgIC5kYXRhKFt0eXBlKFwic2VsZWN0aW9uXCIpXSlcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInNlbGVjdGlvblwiKVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzLnNlbGVjdGlvbilcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzc3N1wiKVxuICAgICAgICAuYXR0cihcImZpbGwtb3BhY2l0eVwiLCAwLjMpXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwiI2ZmZlwiKVxuICAgICAgICAuYXR0cihcInNoYXBlLXJlbmRlcmluZ1wiLCBcImNyaXNwRWRnZXNcIik7XG5cbiAgICB2YXIgaGFuZGxlID0gZ3JvdXAuc2VsZWN0QWxsKFwiLmhhbmRsZVwiKVxuICAgICAgLmRhdGEoZGltLmhhbmRsZXMsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudHlwZTsgfSk7XG5cbiAgICBoYW5kbGUuZXhpdCgpLnJlbW92ZSgpO1xuXG4gICAgaGFuZGxlLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwiaGFuZGxlIGhhbmRsZS0tXCIgKyBkLnR5cGU7IH0pXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGN1cnNvcnNbZC50eXBlXTsgfSk7XG5cbiAgICBncm91cFxuICAgICAgICAuZWFjaChyZWRyYXcpXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgICAgLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcImFsbFwiKVxuICAgICAgICAub24oXCJtb3VzZWRvd24uYnJ1c2hcIiwgc3RhcnRlZClcbiAgICAgIC5maWx0ZXIodG91Y2hhYmxlKVxuICAgICAgICAub24oXCJ0b3VjaHN0YXJ0LmJydXNoXCIsIHN0YXJ0ZWQpXG4gICAgICAgIC5vbihcInRvdWNobW92ZS5icnVzaFwiLCB0b3VjaG1vdmVkKVxuICAgICAgICAub24oXCJ0b3VjaGVuZC5icnVzaCB0b3VjaGNhbmNlbC5icnVzaFwiLCB0b3VjaGVuZGVkKVxuICAgICAgICAuc3R5bGUoXCJ0b3VjaC1hY3Rpb25cIiwgXCJub25lXCIpXG4gICAgICAgIC5zdHlsZShcIi13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvclwiLCBcInJnYmEoMCwwLDAsMClcIik7XG4gIH1cblxuICBicnVzaC5tb3ZlID0gZnVuY3Rpb24oZ3JvdXAsIHNlbGVjdGlvbikge1xuICAgIGlmIChncm91cC5zZWxlY3Rpb24pIHtcbiAgICAgIGdyb3VwXG4gICAgICAgICAgLm9uKFwic3RhcnQuYnJ1c2hcIiwgZnVuY3Rpb24oKSB7IGVtaXR0ZXIodGhpcywgYXJndW1lbnRzKS5iZWZvcmVzdGFydCgpLnN0YXJ0KCk7IH0pXG4gICAgICAgICAgLm9uKFwiaW50ZXJydXB0LmJydXNoIGVuZC5icnVzaFwiLCBmdW5jdGlvbigpIHsgZW1pdHRlcih0aGlzLCBhcmd1bWVudHMpLmVuZCgpOyB9KVxuICAgICAgICAgIC50d2VlbihcImJydXNoXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhhdC5fX2JydXNoLFxuICAgICAgICAgICAgICAgIGVtaXQgPSBlbWl0dGVyKHRoYXQsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uMCA9IHN0YXRlLnNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24xID0gZGltLmlucHV0KHR5cGVvZiBzZWxlY3Rpb24gPT09IFwiZnVuY3Rpb25cIiA/IHNlbGVjdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDogc2VsZWN0aW9uLCBzdGF0ZS5leHRlbnQpLFxuICAgICAgICAgICAgICAgIGkgPSBpbnRlcnBvbGF0ZShzZWxlY3Rpb24wLCBzZWxlY3Rpb24xKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gdHdlZW4odCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zZWxlY3Rpb24gPSB0ID09PSAxICYmIHNlbGVjdGlvbjEgPT09IG51bGwgPyBudWxsIDogaSh0KTtcbiAgICAgICAgICAgICAgcmVkcmF3LmNhbGwodGhhdCk7XG4gICAgICAgICAgICAgIGVtaXQuYnJ1c2goKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjAgIT09IG51bGwgJiYgc2VsZWN0aW9uMSAhPT0gbnVsbCA/IHR3ZWVuIDogdHdlZW4oMSk7XG4gICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdyb3VwXG4gICAgICAgICAgLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoYXQuX19icnVzaCxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24xID0gZGltLmlucHV0KHR5cGVvZiBzZWxlY3Rpb24gPT09IFwiZnVuY3Rpb25cIiA/IHNlbGVjdGlvbi5hcHBseSh0aGF0LCBhcmdzKSA6IHNlbGVjdGlvbiwgc3RhdGUuZXh0ZW50KSxcbiAgICAgICAgICAgICAgICBlbWl0ID0gZW1pdHRlcih0aGF0LCBhcmdzKS5iZWZvcmVzdGFydCgpO1xuXG4gICAgICAgICAgICBpbnRlcnJ1cHQodGhhdCk7XG4gICAgICAgICAgICBzdGF0ZS5zZWxlY3Rpb24gPSBzZWxlY3Rpb24xID09PSBudWxsID8gbnVsbCA6IHNlbGVjdGlvbjE7XG4gICAgICAgICAgICByZWRyYXcuY2FsbCh0aGF0KTtcbiAgICAgICAgICAgIGVtaXQuc3RhcnQoKS5icnVzaCgpLmVuZCgpO1xuICAgICAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBicnVzaC5jbGVhciA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgYnJ1c2gubW92ZShncm91cCwgbnVsbCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVkcmF3KCkge1xuICAgIHZhciBncm91cCA9IHNlbGVjdCh0aGlzKSxcbiAgICAgICAgc2VsZWN0aW9uID0gbG9jYWwodGhpcykuc2VsZWN0aW9uO1xuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgZ3JvdXAuc2VsZWN0QWxsKFwiLnNlbGVjdGlvblwiKVxuICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgbnVsbClcbiAgICAgICAgICAuYXR0cihcInhcIiwgc2VsZWN0aW9uWzBdWzBdKVxuICAgICAgICAgIC5hdHRyKFwieVwiLCBzZWxlY3Rpb25bMF1bMV0pXG4gICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBzZWxlY3Rpb25bMV1bMF0gLSBzZWxlY3Rpb25bMF1bMF0pXG4gICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgc2VsZWN0aW9uWzFdWzFdIC0gc2VsZWN0aW9uWzBdWzFdKTtcblxuICAgICAgZ3JvdXAuc2VsZWN0QWxsKFwiLmhhbmRsZVwiKVxuICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgbnVsbClcbiAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC50eXBlW2QudHlwZS5sZW5ndGggLSAxXSA9PT0gXCJlXCIgPyBzZWxlY3Rpb25bMV1bMF0gLSBoYW5kbGVTaXplIC8gMiA6IHNlbGVjdGlvblswXVswXSAtIGhhbmRsZVNpemUgLyAyOyB9KVxuICAgICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnR5cGVbMF0gPT09IFwic1wiID8gc2VsZWN0aW9uWzFdWzFdIC0gaGFuZGxlU2l6ZSAvIDIgOiBzZWxlY3Rpb25bMF1bMV0gLSBoYW5kbGVTaXplIC8gMjsgfSlcbiAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudHlwZSA9PT0gXCJuXCIgfHwgZC50eXBlID09PSBcInNcIiA/IHNlbGVjdGlvblsxXVswXSAtIHNlbGVjdGlvblswXVswXSArIGhhbmRsZVNpemUgOiBoYW5kbGVTaXplOyB9KVxuICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQudHlwZSA9PT0gXCJlXCIgfHwgZC50eXBlID09PSBcIndcIiA/IHNlbGVjdGlvblsxXVsxXSAtIHNlbGVjdGlvblswXVsxXSArIGhhbmRsZVNpemUgOiBoYW5kbGVTaXplOyB9KTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgIGdyb3VwLnNlbGVjdEFsbChcIi5zZWxlY3Rpb24sLmhhbmRsZVwiKVxuICAgICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpXG4gICAgICAgICAgLmF0dHIoXCJ4XCIsIG51bGwpXG4gICAgICAgICAgLmF0dHIoXCJ5XCIsIG51bGwpXG4gICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBudWxsKVxuICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVtaXR0ZXIodGhhdCwgYXJncywgY2xlYW4pIHtcbiAgICByZXR1cm4gKCFjbGVhbiAmJiB0aGF0Ll9fYnJ1c2guZW1pdHRlcikgfHwgbmV3IEVtaXR0ZXIodGhhdCwgYXJncyk7XG4gIH1cblxuICBmdW5jdGlvbiBFbWl0dGVyKHRoYXQsIGFyZ3MpIHtcbiAgICB0aGlzLnRoYXQgPSB0aGF0O1xuICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gICAgdGhpcy5zdGF0ZSA9IHRoYXQuX19icnVzaDtcbiAgICB0aGlzLmFjdGl2ZSA9IDA7XG4gIH1cblxuICBFbWl0dGVyLnByb3RvdHlwZSA9IHtcbiAgICBiZWZvcmVzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoKyt0aGlzLmFjdGl2ZSA9PT0gMSkgdGhpcy5zdGF0ZS5lbWl0dGVyID0gdGhpcywgdGhpcy5zdGFydGluZyA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLnN0YXJ0aW5nKSB0aGlzLnN0YXJ0aW5nID0gZmFsc2UsIHRoaXMuZW1pdChcInN0YXJ0XCIpO1xuICAgICAgZWxzZSB0aGlzLmVtaXQoXCJicnVzaFwiKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgYnJ1c2g6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5lbWl0KFwiYnJ1c2hcIik7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGVuZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aGlzLmFjdGl2ZSA9PT0gMCkgZGVsZXRlIHRoaXMuc3RhdGUuZW1pdHRlciwgdGhpcy5lbWl0KFwiZW5kXCIpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBlbWl0OiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICBjdXN0b21FdmVudChuZXcgQnJ1c2hFdmVudChicnVzaCwgdHlwZSwgZGltLm91dHB1dCh0aGlzLnN0YXRlLnNlbGVjdGlvbikpLCBsaXN0ZW5lcnMuYXBwbHksIGxpc3RlbmVycywgW3R5cGUsIHRoaXMudGhhdCwgdGhpcy5hcmdzXSk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIHN0YXJ0ZWQoKSB7XG4gICAgaWYgKHRvdWNoZW5kaW5nICYmICFldmVudC50b3VjaGVzKSByZXR1cm47XG4gICAgaWYgKCFmaWx0ZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSkgcmV0dXJuO1xuXG4gICAgdmFyIHRoYXQgPSB0aGlzLFxuICAgICAgICB0eXBlID0gZXZlbnQudGFyZ2V0Ll9fZGF0YV9fLnR5cGUsXG4gICAgICAgIG1vZGUgPSAoa2V5cyAmJiBldmVudC5tZXRhS2V5ID8gdHlwZSA9IFwib3ZlcmxheVwiIDogdHlwZSkgPT09IFwic2VsZWN0aW9uXCIgPyBNT0RFX0RSQUcgOiAoa2V5cyAmJiBldmVudC5hbHRLZXkgPyBNT0RFX0NFTlRFUiA6IE1PREVfSEFORExFKSxcbiAgICAgICAgc2lnblggPSBkaW0gPT09IFkgPyBudWxsIDogc2lnbnNYW3R5cGVdLFxuICAgICAgICBzaWduWSA9IGRpbSA9PT0gWCA/IG51bGwgOiBzaWduc1lbdHlwZV0sXG4gICAgICAgIHN0YXRlID0gbG9jYWwodGhhdCksXG4gICAgICAgIGV4dGVudCA9IHN0YXRlLmV4dGVudCxcbiAgICAgICAgc2VsZWN0aW9uID0gc3RhdGUuc2VsZWN0aW9uLFxuICAgICAgICBXID0gZXh0ZW50WzBdWzBdLCB3MCwgdzEsXG4gICAgICAgIE4gPSBleHRlbnRbMF1bMV0sIG4wLCBuMSxcbiAgICAgICAgRSA9IGV4dGVudFsxXVswXSwgZTAsIGUxLFxuICAgICAgICBTID0gZXh0ZW50WzFdWzFdLCBzMCwgczEsXG4gICAgICAgIGR4ID0gMCxcbiAgICAgICAgZHkgPSAwLFxuICAgICAgICBtb3ZpbmcsXG4gICAgICAgIHNoaWZ0aW5nID0gc2lnblggJiYgc2lnblkgJiYga2V5cyAmJiBldmVudC5zaGlmdEtleSxcbiAgICAgICAgbG9ja1gsXG4gICAgICAgIGxvY2tZLFxuICAgICAgICBwb2ludGVyID0gZXZlbnQudG91Y2hlcyA/IHRvdWNoZXIoZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcikgOiBtb3VzZSxcbiAgICAgICAgcG9pbnQwID0gcG9pbnRlcih0aGF0KSxcbiAgICAgICAgcG9pbnQgPSBwb2ludDAsXG4gICAgICAgIGVtaXQgPSBlbWl0dGVyKHRoYXQsIGFyZ3VtZW50cywgdHJ1ZSkuYmVmb3Jlc3RhcnQoKTtcblxuICAgIGlmICh0eXBlID09PSBcIm92ZXJsYXlcIikge1xuICAgICAgaWYgKHNlbGVjdGlvbikgbW92aW5nID0gdHJ1ZTtcbiAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IHNlbGVjdGlvbiA9IFtcbiAgICAgICAgW3cwID0gZGltID09PSBZID8gVyA6IHBvaW50MFswXSwgbjAgPSBkaW0gPT09IFggPyBOIDogcG9pbnQwWzFdXSxcbiAgICAgICAgW2UwID0gZGltID09PSBZID8gRSA6IHcwLCBzMCA9IGRpbSA9PT0gWCA/IFMgOiBuMF1cbiAgICAgIF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHcwID0gc2VsZWN0aW9uWzBdWzBdO1xuICAgICAgbjAgPSBzZWxlY3Rpb25bMF1bMV07XG4gICAgICBlMCA9IHNlbGVjdGlvblsxXVswXTtcbiAgICAgIHMwID0gc2VsZWN0aW9uWzFdWzFdO1xuICAgIH1cblxuICAgIHcxID0gdzA7XG4gICAgbjEgPSBuMDtcbiAgICBlMSA9IGUwO1xuICAgIHMxID0gczA7XG5cbiAgICB2YXIgZ3JvdXAgPSBzZWxlY3QodGhhdClcbiAgICAgICAgLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcIm5vbmVcIik7XG5cbiAgICB2YXIgb3ZlcmxheSA9IGdyb3VwLnNlbGVjdEFsbChcIi5vdmVybGF5XCIpXG4gICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIGN1cnNvcnNbdHlwZV0pO1xuXG4gICAgaWYgKGV2ZW50LnRvdWNoZXMpIHtcbiAgICAgIGVtaXQubW92ZWQgPSBtb3ZlZDtcbiAgICAgIGVtaXQuZW5kZWQgPSBlbmRlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHZpZXcgPSBzZWxlY3QoZXZlbnQudmlldylcbiAgICAgICAgICAub24oXCJtb3VzZW1vdmUuYnJ1c2hcIiwgbW92ZWQsIHRydWUpXG4gICAgICAgICAgLm9uKFwibW91c2V1cC5icnVzaFwiLCBlbmRlZCwgdHJ1ZSk7XG4gICAgICBpZiAoa2V5cykgdmlld1xuICAgICAgICAgIC5vbihcImtleWRvd24uYnJ1c2hcIiwga2V5ZG93bmVkLCB0cnVlKVxuICAgICAgICAgIC5vbihcImtleXVwLmJydXNoXCIsIGtleXVwcGVkLCB0cnVlKVxuXG4gICAgICBkcmFnRGlzYWJsZShldmVudC52aWV3KTtcbiAgICB9XG5cbiAgICBub3Byb3BhZ2F0aW9uKCk7XG4gICAgaW50ZXJydXB0KHRoYXQpO1xuICAgIHJlZHJhdy5jYWxsKHRoYXQpO1xuICAgIGVtaXQuc3RhcnQoKTtcblxuICAgIGZ1bmN0aW9uIG1vdmVkKCkge1xuICAgICAgdmFyIHBvaW50MSA9IHBvaW50ZXIodGhhdCk7XG4gICAgICBpZiAoc2hpZnRpbmcgJiYgIWxvY2tYICYmICFsb2NrWSkge1xuICAgICAgICBpZiAoTWF0aC5hYnMocG9pbnQxWzBdIC0gcG9pbnRbMF0pID4gTWF0aC5hYnMocG9pbnQxWzFdIC0gcG9pbnRbMV0pKSBsb2NrWSA9IHRydWU7XG4gICAgICAgIGVsc2UgbG9ja1ggPSB0cnVlO1xuICAgICAgfVxuICAgICAgcG9pbnQgPSBwb2ludDE7XG4gICAgICBtb3ZpbmcgPSB0cnVlO1xuICAgICAgbm9ldmVudCgpO1xuICAgICAgbW92ZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vdmUoKSB7XG4gICAgICB2YXIgdDtcblxuICAgICAgZHggPSBwb2ludFswXSAtIHBvaW50MFswXTtcbiAgICAgIGR5ID0gcG9pbnRbMV0gLSBwb2ludDBbMV07XG5cbiAgICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICBjYXNlIE1PREVfU1BBQ0U6XG4gICAgICAgIGNhc2UgTU9ERV9EUkFHOiB7XG4gICAgICAgICAgaWYgKHNpZ25YKSBkeCA9IE1hdGgubWF4KFcgLSB3MCwgTWF0aC5taW4oRSAtIGUwLCBkeCkpLCB3MSA9IHcwICsgZHgsIGUxID0gZTAgKyBkeDtcbiAgICAgICAgICBpZiAoc2lnblkpIGR5ID0gTWF0aC5tYXgoTiAtIG4wLCBNYXRoLm1pbihTIC0gczAsIGR5KSksIG4xID0gbjAgKyBkeSwgczEgPSBzMCArIGR5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgTU9ERV9IQU5ETEU6IHtcbiAgICAgICAgICBpZiAoc2lnblggPCAwKSBkeCA9IE1hdGgubWF4KFcgLSB3MCwgTWF0aC5taW4oRSAtIHcwLCBkeCkpLCB3MSA9IHcwICsgZHgsIGUxID0gZTA7XG4gICAgICAgICAgZWxzZSBpZiAoc2lnblggPiAwKSBkeCA9IE1hdGgubWF4KFcgLSBlMCwgTWF0aC5taW4oRSAtIGUwLCBkeCkpLCB3MSA9IHcwLCBlMSA9IGUwICsgZHg7XG4gICAgICAgICAgaWYgKHNpZ25ZIDwgMCkgZHkgPSBNYXRoLm1heChOIC0gbjAsIE1hdGgubWluKFMgLSBuMCwgZHkpKSwgbjEgPSBuMCArIGR5LCBzMSA9IHMwO1xuICAgICAgICAgIGVsc2UgaWYgKHNpZ25ZID4gMCkgZHkgPSBNYXRoLm1heChOIC0gczAsIE1hdGgubWluKFMgLSBzMCwgZHkpKSwgbjEgPSBuMCwgczEgPSBzMCArIGR5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgTU9ERV9DRU5URVI6IHtcbiAgICAgICAgICBpZiAoc2lnblgpIHcxID0gTWF0aC5tYXgoVywgTWF0aC5taW4oRSwgdzAgLSBkeCAqIHNpZ25YKSksIGUxID0gTWF0aC5tYXgoVywgTWF0aC5taW4oRSwgZTAgKyBkeCAqIHNpZ25YKSk7XG4gICAgICAgICAgaWYgKHNpZ25ZKSBuMSA9IE1hdGgubWF4KE4sIE1hdGgubWluKFMsIG4wIC0gZHkgKiBzaWduWSkpLCBzMSA9IE1hdGgubWF4KE4sIE1hdGgubWluKFMsIHMwICsgZHkgKiBzaWduWSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlMSA8IHcxKSB7XG4gICAgICAgIHNpZ25YICo9IC0xO1xuICAgICAgICB0ID0gdzAsIHcwID0gZTAsIGUwID0gdDtcbiAgICAgICAgdCA9IHcxLCB3MSA9IGUxLCBlMSA9IHQ7XG4gICAgICAgIGlmICh0eXBlIGluIGZsaXBYKSBvdmVybGF5LmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29yc1t0eXBlID0gZmxpcFhbdHlwZV1dKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHMxIDwgbjEpIHtcbiAgICAgICAgc2lnblkgKj0gLTE7XG4gICAgICAgIHQgPSBuMCwgbjAgPSBzMCwgczAgPSB0O1xuICAgICAgICB0ID0gbjEsIG4xID0gczEsIHMxID0gdDtcbiAgICAgICAgaWYgKHR5cGUgaW4gZmxpcFkpIG92ZXJsYXkuYXR0cihcImN1cnNvclwiLCBjdXJzb3JzW3R5cGUgPSBmbGlwWVt0eXBlXV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuc2VsZWN0aW9uKSBzZWxlY3Rpb24gPSBzdGF0ZS5zZWxlY3Rpb247IC8vIE1heSBiZSBzZXQgYnkgYnJ1c2gubW92ZSFcbiAgICAgIGlmIChsb2NrWCkgdzEgPSBzZWxlY3Rpb25bMF1bMF0sIGUxID0gc2VsZWN0aW9uWzFdWzBdO1xuICAgICAgaWYgKGxvY2tZKSBuMSA9IHNlbGVjdGlvblswXVsxXSwgczEgPSBzZWxlY3Rpb25bMV1bMV07XG5cbiAgICAgIGlmIChzZWxlY3Rpb25bMF1bMF0gIT09IHcxXG4gICAgICAgICAgfHwgc2VsZWN0aW9uWzBdWzFdICE9PSBuMVxuICAgICAgICAgIHx8IHNlbGVjdGlvblsxXVswXSAhPT0gZTFcbiAgICAgICAgICB8fCBzZWxlY3Rpb25bMV1bMV0gIT09IHMxKSB7XG4gICAgICAgIHN0YXRlLnNlbGVjdGlvbiA9IFtbdzEsIG4xXSwgW2UxLCBzMV1dO1xuICAgICAgICByZWRyYXcuY2FsbCh0aGF0KTtcbiAgICAgICAgZW1pdC5icnVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGVuZGVkKCkge1xuICAgICAgbm9wcm9wYWdhdGlvbigpO1xuICAgICAgaWYgKGV2ZW50LnRvdWNoZXMpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIGlmICh0b3VjaGVuZGluZykgY2xlYXJUaW1lb3V0KHRvdWNoZW5kaW5nKTtcbiAgICAgICAgdG91Y2hlbmRpbmcgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyB0b3VjaGVuZGluZyA9IG51bGw7IH0sIDUwMCk7IC8vIEdob3N0IGNsaWNrcyBhcmUgZGVsYXllZCFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRyYWdFbmFibGUoZXZlbnQudmlldywgbW92aW5nKTtcbiAgICAgICAgdmlldy5vbihcImtleWRvd24uYnJ1c2gga2V5dXAuYnJ1c2ggbW91c2Vtb3ZlLmJydXNoIG1vdXNldXAuYnJ1c2hcIiwgbnVsbCk7XG4gICAgICB9XG4gICAgICBncm91cC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJhbGxcIik7XG4gICAgICBvdmVybGF5LmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29ycy5vdmVybGF5KTtcbiAgICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24pIHNlbGVjdGlvbiA9IHN0YXRlLnNlbGVjdGlvbjsgLy8gTWF5IGJlIHNldCBieSBicnVzaC5tb3ZlIChvbiBzdGFydCkhXG4gICAgICBpZiAoZW1wdHkoc2VsZWN0aW9uKSkgc3RhdGUuc2VsZWN0aW9uID0gbnVsbCwgcmVkcmF3LmNhbGwodGhhdCk7XG4gICAgICBlbWl0LmVuZCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGtleWRvd25lZCgpIHtcbiAgICAgIHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xuICAgICAgICBjYXNlIDE2OiB7IC8vIFNISUZUXG4gICAgICAgICAgc2hpZnRpbmcgPSBzaWduWCAmJiBzaWduWTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDE4OiB7IC8vIEFMVFxuICAgICAgICAgIGlmIChtb2RlID09PSBNT0RFX0hBTkRMRSkge1xuICAgICAgICAgICAgaWYgKHNpZ25YKSBlMCA9IGUxIC0gZHggKiBzaWduWCwgdzAgPSB3MSArIGR4ICogc2lnblg7XG4gICAgICAgICAgICBpZiAoc2lnblkpIHMwID0gczEgLSBkeSAqIHNpZ25ZLCBuMCA9IG4xICsgZHkgKiBzaWduWTtcbiAgICAgICAgICAgIG1vZGUgPSBNT0RFX0NFTlRFUjtcbiAgICAgICAgICAgIG1vdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzMjogeyAvLyBTUEFDRTsgdGFrZXMgcHJpb3JpdHkgb3ZlciBBTFRcbiAgICAgICAgICBpZiAobW9kZSA9PT0gTU9ERV9IQU5ETEUgfHwgbW9kZSA9PT0gTU9ERV9DRU5URVIpIHtcbiAgICAgICAgICAgIGlmIChzaWduWCA8IDApIGUwID0gZTEgLSBkeDsgZWxzZSBpZiAoc2lnblggPiAwKSB3MCA9IHcxIC0gZHg7XG4gICAgICAgICAgICBpZiAoc2lnblkgPCAwKSBzMCA9IHMxIC0gZHk7IGVsc2UgaWYgKHNpZ25ZID4gMCkgbjAgPSBuMSAtIGR5O1xuICAgICAgICAgICAgbW9kZSA9IE1PREVfU1BBQ0U7XG4gICAgICAgICAgICBvdmVybGF5LmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29ycy5zZWxlY3Rpb24pO1xuICAgICAgICAgICAgbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiByZXR1cm47XG4gICAgICB9XG4gICAgICBub2V2ZW50KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24ga2V5dXBwZWQoKSB7XG4gICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpIHtcbiAgICAgICAgY2FzZSAxNjogeyAvLyBTSElGVFxuICAgICAgICAgIGlmIChzaGlmdGluZykge1xuICAgICAgICAgICAgbG9ja1ggPSBsb2NrWSA9IHNoaWZ0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMTg6IHsgLy8gQUxUXG4gICAgICAgICAgaWYgKG1vZGUgPT09IE1PREVfQ0VOVEVSKSB7XG4gICAgICAgICAgICBpZiAoc2lnblggPCAwKSBlMCA9IGUxOyBlbHNlIGlmIChzaWduWCA+IDApIHcwID0gdzE7XG4gICAgICAgICAgICBpZiAoc2lnblkgPCAwKSBzMCA9IHMxOyBlbHNlIGlmIChzaWduWSA+IDApIG4wID0gbjE7XG4gICAgICAgICAgICBtb2RlID0gTU9ERV9IQU5ETEU7XG4gICAgICAgICAgICBtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgMzI6IHsgLy8gU1BBQ0VcbiAgICAgICAgICBpZiAobW9kZSA9PT0gTU9ERV9TUEFDRSkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmFsdEtleSkge1xuICAgICAgICAgICAgICBpZiAoc2lnblgpIGUwID0gZTEgLSBkeCAqIHNpZ25YLCB3MCA9IHcxICsgZHggKiBzaWduWDtcbiAgICAgICAgICAgICAgaWYgKHNpZ25ZKSBzMCA9IHMxIC0gZHkgKiBzaWduWSwgbjAgPSBuMSArIGR5ICogc2lnblk7XG4gICAgICAgICAgICAgIG1vZGUgPSBNT0RFX0NFTlRFUjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChzaWduWCA8IDApIGUwID0gZTE7IGVsc2UgaWYgKHNpZ25YID4gMCkgdzAgPSB3MTtcbiAgICAgICAgICAgICAgaWYgKHNpZ25ZIDwgMCkgczAgPSBzMTsgZWxzZSBpZiAoc2lnblkgPiAwKSBuMCA9IG4xO1xuICAgICAgICAgICAgICBtb2RlID0gTU9ERV9IQU5ETEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdmVybGF5LmF0dHIoXCJjdXJzb3JcIiwgY3Vyc29yc1t0eXBlXSk7XG4gICAgICAgICAgICBtb3ZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybjtcbiAgICAgIH1cbiAgICAgIG5vZXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaG1vdmVkKCkge1xuICAgIGVtaXR0ZXIodGhpcywgYXJndW1lbnRzKS5tb3ZlZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG91Y2hlbmRlZCgpIHtcbiAgICBlbWl0dGVyKHRoaXMsIGFyZ3VtZW50cykuZW5kZWQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5fX2JydXNoIHx8IHtzZWxlY3Rpb246IG51bGx9O1xuICAgIHN0YXRlLmV4dGVudCA9IG51bWJlcjIoZXh0ZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIHN0YXRlLmRpbSA9IGRpbTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH1cblxuICBicnVzaC5leHRlbnQgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoZXh0ZW50ID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudChudW1iZXIyKF8pKSwgYnJ1c2gpIDogZXh0ZW50O1xuICB9O1xuXG4gIGJydXNoLmZpbHRlciA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChmaWx0ZXIgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCEhXyksIGJydXNoKSA6IGZpbHRlcjtcbiAgfTtcblxuICBicnVzaC50b3VjaGFibGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodG91Y2hhYmxlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCghIV8pLCBicnVzaCkgOiB0b3VjaGFibGU7XG4gIH07XG5cbiAgYnJ1c2guaGFuZGxlU2l6ZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChoYW5kbGVTaXplID0gK18sIGJydXNoKSA6IGhhbmRsZVNpemU7XG4gIH07XG5cbiAgYnJ1c2gua2V5TW9kaWZpZXJzID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGtleXMgPSAhIV8sIGJydXNoKSA6IGtleXM7XG4gIH07XG5cbiAgYnJ1c2gub24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdmFsdWUgPSBsaXN0ZW5lcnMub24uYXBwbHkobGlzdGVuZXJzLCBhcmd1bWVudHMpO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbGlzdGVuZXJzID8gYnJ1c2ggOiB2YWx1ZTtcbiAgfTtcblxuICByZXR1cm4gYnJ1c2g7XG59XG4iLCJleHBvcnQgdmFyIGNvcyA9IE1hdGguY29zO1xuZXhwb3J0IHZhciBzaW4gPSBNYXRoLnNpbjtcbmV4cG9ydCB2YXIgcGkgPSBNYXRoLlBJO1xuZXhwb3J0IHZhciBoYWxmUGkgPSBwaSAvIDI7XG5leHBvcnQgdmFyIHRhdSA9IHBpICogMjtcbmV4cG9ydCB2YXIgbWF4ID0gTWF0aC5tYXg7XG4iLCJleHBvcnQgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuIiwiaW1wb3J0IHtyYW5nZX0gZnJvbSBcImQzLWFycmF5XCI7XG5pbXBvcnQge21heCwgdGF1fSBmcm9tIFwiLi9tYXRoXCI7XG5cbmZ1bmN0aW9uIGNvbXBhcmVWYWx1ZShjb21wYXJlKSB7XG4gIHJldHVybiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGNvbXBhcmUoXG4gICAgICBhLnNvdXJjZS52YWx1ZSArIGEudGFyZ2V0LnZhbHVlLFxuICAgICAgYi5zb3VyY2UudmFsdWUgKyBiLnRhcmdldC52YWx1ZVxuICAgICk7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgcGFkQW5nbGUgPSAwLFxuICAgICAgc29ydEdyb3VwcyA9IG51bGwsXG4gICAgICBzb3J0U3ViZ3JvdXBzID0gbnVsbCxcbiAgICAgIHNvcnRDaG9yZHMgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGNob3JkKG1hdHJpeCkge1xuICAgIHZhciBuID0gbWF0cml4Lmxlbmd0aCxcbiAgICAgICAgZ3JvdXBTdW1zID0gW10sXG4gICAgICAgIGdyb3VwSW5kZXggPSByYW5nZShuKSxcbiAgICAgICAgc3ViZ3JvdXBJbmRleCA9IFtdLFxuICAgICAgICBjaG9yZHMgPSBbXSxcbiAgICAgICAgZ3JvdXBzID0gY2hvcmRzLmdyb3VwcyA9IG5ldyBBcnJheShuKSxcbiAgICAgICAgc3ViZ3JvdXBzID0gbmV3IEFycmF5KG4gKiBuKSxcbiAgICAgICAgayxcbiAgICAgICAgeCxcbiAgICAgICAgeDAsXG4gICAgICAgIGR4LFxuICAgICAgICBpLFxuICAgICAgICBqO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgc3VtLlxuICAgIGsgPSAwLCBpID0gLTE7IHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICB4ID0gMCwgaiA9IC0xOyB3aGlsZSAoKytqIDwgbikge1xuICAgICAgICB4ICs9IG1hdHJpeFtpXVtqXTtcbiAgICAgIH1cbiAgICAgIGdyb3VwU3Vtcy5wdXNoKHgpO1xuICAgICAgc3ViZ3JvdXBJbmRleC5wdXNoKHJhbmdlKG4pKTtcbiAgICAgIGsgKz0geDtcbiAgICB9XG5cbiAgICAvLyBTb3J0IGdyb3Vwc+KAplxuICAgIGlmIChzb3J0R3JvdXBzKSBncm91cEluZGV4LnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgcmV0dXJuIHNvcnRHcm91cHMoZ3JvdXBTdW1zW2FdLCBncm91cFN1bXNbYl0pO1xuICAgIH0pO1xuXG4gICAgLy8gU29ydCBzdWJncm91cHPigKZcbiAgICBpZiAoc29ydFN1Ymdyb3Vwcykgc3ViZ3JvdXBJbmRleC5mb3JFYWNoKGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgIGQuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiBzb3J0U3ViZ3JvdXBzKG1hdHJpeFtpXVthXSwgbWF0cml4W2ldW2JdKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gQ29udmVydCB0aGUgc3VtIHRvIHNjYWxpbmcgZmFjdG9yIGZvciBbMCwgMnBpXS5cbiAgICAvLyBUT0RPIEFsbG93IHN0YXJ0IGFuZCBlbmQgYW5nbGUgdG8gYmUgc3BlY2lmaWVkP1xuICAgIC8vIFRPRE8gQWxsb3cgcGFkZGluZyB0byBiZSBzcGVjaWZpZWQgYXMgcGVyY2VudGFnZT9cbiAgICBrID0gbWF4KDAsIHRhdSAtIHBhZEFuZ2xlICogbikgLyBrO1xuICAgIGR4ID0gayA/IHBhZEFuZ2xlIDogdGF1IC8gbjtcblxuICAgIC8vIENvbXB1dGUgdGhlIHN0YXJ0IGFuZCBlbmQgYW5nbGUgZm9yIGVhY2ggZ3JvdXAgYW5kIHN1Ymdyb3VwLlxuICAgIC8vIE5vdGU6IE9wZXJhIGhhcyBhIGJ1ZyByZW9yZGVyaW5nIG9iamVjdCBsaXRlcmFsIHByb3BlcnRpZXMhXG4gICAgeCA9IDAsIGkgPSAtMTsgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgIHgwID0geCwgaiA9IC0xOyB3aGlsZSAoKytqIDwgbikge1xuICAgICAgICB2YXIgZGkgPSBncm91cEluZGV4W2ldLFxuICAgICAgICAgICAgZGogPSBzdWJncm91cEluZGV4W2RpXVtqXSxcbiAgICAgICAgICAgIHYgPSBtYXRyaXhbZGldW2RqXSxcbiAgICAgICAgICAgIGEwID0geCxcbiAgICAgICAgICAgIGExID0geCArPSB2ICogaztcbiAgICAgICAgc3ViZ3JvdXBzW2RqICogbiArIGRpXSA9IHtcbiAgICAgICAgICBpbmRleDogZGksXG4gICAgICAgICAgc3ViaW5kZXg6IGRqLFxuICAgICAgICAgIHN0YXJ0QW5nbGU6IGEwLFxuICAgICAgICAgIGVuZEFuZ2xlOiBhMSxcbiAgICAgICAgICB2YWx1ZTogdlxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2RpXSA9IHtcbiAgICAgICAgaW5kZXg6IGRpLFxuICAgICAgICBzdGFydEFuZ2xlOiB4MCxcbiAgICAgICAgZW5kQW5nbGU6IHgsXG4gICAgICAgIHZhbHVlOiBncm91cFN1bXNbZGldXG4gICAgICB9O1xuICAgICAgeCArPSBkeDtcbiAgICB9XG5cbiAgICAvLyBHZW5lcmF0ZSBjaG9yZHMgZm9yIGVhY2ggKG5vbi1lbXB0eSkgc3ViZ3JvdXAtc3ViZ3JvdXAgbGluay5cbiAgICBpID0gLTE7IHdoaWxlICgrK2kgPCBuKSB7XG4gICAgICBqID0gaSAtIDE7IHdoaWxlICgrK2ogPCBuKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzdWJncm91cHNbaiAqIG4gKyBpXSxcbiAgICAgICAgICAgIHRhcmdldCA9IHN1Ymdyb3Vwc1tpICogbiArIGpdO1xuICAgICAgICBpZiAoc291cmNlLnZhbHVlIHx8IHRhcmdldC52YWx1ZSkge1xuICAgICAgICAgIGNob3Jkcy5wdXNoKHNvdXJjZS52YWx1ZSA8IHRhcmdldC52YWx1ZVxuICAgICAgICAgICAgICA/IHtzb3VyY2U6IHRhcmdldCwgdGFyZ2V0OiBzb3VyY2V9XG4gICAgICAgICAgICAgIDoge3NvdXJjZTogc291cmNlLCB0YXJnZXQ6IHRhcmdldH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvcnRDaG9yZHMgPyBjaG9yZHMuc29ydChzb3J0Q2hvcmRzKSA6IGNob3JkcztcbiAgfVxuXG4gIGNob3JkLnBhZEFuZ2xlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHBhZEFuZ2xlID0gbWF4KDAsIF8pLCBjaG9yZCkgOiBwYWRBbmdsZTtcbiAgfTtcblxuICBjaG9yZC5zb3J0R3JvdXBzID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHNvcnRHcm91cHMgPSBfLCBjaG9yZCkgOiBzb3J0R3JvdXBzO1xuICB9O1xuXG4gIGNob3JkLnNvcnRTdWJncm91cHMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc29ydFN1Ymdyb3VwcyA9IF8sIGNob3JkKSA6IHNvcnRTdWJncm91cHM7XG4gIH07XG5cbiAgY2hvcmQuc29ydENob3JkcyA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfID09IG51bGwgPyBzb3J0Q2hvcmRzID0gbnVsbCA6IChzb3J0Q2hvcmRzID0gY29tcGFyZVZhbHVlKF8pKS5fID0gXywgY2hvcmQpIDogc29ydENob3JkcyAmJiBzb3J0Q2hvcmRzLl87XG4gIH07XG5cbiAgcmV0dXJuIGNob3JkO1xufVxuIiwidmFyIHBpID0gTWF0aC5QSSxcbiAgICB0YXUgPSAyICogcGksXG4gICAgZXBzaWxvbiA9IDFlLTYsXG4gICAgdGF1RXBzaWxvbiA9IHRhdSAtIGVwc2lsb247XG5cbmZ1bmN0aW9uIFBhdGgoKSB7XG4gIHRoaXMuX3gwID0gdGhpcy5feTAgPSAvLyBzdGFydCBvZiBjdXJyZW50IHN1YnBhdGhcbiAgdGhpcy5feDEgPSB0aGlzLl95MSA9IG51bGw7IC8vIGVuZCBvZiBjdXJyZW50IHN1YnBhdGhcbiAgdGhpcy5fID0gXCJcIjtcbn1cblxuZnVuY3Rpb24gcGF0aCgpIHtcbiAgcmV0dXJuIG5ldyBQYXRoO1xufVxuXG5QYXRoLnByb3RvdHlwZSA9IHBhdGgucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUGF0aCxcbiAgbW92ZVRvOiBmdW5jdGlvbih4LCB5KSB7XG4gICAgdGhpcy5fICs9IFwiTVwiICsgKHRoaXMuX3gwID0gdGhpcy5feDEgPSAreCkgKyBcIixcIiArICh0aGlzLl95MCA9IHRoaXMuX3kxID0gK3kpO1xuICB9LFxuICBjbG9zZVBhdGg6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl94MSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5feDEgPSB0aGlzLl94MCwgdGhpcy5feTEgPSB0aGlzLl95MDtcbiAgICAgIHRoaXMuXyArPSBcIlpcIjtcbiAgICB9XG4gIH0sXG4gIGxpbmVUbzogZnVuY3Rpb24oeCwgeSkge1xuICAgIHRoaXMuXyArPSBcIkxcIiArICh0aGlzLl94MSA9ICt4KSArIFwiLFwiICsgKHRoaXMuX3kxID0gK3kpO1xuICB9LFxuICBxdWFkcmF0aWNDdXJ2ZVRvOiBmdW5jdGlvbih4MSwgeTEsIHgsIHkpIHtcbiAgICB0aGlzLl8gKz0gXCJRXCIgKyAoK3gxKSArIFwiLFwiICsgKCt5MSkgKyBcIixcIiArICh0aGlzLl94MSA9ICt4KSArIFwiLFwiICsgKHRoaXMuX3kxID0gK3kpO1xuICB9LFxuICBiZXppZXJDdXJ2ZVRvOiBmdW5jdGlvbih4MSwgeTEsIHgyLCB5MiwgeCwgeSkge1xuICAgIHRoaXMuXyArPSBcIkNcIiArICgreDEpICsgXCIsXCIgKyAoK3kxKSArIFwiLFwiICsgKCt4MikgKyBcIixcIiArICgreTIpICsgXCIsXCIgKyAodGhpcy5feDEgPSAreCkgKyBcIixcIiArICh0aGlzLl95MSA9ICt5KTtcbiAgfSxcbiAgYXJjVG86IGZ1bmN0aW9uKHgxLCB5MSwgeDIsIHkyLCByKSB7XG4gICAgeDEgPSAreDEsIHkxID0gK3kxLCB4MiA9ICt4MiwgeTIgPSAreTIsIHIgPSArcjtcbiAgICB2YXIgeDAgPSB0aGlzLl94MSxcbiAgICAgICAgeTAgPSB0aGlzLl95MSxcbiAgICAgICAgeDIxID0geDIgLSB4MSxcbiAgICAgICAgeTIxID0geTIgLSB5MSxcbiAgICAgICAgeDAxID0geDAgLSB4MSxcbiAgICAgICAgeTAxID0geTAgLSB5MSxcbiAgICAgICAgbDAxXzIgPSB4MDEgKiB4MDEgKyB5MDEgKiB5MDE7XG5cbiAgICAvLyBJcyB0aGUgcmFkaXVzIG5lZ2F0aXZlPyBFcnJvci5cbiAgICBpZiAociA8IDApIHRocm93IG5ldyBFcnJvcihcIm5lZ2F0aXZlIHJhZGl1czogXCIgKyByKTtcblxuICAgIC8vIElzIHRoaXMgcGF0aCBlbXB0eT8gTW92ZSB0byAoeDEseTEpLlxuICAgIGlmICh0aGlzLl94MSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5fICs9IFwiTVwiICsgKHRoaXMuX3gxID0geDEpICsgXCIsXCIgKyAodGhpcy5feTEgPSB5MSk7XG4gICAgfVxuXG4gICAgLy8gT3IsIGlzICh4MSx5MSkgY29pbmNpZGVudCB3aXRoICh4MCx5MCk/IERvIG5vdGhpbmcuXG4gICAgZWxzZSBpZiAoIShsMDFfMiA+IGVwc2lsb24pKTtcblxuICAgIC8vIE9yLCBhcmUgKHgwLHkwKSwgKHgxLHkxKSBhbmQgKHgyLHkyKSBjb2xsaW5lYXI/XG4gICAgLy8gRXF1aXZhbGVudGx5LCBpcyAoeDEseTEpIGNvaW5jaWRlbnQgd2l0aCAoeDIseTIpP1xuICAgIC8vIE9yLCBpcyB0aGUgcmFkaXVzIHplcm8/IExpbmUgdG8gKHgxLHkxKS5cbiAgICBlbHNlIGlmICghKE1hdGguYWJzKHkwMSAqIHgyMSAtIHkyMSAqIHgwMSkgPiBlcHNpbG9uKSB8fCAhcikge1xuICAgICAgdGhpcy5fICs9IFwiTFwiICsgKHRoaXMuX3gxID0geDEpICsgXCIsXCIgKyAodGhpcy5feTEgPSB5MSk7XG4gICAgfVxuXG4gICAgLy8gT3RoZXJ3aXNlLCBkcmF3IGFuIGFyYyFcbiAgICBlbHNlIHtcbiAgICAgIHZhciB4MjAgPSB4MiAtIHgwLFxuICAgICAgICAgIHkyMCA9IHkyIC0geTAsXG4gICAgICAgICAgbDIxXzIgPSB4MjEgKiB4MjEgKyB5MjEgKiB5MjEsXG4gICAgICAgICAgbDIwXzIgPSB4MjAgKiB4MjAgKyB5MjAgKiB5MjAsXG4gICAgICAgICAgbDIxID0gTWF0aC5zcXJ0KGwyMV8yKSxcbiAgICAgICAgICBsMDEgPSBNYXRoLnNxcnQobDAxXzIpLFxuICAgICAgICAgIGwgPSByICogTWF0aC50YW4oKHBpIC0gTWF0aC5hY29zKChsMjFfMiArIGwwMV8yIC0gbDIwXzIpIC8gKDIgKiBsMjEgKiBsMDEpKSkgLyAyKSxcbiAgICAgICAgICB0MDEgPSBsIC8gbDAxLFxuICAgICAgICAgIHQyMSA9IGwgLyBsMjE7XG5cbiAgICAgIC8vIElmIHRoZSBzdGFydCB0YW5nZW50IGlzIG5vdCBjb2luY2lkZW50IHdpdGggKHgwLHkwKSwgbGluZSB0by5cbiAgICAgIGlmIChNYXRoLmFicyh0MDEgLSAxKSA+IGVwc2lsb24pIHtcbiAgICAgICAgdGhpcy5fICs9IFwiTFwiICsgKHgxICsgdDAxICogeDAxKSArIFwiLFwiICsgKHkxICsgdDAxICogeTAxKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fICs9IFwiQVwiICsgciArIFwiLFwiICsgciArIFwiLDAsMCxcIiArICgrKHkwMSAqIHgyMCA+IHgwMSAqIHkyMCkpICsgXCIsXCIgKyAodGhpcy5feDEgPSB4MSArIHQyMSAqIHgyMSkgKyBcIixcIiArICh0aGlzLl95MSA9IHkxICsgdDIxICogeTIxKTtcbiAgICB9XG4gIH0sXG4gIGFyYzogZnVuY3Rpb24oeCwgeSwgciwgYTAsIGExLCBjY3cpIHtcbiAgICB4ID0gK3gsIHkgPSAreSwgciA9ICtyLCBjY3cgPSAhIWNjdztcbiAgICB2YXIgZHggPSByICogTWF0aC5jb3MoYTApLFxuICAgICAgICBkeSA9IHIgKiBNYXRoLnNpbihhMCksXG4gICAgICAgIHgwID0geCArIGR4LFxuICAgICAgICB5MCA9IHkgKyBkeSxcbiAgICAgICAgY3cgPSAxIF4gY2N3LFxuICAgICAgICBkYSA9IGNjdyA/IGEwIC0gYTEgOiBhMSAtIGEwO1xuXG4gICAgLy8gSXMgdGhlIHJhZGl1cyBuZWdhdGl2ZT8gRXJyb3IuXG4gICAgaWYgKHIgPCAwKSB0aHJvdyBuZXcgRXJyb3IoXCJuZWdhdGl2ZSByYWRpdXM6IFwiICsgcik7XG5cbiAgICAvLyBJcyB0aGlzIHBhdGggZW1wdHk/IE1vdmUgdG8gKHgwLHkwKS5cbiAgICBpZiAodGhpcy5feDEgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuXyArPSBcIk1cIiArIHgwICsgXCIsXCIgKyB5MDtcbiAgICB9XG5cbiAgICAvLyBPciwgaXMgKHgwLHkwKSBub3QgY29pbmNpZGVudCB3aXRoIHRoZSBwcmV2aW91cyBwb2ludD8gTGluZSB0byAoeDAseTApLlxuICAgIGVsc2UgaWYgKE1hdGguYWJzKHRoaXMuX3gxIC0geDApID4gZXBzaWxvbiB8fCBNYXRoLmFicyh0aGlzLl95MSAtIHkwKSA+IGVwc2lsb24pIHtcbiAgICAgIHRoaXMuXyArPSBcIkxcIiArIHgwICsgXCIsXCIgKyB5MDtcbiAgICB9XG5cbiAgICAvLyBJcyB0aGlzIGFyYyBlbXB0eT8gV2XigJlyZSBkb25lLlxuICAgIGlmICghcikgcmV0dXJuO1xuXG4gICAgLy8gRG9lcyB0aGUgYW5nbGUgZ28gdGhlIHdyb25nIHdheT8gRmxpcCB0aGUgZGlyZWN0aW9uLlxuICAgIGlmIChkYSA8IDApIGRhID0gZGEgJSB0YXUgKyB0YXU7XG5cbiAgICAvLyBJcyB0aGlzIGEgY29tcGxldGUgY2lyY2xlPyBEcmF3IHR3byBhcmNzIHRvIGNvbXBsZXRlIHRoZSBjaXJjbGUuXG4gICAgaWYgKGRhID4gdGF1RXBzaWxvbikge1xuICAgICAgdGhpcy5fICs9IFwiQVwiICsgciArIFwiLFwiICsgciArIFwiLDAsMSxcIiArIGN3ICsgXCIsXCIgKyAoeCAtIGR4KSArIFwiLFwiICsgKHkgLSBkeSkgKyBcIkFcIiArIHIgKyBcIixcIiArIHIgKyBcIiwwLDEsXCIgKyBjdyArIFwiLFwiICsgKHRoaXMuX3gxID0geDApICsgXCIsXCIgKyAodGhpcy5feTEgPSB5MCk7XG4gICAgfVxuXG4gICAgLy8gSXMgdGhpcyBhcmMgbm9uLWVtcHR5PyBEcmF3IGFuIGFyYyFcbiAgICBlbHNlIGlmIChkYSA+IGVwc2lsb24pIHtcbiAgICAgIHRoaXMuXyArPSBcIkFcIiArIHIgKyBcIixcIiArIHIgKyBcIiwwLFwiICsgKCsoZGEgPj0gcGkpKSArIFwiLFwiICsgY3cgKyBcIixcIiArICh0aGlzLl94MSA9IHggKyByICogTWF0aC5jb3MoYTEpKSArIFwiLFwiICsgKHRoaXMuX3kxID0geSArIHIgKiBNYXRoLnNpbihhMSkpO1xuICAgIH1cbiAgfSxcbiAgcmVjdDogZnVuY3Rpb24oeCwgeSwgdywgaCkge1xuICAgIHRoaXMuXyArPSBcIk1cIiArICh0aGlzLl94MCA9IHRoaXMuX3gxID0gK3gpICsgXCIsXCIgKyAodGhpcy5feTAgPSB0aGlzLl95MSA9ICt5KSArIFwiaFwiICsgKCt3KSArIFwidlwiICsgKCtoKSArIFwiaFwiICsgKC13KSArIFwiWlwiO1xuICB9LFxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuXztcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgcGF0aDtcbiIsImV4cG9ydCB2YXIgcHJlZml4ID0gXCIkXCI7XG5cbmZ1bmN0aW9uIE1hcCgpIHt9XG5cbk1hcC5wcm90b3R5cGUgPSBtYXAucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogTWFwLFxuICBoYXM6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiAocHJlZml4ICsga2V5KSBpbiB0aGlzO1xuICB9LFxuICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiB0aGlzW3ByZWZpeCArIGtleV07XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXNbcHJlZml4ICsga2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBwcm9wZXJ0eSA9IHByZWZpeCArIGtleTtcbiAgICByZXR1cm4gcHJvcGVydHkgaW4gdGhpcyAmJiBkZWxldGUgdGhpc1twcm9wZXJ0eV07XG4gIH0sXG4gIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzKSBpZiAocHJvcGVydHlbMF0gPT09IHByZWZpeCkgZGVsZXRlIHRoaXNbcHJvcGVydHldO1xuICB9LFxuICBrZXlzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMpIGlmIChwcm9wZXJ0eVswXSA9PT0gcHJlZml4KSBrZXlzLnB1c2gocHJvcGVydHkuc2xpY2UoMSkpO1xuICAgIHJldHVybiBrZXlzO1xuICB9LFxuICB2YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzKSBpZiAocHJvcGVydHlbMF0gPT09IHByZWZpeCkgdmFsdWVzLnB1c2godGhpc1twcm9wZXJ0eV0pO1xuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0sXG4gIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdGhpcykgaWYgKHByb3BlcnR5WzBdID09PSBwcmVmaXgpIGVudHJpZXMucHVzaCh7a2V5OiBwcm9wZXJ0eS5zbGljZSgxKSwgdmFsdWU6IHRoaXNbcHJvcGVydHldfSk7XG4gICAgcmV0dXJuIGVudHJpZXM7XG4gIH0sXG4gIHNpemU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzaXplID0gMDtcbiAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiB0aGlzKSBpZiAocHJvcGVydHlbMF0gPT09IHByZWZpeCkgKytzaXplO1xuICAgIHJldHVybiBzaXplO1xuICB9LFxuICBlbXB0eTogZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gdGhpcykgaWYgKHByb3BlcnR5WzBdID09PSBwcmVmaXgpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgZWFjaDogZnVuY3Rpb24oZikge1xuICAgIGZvciAodmFyIHByb3BlcnR5IGluIHRoaXMpIGlmIChwcm9wZXJ0eVswXSA9PT0gcHJlZml4KSBmKHRoaXNbcHJvcGVydHldLCBwcm9wZXJ0eS5zbGljZSgxKSwgdGhpcyk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG1hcChvYmplY3QsIGYpIHtcbiAgdmFyIG1hcCA9IG5ldyBNYXA7XG5cbiAgLy8gQ29weSBjb25zdHJ1Y3Rvci5cbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIE1hcCkgb2JqZWN0LmVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkgeyBtYXAuc2V0KGtleSwgdmFsdWUpOyB9KTtcblxuICAvLyBJbmRleCBhcnJheSBieSBudW1lcmljIGluZGV4IG9yIHNwZWNpZmllZCBrZXkgZnVuY3Rpb24uXG4gIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIHZhciBpID0gLTEsXG4gICAgICAgIG4gPSBvYmplY3QubGVuZ3RoLFxuICAgICAgICBvO1xuXG4gICAgaWYgKGYgPT0gbnVsbCkgd2hpbGUgKCsraSA8IG4pIG1hcC5zZXQoaSwgb2JqZWN0W2ldKTtcbiAgICBlbHNlIHdoaWxlICgrK2kgPCBuKSBtYXAuc2V0KGYobyA9IG9iamVjdFtpXSwgaSwgb2JqZWN0KSwgbyk7XG4gIH1cblxuICAvLyBDb252ZXJ0IG9iamVjdCB0byBtYXAuXG4gIGVsc2UgaWYgKG9iamVjdCkgZm9yICh2YXIga2V5IGluIG9iamVjdCkgbWFwLnNldChrZXksIG9iamVjdFtrZXldKTtcblxuICByZXR1cm4gbWFwO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtYXA7XG4iLCJpbXBvcnQge2RlZmF1bHQgYXMgbWFwLCBwcmVmaXh9IGZyb20gXCIuL21hcFwiO1xuXG5mdW5jdGlvbiBTZXQoKSB7fVxuXG52YXIgcHJvdG8gPSBtYXAucHJvdG90eXBlO1xuXG5TZXQucHJvdG90eXBlID0gc2V0LnByb3RvdHlwZSA9IHtcbiAgY29uc3RydWN0b3I6IFNldCxcbiAgaGFzOiBwcm90by5oYXMsXG4gIGFkZDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YWx1ZSArPSBcIlwiO1xuICAgIHRoaXNbcHJlZml4ICsgdmFsdWVdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHJlbW92ZTogcHJvdG8ucmVtb3ZlLFxuICBjbGVhcjogcHJvdG8uY2xlYXIsXG4gIHZhbHVlczogcHJvdG8ua2V5cyxcbiAgc2l6ZTogcHJvdG8uc2l6ZSxcbiAgZW1wdHk6IHByb3RvLmVtcHR5LFxuICBlYWNoOiBwcm90by5lYWNoXG59O1xuXG5mdW5jdGlvbiBzZXQob2JqZWN0LCBmKSB7XG4gIHZhciBzZXQgPSBuZXcgU2V0O1xuXG4gIC8vIENvcHkgY29uc3RydWN0b3IuXG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTZXQpIG9iamVjdC5lYWNoKGZ1bmN0aW9uKHZhbHVlKSB7IHNldC5hZGQodmFsdWUpOyB9KTtcblxuICAvLyBPdGhlcndpc2UsIGFzc3VtZSBpdOKAmXMgYW4gYXJyYXkuXG4gIGVsc2UgaWYgKG9iamVjdCkge1xuICAgIHZhciBpID0gLTEsIG4gPSBvYmplY3QubGVuZ3RoO1xuICAgIGlmIChmID09IG51bGwpIHdoaWxlICgrK2kgPCBuKSBzZXQuYWRkKG9iamVjdFtpXSk7XG4gICAgZWxzZSB3aGlsZSAoKytpIDwgbikgc2V0LmFkZChmKG9iamVjdFtpXSwgaSwgb2JqZWN0KSk7XG4gIH1cblxuICByZXR1cm4gc2V0O1xufVxuXG5leHBvcnQgZGVmYXVsdCBzZXQ7XG4iLCJ2YXIgYXJyYXkgPSBBcnJheS5wcm90b3R5cGU7XG5cbmV4cG9ydCB2YXIgc2xpY2UgPSBhcnJheS5zbGljZTtcbiIsImZ1bmN0aW9uIHJlc3BvbnNlQXJyYXlCdWZmZXIocmVzcG9uc2UpIHtcbiAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1cyArIFwiIFwiICsgcmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gIHJldHVybiByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnB1dCwgaW5pdCkge1xuICByZXR1cm4gZmV0Y2goaW5wdXQsIGluaXQpLnRoZW4ocmVzcG9uc2VBcnJheUJ1ZmZlcik7XG59XG4iLCJ2YXIgRU9MID0ge30sXG4gICAgRU9GID0ge30sXG4gICAgUVVPVEUgPSAzNCxcbiAgICBORVdMSU5FID0gMTAsXG4gICAgUkVUVVJOID0gMTM7XG5cbmZ1bmN0aW9uIG9iamVjdENvbnZlcnRlcihjb2x1bW5zKSB7XG4gIHJldHVybiBuZXcgRnVuY3Rpb24oXCJkXCIsIFwicmV0dXJuIHtcIiArIGNvbHVtbnMubWFwKGZ1bmN0aW9uKG5hbWUsIGkpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobmFtZSkgKyBcIjogZFtcIiArIGkgKyBcIl0gfHwgXFxcIlxcXCJcIjtcbiAgfSkuam9pbihcIixcIikgKyBcIn1cIik7XG59XG5cbmZ1bmN0aW9uIGN1c3RvbUNvbnZlcnRlcihjb2x1bW5zLCBmKSB7XG4gIHZhciBvYmplY3QgPSBvYmplY3RDb252ZXJ0ZXIoY29sdW1ucyk7XG4gIHJldHVybiBmdW5jdGlvbihyb3csIGkpIHtcbiAgICByZXR1cm4gZihvYmplY3Qocm93KSwgaSwgY29sdW1ucyk7XG4gIH07XG59XG5cbi8vIENvbXB1dGUgdW5pcXVlIGNvbHVtbnMgaW4gb3JkZXIgb2YgZGlzY292ZXJ5LlxuZnVuY3Rpb24gaW5mZXJDb2x1bW5zKHJvd3MpIHtcbiAgdmFyIGNvbHVtblNldCA9IE9iamVjdC5jcmVhdGUobnVsbCksXG4gICAgICBjb2x1bW5zID0gW107XG5cbiAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uKHJvdykge1xuICAgIGZvciAodmFyIGNvbHVtbiBpbiByb3cpIHtcbiAgICAgIGlmICghKGNvbHVtbiBpbiBjb2x1bW5TZXQpKSB7XG4gICAgICAgIGNvbHVtbnMucHVzaChjb2x1bW5TZXRbY29sdW1uXSA9IGNvbHVtbik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY29sdW1ucztcbn1cblxuZnVuY3Rpb24gcGFkKHZhbHVlLCB3aWR0aCkge1xuICB2YXIgcyA9IHZhbHVlICsgXCJcIiwgbGVuZ3RoID0gcy5sZW5ndGg7XG4gIHJldHVybiBsZW5ndGggPCB3aWR0aCA/IG5ldyBBcnJheSh3aWR0aCAtIGxlbmd0aCArIDEpLmpvaW4oMCkgKyBzIDogcztcbn1cblxuZnVuY3Rpb24gZm9ybWF0WWVhcih5ZWFyKSB7XG4gIHJldHVybiB5ZWFyIDwgMCA/IFwiLVwiICsgcGFkKC15ZWFyLCA2KVxuICAgIDogeWVhciA+IDk5OTkgPyBcIitcIiArIHBhZCh5ZWFyLCA2KVxuICAgIDogcGFkKHllYXIsIDQpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXRlKGRhdGUpIHtcbiAgdmFyIGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpLFxuICAgICAgbWludXRlcyA9IGRhdGUuZ2V0VVRDTWludXRlcygpLFxuICAgICAgc2Vjb25kcyA9IGRhdGUuZ2V0VVRDU2Vjb25kcygpLFxuICAgICAgbWlsbGlzZWNvbmRzID0gZGF0ZS5nZXRVVENNaWxsaXNlY29uZHMoKTtcbiAgcmV0dXJuIGlzTmFOKGRhdGUpID8gXCJJbnZhbGlkIERhdGVcIlxuICAgICAgOiBmb3JtYXRZZWFyKGRhdGUuZ2V0VVRDRnVsbFllYXIoKSwgNCkgKyBcIi1cIiArIHBhZChkYXRlLmdldFVUQ01vbnRoKCkgKyAxLCAyKSArIFwiLVwiICsgcGFkKGRhdGUuZ2V0VVRDRGF0ZSgpLCAyKVxuICAgICAgKyAobWlsbGlzZWNvbmRzID8gXCJUXCIgKyBwYWQoaG91cnMsIDIpICsgXCI6XCIgKyBwYWQobWludXRlcywgMikgKyBcIjpcIiArIHBhZChzZWNvbmRzLCAyKSArIFwiLlwiICsgcGFkKG1pbGxpc2Vjb25kcywgMykgKyBcIlpcIlxuICAgICAgOiBzZWNvbmRzID8gXCJUXCIgKyBwYWQoaG91cnMsIDIpICsgXCI6XCIgKyBwYWQobWludXRlcywgMikgKyBcIjpcIiArIHBhZChzZWNvbmRzLCAyKSArIFwiWlwiXG4gICAgICA6IG1pbnV0ZXMgfHwgaG91cnMgPyBcIlRcIiArIHBhZChob3VycywgMikgKyBcIjpcIiArIHBhZChtaW51dGVzLCAyKSArIFwiWlwiXG4gICAgICA6IFwiXCIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkZWxpbWl0ZXIpIHtcbiAgdmFyIHJlRm9ybWF0ID0gbmV3IFJlZ0V4cChcIltcXFwiXCIgKyBkZWxpbWl0ZXIgKyBcIlxcblxccl1cIiksXG4gICAgICBERUxJTUlURVIgPSBkZWxpbWl0ZXIuY2hhckNvZGVBdCgwKTtcblxuICBmdW5jdGlvbiBwYXJzZSh0ZXh0LCBmKSB7XG4gICAgdmFyIGNvbnZlcnQsIGNvbHVtbnMsIHJvd3MgPSBwYXJzZVJvd3ModGV4dCwgZnVuY3Rpb24ocm93LCBpKSB7XG4gICAgICBpZiAoY29udmVydCkgcmV0dXJuIGNvbnZlcnQocm93LCBpIC0gMSk7XG4gICAgICBjb2x1bW5zID0gcm93LCBjb252ZXJ0ID0gZiA/IGN1c3RvbUNvbnZlcnRlcihyb3csIGYpIDogb2JqZWN0Q29udmVydGVyKHJvdyk7XG4gICAgfSk7XG4gICAgcm93cy5jb2x1bW5zID0gY29sdW1ucyB8fCBbXTtcbiAgICByZXR1cm4gcm93cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlUm93cyh0ZXh0LCBmKSB7XG4gICAgdmFyIHJvd3MgPSBbXSwgLy8gb3V0cHV0IHJvd3NcbiAgICAgICAgTiA9IHRleHQubGVuZ3RoLFxuICAgICAgICBJID0gMCwgLy8gY3VycmVudCBjaGFyYWN0ZXIgaW5kZXhcbiAgICAgICAgbiA9IDAsIC8vIGN1cnJlbnQgbGluZSBudW1iZXJcbiAgICAgICAgdCwgLy8gY3VycmVudCB0b2tlblxuICAgICAgICBlb2YgPSBOIDw9IDAsIC8vIGN1cnJlbnQgdG9rZW4gZm9sbG93ZWQgYnkgRU9GP1xuICAgICAgICBlb2wgPSBmYWxzZTsgLy8gY3VycmVudCB0b2tlbiBmb2xsb3dlZCBieSBFT0w/XG5cbiAgICAvLyBTdHJpcCB0aGUgdHJhaWxpbmcgbmV3bGluZS5cbiAgICBpZiAodGV4dC5jaGFyQ29kZUF0KE4gLSAxKSA9PT0gTkVXTElORSkgLS1OO1xuICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQoTiAtIDEpID09PSBSRVRVUk4pIC0tTjtcblxuICAgIGZ1bmN0aW9uIHRva2VuKCkge1xuICAgICAgaWYgKGVvZikgcmV0dXJuIEVPRjtcbiAgICAgIGlmIChlb2wpIHJldHVybiBlb2wgPSBmYWxzZSwgRU9MO1xuXG4gICAgICAvLyBVbmVzY2FwZSBxdW90ZXMuXG4gICAgICB2YXIgaSwgaiA9IEksIGM7XG4gICAgICBpZiAodGV4dC5jaGFyQ29kZUF0KGopID09PSBRVU9URSkge1xuICAgICAgICB3aGlsZSAoSSsrIDwgTiAmJiB0ZXh0LmNoYXJDb2RlQXQoSSkgIT09IFFVT1RFIHx8IHRleHQuY2hhckNvZGVBdCgrK0kpID09PSBRVU9URSk7XG4gICAgICAgIGlmICgoaSA9IEkpID49IE4pIGVvZiA9IHRydWU7XG4gICAgICAgIGVsc2UgaWYgKChjID0gdGV4dC5jaGFyQ29kZUF0KEkrKykpID09PSBORVdMSU5FKSBlb2wgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChjID09PSBSRVRVUk4pIHsgZW9sID0gdHJ1ZTsgaWYgKHRleHQuY2hhckNvZGVBdChJKSA9PT0gTkVXTElORSkgKytJOyB9XG4gICAgICAgIHJldHVybiB0ZXh0LnNsaWNlKGogKyAxLCBpIC0gMSkucmVwbGFjZSgvXCJcIi9nLCBcIlxcXCJcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIEZpbmQgbmV4dCBkZWxpbWl0ZXIgb3IgbmV3bGluZS5cbiAgICAgIHdoaWxlIChJIDwgTikge1xuICAgICAgICBpZiAoKGMgPSB0ZXh0LmNoYXJDb2RlQXQoaSA9IEkrKykpID09PSBORVdMSU5FKSBlb2wgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChjID09PSBSRVRVUk4pIHsgZW9sID0gdHJ1ZTsgaWYgKHRleHQuY2hhckNvZGVBdChJKSA9PT0gTkVXTElORSkgKytJOyB9XG4gICAgICAgIGVsc2UgaWYgKGMgIT09IERFTElNSVRFUikgY29udGludWU7XG4gICAgICAgIHJldHVybiB0ZXh0LnNsaWNlKGosIGkpO1xuICAgICAgfVxuXG4gICAgICAvLyBSZXR1cm4gbGFzdCB0b2tlbiBiZWZvcmUgRU9GLlxuICAgICAgcmV0dXJuIGVvZiA9IHRydWUsIHRleHQuc2xpY2UoaiwgTik7XG4gICAgfVxuXG4gICAgd2hpbGUgKCh0ID0gdG9rZW4oKSkgIT09IEVPRikge1xuICAgICAgdmFyIHJvdyA9IFtdO1xuICAgICAgd2hpbGUgKHQgIT09IEVPTCAmJiB0ICE9PSBFT0YpIHJvdy5wdXNoKHQpLCB0ID0gdG9rZW4oKTtcbiAgICAgIGlmIChmICYmIChyb3cgPSBmKHJvdywgbisrKSkgPT0gbnVsbCkgY29udGludWU7XG4gICAgICByb3dzLnB1c2gocm93KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcm93cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWZvcm1hdEJvZHkocm93cywgY29sdW1ucykge1xuICAgIHJldHVybiByb3dzLm1hcChmdW5jdGlvbihyb3cpIHtcbiAgICAgIHJldHVybiBjb2x1bW5zLm1hcChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgcmV0dXJuIGZvcm1hdFZhbHVlKHJvd1tjb2x1bW5dKTtcbiAgICAgIH0pLmpvaW4oZGVsaW1pdGVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdChyb3dzLCBjb2x1bW5zKSB7XG4gICAgaWYgKGNvbHVtbnMgPT0gbnVsbCkgY29sdW1ucyA9IGluZmVyQ29sdW1ucyhyb3dzKTtcbiAgICByZXR1cm4gW2NvbHVtbnMubWFwKGZvcm1hdFZhbHVlKS5qb2luKGRlbGltaXRlcildLmNvbmNhdChwcmVmb3JtYXRCb2R5KHJvd3MsIGNvbHVtbnMpKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0Qm9keShyb3dzLCBjb2x1bW5zKSB7XG4gICAgaWYgKGNvbHVtbnMgPT0gbnVsbCkgY29sdW1ucyA9IGluZmVyQ29sdW1ucyhyb3dzKTtcbiAgICByZXR1cm4gcHJlZm9ybWF0Qm9keShyb3dzLCBjb2x1bW5zKS5qb2luKFwiXFxuXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0Um93cyhyb3dzKSB7XG4gICAgcmV0dXJuIHJvd3MubWFwKGZvcm1hdFJvdykuam9pbihcIlxcblwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFJvdyhyb3cpIHtcbiAgICByZXR1cm4gcm93Lm1hcChmb3JtYXRWYWx1ZSkuam9pbihkZWxpbWl0ZXIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCJcbiAgICAgICAgOiB2YWx1ZSBpbnN0YW5jZW9mIERhdGUgPyBmb3JtYXREYXRlKHZhbHVlKVxuICAgICAgICA6IHJlRm9ybWF0LnRlc3QodmFsdWUgKz0gXCJcIikgPyBcIlxcXCJcIiArIHZhbHVlLnJlcGxhY2UoL1wiL2csIFwiXFxcIlxcXCJcIikgKyBcIlxcXCJcIlxuICAgICAgICA6IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJzZTogcGFyc2UsXG4gICAgcGFyc2VSb3dzOiBwYXJzZVJvd3MsXG4gICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgZm9ybWF0Qm9keTogZm9ybWF0Qm9keSxcbiAgICBmb3JtYXRSb3dzOiBmb3JtYXRSb3dzLFxuICAgIGZvcm1hdFJvdzogZm9ybWF0Um93LFxuICAgIGZvcm1hdFZhbHVlOiBmb3JtYXRWYWx1ZVxuICB9O1xufVxuIiwiaW1wb3J0IGRzdiBmcm9tIFwiLi9kc3YuanNcIjtcblxudmFyIGNzdiA9IGRzdihcIixcIik7XG5cbmV4cG9ydCB2YXIgY3N2UGFyc2UgPSBjc3YucGFyc2U7XG5leHBvcnQgdmFyIGNzdlBhcnNlUm93cyA9IGNzdi5wYXJzZVJvd3M7XG5leHBvcnQgdmFyIGNzdkZvcm1hdCA9IGNzdi5mb3JtYXQ7XG5leHBvcnQgdmFyIGNzdkZvcm1hdEJvZHkgPSBjc3YuZm9ybWF0Qm9keTtcbmV4cG9ydCB2YXIgY3N2Rm9ybWF0Um93cyA9IGNzdi5mb3JtYXRSb3dzO1xuZXhwb3J0IHZhciBjc3ZGb3JtYXRSb3cgPSBjc3YuZm9ybWF0Um93O1xuZXhwb3J0IHZhciBjc3ZGb3JtYXRWYWx1ZSA9IGNzdi5mb3JtYXRWYWx1ZTtcbiIsImltcG9ydCBkc3YgZnJvbSBcIi4vZHN2LmpzXCI7XG5cbnZhciB0c3YgPSBkc3YoXCJcXHRcIik7XG5cbmV4cG9ydCB2YXIgdHN2UGFyc2UgPSB0c3YucGFyc2U7XG5leHBvcnQgdmFyIHRzdlBhcnNlUm93cyA9IHRzdi5wYXJzZVJvd3M7XG5leHBvcnQgdmFyIHRzdkZvcm1hdCA9IHRzdi5mb3JtYXQ7XG5leHBvcnQgdmFyIHRzdkZvcm1hdEJvZHkgPSB0c3YuZm9ybWF0Qm9keTtcbmV4cG9ydCB2YXIgdHN2Rm9ybWF0Um93cyA9IHRzdi5mb3JtYXRSb3dzO1xuZXhwb3J0IHZhciB0c3ZGb3JtYXRSb3cgPSB0c3YuZm9ybWF0Um93O1xuZXhwb3J0IHZhciB0c3ZGb3JtYXRWYWx1ZSA9IHRzdi5mb3JtYXRWYWx1ZTtcbiIsImZ1bmN0aW9uIHJlc3BvbnNlVGV4dChyZXNwb25zZSkge1xuICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzICsgXCIgXCIgKyByZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIGZldGNoKGlucHV0LCBpbml0KS50aGVuKHJlc3BvbnNlVGV4dCk7XG59XG4iLCJpbXBvcnQge2NzdlBhcnNlLCBkc3ZGb3JtYXQsIHRzdlBhcnNlfSBmcm9tIFwiZDMtZHN2XCI7XG5pbXBvcnQgdGV4dCBmcm9tIFwiLi90ZXh0XCI7XG5cbmZ1bmN0aW9uIGRzdlBhcnNlKHBhcnNlKSB7XG4gIHJldHVybiBmdW5jdGlvbihpbnB1dCwgaW5pdCwgcm93KSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgdHlwZW9mIGluaXQgPT09IFwiZnVuY3Rpb25cIikgcm93ID0gaW5pdCwgaW5pdCA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGV4dChpbnB1dCwgaW5pdCkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHBhcnNlKHJlc3BvbnNlLCByb3cpO1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkc3YoZGVsaW1pdGVyLCBpbnB1dCwgaW5pdCwgcm93KSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzICYmIHR5cGVvZiBpbml0ID09PSBcImZ1bmN0aW9uXCIpIHJvdyA9IGluaXQsIGluaXQgPSB1bmRlZmluZWQ7XG4gIHZhciBmb3JtYXQgPSBkc3ZGb3JtYXQoZGVsaW1pdGVyKTtcbiAgcmV0dXJuIHRleHQoaW5wdXQsIGluaXQpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gZm9ybWF0LnBhcnNlKHJlc3BvbnNlLCByb3cpO1xuICB9KTtcbn1cblxuZXhwb3J0IHZhciBjc3YgPSBkc3ZQYXJzZShjc3ZQYXJzZSk7XG5leHBvcnQgdmFyIHRzdiA9IGRzdlBhcnNlKHRzdlBhcnNlKTtcbiIsImltcG9ydCB0ZXh0IGZyb20gXCIuL3RleHRcIjtcblxuZnVuY3Rpb24gcGFyc2VyKHR5cGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGlucHV0LCBpbml0KSAge1xuICAgIHJldHVybiB0ZXh0KGlucHV0LCBpbml0KS50aGVuKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgIHJldHVybiAobmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHRleHQsIHR5cGUpO1xuICAgIH0pO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZXIoXCJhcHBsaWNhdGlvbi94bWxcIik7XG5cbmV4cG9ydCB2YXIgaHRtbCA9IHBhcnNlcihcInRleHQvaHRtbFwiKTtcblxuZXhwb3J0IHZhciBzdmcgPSBwYXJzZXIoXCJpbWFnZS9zdmcreG1sXCIpO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZCkge1xuICB2YXIgeCA9ICt0aGlzLl94LmNhbGwobnVsbCwgZCksXG4gICAgICB5ID0gK3RoaXMuX3kuY2FsbChudWxsLCBkKTtcbiAgcmV0dXJuIGFkZCh0aGlzLmNvdmVyKHgsIHkpLCB4LCB5LCBkKTtcbn1cblxuZnVuY3Rpb24gYWRkKHRyZWUsIHgsIHksIGQpIHtcbiAgaWYgKGlzTmFOKHgpIHx8IGlzTmFOKHkpKSByZXR1cm4gdHJlZTsgLy8gaWdub3JlIGludmFsaWQgcG9pbnRzXG5cbiAgdmFyIHBhcmVudCxcbiAgICAgIG5vZGUgPSB0cmVlLl9yb290LFxuICAgICAgbGVhZiA9IHtkYXRhOiBkfSxcbiAgICAgIHgwID0gdHJlZS5feDAsXG4gICAgICB5MCA9IHRyZWUuX3kwLFxuICAgICAgeDEgPSB0cmVlLl94MSxcbiAgICAgIHkxID0gdHJlZS5feTEsXG4gICAgICB4bSxcbiAgICAgIHltLFxuICAgICAgeHAsXG4gICAgICB5cCxcbiAgICAgIHJpZ2h0LFxuICAgICAgYm90dG9tLFxuICAgICAgaSxcbiAgICAgIGo7XG5cbiAgLy8gSWYgdGhlIHRyZWUgaXMgZW1wdHksIGluaXRpYWxpemUgdGhlIHJvb3QgYXMgYSBsZWFmLlxuICBpZiAoIW5vZGUpIHJldHVybiB0cmVlLl9yb290ID0gbGVhZiwgdHJlZTtcblxuICAvLyBGaW5kIHRoZSBleGlzdGluZyBsZWFmIGZvciB0aGUgbmV3IHBvaW50LCBvciBhZGQgaXQuXG4gIHdoaWxlIChub2RlLmxlbmd0aCkge1xuICAgIGlmIChyaWdodCA9IHggPj0gKHhtID0gKHgwICsgeDEpIC8gMikpIHgwID0geG07IGVsc2UgeDEgPSB4bTtcbiAgICBpZiAoYm90dG9tID0geSA+PSAoeW0gPSAoeTAgKyB5MSkgLyAyKSkgeTAgPSB5bTsgZWxzZSB5MSA9IHltO1xuICAgIGlmIChwYXJlbnQgPSBub2RlLCAhKG5vZGUgPSBub2RlW2kgPSBib3R0b20gPDwgMSB8IHJpZ2h0XSkpIHJldHVybiBwYXJlbnRbaV0gPSBsZWFmLCB0cmVlO1xuICB9XG5cbiAgLy8gSXMgdGhlIG5ldyBwb2ludCBpcyBleGFjdGx5IGNvaW5jaWRlbnQgd2l0aCB0aGUgZXhpc3RpbmcgcG9pbnQ/XG4gIHhwID0gK3RyZWUuX3guY2FsbChudWxsLCBub2RlLmRhdGEpO1xuICB5cCA9ICt0cmVlLl95LmNhbGwobnVsbCwgbm9kZS5kYXRhKTtcbiAgaWYgKHggPT09IHhwICYmIHkgPT09IHlwKSByZXR1cm4gbGVhZi5uZXh0ID0gbm9kZSwgcGFyZW50ID8gcGFyZW50W2ldID0gbGVhZiA6IHRyZWUuX3Jvb3QgPSBsZWFmLCB0cmVlO1xuXG4gIC8vIE90aGVyd2lzZSwgc3BsaXQgdGhlIGxlYWYgbm9kZSB1bnRpbCB0aGUgb2xkIGFuZCBuZXcgcG9pbnQgYXJlIHNlcGFyYXRlZC5cbiAgZG8ge1xuICAgIHBhcmVudCA9IHBhcmVudCA/IHBhcmVudFtpXSA9IG5ldyBBcnJheSg0KSA6IHRyZWUuX3Jvb3QgPSBuZXcgQXJyYXkoNCk7XG4gICAgaWYgKHJpZ2h0ID0geCA+PSAoeG0gPSAoeDAgKyB4MSkgLyAyKSkgeDAgPSB4bTsgZWxzZSB4MSA9IHhtO1xuICAgIGlmIChib3R0b20gPSB5ID49ICh5bSA9ICh5MCArIHkxKSAvIDIpKSB5MCA9IHltOyBlbHNlIHkxID0geW07XG4gIH0gd2hpbGUgKChpID0gYm90dG9tIDw8IDEgfCByaWdodCkgPT09IChqID0gKHlwID49IHltKSA8PCAxIHwgKHhwID49IHhtKSkpO1xuICByZXR1cm4gcGFyZW50W2pdID0gbm9kZSwgcGFyZW50W2ldID0gbGVhZiwgdHJlZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFsbChkYXRhKSB7XG4gIHZhciBkLCBpLCBuID0gZGF0YS5sZW5ndGgsXG4gICAgICB4LFxuICAgICAgeSxcbiAgICAgIHh6ID0gbmV3IEFycmF5KG4pLFxuICAgICAgeXogPSBuZXcgQXJyYXkobiksXG4gICAgICB4MCA9IEluZmluaXR5LFxuICAgICAgeTAgPSBJbmZpbml0eSxcbiAgICAgIHgxID0gLUluZmluaXR5LFxuICAgICAgeTEgPSAtSW5maW5pdHk7XG5cbiAgLy8gQ29tcHV0ZSB0aGUgcG9pbnRzIGFuZCB0aGVpciBleHRlbnQuXG4gIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICBpZiAoaXNOYU4oeCA9ICt0aGlzLl94LmNhbGwobnVsbCwgZCA9IGRhdGFbaV0pKSB8fCBpc05hTih5ID0gK3RoaXMuX3kuY2FsbChudWxsLCBkKSkpIGNvbnRpbnVlO1xuICAgIHh6W2ldID0geDtcbiAgICB5eltpXSA9IHk7XG4gICAgaWYgKHggPCB4MCkgeDAgPSB4O1xuICAgIGlmICh4ID4geDEpIHgxID0geDtcbiAgICBpZiAoeSA8IHkwKSB5MCA9IHk7XG4gICAgaWYgKHkgPiB5MSkgeTEgPSB5O1xuICB9XG5cbiAgLy8gSWYgdGhlcmUgd2VyZSBubyAodmFsaWQpIHBvaW50cywgYWJvcnQuXG4gIGlmICh4MCA+IHgxIHx8IHkwID4geTEpIHJldHVybiB0aGlzO1xuXG4gIC8vIEV4cGFuZCB0aGUgdHJlZSB0byBjb3ZlciB0aGUgbmV3IHBvaW50cy5cbiAgdGhpcy5jb3Zlcih4MCwgeTApLmNvdmVyKHgxLCB5MSk7XG5cbiAgLy8gQWRkIHRoZSBuZXcgcG9pbnRzLlxuICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgYWRkKHRoaXMsIHh6W2ldLCB5eltpXSwgZGF0YVtpXSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgsIHkpIHtcbiAgaWYgKGlzTmFOKHggPSAreCkgfHwgaXNOYU4oeSA9ICt5KSkgcmV0dXJuIHRoaXM7IC8vIGlnbm9yZSBpbnZhbGlkIHBvaW50c1xuXG4gIHZhciB4MCA9IHRoaXMuX3gwLFxuICAgICAgeTAgPSB0aGlzLl95MCxcbiAgICAgIHgxID0gdGhpcy5feDEsXG4gICAgICB5MSA9IHRoaXMuX3kxO1xuXG4gIC8vIElmIHRoZSBxdWFkdHJlZSBoYXMgbm8gZXh0ZW50LCBpbml0aWFsaXplIHRoZW0uXG4gIC8vIEludGVnZXIgZXh0ZW50IGFyZSBuZWNlc3Nhcnkgc28gdGhhdCBpZiB3ZSBsYXRlciBkb3VibGUgdGhlIGV4dGVudCxcbiAgLy8gdGhlIGV4aXN0aW5nIHF1YWRyYW50IGJvdW5kYXJpZXMgZG9u4oCZdCBjaGFuZ2UgZHVlIHRvIGZsb2F0aW5nIHBvaW50IGVycm9yIVxuICBpZiAoaXNOYU4oeDApKSB7XG4gICAgeDEgPSAoeDAgPSBNYXRoLmZsb29yKHgpKSArIDE7XG4gICAgeTEgPSAoeTAgPSBNYXRoLmZsb29yKHkpKSArIDE7XG4gIH1cblxuICAvLyBPdGhlcndpc2UsIGRvdWJsZSByZXBlYXRlZGx5IHRvIGNvdmVyLlxuICBlbHNlIHtcbiAgICB2YXIgeiA9IHgxIC0geDAsXG4gICAgICAgIG5vZGUgPSB0aGlzLl9yb290LFxuICAgICAgICBwYXJlbnQsXG4gICAgICAgIGk7XG5cbiAgICB3aGlsZSAoeDAgPiB4IHx8IHggPj0geDEgfHwgeTAgPiB5IHx8IHkgPj0geTEpIHtcbiAgICAgIGkgPSAoeSA8IHkwKSA8PCAxIHwgKHggPCB4MCk7XG4gICAgICBwYXJlbnQgPSBuZXcgQXJyYXkoNCksIHBhcmVudFtpXSA9IG5vZGUsIG5vZGUgPSBwYXJlbnQsIHogKj0gMjtcbiAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICBjYXNlIDA6IHgxID0geDAgKyB6LCB5MSA9IHkwICsgejsgYnJlYWs7XG4gICAgICAgIGNhc2UgMTogeDAgPSB4MSAtIHosIHkxID0geTAgKyB6OyBicmVhaztcbiAgICAgICAgY2FzZSAyOiB4MSA9IHgwICsgeiwgeTAgPSB5MSAtIHo7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IHgwID0geDEgLSB6LCB5MCA9IHkxIC0gejsgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Jvb3QgJiYgdGhpcy5fcm9vdC5sZW5ndGgpIHRoaXMuX3Jvb3QgPSBub2RlO1xuICB9XG5cbiAgdGhpcy5feDAgPSB4MDtcbiAgdGhpcy5feTAgPSB5MDtcbiAgdGhpcy5feDEgPSB4MTtcbiAgdGhpcy5feTEgPSB5MTtcbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2RlLCB4MCwgeTAsIHgxLCB5MSkge1xuICB0aGlzLm5vZGUgPSBub2RlO1xuICB0aGlzLngwID0geDA7XG4gIHRoaXMueTAgPSB5MDtcbiAgdGhpcy54MSA9IHgxO1xuICB0aGlzLnkxID0geTE7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZGVmYXVsdFgoZCkge1xuICByZXR1cm4gZFswXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXykge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh0aGlzLl94ID0gXywgdGhpcykgOiB0aGlzLl94O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRZKGQpIHtcbiAgcmV0dXJuIGRbMV07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKF8pIHtcbiAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAodGhpcy5feSA9IF8sIHRoaXMpIDogdGhpcy5feTtcbn1cbiIsImltcG9ydCB0cmVlX2FkZCwge2FkZEFsbCBhcyB0cmVlX2FkZEFsbH0gZnJvbSBcIi4vYWRkLmpzXCI7XG5pbXBvcnQgdHJlZV9jb3ZlciBmcm9tIFwiLi9jb3Zlci5qc1wiO1xuaW1wb3J0IHRyZWVfZGF0YSBmcm9tIFwiLi9kYXRhLmpzXCI7XG5pbXBvcnQgdHJlZV9leHRlbnQgZnJvbSBcIi4vZXh0ZW50LmpzXCI7XG5pbXBvcnQgdHJlZV9maW5kIGZyb20gXCIuL2ZpbmQuanNcIjtcbmltcG9ydCB0cmVlX3JlbW92ZSwge3JlbW92ZUFsbCBhcyB0cmVlX3JlbW92ZUFsbH0gZnJvbSBcIi4vcmVtb3ZlLmpzXCI7XG5pbXBvcnQgdHJlZV9yb290IGZyb20gXCIuL3Jvb3QuanNcIjtcbmltcG9ydCB0cmVlX3NpemUgZnJvbSBcIi4vc2l6ZS5qc1wiO1xuaW1wb3J0IHRyZWVfdmlzaXQgZnJvbSBcIi4vdmlzaXQuanNcIjtcbmltcG9ydCB0cmVlX3Zpc2l0QWZ0ZXIgZnJvbSBcIi4vdmlzaXRBZnRlci5qc1wiO1xuaW1wb3J0IHRyZWVfeCwge2RlZmF1bHRYfSBmcm9tIFwiLi94LmpzXCI7XG5pbXBvcnQgdHJlZV95LCB7ZGVmYXVsdFl9IGZyb20gXCIuL3kuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcXVhZHRyZWUobm9kZXMsIHgsIHkpIHtcbiAgdmFyIHRyZWUgPSBuZXcgUXVhZHRyZWUoeCA9PSBudWxsID8gZGVmYXVsdFggOiB4LCB5ID09IG51bGwgPyBkZWZhdWx0WSA6IHksIE5hTiwgTmFOLCBOYU4sIE5hTik7XG4gIHJldHVybiBub2RlcyA9PSBudWxsID8gdHJlZSA6IHRyZWUuYWRkQWxsKG5vZGVzKTtcbn1cblxuZnVuY3Rpb24gUXVhZHRyZWUoeCwgeSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgdGhpcy5feCA9IHg7XG4gIHRoaXMuX3kgPSB5O1xuICB0aGlzLl94MCA9IHgwO1xuICB0aGlzLl95MCA9IHkwO1xuICB0aGlzLl94MSA9IHgxO1xuICB0aGlzLl95MSA9IHkxO1xuICB0aGlzLl9yb290ID0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBsZWFmX2NvcHkobGVhZikge1xuICB2YXIgY29weSA9IHtkYXRhOiBsZWFmLmRhdGF9LCBuZXh0ID0gY29weTtcbiAgd2hpbGUgKGxlYWYgPSBsZWFmLm5leHQpIG5leHQgPSBuZXh0Lm5leHQgPSB7ZGF0YTogbGVhZi5kYXRhfTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbnZhciB0cmVlUHJvdG8gPSBxdWFkdHJlZS5wcm90b3R5cGUgPSBRdWFkdHJlZS5wcm90b3R5cGU7XG5cbnRyZWVQcm90by5jb3B5ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb3B5ID0gbmV3IFF1YWR0cmVlKHRoaXMuX3gsIHRoaXMuX3ksIHRoaXMuX3gwLCB0aGlzLl95MCwgdGhpcy5feDEsIHRoaXMuX3kxKSxcbiAgICAgIG5vZGUgPSB0aGlzLl9yb290LFxuICAgICAgbm9kZXMsXG4gICAgICBjaGlsZDtcblxuICBpZiAoIW5vZGUpIHJldHVybiBjb3B5O1xuXG4gIGlmICghbm9kZS5sZW5ndGgpIHJldHVybiBjb3B5Ll9yb290ID0gbGVhZl9jb3B5KG5vZGUpLCBjb3B5O1xuXG4gIG5vZGVzID0gW3tzb3VyY2U6IG5vZGUsIHRhcmdldDogY29weS5fcm9vdCA9IG5ldyBBcnJheSg0KX1dO1xuICB3aGlsZSAobm9kZSA9IG5vZGVzLnBvcCgpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyArK2kpIHtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGUuc291cmNlW2ldKSB7XG4gICAgICAgIGlmIChjaGlsZC5sZW5ndGgpIG5vZGVzLnB1c2goe3NvdXJjZTogY2hpbGQsIHRhcmdldDogbm9kZS50YXJnZXRbaV0gPSBuZXcgQXJyYXkoNCl9KTtcbiAgICAgICAgZWxzZSBub2RlLnRhcmdldFtpXSA9IGxlYWZfY29weShjaGlsZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvcHk7XG59O1xuXG50cmVlUHJvdG8uYWRkID0gdHJlZV9hZGQ7XG50cmVlUHJvdG8uYWRkQWxsID0gdHJlZV9hZGRBbGw7XG50cmVlUHJvdG8uY292ZXIgPSB0cmVlX2NvdmVyO1xudHJlZVByb3RvLmRhdGEgPSB0cmVlX2RhdGE7XG50cmVlUHJvdG8uZXh0ZW50ID0gdHJlZV9leHRlbnQ7XG50cmVlUHJvdG8uZmluZCA9IHRyZWVfZmluZDtcbnRyZWVQcm90by5yZW1vdmUgPSB0cmVlX3JlbW92ZTtcbnRyZWVQcm90by5yZW1vdmVBbGwgPSB0cmVlX3JlbW92ZUFsbDtcbnRyZWVQcm90by5yb290ID0gdHJlZV9yb290O1xudHJlZVByb3RvLnNpemUgPSB0cmVlX3NpemU7XG50cmVlUHJvdG8udmlzaXQgPSB0cmVlX3Zpc2l0O1xudHJlZVByb3RvLnZpc2l0QWZ0ZXIgPSB0cmVlX3Zpc2l0QWZ0ZXI7XG50cmVlUHJvdG8ueCA9IHRyZWVfeDtcbnRyZWVQcm90by55ID0gdHJlZV95O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBkYXRhID0gW107XG4gIHRoaXMudmlzaXQoZnVuY3Rpb24obm9kZSkge1xuICAgIGlmICghbm9kZS5sZW5ndGgpIGRvIGRhdGEucHVzaChub2RlLmRhdGEpOyB3aGlsZSAobm9kZSA9IG5vZGUubmV4dClcbiAgfSk7XG4gIHJldHVybiBkYXRhO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oXykge1xuICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgPyB0aGlzLmNvdmVyKCtfWzBdWzBdLCArX1swXVsxXSkuY292ZXIoK19bMV1bMF0sICtfWzFdWzFdKVxuICAgICAgOiBpc05hTih0aGlzLl94MCkgPyB1bmRlZmluZWQgOiBbW3RoaXMuX3gwLCB0aGlzLl95MF0sIFt0aGlzLl94MSwgdGhpcy5feTFdXTtcbn1cbiIsImltcG9ydCBRdWFkIGZyb20gXCIuL3F1YWQuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCwgeSwgcmFkaXVzKSB7XG4gIHZhciBkYXRhLFxuICAgICAgeDAgPSB0aGlzLl94MCxcbiAgICAgIHkwID0gdGhpcy5feTAsXG4gICAgICB4MSxcbiAgICAgIHkxLFxuICAgICAgeDIsXG4gICAgICB5MixcbiAgICAgIHgzID0gdGhpcy5feDEsXG4gICAgICB5MyA9IHRoaXMuX3kxLFxuICAgICAgcXVhZHMgPSBbXSxcbiAgICAgIG5vZGUgPSB0aGlzLl9yb290LFxuICAgICAgcSxcbiAgICAgIGk7XG5cbiAgaWYgKG5vZGUpIHF1YWRzLnB1c2gobmV3IFF1YWQobm9kZSwgeDAsIHkwLCB4MywgeTMpKTtcbiAgaWYgKHJhZGl1cyA9PSBudWxsKSByYWRpdXMgPSBJbmZpbml0eTtcbiAgZWxzZSB7XG4gICAgeDAgPSB4IC0gcmFkaXVzLCB5MCA9IHkgLSByYWRpdXM7XG4gICAgeDMgPSB4ICsgcmFkaXVzLCB5MyA9IHkgKyByYWRpdXM7XG4gICAgcmFkaXVzICo9IHJhZGl1cztcbiAgfVxuXG4gIHdoaWxlIChxID0gcXVhZHMucG9wKCkpIHtcblxuICAgIC8vIFN0b3Agc2VhcmNoaW5nIGlmIHRoaXMgcXVhZHJhbnQgY2Fu4oCZdCBjb250YWluIGEgY2xvc2VyIG5vZGUuXG4gICAgaWYgKCEobm9kZSA9IHEubm9kZSlcbiAgICAgICAgfHwgKHgxID0gcS54MCkgPiB4M1xuICAgICAgICB8fCAoeTEgPSBxLnkwKSA+IHkzXG4gICAgICAgIHx8ICh4MiA9IHEueDEpIDwgeDBcbiAgICAgICAgfHwgKHkyID0gcS55MSkgPCB5MCkgY29udGludWU7XG5cbiAgICAvLyBCaXNlY3QgdGhlIGN1cnJlbnQgcXVhZHJhbnQuXG4gICAgaWYgKG5vZGUubGVuZ3RoKSB7XG4gICAgICB2YXIgeG0gPSAoeDEgKyB4MikgLyAyLFxuICAgICAgICAgIHltID0gKHkxICsgeTIpIC8gMjtcblxuICAgICAgcXVhZHMucHVzaChcbiAgICAgICAgbmV3IFF1YWQobm9kZVszXSwgeG0sIHltLCB4MiwgeTIpLFxuICAgICAgICBuZXcgUXVhZChub2RlWzJdLCB4MSwgeW0sIHhtLCB5MiksXG4gICAgICAgIG5ldyBRdWFkKG5vZGVbMV0sIHhtLCB5MSwgeDIsIHltKSxcbiAgICAgICAgbmV3IFF1YWQobm9kZVswXSwgeDEsIHkxLCB4bSwgeW0pXG4gICAgICApO1xuXG4gICAgICAvLyBWaXNpdCB0aGUgY2xvc2VzdCBxdWFkcmFudCBmaXJzdC5cbiAgICAgIGlmIChpID0gKHkgPj0geW0pIDw8IDEgfCAoeCA+PSB4bSkpIHtcbiAgICAgICAgcSA9IHF1YWRzW3F1YWRzLmxlbmd0aCAtIDFdO1xuICAgICAgICBxdWFkc1txdWFkcy5sZW5ndGggLSAxXSA9IHF1YWRzW3F1YWRzLmxlbmd0aCAtIDEgLSBpXTtcbiAgICAgICAgcXVhZHNbcXVhZHMubGVuZ3RoIC0gMSAtIGldID0gcTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWaXNpdCB0aGlzIHBvaW50LiAoVmlzaXRpbmcgY29pbmNpZGVudCBwb2ludHMgaXNu4oCZdCBuZWNlc3NhcnkhKVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGR4ID0geCAtICt0aGlzLl94LmNhbGwobnVsbCwgbm9kZS5kYXRhKSxcbiAgICAgICAgICBkeSA9IHkgLSArdGhpcy5feS5jYWxsKG51bGwsIG5vZGUuZGF0YSksXG4gICAgICAgICAgZDIgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgIGlmIChkMiA8IHJhZGl1cykge1xuICAgICAgICB2YXIgZCA9IE1hdGguc3FydChyYWRpdXMgPSBkMik7XG4gICAgICAgIHgwID0geCAtIGQsIHkwID0geSAtIGQ7XG4gICAgICAgIHgzID0geCArIGQsIHkzID0geSArIGQ7XG4gICAgICAgIGRhdGEgPSBub2RlLmRhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihkKSB7XG4gIGlmIChpc05hTih4ID0gK3RoaXMuX3guY2FsbChudWxsLCBkKSkgfHwgaXNOYU4oeSA9ICt0aGlzLl95LmNhbGwobnVsbCwgZCkpKSByZXR1cm4gdGhpczsgLy8gaWdub3JlIGludmFsaWQgcG9pbnRzXG5cbiAgdmFyIHBhcmVudCxcbiAgICAgIG5vZGUgPSB0aGlzLl9yb290LFxuICAgICAgcmV0YWluZXIsXG4gICAgICBwcmV2aW91cyxcbiAgICAgIG5leHQsXG4gICAgICB4MCA9IHRoaXMuX3gwLFxuICAgICAgeTAgPSB0aGlzLl95MCxcbiAgICAgIHgxID0gdGhpcy5feDEsXG4gICAgICB5MSA9IHRoaXMuX3kxLFxuICAgICAgeCxcbiAgICAgIHksXG4gICAgICB4bSxcbiAgICAgIHltLFxuICAgICAgcmlnaHQsXG4gICAgICBib3R0b20sXG4gICAgICBpLFxuICAgICAgajtcblxuICAvLyBJZiB0aGUgdHJlZSBpcyBlbXB0eSwgaW5pdGlhbGl6ZSB0aGUgcm9vdCBhcyBhIGxlYWYuXG4gIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgLy8gRmluZCB0aGUgbGVhZiBub2RlIGZvciB0aGUgcG9pbnQuXG4gIC8vIFdoaWxlIGRlc2NlbmRpbmcsIGFsc28gcmV0YWluIHRoZSBkZWVwZXN0IHBhcmVudCB3aXRoIGEgbm9uLXJlbW92ZWQgc2libGluZy5cbiAgaWYgKG5vZGUubGVuZ3RoKSB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChyaWdodCA9IHggPj0gKHhtID0gKHgwICsgeDEpIC8gMikpIHgwID0geG07IGVsc2UgeDEgPSB4bTtcbiAgICBpZiAoYm90dG9tID0geSA+PSAoeW0gPSAoeTAgKyB5MSkgLyAyKSkgeTAgPSB5bTsgZWxzZSB5MSA9IHltO1xuICAgIGlmICghKHBhcmVudCA9IG5vZGUsIG5vZGUgPSBub2RlW2kgPSBib3R0b20gPDwgMSB8IHJpZ2h0XSkpIHJldHVybiB0aGlzO1xuICAgIGlmICghbm9kZS5sZW5ndGgpIGJyZWFrO1xuICAgIGlmIChwYXJlbnRbKGkgKyAxKSAmIDNdIHx8IHBhcmVudFsoaSArIDIpICYgM10gfHwgcGFyZW50WyhpICsgMykgJiAzXSkgcmV0YWluZXIgPSBwYXJlbnQsIGogPSBpO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgcG9pbnQgdG8gcmVtb3ZlLlxuICB3aGlsZSAobm9kZS5kYXRhICE9PSBkKSBpZiAoIShwcmV2aW91cyA9IG5vZGUsIG5vZGUgPSBub2RlLm5leHQpKSByZXR1cm4gdGhpcztcbiAgaWYgKG5leHQgPSBub2RlLm5leHQpIGRlbGV0ZSBub2RlLm5leHQ7XG5cbiAgLy8gSWYgdGhlcmUgYXJlIG11bHRpcGxlIGNvaW5jaWRlbnQgcG9pbnRzLCByZW1vdmUganVzdCB0aGUgcG9pbnQuXG4gIGlmIChwcmV2aW91cykgcmV0dXJuIChuZXh0ID8gcHJldmlvdXMubmV4dCA9IG5leHQgOiBkZWxldGUgcHJldmlvdXMubmV4dCksIHRoaXM7XG5cbiAgLy8gSWYgdGhpcyBpcyB0aGUgcm9vdCBwb2ludCwgcmVtb3ZlIGl0LlxuICBpZiAoIXBhcmVudCkgcmV0dXJuIHRoaXMuX3Jvb3QgPSBuZXh0LCB0aGlzO1xuXG4gIC8vIFJlbW92ZSB0aGlzIGxlYWYuXG4gIG5leHQgPyBwYXJlbnRbaV0gPSBuZXh0IDogZGVsZXRlIHBhcmVudFtpXTtcblxuICAvLyBJZiB0aGUgcGFyZW50IG5vdyBjb250YWlucyBleGFjdGx5IG9uZSBsZWFmLCBjb2xsYXBzZSBzdXBlcmZsdW91cyBwYXJlbnRzLlxuICBpZiAoKG5vZGUgPSBwYXJlbnRbMF0gfHwgcGFyZW50WzFdIHx8IHBhcmVudFsyXSB8fCBwYXJlbnRbM10pXG4gICAgICAmJiBub2RlID09PSAocGFyZW50WzNdIHx8IHBhcmVudFsyXSB8fCBwYXJlbnRbMV0gfHwgcGFyZW50WzBdKVxuICAgICAgJiYgIW5vZGUubGVuZ3RoKSB7XG4gICAgaWYgKHJldGFpbmVyKSByZXRhaW5lcltqXSA9IG5vZGU7XG4gICAgZWxzZSB0aGlzLl9yb290ID0gbm9kZTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWxsKGRhdGEpIHtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSBkYXRhLmxlbmd0aDsgaSA8IG47ICsraSkgdGhpcy5yZW1vdmUoZGF0YVtpXSk7XG4gIHJldHVybiB0aGlzO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9yb290O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oKSB7XG4gIHZhciBzaXplID0gMDtcbiAgdGhpcy52aXNpdChmdW5jdGlvbihub2RlKSB7XG4gICAgaWYgKCFub2RlLmxlbmd0aCkgZG8gKytzaXplOyB3aGlsZSAobm9kZSA9IG5vZGUubmV4dClcbiAgfSk7XG4gIHJldHVybiBzaXplO1xufVxuIiwiaW1wb3J0IFF1YWQgZnJvbSBcIi4vcXVhZC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihjYWxsYmFjaykge1xuICB2YXIgcXVhZHMgPSBbXSwgcSwgbm9kZSA9IHRoaXMuX3Jvb3QsIGNoaWxkLCB4MCwgeTAsIHgxLCB5MTtcbiAgaWYgKG5vZGUpIHF1YWRzLnB1c2gobmV3IFF1YWQobm9kZSwgdGhpcy5feDAsIHRoaXMuX3kwLCB0aGlzLl94MSwgdGhpcy5feTEpKTtcbiAgd2hpbGUgKHEgPSBxdWFkcy5wb3AoKSkge1xuICAgIGlmICghY2FsbGJhY2sobm9kZSA9IHEubm9kZSwgeDAgPSBxLngwLCB5MCA9IHEueTAsIHgxID0gcS54MSwgeTEgPSBxLnkxKSAmJiBub2RlLmxlbmd0aCkge1xuICAgICAgdmFyIHhtID0gKHgwICsgeDEpIC8gMiwgeW0gPSAoeTAgKyB5MSkgLyAyO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVszXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeG0sIHltLCB4MSwgeTEpKTtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbMl0pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHgwLCB5bSwgeG0sIHkxKSk7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzFdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4bSwgeTAsIHgxLCB5bSkpO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVswXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeDAsIHkwLCB4bSwgeW0pKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJpbXBvcnQgUXVhZCBmcm9tIFwiLi9xdWFkLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBxdWFkcyA9IFtdLCBuZXh0ID0gW10sIHE7XG4gIGlmICh0aGlzLl9yb290KSBxdWFkcy5wdXNoKG5ldyBRdWFkKHRoaXMuX3Jvb3QsIHRoaXMuX3gwLCB0aGlzLl95MCwgdGhpcy5feDEsIHRoaXMuX3kxKSk7XG4gIHdoaWxlIChxID0gcXVhZHMucG9wKCkpIHtcbiAgICB2YXIgbm9kZSA9IHEubm9kZTtcbiAgICBpZiAobm9kZS5sZW5ndGgpIHtcbiAgICAgIHZhciBjaGlsZCwgeDAgPSBxLngwLCB5MCA9IHEueTAsIHgxID0gcS54MSwgeTEgPSBxLnkxLCB4bSA9ICh4MCArIHgxKSAvIDIsIHltID0gKHkwICsgeTEpIC8gMjtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbMF0pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHgwLCB5MCwgeG0sIHltKSk7XG4gICAgICBpZiAoY2hpbGQgPSBub2RlWzFdKSBxdWFkcy5wdXNoKG5ldyBRdWFkKGNoaWxkLCB4bSwgeTAsIHgxLCB5bSkpO1xuICAgICAgaWYgKGNoaWxkID0gbm9kZVsyXSkgcXVhZHMucHVzaChuZXcgUXVhZChjaGlsZCwgeDAsIHltLCB4bSwgeTEpKTtcbiAgICAgIGlmIChjaGlsZCA9IG5vZGVbM10pIHF1YWRzLnB1c2gobmV3IFF1YWQoY2hpbGQsIHhtLCB5bSwgeDEsIHkxKSk7XG4gICAgfVxuICAgIG5leHQucHVzaChxKTtcbiAgfVxuICB3aGlsZSAocSA9IG5leHQucG9wKCkpIHtcbiAgICBjYWxsYmFjayhxLm5vZGUsIHEueDAsIHEueTAsIHEueDEsIHEueTEpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuIiwiaW1wb3J0IHtkaXNwYXRjaH0gZnJvbSBcImQzLWRpc3BhdGNoXCI7XG5pbXBvcnQge21hcH0gZnJvbSBcImQzLWNvbGxlY3Rpb25cIjtcbmltcG9ydCB7dGltZXJ9IGZyb20gXCJkMy10aW1lclwiO1xuXG5leHBvcnQgZnVuY3Rpb24geChkKSB7XG4gIHJldHVybiBkLng7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB5KGQpIHtcbiAgcmV0dXJuIGQueTtcbn1cblxudmFyIGluaXRpYWxSYWRpdXMgPSAxMCxcbiAgICBpbml0aWFsQW5nbGUgPSBNYXRoLlBJICogKDMgLSBNYXRoLnNxcnQoNSkpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihub2Rlcykge1xuICB2YXIgc2ltdWxhdGlvbixcbiAgICAgIGFscGhhID0gMSxcbiAgICAgIGFscGhhTWluID0gMC4wMDEsXG4gICAgICBhbHBoYURlY2F5ID0gMSAtIE1hdGgucG93KGFscGhhTWluLCAxIC8gMzAwKSxcbiAgICAgIGFscGhhVGFyZ2V0ID0gMCxcbiAgICAgIHZlbG9jaXR5RGVjYXkgPSAwLjYsXG4gICAgICBmb3JjZXMgPSBtYXAoKSxcbiAgICAgIHN0ZXBwZXIgPSB0aW1lcihzdGVwKSxcbiAgICAgIGV2ZW50ID0gZGlzcGF0Y2goXCJ0aWNrXCIsIFwiZW5kXCIpO1xuXG4gIGlmIChub2RlcyA9PSBudWxsKSBub2RlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHN0ZXAoKSB7XG4gICAgdGljaygpO1xuICAgIGV2ZW50LmNhbGwoXCJ0aWNrXCIsIHNpbXVsYXRpb24pO1xuICAgIGlmIChhbHBoYSA8IGFscGhhTWluKSB7XG4gICAgICBzdGVwcGVyLnN0b3AoKTtcbiAgICAgIGV2ZW50LmNhbGwoXCJlbmRcIiwgc2ltdWxhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGljayhpdGVyYXRpb25zKSB7XG4gICAgdmFyIGksIG4gPSBub2Rlcy5sZW5ndGgsIG5vZGU7XG5cbiAgICBpZiAoaXRlcmF0aW9ucyA9PT0gdW5kZWZpbmVkKSBpdGVyYXRpb25zID0gMTtcblxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgaXRlcmF0aW9uczsgKytrKSB7XG4gICAgICBhbHBoYSArPSAoYWxwaGFUYXJnZXQgLSBhbHBoYSkgKiBhbHBoYURlY2F5O1xuXG4gICAgICBmb3JjZXMuZWFjaChmdW5jdGlvbiAoZm9yY2UpIHtcbiAgICAgICAgZm9yY2UoYWxwaGEpO1xuICAgICAgfSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5meCA9PSBudWxsKSBub2RlLnggKz0gbm9kZS52eCAqPSB2ZWxvY2l0eURlY2F5O1xuICAgICAgICBlbHNlIG5vZGUueCA9IG5vZGUuZngsIG5vZGUudnggPSAwO1xuICAgICAgICBpZiAobm9kZS5meSA9PSBudWxsKSBub2RlLnkgKz0gbm9kZS52eSAqPSB2ZWxvY2l0eURlY2F5O1xuICAgICAgICBlbHNlIG5vZGUueSA9IG5vZGUuZnksIG5vZGUudnkgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzaW11bGF0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZU5vZGVzKCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBuID0gbm9kZXMubGVuZ3RoLCBub2RlOyBpIDwgbjsgKytpKSB7XG4gICAgICBub2RlID0gbm9kZXNbaV0sIG5vZGUuaW5kZXggPSBpO1xuICAgICAgaWYgKG5vZGUuZnggIT0gbnVsbCkgbm9kZS54ID0gbm9kZS5meDtcbiAgICAgIGlmIChub2RlLmZ5ICE9IG51bGwpIG5vZGUueSA9IG5vZGUuZnk7XG4gICAgICBpZiAoaXNOYU4obm9kZS54KSB8fCBpc05hTihub2RlLnkpKSB7XG4gICAgICAgIHZhciByYWRpdXMgPSBpbml0aWFsUmFkaXVzICogTWF0aC5zcXJ0KGkpLCBhbmdsZSA9IGkgKiBpbml0aWFsQW5nbGU7XG4gICAgICAgIG5vZGUueCA9IHJhZGl1cyAqIE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgbm9kZS55ID0gcmFkaXVzICogTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzTmFOKG5vZGUudngpIHx8IGlzTmFOKG5vZGUudnkpKSB7XG4gICAgICAgIG5vZGUudnggPSBub2RlLnZ5ID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0aWFsaXplRm9yY2UoZm9yY2UpIHtcbiAgICBpZiAoZm9yY2UuaW5pdGlhbGl6ZSkgZm9yY2UuaW5pdGlhbGl6ZShub2Rlcyk7XG4gICAgcmV0dXJuIGZvcmNlO1xuICB9XG5cbiAgaW5pdGlhbGl6ZU5vZGVzKCk7XG5cbiAgcmV0dXJuIHNpbXVsYXRpb24gPSB7XG4gICAgdGljazogdGljayxcblxuICAgIHJlc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHN0ZXBwZXIucmVzdGFydChzdGVwKSwgc2ltdWxhdGlvbjtcbiAgICB9LFxuXG4gICAgc3RvcDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3RlcHBlci5zdG9wKCksIHNpbXVsYXRpb247XG4gICAgfSxcblxuICAgIG5vZGVzOiBmdW5jdGlvbihfKSB7XG4gICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChub2RlcyA9IF8sIGluaXRpYWxpemVOb2RlcygpLCBmb3JjZXMuZWFjaChpbml0aWFsaXplRm9yY2UpLCBzaW11bGF0aW9uKSA6IG5vZGVzO1xuICAgIH0sXG5cbiAgICBhbHBoYTogZnVuY3Rpb24oXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoYWxwaGEgPSArXywgc2ltdWxhdGlvbikgOiBhbHBoYTtcbiAgICB9LFxuXG4gICAgYWxwaGFNaW46IGZ1bmN0aW9uKF8pIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGFscGhhTWluID0gK18sIHNpbXVsYXRpb24pIDogYWxwaGFNaW47XG4gICAgfSxcblxuICAgIGFscGhhRGVjYXk6IGZ1bmN0aW9uKF8pIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGFscGhhRGVjYXkgPSArXywgc2ltdWxhdGlvbikgOiArYWxwaGFEZWNheTtcbiAgICB9LFxuXG4gICAgYWxwaGFUYXJnZXQ6IGZ1bmN0aW9uKF8pIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGFscGhhVGFyZ2V0ID0gK18sIHNpbXVsYXRpb24pIDogYWxwaGFUYXJnZXQ7XG4gICAgfSxcblxuICAgIHZlbG9jaXR5RGVjYXk6IGZ1bmN0aW9uKF8pIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHZlbG9jaXR5RGVjYXkgPSAxIC0gXywgc2ltdWxhdGlvbikgOiAxIC0gdmVsb2NpdHlEZWNheTtcbiAgICB9LFxuXG4gICAgZm9yY2U6IGZ1bmN0aW9uKG5hbWUsIF8pIHtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID4gMSA/ICgoXyA9PSBudWxsID8gZm9yY2VzLnJlbW92ZShuYW1lKSA6IGZvcmNlcy5zZXQobmFtZSwgaW5pdGlhbGl6ZUZvcmNlKF8pKSksIHNpbXVsYXRpb24pIDogZm9yY2VzLmdldChuYW1lKTtcbiAgICB9LFxuXG4gICAgZmluZDogZnVuY3Rpb24oeCwgeSwgcmFkaXVzKSB7XG4gICAgICB2YXIgaSA9IDAsXG4gICAgICAgICAgbiA9IG5vZGVzLmxlbmd0aCxcbiAgICAgICAgICBkeCxcbiAgICAgICAgICBkeSxcbiAgICAgICAgICBkMixcbiAgICAgICAgICBub2RlLFxuICAgICAgICAgIGNsb3Nlc3Q7XG5cbiAgICAgIGlmIChyYWRpdXMgPT0gbnVsbCkgcmFkaXVzID0gSW5maW5pdHk7XG4gICAgICBlbHNlIHJhZGl1cyAqPSByYWRpdXM7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyArK2kpIHtcbiAgICAgICAgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBkeCA9IHggLSBub2RlLng7XG4gICAgICAgIGR5ID0geSAtIG5vZGUueTtcbiAgICAgICAgZDIgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgaWYgKGQyIDwgcmFkaXVzKSBjbG9zZXN0ID0gbm9kZSwgcmFkaXVzID0gZDI7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjbG9zZXN0O1xuICAgIH0sXG5cbiAgICBvbjogZnVuY3Rpb24obmFtZSwgXykge1xuICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAxID8gKGV2ZW50Lm9uKG5hbWUsIF8pLCBzaW11bGF0aW9uKSA6IGV2ZW50Lm9uKG5hbWUpO1xuICAgIH1cbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKTtcbn1cbiIsImltcG9ydCBkZWZhdWx0U291cmNlIGZyb20gXCIuL2RlZmF1bHRTb3VyY2VcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGZ1bmN0aW9uIHNvdXJjZVJhbmRvbU5vcm1hbChzb3VyY2UpIHtcbiAgZnVuY3Rpb24gcmFuZG9tTm9ybWFsKG11LCBzaWdtYSkge1xuICAgIHZhciB4LCByO1xuICAgIG11ID0gbXUgPT0gbnVsbCA/IDAgOiArbXU7XG4gICAgc2lnbWEgPSBzaWdtYSA9PSBudWxsID8gMSA6ICtzaWdtYTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgeTtcblxuICAgICAgLy8gSWYgYXZhaWxhYmxlLCB1c2UgdGhlIHNlY29uZCBwcmV2aW91c2x5LWdlbmVyYXRlZCB1bmlmb3JtIHJhbmRvbS5cbiAgICAgIGlmICh4ICE9IG51bGwpIHkgPSB4LCB4ID0gbnVsbDtcblxuICAgICAgLy8gT3RoZXJ3aXNlLCBnZW5lcmF0ZSBhIG5ldyB4IGFuZCB5LlxuICAgICAgZWxzZSBkbyB7XG4gICAgICAgIHggPSBzb3VyY2UoKSAqIDIgLSAxO1xuICAgICAgICB5ID0gc291cmNlKCkgKiAyIC0gMTtcbiAgICAgICAgciA9IHggKiB4ICsgeSAqIHk7XG4gICAgICB9IHdoaWxlICghciB8fCByID4gMSk7XG5cbiAgICAgIHJldHVybiBtdSArIHNpZ21hICogeSAqIE1hdGguc3FydCgtMiAqIE1hdGgubG9nKHIpIC8gcik7XG4gICAgfTtcbiAgfVxuXG4gIHJhbmRvbU5vcm1hbC5zb3VyY2UgPSBzb3VyY2VSYW5kb21Ob3JtYWw7XG5cbiAgcmV0dXJuIHJhbmRvbU5vcm1hbDtcbn0pKGRlZmF1bHRTb3VyY2UpO1xuIiwiaW1wb3J0IGRlZmF1bHRTb3VyY2UgZnJvbSBcIi4vZGVmYXVsdFNvdXJjZVwiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gc291cmNlUmFuZG9tVW5pZm9ybShzb3VyY2UpIHtcbiAgZnVuY3Rpb24gcmFuZG9tVW5pZm9ybShtaW4sIG1heCkge1xuICAgIG1pbiA9IG1pbiA9PSBudWxsID8gMCA6ICttaW47XG4gICAgbWF4ID0gbWF4ID09IG51bGwgPyAxIDogK21heDtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgbWF4ID0gbWluLCBtaW4gPSAwO1xuICAgIGVsc2UgbWF4IC09IG1pbjtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc291cmNlKCkgKiBtYXggKyBtaW47XG4gICAgfTtcbiAgfVxuXG4gIHJhbmRvbVVuaWZvcm0uc291cmNlID0gc291cmNlUmFuZG9tVW5pZm9ybTtcblxuICByZXR1cm4gcmFuZG9tVW5pZm9ybTtcbn0pKGRlZmF1bHRTb3VyY2UpO1xuIiwiaW1wb3J0IGRlZmF1bHRTb3VyY2UgZnJvbSBcIi4vZGVmYXVsdFNvdXJjZVwiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gc291cmNlUmFuZG9tSXJ3aW5IYWxsKHNvdXJjZSkge1xuICBmdW5jdGlvbiByYW5kb21JcndpbkhhbGwobikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIHN1bSA9IDAsIGkgPSAwOyBpIDwgbjsgKytpKSBzdW0gKz0gc291cmNlKCk7XG4gICAgICByZXR1cm4gc3VtO1xuICAgIH07XG4gIH1cblxuICByYW5kb21JcndpbkhhbGwuc291cmNlID0gc291cmNlUmFuZG9tSXJ3aW5IYWxsO1xuXG4gIHJldHVybiByYW5kb21JcndpbkhhbGw7XG59KShkZWZhdWx0U291cmNlKTtcbiIsImltcG9ydCBkZWZhdWx0U291cmNlIGZyb20gXCIuL2RlZmF1bHRTb3VyY2VcIjtcbmltcG9ydCBub3JtYWwgZnJvbSBcIi4vbm9ybWFsXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBzb3VyY2VSYW5kb21Mb2dOb3JtYWwoc291cmNlKSB7XG4gIGZ1bmN0aW9uIHJhbmRvbUxvZ05vcm1hbCgpIHtcbiAgICB2YXIgcmFuZG9tTm9ybWFsID0gbm9ybWFsLnNvdXJjZShzb3VyY2UpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGguZXhwKHJhbmRvbU5vcm1hbCgpKTtcbiAgICB9O1xuICB9XG5cbiAgcmFuZG9tTG9nTm9ybWFsLnNvdXJjZSA9IHNvdXJjZVJhbmRvbUxvZ05vcm1hbDtcblxuICByZXR1cm4gcmFuZG9tTG9nTm9ybWFsO1xufSkoZGVmYXVsdFNvdXJjZSk7XG4iLCJpbXBvcnQgZGVmYXVsdFNvdXJjZSBmcm9tIFwiLi9kZWZhdWx0U291cmNlXCI7XG5pbXBvcnQgaXJ3aW5IYWxsIGZyb20gXCIuL2lyd2luSGFsbFwiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gc291cmNlUmFuZG9tQmF0ZXMoc291cmNlKSB7XG4gIGZ1bmN0aW9uIHJhbmRvbUJhdGVzKG4pIHtcbiAgICB2YXIgcmFuZG9tSXJ3aW5IYWxsID0gaXJ3aW5IYWxsLnNvdXJjZShzb3VyY2UpKG4pO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByYW5kb21JcndpbkhhbGwoKSAvIG47XG4gICAgfTtcbiAgfVxuXG4gIHJhbmRvbUJhdGVzLnNvdXJjZSA9IHNvdXJjZVJhbmRvbUJhdGVzO1xuXG4gIHJldHVybiByYW5kb21CYXRlcztcbn0pKGRlZmF1bHRTb3VyY2UpO1xuIiwiaW1wb3J0IGRlZmF1bHRTb3VyY2UgZnJvbSBcIi4vZGVmYXVsdFNvdXJjZVwiO1xuXG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gc291cmNlUmFuZG9tRXhwb25lbnRpYWwoc291cmNlKSB7XG4gIGZ1bmN0aW9uIHJhbmRvbUV4cG9uZW50aWFsKGxhbWJkYSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAtTWF0aC5sb2coMSAtIHNvdXJjZSgpKSAvIGxhbWJkYTtcbiAgICB9O1xuICB9XG5cbiAgcmFuZG9tRXhwb25lbnRpYWwuc291cmNlID0gc291cmNlUmFuZG9tRXhwb25lbnRpYWw7XG5cbiAgcmV0dXJuIHJhbmRvbUV4cG9uZW50aWFsO1xufSkoZGVmYXVsdFNvdXJjZSk7XG4iLCJleHBvcnQgZnVuY3Rpb24gaW5pdFJhbmdlKGRvbWFpbiwgcmFuZ2UpIHtcbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgY2FzZSAwOiBicmVhaztcbiAgICBjYXNlIDE6IHRoaXMucmFuZ2UoZG9tYWluKTsgYnJlYWs7XG4gICAgZGVmYXVsdDogdGhpcy5yYW5nZShyYW5nZSkuZG9tYWluKGRvbWFpbik7IGJyZWFrO1xuICB9XG4gIHJldHVybiB0aGlzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdEludGVycG9sYXRvcihkb21haW4sIGludGVycG9sYXRvcikge1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDA6IGJyZWFrO1xuICAgIGNhc2UgMTogdGhpcy5pbnRlcnBvbGF0b3IoZG9tYWluKTsgYnJlYWs7XG4gICAgZGVmYXVsdDogdGhpcy5pbnRlcnBvbGF0b3IoaW50ZXJwb2xhdG9yKS5kb21haW4oZG9tYWluKTsgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG4iLCJ2YXIgYXJyYXkgPSBBcnJheS5wcm90b3R5cGU7XG5cbmV4cG9ydCB2YXIgbWFwID0gYXJyYXkubWFwO1xuZXhwb3J0IHZhciBzbGljZSA9IGFycmF5LnNsaWNlO1xuIiwiLy8gW1tmaWxsXWFsaWduXVtzaWduXVtzeW1ib2xdWzBdW3dpZHRoXVssXVsucHJlY2lzaW9uXVt+XVt0eXBlXVxudmFyIHJlID0gL14oPzooLik/KFs8Pj1eXSkpPyhbK1xcLSggXSk/KFskI10pPygwKT8oXFxkKyk/KCwpPyhcXC5cXGQrKT8ofik/KFthLXolXSk/JC9pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRTcGVjaWZpZXIoc3BlY2lmaWVyKSB7XG4gIGlmICghKG1hdGNoID0gcmUuZXhlYyhzcGVjaWZpZXIpKSkgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBmb3JtYXQ6IFwiICsgc3BlY2lmaWVyKTtcbiAgdmFyIG1hdGNoO1xuICByZXR1cm4gbmV3IEZvcm1hdFNwZWNpZmllcih7XG4gICAgZmlsbDogbWF0Y2hbMV0sXG4gICAgYWxpZ246IG1hdGNoWzJdLFxuICAgIHNpZ246IG1hdGNoWzNdLFxuICAgIHN5bWJvbDogbWF0Y2hbNF0sXG4gICAgemVybzogbWF0Y2hbNV0sXG4gICAgd2lkdGg6IG1hdGNoWzZdLFxuICAgIGNvbW1hOiBtYXRjaFs3XSxcbiAgICBwcmVjaXNpb246IG1hdGNoWzhdICYmIG1hdGNoWzhdLnNsaWNlKDEpLFxuICAgIHRyaW06IG1hdGNoWzldLFxuICAgIHR5cGU6IG1hdGNoWzEwXVxuICB9KTtcbn1cblxuZm9ybWF0U3BlY2lmaWVyLnByb3RvdHlwZSA9IEZvcm1hdFNwZWNpZmllci5wcm90b3R5cGU7IC8vIGluc3RhbmNlb2ZcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1hdFNwZWNpZmllcihzcGVjaWZpZXIpIHtcbiAgdGhpcy5maWxsID0gc3BlY2lmaWVyLmZpbGwgPT09IHVuZGVmaW5lZCA/IFwiIFwiIDogc3BlY2lmaWVyLmZpbGwgKyBcIlwiO1xuICB0aGlzLmFsaWduID0gc3BlY2lmaWVyLmFsaWduID09PSB1bmRlZmluZWQgPyBcIj5cIiA6IHNwZWNpZmllci5hbGlnbiArIFwiXCI7XG4gIHRoaXMuc2lnbiA9IHNwZWNpZmllci5zaWduID09PSB1bmRlZmluZWQgPyBcIi1cIiA6IHNwZWNpZmllci5zaWduICsgXCJcIjtcbiAgdGhpcy5zeW1ib2wgPSBzcGVjaWZpZXIuc3ltYm9sID09PSB1bmRlZmluZWQgPyBcIlwiIDogc3BlY2lmaWVyLnN5bWJvbCArIFwiXCI7XG4gIHRoaXMuemVybyA9ICEhc3BlY2lmaWVyLnplcm87XG4gIHRoaXMud2lkdGggPSBzcGVjaWZpZXIud2lkdGggPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6ICtzcGVjaWZpZXIud2lkdGg7XG4gIHRoaXMuY29tbWEgPSAhIXNwZWNpZmllci5jb21tYTtcbiAgdGhpcy5wcmVjaXNpb24gPSBzcGVjaWZpZXIucHJlY2lzaW9uID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiArc3BlY2lmaWVyLnByZWNpc2lvbjtcbiAgdGhpcy50cmltID0gISFzcGVjaWZpZXIudHJpbTtcbiAgdGhpcy50eXBlID0gc3BlY2lmaWVyLnR5cGUgPT09IHVuZGVmaW5lZCA/IFwiXCIgOiBzcGVjaWZpZXIudHlwZSArIFwiXCI7XG59XG5cbkZvcm1hdFNwZWNpZmllci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmlsbFxuICAgICAgKyB0aGlzLmFsaWduXG4gICAgICArIHRoaXMuc2lnblxuICAgICAgKyB0aGlzLnN5bWJvbFxuICAgICAgKyAodGhpcy56ZXJvID8gXCIwXCIgOiBcIlwiKVxuICAgICAgKyAodGhpcy53aWR0aCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IE1hdGgubWF4KDEsIHRoaXMud2lkdGggfCAwKSlcbiAgICAgICsgKHRoaXMuY29tbWEgPyBcIixcIiA6IFwiXCIpXG4gICAgICArICh0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IFwiLlwiICsgTWF0aC5tYXgoMCwgdGhpcy5wcmVjaXNpb24gfCAwKSlcbiAgICAgICsgKHRoaXMudHJpbSA/IFwiflwiIDogXCJcIilcbiAgICAgICsgdGhpcy50eXBlO1xufTtcbiIsIi8vIENvbXB1dGVzIHRoZSBkZWNpbWFsIGNvZWZmaWNpZW50IGFuZCBleHBvbmVudCBvZiB0aGUgc3BlY2lmaWVkIG51bWJlciB4IHdpdGhcbi8vIHNpZ25pZmljYW50IGRpZ2l0cyBwLCB3aGVyZSB4IGlzIHBvc2l0aXZlIGFuZCBwIGlzIGluIFsxLCAyMV0gb3IgdW5kZWZpbmVkLlxuLy8gRm9yIGV4YW1wbGUsIGZvcm1hdERlY2ltYWwoMS4yMykgcmV0dXJucyBbXCIxMjNcIiwgMF0uXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4LCBwKSB7XG4gIGlmICgoaSA9ICh4ID0gcCA/IHgudG9FeHBvbmVudGlhbChwIC0gMSkgOiB4LnRvRXhwb25lbnRpYWwoKSkuaW5kZXhPZihcImVcIikpIDwgMCkgcmV0dXJuIG51bGw7IC8vIE5hTiwgwrFJbmZpbml0eVxuICB2YXIgaSwgY29lZmZpY2llbnQgPSB4LnNsaWNlKDAsIGkpO1xuXG4gIC8vIFRoZSBzdHJpbmcgcmV0dXJuZWQgYnkgdG9FeHBvbmVudGlhbCBlaXRoZXIgaGFzIHRoZSBmb3JtIFxcZFxcLlxcZCtlWy0rXVxcZCtcbiAgLy8gKGUuZy4sIDEuMmUrMykgb3IgdGhlIGZvcm0gXFxkZVstK11cXGQrIChlLmcuLCAxZSszKS5cbiAgcmV0dXJuIFtcbiAgICBjb2VmZmljaWVudC5sZW5ndGggPiAxID8gY29lZmZpY2llbnRbMF0gKyBjb2VmZmljaWVudC5zbGljZSgyKSA6IGNvZWZmaWNpZW50LFxuICAgICt4LnNsaWNlKGkgKyAxKVxuICBdO1xufVxuIiwiaW1wb3J0IGZvcm1hdERlY2ltYWwgZnJvbSBcIi4vZm9ybWF0RGVjaW1hbC5qc1wiO1xuXG5leHBvcnQgdmFyIHByZWZpeEV4cG9uZW50O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4LCBwKSB7XG4gIHZhciBkID0gZm9ybWF0RGVjaW1hbCh4LCBwKTtcbiAgaWYgKCFkKSByZXR1cm4geCArIFwiXCI7XG4gIHZhciBjb2VmZmljaWVudCA9IGRbMF0sXG4gICAgICBleHBvbmVudCA9IGRbMV0sXG4gICAgICBpID0gZXhwb25lbnQgLSAocHJlZml4RXhwb25lbnQgPSBNYXRoLm1heCgtOCwgTWF0aC5taW4oOCwgTWF0aC5mbG9vcihleHBvbmVudCAvIDMpKSkgKiAzKSArIDEsXG4gICAgICBuID0gY29lZmZpY2llbnQubGVuZ3RoO1xuICByZXR1cm4gaSA9PT0gbiA/IGNvZWZmaWNpZW50XG4gICAgICA6IGkgPiBuID8gY29lZmZpY2llbnQgKyBuZXcgQXJyYXkoaSAtIG4gKyAxKS5qb2luKFwiMFwiKVxuICAgICAgOiBpID4gMCA/IGNvZWZmaWNpZW50LnNsaWNlKDAsIGkpICsgXCIuXCIgKyBjb2VmZmljaWVudC5zbGljZShpKVxuICAgICAgOiBcIjAuXCIgKyBuZXcgQXJyYXkoMSAtIGkpLmpvaW4oXCIwXCIpICsgZm9ybWF0RGVjaW1hbCh4LCBNYXRoLm1heCgwLCBwICsgaSAtIDEpKVswXTsgLy8gbGVzcyB0aGFuIDF5IVxufVxuIiwiaW1wb3J0IGZvcm1hdExvY2FsZSBmcm9tIFwiLi9sb2NhbGUuanNcIjtcblxudmFyIGxvY2FsZTtcbmV4cG9ydCB2YXIgZm9ybWF0O1xuZXhwb3J0IHZhciBmb3JtYXRQcmVmaXg7XG5cbmRlZmF1bHRMb2NhbGUoe1xuICBkZWNpbWFsOiBcIi5cIixcbiAgdGhvdXNhbmRzOiBcIixcIixcbiAgZ3JvdXBpbmc6IFszXSxcbiAgY3VycmVuY3k6IFtcIiRcIiwgXCJcIl0sXG4gIG1pbnVzOiBcIi1cIlxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRlZmF1bHRMb2NhbGUoZGVmaW5pdGlvbikge1xuICBsb2NhbGUgPSBmb3JtYXRMb2NhbGUoZGVmaW5pdGlvbik7XG4gIGZvcm1hdCA9IGxvY2FsZS5mb3JtYXQ7XG4gIGZvcm1hdFByZWZpeCA9IGxvY2FsZS5mb3JtYXRQcmVmaXg7XG4gIHJldHVybiBsb2NhbGU7XG59XG4iLCJpbXBvcnQgZm9ybWF0RGVjaW1hbCBmcm9tIFwiLi9mb3JtYXREZWNpbWFsLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHggPSBmb3JtYXREZWNpbWFsKE1hdGguYWJzKHgpKSwgeCA/IHhbMV0gOiBOYU47XG59XG4iLCIvLyBUcmltcyBpbnNpZ25pZmljYW50IHplcm9zLCBlLmcuLCByZXBsYWNlcyAxLjIwMDBrIHdpdGggMS4yay5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHMpIHtcbiAgb3V0OiBmb3IgKHZhciBuID0gcy5sZW5ndGgsIGkgPSAxLCBpMCA9IC0xLCBpMTsgaSA8IG47ICsraSkge1xuICAgIHN3aXRjaCAoc1tpXSkge1xuICAgICAgY2FzZSBcIi5cIjogaTAgPSBpMSA9IGk7IGJyZWFrO1xuICAgICAgY2FzZSBcIjBcIjogaWYgKGkwID09PSAwKSBpMCA9IGk7IGkxID0gaTsgYnJlYWs7XG4gICAgICBkZWZhdWx0OiBpZiAoIStzW2ldKSBicmVhayBvdXQ7IGlmIChpMCA+IDApIGkwID0gMDsgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBpMCA+IDAgPyBzLnNsaWNlKDAsIGkwKSArIHMuc2xpY2UoaTEgKyAxKSA6IHM7XG59XG4iLCJpbXBvcnQgZm9ybWF0RGVjaW1hbCBmcm9tIFwiLi9mb3JtYXREZWNpbWFsLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHgsIHApIHtcbiAgdmFyIGQgPSBmb3JtYXREZWNpbWFsKHgsIHApO1xuICBpZiAoIWQpIHJldHVybiB4ICsgXCJcIjtcbiAgdmFyIGNvZWZmaWNpZW50ID0gZFswXSxcbiAgICAgIGV4cG9uZW50ID0gZFsxXTtcbiAgcmV0dXJuIGV4cG9uZW50IDwgMCA/IFwiMC5cIiArIG5ldyBBcnJheSgtZXhwb25lbnQpLmpvaW4oXCIwXCIpICsgY29lZmZpY2llbnRcbiAgICAgIDogY29lZmZpY2llbnQubGVuZ3RoID4gZXhwb25lbnQgKyAxID8gY29lZmZpY2llbnQuc2xpY2UoMCwgZXhwb25lbnQgKyAxKSArIFwiLlwiICsgY29lZmZpY2llbnQuc2xpY2UoZXhwb25lbnQgKyAxKVxuICAgICAgOiBjb2VmZmljaWVudCArIG5ldyBBcnJheShleHBvbmVudCAtIGNvZWZmaWNpZW50Lmxlbmd0aCArIDIpLmpvaW4oXCIwXCIpO1xufVxuIiwiaW1wb3J0IGZvcm1hdFByZWZpeEF1dG8gZnJvbSBcIi4vZm9ybWF0UHJlZml4QXV0by5qc1wiO1xuaW1wb3J0IGZvcm1hdFJvdW5kZWQgZnJvbSBcIi4vZm9ybWF0Um91bmRlZC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFwiJVwiOiBmdW5jdGlvbih4LCBwKSB7IHJldHVybiAoeCAqIDEwMCkudG9GaXhlZChwKTsgfSxcbiAgXCJiXCI6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoeCkudG9TdHJpbmcoMik7IH0sXG4gIFwiY1wiOiBmdW5jdGlvbih4KSB7IHJldHVybiB4ICsgXCJcIjsgfSxcbiAgXCJkXCI6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoeCkudG9TdHJpbmcoMTApOyB9LFxuICBcImVcIjogZnVuY3Rpb24oeCwgcCkgeyByZXR1cm4geC50b0V4cG9uZW50aWFsKHApOyB9LFxuICBcImZcIjogZnVuY3Rpb24oeCwgcCkgeyByZXR1cm4geC50b0ZpeGVkKHApOyB9LFxuICBcImdcIjogZnVuY3Rpb24oeCwgcCkgeyByZXR1cm4geC50b1ByZWNpc2lvbihwKTsgfSxcbiAgXCJvXCI6IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoeCkudG9TdHJpbmcoOCk7IH0sXG4gIFwicFwiOiBmdW5jdGlvbih4LCBwKSB7IHJldHVybiBmb3JtYXRSb3VuZGVkKHggKiAxMDAsIHApOyB9LFxuICBcInJcIjogZm9ybWF0Um91bmRlZCxcbiAgXCJzXCI6IGZvcm1hdFByZWZpeEF1dG8sXG4gIFwiWFwiOiBmdW5jdGlvbih4KSB7IHJldHVybiBNYXRoLnJvdW5kKHgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpOyB9LFxuICBcInhcIjogZnVuY3Rpb24oeCkgeyByZXR1cm4gTWF0aC5yb3VuZCh4KS50b1N0cmluZygxNik7IH1cbn07XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbih4KSB7XG4gIHJldHVybiB4O1xufVxuIiwiaW1wb3J0IGV4cG9uZW50IGZyb20gXCIuL2V4cG9uZW50LmpzXCI7XG5pbXBvcnQgZm9ybWF0R3JvdXAgZnJvbSBcIi4vZm9ybWF0R3JvdXAuanNcIjtcbmltcG9ydCBmb3JtYXROdW1lcmFscyBmcm9tIFwiLi9mb3JtYXROdW1lcmFscy5qc1wiO1xuaW1wb3J0IGZvcm1hdFNwZWNpZmllciBmcm9tIFwiLi9mb3JtYXRTcGVjaWZpZXIuanNcIjtcbmltcG9ydCBmb3JtYXRUcmltIGZyb20gXCIuL2Zvcm1hdFRyaW0uanNcIjtcbmltcG9ydCBmb3JtYXRUeXBlcyBmcm9tIFwiLi9mb3JtYXRUeXBlcy5qc1wiO1xuaW1wb3J0IHtwcmVmaXhFeHBvbmVudH0gZnJvbSBcIi4vZm9ybWF0UHJlZml4QXV0by5qc1wiO1xuaW1wb3J0IGlkZW50aXR5IGZyb20gXCIuL2lkZW50aXR5LmpzXCI7XG5cbnZhciBtYXAgPSBBcnJheS5wcm90b3R5cGUubWFwLFxuICAgIHByZWZpeGVzID0gW1wieVwiLFwielwiLFwiYVwiLFwiZlwiLFwicFwiLFwiblwiLFwiwrVcIixcIm1cIixcIlwiLFwia1wiLFwiTVwiLFwiR1wiLFwiVFwiLFwiUFwiLFwiRVwiLFwiWlwiLFwiWVwiXTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24obG9jYWxlKSB7XG4gIHZhciBncm91cCA9IGxvY2FsZS5ncm91cGluZyA9PT0gdW5kZWZpbmVkIHx8IGxvY2FsZS50aG91c2FuZHMgPT09IHVuZGVmaW5lZCA/IGlkZW50aXR5IDogZm9ybWF0R3JvdXAobWFwLmNhbGwobG9jYWxlLmdyb3VwaW5nLCBOdW1iZXIpLCBsb2NhbGUudGhvdXNhbmRzICsgXCJcIiksXG4gICAgICBjdXJyZW5jeVByZWZpeCA9IGxvY2FsZS5jdXJyZW5jeSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGxvY2FsZS5jdXJyZW5jeVswXSArIFwiXCIsXG4gICAgICBjdXJyZW5jeVN1ZmZpeCA9IGxvY2FsZS5jdXJyZW5jeSA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGxvY2FsZS5jdXJyZW5jeVsxXSArIFwiXCIsXG4gICAgICBkZWNpbWFsID0gbG9jYWxlLmRlY2ltYWwgPT09IHVuZGVmaW5lZCA/IFwiLlwiIDogbG9jYWxlLmRlY2ltYWwgKyBcIlwiLFxuICAgICAgbnVtZXJhbHMgPSBsb2NhbGUubnVtZXJhbHMgPT09IHVuZGVmaW5lZCA/IGlkZW50aXR5IDogZm9ybWF0TnVtZXJhbHMobWFwLmNhbGwobG9jYWxlLm51bWVyYWxzLCBTdHJpbmcpKSxcbiAgICAgIHBlcmNlbnQgPSBsb2NhbGUucGVyY2VudCA9PT0gdW5kZWZpbmVkID8gXCIlXCIgOiBsb2NhbGUucGVyY2VudCArIFwiXCIsXG4gICAgICBtaW51cyA9IGxvY2FsZS5taW51cyA9PT0gdW5kZWZpbmVkID8gXCItXCIgOiBsb2NhbGUubWludXMgKyBcIlwiLFxuICAgICAgbmFuID0gbG9jYWxlLm5hbiA9PT0gdW5kZWZpbmVkID8gXCJOYU5cIiA6IGxvY2FsZS5uYW4gKyBcIlwiO1xuXG4gIGZ1bmN0aW9uIG5ld0Zvcm1hdChzcGVjaWZpZXIpIHtcbiAgICBzcGVjaWZpZXIgPSBmb3JtYXRTcGVjaWZpZXIoc3BlY2lmaWVyKTtcblxuICAgIHZhciBmaWxsID0gc3BlY2lmaWVyLmZpbGwsXG4gICAgICAgIGFsaWduID0gc3BlY2lmaWVyLmFsaWduLFxuICAgICAgICBzaWduID0gc3BlY2lmaWVyLnNpZ24sXG4gICAgICAgIHN5bWJvbCA9IHNwZWNpZmllci5zeW1ib2wsXG4gICAgICAgIHplcm8gPSBzcGVjaWZpZXIuemVybyxcbiAgICAgICAgd2lkdGggPSBzcGVjaWZpZXIud2lkdGgsXG4gICAgICAgIGNvbW1hID0gc3BlY2lmaWVyLmNvbW1hLFxuICAgICAgICBwcmVjaXNpb24gPSBzcGVjaWZpZXIucHJlY2lzaW9uLFxuICAgICAgICB0cmltID0gc3BlY2lmaWVyLnRyaW0sXG4gICAgICAgIHR5cGUgPSBzcGVjaWZpZXIudHlwZTtcblxuICAgIC8vIFRoZSBcIm5cIiB0eXBlIGlzIGFuIGFsaWFzIGZvciBcIixnXCIuXG4gICAgaWYgKHR5cGUgPT09IFwiblwiKSBjb21tYSA9IHRydWUsIHR5cGUgPSBcImdcIjtcblxuICAgIC8vIFRoZSBcIlwiIHR5cGUsIGFuZCBhbnkgaW52YWxpZCB0eXBlLCBpcyBhbiBhbGlhcyBmb3IgXCIuMTJ+Z1wiLlxuICAgIGVsc2UgaWYgKCFmb3JtYXRUeXBlc1t0eXBlXSkgcHJlY2lzaW9uID09PSB1bmRlZmluZWQgJiYgKHByZWNpc2lvbiA9IDEyKSwgdHJpbSA9IHRydWUsIHR5cGUgPSBcImdcIjtcblxuICAgIC8vIElmIHplcm8gZmlsbCBpcyBzcGVjaWZpZWQsIHBhZGRpbmcgZ29lcyBhZnRlciBzaWduIGFuZCBiZWZvcmUgZGlnaXRzLlxuICAgIGlmICh6ZXJvIHx8IChmaWxsID09PSBcIjBcIiAmJiBhbGlnbiA9PT0gXCI9XCIpKSB6ZXJvID0gdHJ1ZSwgZmlsbCA9IFwiMFwiLCBhbGlnbiA9IFwiPVwiO1xuXG4gICAgLy8gQ29tcHV0ZSB0aGUgcHJlZml4IGFuZCBzdWZmaXguXG4gICAgLy8gRm9yIFNJLXByZWZpeCwgdGhlIHN1ZmZpeCBpcyBsYXppbHkgY29tcHV0ZWQuXG4gICAgdmFyIHByZWZpeCA9IHN5bWJvbCA9PT0gXCIkXCIgPyBjdXJyZW5jeVByZWZpeCA6IHN5bWJvbCA9PT0gXCIjXCIgJiYgL1tib3hYXS8udGVzdCh0eXBlKSA/IFwiMFwiICsgdHlwZS50b0xvd2VyQ2FzZSgpIDogXCJcIixcbiAgICAgICAgc3VmZml4ID0gc3ltYm9sID09PSBcIiRcIiA/IGN1cnJlbmN5U3VmZml4IDogL1slcF0vLnRlc3QodHlwZSkgPyBwZXJjZW50IDogXCJcIjtcblxuICAgIC8vIFdoYXQgZm9ybWF0IGZ1bmN0aW9uIHNob3VsZCB3ZSB1c2U/XG4gICAgLy8gSXMgdGhpcyBhbiBpbnRlZ2VyIHR5cGU/XG4gICAgLy8gQ2FuIHRoaXMgdHlwZSBnZW5lcmF0ZSBleHBvbmVudGlhbCBub3RhdGlvbj9cbiAgICB2YXIgZm9ybWF0VHlwZSA9IGZvcm1hdFR5cGVzW3R5cGVdLFxuICAgICAgICBtYXliZVN1ZmZpeCA9IC9bZGVmZ3BycyVdLy50ZXN0KHR5cGUpO1xuXG4gICAgLy8gU2V0IHRoZSBkZWZhdWx0IHByZWNpc2lvbiBpZiBub3Qgc3BlY2lmaWVkLFxuICAgIC8vIG9yIGNsYW1wIHRoZSBzcGVjaWZpZWQgcHJlY2lzaW9uIHRvIHRoZSBzdXBwb3J0ZWQgcmFuZ2UuXG4gICAgLy8gRm9yIHNpZ25pZmljYW50IHByZWNpc2lvbiwgaXQgbXVzdCBiZSBpbiBbMSwgMjFdLlxuICAgIC8vIEZvciBmaXhlZCBwcmVjaXNpb24sIGl0IG11c3QgYmUgaW4gWzAsIDIwXS5cbiAgICBwcmVjaXNpb24gPSBwcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/IDZcbiAgICAgICAgOiAvW2dwcnNdLy50ZXN0KHR5cGUpID8gTWF0aC5tYXgoMSwgTWF0aC5taW4oMjEsIHByZWNpc2lvbikpXG4gICAgICAgIDogTWF0aC5tYXgoMCwgTWF0aC5taW4oMjAsIHByZWNpc2lvbikpO1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7XG4gICAgICB2YXIgdmFsdWVQcmVmaXggPSBwcmVmaXgsXG4gICAgICAgICAgdmFsdWVTdWZmaXggPSBzdWZmaXgsXG4gICAgICAgICAgaSwgbiwgYztcblxuICAgICAgaWYgKHR5cGUgPT09IFwiY1wiKSB7XG4gICAgICAgIHZhbHVlU3VmZml4ID0gZm9ybWF0VHlwZSh2YWx1ZSkgKyB2YWx1ZVN1ZmZpeDtcbiAgICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSArdmFsdWU7XG5cbiAgICAgICAgLy8gUGVyZm9ybSB0aGUgaW5pdGlhbCBmb3JtYXR0aW5nLlxuICAgICAgICB2YXIgdmFsdWVOZWdhdGl2ZSA9IHZhbHVlIDwgMDtcbiAgICAgICAgdmFsdWUgPSBpc05hTih2YWx1ZSkgPyBuYW4gOiBmb3JtYXRUeXBlKE1hdGguYWJzKHZhbHVlKSwgcHJlY2lzaW9uKTtcblxuICAgICAgICAvLyBUcmltIGluc2lnbmlmaWNhbnQgemVyb3MuXG4gICAgICAgIGlmICh0cmltKSB2YWx1ZSA9IGZvcm1hdFRyaW0odmFsdWUpO1xuXG4gICAgICAgIC8vIElmIGEgbmVnYXRpdmUgdmFsdWUgcm91bmRzIHRvIHplcm8gZHVyaW5nIGZvcm1hdHRpbmcsIHRyZWF0IGFzIHBvc2l0aXZlLlxuICAgICAgICBpZiAodmFsdWVOZWdhdGl2ZSAmJiArdmFsdWUgPT09IDApIHZhbHVlTmVnYXRpdmUgPSBmYWxzZTtcblxuICAgICAgICAvLyBDb21wdXRlIHRoZSBwcmVmaXggYW5kIHN1ZmZpeC5cbiAgICAgICAgdmFsdWVQcmVmaXggPSAodmFsdWVOZWdhdGl2ZSA/IChzaWduID09PSBcIihcIiA/IHNpZ24gOiBtaW51cykgOiBzaWduID09PSBcIi1cIiB8fCBzaWduID09PSBcIihcIiA/IFwiXCIgOiBzaWduKSArIHZhbHVlUHJlZml4O1xuXG4gICAgICAgIHZhbHVlU3VmZml4ID0gKHR5cGUgPT09IFwic1wiID8gcHJlZml4ZXNbOCArIHByZWZpeEV4cG9uZW50IC8gM10gOiBcIlwiKSArIHZhbHVlU3VmZml4ICsgKHZhbHVlTmVnYXRpdmUgJiYgc2lnbiA9PT0gXCIoXCIgPyBcIilcIiA6IFwiXCIpO1xuXG4gICAgICAgIC8vIEJyZWFrIHRoZSBmb3JtYXR0ZWQgdmFsdWUgaW50byB0aGUgaW50ZWdlciDigJx2YWx1ZeKAnSBwYXJ0IHRoYXQgY2FuIGJlXG4gICAgICAgIC8vIGdyb3VwZWQsIGFuZCBmcmFjdGlvbmFsIG9yIGV4cG9uZW50aWFsIOKAnHN1ZmZpeOKAnSBwYXJ0IHRoYXQgaXMgbm90LlxuICAgICAgICBpZiAobWF5YmVTdWZmaXgpIHtcbiAgICAgICAgICBpID0gLTEsIG4gPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgICAgICAgIGlmIChjID0gdmFsdWUuY2hhckNvZGVBdChpKSwgNDggPiBjIHx8IGMgPiA1Nykge1xuICAgICAgICAgICAgICB2YWx1ZVN1ZmZpeCA9IChjID09PSA0NiA/IGRlY2ltYWwgKyB2YWx1ZS5zbGljZShpICsgMSkgOiB2YWx1ZS5zbGljZShpKSkgKyB2YWx1ZVN1ZmZpeDtcbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCBpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSBmaWxsIGNoYXJhY3RlciBpcyBub3QgXCIwXCIsIGdyb3VwaW5nIGlzIGFwcGxpZWQgYmVmb3JlIHBhZGRpbmcuXG4gICAgICBpZiAoY29tbWEgJiYgIXplcm8pIHZhbHVlID0gZ3JvdXAodmFsdWUsIEluZmluaXR5KTtcblxuICAgICAgLy8gQ29tcHV0ZSB0aGUgcGFkZGluZy5cbiAgICAgIHZhciBsZW5ndGggPSB2YWx1ZVByZWZpeC5sZW5ndGggKyB2YWx1ZS5sZW5ndGggKyB2YWx1ZVN1ZmZpeC5sZW5ndGgsXG4gICAgICAgICAgcGFkZGluZyA9IGxlbmd0aCA8IHdpZHRoID8gbmV3IEFycmF5KHdpZHRoIC0gbGVuZ3RoICsgMSkuam9pbihmaWxsKSA6IFwiXCI7XG5cbiAgICAgIC8vIElmIHRoZSBmaWxsIGNoYXJhY3RlciBpcyBcIjBcIiwgZ3JvdXBpbmcgaXMgYXBwbGllZCBhZnRlciBwYWRkaW5nLlxuICAgICAgaWYgKGNvbW1hICYmIHplcm8pIHZhbHVlID0gZ3JvdXAocGFkZGluZyArIHZhbHVlLCBwYWRkaW5nLmxlbmd0aCA/IHdpZHRoIC0gdmFsdWVTdWZmaXgubGVuZ3RoIDogSW5maW5pdHkpLCBwYWRkaW5nID0gXCJcIjtcblxuICAgICAgLy8gUmVjb25zdHJ1Y3QgdGhlIGZpbmFsIG91dHB1dCBiYXNlZCBvbiB0aGUgZGVzaXJlZCBhbGlnbm1lbnQuXG4gICAgICBzd2l0Y2ggKGFsaWduKSB7XG4gICAgICAgIGNhc2UgXCI8XCI6IHZhbHVlID0gdmFsdWVQcmVmaXggKyB2YWx1ZSArIHZhbHVlU3VmZml4ICsgcGFkZGluZzsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCI9XCI6IHZhbHVlID0gdmFsdWVQcmVmaXggKyBwYWRkaW5nICsgdmFsdWUgKyB2YWx1ZVN1ZmZpeDsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJeXCI6IHZhbHVlID0gcGFkZGluZy5zbGljZSgwLCBsZW5ndGggPSBwYWRkaW5nLmxlbmd0aCA+PiAxKSArIHZhbHVlUHJlZml4ICsgdmFsdWUgKyB2YWx1ZVN1ZmZpeCArIHBhZGRpbmcuc2xpY2UobGVuZ3RoKTsgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHZhbHVlID0gcGFkZGluZyArIHZhbHVlUHJlZml4ICsgdmFsdWUgKyB2YWx1ZVN1ZmZpeDsgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBudW1lcmFscyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgZm9ybWF0LnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3BlY2lmaWVyICsgXCJcIjtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFByZWZpeChzcGVjaWZpZXIsIHZhbHVlKSB7XG4gICAgdmFyIGYgPSBuZXdGb3JtYXQoKHNwZWNpZmllciA9IGZvcm1hdFNwZWNpZmllcihzcGVjaWZpZXIpLCBzcGVjaWZpZXIudHlwZSA9IFwiZlwiLCBzcGVjaWZpZXIpKSxcbiAgICAgICAgZSA9IE1hdGgubWF4KC04LCBNYXRoLm1pbig4LCBNYXRoLmZsb29yKGV4cG9uZW50KHZhbHVlKSAvIDMpKSkgKiAzLFxuICAgICAgICBrID0gTWF0aC5wb3coMTAsIC1lKSxcbiAgICAgICAgcHJlZml4ID0gcHJlZml4ZXNbOCArIGUgLyAzXTtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmKGsgKiB2YWx1ZSkgKyBwcmVmaXg7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZm9ybWF0OiBuZXdGb3JtYXQsXG4gICAgZm9ybWF0UHJlZml4OiBmb3JtYXRQcmVmaXhcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGdyb3VwaW5nLCB0aG91c2FuZHMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCB3aWR0aCkge1xuICAgIHZhciBpID0gdmFsdWUubGVuZ3RoLFxuICAgICAgICB0ID0gW10sXG4gICAgICAgIGogPSAwLFxuICAgICAgICBnID0gZ3JvdXBpbmdbMF0sXG4gICAgICAgIGxlbmd0aCA9IDA7XG5cbiAgICB3aGlsZSAoaSA+IDAgJiYgZyA+IDApIHtcbiAgICAgIGlmIChsZW5ndGggKyBnICsgMSA+IHdpZHRoKSBnID0gTWF0aC5tYXgoMSwgd2lkdGggLSBsZW5ndGgpO1xuICAgICAgdC5wdXNoKHZhbHVlLnN1YnN0cmluZyhpIC09IGcsIGkgKyBnKSk7XG4gICAgICBpZiAoKGxlbmd0aCArPSBnICsgMSkgPiB3aWR0aCkgYnJlYWs7XG4gICAgICBnID0gZ3JvdXBpbmdbaiA9IChqICsgMSkgJSBncm91cGluZy5sZW5ndGhdO1xuICAgIH1cblxuICAgIHJldHVybiB0LnJldmVyc2UoKS5qb2luKHRob3VzYW5kcyk7XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihudW1lcmFscykge1xuICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvWzAtOV0vZywgZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIG51bWVyYWxzWytpXTtcbiAgICB9KTtcbiAgfTtcbn1cbiIsImltcG9ydCBleHBvbmVudCBmcm9tIFwiLi9leHBvbmVudC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdGVwLCBtYXgpIHtcbiAgc3RlcCA9IE1hdGguYWJzKHN0ZXApLCBtYXggPSBNYXRoLmFicyhtYXgpIC0gc3RlcDtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIGV4cG9uZW50KG1heCkgLSBleHBvbmVudChzdGVwKSkgKyAxO1xufVxuIiwiaW1wb3J0IHt0aWNrU3RlcH0gZnJvbSBcImQzLWFycmF5XCI7XG5pbXBvcnQge2Zvcm1hdCwgZm9ybWF0UHJlZml4LCBmb3JtYXRTcGVjaWZpZXIsIHByZWNpc2lvbkZpeGVkLCBwcmVjaXNpb25QcmVmaXgsIHByZWNpc2lvblJvdW5kfSBmcm9tIFwiZDMtZm9ybWF0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBjb3VudCwgc3BlY2lmaWVyKSB7XG4gIHZhciBzdGVwID0gdGlja1N0ZXAoc3RhcnQsIHN0b3AsIGNvdW50KSxcbiAgICAgIHByZWNpc2lvbjtcbiAgc3BlY2lmaWVyID0gZm9ybWF0U3BlY2lmaWVyKHNwZWNpZmllciA9PSBudWxsID8gXCIsZlwiIDogc3BlY2lmaWVyKTtcbiAgc3dpdGNoIChzcGVjaWZpZXIudHlwZSkge1xuICAgIGNhc2UgXCJzXCI6IHtcbiAgICAgIHZhciB2YWx1ZSA9IE1hdGgubWF4KE1hdGguYWJzKHN0YXJ0KSwgTWF0aC5hYnMoc3RvcCkpO1xuICAgICAgaWYgKHNwZWNpZmllci5wcmVjaXNpb24gPT0gbnVsbCAmJiAhaXNOYU4ocHJlY2lzaW9uID0gcHJlY2lzaW9uUHJlZml4KHN0ZXAsIHZhbHVlKSkpIHNwZWNpZmllci5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgICByZXR1cm4gZm9ybWF0UHJlZml4KHNwZWNpZmllciwgdmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiXCI6XG4gICAgY2FzZSBcImVcIjpcbiAgICBjYXNlIFwiZ1wiOlxuICAgIGNhc2UgXCJwXCI6XG4gICAgY2FzZSBcInJcIjoge1xuICAgICAgaWYgKHNwZWNpZmllci5wcmVjaXNpb24gPT0gbnVsbCAmJiAhaXNOYU4ocHJlY2lzaW9uID0gcHJlY2lzaW9uUm91bmQoc3RlcCwgTWF0aC5tYXgoTWF0aC5hYnMoc3RhcnQpLCBNYXRoLmFicyhzdG9wKSkpKSkgc3BlY2lmaWVyLnByZWNpc2lvbiA9IHByZWNpc2lvbiAtIChzcGVjaWZpZXIudHlwZSA9PT0gXCJlXCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGNhc2UgXCJmXCI6XG4gICAgY2FzZSBcIiVcIjoge1xuICAgICAgaWYgKHNwZWNpZmllci5wcmVjaXNpb24gPT0gbnVsbCAmJiAhaXNOYU4ocHJlY2lzaW9uID0gcHJlY2lzaW9uRml4ZWQoc3RlcCkpKSBzcGVjaWZpZXIucHJlY2lzaW9uID0gcHJlY2lzaW9uIC0gKHNwZWNpZmllci50eXBlID09PSBcIiVcIikgKiAyO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBmb3JtYXQoc3BlY2lmaWVyKTtcbn1cbiIsImltcG9ydCBleHBvbmVudCBmcm9tIFwiLi9leHBvbmVudC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzdGVwLCB2YWx1ZSkge1xuICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5tYXgoLTgsIE1hdGgubWluKDgsIE1hdGguZmxvb3IoZXhwb25lbnQodmFsdWUpIC8gMykpKSAqIDMgLSBleHBvbmVudChNYXRoLmFicyhzdGVwKSkpO1xufVxuIiwiaW1wb3J0IGV4cG9uZW50IGZyb20gXCIuL2V4cG9uZW50LmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN0ZXApIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIC1leHBvbmVudChNYXRoLmFicyhzdGVwKSkpO1xufVxuIiwiaW1wb3J0IHt0aWNrcywgdGlja0luY3JlbWVudH0gZnJvbSBcImQzLWFycmF5XCI7XG5pbXBvcnQgY29udGludW91cywge2NvcHksIGlkZW50aXR5fSBmcm9tIFwiLi9jb250aW51b3VzXCI7XG5pbXBvcnQge2luaXRSYW5nZX0gZnJvbSBcIi4vaW5pdFwiO1xuaW1wb3J0IHRpY2tGb3JtYXQgZnJvbSBcIi4vdGlja0Zvcm1hdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gbGluZWFyaXNoKHNjYWxlKSB7XG4gIHZhciBkb21haW4gPSBzY2FsZS5kb21haW47XG5cbiAgc2NhbGUudGlja3MgPSBmdW5jdGlvbihjb3VudCkge1xuICAgIHZhciBkID0gZG9tYWluKCk7XG4gICAgcmV0dXJuIHRpY2tzKGRbMF0sIGRbZC5sZW5ndGggLSAxXSwgY291bnQgPT0gbnVsbCA/IDEwIDogY291bnQpO1xuICB9O1xuXG4gIHNjYWxlLnRpY2tGb3JtYXQgPSBmdW5jdGlvbihjb3VudCwgc3BlY2lmaWVyKSB7XG4gICAgdmFyIGQgPSBkb21haW4oKTtcbiAgICByZXR1cm4gdGlja0Zvcm1hdChkWzBdLCBkW2QubGVuZ3RoIC0gMV0sIGNvdW50ID09IG51bGwgPyAxMCA6IGNvdW50LCBzcGVjaWZpZXIpO1xuICB9O1xuXG4gIHNjYWxlLm5pY2UgPSBmdW5jdGlvbihjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSBudWxsKSBjb3VudCA9IDEwO1xuXG4gICAgdmFyIGQgPSBkb21haW4oKSxcbiAgICAgICAgaTAgPSAwLFxuICAgICAgICBpMSA9IGQubGVuZ3RoIC0gMSxcbiAgICAgICAgc3RhcnQgPSBkW2kwXSxcbiAgICAgICAgc3RvcCA9IGRbaTFdLFxuICAgICAgICBzdGVwO1xuXG4gICAgaWYgKHN0b3AgPCBzdGFydCkge1xuICAgICAgc3RlcCA9IHN0YXJ0LCBzdGFydCA9IHN0b3AsIHN0b3AgPSBzdGVwO1xuICAgICAgc3RlcCA9IGkwLCBpMCA9IGkxLCBpMSA9IHN0ZXA7XG4gICAgfVxuXG4gICAgc3RlcCA9IHRpY2tJbmNyZW1lbnQoc3RhcnQsIHN0b3AsIGNvdW50KTtcblxuICAgIGlmIChzdGVwID4gMCkge1xuICAgICAgc3RhcnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gc3RlcCkgKiBzdGVwO1xuICAgICAgc3RvcCA9IE1hdGguY2VpbChzdG9wIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgc3RlcCA9IHRpY2tJbmNyZW1lbnQoc3RhcnQsIHN0b3AsIGNvdW50KTtcbiAgICB9IGVsc2UgaWYgKHN0ZXAgPCAwKSB7XG4gICAgICBzdGFydCA9IE1hdGguY2VpbChzdGFydCAqIHN0ZXApIC8gc3RlcDtcbiAgICAgIHN0b3AgPSBNYXRoLmZsb29yKHN0b3AgKiBzdGVwKSAvIHN0ZXA7XG4gICAgICBzdGVwID0gdGlja0luY3JlbWVudChzdGFydCwgc3RvcCwgY291bnQpO1xuICAgIH1cblxuICAgIGlmIChzdGVwID4gMCkge1xuICAgICAgZFtpMF0gPSBNYXRoLmZsb29yKHN0YXJ0IC8gc3RlcCkgKiBzdGVwO1xuICAgICAgZFtpMV0gPSBNYXRoLmNlaWwoc3RvcCAvIHN0ZXApICogc3RlcDtcbiAgICAgIGRvbWFpbihkKTtcbiAgICB9IGVsc2UgaWYgKHN0ZXAgPCAwKSB7XG4gICAgICBkW2kwXSA9IE1hdGguY2VpbChzdGFydCAqIHN0ZXApIC8gc3RlcDtcbiAgICAgIGRbaTFdID0gTWF0aC5mbG9vcihzdG9wICogc3RlcCkgLyBzdGVwO1xuICAgICAgZG9tYWluKGQpO1xuICAgIH1cblxuICAgIHJldHVybiBzY2FsZTtcbiAgfTtcblxuICByZXR1cm4gc2NhbGU7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGxpbmVhcigpIHtcbiAgdmFyIHNjYWxlID0gY29udGludW91cyhpZGVudGl0eSwgaWRlbnRpdHkpO1xuXG4gIHNjYWxlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gY29weShzY2FsZSwgbGluZWFyKCkpO1xuICB9O1xuXG4gIGluaXRSYW5nZS5hcHBseShzY2FsZSwgYXJndW1lbnRzKTtcblxuICByZXR1cm4gbGluZWFyaXNoKHNjYWxlKTtcbn1cbiIsInZhciB0MCA9IG5ldyBEYXRlLFxuICAgIHQxID0gbmV3IERhdGU7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5ld0ludGVydmFsKGZsb29yaSwgb2Zmc2V0aSwgY291bnQsIGZpZWxkKSB7XG5cbiAgZnVuY3Rpb24gaW50ZXJ2YWwoZGF0ZSkge1xuICAgIHJldHVybiBmbG9vcmkoZGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyBuZXcgRGF0ZSA6IG5ldyBEYXRlKCtkYXRlKSksIGRhdGU7XG4gIH1cblxuICBpbnRlcnZhbC5mbG9vciA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gZmxvb3JpKGRhdGUgPSBuZXcgRGF0ZSgrZGF0ZSkpLCBkYXRlO1xuICB9O1xuXG4gIGludGVydmFsLmNlaWwgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgcmV0dXJuIGZsb29yaShkYXRlID0gbmV3IERhdGUoZGF0ZSAtIDEpKSwgb2Zmc2V0aShkYXRlLCAxKSwgZmxvb3JpKGRhdGUpLCBkYXRlO1xuICB9O1xuXG4gIGludGVydmFsLnJvdW5kID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciBkMCA9IGludGVydmFsKGRhdGUpLFxuICAgICAgICBkMSA9IGludGVydmFsLmNlaWwoZGF0ZSk7XG4gICAgcmV0dXJuIGRhdGUgLSBkMCA8IGQxIC0gZGF0ZSA/IGQwIDogZDE7XG4gIH07XG5cbiAgaW50ZXJ2YWwub2Zmc2V0ID0gZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICAgIHJldHVybiBvZmZzZXRpKGRhdGUgPSBuZXcgRGF0ZSgrZGF0ZSksIHN0ZXAgPT0gbnVsbCA/IDEgOiBNYXRoLmZsb29yKHN0ZXApKSwgZGF0ZTtcbiAgfTtcblxuICBpbnRlcnZhbC5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgdmFyIHJhbmdlID0gW10sIHByZXZpb3VzO1xuICAgIHN0YXJ0ID0gaW50ZXJ2YWwuY2VpbChzdGFydCk7XG4gICAgc3RlcCA9IHN0ZXAgPT0gbnVsbCA/IDEgOiBNYXRoLmZsb29yKHN0ZXApO1xuICAgIGlmICghKHN0YXJ0IDwgc3RvcCkgfHwgIShzdGVwID4gMCkpIHJldHVybiByYW5nZTsgLy8gYWxzbyBoYW5kbGVzIEludmFsaWQgRGF0ZVxuICAgIGRvIHJhbmdlLnB1c2gocHJldmlvdXMgPSBuZXcgRGF0ZSgrc3RhcnQpKSwgb2Zmc2V0aShzdGFydCwgc3RlcCksIGZsb29yaShzdGFydCk7XG4gICAgd2hpbGUgKHByZXZpb3VzIDwgc3RhcnQgJiYgc3RhcnQgPCBzdG9wKTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH07XG5cbiAgaW50ZXJ2YWwuZmlsdGVyID0gZnVuY3Rpb24odGVzdCkge1xuICAgIHJldHVybiBuZXdJbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgICBpZiAoZGF0ZSA+PSBkYXRlKSB3aGlsZSAoZmxvb3JpKGRhdGUpLCAhdGVzdChkYXRlKSkgZGF0ZS5zZXRUaW1lKGRhdGUgLSAxKTtcbiAgICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgICBpZiAoZGF0ZSA+PSBkYXRlKSB7XG4gICAgICAgIGlmIChzdGVwIDwgMCkgd2hpbGUgKCsrc3RlcCA8PSAwKSB7XG4gICAgICAgICAgd2hpbGUgKG9mZnNldGkoZGF0ZSwgLTEpLCAhdGVzdChkYXRlKSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICB9IGVsc2Ugd2hpbGUgKC0tc3RlcCA+PSAwKSB7XG4gICAgICAgICAgd2hpbGUgKG9mZnNldGkoZGF0ZSwgKzEpLCAhdGVzdChkYXRlKSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lbXB0eVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgaWYgKGNvdW50KSB7XG4gICAgaW50ZXJ2YWwuY291bnQgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICB0MC5zZXRUaW1lKCtzdGFydCksIHQxLnNldFRpbWUoK2VuZCk7XG4gICAgICBmbG9vcmkodDApLCBmbG9vcmkodDEpO1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoY291bnQodDAsIHQxKSk7XG4gICAgfTtcblxuICAgIGludGVydmFsLmV2ZXJ5ID0gZnVuY3Rpb24oc3RlcCkge1xuICAgICAgc3RlcCA9IE1hdGguZmxvb3Ioc3RlcCk7XG4gICAgICByZXR1cm4gIWlzRmluaXRlKHN0ZXApIHx8ICEoc3RlcCA+IDApID8gbnVsbFxuICAgICAgICAgIDogIShzdGVwID4gMSkgPyBpbnRlcnZhbFxuICAgICAgICAgIDogaW50ZXJ2YWwuZmlsdGVyKGZpZWxkXG4gICAgICAgICAgICAgID8gZnVuY3Rpb24oZCkgeyByZXR1cm4gZmllbGQoZCkgJSBzdGVwID09PSAwOyB9XG4gICAgICAgICAgICAgIDogZnVuY3Rpb24oZCkgeyByZXR1cm4gaW50ZXJ2YWwuY291bnQoMCwgZCkgJSBzdGVwID09PSAwOyB9KTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGludGVydmFsO1xufVxuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5cbnZhciB5ZWFyID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldE1vbnRoKDAsIDEpO1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSArIHN0ZXApO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gZW5kLmdldEZ1bGxZZWFyKCkgLSBzdGFydC5nZXRGdWxsWWVhcigpO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpO1xufSk7XG5cbi8vIEFuIG9wdGltaXplZCBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBzaW1wbGUgY2FzZS5cbnllYXIuZXZlcnkgPSBmdW5jdGlvbihrKSB7XG4gIHJldHVybiAhaXNGaW5pdGUoayA9IE1hdGguZmxvb3IoaykpIHx8ICEoayA+IDApID8gbnVsbCA6IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKE1hdGguZmxvb3IoZGF0ZS5nZXRGdWxsWWVhcigpIC8gaykgKiBrKTtcbiAgICBkYXRlLnNldE1vbnRoKDAsIDEpO1xuICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSArIHN0ZXAgKiBrKTtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCB5ZWFyO1xuZXhwb3J0IHZhciB5ZWFycyA9IHllYXIucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcblxudmFyIG1vbnRoID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldERhdGUoMSk7XG4gIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBlbmQuZ2V0TW9udGgoKSAtIHN0YXJ0LmdldE1vbnRoKCkgKyAoZW5kLmdldEZ1bGxZZWFyKCkgLSBzdGFydC5nZXRGdWxsWWVhcigpKSAqIDEyO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRNb250aCgpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IG1vbnRoO1xuZXhwb3J0IHZhciBtb250aHMgPSBtb250aC5yYW5nZTtcbiIsImV4cG9ydCB2YXIgZHVyYXRpb25TZWNvbmQgPSAxZTM7XG5leHBvcnQgdmFyIGR1cmF0aW9uTWludXRlID0gNmU0O1xuZXhwb3J0IHZhciBkdXJhdGlvbkhvdXIgPSAzNmU1O1xuZXhwb3J0IHZhciBkdXJhdGlvbkRheSA9IDg2NGU1O1xuZXhwb3J0IHZhciBkdXJhdGlvbldlZWsgPSA2MDQ4ZTU7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25NaW51dGUsIGR1cmF0aW9uV2Vla30gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxuZnVuY3Rpb24gd2Vla2RheShpKSB7XG4gIHJldHVybiBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gKGRhdGUuZ2V0RGF5KCkgKyA3IC0gaSkgJSA3KTtcbiAgICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xuICB9LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgc3RlcCAqIDcpO1xuICB9LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgcmV0dXJuIChlbmQgLSBzdGFydCAtIChlbmQuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogZHVyYXRpb25NaW51dGUpIC8gZHVyYXRpb25XZWVrO1xuICB9KTtcbn1cblxuZXhwb3J0IHZhciBzdW5kYXkgPSB3ZWVrZGF5KDApO1xuZXhwb3J0IHZhciBtb25kYXkgPSB3ZWVrZGF5KDEpO1xuZXhwb3J0IHZhciB0dWVzZGF5ID0gd2Vla2RheSgyKTtcbmV4cG9ydCB2YXIgd2VkbmVzZGF5ID0gd2Vla2RheSgzKTtcbmV4cG9ydCB2YXIgdGh1cnNkYXkgPSB3ZWVrZGF5KDQpO1xuZXhwb3J0IHZhciBmcmlkYXkgPSB3ZWVrZGF5KDUpO1xuZXhwb3J0IHZhciBzYXR1cmRheSA9IHdlZWtkYXkoNik7XG5cbmV4cG9ydCB2YXIgc3VuZGF5cyA9IHN1bmRheS5yYW5nZTtcbmV4cG9ydCB2YXIgbW9uZGF5cyA9IG1vbmRheS5yYW5nZTtcbmV4cG9ydCB2YXIgdHVlc2RheXMgPSB0dWVzZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB3ZWRuZXNkYXlzID0gd2VkbmVzZGF5LnJhbmdlO1xuZXhwb3J0IHZhciB0aHVyc2RheXMgPSB0aHVyc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgZnJpZGF5cyA9IGZyaWRheS5yYW5nZTtcbmV4cG9ydCB2YXIgc2F0dXJkYXlzID0gc2F0dXJkYXkucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25EYXksIGR1cmF0aW9uTWludXRlfSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG52YXIgZGF5ID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyBzdGVwKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCAtIChlbmQuZ2V0VGltZXpvbmVPZmZzZXQoKSAtIHN0YXJ0LmdldFRpbWV6b25lT2Zmc2V0KCkpICogZHVyYXRpb25NaW51dGUpIC8gZHVyYXRpb25EYXk7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldERhdGUoKSAtIDE7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZGF5O1xuZXhwb3J0IHZhciBkYXlzID0gZGF5LnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uSG91ciwgZHVyYXRpb25NaW51dGUsIGR1cmF0aW9uU2Vjb25kfSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG52YXIgaG91ciA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRUaW1lKGRhdGUgLSBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC0gZGF0ZS5nZXRTZWNvbmRzKCkgKiBkdXJhdGlvblNlY29uZCAtIGRhdGUuZ2V0TWludXRlcygpICogZHVyYXRpb25NaW51dGUpO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogZHVyYXRpb25Ib3VyKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvbkhvdXI7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgaG91cjtcbmV4cG9ydCB2YXIgaG91cnMgPSBob3VyLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uTWludXRlLCBkdXJhdGlvblNlY29uZH0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIG1pbnV0ZSA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRUaW1lKGRhdGUgLSBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC0gZGF0ZS5nZXRTZWNvbmRzKCkgKiBkdXJhdGlvblNlY29uZCk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VGltZSgrZGF0ZSArIHN0ZXAgKiBkdXJhdGlvbk1pbnV0ZSk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoZW5kIC0gc3RhcnQpIC8gZHVyYXRpb25NaW51dGU7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldE1pbnV0ZXMoKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBtaW51dGU7XG5leHBvcnQgdmFyIG1pbnV0ZXMgPSBtaW51dGUucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25TZWNvbmR9IGZyb20gXCIuL2R1cmF0aW9uLmpzXCI7XG5cbnZhciBzZWNvbmQgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VGltZShkYXRlIC0gZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VGltZSgrZGF0ZSArIHN0ZXAgKiBkdXJhdGlvblNlY29uZCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoZW5kIC0gc3RhcnQpIC8gZHVyYXRpb25TZWNvbmQ7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFVUQ1NlY29uZHMoKTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBzZWNvbmQ7XG5leHBvcnQgdmFyIHNlY29uZHMgPSBzZWNvbmQucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcblxudmFyIG1pbGxpc2Vjb25kID0gaW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gIC8vIG5vb3Bcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRUaW1lKCtkYXRlICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBlbmQgLSBzdGFydDtcbn0pO1xuXG4vLyBBbiBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb24gZm9yIHRoaXMgc2ltcGxlIGNhc2UuXG5taWxsaXNlY29uZC5ldmVyeSA9IGZ1bmN0aW9uKGspIHtcbiAgayA9IE1hdGguZmxvb3Ioayk7XG4gIGlmICghaXNGaW5pdGUoaykgfHwgIShrID4gMCkpIHJldHVybiBudWxsO1xuICBpZiAoIShrID4gMSkpIHJldHVybiBtaWxsaXNlY29uZDtcbiAgcmV0dXJuIGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBkYXRlLnNldFRpbWUoTWF0aC5mbG9vcihkYXRlIC8gaykgKiBrKTtcbiAgfSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICAgIGRhdGUuc2V0VGltZSgrZGF0ZSArIHN0ZXAgKiBrKTtcbiAgfSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgIHJldHVybiAoZW5kIC0gc3RhcnQpIC8gaztcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBtaWxsaXNlY29uZDtcbmV4cG9ydCB2YXIgbWlsbGlzZWNvbmRzID0gbWlsbGlzZWNvbmQucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcbmltcG9ydCB7ZHVyYXRpb25XZWVrfSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG5mdW5jdGlvbiB1dGNXZWVrZGF5KGkpIHtcbiAgcmV0dXJuIGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgLSAoZGF0ZS5nZXRVVENEYXkoKSArIDcgLSBpKSAlIDcpO1xuICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gIH0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgKyBzdGVwICogNyk7XG4gIH0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uV2VlaztcbiAgfSk7XG59XG5cbmV4cG9ydCB2YXIgdXRjU3VuZGF5ID0gdXRjV2Vla2RheSgwKTtcbmV4cG9ydCB2YXIgdXRjTW9uZGF5ID0gdXRjV2Vla2RheSgxKTtcbmV4cG9ydCB2YXIgdXRjVHVlc2RheSA9IHV0Y1dlZWtkYXkoMik7XG5leHBvcnQgdmFyIHV0Y1dlZG5lc2RheSA9IHV0Y1dlZWtkYXkoMyk7XG5leHBvcnQgdmFyIHV0Y1RodXJzZGF5ID0gdXRjV2Vla2RheSg0KTtcbmV4cG9ydCB2YXIgdXRjRnJpZGF5ID0gdXRjV2Vla2RheSg1KTtcbmV4cG9ydCB2YXIgdXRjU2F0dXJkYXkgPSB1dGNXZWVrZGF5KDYpO1xuXG5leHBvcnQgdmFyIHV0Y1N1bmRheXMgPSB1dGNTdW5kYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y01vbmRheXMgPSB1dGNNb25kYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y1R1ZXNkYXlzID0gdXRjVHVlc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgdXRjV2VkbmVzZGF5cyA9IHV0Y1dlZG5lc2RheS5yYW5nZTtcbmV4cG9ydCB2YXIgdXRjVGh1cnNkYXlzID0gdXRjVGh1cnNkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y0ZyaWRheXMgPSB1dGNGcmlkYXkucmFuZ2U7XG5leHBvcnQgdmFyIHV0Y1NhdHVyZGF5cyA9IHV0Y1NhdHVyZGF5LnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uRGF5fSBmcm9tIFwiLi9kdXJhdGlvbi5qc1wiO1xuXG52YXIgdXRjRGF5ID0gaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgKyBzdGVwKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIChlbmQgLSBzdGFydCkgLyBkdXJhdGlvbkRheTtcbn0sIGZ1bmN0aW9uKGRhdGUpIHtcbiAgcmV0dXJuIGRhdGUuZ2V0VVRDRGF0ZSgpIC0gMTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB1dGNEYXk7XG5leHBvcnQgdmFyIHV0Y0RheXMgPSB1dGNEYXkucmFuZ2U7XG4iLCJpbXBvcnQgaW50ZXJ2YWwgZnJvbSBcIi4vaW50ZXJ2YWwuanNcIjtcblxudmFyIHV0Y1llYXIgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VVRDTW9udGgoMCwgMSk7XG4gIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG59LCBmdW5jdGlvbihkYXRlLCBzdGVwKSB7XG4gIGRhdGUuc2V0VVRDRnVsbFllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpICsgc3RlcCk7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiBlbmQuZ2V0VVRDRnVsbFllYXIoKSAtIHN0YXJ0LmdldFVUQ0Z1bGxZZWFyKCk7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG59KTtcblxuLy8gQW4gb3B0aW1pemVkIGltcGxlbWVudGF0aW9uIGZvciB0aGlzIHNpbXBsZSBjYXNlLlxudXRjWWVhci5ldmVyeSA9IGZ1bmN0aW9uKGspIHtcbiAgcmV0dXJuICFpc0Zpbml0ZShrID0gTWF0aC5mbG9vcihrKSkgfHwgIShrID4gMCkgPyBudWxsIDogaW50ZXJ2YWwoZnVuY3Rpb24oZGF0ZSkge1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoTWF0aC5mbG9vcihkYXRlLmdldFVUQ0Z1bGxZZWFyKCkgLyBrKSAqIGspO1xuICAgIGRhdGUuc2V0VVRDTW9udGgoMCwgMSk7XG4gICAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgfSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoZGF0ZS5nZXRVVENGdWxsWWVhcigpICsgc3RlcCAqIGspO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHV0Y1llYXI7XG5leHBvcnQgdmFyIHV0Y1llYXJzID0gdXRjWWVhci5yYW5nZTtcbiIsImltcG9ydCB7XG4gIHRpbWVEYXksXG4gIHRpbWVTdW5kYXksXG4gIHRpbWVNb25kYXksXG4gIHRpbWVUaHVyc2RheSxcbiAgdGltZVllYXIsXG4gIHV0Y0RheSxcbiAgdXRjU3VuZGF5LFxuICB1dGNNb25kYXksXG4gIHV0Y1RodXJzZGF5LFxuICB1dGNZZWFyXG59IGZyb20gXCJkMy10aW1lXCI7XG5cbmZ1bmN0aW9uIGxvY2FsRGF0ZShkKSB7XG4gIGlmICgwIDw9IGQueSAmJiBkLnkgPCAxMDApIHtcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKC0xLCBkLm0sIGQuZCwgZC5ILCBkLk0sIGQuUywgZC5MKTtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKGQueSk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH1cbiAgcmV0dXJuIG5ldyBEYXRlKGQueSwgZC5tLCBkLmQsIGQuSCwgZC5NLCBkLlMsIGQuTCk7XG59XG5cbmZ1bmN0aW9uIHV0Y0RhdGUoZCkge1xuICBpZiAoMCA8PSBkLnkgJiYgZC55IDwgMTAwKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQygtMSwgZC5tLCBkLmQsIGQuSCwgZC5NLCBkLlMsIGQuTCkpO1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoZC55KTtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZC55LCBkLm0sIGQuZCwgZC5ILCBkLk0sIGQuUywgZC5MKSk7XG59XG5cbmZ1bmN0aW9uIG5ld0RhdGUoeSwgbSwgZCkge1xuICByZXR1cm4ge3k6IHksIG06IG0sIGQ6IGQsIEg6IDAsIE06IDAsIFM6IDAsIEw6IDB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBmb3JtYXRMb2NhbGUobG9jYWxlKSB7XG4gIHZhciBsb2NhbGVfZGF0ZVRpbWUgPSBsb2NhbGUuZGF0ZVRpbWUsXG4gICAgICBsb2NhbGVfZGF0ZSA9IGxvY2FsZS5kYXRlLFxuICAgICAgbG9jYWxlX3RpbWUgPSBsb2NhbGUudGltZSxcbiAgICAgIGxvY2FsZV9wZXJpb2RzID0gbG9jYWxlLnBlcmlvZHMsXG4gICAgICBsb2NhbGVfd2Vla2RheXMgPSBsb2NhbGUuZGF5cyxcbiAgICAgIGxvY2FsZV9zaG9ydFdlZWtkYXlzID0gbG9jYWxlLnNob3J0RGF5cyxcbiAgICAgIGxvY2FsZV9tb250aHMgPSBsb2NhbGUubW9udGhzLFxuICAgICAgbG9jYWxlX3Nob3J0TW9udGhzID0gbG9jYWxlLnNob3J0TW9udGhzO1xuXG4gIHZhciBwZXJpb2RSZSA9IGZvcm1hdFJlKGxvY2FsZV9wZXJpb2RzKSxcbiAgICAgIHBlcmlvZExvb2t1cCA9IGZvcm1hdExvb2t1cChsb2NhbGVfcGVyaW9kcyksXG4gICAgICB3ZWVrZGF5UmUgPSBmb3JtYXRSZShsb2NhbGVfd2Vla2RheXMpLFxuICAgICAgd2Vla2RheUxvb2t1cCA9IGZvcm1hdExvb2t1cChsb2NhbGVfd2Vla2RheXMpLFxuICAgICAgc2hvcnRXZWVrZGF5UmUgPSBmb3JtYXRSZShsb2NhbGVfc2hvcnRXZWVrZGF5cyksXG4gICAgICBzaG9ydFdlZWtkYXlMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX3Nob3J0V2Vla2RheXMpLFxuICAgICAgbW9udGhSZSA9IGZvcm1hdFJlKGxvY2FsZV9tb250aHMpLFxuICAgICAgbW9udGhMb29rdXAgPSBmb3JtYXRMb29rdXAobG9jYWxlX21vbnRocyksXG4gICAgICBzaG9ydE1vbnRoUmUgPSBmb3JtYXRSZShsb2NhbGVfc2hvcnRNb250aHMpLFxuICAgICAgc2hvcnRNb250aExvb2t1cCA9IGZvcm1hdExvb2t1cChsb2NhbGVfc2hvcnRNb250aHMpO1xuXG4gIHZhciBmb3JtYXRzID0ge1xuICAgIFwiYVwiOiBmb3JtYXRTaG9ydFdlZWtkYXksXG4gICAgXCJBXCI6IGZvcm1hdFdlZWtkYXksXG4gICAgXCJiXCI6IGZvcm1hdFNob3J0TW9udGgsXG4gICAgXCJCXCI6IGZvcm1hdE1vbnRoLFxuICAgIFwiY1wiOiBudWxsLFxuICAgIFwiZFwiOiBmb3JtYXREYXlPZk1vbnRoLFxuICAgIFwiZVwiOiBmb3JtYXREYXlPZk1vbnRoLFxuICAgIFwiZlwiOiBmb3JtYXRNaWNyb3NlY29uZHMsXG4gICAgXCJIXCI6IGZvcm1hdEhvdXIyNCxcbiAgICBcIklcIjogZm9ybWF0SG91cjEyLFxuICAgIFwialwiOiBmb3JtYXREYXlPZlllYXIsXG4gICAgXCJMXCI6IGZvcm1hdE1pbGxpc2Vjb25kcyxcbiAgICBcIm1cIjogZm9ybWF0TW9udGhOdW1iZXIsXG4gICAgXCJNXCI6IGZvcm1hdE1pbnV0ZXMsXG4gICAgXCJwXCI6IGZvcm1hdFBlcmlvZCxcbiAgICBcInFcIjogZm9ybWF0UXVhcnRlcixcbiAgICBcIlFcIjogZm9ybWF0VW5peFRpbWVzdGFtcCxcbiAgICBcInNcIjogZm9ybWF0VW5peFRpbWVzdGFtcFNlY29uZHMsXG4gICAgXCJTXCI6IGZvcm1hdFNlY29uZHMsXG4gICAgXCJ1XCI6IGZvcm1hdFdlZWtkYXlOdW1iZXJNb25kYXksXG4gICAgXCJVXCI6IGZvcm1hdFdlZWtOdW1iZXJTdW5kYXksXG4gICAgXCJWXCI6IGZvcm1hdFdlZWtOdW1iZXJJU08sXG4gICAgXCJ3XCI6IGZvcm1hdFdlZWtkYXlOdW1iZXJTdW5kYXksXG4gICAgXCJXXCI6IGZvcm1hdFdlZWtOdW1iZXJNb25kYXksXG4gICAgXCJ4XCI6IG51bGwsXG4gICAgXCJYXCI6IG51bGwsXG4gICAgXCJ5XCI6IGZvcm1hdFllYXIsXG4gICAgXCJZXCI6IGZvcm1hdEZ1bGxZZWFyLFxuICAgIFwiWlwiOiBmb3JtYXRab25lLFxuICAgIFwiJVwiOiBmb3JtYXRMaXRlcmFsUGVyY2VudFxuICB9O1xuXG4gIHZhciB1dGNGb3JtYXRzID0ge1xuICAgIFwiYVwiOiBmb3JtYXRVVENTaG9ydFdlZWtkYXksXG4gICAgXCJBXCI6IGZvcm1hdFVUQ1dlZWtkYXksXG4gICAgXCJiXCI6IGZvcm1hdFVUQ1Nob3J0TW9udGgsXG4gICAgXCJCXCI6IGZvcm1hdFVUQ01vbnRoLFxuICAgIFwiY1wiOiBudWxsLFxuICAgIFwiZFwiOiBmb3JtYXRVVENEYXlPZk1vbnRoLFxuICAgIFwiZVwiOiBmb3JtYXRVVENEYXlPZk1vbnRoLFxuICAgIFwiZlwiOiBmb3JtYXRVVENNaWNyb3NlY29uZHMsXG4gICAgXCJIXCI6IGZvcm1hdFVUQ0hvdXIyNCxcbiAgICBcIklcIjogZm9ybWF0VVRDSG91cjEyLFxuICAgIFwialwiOiBmb3JtYXRVVENEYXlPZlllYXIsXG4gICAgXCJMXCI6IGZvcm1hdFVUQ01pbGxpc2Vjb25kcyxcbiAgICBcIm1cIjogZm9ybWF0VVRDTW9udGhOdW1iZXIsXG4gICAgXCJNXCI6IGZvcm1hdFVUQ01pbnV0ZXMsXG4gICAgXCJwXCI6IGZvcm1hdFVUQ1BlcmlvZCxcbiAgICBcInFcIjogZm9ybWF0VVRDUXVhcnRlcixcbiAgICBcIlFcIjogZm9ybWF0VW5peFRpbWVzdGFtcCxcbiAgICBcInNcIjogZm9ybWF0VW5peFRpbWVzdGFtcFNlY29uZHMsXG4gICAgXCJTXCI6IGZvcm1hdFVUQ1NlY29uZHMsXG4gICAgXCJ1XCI6IGZvcm1hdFVUQ1dlZWtkYXlOdW1iZXJNb25kYXksXG4gICAgXCJVXCI6IGZvcm1hdFVUQ1dlZWtOdW1iZXJTdW5kYXksXG4gICAgXCJWXCI6IGZvcm1hdFVUQ1dlZWtOdW1iZXJJU08sXG4gICAgXCJ3XCI6IGZvcm1hdFVUQ1dlZWtkYXlOdW1iZXJTdW5kYXksXG4gICAgXCJXXCI6IGZvcm1hdFVUQ1dlZWtOdW1iZXJNb25kYXksXG4gICAgXCJ4XCI6IG51bGwsXG4gICAgXCJYXCI6IG51bGwsXG4gICAgXCJ5XCI6IGZvcm1hdFVUQ1llYXIsXG4gICAgXCJZXCI6IGZvcm1hdFVUQ0Z1bGxZZWFyLFxuICAgIFwiWlwiOiBmb3JtYXRVVENab25lLFxuICAgIFwiJVwiOiBmb3JtYXRMaXRlcmFsUGVyY2VudFxuICB9O1xuXG4gIHZhciBwYXJzZXMgPSB7XG4gICAgXCJhXCI6IHBhcnNlU2hvcnRXZWVrZGF5LFxuICAgIFwiQVwiOiBwYXJzZVdlZWtkYXksXG4gICAgXCJiXCI6IHBhcnNlU2hvcnRNb250aCxcbiAgICBcIkJcIjogcGFyc2VNb250aCxcbiAgICBcImNcIjogcGFyc2VMb2NhbGVEYXRlVGltZSxcbiAgICBcImRcIjogcGFyc2VEYXlPZk1vbnRoLFxuICAgIFwiZVwiOiBwYXJzZURheU9mTW9udGgsXG4gICAgXCJmXCI6IHBhcnNlTWljcm9zZWNvbmRzLFxuICAgIFwiSFwiOiBwYXJzZUhvdXIyNCxcbiAgICBcIklcIjogcGFyc2VIb3VyMjQsXG4gICAgXCJqXCI6IHBhcnNlRGF5T2ZZZWFyLFxuICAgIFwiTFwiOiBwYXJzZU1pbGxpc2Vjb25kcyxcbiAgICBcIm1cIjogcGFyc2VNb250aE51bWJlcixcbiAgICBcIk1cIjogcGFyc2VNaW51dGVzLFxuICAgIFwicFwiOiBwYXJzZVBlcmlvZCxcbiAgICBcInFcIjogcGFyc2VRdWFydGVyLFxuICAgIFwiUVwiOiBwYXJzZVVuaXhUaW1lc3RhbXAsXG4gICAgXCJzXCI6IHBhcnNlVW5peFRpbWVzdGFtcFNlY29uZHMsXG4gICAgXCJTXCI6IHBhcnNlU2Vjb25kcyxcbiAgICBcInVcIjogcGFyc2VXZWVrZGF5TnVtYmVyTW9uZGF5LFxuICAgIFwiVVwiOiBwYXJzZVdlZWtOdW1iZXJTdW5kYXksXG4gICAgXCJWXCI6IHBhcnNlV2Vla051bWJlcklTTyxcbiAgICBcIndcIjogcGFyc2VXZWVrZGF5TnVtYmVyU3VuZGF5LFxuICAgIFwiV1wiOiBwYXJzZVdlZWtOdW1iZXJNb25kYXksXG4gICAgXCJ4XCI6IHBhcnNlTG9jYWxlRGF0ZSxcbiAgICBcIlhcIjogcGFyc2VMb2NhbGVUaW1lLFxuICAgIFwieVwiOiBwYXJzZVllYXIsXG4gICAgXCJZXCI6IHBhcnNlRnVsbFllYXIsXG4gICAgXCJaXCI6IHBhcnNlWm9uZSxcbiAgICBcIiVcIjogcGFyc2VMaXRlcmFsUGVyY2VudFxuICB9O1xuXG4gIC8vIFRoZXNlIHJlY3Vyc2l2ZSBkaXJlY3RpdmUgZGVmaW5pdGlvbnMgbXVzdCBiZSBkZWZlcnJlZC5cbiAgZm9ybWF0cy54ID0gbmV3Rm9ybWF0KGxvY2FsZV9kYXRlLCBmb3JtYXRzKTtcbiAgZm9ybWF0cy5YID0gbmV3Rm9ybWF0KGxvY2FsZV90aW1lLCBmb3JtYXRzKTtcbiAgZm9ybWF0cy5jID0gbmV3Rm9ybWF0KGxvY2FsZV9kYXRlVGltZSwgZm9ybWF0cyk7XG4gIHV0Y0Zvcm1hdHMueCA9IG5ld0Zvcm1hdChsb2NhbGVfZGF0ZSwgdXRjRm9ybWF0cyk7XG4gIHV0Y0Zvcm1hdHMuWCA9IG5ld0Zvcm1hdChsb2NhbGVfdGltZSwgdXRjRm9ybWF0cyk7XG4gIHV0Y0Zvcm1hdHMuYyA9IG5ld0Zvcm1hdChsb2NhbGVfZGF0ZVRpbWUsIHV0Y0Zvcm1hdHMpO1xuXG4gIGZ1bmN0aW9uIG5ld0Zvcm1hdChzcGVjaWZpZXIsIGZvcm1hdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgdmFyIHN0cmluZyA9IFtdLFxuICAgICAgICAgIGkgPSAtMSxcbiAgICAgICAgICBqID0gMCxcbiAgICAgICAgICBuID0gc3BlY2lmaWVyLmxlbmd0aCxcbiAgICAgICAgICBjLFxuICAgICAgICAgIHBhZCxcbiAgICAgICAgICBmb3JtYXQ7XG5cbiAgICAgIGlmICghKGRhdGUgaW5zdGFuY2VvZiBEYXRlKSkgZGF0ZSA9IG5ldyBEYXRlKCtkYXRlKTtcblxuICAgICAgd2hpbGUgKCsraSA8IG4pIHtcbiAgICAgICAgaWYgKHNwZWNpZmllci5jaGFyQ29kZUF0KGkpID09PSAzNykge1xuICAgICAgICAgIHN0cmluZy5wdXNoKHNwZWNpZmllci5zbGljZShqLCBpKSk7XG4gICAgICAgICAgaWYgKChwYWQgPSBwYWRzW2MgPSBzcGVjaWZpZXIuY2hhckF0KCsraSldKSAhPSBudWxsKSBjID0gc3BlY2lmaWVyLmNoYXJBdCgrK2kpO1xuICAgICAgICAgIGVsc2UgcGFkID0gYyA9PT0gXCJlXCIgPyBcIiBcIiA6IFwiMFwiO1xuICAgICAgICAgIGlmIChmb3JtYXQgPSBmb3JtYXRzW2NdKSBjID0gZm9ybWF0KGRhdGUsIHBhZCk7XG4gICAgICAgICAgc3RyaW5nLnB1c2goYyk7XG4gICAgICAgICAgaiA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0cmluZy5wdXNoKHNwZWNpZmllci5zbGljZShqLCBpKSk7XG4gICAgICByZXR1cm4gc3RyaW5nLmpvaW4oXCJcIik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld1BhcnNlKHNwZWNpZmllciwgWikge1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHZhciBkID0gbmV3RGF0ZSgxOTAwLCB1bmRlZmluZWQsIDEpLFxuICAgICAgICAgIGkgPSBwYXJzZVNwZWNpZmllcihkLCBzcGVjaWZpZXIsIHN0cmluZyArPSBcIlwiLCAwKSxcbiAgICAgICAgICB3ZWVrLCBkYXk7XG4gICAgICBpZiAoaSAhPSBzdHJpbmcubGVuZ3RoKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gSWYgYSBVTklYIHRpbWVzdGFtcCBpcyBzcGVjaWZpZWQsIHJldHVybiBpdC5cbiAgICAgIGlmIChcIlFcIiBpbiBkKSByZXR1cm4gbmV3IERhdGUoZC5RKTtcbiAgICAgIGlmIChcInNcIiBpbiBkKSByZXR1cm4gbmV3IERhdGUoZC5zICogMTAwMCArIChcIkxcIiBpbiBkID8gZC5MIDogMCkpO1xuXG4gICAgICAvLyBJZiB0aGlzIGlzIHV0Y1BhcnNlLCBuZXZlciB1c2UgdGhlIGxvY2FsIHRpbWV6b25lLlxuICAgICAgaWYgKFogJiYgIShcIlpcIiBpbiBkKSkgZC5aID0gMDtcblxuICAgICAgLy8gVGhlIGFtLXBtIGZsYWcgaXMgMCBmb3IgQU0sIGFuZCAxIGZvciBQTS5cbiAgICAgIGlmIChcInBcIiBpbiBkKSBkLkggPSBkLkggJSAxMiArIGQucCAqIDEyO1xuXG4gICAgICAvLyBJZiB0aGUgbW9udGggd2FzIG5vdCBzcGVjaWZpZWQsIGluaGVyaXQgZnJvbSB0aGUgcXVhcnRlci5cbiAgICAgIGlmIChkLm0gPT09IHVuZGVmaW5lZCkgZC5tID0gXCJxXCIgaW4gZCA/IGQucSA6IDA7XG5cbiAgICAgIC8vIENvbnZlcnQgZGF5LW9mLXdlZWsgYW5kIHdlZWstb2YteWVhciB0byBkYXktb2YteWVhci5cbiAgICAgIGlmIChcIlZcIiBpbiBkKSB7XG4gICAgICAgIGlmIChkLlYgPCAxIHx8IGQuViA+IDUzKSByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKCEoXCJ3XCIgaW4gZCkpIGQudyA9IDE7XG4gICAgICAgIGlmIChcIlpcIiBpbiBkKSB7XG4gICAgICAgICAgd2VlayA9IHV0Y0RhdGUobmV3RGF0ZShkLnksIDAsIDEpKSwgZGF5ID0gd2Vlay5nZXRVVENEYXkoKTtcbiAgICAgICAgICB3ZWVrID0gZGF5ID4gNCB8fCBkYXkgPT09IDAgPyB1dGNNb25kYXkuY2VpbCh3ZWVrKSA6IHV0Y01vbmRheSh3ZWVrKTtcbiAgICAgICAgICB3ZWVrID0gdXRjRGF5Lm9mZnNldCh3ZWVrLCAoZC5WIC0gMSkgKiA3KTtcbiAgICAgICAgICBkLnkgPSB3ZWVrLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgICAgZC5tID0gd2Vlay5nZXRVVENNb250aCgpO1xuICAgICAgICAgIGQuZCA9IHdlZWsuZ2V0VVRDRGF0ZSgpICsgKGQudyArIDYpICUgNztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3ZWVrID0gbG9jYWxEYXRlKG5ld0RhdGUoZC55LCAwLCAxKSksIGRheSA9IHdlZWsuZ2V0RGF5KCk7XG4gICAgICAgICAgd2VlayA9IGRheSA+IDQgfHwgZGF5ID09PSAwID8gdGltZU1vbmRheS5jZWlsKHdlZWspIDogdGltZU1vbmRheSh3ZWVrKTtcbiAgICAgICAgICB3ZWVrID0gdGltZURheS5vZmZzZXQod2VlaywgKGQuViAtIDEpICogNyk7XG4gICAgICAgICAgZC55ID0gd2Vlay5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgIGQubSA9IHdlZWsuZ2V0TW9udGgoKTtcbiAgICAgICAgICBkLmQgPSB3ZWVrLmdldERhdGUoKSArIChkLncgKyA2KSAlIDc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoXCJXXCIgaW4gZCB8fCBcIlVcIiBpbiBkKSB7XG4gICAgICAgIGlmICghKFwid1wiIGluIGQpKSBkLncgPSBcInVcIiBpbiBkID8gZC51ICUgNyA6IFwiV1wiIGluIGQgPyAxIDogMDtcbiAgICAgICAgZGF5ID0gXCJaXCIgaW4gZCA/IHV0Y0RhdGUobmV3RGF0ZShkLnksIDAsIDEpKS5nZXRVVENEYXkoKSA6IGxvY2FsRGF0ZShuZXdEYXRlKGQueSwgMCwgMSkpLmdldERheSgpO1xuICAgICAgICBkLm0gPSAwO1xuICAgICAgICBkLmQgPSBcIldcIiBpbiBkID8gKGQudyArIDYpICUgNyArIGQuVyAqIDcgLSAoZGF5ICsgNSkgJSA3IDogZC53ICsgZC5VICogNyAtIChkYXkgKyA2KSAlIDc7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGEgdGltZSB6b25lIGlzIHNwZWNpZmllZCwgYWxsIGZpZWxkcyBhcmUgaW50ZXJwcmV0ZWQgYXMgVVRDIGFuZCB0aGVuXG4gICAgICAvLyBvZmZzZXQgYWNjb3JkaW5nIHRvIHRoZSBzcGVjaWZpZWQgdGltZSB6b25lLlxuICAgICAgaWYgKFwiWlwiIGluIGQpIHtcbiAgICAgICAgZC5IICs9IGQuWiAvIDEwMCB8IDA7XG4gICAgICAgIGQuTSArPSBkLlogJSAxMDA7XG4gICAgICAgIHJldHVybiB1dGNEYXRlKGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIGFsbCBmaWVsZHMgYXJlIGluIGxvY2FsIHRpbWUuXG4gICAgICByZXR1cm4gbG9jYWxEYXRlKGQpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVNwZWNpZmllcihkLCBzcGVjaWZpZXIsIHN0cmluZywgaikge1xuICAgIHZhciBpID0gMCxcbiAgICAgICAgbiA9IHNwZWNpZmllci5sZW5ndGgsXG4gICAgICAgIG0gPSBzdHJpbmcubGVuZ3RoLFxuICAgICAgICBjLFxuICAgICAgICBwYXJzZTtcblxuICAgIHdoaWxlIChpIDwgbikge1xuICAgICAgaWYgKGogPj0gbSkgcmV0dXJuIC0xO1xuICAgICAgYyA9IHNwZWNpZmllci5jaGFyQ29kZUF0KGkrKyk7XG4gICAgICBpZiAoYyA9PT0gMzcpIHtcbiAgICAgICAgYyA9IHNwZWNpZmllci5jaGFyQXQoaSsrKTtcbiAgICAgICAgcGFyc2UgPSBwYXJzZXNbYyBpbiBwYWRzID8gc3BlY2lmaWVyLmNoYXJBdChpKyspIDogY107XG4gICAgICAgIGlmICghcGFyc2UgfHwgKChqID0gcGFyc2UoZCwgc3RyaW5nLCBqKSkgPCAwKSkgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChjICE9IHN0cmluZy5jaGFyQ29kZUF0KGorKykpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VQZXJpb2QoZCwgc3RyaW5nLCBpKSB7XG4gICAgdmFyIG4gPSBwZXJpb2RSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gICAgcmV0dXJuIG4gPyAoZC5wID0gcGVyaW9kTG9va3VwW25bMF0udG9Mb3dlckNhc2UoKV0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlU2hvcnRXZWVrZGF5KGQsIHN0cmluZywgaSkge1xuICAgIHZhciBuID0gc2hvcnRXZWVrZGF5UmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICAgIHJldHVybiBuID8gKGQudyA9IHNob3J0V2Vla2RheUxvb2t1cFtuWzBdLnRvTG93ZXJDYXNlKCldLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVdlZWtkYXkoZCwgc3RyaW5nLCBpKSB7XG4gICAgdmFyIG4gPSB3ZWVrZGF5UmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICAgIHJldHVybiBuID8gKGQudyA9IHdlZWtkYXlMb29rdXBbblswXS50b0xvd2VyQ2FzZSgpXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VTaG9ydE1vbnRoKGQsIHN0cmluZywgaSkge1xuICAgIHZhciBuID0gc2hvcnRNb250aFJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtcbiAgICByZXR1cm4gbiA/IChkLm0gPSBzaG9ydE1vbnRoTG9va3VwW25bMF0udG9Mb3dlckNhc2UoKV0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlTW9udGgoZCwgc3RyaW5nLCBpKSB7XG4gICAgdmFyIG4gPSBtb250aFJlLmV4ZWMoc3RyaW5nLnNsaWNlKGkpKTtcbiAgICByZXR1cm4gbiA/IChkLm0gPSBtb250aExvb2t1cFtuWzBdLnRvTG93ZXJDYXNlKCldLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxvY2FsZURhdGVUaW1lKGQsIHN0cmluZywgaSkge1xuICAgIHJldHVybiBwYXJzZVNwZWNpZmllcihkLCBsb2NhbGVfZGF0ZVRpbWUsIHN0cmluZywgaSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUxvY2FsZURhdGUoZCwgc3RyaW5nLCBpKSB7XG4gICAgcmV0dXJuIHBhcnNlU3BlY2lmaWVyKGQsIGxvY2FsZV9kYXRlLCBzdHJpbmcsIGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VMb2NhbGVUaW1lKGQsIHN0cmluZywgaSkge1xuICAgIHJldHVybiBwYXJzZVNwZWNpZmllcihkLCBsb2NhbGVfdGltZSwgc3RyaW5nLCBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFNob3J0V2Vla2RheShkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9zaG9ydFdlZWtkYXlzW2QuZ2V0RGF5KCldO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0V2Vla2RheShkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV93ZWVrZGF5c1tkLmdldERheSgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFNob3J0TW9udGgoZCkge1xuICAgIHJldHVybiBsb2NhbGVfc2hvcnRNb250aHNbZC5nZXRNb250aCgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdE1vbnRoKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX21vbnRoc1tkLmdldE1vbnRoKCldO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9ybWF0UGVyaW9kKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3BlcmlvZHNbKyhkLmdldEhvdXJzKCkgPj0gMTIpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFF1YXJ0ZXIoZCkge1xuICAgIHJldHVybiAxICsgfn4oZC5nZXRNb250aCgpIC8gMyk7XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENTaG9ydFdlZWtkYXkoZCkge1xuICAgIHJldHVybiBsb2NhbGVfc2hvcnRXZWVrZGF5c1tkLmdldFVUQ0RheSgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtkYXkoZCkge1xuICAgIHJldHVybiBsb2NhbGVfd2Vla2RheXNbZC5nZXRVVENEYXkoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENTaG9ydE1vbnRoKGQpIHtcbiAgICByZXR1cm4gbG9jYWxlX3Nob3J0TW9udGhzW2QuZ2V0VVRDTW9udGgoKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENNb250aChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9tb250aHNbZC5nZXRVVENNb250aCgpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvcm1hdFVUQ1BlcmlvZChkKSB7XG4gICAgcmV0dXJuIGxvY2FsZV9wZXJpb2RzWysoZC5nZXRVVENIb3VycygpID49IDEyKV07XG4gIH1cblxuICBmdW5jdGlvbiBmb3JtYXRVVENRdWFydGVyKGQpIHtcbiAgICByZXR1cm4gMSArIH5+KGQuZ2V0VVRDTW9udGgoKSAvIDMpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBmb3JtYXQ6IGZ1bmN0aW9uKHNwZWNpZmllcikge1xuICAgICAgdmFyIGYgPSBuZXdGb3JtYXQoc3BlY2lmaWVyICs9IFwiXCIsIGZvcm1hdHMpO1xuICAgICAgZi50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BlY2lmaWVyOyB9O1xuICAgICAgcmV0dXJuIGY7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24oc3BlY2lmaWVyKSB7XG4gICAgICB2YXIgcCA9IG5ld1BhcnNlKHNwZWNpZmllciArPSBcIlwiLCBmYWxzZSk7XG4gICAgICBwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBzcGVjaWZpZXI7IH07XG4gICAgICByZXR1cm4gcDtcbiAgICB9LFxuICAgIHV0Y0Zvcm1hdDogZnVuY3Rpb24oc3BlY2lmaWVyKSB7XG4gICAgICB2YXIgZiA9IG5ld0Zvcm1hdChzcGVjaWZpZXIgKz0gXCJcIiwgdXRjRm9ybWF0cyk7XG4gICAgICBmLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiBzcGVjaWZpZXI7IH07XG4gICAgICByZXR1cm4gZjtcbiAgICB9LFxuICAgIHV0Y1BhcnNlOiBmdW5jdGlvbihzcGVjaWZpZXIpIHtcbiAgICAgIHZhciBwID0gbmV3UGFyc2Uoc3BlY2lmaWVyICs9IFwiXCIsIHRydWUpO1xuICAgICAgcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc3BlY2lmaWVyOyB9O1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICB9O1xufVxuXG52YXIgcGFkcyA9IHtcIi1cIjogXCJcIiwgXCJfXCI6IFwiIFwiLCBcIjBcIjogXCIwXCJ9LFxuICAgIG51bWJlclJlID0gL15cXHMqXFxkKy8sIC8vIG5vdGU6IGlnbm9yZXMgbmV4dCBkaXJlY3RpdmVcbiAgICBwZXJjZW50UmUgPSAvXiUvLFxuICAgIHJlcXVvdGVSZSA9IC9bXFxcXF4kKis/fFtcXF0oKS57fV0vZztcblxuZnVuY3Rpb24gcGFkKHZhbHVlLCBmaWxsLCB3aWR0aCkge1xuICB2YXIgc2lnbiA9IHZhbHVlIDwgMCA/IFwiLVwiIDogXCJcIixcbiAgICAgIHN0cmluZyA9IChzaWduID8gLXZhbHVlIDogdmFsdWUpICsgXCJcIixcbiAgICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gIHJldHVybiBzaWduICsgKGxlbmd0aCA8IHdpZHRoID8gbmV3IEFycmF5KHdpZHRoIC0gbGVuZ3RoICsgMSkuam9pbihmaWxsKSArIHN0cmluZyA6IHN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIHJlcXVvdGUocykge1xuICByZXR1cm4gcy5yZXBsYWNlKHJlcXVvdGVSZSwgXCJcXFxcJCZcIik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlKG5hbWVzKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKFwiXig/OlwiICsgbmFtZXMubWFwKHJlcXVvdGUpLmpvaW4oXCJ8XCIpICsgXCIpXCIsIFwiaVwiKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TG9va3VwKG5hbWVzKSB7XG4gIHZhciBtYXAgPSB7fSwgaSA9IC0xLCBuID0gbmFtZXMubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbikgbWFwW25hbWVzW2ldLnRvTG93ZXJDYXNlKCldID0gaTtcbiAgcmV0dXJuIG1hcDtcbn1cblxuZnVuY3Rpb24gcGFyc2VXZWVrZGF5TnVtYmVyU3VuZGF5KGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAxKSk7XG4gIHJldHVybiBuID8gKGQudyA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlV2Vla2RheU51bWJlck1vbmRheShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMSkpO1xuICByZXR1cm4gbiA/IChkLnUgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZVdlZWtOdW1iZXJTdW5kYXkoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5VID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VXZWVrTnVtYmVySVNPKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQuViA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlV2Vla051bWJlck1vbmRheShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLlcgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZUZ1bGxZZWFyKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyA0KSk7XG4gIHJldHVybiBuID8gKGQueSA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlWWVhcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLnkgPSArblswXSArICgrblswXSA+IDY4ID8gMTkwMCA6IDIwMDApLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlWm9uZShkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSAvXihaKXwoWystXVxcZFxcZCkoPzo6PyhcXGRcXGQpKT8vLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyA2KSk7XG4gIHJldHVybiBuID8gKGQuWiA9IG5bMV0gPyAwIDogLShuWzJdICsgKG5bM10gfHwgXCIwMFwiKSksIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VRdWFydGVyKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAxKSk7XG4gIHJldHVybiBuID8gKGQucSA9IG5bMF0gKiAzIC0gMywgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1vbnRoTnVtYmVyKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQubSA9IG5bMF0gLSAxLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGF5T2ZNb250aChkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLmQgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZURheU9mWWVhcihkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMykpO1xuICByZXR1cm4gbiA/IChkLm0gPSAwLCBkLmQgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZUhvdXIyNChkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpLCBpICsgMikpO1xuICByZXR1cm4gbiA/IChkLkggPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBwYXJzZU1pbnV0ZXMoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSwgaSArIDIpKTtcbiAgcmV0dXJuIG4gPyAoZC5NID0gK25bMF0sIGkgKyBuWzBdLmxlbmd0aCkgOiAtMTtcbn1cblxuZnVuY3Rpb24gcGFyc2VTZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAyKSk7XG4gIHJldHVybiBuID8gKGQuUyA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWlsbGlzZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAzKSk7XG4gIHJldHVybiBuID8gKGQuTCA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWljcm9zZWNvbmRzKGQsIHN0cmluZywgaSkge1xuICB2YXIgbiA9IG51bWJlclJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyA2KSk7XG4gIHJldHVybiBuID8gKGQuTCA9IE1hdGguZmxvb3IoblswXSAvIDEwMDApLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTGl0ZXJhbFBlcmNlbnQoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gcGVyY2VudFJlLmV4ZWMoc3RyaW5nLnNsaWNlKGksIGkgKyAxKSk7XG4gIHJldHVybiBuID8gaSArIG5bMF0ubGVuZ3RoIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVW5peFRpbWVzdGFtcChkLCBzdHJpbmcsIGkpIHtcbiAgdmFyIG4gPSBudW1iZXJSZS5leGVjKHN0cmluZy5zbGljZShpKSk7XG4gIHJldHVybiBuID8gKGQuUSA9ICtuWzBdLCBpICsgblswXS5sZW5ndGgpIDogLTE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVW5peFRpbWVzdGFtcFNlY29uZHMoZCwgc3RyaW5nLCBpKSB7XG4gIHZhciBuID0gbnVtYmVyUmUuZXhlYyhzdHJpbmcuc2xpY2UoaSkpO1xuICByZXR1cm4gbiA/IChkLnMgPSArblswXSwgaSArIG5bMF0ubGVuZ3RoKSA6IC0xO1xufVxuXG5mdW5jdGlvbiBmb3JtYXREYXlPZk1vbnRoKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldERhdGUoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhvdXIyNChkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRIb3VycygpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0SG91cjEyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldEhvdXJzKCkgJSAxMiB8fCAxMiwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdERheU9mWWVhcihkLCBwKSB7XG4gIHJldHVybiBwYWQoMSArIHRpbWVEYXkuY291bnQodGltZVllYXIoZCksIGQpLCBwLCAzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TWlsbGlzZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldE1pbGxpc2Vjb25kcygpLCBwLCAzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TWljcm9zZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIGZvcm1hdE1pbGxpc2Vjb25kcyhkLCBwKSArIFwiMDAwXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdE1vbnRoTnVtYmVyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldE1vbnRoKCkgKyAxLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0TWludXRlcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRNaW51dGVzKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRTZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFNlY29uZHMoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtkYXlOdW1iZXJNb25kYXkoZCkge1xuICB2YXIgZGF5ID0gZC5nZXREYXkoKTtcbiAgcmV0dXJuIGRheSA9PT0gMCA/IDcgOiBkYXk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtOdW1iZXJTdW5kYXkoZCwgcCkge1xuICByZXR1cm4gcGFkKHRpbWVTdW5kYXkuY291bnQodGltZVllYXIoZCkgLSAxLCBkKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtOdW1iZXJJU08oZCwgcCkge1xuICB2YXIgZGF5ID0gZC5nZXREYXkoKTtcbiAgZCA9IChkYXkgPj0gNCB8fCBkYXkgPT09IDApID8gdGltZVRodXJzZGF5KGQpIDogdGltZVRodXJzZGF5LmNlaWwoZCk7XG4gIHJldHVybiBwYWQodGltZVRodXJzZGF5LmNvdW50KHRpbWVZZWFyKGQpLCBkKSArICh0aW1lWWVhcihkKS5nZXREYXkoKSA9PT0gNCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRXZWVrZGF5TnVtYmVyU3VuZGF5KGQpIHtcbiAgcmV0dXJuIGQuZ2V0RGF5KCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFdlZWtOdW1iZXJNb25kYXkoZCwgcCkge1xuICByZXR1cm4gcGFkKHRpbWVNb25kYXkuY291bnQodGltZVllYXIoZCkgLSAxLCBkKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFllYXIoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0RnVsbFllYXIoKSAlIDEwMCwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEZ1bGxZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldEZ1bGxZZWFyKCkgJSAxMDAwMCwgcCwgNCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFpvbmUoZCkge1xuICB2YXIgeiA9IGQuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgcmV0dXJuICh6ID4gMCA/IFwiLVwiIDogKHogKj0gLTEsIFwiK1wiKSlcbiAgICAgICsgcGFkKHogLyA2MCB8IDAsIFwiMFwiLCAyKVxuICAgICAgKyBwYWQoeiAlIDYwLCBcIjBcIiwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ0RheU9mTW9udGgoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDRGF0ZSgpLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDSG91cjI0KGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ0hvdXJzKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENIb3VyMTIoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDSG91cnMoKSAlIDEyIHx8IDEyLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDRGF5T2ZZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZCgxICsgdXRjRGF5LmNvdW50KHV0Y1llYXIoZCksIGQpLCBwLCAzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDTWlsbGlzZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ01pbGxpc2Vjb25kcygpLCBwLCAzKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDTWljcm9zZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIGZvcm1hdFVUQ01pbGxpc2Vjb25kcyhkLCBwKSArIFwiMDAwXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ01vbnRoTnVtYmVyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ01vbnRoKCkgKyAxLCBwLCAyKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDTWludXRlcyhkLCBwKSB7XG4gIHJldHVybiBwYWQoZC5nZXRVVENNaW51dGVzKCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENTZWNvbmRzKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ1NlY29uZHMoKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtkYXlOdW1iZXJNb25kYXkoZCkge1xuICB2YXIgZG93ID0gZC5nZXRVVENEYXkoKTtcbiAgcmV0dXJuIGRvdyA9PT0gMCA/IDcgOiBkb3c7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtOdW1iZXJTdW5kYXkoZCwgcCkge1xuICByZXR1cm4gcGFkKHV0Y1N1bmRheS5jb3VudCh1dGNZZWFyKGQpIC0gMSwgZCksIHAsIDIpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXRVVENXZWVrTnVtYmVySVNPKGQsIHApIHtcbiAgdmFyIGRheSA9IGQuZ2V0VVRDRGF5KCk7XG4gIGQgPSAoZGF5ID49IDQgfHwgZGF5ID09PSAwKSA/IHV0Y1RodXJzZGF5KGQpIDogdXRjVGh1cnNkYXkuY2VpbChkKTtcbiAgcmV0dXJuIHBhZCh1dGNUaHVyc2RheS5jb3VudCh1dGNZZWFyKGQpLCBkKSArICh1dGNZZWFyKGQpLmdldFVUQ0RheSgpID09PSA0KSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1dlZWtkYXlOdW1iZXJTdW5kYXkoZCkge1xuICByZXR1cm4gZC5nZXRVVENEYXkoKTtcbn1cblxuZnVuY3Rpb24gZm9ybWF0VVRDV2Vla051bWJlck1vbmRheShkLCBwKSB7XG4gIHJldHVybiBwYWQodXRjTW9uZGF5LmNvdW50KHV0Y1llYXIoZCkgLSAxLCBkKSwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1llYXIoZCwgcCkge1xuICByZXR1cm4gcGFkKGQuZ2V0VVRDRnVsbFllYXIoKSAlIDEwMCwgcCwgMik7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ0Z1bGxZZWFyKGQsIHApIHtcbiAgcmV0dXJuIHBhZChkLmdldFVUQ0Z1bGxZZWFyKCkgJSAxMDAwMCwgcCwgNCk7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVUQ1pvbmUoKSB7XG4gIHJldHVybiBcIiswMDAwXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdExpdGVyYWxQZXJjZW50KCkge1xuICByZXR1cm4gXCIlXCI7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVuaXhUaW1lc3RhbXAoZCkge1xuICByZXR1cm4gK2Q7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFVuaXhUaW1lc3RhbXBTZWNvbmRzKGQpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoK2QgLyAxMDAwKTtcbn1cbiIsImltcG9ydCBmb3JtYXRMb2NhbGUgZnJvbSBcIi4vbG9jYWxlLmpzXCI7XG5cbnZhciBsb2NhbGU7XG5leHBvcnQgdmFyIHRpbWVGb3JtYXQ7XG5leHBvcnQgdmFyIHRpbWVQYXJzZTtcbmV4cG9ydCB2YXIgdXRjRm9ybWF0O1xuZXhwb3J0IHZhciB1dGNQYXJzZTtcblxuZGVmYXVsdExvY2FsZSh7XG4gIGRhdGVUaW1lOiBcIiV4LCAlWFwiLFxuICBkYXRlOiBcIiUtbS8lLWQvJVlcIixcbiAgdGltZTogXCIlLUk6JU06JVMgJXBcIixcbiAgcGVyaW9kczogW1wiQU1cIiwgXCJQTVwiXSxcbiAgZGF5czogW1wiU3VuZGF5XCIsIFwiTW9uZGF5XCIsIFwiVHVlc2RheVwiLCBcIldlZG5lc2RheVwiLCBcIlRodXJzZGF5XCIsIFwiRnJpZGF5XCIsIFwiU2F0dXJkYXlcIl0sXG4gIHNob3J0RGF5czogW1wiU3VuXCIsIFwiTW9uXCIsIFwiVHVlXCIsIFwiV2VkXCIsIFwiVGh1XCIsIFwiRnJpXCIsIFwiU2F0XCJdLFxuICBtb250aHM6IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdLFxuICBzaG9ydE1vbnRoczogW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGVmYXVsdExvY2FsZShkZWZpbml0aW9uKSB7XG4gIGxvY2FsZSA9IGZvcm1hdExvY2FsZShkZWZpbml0aW9uKTtcbiAgdGltZUZvcm1hdCA9IGxvY2FsZS5mb3JtYXQ7XG4gIHRpbWVQYXJzZSA9IGxvY2FsZS5wYXJzZTtcbiAgdXRjRm9ybWF0ID0gbG9jYWxlLnV0Y0Zvcm1hdDtcbiAgdXRjUGFyc2UgPSBsb2NhbGUudXRjUGFyc2U7XG4gIHJldHVybiBsb2NhbGU7XG59XG4iLCJpbXBvcnQge2Jpc2VjdG9yLCB0aWNrU3RlcH0gZnJvbSBcImQzLWFycmF5XCI7XG5pbXBvcnQge3RpbWVZZWFyLCB0aW1lTW9udGgsIHRpbWVXZWVrLCB0aW1lRGF5LCB0aW1lSG91ciwgdGltZU1pbnV0ZSwgdGltZVNlY29uZCwgdGltZU1pbGxpc2Vjb25kfSBmcm9tIFwiZDMtdGltZVwiO1xuaW1wb3J0IHt0aW1lRm9ybWF0fSBmcm9tIFwiZDMtdGltZS1mb3JtYXRcIjtcbmltcG9ydCB7bWFwfSBmcm9tIFwiLi9hcnJheVwiO1xuaW1wb3J0IGNvbnRpbnVvdXMsIHtjb3B5LCBpZGVudGl0eX0gZnJvbSBcIi4vY29udGludW91c1wiO1xuaW1wb3J0IHtpbml0UmFuZ2V9IGZyb20gXCIuL2luaXRcIjtcbmltcG9ydCBuaWNlIGZyb20gXCIuL25pY2VcIjtcblxudmFyIGR1cmF0aW9uU2Vjb25kID0gMTAwMCxcbiAgICBkdXJhdGlvbk1pbnV0ZSA9IGR1cmF0aW9uU2Vjb25kICogNjAsXG4gICAgZHVyYXRpb25Ib3VyID0gZHVyYXRpb25NaW51dGUgKiA2MCxcbiAgICBkdXJhdGlvbkRheSA9IGR1cmF0aW9uSG91ciAqIDI0LFxuICAgIGR1cmF0aW9uV2VlayA9IGR1cmF0aW9uRGF5ICogNyxcbiAgICBkdXJhdGlvbk1vbnRoID0gZHVyYXRpb25EYXkgKiAzMCxcbiAgICBkdXJhdGlvblllYXIgPSBkdXJhdGlvbkRheSAqIDM2NTtcblxuZnVuY3Rpb24gZGF0ZSh0KSB7XG4gIHJldHVybiBuZXcgRGF0ZSh0KTtcbn1cblxuZnVuY3Rpb24gbnVtYmVyKHQpIHtcbiAgcmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlID8gK3QgOiArbmV3IERhdGUoK3QpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FsZW5kYXIoeWVhciwgbW9udGgsIHdlZWssIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc2Vjb25kLCBmb3JtYXQpIHtcbiAgdmFyIHNjYWxlID0gY29udGludW91cyhpZGVudGl0eSwgaWRlbnRpdHkpLFxuICAgICAgaW52ZXJ0ID0gc2NhbGUuaW52ZXJ0LFxuICAgICAgZG9tYWluID0gc2NhbGUuZG9tYWluO1xuXG4gIHZhciBmb3JtYXRNaWxsaXNlY29uZCA9IGZvcm1hdChcIi4lTFwiKSxcbiAgICAgIGZvcm1hdFNlY29uZCA9IGZvcm1hdChcIjolU1wiKSxcbiAgICAgIGZvcm1hdE1pbnV0ZSA9IGZvcm1hdChcIiVJOiVNXCIpLFxuICAgICAgZm9ybWF0SG91ciA9IGZvcm1hdChcIiVJICVwXCIpLFxuICAgICAgZm9ybWF0RGF5ID0gZm9ybWF0KFwiJWEgJWRcIiksXG4gICAgICBmb3JtYXRXZWVrID0gZm9ybWF0KFwiJWIgJWRcIiksXG4gICAgICBmb3JtYXRNb250aCA9IGZvcm1hdChcIiVCXCIpLFxuICAgICAgZm9ybWF0WWVhciA9IGZvcm1hdChcIiVZXCIpO1xuXG4gIHZhciB0aWNrSW50ZXJ2YWxzID0gW1xuICAgIFtzZWNvbmQsICAxLCAgICAgIGR1cmF0aW9uU2Vjb25kXSxcbiAgICBbc2Vjb25kLCAgNSwgIDUgKiBkdXJhdGlvblNlY29uZF0sXG4gICAgW3NlY29uZCwgMTUsIDE1ICogZHVyYXRpb25TZWNvbmRdLFxuICAgIFtzZWNvbmQsIDMwLCAzMCAqIGR1cmF0aW9uU2Vjb25kXSxcbiAgICBbbWludXRlLCAgMSwgICAgICBkdXJhdGlvbk1pbnV0ZV0sXG4gICAgW21pbnV0ZSwgIDUsICA1ICogZHVyYXRpb25NaW51dGVdLFxuICAgIFttaW51dGUsIDE1LCAxNSAqIGR1cmF0aW9uTWludXRlXSxcbiAgICBbbWludXRlLCAzMCwgMzAgKiBkdXJhdGlvbk1pbnV0ZV0sXG4gICAgWyAgaG91ciwgIDEsICAgICAgZHVyYXRpb25Ib3VyICBdLFxuICAgIFsgIGhvdXIsICAzLCAgMyAqIGR1cmF0aW9uSG91ciAgXSxcbiAgICBbICBob3VyLCAgNiwgIDYgKiBkdXJhdGlvbkhvdXIgIF0sXG4gICAgWyAgaG91ciwgMTIsIDEyICogZHVyYXRpb25Ib3VyICBdLFxuICAgIFsgICBkYXksICAxLCAgICAgIGR1cmF0aW9uRGF5ICAgXSxcbiAgICBbICAgZGF5LCAgMiwgIDIgKiBkdXJhdGlvbkRheSAgIF0sXG4gICAgWyAgd2VlaywgIDEsICAgICAgZHVyYXRpb25XZWVrICBdLFxuICAgIFsgbW9udGgsICAxLCAgICAgIGR1cmF0aW9uTW9udGggXSxcbiAgICBbIG1vbnRoLCAgMywgIDMgKiBkdXJhdGlvbk1vbnRoIF0sXG4gICAgWyAgeWVhciwgIDEsICAgICAgZHVyYXRpb25ZZWFyICBdXG4gIF07XG5cbiAgZnVuY3Rpb24gdGlja0Zvcm1hdChkYXRlKSB7XG4gICAgcmV0dXJuIChzZWNvbmQoZGF0ZSkgPCBkYXRlID8gZm9ybWF0TWlsbGlzZWNvbmRcbiAgICAgICAgOiBtaW51dGUoZGF0ZSkgPCBkYXRlID8gZm9ybWF0U2Vjb25kXG4gICAgICAgIDogaG91cihkYXRlKSA8IGRhdGUgPyBmb3JtYXRNaW51dGVcbiAgICAgICAgOiBkYXkoZGF0ZSkgPCBkYXRlID8gZm9ybWF0SG91clxuICAgICAgICA6IG1vbnRoKGRhdGUpIDwgZGF0ZSA/ICh3ZWVrKGRhdGUpIDwgZGF0ZSA/IGZvcm1hdERheSA6IGZvcm1hdFdlZWspXG4gICAgICAgIDogeWVhcihkYXRlKSA8IGRhdGUgPyBmb3JtYXRNb250aFxuICAgICAgICA6IGZvcm1hdFllYXIpKGRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGlja0ludGVydmFsKGludGVydmFsLCBzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIGlmIChpbnRlcnZhbCA9PSBudWxsKSBpbnRlcnZhbCA9IDEwO1xuXG4gICAgLy8gSWYgYSBkZXNpcmVkIHRpY2sgY291bnQgaXMgc3BlY2lmaWVkLCBwaWNrIGEgcmVhc29uYWJsZSB0aWNrIGludGVydmFsXG4gICAgLy8gYmFzZWQgb24gdGhlIGV4dGVudCBvZiB0aGUgZG9tYWluIGFuZCBhIHJvdWdoIGVzdGltYXRlIG9mIHRpY2sgc2l6ZS5cbiAgICAvLyBPdGhlcndpc2UsIGFzc3VtZSBpbnRlcnZhbCBpcyBhbHJlYWR5IGEgdGltZSBpbnRlcnZhbCBhbmQgdXNlIGl0LlxuICAgIGlmICh0eXBlb2YgaW50ZXJ2YWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHZhciB0YXJnZXQgPSBNYXRoLmFicyhzdG9wIC0gc3RhcnQpIC8gaW50ZXJ2YWwsXG4gICAgICAgICAgaSA9IGJpc2VjdG9yKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGlbMl07IH0pLnJpZ2h0KHRpY2tJbnRlcnZhbHMsIHRhcmdldCk7XG4gICAgICBpZiAoaSA9PT0gdGlja0ludGVydmFscy5sZW5ndGgpIHtcbiAgICAgICAgc3RlcCA9IHRpY2tTdGVwKHN0YXJ0IC8gZHVyYXRpb25ZZWFyLCBzdG9wIC8gZHVyYXRpb25ZZWFyLCBpbnRlcnZhbCk7XG4gICAgICAgIGludGVydmFsID0geWVhcjtcbiAgICAgIH0gZWxzZSBpZiAoaSkge1xuICAgICAgICBpID0gdGlja0ludGVydmFsc1t0YXJnZXQgLyB0aWNrSW50ZXJ2YWxzW2kgLSAxXVsyXSA8IHRpY2tJbnRlcnZhbHNbaV1bMl0gLyB0YXJnZXQgPyBpIC0gMSA6IGldO1xuICAgICAgICBzdGVwID0gaVsxXTtcbiAgICAgICAgaW50ZXJ2YWwgPSBpWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RlcCA9IE1hdGgubWF4KHRpY2tTdGVwKHN0YXJ0LCBzdG9wLCBpbnRlcnZhbCksIDEpO1xuICAgICAgICBpbnRlcnZhbCA9IG1pbGxpc2Vjb25kO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGVwID09IG51bGwgPyBpbnRlcnZhbCA6IGludGVydmFsLmV2ZXJ5KHN0ZXApO1xuICB9XG5cbiAgc2NhbGUuaW52ZXJ0ID0gZnVuY3Rpb24oeSkge1xuICAgIHJldHVybiBuZXcgRGF0ZShpbnZlcnQoeSkpO1xuICB9O1xuXG4gIHNjYWxlLmRvbWFpbiA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IGRvbWFpbihtYXAuY2FsbChfLCBudW1iZXIpKSA6IGRvbWFpbigpLm1hcChkYXRlKTtcbiAgfTtcblxuICBzY2FsZS50aWNrcyA9IGZ1bmN0aW9uKGludGVydmFsLCBzdGVwKSB7XG4gICAgdmFyIGQgPSBkb21haW4oKSxcbiAgICAgICAgdDAgPSBkWzBdLFxuICAgICAgICB0MSA9IGRbZC5sZW5ndGggLSAxXSxcbiAgICAgICAgciA9IHQxIDwgdDAsXG4gICAgICAgIHQ7XG4gICAgaWYgKHIpIHQgPSB0MCwgdDAgPSB0MSwgdDEgPSB0O1xuICAgIHQgPSB0aWNrSW50ZXJ2YWwoaW50ZXJ2YWwsIHQwLCB0MSwgc3RlcCk7XG4gICAgdCA9IHQgPyB0LnJhbmdlKHQwLCB0MSArIDEpIDogW107IC8vIGluY2x1c2l2ZSBzdG9wXG4gICAgcmV0dXJuIHIgPyB0LnJldmVyc2UoKSA6IHQ7XG4gIH07XG5cbiAgc2NhbGUudGlja0Zvcm1hdCA9IGZ1bmN0aW9uKGNvdW50LCBzcGVjaWZpZXIpIHtcbiAgICByZXR1cm4gc3BlY2lmaWVyID09IG51bGwgPyB0aWNrRm9ybWF0IDogZm9ybWF0KHNwZWNpZmllcik7XG4gIH07XG5cbiAgc2NhbGUubmljZSA9IGZ1bmN0aW9uKGludGVydmFsLCBzdGVwKSB7XG4gICAgdmFyIGQgPSBkb21haW4oKTtcbiAgICByZXR1cm4gKGludGVydmFsID0gdGlja0ludGVydmFsKGludGVydmFsLCBkWzBdLCBkW2QubGVuZ3RoIC0gMV0sIHN0ZXApKVxuICAgICAgICA/IGRvbWFpbihuaWNlKGQsIGludGVydmFsKSlcbiAgICAgICAgOiBzY2FsZTtcbiAgfTtcblxuICBzY2FsZS5jb3B5ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGNvcHkoc2NhbGUsIGNhbGVuZGFyKHllYXIsIG1vbnRoLCB3ZWVrLCBkYXksIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZCwgZm9ybWF0KSk7XG4gIH07XG5cbiAgcmV0dXJuIHNjYWxlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGluaXRSYW5nZS5hcHBseShjYWxlbmRhcih0aW1lWWVhciwgdGltZU1vbnRoLCB0aW1lV2VlaywgdGltZURheSwgdGltZUhvdXIsIHRpbWVNaW51dGUsIHRpbWVTZWNvbmQsIHRpbWVNaWxsaXNlY29uZCwgdGltZUZvcm1hdCkuZG9tYWluKFtuZXcgRGF0ZSgyMDAwLCAwLCAxKSwgbmV3IERhdGUoMjAwMCwgMCwgMildKSwgYXJndW1lbnRzKTtcbn1cbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuXG52YXIgdXRjTW9udGggPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VVRDRGF0ZSgxKTtcbiAgZGF0ZS5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRVVENNb250aChkYXRlLmdldFVUQ01vbnRoKCkgKyBzdGVwKTtcbn0sIGZ1bmN0aW9uKHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIGVuZC5nZXRVVENNb250aCgpIC0gc3RhcnQuZ2V0VVRDTW9udGgoKSArIChlbmQuZ2V0VVRDRnVsbFllYXIoKSAtIHN0YXJ0LmdldFVUQ0Z1bGxZZWFyKCkpICogMTI7XG59LCBmdW5jdGlvbihkYXRlKSB7XG4gIHJldHVybiBkYXRlLmdldFVUQ01vbnRoKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgdXRjTW9udGg7XG5leHBvcnQgdmFyIHV0Y01vbnRocyA9IHV0Y01vbnRoLnJhbmdlO1xuIiwiaW1wb3J0IGludGVydmFsIGZyb20gXCIuL2ludGVydmFsLmpzXCI7XG5pbXBvcnQge2R1cmF0aW9uSG91cn0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIHV0Y0hvdXIgPSBpbnRlcnZhbChmdW5jdGlvbihkYXRlKSB7XG4gIGRhdGUuc2V0VVRDTWludXRlcygwLCAwLCAwKTtcbn0sIGZ1bmN0aW9uKGRhdGUsIHN0ZXApIHtcbiAgZGF0ZS5zZXRUaW1lKCtkYXRlICsgc3RlcCAqIGR1cmF0aW9uSG91cik7XG59LCBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gIHJldHVybiAoZW5kIC0gc3RhcnQpIC8gZHVyYXRpb25Ib3VyO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRVVENIb3VycygpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHV0Y0hvdXI7XG5leHBvcnQgdmFyIHV0Y0hvdXJzID0gdXRjSG91ci5yYW5nZTtcbiIsImltcG9ydCBpbnRlcnZhbCBmcm9tIFwiLi9pbnRlcnZhbC5qc1wiO1xuaW1wb3J0IHtkdXJhdGlvbk1pbnV0ZX0gZnJvbSBcIi4vZHVyYXRpb24uanNcIjtcblxudmFyIHV0Y01pbnV0ZSA9IGludGVydmFsKGZ1bmN0aW9uKGRhdGUpIHtcbiAgZGF0ZS5zZXRVVENTZWNvbmRzKDAsIDApO1xufSwgZnVuY3Rpb24oZGF0ZSwgc3RlcCkge1xuICBkYXRlLnNldFRpbWUoK2RhdGUgKyBzdGVwICogZHVyYXRpb25NaW51dGUpO1xufSwgZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICByZXR1cm4gKGVuZCAtIHN0YXJ0KSAvIGR1cmF0aW9uTWludXRlO1xufSwgZnVuY3Rpb24oZGF0ZSkge1xuICByZXR1cm4gZGF0ZS5nZXRVVENNaW51dGVzKCk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgdXRjTWludXRlO1xuZXhwb3J0IHZhciB1dGNNaW51dGVzID0gdXRjTWludXRlLnJhbmdlO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oeCkge1xuICByZXR1cm4gZnVuY3Rpb24gY29uc3RhbnQoKSB7XG4gICAgcmV0dXJuIHg7XG4gIH07XG59XG4iLCJleHBvcnQgdmFyIGFicyA9IE1hdGguYWJzO1xuZXhwb3J0IHZhciBhdGFuMiA9IE1hdGguYXRhbjI7XG5leHBvcnQgdmFyIGNvcyA9IE1hdGguY29zO1xuZXhwb3J0IHZhciBtYXggPSBNYXRoLm1heDtcbmV4cG9ydCB2YXIgbWluID0gTWF0aC5taW47XG5leHBvcnQgdmFyIHNpbiA9IE1hdGguc2luO1xuZXhwb3J0IHZhciBzcXJ0ID0gTWF0aC5zcXJ0O1xuXG5leHBvcnQgdmFyIGVwc2lsb24gPSAxZS0xMjtcbmV4cG9ydCB2YXIgcGkgPSBNYXRoLlBJO1xuZXhwb3J0IHZhciBoYWxmUGkgPSBwaSAvIDI7XG5leHBvcnQgdmFyIHRhdSA9IDIgKiBwaTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFjb3MoeCkge1xuICByZXR1cm4geCA+IDEgPyAwIDogeCA8IC0xID8gcGkgOiBNYXRoLmFjb3MoeCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc2luKHgpIHtcbiAgcmV0dXJuIHggPj0gMSA/IGhhbGZQaSA6IHggPD0gLTEgPyAtaGFsZlBpIDogTWF0aC5hc2luKHgpO1xufVxuIiwiaW1wb3J0IHtwYXRofSBmcm9tIFwiZDMtcGF0aFwiO1xuaW1wb3J0IGNvbnN0YW50IGZyb20gXCIuL2NvbnN0YW50LmpzXCI7XG5pbXBvcnQge2FicywgYWNvcywgYXNpbiwgYXRhbjIsIGNvcywgZXBzaWxvbiwgaGFsZlBpLCBtYXgsIG1pbiwgcGksIHNpbiwgc3FydCwgdGF1fSBmcm9tIFwiLi9tYXRoLmpzXCI7XG5cbmZ1bmN0aW9uIGFyY0lubmVyUmFkaXVzKGQpIHtcbiAgcmV0dXJuIGQuaW5uZXJSYWRpdXM7XG59XG5cbmZ1bmN0aW9uIGFyY091dGVyUmFkaXVzKGQpIHtcbiAgcmV0dXJuIGQub3V0ZXJSYWRpdXM7XG59XG5cbmZ1bmN0aW9uIGFyY1N0YXJ0QW5nbGUoZCkge1xuICByZXR1cm4gZC5zdGFydEFuZ2xlO1xufVxuXG5mdW5jdGlvbiBhcmNFbmRBbmdsZShkKSB7XG4gIHJldHVybiBkLmVuZEFuZ2xlO1xufVxuXG5mdW5jdGlvbiBhcmNQYWRBbmdsZShkKSB7XG4gIHJldHVybiBkICYmIGQucGFkQW5nbGU7IC8vIE5vdGU6IG9wdGlvbmFsIVxufVxuXG5mdW5jdGlvbiBpbnRlcnNlY3QoeDAsIHkwLCB4MSwgeTEsIHgyLCB5MiwgeDMsIHkzKSB7XG4gIHZhciB4MTAgPSB4MSAtIHgwLCB5MTAgPSB5MSAtIHkwLFxuICAgICAgeDMyID0geDMgLSB4MiwgeTMyID0geTMgLSB5MixcbiAgICAgIHQgPSB5MzIgKiB4MTAgLSB4MzIgKiB5MTA7XG4gIGlmICh0ICogdCA8IGVwc2lsb24pIHJldHVybjtcbiAgdCA9ICh4MzIgKiAoeTAgLSB5MikgLSB5MzIgKiAoeDAgLSB4MikpIC8gdDtcbiAgcmV0dXJuIFt4MCArIHQgKiB4MTAsIHkwICsgdCAqIHkxMF07XG59XG5cbi8vIENvbXB1dGUgcGVycGVuZGljdWxhciBvZmZzZXQgbGluZSBvZiBsZW5ndGggcmMuXG4vLyBodHRwOi8vbWF0aHdvcmxkLndvbGZyYW0uY29tL0NpcmNsZS1MaW5lSW50ZXJzZWN0aW9uLmh0bWxcbmZ1bmN0aW9uIGNvcm5lclRhbmdlbnRzKHgwLCB5MCwgeDEsIHkxLCByMSwgcmMsIGN3KSB7XG4gIHZhciB4MDEgPSB4MCAtIHgxLFxuICAgICAgeTAxID0geTAgLSB5MSxcbiAgICAgIGxvID0gKGN3ID8gcmMgOiAtcmMpIC8gc3FydCh4MDEgKiB4MDEgKyB5MDEgKiB5MDEpLFxuICAgICAgb3ggPSBsbyAqIHkwMSxcbiAgICAgIG95ID0gLWxvICogeDAxLFxuICAgICAgeDExID0geDAgKyBveCxcbiAgICAgIHkxMSA9IHkwICsgb3ksXG4gICAgICB4MTAgPSB4MSArIG94LFxuICAgICAgeTEwID0geTEgKyBveSxcbiAgICAgIHgwMCA9ICh4MTEgKyB4MTApIC8gMixcbiAgICAgIHkwMCA9ICh5MTEgKyB5MTApIC8gMixcbiAgICAgIGR4ID0geDEwIC0geDExLFxuICAgICAgZHkgPSB5MTAgLSB5MTEsXG4gICAgICBkMiA9IGR4ICogZHggKyBkeSAqIGR5LFxuICAgICAgciA9IHIxIC0gcmMsXG4gICAgICBEID0geDExICogeTEwIC0geDEwICogeTExLFxuICAgICAgZCA9IChkeSA8IDAgPyAtMSA6IDEpICogc3FydChtYXgoMCwgciAqIHIgKiBkMiAtIEQgKiBEKSksXG4gICAgICBjeDAgPSAoRCAqIGR5IC0gZHggKiBkKSAvIGQyLFxuICAgICAgY3kwID0gKC1EICogZHggLSBkeSAqIGQpIC8gZDIsXG4gICAgICBjeDEgPSAoRCAqIGR5ICsgZHggKiBkKSAvIGQyLFxuICAgICAgY3kxID0gKC1EICogZHggKyBkeSAqIGQpIC8gZDIsXG4gICAgICBkeDAgPSBjeDAgLSB4MDAsXG4gICAgICBkeTAgPSBjeTAgLSB5MDAsXG4gICAgICBkeDEgPSBjeDEgLSB4MDAsXG4gICAgICBkeTEgPSBjeTEgLSB5MDA7XG5cbiAgLy8gUGljayB0aGUgY2xvc2VyIG9mIHRoZSB0d28gaW50ZXJzZWN0aW9uIHBvaW50cy5cbiAgLy8gVE9ETyBJcyB0aGVyZSBhIGZhc3RlciB3YXkgdG8gZGV0ZXJtaW5lIHdoaWNoIGludGVyc2VjdGlvbiB0byB1c2U/XG4gIGlmIChkeDAgKiBkeDAgKyBkeTAgKiBkeTAgPiBkeDEgKiBkeDEgKyBkeTEgKiBkeTEpIGN4MCA9IGN4MSwgY3kwID0gY3kxO1xuXG4gIHJldHVybiB7XG4gICAgY3g6IGN4MCxcbiAgICBjeTogY3kwLFxuICAgIHgwMTogLW94LFxuICAgIHkwMTogLW95LFxuICAgIHgxMTogY3gwICogKHIxIC8gciAtIDEpLFxuICAgIHkxMTogY3kwICogKHIxIC8gciAtIDEpXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKCkge1xuICB2YXIgaW5uZXJSYWRpdXMgPSBhcmNJbm5lclJhZGl1cyxcbiAgICAgIG91dGVyUmFkaXVzID0gYXJjT3V0ZXJSYWRpdXMsXG4gICAgICBjb3JuZXJSYWRpdXMgPSBjb25zdGFudCgwKSxcbiAgICAgIHBhZFJhZGl1cyA9IG51bGwsXG4gICAgICBzdGFydEFuZ2xlID0gYXJjU3RhcnRBbmdsZSxcbiAgICAgIGVuZEFuZ2xlID0gYXJjRW5kQW5nbGUsXG4gICAgICBwYWRBbmdsZSA9IGFyY1BhZEFuZ2xlLFxuICAgICAgY29udGV4dCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gYXJjKCkge1xuICAgIHZhciBidWZmZXIsXG4gICAgICAgIHIsXG4gICAgICAgIHIwID0gK2lubmVyUmFkaXVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgIHIxID0gK291dGVyUmFkaXVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgIGEwID0gc3RhcnRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIC0gaGFsZlBpLFxuICAgICAgICBhMSA9IGVuZEFuZ2xlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgLSBoYWxmUGksXG4gICAgICAgIGRhID0gYWJzKGExIC0gYTApLFxuICAgICAgICBjdyA9IGExID4gYTA7XG5cbiAgICBpZiAoIWNvbnRleHQpIGNvbnRleHQgPSBidWZmZXIgPSBwYXRoKCk7XG5cbiAgICAvLyBFbnN1cmUgdGhhdCB0aGUgb3V0ZXIgcmFkaXVzIGlzIGFsd2F5cyBsYXJnZXIgdGhhbiB0aGUgaW5uZXIgcmFkaXVzLlxuICAgIGlmIChyMSA8IHIwKSByID0gcjEsIHIxID0gcjAsIHIwID0gcjtcblxuICAgIC8vIElzIGl0IGEgcG9pbnQ/XG4gICAgaWYgKCEocjEgPiBlcHNpbG9uKSkgY29udGV4dC5tb3ZlVG8oMCwgMCk7XG5cbiAgICAvLyBPciBpcyBpdCBhIGNpcmNsZSBvciBhbm51bHVzP1xuICAgIGVsc2UgaWYgKGRhID4gdGF1IC0gZXBzaWxvbikge1xuICAgICAgY29udGV4dC5tb3ZlVG8ocjEgKiBjb3MoYTApLCByMSAqIHNpbihhMCkpO1xuICAgICAgY29udGV4dC5hcmMoMCwgMCwgcjEsIGEwLCBhMSwgIWN3KTtcbiAgICAgIGlmIChyMCA+IGVwc2lsb24pIHtcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ocjAgKiBjb3MoYTEpLCByMCAqIHNpbihhMSkpO1xuICAgICAgICBjb250ZXh0LmFyYygwLCAwLCByMCwgYTEsIGEwLCBjdyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gT3IgaXMgaXQgYSBjaXJjdWxhciBvciBhbm51bGFyIHNlY3Rvcj9cbiAgICBlbHNlIHtcbiAgICAgIHZhciBhMDEgPSBhMCxcbiAgICAgICAgICBhMTEgPSBhMSxcbiAgICAgICAgICBhMDAgPSBhMCxcbiAgICAgICAgICBhMTAgPSBhMSxcbiAgICAgICAgICBkYTAgPSBkYSxcbiAgICAgICAgICBkYTEgPSBkYSxcbiAgICAgICAgICBhcCA9IHBhZEFuZ2xlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgLyAyLFxuICAgICAgICAgIHJwID0gKGFwID4gZXBzaWxvbikgJiYgKHBhZFJhZGl1cyA/ICtwYWRSYWRpdXMuYXBwbHkodGhpcywgYXJndW1lbnRzKSA6IHNxcnQocjAgKiByMCArIHIxICogcjEpKSxcbiAgICAgICAgICByYyA9IG1pbihhYnMocjEgLSByMCkgLyAyLCArY29ybmVyUmFkaXVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpLFxuICAgICAgICAgIHJjMCA9IHJjLFxuICAgICAgICAgIHJjMSA9IHJjLFxuICAgICAgICAgIHQwLFxuICAgICAgICAgIHQxO1xuXG4gICAgICAvLyBBcHBseSBwYWRkaW5nPyBOb3RlIHRoYXQgc2luY2UgcjEg4omlIHIwLCBkYTEg4omlIGRhMC5cbiAgICAgIGlmIChycCA+IGVwc2lsb24pIHtcbiAgICAgICAgdmFyIHAwID0gYXNpbihycCAvIHIwICogc2luKGFwKSksXG4gICAgICAgICAgICBwMSA9IGFzaW4ocnAgLyByMSAqIHNpbihhcCkpO1xuICAgICAgICBpZiAoKGRhMCAtPSBwMCAqIDIpID4gZXBzaWxvbikgcDAgKj0gKGN3ID8gMSA6IC0xKSwgYTAwICs9IHAwLCBhMTAgLT0gcDA7XG4gICAgICAgIGVsc2UgZGEwID0gMCwgYTAwID0gYTEwID0gKGEwICsgYTEpIC8gMjtcbiAgICAgICAgaWYgKChkYTEgLT0gcDEgKiAyKSA+IGVwc2lsb24pIHAxICo9IChjdyA/IDEgOiAtMSksIGEwMSArPSBwMSwgYTExIC09IHAxO1xuICAgICAgICBlbHNlIGRhMSA9IDAsIGEwMSA9IGExMSA9IChhMCArIGExKSAvIDI7XG4gICAgICB9XG5cbiAgICAgIHZhciB4MDEgPSByMSAqIGNvcyhhMDEpLFxuICAgICAgICAgIHkwMSA9IHIxICogc2luKGEwMSksXG4gICAgICAgICAgeDEwID0gcjAgKiBjb3MoYTEwKSxcbiAgICAgICAgICB5MTAgPSByMCAqIHNpbihhMTApO1xuXG4gICAgICAvLyBBcHBseSByb3VuZGVkIGNvcm5lcnM/XG4gICAgICBpZiAocmMgPiBlcHNpbG9uKSB7XG4gICAgICAgIHZhciB4MTEgPSByMSAqIGNvcyhhMTEpLFxuICAgICAgICAgICAgeTExID0gcjEgKiBzaW4oYTExKSxcbiAgICAgICAgICAgIHgwMCA9IHIwICogY29zKGEwMCksXG4gICAgICAgICAgICB5MDAgPSByMCAqIHNpbihhMDApLFxuICAgICAgICAgICAgb2M7XG5cbiAgICAgICAgLy8gUmVzdHJpY3QgdGhlIGNvcm5lciByYWRpdXMgYWNjb3JkaW5nIHRvIHRoZSBzZWN0b3IgYW5nbGUuXG4gICAgICAgIGlmIChkYSA8IHBpICYmIChvYyA9IGludGVyc2VjdCh4MDEsIHkwMSwgeDAwLCB5MDAsIHgxMSwgeTExLCB4MTAsIHkxMCkpKSB7XG4gICAgICAgICAgdmFyIGF4ID0geDAxIC0gb2NbMF0sXG4gICAgICAgICAgICAgIGF5ID0geTAxIC0gb2NbMV0sXG4gICAgICAgICAgICAgIGJ4ID0geDExIC0gb2NbMF0sXG4gICAgICAgICAgICAgIGJ5ID0geTExIC0gb2NbMV0sXG4gICAgICAgICAgICAgIGtjID0gMSAvIHNpbihhY29zKChheCAqIGJ4ICsgYXkgKiBieSkgLyAoc3FydChheCAqIGF4ICsgYXkgKiBheSkgKiBzcXJ0KGJ4ICogYnggKyBieSAqIGJ5KSkpIC8gMiksXG4gICAgICAgICAgICAgIGxjID0gc3FydChvY1swXSAqIG9jWzBdICsgb2NbMV0gKiBvY1sxXSk7XG4gICAgICAgICAgcmMwID0gbWluKHJjLCAocjAgLSBsYykgLyAoa2MgLSAxKSk7XG4gICAgICAgICAgcmMxID0gbWluKHJjLCAocjEgLSBsYykgLyAoa2MgKyAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSXMgdGhlIHNlY3RvciBjb2xsYXBzZWQgdG8gYSBsaW5lP1xuICAgICAgaWYgKCEoZGExID4gZXBzaWxvbikpIGNvbnRleHQubW92ZVRvKHgwMSwgeTAxKTtcblxuICAgICAgLy8gRG9lcyB0aGUgc2VjdG9y4oCZcyBvdXRlciByaW5nIGhhdmUgcm91bmRlZCBjb3JuZXJzP1xuICAgICAgZWxzZSBpZiAocmMxID4gZXBzaWxvbikge1xuICAgICAgICB0MCA9IGNvcm5lclRhbmdlbnRzKHgwMCwgeTAwLCB4MDEsIHkwMSwgcjEsIHJjMSwgY3cpO1xuICAgICAgICB0MSA9IGNvcm5lclRhbmdlbnRzKHgxMSwgeTExLCB4MTAsIHkxMCwgcjEsIHJjMSwgY3cpO1xuXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHQwLmN4ICsgdDAueDAxLCB0MC5jeSArIHQwLnkwMSk7XG5cbiAgICAgICAgLy8gSGF2ZSB0aGUgY29ybmVycyBtZXJnZWQ/XG4gICAgICAgIGlmIChyYzEgPCByYykgY29udGV4dC5hcmModDAuY3gsIHQwLmN5LCByYzEsIGF0YW4yKHQwLnkwMSwgdDAueDAxKSwgYXRhbjIodDEueTAxLCB0MS54MDEpLCAhY3cpO1xuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgZHJhdyB0aGUgdHdvIGNvcm5lcnMgYW5kIHRoZSByaW5nLlxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBjb250ZXh0LmFyYyh0MC5jeCwgdDAuY3ksIHJjMSwgYXRhbjIodDAueTAxLCB0MC54MDEpLCBhdGFuMih0MC55MTEsIHQwLngxMSksICFjdyk7XG4gICAgICAgICAgY29udGV4dC5hcmMoMCwgMCwgcjEsIGF0YW4yKHQwLmN5ICsgdDAueTExLCB0MC5jeCArIHQwLngxMSksIGF0YW4yKHQxLmN5ICsgdDEueTExLCB0MS5jeCArIHQxLngxMSksICFjdyk7XG4gICAgICAgICAgY29udGV4dC5hcmModDEuY3gsIHQxLmN5LCByYzEsIGF0YW4yKHQxLnkxMSwgdDEueDExKSwgYXRhbjIodDEueTAxLCB0MS54MDEpLCAhY3cpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIE9yIGlzIHRoZSBvdXRlciByaW5nIGp1c3QgYSBjaXJjdWxhciBhcmM/XG4gICAgICBlbHNlIGNvbnRleHQubW92ZVRvKHgwMSwgeTAxKSwgY29udGV4dC5hcmMoMCwgMCwgcjEsIGEwMSwgYTExLCAhY3cpO1xuXG4gICAgICAvLyBJcyB0aGVyZSBubyBpbm5lciByaW5nLCBhbmQgaXTigJlzIGEgY2lyY3VsYXIgc2VjdG9yP1xuICAgICAgLy8gT3IgcGVyaGFwcyBpdOKAmXMgYW4gYW5udWxhciBzZWN0b3IgY29sbGFwc2VkIGR1ZSB0byBwYWRkaW5nP1xuICAgICAgaWYgKCEocjAgPiBlcHNpbG9uKSB8fCAhKGRhMCA+IGVwc2lsb24pKSBjb250ZXh0LmxpbmVUbyh4MTAsIHkxMCk7XG5cbiAgICAgIC8vIERvZXMgdGhlIHNlY3RvcuKAmXMgaW5uZXIgcmluZyAob3IgcG9pbnQpIGhhdmUgcm91bmRlZCBjb3JuZXJzP1xuICAgICAgZWxzZSBpZiAocmMwID4gZXBzaWxvbikge1xuICAgICAgICB0MCA9IGNvcm5lclRhbmdlbnRzKHgxMCwgeTEwLCB4MTEsIHkxMSwgcjAsIC1yYzAsIGN3KTtcbiAgICAgICAgdDEgPSBjb3JuZXJUYW5nZW50cyh4MDEsIHkwMSwgeDAwLCB5MDAsIHIwLCAtcmMwLCBjdyk7XG5cbiAgICAgICAgY29udGV4dC5saW5lVG8odDAuY3ggKyB0MC54MDEsIHQwLmN5ICsgdDAueTAxKTtcblxuICAgICAgICAvLyBIYXZlIHRoZSBjb3JuZXJzIG1lcmdlZD9cbiAgICAgICAgaWYgKHJjMCA8IHJjKSBjb250ZXh0LmFyYyh0MC5jeCwgdDAuY3ksIHJjMCwgYXRhbjIodDAueTAxLCB0MC54MDEpLCBhdGFuMih0MS55MDEsIHQxLngwMSksICFjdyk7XG5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBkcmF3IHRoZSB0d28gY29ybmVycyBhbmQgdGhlIHJpbmcuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNvbnRleHQuYXJjKHQwLmN4LCB0MC5jeSwgcmMwLCBhdGFuMih0MC55MDEsIHQwLngwMSksIGF0YW4yKHQwLnkxMSwgdDAueDExKSwgIWN3KTtcbiAgICAgICAgICBjb250ZXh0LmFyYygwLCAwLCByMCwgYXRhbjIodDAuY3kgKyB0MC55MTEsIHQwLmN4ICsgdDAueDExKSwgYXRhbjIodDEuY3kgKyB0MS55MTEsIHQxLmN4ICsgdDEueDExKSwgY3cpO1xuICAgICAgICAgIGNvbnRleHQuYXJjKHQxLmN4LCB0MS5jeSwgcmMwLCBhdGFuMih0MS55MTEsIHQxLngxMSksIGF0YW4yKHQxLnkwMSwgdDEueDAxKSwgIWN3KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBPciBpcyB0aGUgaW5uZXIgcmluZyBqdXN0IGEgY2lyY3VsYXIgYXJjP1xuICAgICAgZWxzZSBjb250ZXh0LmFyYygwLCAwLCByMCwgYTEwLCBhMDAsIGN3KTtcbiAgICB9XG5cbiAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuXG4gICAgaWYgKGJ1ZmZlcikgcmV0dXJuIGNvbnRleHQgPSBudWxsLCBidWZmZXIgKyBcIlwiIHx8IG51bGw7XG4gIH1cblxuICBhcmMuY2VudHJvaWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgciA9ICgraW5uZXJSYWRpdXMuYXBwbHkodGhpcywgYXJndW1lbnRzKSArICtvdXRlclJhZGl1cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSAvIDIsXG4gICAgICAgIGEgPSAoK3N0YXJ0QW5nbGUuYXBwbHkodGhpcywgYXJndW1lbnRzKSArICtlbmRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSAvIDIgLSBwaSAvIDI7XG4gICAgcmV0dXJuIFtjb3MoYSkgKiByLCBzaW4oYSkgKiByXTtcbiAgfTtcblxuICBhcmMuaW5uZXJSYWRpdXMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoaW5uZXJSYWRpdXMgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgYXJjKSA6IGlubmVyUmFkaXVzO1xuICB9O1xuXG4gIGFyYy5vdXRlclJhZGl1cyA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChvdXRlclJhZGl1cyA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoK18pLCBhcmMpIDogb3V0ZXJSYWRpdXM7XG4gIH07XG5cbiAgYXJjLmNvcm5lclJhZGl1cyA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChjb3JuZXJSYWRpdXMgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgYXJjKSA6IGNvcm5lclJhZGl1cztcbiAgfTtcblxuICBhcmMucGFkUmFkaXVzID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHBhZFJhZGl1cyA9IF8gPT0gbnVsbCA/IG51bGwgOiB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgYXJjKSA6IHBhZFJhZGl1cztcbiAgfTtcblxuICBhcmMuc3RhcnRBbmdsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChzdGFydEFuZ2xlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIGFyYykgOiBzdGFydEFuZ2xlO1xuICB9O1xuXG4gIGFyYy5lbmRBbmdsZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChlbmRBbmdsZSA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoK18pLCBhcmMpIDogZW5kQW5nbGU7XG4gIH07XG5cbiAgYXJjLnBhZEFuZ2xlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHBhZEFuZ2xlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIGFyYykgOiBwYWRBbmdsZTtcbiAgfTtcblxuICBhcmMuY29udGV4dCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICgoY29udGV4dCA9IF8gPT0gbnVsbCA/IG51bGwgOiBfKSwgYXJjKSA6IGNvbnRleHQ7XG4gIH07XG5cbiAgcmV0dXJuIGFyYztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGIgPCBhID8gLTEgOiBiID4gYSA/IDEgOiBiID49IGEgPyAwIDogTmFOO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oZCkge1xuICByZXR1cm4gZDtcbn1cbiIsImltcG9ydCBjb25zdGFudCBmcm9tIFwiLi9jb25zdGFudC5qc1wiO1xuaW1wb3J0IGRlc2NlbmRpbmcgZnJvbSBcIi4vZGVzY2VuZGluZy5qc1wiO1xuaW1wb3J0IGlkZW50aXR5IGZyb20gXCIuL2lkZW50aXR5LmpzXCI7XG5pbXBvcnQge3RhdX0gZnJvbSBcIi4vbWF0aC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbigpIHtcbiAgdmFyIHZhbHVlID0gaWRlbnRpdHksXG4gICAgICBzb3J0VmFsdWVzID0gZGVzY2VuZGluZyxcbiAgICAgIHNvcnQgPSBudWxsLFxuICAgICAgc3RhcnRBbmdsZSA9IGNvbnN0YW50KDApLFxuICAgICAgZW5kQW5nbGUgPSBjb25zdGFudCh0YXUpLFxuICAgICAgcGFkQW5nbGUgPSBjb25zdGFudCgwKTtcblxuICBmdW5jdGlvbiBwaWUoZGF0YSkge1xuICAgIHZhciBpLFxuICAgICAgICBuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgIGosXG4gICAgICAgIGssXG4gICAgICAgIHN1bSA9IDAsXG4gICAgICAgIGluZGV4ID0gbmV3IEFycmF5KG4pLFxuICAgICAgICBhcmNzID0gbmV3IEFycmF5KG4pLFxuICAgICAgICBhMCA9ICtzdGFydEFuZ2xlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksXG4gICAgICAgIGRhID0gTWF0aC5taW4odGF1LCBNYXRoLm1heCgtdGF1LCBlbmRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIC0gYTApKSxcbiAgICAgICAgYTEsXG4gICAgICAgIHAgPSBNYXRoLm1pbihNYXRoLmFicyhkYSkgLyBuLCBwYWRBbmdsZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSxcbiAgICAgICAgcGEgPSBwICogKGRhIDwgMCA/IC0xIDogMSksXG4gICAgICAgIHY7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbjsgKytpKSB7XG4gICAgICBpZiAoKHYgPSBhcmNzW2luZGV4W2ldID0gaV0gPSArdmFsdWUoZGF0YVtpXSwgaSwgZGF0YSkpID4gMCkge1xuICAgICAgICBzdW0gKz0gdjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPcHRpb25hbGx5IHNvcnQgdGhlIGFyY3MgYnkgcHJldmlvdXNseS1jb21wdXRlZCB2YWx1ZXMgb3IgYnkgZGF0YS5cbiAgICBpZiAoc29ydFZhbHVlcyAhPSBudWxsKSBpbmRleC5zb3J0KGZ1bmN0aW9uKGksIGopIHsgcmV0dXJuIHNvcnRWYWx1ZXMoYXJjc1tpXSwgYXJjc1tqXSk7IH0pO1xuICAgIGVsc2UgaWYgKHNvcnQgIT0gbnVsbCkgaW5kZXguc29ydChmdW5jdGlvbihpLCBqKSB7IHJldHVybiBzb3J0KGRhdGFbaV0sIGRhdGFbal0pOyB9KTtcblxuICAgIC8vIENvbXB1dGUgdGhlIGFyY3MhIFRoZXkgYXJlIHN0b3JlZCBpbiB0aGUgb3JpZ2luYWwgZGF0YSdzIG9yZGVyLlxuICAgIGZvciAoaSA9IDAsIGsgPSBzdW0gPyAoZGEgLSBuICogcGEpIC8gc3VtIDogMDsgaSA8IG47ICsraSwgYTAgPSBhMSkge1xuICAgICAgaiA9IGluZGV4W2ldLCB2ID0gYXJjc1tqXSwgYTEgPSBhMCArICh2ID4gMCA/IHYgKiBrIDogMCkgKyBwYSwgYXJjc1tqXSA9IHtcbiAgICAgICAgZGF0YTogZGF0YVtqXSxcbiAgICAgICAgaW5kZXg6IGksXG4gICAgICAgIHZhbHVlOiB2LFxuICAgICAgICBzdGFydEFuZ2xlOiBhMCxcbiAgICAgICAgZW5kQW5nbGU6IGExLFxuICAgICAgICBwYWRBbmdsZTogcFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJjcztcbiAgfVxuXG4gIHBpZS52YWx1ZSA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/ICh2YWx1ZSA9IHR5cGVvZiBfID09PSBcImZ1bmN0aW9uXCIgPyBfIDogY29uc3RhbnQoK18pLCBwaWUpIDogdmFsdWU7XG4gIH07XG5cbiAgcGllLnNvcnRWYWx1ZXMgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoc29ydFZhbHVlcyA9IF8sIHNvcnQgPSBudWxsLCBwaWUpIDogc29ydFZhbHVlcztcbiAgfTtcblxuICBwaWUuc29ydCA9IGZ1bmN0aW9uKF8pIHtcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChzb3J0ID0gXywgc29ydFZhbHVlcyA9IG51bGwsIHBpZSkgOiBzb3J0O1xuICB9O1xuXG4gIHBpZS5zdGFydEFuZ2xlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHN0YXJ0QW5nbGUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgcGllKSA6IHN0YXJ0QW5nbGU7XG4gIH07XG5cbiAgcGllLmVuZEFuZ2xlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKGVuZEFuZ2xlID0gdHlwZW9mIF8gPT09IFwiZnVuY3Rpb25cIiA/IF8gOiBjb25zdGFudCgrXyksIHBpZSkgOiBlbmRBbmdsZTtcbiAgfTtcblxuICBwaWUucGFkQW5nbGUgPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAocGFkQW5nbGUgPSB0eXBlb2YgXyA9PT0gXCJmdW5jdGlvblwiID8gXyA6IGNvbnN0YW50KCtfKSwgcGllKSA6IHBhZEFuZ2xlO1xuICB9O1xuXG4gIHJldHVybiBwaWU7XG59XG4iLCJmdW5jdGlvbiBSZWRCbGFja1RyZWUoKSB7XG4gIHRoaXMuXyA9IG51bGw7IC8vIHJvb3Qgbm9kZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVkQmxhY2tOb2RlKG5vZGUpIHtcbiAgbm9kZS5VID0gLy8gcGFyZW50IG5vZGVcbiAgbm9kZS5DID0gLy8gY29sb3IgLSB0cnVlIGZvciByZWQsIGZhbHNlIGZvciBibGFja1xuICBub2RlLkwgPSAvLyBsZWZ0IG5vZGVcbiAgbm9kZS5SID0gLy8gcmlnaHQgbm9kZVxuICBub2RlLlAgPSAvLyBwcmV2aW91cyBub2RlXG4gIG5vZGUuTiA9IG51bGw7IC8vIG5leHQgbm9kZVxufVxuXG5SZWRCbGFja1RyZWUucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogUmVkQmxhY2tUcmVlLFxuXG4gIGluc2VydDogZnVuY3Rpb24oYWZ0ZXIsIG5vZGUpIHtcbiAgICB2YXIgcGFyZW50LCBncmFuZHBhLCB1bmNsZTtcblxuICAgIGlmIChhZnRlcikge1xuICAgICAgbm9kZS5QID0gYWZ0ZXI7XG4gICAgICBub2RlLk4gPSBhZnRlci5OO1xuICAgICAgaWYgKGFmdGVyLk4pIGFmdGVyLk4uUCA9IG5vZGU7XG4gICAgICBhZnRlci5OID0gbm9kZTtcbiAgICAgIGlmIChhZnRlci5SKSB7XG4gICAgICAgIGFmdGVyID0gYWZ0ZXIuUjtcbiAgICAgICAgd2hpbGUgKGFmdGVyLkwpIGFmdGVyID0gYWZ0ZXIuTDtcbiAgICAgICAgYWZ0ZXIuTCA9IG5vZGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhZnRlci5SID0gbm9kZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IGFmdGVyO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fKSB7XG4gICAgICBhZnRlciA9IFJlZEJsYWNrRmlyc3QodGhpcy5fKTtcbiAgICAgIG5vZGUuUCA9IG51bGw7XG4gICAgICBub2RlLk4gPSBhZnRlcjtcbiAgICAgIGFmdGVyLlAgPSBhZnRlci5MID0gbm9kZTtcbiAgICAgIHBhcmVudCA9IGFmdGVyO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLlAgPSBub2RlLk4gPSBudWxsO1xuICAgICAgdGhpcy5fID0gbm9kZTtcbiAgICAgIHBhcmVudCA9IG51bGw7XG4gICAgfVxuICAgIG5vZGUuTCA9IG5vZGUuUiA9IG51bGw7XG4gICAgbm9kZS5VID0gcGFyZW50O1xuICAgIG5vZGUuQyA9IHRydWU7XG5cbiAgICBhZnRlciA9IG5vZGU7XG4gICAgd2hpbGUgKHBhcmVudCAmJiBwYXJlbnQuQykge1xuICAgICAgZ3JhbmRwYSA9IHBhcmVudC5VO1xuICAgICAgaWYgKHBhcmVudCA9PT0gZ3JhbmRwYS5MKSB7XG4gICAgICAgIHVuY2xlID0gZ3JhbmRwYS5SO1xuICAgICAgICBpZiAodW5jbGUgJiYgdW5jbGUuQykge1xuICAgICAgICAgIHBhcmVudC5DID0gdW5jbGUuQyA9IGZhbHNlO1xuICAgICAgICAgIGdyYW5kcGEuQyA9IHRydWU7XG4gICAgICAgICAgYWZ0ZXIgPSBncmFuZHBhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChhZnRlciA9PT0gcGFyZW50LlIpIHtcbiAgICAgICAgICAgIFJlZEJsYWNrUm90YXRlTGVmdCh0aGlzLCBwYXJlbnQpO1xuICAgICAgICAgICAgYWZ0ZXIgPSBwYXJlbnQ7XG4gICAgICAgICAgICBwYXJlbnQgPSBhZnRlci5VO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnQuQyA9IGZhbHNlO1xuICAgICAgICAgIGdyYW5kcGEuQyA9IHRydWU7XG4gICAgICAgICAgUmVkQmxhY2tSb3RhdGVSaWdodCh0aGlzLCBncmFuZHBhKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdW5jbGUgPSBncmFuZHBhLkw7XG4gICAgICAgIGlmICh1bmNsZSAmJiB1bmNsZS5DKSB7XG4gICAgICAgICAgcGFyZW50LkMgPSB1bmNsZS5DID0gZmFsc2U7XG4gICAgICAgICAgZ3JhbmRwYS5DID0gdHJ1ZTtcbiAgICAgICAgICBhZnRlciA9IGdyYW5kcGE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFmdGVyID09PSBwYXJlbnQuTCkge1xuICAgICAgICAgICAgUmVkQmxhY2tSb3RhdGVSaWdodCh0aGlzLCBwYXJlbnQpO1xuICAgICAgICAgICAgYWZ0ZXIgPSBwYXJlbnQ7XG4gICAgICAgICAgICBwYXJlbnQgPSBhZnRlci5VO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnQuQyA9IGZhbHNlO1xuICAgICAgICAgIGdyYW5kcGEuQyA9IHRydWU7XG4gICAgICAgICAgUmVkQmxhY2tSb3RhdGVMZWZ0KHRoaXMsIGdyYW5kcGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBhZnRlci5VO1xuICAgIH1cbiAgICB0aGlzLl8uQyA9IGZhbHNlO1xuICB9LFxuXG4gIHJlbW92ZTogZnVuY3Rpb24obm9kZSkge1xuICAgIGlmIChub2RlLk4pIG5vZGUuTi5QID0gbm9kZS5QO1xuICAgIGlmIChub2RlLlApIG5vZGUuUC5OID0gbm9kZS5OO1xuICAgIG5vZGUuTiA9IG5vZGUuUCA9IG51bGw7XG5cbiAgICB2YXIgcGFyZW50ID0gbm9kZS5VLFxuICAgICAgICBzaWJsaW5nLFxuICAgICAgICBsZWZ0ID0gbm9kZS5MLFxuICAgICAgICByaWdodCA9IG5vZGUuUixcbiAgICAgICAgbmV4dCxcbiAgICAgICAgcmVkO1xuXG4gICAgaWYgKCFsZWZ0KSBuZXh0ID0gcmlnaHQ7XG4gICAgZWxzZSBpZiAoIXJpZ2h0KSBuZXh0ID0gbGVmdDtcbiAgICBlbHNlIG5leHQgPSBSZWRCbGFja0ZpcnN0KHJpZ2h0KTtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuTCA9PT0gbm9kZSkgcGFyZW50LkwgPSBuZXh0O1xuICAgICAgZWxzZSBwYXJlbnQuUiA9IG5leHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuXyA9IG5leHQ7XG4gICAgfVxuXG4gICAgaWYgKGxlZnQgJiYgcmlnaHQpIHtcbiAgICAgIHJlZCA9IG5leHQuQztcbiAgICAgIG5leHQuQyA9IG5vZGUuQztcbiAgICAgIG5leHQuTCA9IGxlZnQ7XG4gICAgICBsZWZ0LlUgPSBuZXh0O1xuICAgICAgaWYgKG5leHQgIT09IHJpZ2h0KSB7XG4gICAgICAgIHBhcmVudCA9IG5leHQuVTtcbiAgICAgICAgbmV4dC5VID0gbm9kZS5VO1xuICAgICAgICBub2RlID0gbmV4dC5SO1xuICAgICAgICBwYXJlbnQuTCA9IG5vZGU7XG4gICAgICAgIG5leHQuUiA9IHJpZ2h0O1xuICAgICAgICByaWdodC5VID0gbmV4dDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHQuVSA9IHBhcmVudDtcbiAgICAgICAgcGFyZW50ID0gbmV4dDtcbiAgICAgICAgbm9kZSA9IG5leHQuUjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVkID0gbm9kZS5DO1xuICAgICAgbm9kZSA9IG5leHQ7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUpIG5vZGUuVSA9IHBhcmVudDtcbiAgICBpZiAocmVkKSByZXR1cm47XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5DKSB7IG5vZGUuQyA9IGZhbHNlOyByZXR1cm47IH1cblxuICAgIGRvIHtcbiAgICAgIGlmIChub2RlID09PSB0aGlzLl8pIGJyZWFrO1xuICAgICAgaWYgKG5vZGUgPT09IHBhcmVudC5MKSB7XG4gICAgICAgIHNpYmxpbmcgPSBwYXJlbnQuUjtcbiAgICAgICAgaWYgKHNpYmxpbmcuQykge1xuICAgICAgICAgIHNpYmxpbmcuQyA9IGZhbHNlO1xuICAgICAgICAgIHBhcmVudC5DID0gdHJ1ZTtcbiAgICAgICAgICBSZWRCbGFja1JvdGF0ZUxlZnQodGhpcywgcGFyZW50KTtcbiAgICAgICAgICBzaWJsaW5nID0gcGFyZW50LlI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzaWJsaW5nLkwgJiYgc2libGluZy5MLkMpXG4gICAgICAgICAgICB8fCAoc2libGluZy5SICYmIHNpYmxpbmcuUi5DKSkge1xuICAgICAgICAgIGlmICghc2libGluZy5SIHx8ICFzaWJsaW5nLlIuQykge1xuICAgICAgICAgICAgc2libGluZy5MLkMgPSBmYWxzZTtcbiAgICAgICAgICAgIHNpYmxpbmcuQyA9IHRydWU7XG4gICAgICAgICAgICBSZWRCbGFja1JvdGF0ZVJpZ2h0KHRoaXMsIHNpYmxpbmcpO1xuICAgICAgICAgICAgc2libGluZyA9IHBhcmVudC5SO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaWJsaW5nLkMgPSBwYXJlbnQuQztcbiAgICAgICAgICBwYXJlbnQuQyA9IHNpYmxpbmcuUi5DID0gZmFsc2U7XG4gICAgICAgICAgUmVkQmxhY2tSb3RhdGVMZWZ0KHRoaXMsIHBhcmVudCk7XG4gICAgICAgICAgbm9kZSA9IHRoaXMuXztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2libGluZyA9IHBhcmVudC5MO1xuICAgICAgICBpZiAoc2libGluZy5DKSB7XG4gICAgICAgICAgc2libGluZy5DID0gZmFsc2U7XG4gICAgICAgICAgcGFyZW50LkMgPSB0cnVlO1xuICAgICAgICAgIFJlZEJsYWNrUm90YXRlUmlnaHQodGhpcywgcGFyZW50KTtcbiAgICAgICAgICBzaWJsaW5nID0gcGFyZW50Lkw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzaWJsaW5nLkwgJiYgc2libGluZy5MLkMpXG4gICAgICAgICAgfHwgKHNpYmxpbmcuUiAmJiBzaWJsaW5nLlIuQykpIHtcbiAgICAgICAgICBpZiAoIXNpYmxpbmcuTCB8fCAhc2libGluZy5MLkMpIHtcbiAgICAgICAgICAgIHNpYmxpbmcuUi5DID0gZmFsc2U7XG4gICAgICAgICAgICBzaWJsaW5nLkMgPSB0cnVlO1xuICAgICAgICAgICAgUmVkQmxhY2tSb3RhdGVMZWZ0KHRoaXMsIHNpYmxpbmcpO1xuICAgICAgICAgICAgc2libGluZyA9IHBhcmVudC5MO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaWJsaW5nLkMgPSBwYXJlbnQuQztcbiAgICAgICAgICBwYXJlbnQuQyA9IHNpYmxpbmcuTC5DID0gZmFsc2U7XG4gICAgICAgICAgUmVkQmxhY2tSb3RhdGVSaWdodCh0aGlzLCBwYXJlbnQpO1xuICAgICAgICAgIG5vZGUgPSB0aGlzLl87XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNpYmxpbmcuQyA9IHRydWU7XG4gICAgICBub2RlID0gcGFyZW50O1xuICAgICAgcGFyZW50ID0gcGFyZW50LlU7XG4gICAgfSB3aGlsZSAoIW5vZGUuQyk7XG5cbiAgICBpZiAobm9kZSkgbm9kZS5DID0gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIFJlZEJsYWNrUm90YXRlTGVmdCh0cmVlLCBub2RlKSB7XG4gIHZhciBwID0gbm9kZSxcbiAgICAgIHEgPSBub2RlLlIsXG4gICAgICBwYXJlbnQgPSBwLlU7XG5cbiAgaWYgKHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQuTCA9PT0gcCkgcGFyZW50LkwgPSBxO1xuICAgIGVsc2UgcGFyZW50LlIgPSBxO1xuICB9IGVsc2Uge1xuICAgIHRyZWUuXyA9IHE7XG4gIH1cblxuICBxLlUgPSBwYXJlbnQ7XG4gIHAuVSA9IHE7XG4gIHAuUiA9IHEuTDtcbiAgaWYgKHAuUikgcC5SLlUgPSBwO1xuICBxLkwgPSBwO1xufVxuXG5mdW5jdGlvbiBSZWRCbGFja1JvdGF0ZVJpZ2h0KHRyZWUsIG5vZGUpIHtcbiAgdmFyIHAgPSBub2RlLFxuICAgICAgcSA9IG5vZGUuTCxcbiAgICAgIHBhcmVudCA9IHAuVTtcblxuICBpZiAocGFyZW50KSB7XG4gICAgaWYgKHBhcmVudC5MID09PSBwKSBwYXJlbnQuTCA9IHE7XG4gICAgZWxzZSBwYXJlbnQuUiA9IHE7XG4gIH0gZWxzZSB7XG4gICAgdHJlZS5fID0gcTtcbiAgfVxuXG4gIHEuVSA9IHBhcmVudDtcbiAgcC5VID0gcTtcbiAgcC5MID0gcS5SO1xuICBpZiAocC5MKSBwLkwuVSA9IHA7XG4gIHEuUiA9IHA7XG59XG5cbmZ1bmN0aW9uIFJlZEJsYWNrRmlyc3Qobm9kZSkge1xuICB3aGlsZSAobm9kZS5MKSBub2RlID0gbm9kZS5MO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUmVkQmxhY2tUcmVlO1xuIiwiaW1wb3J0IHtjZWxscywgZWRnZXMsIGVwc2lsb259IGZyb20gXCIuL0RpYWdyYW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVkZ2UobGVmdCwgcmlnaHQsIHYwLCB2MSkge1xuICB2YXIgZWRnZSA9IFtudWxsLCBudWxsXSxcbiAgICAgIGluZGV4ID0gZWRnZXMucHVzaChlZGdlKSAtIDE7XG4gIGVkZ2UubGVmdCA9IGxlZnQ7XG4gIGVkZ2UucmlnaHQgPSByaWdodDtcbiAgaWYgKHYwKSBzZXRFZGdlRW5kKGVkZ2UsIGxlZnQsIHJpZ2h0LCB2MCk7XG4gIGlmICh2MSkgc2V0RWRnZUVuZChlZGdlLCByaWdodCwgbGVmdCwgdjEpO1xuICBjZWxsc1tsZWZ0LmluZGV4XS5oYWxmZWRnZXMucHVzaChpbmRleCk7XG4gIGNlbGxzW3JpZ2h0LmluZGV4XS5oYWxmZWRnZXMucHVzaChpbmRleCk7XG4gIHJldHVybiBlZGdlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQm9yZGVyRWRnZShsZWZ0LCB2MCwgdjEpIHtcbiAgdmFyIGVkZ2UgPSBbdjAsIHYxXTtcbiAgZWRnZS5sZWZ0ID0gbGVmdDtcbiAgcmV0dXJuIGVkZ2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFZGdlRW5kKGVkZ2UsIGxlZnQsIHJpZ2h0LCB2ZXJ0ZXgpIHtcbiAgaWYgKCFlZGdlWzBdICYmICFlZGdlWzFdKSB7XG4gICAgZWRnZVswXSA9IHZlcnRleDtcbiAgICBlZGdlLmxlZnQgPSBsZWZ0O1xuICAgIGVkZ2UucmlnaHQgPSByaWdodDtcbiAgfSBlbHNlIGlmIChlZGdlLmxlZnQgPT09IHJpZ2h0KSB7XG4gICAgZWRnZVsxXSA9IHZlcnRleDtcbiAgfSBlbHNlIHtcbiAgICBlZGdlWzBdID0gdmVydGV4O1xuICB9XG59XG5cbi8vIExpYW5n4oCTQmFyc2t5IGxpbmUgY2xpcHBpbmcuXG5mdW5jdGlvbiBjbGlwRWRnZShlZGdlLCB4MCwgeTAsIHgxLCB5MSkge1xuICB2YXIgYSA9IGVkZ2VbMF0sXG4gICAgICBiID0gZWRnZVsxXSxcbiAgICAgIGF4ID0gYVswXSxcbiAgICAgIGF5ID0gYVsxXSxcbiAgICAgIGJ4ID0gYlswXSxcbiAgICAgIGJ5ID0gYlsxXSxcbiAgICAgIHQwID0gMCxcbiAgICAgIHQxID0gMSxcbiAgICAgIGR4ID0gYnggLSBheCxcbiAgICAgIGR5ID0gYnkgLSBheSxcbiAgICAgIHI7XG5cbiAgciA9IHgwIC0gYXg7XG4gIGlmICghZHggJiYgciA+IDApIHJldHVybjtcbiAgciAvPSBkeDtcbiAgaWYgKGR4IDwgMCkge1xuICAgIGlmIChyIDwgdDApIHJldHVybjtcbiAgICBpZiAociA8IHQxKSB0MSA9IHI7XG4gIH0gZWxzZSBpZiAoZHggPiAwKSB7XG4gICAgaWYgKHIgPiB0MSkgcmV0dXJuO1xuICAgIGlmIChyID4gdDApIHQwID0gcjtcbiAgfVxuXG4gIHIgPSB4MSAtIGF4O1xuICBpZiAoIWR4ICYmIHIgPCAwKSByZXR1cm47XG4gIHIgLz0gZHg7XG4gIGlmIChkeCA8IDApIHtcbiAgICBpZiAociA+IHQxKSByZXR1cm47XG4gICAgaWYgKHIgPiB0MCkgdDAgPSByO1xuICB9IGVsc2UgaWYgKGR4ID4gMCkge1xuICAgIGlmIChyIDwgdDApIHJldHVybjtcbiAgICBpZiAociA8IHQxKSB0MSA9IHI7XG4gIH1cblxuICByID0geTAgLSBheTtcbiAgaWYgKCFkeSAmJiByID4gMCkgcmV0dXJuO1xuICByIC89IGR5O1xuICBpZiAoZHkgPCAwKSB7XG4gICAgaWYgKHIgPCB0MCkgcmV0dXJuO1xuICAgIGlmIChyIDwgdDEpIHQxID0gcjtcbiAgfSBlbHNlIGlmIChkeSA+IDApIHtcbiAgICBpZiAociA+IHQxKSByZXR1cm47XG4gICAgaWYgKHIgPiB0MCkgdDAgPSByO1xuICB9XG5cbiAgciA9IHkxIC0gYXk7XG4gIGlmICghZHkgJiYgciA8IDApIHJldHVybjtcbiAgciAvPSBkeTtcbiAgaWYgKGR5IDwgMCkge1xuICAgIGlmIChyID4gdDEpIHJldHVybjtcbiAgICBpZiAociA+IHQwKSB0MCA9IHI7XG4gIH0gZWxzZSBpZiAoZHkgPiAwKSB7XG4gICAgaWYgKHIgPCB0MCkgcmV0dXJuO1xuICAgIGlmIChyIDwgdDEpIHQxID0gcjtcbiAgfVxuXG4gIGlmICghKHQwID4gMCkgJiYgISh0MSA8IDEpKSByZXR1cm4gdHJ1ZTsgLy8gVE9ETyBCZXR0ZXIgY2hlY2s/XG5cbiAgaWYgKHQwID4gMCkgZWRnZVswXSA9IFtheCArIHQwICogZHgsIGF5ICsgdDAgKiBkeV07XG4gIGlmICh0MSA8IDEpIGVkZ2VbMV0gPSBbYXggKyB0MSAqIGR4LCBheSArIHQxICogZHldO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29ubmVjdEVkZ2UoZWRnZSwgeDAsIHkwLCB4MSwgeTEpIHtcbiAgdmFyIHYxID0gZWRnZVsxXTtcbiAgaWYgKHYxKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIgdjAgPSBlZGdlWzBdLFxuICAgICAgbGVmdCA9IGVkZ2UubGVmdCxcbiAgICAgIHJpZ2h0ID0gZWRnZS5yaWdodCxcbiAgICAgIGx4ID0gbGVmdFswXSxcbiAgICAgIGx5ID0gbGVmdFsxXSxcbiAgICAgIHJ4ID0gcmlnaHRbMF0sXG4gICAgICByeSA9IHJpZ2h0WzFdLFxuICAgICAgZnggPSAobHggKyByeCkgLyAyLFxuICAgICAgZnkgPSAobHkgKyByeSkgLyAyLFxuICAgICAgZm0sXG4gICAgICBmYjtcblxuICBpZiAocnkgPT09IGx5KSB7XG4gICAgaWYgKGZ4IDwgeDAgfHwgZnggPj0geDEpIHJldHVybjtcbiAgICBpZiAobHggPiByeCkge1xuICAgICAgaWYgKCF2MCkgdjAgPSBbZngsIHkwXTtcbiAgICAgIGVsc2UgaWYgKHYwWzFdID49IHkxKSByZXR1cm47XG4gICAgICB2MSA9IFtmeCwgeTFdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXYwKSB2MCA9IFtmeCwgeTFdO1xuICAgICAgZWxzZSBpZiAodjBbMV0gPCB5MCkgcmV0dXJuO1xuICAgICAgdjEgPSBbZngsIHkwXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm0gPSAobHggLSByeCkgLyAocnkgLSBseSk7XG4gICAgZmIgPSBmeSAtIGZtICogZng7XG4gICAgaWYgKGZtIDwgLTEgfHwgZm0gPiAxKSB7XG4gICAgICBpZiAobHggPiByeCkge1xuICAgICAgICBpZiAoIXYwKSB2MCA9IFsoeTAgLSBmYikgLyBmbSwgeTBdO1xuICAgICAgICBlbHNlIGlmICh2MFsxXSA+PSB5MSkgcmV0dXJuO1xuICAgICAgICB2MSA9IFsoeTEgLSBmYikgLyBmbSwgeTFdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF2MCkgdjAgPSBbKHkxIC0gZmIpIC8gZm0sIHkxXTtcbiAgICAgICAgZWxzZSBpZiAodjBbMV0gPCB5MCkgcmV0dXJuO1xuICAgICAgICB2MSA9IFsoeTAgLSBmYikgLyBmbSwgeTBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobHkgPCByeSkge1xuICAgICAgICBpZiAoIXYwKSB2MCA9IFt4MCwgZm0gKiB4MCArIGZiXTtcbiAgICAgICAgZWxzZSBpZiAodjBbMF0gPj0geDEpIHJldHVybjtcbiAgICAgICAgdjEgPSBbeDEsIGZtICogeDEgKyBmYl07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXYwKSB2MCA9IFt4MSwgZm0gKiB4MSArIGZiXTtcbiAgICAgICAgZWxzZSBpZiAodjBbMF0gPCB4MCkgcmV0dXJuO1xuICAgICAgICB2MSA9IFt4MCwgZm0gKiB4MCArIGZiXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBlZGdlWzBdID0gdjA7XG4gIGVkZ2VbMV0gPSB2MTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwRWRnZXMoeDAsIHkwLCB4MSwgeTEpIHtcbiAgdmFyIGkgPSBlZGdlcy5sZW5ndGgsXG4gICAgICBlZGdlO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICBpZiAoIWNvbm5lY3RFZGdlKGVkZ2UgPSBlZGdlc1tpXSwgeDAsIHkwLCB4MSwgeTEpXG4gICAgICAgIHx8ICFjbGlwRWRnZShlZGdlLCB4MCwgeTAsIHgxLCB5MSlcbiAgICAgICAgfHwgIShNYXRoLmFicyhlZGdlWzBdWzBdIC0gZWRnZVsxXVswXSkgPiBlcHNpbG9uXG4gICAgICAgICAgICB8fCBNYXRoLmFicyhlZGdlWzBdWzFdIC0gZWRnZVsxXVsxXSkgPiBlcHNpbG9uKSkge1xuICAgICAgZGVsZXRlIGVkZ2VzW2ldO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtjcmVhdGVCb3JkZXJFZGdlfSBmcm9tIFwiLi9FZGdlXCI7XG5pbXBvcnQge2NlbGxzLCBlZGdlcywgZXBzaWxvbn0gZnJvbSBcIi4vRGlhZ3JhbVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2VsbChzaXRlKSB7XG4gIHJldHVybiBjZWxsc1tzaXRlLmluZGV4XSA9IHtcbiAgICBzaXRlOiBzaXRlLFxuICAgIGhhbGZlZGdlczogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gY2VsbEhhbGZlZGdlQW5nbGUoY2VsbCwgZWRnZSkge1xuICB2YXIgc2l0ZSA9IGNlbGwuc2l0ZSxcbiAgICAgIHZhID0gZWRnZS5sZWZ0LFxuICAgICAgdmIgPSBlZGdlLnJpZ2h0O1xuICBpZiAoc2l0ZSA9PT0gdmIpIHZiID0gdmEsIHZhID0gc2l0ZTtcbiAgaWYgKHZiKSByZXR1cm4gTWF0aC5hdGFuMih2YlsxXSAtIHZhWzFdLCB2YlswXSAtIHZhWzBdKTtcbiAgaWYgKHNpdGUgPT09IHZhKSB2YSA9IGVkZ2VbMV0sIHZiID0gZWRnZVswXTtcbiAgZWxzZSB2YSA9IGVkZ2VbMF0sIHZiID0gZWRnZVsxXTtcbiAgcmV0dXJuIE1hdGguYXRhbjIodmFbMF0gLSB2YlswXSwgdmJbMV0gLSB2YVsxXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjZWxsSGFsZmVkZ2VTdGFydChjZWxsLCBlZGdlKSB7XG4gIHJldHVybiBlZGdlWysoZWRnZS5sZWZ0ICE9PSBjZWxsLnNpdGUpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNlbGxIYWxmZWRnZUVuZChjZWxsLCBlZGdlKSB7XG4gIHJldHVybiBlZGdlWysoZWRnZS5sZWZ0ID09PSBjZWxsLnNpdGUpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRDZWxsSGFsZmVkZ2VzKCkge1xuICBmb3IgKHZhciBpID0gMCwgbiA9IGNlbGxzLmxlbmd0aCwgY2VsbCwgaGFsZmVkZ2VzLCBqLCBtOyBpIDwgbjsgKytpKSB7XG4gICAgaWYgKChjZWxsID0gY2VsbHNbaV0pICYmIChtID0gKGhhbGZlZGdlcyA9IGNlbGwuaGFsZmVkZ2VzKS5sZW5ndGgpKSB7XG4gICAgICB2YXIgaW5kZXggPSBuZXcgQXJyYXkobSksXG4gICAgICAgICAgYXJyYXkgPSBuZXcgQXJyYXkobSk7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgbTsgKytqKSBpbmRleFtqXSA9IGosIGFycmF5W2pdID0gY2VsbEhhbGZlZGdlQW5nbGUoY2VsbCwgZWRnZXNbaGFsZmVkZ2VzW2pdXSk7XG4gICAgICBpbmRleC5zb3J0KGZ1bmN0aW9uKGksIGopIHsgcmV0dXJuIGFycmF5W2pdIC0gYXJyYXlbaV07IH0pO1xuICAgICAgZm9yIChqID0gMDsgaiA8IG07ICsraikgYXJyYXlbal0gPSBoYWxmZWRnZXNbaW5kZXhbal1dO1xuICAgICAgZm9yIChqID0gMDsgaiA8IG07ICsraikgaGFsZmVkZ2VzW2pdID0gYXJyYXlbal07XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGlwQ2VsbHMoeDAsIHkwLCB4MSwgeTEpIHtcbiAgdmFyIG5DZWxscyA9IGNlbGxzLmxlbmd0aCxcbiAgICAgIGlDZWxsLFxuICAgICAgY2VsbCxcbiAgICAgIHNpdGUsXG4gICAgICBpSGFsZmVkZ2UsXG4gICAgICBoYWxmZWRnZXMsXG4gICAgICBuSGFsZmVkZ2VzLFxuICAgICAgc3RhcnQsXG4gICAgICBzdGFydFgsXG4gICAgICBzdGFydFksXG4gICAgICBlbmQsXG4gICAgICBlbmRYLFxuICAgICAgZW5kWSxcbiAgICAgIGNvdmVyID0gdHJ1ZTtcblxuICBmb3IgKGlDZWxsID0gMDsgaUNlbGwgPCBuQ2VsbHM7ICsraUNlbGwpIHtcbiAgICBpZiAoY2VsbCA9IGNlbGxzW2lDZWxsXSkge1xuICAgICAgc2l0ZSA9IGNlbGwuc2l0ZTtcbiAgICAgIGhhbGZlZGdlcyA9IGNlbGwuaGFsZmVkZ2VzO1xuICAgICAgaUhhbGZlZGdlID0gaGFsZmVkZ2VzLmxlbmd0aDtcblxuICAgICAgLy8gUmVtb3ZlIGFueSBkYW5nbGluZyBjbGlwcGVkIGVkZ2VzLlxuICAgICAgd2hpbGUgKGlIYWxmZWRnZS0tKSB7XG4gICAgICAgIGlmICghZWRnZXNbaGFsZmVkZ2VzW2lIYWxmZWRnZV1dKSB7XG4gICAgICAgICAgaGFsZmVkZ2VzLnNwbGljZShpSGFsZmVkZ2UsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIEluc2VydCBhbnkgYm9yZGVyIGVkZ2VzIGFzIG5lY2Vzc2FyeS5cbiAgICAgIGlIYWxmZWRnZSA9IDAsIG5IYWxmZWRnZXMgPSBoYWxmZWRnZXMubGVuZ3RoO1xuICAgICAgd2hpbGUgKGlIYWxmZWRnZSA8IG5IYWxmZWRnZXMpIHtcbiAgICAgICAgZW5kID0gY2VsbEhhbGZlZGdlRW5kKGNlbGwsIGVkZ2VzW2hhbGZlZGdlc1tpSGFsZmVkZ2VdXSksIGVuZFggPSBlbmRbMF0sIGVuZFkgPSBlbmRbMV07XG4gICAgICAgIHN0YXJ0ID0gY2VsbEhhbGZlZGdlU3RhcnQoY2VsbCwgZWRnZXNbaGFsZmVkZ2VzWysraUhhbGZlZGdlICUgbkhhbGZlZGdlc11dKSwgc3RhcnRYID0gc3RhcnRbMF0sIHN0YXJ0WSA9IHN0YXJ0WzFdO1xuICAgICAgICBpZiAoTWF0aC5hYnMoZW5kWCAtIHN0YXJ0WCkgPiBlcHNpbG9uIHx8IE1hdGguYWJzKGVuZFkgLSBzdGFydFkpID4gZXBzaWxvbikge1xuICAgICAgICAgIGhhbGZlZGdlcy5zcGxpY2UoaUhhbGZlZGdlLCAwLCBlZGdlcy5wdXNoKGNyZWF0ZUJvcmRlckVkZ2Uoc2l0ZSwgZW5kLFxuICAgICAgICAgICAgICBNYXRoLmFicyhlbmRYIC0geDApIDwgZXBzaWxvbiAmJiB5MSAtIGVuZFkgPiBlcHNpbG9uID8gW3gwLCBNYXRoLmFicyhzdGFydFggLSB4MCkgPCBlcHNpbG9uID8gc3RhcnRZIDogeTFdXG4gICAgICAgICAgICAgIDogTWF0aC5hYnMoZW5kWSAtIHkxKSA8IGVwc2lsb24gJiYgeDEgLSBlbmRYID4gZXBzaWxvbiA/IFtNYXRoLmFicyhzdGFydFkgLSB5MSkgPCBlcHNpbG9uID8gc3RhcnRYIDogeDEsIHkxXVxuICAgICAgICAgICAgICA6IE1hdGguYWJzKGVuZFggLSB4MSkgPCBlcHNpbG9uICYmIGVuZFkgLSB5MCA+IGVwc2lsb24gPyBbeDEsIE1hdGguYWJzKHN0YXJ0WCAtIHgxKSA8IGVwc2lsb24gPyBzdGFydFkgOiB5MF1cbiAgICAgICAgICAgICAgOiBNYXRoLmFicyhlbmRZIC0geTApIDwgZXBzaWxvbiAmJiBlbmRYIC0geDAgPiBlcHNpbG9uID8gW01hdGguYWJzKHN0YXJ0WSAtIHkwKSA8IGVwc2lsb24gPyBzdGFydFggOiB4MCwgeTBdXG4gICAgICAgICAgICAgIDogbnVsbCkpIC0gMSk7XG4gICAgICAgICAgKytuSGFsZmVkZ2VzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChuSGFsZmVkZ2VzKSBjb3ZlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIHRoZXJlIHdlcmVu4oCZdCBhbnkgZWRnZXMsIGhhdmUgdGhlIGNsb3Nlc3Qgc2l0ZSBjb3ZlciB0aGUgZXh0ZW50LlxuICAvLyBJdCBkb2VzbuKAmXQgbWF0dGVyIHdoaWNoIGNvcm5lciBvZiB0aGUgZXh0ZW50IHdlIG1lYXN1cmUhXG4gIGlmIChjb3Zlcikge1xuICAgIHZhciBkeCwgZHksIGQyLCBkYyA9IEluZmluaXR5O1xuXG4gICAgZm9yIChpQ2VsbCA9IDAsIGNvdmVyID0gbnVsbDsgaUNlbGwgPCBuQ2VsbHM7ICsraUNlbGwpIHtcbiAgICAgIGlmIChjZWxsID0gY2VsbHNbaUNlbGxdKSB7XG4gICAgICAgIHNpdGUgPSBjZWxsLnNpdGU7XG4gICAgICAgIGR4ID0gc2l0ZVswXSAtIHgwO1xuICAgICAgICBkeSA9IHNpdGVbMV0gLSB5MDtcbiAgICAgICAgZDIgPSBkeCAqIGR4ICsgZHkgKiBkeTtcbiAgICAgICAgaWYgKGQyIDwgZGMpIGRjID0gZDIsIGNvdmVyID0gY2VsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY292ZXIpIHtcbiAgICAgIHZhciB2MDAgPSBbeDAsIHkwXSwgdjAxID0gW3gwLCB5MV0sIHYxMSA9IFt4MSwgeTFdLCB2MTAgPSBbeDEsIHkwXTtcbiAgICAgIGNvdmVyLmhhbGZlZGdlcy5wdXNoKFxuICAgICAgICBlZGdlcy5wdXNoKGNyZWF0ZUJvcmRlckVkZ2Uoc2l0ZSA9IGNvdmVyLnNpdGUsIHYwMCwgdjAxKSkgLSAxLFxuICAgICAgICBlZGdlcy5wdXNoKGNyZWF0ZUJvcmRlckVkZ2Uoc2l0ZSwgdjAxLCB2MTEpKSAtIDEsXG4gICAgICAgIGVkZ2VzLnB1c2goY3JlYXRlQm9yZGVyRWRnZShzaXRlLCB2MTEsIHYxMCkpIC0gMSxcbiAgICAgICAgZWRnZXMucHVzaChjcmVhdGVCb3JkZXJFZGdlKHNpdGUsIHYxMCwgdjAwKSkgLSAxXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIExhc3RseSBkZWxldGUgYW55IGNlbGxzIHdpdGggbm8gZWRnZXM7IHRoZXNlIHdlcmUgZW50aXJlbHkgY2xpcHBlZC5cbiAgZm9yIChpQ2VsbCA9IDA7IGlDZWxsIDwgbkNlbGxzOyArK2lDZWxsKSB7XG4gICAgaWYgKGNlbGwgPSBjZWxsc1tpQ2VsbF0pIHtcbiAgICAgIGlmICghY2VsbC5oYWxmZWRnZXMubGVuZ3RoKSB7XG4gICAgICAgIGRlbGV0ZSBjZWxsc1tpQ2VsbF07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1JlZEJsYWNrTm9kZX0gZnJvbSBcIi4vUmVkQmxhY2tUcmVlXCI7XG5pbXBvcnQge2NpcmNsZXMsIGVwc2lsb24yfSBmcm9tIFwiLi9EaWFncmFtXCI7XG5cbnZhciBjaXJjbGVQb29sID0gW107XG5cbmV4cG9ydCB2YXIgZmlyc3RDaXJjbGU7XG5cbmZ1bmN0aW9uIENpcmNsZSgpIHtcbiAgUmVkQmxhY2tOb2RlKHRoaXMpO1xuICB0aGlzLnggPVxuICB0aGlzLnkgPVxuICB0aGlzLmFyYyA9XG4gIHRoaXMuc2l0ZSA9XG4gIHRoaXMuY3kgPSBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoQ2lyY2xlKGFyYykge1xuICB2YXIgbEFyYyA9IGFyYy5QLFxuICAgICAgckFyYyA9IGFyYy5OO1xuXG4gIGlmICghbEFyYyB8fCAhckFyYykgcmV0dXJuO1xuXG4gIHZhciBsU2l0ZSA9IGxBcmMuc2l0ZSxcbiAgICAgIGNTaXRlID0gYXJjLnNpdGUsXG4gICAgICByU2l0ZSA9IHJBcmMuc2l0ZTtcblxuICBpZiAobFNpdGUgPT09IHJTaXRlKSByZXR1cm47XG5cbiAgdmFyIGJ4ID0gY1NpdGVbMF0sXG4gICAgICBieSA9IGNTaXRlWzFdLFxuICAgICAgYXggPSBsU2l0ZVswXSAtIGJ4LFxuICAgICAgYXkgPSBsU2l0ZVsxXSAtIGJ5LFxuICAgICAgY3ggPSByU2l0ZVswXSAtIGJ4LFxuICAgICAgY3kgPSByU2l0ZVsxXSAtIGJ5O1xuXG4gIHZhciBkID0gMiAqIChheCAqIGN5IC0gYXkgKiBjeCk7XG4gIGlmIChkID49IC1lcHNpbG9uMikgcmV0dXJuO1xuXG4gIHZhciBoYSA9IGF4ICogYXggKyBheSAqIGF5LFxuICAgICAgaGMgPSBjeCAqIGN4ICsgY3kgKiBjeSxcbiAgICAgIHggPSAoY3kgKiBoYSAtIGF5ICogaGMpIC8gZCxcbiAgICAgIHkgPSAoYXggKiBoYyAtIGN4ICogaGEpIC8gZDtcblxuICB2YXIgY2lyY2xlID0gY2lyY2xlUG9vbC5wb3AoKSB8fCBuZXcgQ2lyY2xlO1xuICBjaXJjbGUuYXJjID0gYXJjO1xuICBjaXJjbGUuc2l0ZSA9IGNTaXRlO1xuICBjaXJjbGUueCA9IHggKyBieDtcbiAgY2lyY2xlLnkgPSAoY2lyY2xlLmN5ID0geSArIGJ5KSArIE1hdGguc3FydCh4ICogeCArIHkgKiB5KTsgLy8geSBib3R0b21cblxuICBhcmMuY2lyY2xlID0gY2lyY2xlO1xuXG4gIHZhciBiZWZvcmUgPSBudWxsLFxuICAgICAgbm9kZSA9IGNpcmNsZXMuXztcblxuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChjaXJjbGUueSA8IG5vZGUueSB8fCAoY2lyY2xlLnkgPT09IG5vZGUueSAmJiBjaXJjbGUueCA8PSBub2RlLngpKSB7XG4gICAgICBpZiAobm9kZS5MKSBub2RlID0gbm9kZS5MO1xuICAgICAgZWxzZSB7IGJlZm9yZSA9IG5vZGUuUDsgYnJlYWs7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5vZGUuUikgbm9kZSA9IG5vZGUuUjtcbiAgICAgIGVsc2UgeyBiZWZvcmUgPSBub2RlOyBicmVhazsgfVxuICAgIH1cbiAgfVxuXG4gIGNpcmNsZXMuaW5zZXJ0KGJlZm9yZSwgY2lyY2xlKTtcbiAgaWYgKCFiZWZvcmUpIGZpcnN0Q2lyY2xlID0gY2lyY2xlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGV0YWNoQ2lyY2xlKGFyYykge1xuICB2YXIgY2lyY2xlID0gYXJjLmNpcmNsZTtcbiAgaWYgKGNpcmNsZSkge1xuICAgIGlmICghY2lyY2xlLlApIGZpcnN0Q2lyY2xlID0gY2lyY2xlLk47XG4gICAgY2lyY2xlcy5yZW1vdmUoY2lyY2xlKTtcbiAgICBjaXJjbGVQb29sLnB1c2goY2lyY2xlKTtcbiAgICBSZWRCbGFja05vZGUoY2lyY2xlKTtcbiAgICBhcmMuY2lyY2xlID0gbnVsbDtcbiAgfVxufVxuIiwiaW1wb3J0IHtSZWRCbGFja05vZGV9IGZyb20gXCIuL1JlZEJsYWNrVHJlZVwiO1xuaW1wb3J0IHtjcmVhdGVDZWxsfSBmcm9tIFwiLi9DZWxsXCI7XG5pbXBvcnQge2F0dGFjaENpcmNsZSwgZGV0YWNoQ2lyY2xlfSBmcm9tIFwiLi9DaXJjbGVcIjtcbmltcG9ydCB7Y3JlYXRlRWRnZSwgc2V0RWRnZUVuZH0gZnJvbSBcIi4vRWRnZVwiO1xuaW1wb3J0IHtiZWFjaGVzLCBlcHNpbG9ufSBmcm9tIFwiLi9EaWFncmFtXCI7XG5cbnZhciBiZWFjaFBvb2wgPSBbXTtcblxuZnVuY3Rpb24gQmVhY2goKSB7XG4gIFJlZEJsYWNrTm9kZSh0aGlzKTtcbiAgdGhpcy5lZGdlID1cbiAgdGhpcy5zaXRlID1cbiAgdGhpcy5jaXJjbGUgPSBudWxsO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCZWFjaChzaXRlKSB7XG4gIHZhciBiZWFjaCA9IGJlYWNoUG9vbC5wb3AoKSB8fCBuZXcgQmVhY2g7XG4gIGJlYWNoLnNpdGUgPSBzaXRlO1xuICByZXR1cm4gYmVhY2g7XG59XG5cbmZ1bmN0aW9uIGRldGFjaEJlYWNoKGJlYWNoKSB7XG4gIGRldGFjaENpcmNsZShiZWFjaCk7XG4gIGJlYWNoZXMucmVtb3ZlKGJlYWNoKTtcbiAgYmVhY2hQb29sLnB1c2goYmVhY2gpO1xuICBSZWRCbGFja05vZGUoYmVhY2gpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQmVhY2goYmVhY2gpIHtcbiAgdmFyIGNpcmNsZSA9IGJlYWNoLmNpcmNsZSxcbiAgICAgIHggPSBjaXJjbGUueCxcbiAgICAgIHkgPSBjaXJjbGUuY3ksXG4gICAgICB2ZXJ0ZXggPSBbeCwgeV0sXG4gICAgICBwcmV2aW91cyA9IGJlYWNoLlAsXG4gICAgICBuZXh0ID0gYmVhY2guTixcbiAgICAgIGRpc2FwcGVhcmluZyA9IFtiZWFjaF07XG5cbiAgZGV0YWNoQmVhY2goYmVhY2gpO1xuXG4gIHZhciBsQXJjID0gcHJldmlvdXM7XG4gIHdoaWxlIChsQXJjLmNpcmNsZVxuICAgICAgJiYgTWF0aC5hYnMoeCAtIGxBcmMuY2lyY2xlLngpIDwgZXBzaWxvblxuICAgICAgJiYgTWF0aC5hYnMoeSAtIGxBcmMuY2lyY2xlLmN5KSA8IGVwc2lsb24pIHtcbiAgICBwcmV2aW91cyA9IGxBcmMuUDtcbiAgICBkaXNhcHBlYXJpbmcudW5zaGlmdChsQXJjKTtcbiAgICBkZXRhY2hCZWFjaChsQXJjKTtcbiAgICBsQXJjID0gcHJldmlvdXM7XG4gIH1cblxuICBkaXNhcHBlYXJpbmcudW5zaGlmdChsQXJjKTtcbiAgZGV0YWNoQ2lyY2xlKGxBcmMpO1xuXG4gIHZhciByQXJjID0gbmV4dDtcbiAgd2hpbGUgKHJBcmMuY2lyY2xlXG4gICAgICAmJiBNYXRoLmFicyh4IC0gckFyYy5jaXJjbGUueCkgPCBlcHNpbG9uXG4gICAgICAmJiBNYXRoLmFicyh5IC0gckFyYy5jaXJjbGUuY3kpIDwgZXBzaWxvbikge1xuICAgIG5leHQgPSByQXJjLk47XG4gICAgZGlzYXBwZWFyaW5nLnB1c2gockFyYyk7XG4gICAgZGV0YWNoQmVhY2gockFyYyk7XG4gICAgckFyYyA9IG5leHQ7XG4gIH1cblxuICBkaXNhcHBlYXJpbmcucHVzaChyQXJjKTtcbiAgZGV0YWNoQ2lyY2xlKHJBcmMpO1xuXG4gIHZhciBuQXJjcyA9IGRpc2FwcGVhcmluZy5sZW5ndGgsXG4gICAgICBpQXJjO1xuICBmb3IgKGlBcmMgPSAxOyBpQXJjIDwgbkFyY3M7ICsraUFyYykge1xuICAgIHJBcmMgPSBkaXNhcHBlYXJpbmdbaUFyY107XG4gICAgbEFyYyA9IGRpc2FwcGVhcmluZ1tpQXJjIC0gMV07XG4gICAgc2V0RWRnZUVuZChyQXJjLmVkZ2UsIGxBcmMuc2l0ZSwgckFyYy5zaXRlLCB2ZXJ0ZXgpO1xuICB9XG5cbiAgbEFyYyA9IGRpc2FwcGVhcmluZ1swXTtcbiAgckFyYyA9IGRpc2FwcGVhcmluZ1tuQXJjcyAtIDFdO1xuICByQXJjLmVkZ2UgPSBjcmVhdGVFZGdlKGxBcmMuc2l0ZSwgckFyYy5zaXRlLCBudWxsLCB2ZXJ0ZXgpO1xuXG4gIGF0dGFjaENpcmNsZShsQXJjKTtcbiAgYXR0YWNoQ2lyY2xlKHJBcmMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQmVhY2goc2l0ZSkge1xuICB2YXIgeCA9IHNpdGVbMF0sXG4gICAgICBkaXJlY3RyaXggPSBzaXRlWzFdLFxuICAgICAgbEFyYyxcbiAgICAgIHJBcmMsXG4gICAgICBkeGwsXG4gICAgICBkeHIsXG4gICAgICBub2RlID0gYmVhY2hlcy5fO1xuXG4gIHdoaWxlIChub2RlKSB7XG4gICAgZHhsID0gbGVmdEJyZWFrUG9pbnQobm9kZSwgZGlyZWN0cml4KSAtIHg7XG4gICAgaWYgKGR4bCA+IGVwc2lsb24pIG5vZGUgPSBub2RlLkw7IGVsc2Uge1xuICAgICAgZHhyID0geCAtIHJpZ2h0QnJlYWtQb2ludChub2RlLCBkaXJlY3RyaXgpO1xuICAgICAgaWYgKGR4ciA+IGVwc2lsb24pIHtcbiAgICAgICAgaWYgKCFub2RlLlIpIHtcbiAgICAgICAgICBsQXJjID0gbm9kZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5SO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGR4bCA+IC1lcHNpbG9uKSB7XG4gICAgICAgICAgbEFyYyA9IG5vZGUuUDtcbiAgICAgICAgICByQXJjID0gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmIChkeHIgPiAtZXBzaWxvbikge1xuICAgICAgICAgIGxBcmMgPSBub2RlO1xuICAgICAgICAgIHJBcmMgPSBub2RlLk47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbEFyYyA9IHJBcmMgPSBub2RlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUNlbGwoc2l0ZSk7XG4gIHZhciBuZXdBcmMgPSBjcmVhdGVCZWFjaChzaXRlKTtcbiAgYmVhY2hlcy5pbnNlcnQobEFyYywgbmV3QXJjKTtcblxuICBpZiAoIWxBcmMgJiYgIXJBcmMpIHJldHVybjtcblxuICBpZiAobEFyYyA9PT0gckFyYykge1xuICAgIGRldGFjaENpcmNsZShsQXJjKTtcbiAgICByQXJjID0gY3JlYXRlQmVhY2gobEFyYy5zaXRlKTtcbiAgICBiZWFjaGVzLmluc2VydChuZXdBcmMsIHJBcmMpO1xuICAgIG5ld0FyYy5lZGdlID0gckFyYy5lZGdlID0gY3JlYXRlRWRnZShsQXJjLnNpdGUsIG5ld0FyYy5zaXRlKTtcbiAgICBhdHRhY2hDaXJjbGUobEFyYyk7XG4gICAgYXR0YWNoQ2lyY2xlKHJBcmMpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghckFyYykgeyAvLyAmJiBsQXJjXG4gICAgbmV3QXJjLmVkZ2UgPSBjcmVhdGVFZGdlKGxBcmMuc2l0ZSwgbmV3QXJjLnNpdGUpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGVsc2UgbEFyYyAhPT0gckFyY1xuICBkZXRhY2hDaXJjbGUobEFyYyk7XG4gIGRldGFjaENpcmNsZShyQXJjKTtcblxuICB2YXIgbFNpdGUgPSBsQXJjLnNpdGUsXG4gICAgICBheCA9IGxTaXRlWzBdLFxuICAgICAgYXkgPSBsU2l0ZVsxXSxcbiAgICAgIGJ4ID0gc2l0ZVswXSAtIGF4LFxuICAgICAgYnkgPSBzaXRlWzFdIC0gYXksXG4gICAgICByU2l0ZSA9IHJBcmMuc2l0ZSxcbiAgICAgIGN4ID0gclNpdGVbMF0gLSBheCxcbiAgICAgIGN5ID0gclNpdGVbMV0gLSBheSxcbiAgICAgIGQgPSAyICogKGJ4ICogY3kgLSBieSAqIGN4KSxcbiAgICAgIGhiID0gYnggKiBieCArIGJ5ICogYnksXG4gICAgICBoYyA9IGN4ICogY3ggKyBjeSAqIGN5LFxuICAgICAgdmVydGV4ID0gWyhjeSAqIGhiIC0gYnkgKiBoYykgLyBkICsgYXgsIChieCAqIGhjIC0gY3ggKiBoYikgLyBkICsgYXldO1xuXG4gIHNldEVkZ2VFbmQockFyYy5lZGdlLCBsU2l0ZSwgclNpdGUsIHZlcnRleCk7XG4gIG5ld0FyYy5lZGdlID0gY3JlYXRlRWRnZShsU2l0ZSwgc2l0ZSwgbnVsbCwgdmVydGV4KTtcbiAgckFyYy5lZGdlID0gY3JlYXRlRWRnZShzaXRlLCByU2l0ZSwgbnVsbCwgdmVydGV4KTtcbiAgYXR0YWNoQ2lyY2xlKGxBcmMpO1xuICBhdHRhY2hDaXJjbGUockFyYyk7XG59XG5cbmZ1bmN0aW9uIGxlZnRCcmVha1BvaW50KGFyYywgZGlyZWN0cml4KSB7XG4gIHZhciBzaXRlID0gYXJjLnNpdGUsXG4gICAgICByZm9jeCA9IHNpdGVbMF0sXG4gICAgICByZm9jeSA9IHNpdGVbMV0sXG4gICAgICBwYnkyID0gcmZvY3kgLSBkaXJlY3RyaXg7XG5cbiAgaWYgKCFwYnkyKSByZXR1cm4gcmZvY3g7XG5cbiAgdmFyIGxBcmMgPSBhcmMuUDtcbiAgaWYgKCFsQXJjKSByZXR1cm4gLUluZmluaXR5O1xuXG4gIHNpdGUgPSBsQXJjLnNpdGU7XG4gIHZhciBsZm9jeCA9IHNpdGVbMF0sXG4gICAgICBsZm9jeSA9IHNpdGVbMV0sXG4gICAgICBwbGJ5MiA9IGxmb2N5IC0gZGlyZWN0cml4O1xuXG4gIGlmICghcGxieTIpIHJldHVybiBsZm9jeDtcblxuICB2YXIgaGwgPSBsZm9jeCAtIHJmb2N4LFxuICAgICAgYWJ5MiA9IDEgLyBwYnkyIC0gMSAvIHBsYnkyLFxuICAgICAgYiA9IGhsIC8gcGxieTI7XG5cbiAgaWYgKGFieTIpIHJldHVybiAoLWIgKyBNYXRoLnNxcnQoYiAqIGIgLSAyICogYWJ5MiAqIChobCAqIGhsIC8gKC0yICogcGxieTIpIC0gbGZvY3kgKyBwbGJ5MiAvIDIgKyByZm9jeSAtIHBieTIgLyAyKSkpIC8gYWJ5MiArIHJmb2N4O1xuXG4gIHJldHVybiAocmZvY3ggKyBsZm9jeCkgLyAyO1xufVxuXG5mdW5jdGlvbiByaWdodEJyZWFrUG9pbnQoYXJjLCBkaXJlY3RyaXgpIHtcbiAgdmFyIHJBcmMgPSBhcmMuTjtcbiAgaWYgKHJBcmMpIHJldHVybiBsZWZ0QnJlYWtQb2ludChyQXJjLCBkaXJlY3RyaXgpO1xuICB2YXIgc2l0ZSA9IGFyYy5zaXRlO1xuICByZXR1cm4gc2l0ZVsxXSA9PT0gZGlyZWN0cml4ID8gc2l0ZVswXSA6IEluZmluaXR5O1xufVxuIiwiaW1wb3J0IHthZGRCZWFjaCwgcmVtb3ZlQmVhY2h9IGZyb20gXCIuL0JlYWNoXCI7XG5pbXBvcnQge3NvcnRDZWxsSGFsZmVkZ2VzLCBjZWxsSGFsZmVkZ2VTdGFydCwgY2xpcENlbGxzfSBmcm9tIFwiLi9DZWxsXCI7XG5pbXBvcnQge2ZpcnN0Q2lyY2xlfSBmcm9tIFwiLi9DaXJjbGVcIjtcbmltcG9ydCB7Y2xpcEVkZ2VzfSBmcm9tIFwiLi9FZGdlXCI7XG5pbXBvcnQgUmVkQmxhY2tUcmVlIGZyb20gXCIuL1JlZEJsYWNrVHJlZVwiO1xuXG5leHBvcnQgdmFyIGVwc2lsb24gPSAxZS02O1xuZXhwb3J0IHZhciBlcHNpbG9uMiA9IDFlLTEyO1xuZXhwb3J0IHZhciBiZWFjaGVzO1xuZXhwb3J0IHZhciBjZWxscztcbmV4cG9ydCB2YXIgY2lyY2xlcztcbmV4cG9ydCB2YXIgZWRnZXM7XG5cbmZ1bmN0aW9uIHRyaWFuZ2xlQXJlYShhLCBiLCBjKSB7XG4gIHJldHVybiAoYVswXSAtIGNbMF0pICogKGJbMV0gLSBhWzFdKSAtIChhWzBdIC0gYlswXSkgKiAoY1sxXSAtIGFbMV0pO1xufVxuXG5mdW5jdGlvbiBsZXhpY29ncmFwaGljKGEsIGIpIHtcbiAgcmV0dXJuIGJbMV0gLSBhWzFdXG4gICAgICB8fCBiWzBdIC0gYVswXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGlhZ3JhbShzaXRlcywgZXh0ZW50KSB7XG4gIHZhciBzaXRlID0gc2l0ZXMuc29ydChsZXhpY29ncmFwaGljKS5wb3AoKSxcbiAgICAgIHgsXG4gICAgICB5LFxuICAgICAgY2lyY2xlO1xuXG4gIGVkZ2VzID0gW107XG4gIGNlbGxzID0gbmV3IEFycmF5KHNpdGVzLmxlbmd0aCk7XG4gIGJlYWNoZXMgPSBuZXcgUmVkQmxhY2tUcmVlO1xuICBjaXJjbGVzID0gbmV3IFJlZEJsYWNrVHJlZTtcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNpcmNsZSA9IGZpcnN0Q2lyY2xlO1xuICAgIGlmIChzaXRlICYmICghY2lyY2xlIHx8IHNpdGVbMV0gPCBjaXJjbGUueSB8fCAoc2l0ZVsxXSA9PT0gY2lyY2xlLnkgJiYgc2l0ZVswXSA8IGNpcmNsZS54KSkpIHtcbiAgICAgIGlmIChzaXRlWzBdICE9PSB4IHx8IHNpdGVbMV0gIT09IHkpIHtcbiAgICAgICAgYWRkQmVhY2goc2l0ZSk7XG4gICAgICAgIHggPSBzaXRlWzBdLCB5ID0gc2l0ZVsxXTtcbiAgICAgIH1cbiAgICAgIHNpdGUgPSBzaXRlcy5wb3AoKTtcbiAgICB9IGVsc2UgaWYgKGNpcmNsZSkge1xuICAgICAgcmVtb3ZlQmVhY2goY2lyY2xlLmFyYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHNvcnRDZWxsSGFsZmVkZ2VzKCk7XG5cbiAgaWYgKGV4dGVudCkge1xuICAgIHZhciB4MCA9ICtleHRlbnRbMF1bMF0sXG4gICAgICAgIHkwID0gK2V4dGVudFswXVsxXSxcbiAgICAgICAgeDEgPSArZXh0ZW50WzFdWzBdLFxuICAgICAgICB5MSA9ICtleHRlbnRbMV1bMV07XG4gICAgY2xpcEVkZ2VzKHgwLCB5MCwgeDEsIHkxKTtcbiAgICBjbGlwQ2VsbHMoeDAsIHkwLCB4MSwgeTEpO1xuICB9XG5cbiAgdGhpcy5lZGdlcyA9IGVkZ2VzO1xuICB0aGlzLmNlbGxzID0gY2VsbHM7XG5cbiAgYmVhY2hlcyA9XG4gIGNpcmNsZXMgPVxuICBlZGdlcyA9XG4gIGNlbGxzID0gbnVsbDtcbn1cblxuRGlhZ3JhbS5wcm90b3R5cGUgPSB7XG4gIGNvbnN0cnVjdG9yOiBEaWFncmFtLFxuXG4gIHBvbHlnb25zOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWRnZXMgPSB0aGlzLmVkZ2VzO1xuXG4gICAgcmV0dXJuIHRoaXMuY2VsbHMubWFwKGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgIHZhciBwb2x5Z29uID0gY2VsbC5oYWxmZWRnZXMubWFwKGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGNlbGxIYWxmZWRnZVN0YXJ0KGNlbGwsIGVkZ2VzW2ldKTsgfSk7XG4gICAgICBwb2x5Z29uLmRhdGEgPSBjZWxsLnNpdGUuZGF0YTtcbiAgICAgIHJldHVybiBwb2x5Z29uO1xuICAgIH0pO1xuICB9LFxuXG4gIHRyaWFuZ2xlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRyaWFuZ2xlcyA9IFtdLFxuICAgICAgICBlZGdlcyA9IHRoaXMuZWRnZXM7XG5cbiAgICB0aGlzLmNlbGxzLmZvckVhY2goZnVuY3Rpb24oY2VsbCwgaSkge1xuICAgICAgaWYgKCEobSA9IChoYWxmZWRnZXMgPSBjZWxsLmhhbGZlZGdlcykubGVuZ3RoKSkgcmV0dXJuO1xuICAgICAgdmFyIHNpdGUgPSBjZWxsLnNpdGUsXG4gICAgICAgICAgaGFsZmVkZ2VzLFxuICAgICAgICAgIGogPSAtMSxcbiAgICAgICAgICBtLFxuICAgICAgICAgIHMwLFxuICAgICAgICAgIGUxID0gZWRnZXNbaGFsZmVkZ2VzW20gLSAxXV0sXG4gICAgICAgICAgczEgPSBlMS5sZWZ0ID09PSBzaXRlID8gZTEucmlnaHQgOiBlMS5sZWZ0O1xuXG4gICAgICB3aGlsZSAoKytqIDwgbSkge1xuICAgICAgICBzMCA9IHMxO1xuICAgICAgICBlMSA9IGVkZ2VzW2hhbGZlZGdlc1tqXV07XG4gICAgICAgIHMxID0gZTEubGVmdCA9PT0gc2l0ZSA/IGUxLnJpZ2h0IDogZTEubGVmdDtcbiAgICAgICAgaWYgKHMwICYmIHMxICYmIGkgPCBzMC5pbmRleCAmJiBpIDwgczEuaW5kZXggJiYgdHJpYW5nbGVBcmVhKHNpdGUsIHMwLCBzMSkgPCAwKSB7XG4gICAgICAgICAgdHJpYW5nbGVzLnB1c2goW3NpdGUuZGF0YSwgczAuZGF0YSwgczEuZGF0YV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdHJpYW5nbGVzO1xuICB9LFxuXG4gIGxpbmtzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5lZGdlcy5maWx0ZXIoZnVuY3Rpb24oZWRnZSkge1xuICAgICAgcmV0dXJuIGVkZ2UucmlnaHQ7XG4gICAgfSkubWFwKGZ1bmN0aW9uKGVkZ2UpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNvdXJjZTogZWRnZS5sZWZ0LmRhdGEsXG4gICAgICAgIHRhcmdldDogZWRnZS5yaWdodC5kYXRhXG4gICAgICB9O1xuICAgIH0pO1xuICB9LFxuXG4gIGZpbmQ6IGZ1bmN0aW9uKHgsIHksIHJhZGl1cykge1xuICAgIHZhciB0aGF0ID0gdGhpcywgaTAsIGkxID0gdGhhdC5fZm91bmQgfHwgMCwgbiA9IHRoYXQuY2VsbHMubGVuZ3RoLCBjZWxsO1xuXG4gICAgLy8gVXNlIHRoZSBwcmV2aW91c2x5LWZvdW5kIGNlbGwsIG9yIHN0YXJ0IHdpdGggYW4gYXJiaXRyYXJ5IG9uZS5cbiAgICB3aGlsZSAoIShjZWxsID0gdGhhdC5jZWxsc1tpMV0pKSBpZiAoKytpMSA+PSBuKSByZXR1cm4gbnVsbDtcbiAgICB2YXIgZHggPSB4IC0gY2VsbC5zaXRlWzBdLCBkeSA9IHkgLSBjZWxsLnNpdGVbMV0sIGQyID0gZHggKiBkeCArIGR5ICogZHk7XG5cbiAgICAvLyBUcmF2ZXJzZSB0aGUgaGFsZi1lZGdlcyB0byBmaW5kIGEgY2xvc2VyIGNlbGwsIGlmIGFueS5cbiAgICBkbyB7XG4gICAgICBjZWxsID0gdGhhdC5jZWxsc1tpMCA9IGkxXSwgaTEgPSBudWxsO1xuICAgICAgY2VsbC5oYWxmZWRnZXMuZm9yRWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBlZGdlID0gdGhhdC5lZGdlc1tlXSwgdiA9IGVkZ2UubGVmdDtcbiAgICAgICAgaWYgKCh2ID09PSBjZWxsLnNpdGUgfHwgIXYpICYmICEodiA9IGVkZ2UucmlnaHQpKSByZXR1cm47XG4gICAgICAgIHZhciB2eCA9IHggLSB2WzBdLCB2eSA9IHkgLSB2WzFdLCB2MiA9IHZ4ICogdnggKyB2eSAqIHZ5O1xuICAgICAgICBpZiAodjIgPCBkMikgZDIgPSB2MiwgaTEgPSB2LmluZGV4O1xuICAgICAgfSk7XG4gICAgfSB3aGlsZSAoaTEgIT09IG51bGwpO1xuXG4gICAgdGhhdC5fZm91bmQgPSBpMDtcblxuICAgIHJldHVybiByYWRpdXMgPT0gbnVsbCB8fCBkMiA8PSByYWRpdXMgKiByYWRpdXMgPyBjZWxsLnNpdGUgOiBudWxsO1xuICB9XG59XG4iLCJ2YXIgcmhvID0gTWF0aC5TUVJUMixcbiAgICByaG8yID0gMixcbiAgICByaG80ID0gNCxcbiAgICBlcHNpbG9uMiA9IDFlLTEyO1xuXG5mdW5jdGlvbiBjb3NoKHgpIHtcbiAgcmV0dXJuICgoeCA9IE1hdGguZXhwKHgpKSArIDEgLyB4KSAvIDI7XG59XG5cbmZ1bmN0aW9uIHNpbmgoeCkge1xuICByZXR1cm4gKCh4ID0gTWF0aC5leHAoeCkpIC0gMSAvIHgpIC8gMjtcbn1cblxuZnVuY3Rpb24gdGFuaCh4KSB7XG4gIHJldHVybiAoKHggPSBNYXRoLmV4cCgyICogeCkpIC0gMSkgLyAoeCArIDEpO1xufVxuXG4vLyBwMCA9IFt1eDAsIHV5MCwgdzBdXG4vLyBwMSA9IFt1eDEsIHV5MSwgdzFdXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihwMCwgcDEpIHtcbiAgdmFyIHV4MCA9IHAwWzBdLCB1eTAgPSBwMFsxXSwgdzAgPSBwMFsyXSxcbiAgICAgIHV4MSA9IHAxWzBdLCB1eTEgPSBwMVsxXSwgdzEgPSBwMVsyXSxcbiAgICAgIGR4ID0gdXgxIC0gdXgwLFxuICAgICAgZHkgPSB1eTEgLSB1eTAsXG4gICAgICBkMiA9IGR4ICogZHggKyBkeSAqIGR5LFxuICAgICAgaSxcbiAgICAgIFM7XG5cbiAgLy8gU3BlY2lhbCBjYXNlIGZvciB1MCDiiYUgdTEuXG4gIGlmIChkMiA8IGVwc2lsb24yKSB7XG4gICAgUyA9IE1hdGgubG9nKHcxIC8gdzApIC8gcmhvO1xuICAgIGkgPSBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB1eDAgKyB0ICogZHgsXG4gICAgICAgIHV5MCArIHQgKiBkeSxcbiAgICAgICAgdzAgKiBNYXRoLmV4cChyaG8gKiB0ICogUylcbiAgICAgIF07XG4gICAgfVxuICB9XG5cbiAgLy8gR2VuZXJhbCBjYXNlLlxuICBlbHNlIHtcbiAgICB2YXIgZDEgPSBNYXRoLnNxcnQoZDIpLFxuICAgICAgICBiMCA9ICh3MSAqIHcxIC0gdzAgKiB3MCArIHJobzQgKiBkMikgLyAoMiAqIHcwICogcmhvMiAqIGQxKSxcbiAgICAgICAgYjEgPSAodzEgKiB3MSAtIHcwICogdzAgLSByaG80ICogZDIpIC8gKDIgKiB3MSAqIHJobzIgKiBkMSksXG4gICAgICAgIHIwID0gTWF0aC5sb2coTWF0aC5zcXJ0KGIwICogYjAgKyAxKSAtIGIwKSxcbiAgICAgICAgcjEgPSBNYXRoLmxvZyhNYXRoLnNxcnQoYjEgKiBiMSArIDEpIC0gYjEpO1xuICAgIFMgPSAocjEgLSByMCkgLyByaG87XG4gICAgaSA9IGZ1bmN0aW9uKHQpIHtcbiAgICAgIHZhciBzID0gdCAqIFMsXG4gICAgICAgICAgY29zaHIwID0gY29zaChyMCksXG4gICAgICAgICAgdSA9IHcwIC8gKHJobzIgKiBkMSkgKiAoY29zaHIwICogdGFuaChyaG8gKiBzICsgcjApIC0gc2luaChyMCkpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgdXgwICsgdSAqIGR4LFxuICAgICAgICB1eTAgKyB1ICogZHksXG4gICAgICAgIHcwICogY29zaHIwIC8gY29zaChyaG8gKiBzICsgcjApXG4gICAgICBdO1xuICAgIH1cbiAgfVxuXG4gIGkuZHVyYXRpb24gPSBTICogMTAwMDtcblxuICByZXR1cm4gaTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBUcmFuc2Zvcm0oaywgeCwgeSkge1xuICB0aGlzLmsgPSBrO1xuICB0aGlzLnggPSB4O1xuICB0aGlzLnkgPSB5O1xufVxuXG5UcmFuc2Zvcm0ucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogVHJhbnNmb3JtLFxuICBzY2FsZTogZnVuY3Rpb24oaykge1xuICAgIHJldHVybiBrID09PSAxID8gdGhpcyA6IG5ldyBUcmFuc2Zvcm0odGhpcy5rICogaywgdGhpcy54LCB0aGlzLnkpO1xuICB9LFxuICB0cmFuc2xhdGU6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICByZXR1cm4geCA9PT0gMCAmIHkgPT09IDAgPyB0aGlzIDogbmV3IFRyYW5zZm9ybSh0aGlzLmssIHRoaXMueCArIHRoaXMuayAqIHgsIHRoaXMueSArIHRoaXMuayAqIHkpO1xuICB9LFxuICBhcHBseTogZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gW3BvaW50WzBdICogdGhpcy5rICsgdGhpcy54LCBwb2ludFsxXSAqIHRoaXMuayArIHRoaXMueV07XG4gIH0sXG4gIGFwcGx5WDogZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB4ICogdGhpcy5rICsgdGhpcy54O1xuICB9LFxuICBhcHBseVk6IGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4geSAqIHRoaXMuayArIHRoaXMueTtcbiAgfSxcbiAgaW52ZXJ0OiBmdW5jdGlvbihsb2NhdGlvbikge1xuICAgIHJldHVybiBbKGxvY2F0aW9uWzBdIC0gdGhpcy54KSAvIHRoaXMuaywgKGxvY2F0aW9uWzFdIC0gdGhpcy55KSAvIHRoaXMua107XG4gIH0sXG4gIGludmVydFg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKHggLSB0aGlzLngpIC8gdGhpcy5rO1xuICB9LFxuICBpbnZlcnRZOiBmdW5jdGlvbih5KSB7XG4gICAgcmV0dXJuICh5IC0gdGhpcy55KSAvIHRoaXMuaztcbiAgfSxcbiAgcmVzY2FsZVg6IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geC5jb3B5KCkuZG9tYWluKHgucmFuZ2UoKS5tYXAodGhpcy5pbnZlcnRYLCB0aGlzKS5tYXAoeC5pbnZlcnQsIHgpKTtcbiAgfSxcbiAgcmVzY2FsZVk6IGZ1bmN0aW9uKHkpIHtcbiAgICByZXR1cm4geS5jb3B5KCkuZG9tYWluKHkucmFuZ2UoKS5tYXAodGhpcy5pbnZlcnRZLCB0aGlzKS5tYXAoeS5pbnZlcnQsIHkpKTtcbiAgfSxcbiAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRoaXMueCArIFwiLFwiICsgdGhpcy55ICsgXCIpIHNjYWxlKFwiICsgdGhpcy5rICsgXCIpXCI7XG4gIH1cbn07XG5cbmV4cG9ydCB2YXIgaWRlbnRpdHkgPSBuZXcgVHJhbnNmb3JtKDEsIDAsIDApO1xuXG50cmFuc2Zvcm0ucHJvdG90eXBlID0gVHJhbnNmb3JtLnByb3RvdHlwZTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtKG5vZGUpIHtcbiAgd2hpbGUgKCFub2RlLl9fem9vbSkgaWYgKCEobm9kZSA9IG5vZGUucGFyZW50Tm9kZSkpIHJldHVybiBpZGVudGl0eTtcbiAgcmV0dXJuIG5vZGUuX196b29tO1xufVxuIiwiaW1wb3J0ICogYXMgZDMgZnJvbSBcIi4uLy4uL0xTR19BRF9BUFAvbm9kZV9tb2R1bGVzL2QzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gICAgTGl0RWxlbWVudCwgaHRtbCwgY3VzdG9tRWxlbWVudCwgcHJvcGVydHlcclxufSBmcm9tICcuLi8uLi9MU0dfQVBQL25vZGVfbW9kdWxlcy9AcG9seW1lci9saXQtZWxlbWVudCc7XHJcblxyXG5jbGFzcyBMU0dQaWUgZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHJcbiAgICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFRoZSBtYXhpbXVtIHJhZGl1cyBudW1iZXIgZm9yIGFueSBraW5kIG9mIGVsZW1lbnQgKHVzZWQgYnkgdGhlIGNvbGxpZGVcclxuICAgICAgICAgICAgICogc3lzdGVtKS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRhdGFQb2ludHM6IHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IEFycmF5XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1heFJhZGl1czoge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlOiBcImFuZ2xlXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmZpcnN0dGltZSA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuZGVncmVlcyA9IDEwXHJcbiAgICAgICAgdGhpcy5OUl9FTEVNRU5UUyA9IDM2MCAvIHRoaXMuZGVncmVlcztcclxuICAgICAgICB0aGlzLmRhdGFGb3JDb2xlcmluZyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kYXRhU2l6ZUVsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDbGljayA9IHRoaXMuX2hhbmRsZUNsaWNrLmJpbmQodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdGFrZXMgc3R5bGVzIGZyb20gcm9vdFxyXG4gICAgY3JlYXRlUmVuZGVyUm9vdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmlyc3R0aW1lID09PSAwKSBcclxuICAgICAgICB7XHJcbiAgICAgICAgICAvLyAgdmFyIGVsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiVEVTVFwiKVxyXG4gICAgICAgICAgLy8gIGVsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZSk7XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy5kb1VwZGF0ZSh0aGlzLmRhdGFQb2ludHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaHRtbGBcclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGBcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcclxuICAgIC8vICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwid2lkdGggPSBcIiArIHRoaXMuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTtcclxuICAgIC8vICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7XHJcbiAgICAvLyAgIH1cclxuICAgIC8vICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XHJcbiAgICAvLyAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xyXG4gICAgLy8gICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XHJcbiAgICAvLyAgIH1cclxuXHJcbiAgICAvLyByZXNpemUoKVxyXG4gICAgLy8ge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwicmVzaXplXCIpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGZpcnN0VXBkYXRlZChjaGFuZ2VkUHJvcGVydGllcykge1xyXG4gICAgICAgIHRoaXMuZmlyc3R0aW1lID0gMDtcclxuXHJcbiAgICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdChcImRpdlwiKS5hcHBlbmQoXCJzdmdcIilcclxuICAgICAgICAvLyAgIC5hdHRyKFwid2lkdGhcIiwgNjAwKVxyXG4gICAgICAgIC8vICAgLmF0dHIoXCJoZWlnaHRcIiwgNDAwKVxyXG4gICAgICAgICAgICAuYXR0cihcImlkXCIsXCJURVNUXCIpO1xyXG5cclxuICAgICAgICBzdmdcclxuICAgICAgICAgICAgLmNsYXNzZWQoXCJzdmctY29udGFpbmVyXCIsIHRydWUpXHJcbiAgICAgICAgICAgLy8gLmF0dHIoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwieE1pbllNaW4gbWVldFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInZpZXdCb3hcIiwgXCIwIDAgMjIwIDIyMFwiKVxyXG4gICAgICAgICAgICAvLyBDbGFzcyB0byBtYWtlIGl0IHJlc3BvbnNpdmUuXHJcbiAgICAgICAgICAgIC5jbGFzc2VkKFwic3ZnLWNvbnRlbnQtcmVzcG9uc2l2ZVwiLCB0cnVlKTtcclxuICAgICAgICB2YXIgd2lkdGggPSAyMDBcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gd2lkdGggLy8rc3ZnLmF0dHIoXCJoZWlnaHRcIilcclxuICAgICAgICB2YXIgcmFkaXVzID0gTWF0aC5taW4od2lkdGggLSAyNSwgaGVpZ2h0IC0gMjUpIC8gMjtcclxuICAgICAgICB2YXIgZm9udFNpemUgPSAod2lkdGgvMjApLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdmFyIGcgPSBzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgd2lkdGggLyAyICsgXCIsXCIgKyBoZWlnaHQgLyAyICsgXCIpXCIpO1xyXG5cclxuICAgICAgICB2YXIgZGF0YUZvckNvbGVyaW5nID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLk5SX0VMRU1FTlRTOyBpKyspIHtcclxuICAgICAgICAgICAgZGF0YUZvckNvbGVyaW5nLnB1c2goaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vRGVmaW5lIHF1YW50aXplIHNjYWxlIHRvIHNvcnQgZGF0YSB2YWx1ZXMgaW50byBidWNrZXRzIG9mIGNvbG9yXHJcbiAgICAgICAgdmFyIGNvbG9yID0gZDMuc2NhbGVRdWFudGl6ZSgpXHJcbiAgICAgICAgICAgIC5yYW5nZShbXCIjZmZmNWYwXCIsIFwiI2ZmZjRlZlwiLCBcIiNmZmY0ZWVcIiwgXCIjZmZmM2VkXCIsIFwiI2ZmZjJlY1wiLCBcIiNmZmYyZWJcIiwgXCIjZmZmMWVhXCIsIFwiI2ZmZjBlOVwiLCBcIiNmZmYwZThcIiwgXCIjZmZlZmU3XCIsIFwiI2ZmZWVlNlwiLCBcIiNmZmVlZTZcIiwgXCIjZmZlZGU1XCIsIFwiI2ZmZWNlNFwiLCBcIiNmZmVjZTNcIiwgXCIjZmZlYmUyXCIsIFwiI2ZlZWFlMVwiLCBcIiNmZWU5ZTBcIiwgXCIjZmVlOWRlXCIsIFwiI2ZlZThkZFwiLCBcIiNmZWU3ZGNcIiwgXCIjZmVlNmRiXCIsIFwiI2ZlZTZkYVwiLCBcIiNmZWU1ZDlcIiwgXCIjZmVlNGQ4XCIsIFwiI2ZlZTNkN1wiLCBcIiNmZWUyZDZcIiwgXCIjZmVlMmQ1XCIsIFwiI2ZlZTFkNFwiLCBcIiNmZWUwZDJcIiwgXCIjZmVkZmQxXCIsIFwiI2ZlZGVkMFwiLCBcIiNmZWRkY2ZcIiwgXCIjZmVkY2NkXCIsIFwiI2ZlZGJjY1wiLCBcIiNmZWRhY2JcIiwgXCIjZmVkOWNhXCIsIFwiI2ZlZDhjOFwiLCBcIiNmZWQ3YzdcIiwgXCIjZmRkNmM2XCIsIFwiI2ZkZDVjNFwiLCBcIiNmZGQ0YzNcIiwgXCIjZmRkM2MxXCIsIFwiI2ZkZDJjMFwiLCBcIiNmZGQxYmZcIiwgXCIjZmRkMGJkXCIsIFwiI2ZkY2ZiY1wiLCBcIiNmZGNlYmFcIiwgXCIjZmRjZGI5XCIsIFwiI2ZkY2NiN1wiLCBcIiNmZGNiYjZcIiwgXCIjZmRjOWI0XCIsIFwiI2ZkYzhiM1wiLCBcIiNmZGM3YjJcIiwgXCIjZmRjNmIwXCIsIFwiI2ZkYzVhZlwiLCBcIiNmZGM0YWRcIiwgXCIjZmRjMmFjXCIsIFwiI2ZkYzFhYVwiLCBcIiNmZGMwYThcIiwgXCIjZmNiZmE3XCIsIFwiI2ZjYmVhNVwiLCBcIiNmY2JjYTRcIiwgXCIjZmNiYmEyXCIsIFwiI2ZjYmFhMVwiLCBcIiNmY2I5OWZcIiwgXCIjZmNiODllXCIsIFwiI2ZjYjY5Y1wiLCBcIiNmY2I1OWJcIiwgXCIjZmNiNDk5XCIsIFwiI2ZjYjM5OFwiLCBcIiNmY2IxOTZcIiwgXCIjZmNiMDk1XCIsIFwiI2ZjYWY5NFwiLCBcIiNmY2FlOTJcIiwgXCIjZmNhYzkxXCIsIFwiI2ZjYWI4ZlwiLCBcIiNmY2FhOGVcIiwgXCIjZmNhOThjXCIsIFwiI2ZjYTc4YlwiLCBcIiNmY2E2ODlcIiwgXCIjZmNhNTg4XCIsIFwiI2ZjYTQ4NlwiLCBcIiNmY2EyODVcIiwgXCIjZmNhMTgzXCIsIFwiI2ZjYTA4MlwiLCBcIiNmYzllODFcIiwgXCIjZmM5ZDdmXCIsIFwiI2ZjOWM3ZVwiLCBcIiNmYzliN2NcIiwgXCIjZmM5OTdiXCIsIFwiI2ZjOTg3YVwiLCBcIiNmYzk3NzhcIiwgXCIjZmM5Njc3XCIsIFwiI2ZjOTQ3NVwiLCBcIiNmYzkzNzRcIiwgXCIjZmM5MjczXCIsIFwiI2ZjOTA3MVwiLCBcIiNmYzhmNzBcIiwgXCIjZmM4ZTZmXCIsIFwiI2ZjOGQ2ZFwiLCBcIiNmYzhiNmNcIiwgXCIjZmM4YTZiXCIsIFwiI2ZjODk2OVwiLCBcIiNmYzg4NjhcIiwgXCIjZmM4NjY3XCIsIFwiI2ZjODU2NVwiLCBcIiNmYzg0NjRcIiwgXCIjZmI4MjYzXCIsIFwiI2ZiODE2MlwiLCBcIiNmYjgwNjBcIiwgXCIjZmI3ZjVmXCIsIFwiI2ZiN2Q1ZVwiLCBcIiNmYjdjNWRcIiwgXCIjZmI3YjViXCIsIFwiI2ZiNzk1YVwiLCBcIiNmYjc4NTlcIiwgXCIjZmI3NzU4XCIsIFwiI2ZiNzY1N1wiLCBcIiNmYjc0NTVcIiwgXCIjZmE3MzU0XCIsIFwiI2ZhNzI1M1wiLCBcIiNmYTcwNTJcIiwgXCIjZmE2ZjUxXCIsIFwiI2ZhNmU1MFwiLCBcIiNmYTZjNGVcIiwgXCIjZjk2YjRkXCIsIFwiI2Y5NmE0Y1wiLCBcIiNmOTY4NGJcIiwgXCIjZjk2NzRhXCIsIFwiI2Y5NjU0OVwiLCBcIiNmODY0NDhcIiwgXCIjZjg2MzQ3XCIsIFwiI2Y4NjE0NlwiLCBcIiNmODYwNDVcIiwgXCIjZjc1ZTQ0XCIsIFwiI2Y3NWQ0M1wiLCBcIiNmNzVjNDJcIiwgXCIjZjY1YTQxXCIsIFwiI2Y2NTk0MFwiLCBcIiNmNjU3M2ZcIiwgXCIjZjU1NjNlXCIsIFwiI2Y1NTUzZFwiLCBcIiNmNDUzM2NcIiwgXCIjZjQ1MjNiXCIsIFwiI2Y0NTAzYVwiLCBcIiNmMzRmMzlcIiwgXCIjZjM0ZTM4XCIsIFwiI2YyNGMzN1wiLCBcIiNmMjRiMzdcIiwgXCIjZjE0OTM2XCIsIFwiI2YxNDgzNVwiLCBcIiNmMDQ3MzRcIiwgXCIjZWY0NTMzXCIsIFwiI2VmNDQzM1wiLCBcIiNlZTQzMzJcIiwgXCIjZWQ0MTMxXCIsIFwiI2VkNDAzMFwiLCBcIiNlYzNmMmZcIiwgXCIjZWIzZDJmXCIsIFwiI2ViM2MyZVwiLCBcIiNlYTNiMmRcIiwgXCIjZTkzYTJkXCIsIFwiI2U4MzgyY1wiLCBcIiNlNzM3MmJcIiwgXCIjZTYzNjJiXCIsIFwiI2U2MzUyYVwiLCBcIiNlNTM0MmFcIiwgXCIjZTQzMjI5XCIsIFwiI2UzMzEyOFwiLCBcIiNlMjMwMjhcIiwgXCIjZTEyZjI3XCIsIFwiI2UwMmUyN1wiLCBcIiNkZjJkMjZcIiwgXCIjZGUyYzI2XCIsIFwiI2RkMmIyNVwiLCBcIiNkYzJhMjVcIiwgXCIjZGIyOTI0XCIsIFwiI2RhMjgyNFwiLCBcIiNkOTI3MjNcIiwgXCIjZDcyNjIzXCIsIFwiI2Q2MjUyMlwiLCBcIiNkNTI0MjJcIiwgXCIjZDQyMzIxXCIsIFwiI2QzMjIyMVwiLCBcIiNkMjIxMjFcIiwgXCIjZDEyMDIwXCIsIFwiI2QwMWYyMFwiLCBcIiNjZTFmMWZcIiwgXCIjY2QxZTFmXCIsIFwiI2NjMWQxZlwiLCBcIiNjYjFkMWVcIiwgXCIjY2ExYzFlXCIsIFwiI2M5MWIxZVwiLCBcIiNjNzFiMWRcIiwgXCIjYzYxYTFkXCIsIFwiI2M1MTkxZFwiLCBcIiNjNDE5MWNcIiwgXCIjYzMxODFjXCIsIFwiI2MyMTgxY1wiLCBcIiNjMDE3MWJcIiwgXCIjYmYxNzFiXCIsIFwiI2JlMTYxYlwiLCBcIiNiZDE2MWFcIiwgXCIjYmIxNTFhXCIsIFwiI2JhMTUxYVwiLCBcIiNiOTE0MTlcIiwgXCIjYjgxNDE5XCIsIFwiI2I2MTQxOVwiLCBcIiNiNTEzMTlcIiwgXCIjYjQxMzE4XCIsIFwiI2IyMTIxOFwiLCBcIiNiMTEyMThcIiwgXCIjYjAxMjE4XCIsIFwiI2FlMTExN1wiLCBcIiNhZDExMTdcIiwgXCIjYWMxMTE3XCIsIFwiI2FhMTAxN1wiLCBcIiNhOTEwMTZcIiwgXCIjYTcxMDE2XCIsIFwiI2E2MGYxNlwiLCBcIiNhNDBmMTZcIiwgXCIjYTMwZTE1XCIsIFwiI2ExMGUxNVwiLCBcIiNhMDBlMTVcIiwgXCIjOWUwZDE1XCIsIFwiIzljMGQxNFwiLCBcIiM5YjBjMTRcIiwgXCIjOTkwYzE0XCIsIFwiIzk3MGMxNFwiLCBcIiM5NjBiMTNcIiwgXCIjOTQwYjEzXCIsIFwiIzkyMGExM1wiLCBcIiM5MDBhMTNcIiwgXCIjOGYwYTEyXCIsIFwiIzhkMDkxMlwiLCBcIiM4YjA5MTJcIiwgXCIjODkwODEyXCIsIFwiIzg3MDgxMVwiLCBcIiM4NjA3MTFcIiwgXCIjODQwNzExXCIsIFwiIzgyMDcxMVwiLCBcIiM4MDA2MTBcIiwgXCIjN2UwNjEwXCIsIFwiIzdjMDUxMFwiLCBcIiM3YTA1MTBcIiwgXCIjNzgwNDBmXCIsIFwiIzc2MDQwZlwiLCBcIiM3NTAzMGZcIiwgXCIjNzMwMzBmXCIsIFwiIzcxMDIwZVwiLCBcIiM2ZjAyMGVcIiwgXCIjNmQwMTBlXCIsIFwiIzZiMDEwZVwiLCBcIiM2OTAwMGRcIiwgXCIjNjcwMDBkXCJdXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgLy9Db2xvcnMgZGVyaXZlZCBmcm9tIENvbG9yQnJld2VyLCBieSBDeW50aGlhIEJyZXdlciwgYW5kIGluY2x1ZGVkIGluXHJcbiAgICAgICAgLy9odHRwczovL2dpdGh1Yi5jb20vZDMvZDMtc2NhbGUtY2hyb21hdGljXHJcblxyXG4gICAgICAgIGNvbG9yLmRvbWFpbihbXHJcbiAgICAgICAgICAgIGQzLm1pbihkYXRhRm9yQ29sZXJpbmcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkOyB9KSxcclxuICAgICAgICAgICAgZDMubWF4KGRhdGFGb3JDb2xlcmluZywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQ7IH0pXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIHZhciBkYXRhU2l6ZUVsZW1lbnRzID0gQXJyYXkodGhpcy5OUl9FTEVNRU5UUykuZmlsbCh0aGlzLmRlZ3JlZXMpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHBpZSA9IGQzLnBpZSgpXHJcbiAgICAgICAgICAgIC5zb3J0KG51bGwpXHJcbiAgICAgICAgICAgIC52YWx1ZShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSk7XHJcblxyXG4gICAgICAgIHZhciBwYXRoID0gZDMuYXJjKClcclxuICAgICAgICAgICAgLm91dGVyUmFkaXVzKHJhZGl1cyAtIDEwKVxyXG4gICAgICAgICAgICAuaW5uZXJSYWRpdXMocmFkaXVzIC0gaGVpZ2h0LzQpO1xyXG5cclxuICAgICAgICAvLyBmb3IgbGFiZWxzIG9uIGEgY2lyY2VsIGFyb3VuZCB0aGUgZG9udXQgY2hhcnRcclxuICAgICAgICB2YXIgbGFiZWwgPSBkMy5hcmMoKVxyXG4gICAgICAgICAgICAub3V0ZXJSYWRpdXMocmFkaXVzKVxyXG4gICAgICAgICAgICAuaW5uZXJSYWRpdXMocmFkaXVzKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGxhYmVsKVxyXG5cclxuXHJcbiAgICAgICAgdmFyIHBhdGhEYXRhID0gbGFiZWwoe1xyXG4gICAgICAgICAgICBzdGFydEFuZ2xlOiAwLC8vLTEuMjUgKiBNYXRoLlBJLFxyXG4gICAgICAgICAgICBlbmRBbmdsZTogMiAqIE1hdGguUElcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2cocGF0aERhdGEpXHJcblxyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJ3YXZ5XCIpIC8vIHVuaXF1ZSBpZCBvZiBwYXRoXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBwYXRoRGF0YSlcclxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiIzBBQUFBQVwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2Utb3BhY2l0eVwiLCAwLjApXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgd2lkdGggLyAyICsgXCIsXCIgKyBoZWlnaHQgLyAyICsgXCIpXCIpO1xyXG4gICAgICAgIC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKC05MClcIik7XHJcblxyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0UGF0aFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInhsaW5rOmhyZWZcIiwgXCIjd2F2eVwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInN0YXJ0T2Zmc2V0XCIsIFwiMTIuNSVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJmb250LXNpemVcIixmb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoXCJ6aWpsaWdnaW5nIHJlY2h0c1wiKVxyXG5cclxuICAgICAgICBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI3dhdnlcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdGFydE9mZnNldFwiLCBcIjM3LjUlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiemlqbGlnZ2luZyBsaW5rc1wiKVxyXG5cclxuICAgICAgICBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI3dhdnlcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdGFydE9mZnNldFwiLCBcIjM3LjUlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KFwiemlqbGlnZ2luZyBsaW5rc1wiKVxyXG5cclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmFwcGVuZChcInRleHRQYXRoXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieGxpbms6aHJlZlwiLCBcIiN3YXZ5XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwicmlnaHRcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdGFydE9mZnNldFwiLCBcIjQ4LjUlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZm9udC1zaXplXCIsZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KFwicnVnIFwiKVxyXG5cclxuICAgICAgICBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI3dhdnlcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJsZWZ0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3RhcnRPZmZzZXRcIiwgXCIwJVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImZvbnQtc2l6ZVwiLGZvbnRTaXplKVxyXG4gICAgICAgICAgICAudGV4dChcImxpZ2dpbmdcIilcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmFwcGVuZChcInRleHRQYXRoXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieGxpbms6aHJlZlwiLCBcIiN3YXZ5XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3RhcnRPZmZzZXRcIiwgXCI3NSVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJmb250LXNpemVcIixmb250U2l6ZSlcclxuICAgICAgICAgICAgLy8gIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKC05MClcIilcclxuICAgICAgICAgICAgLnRleHQoXCJidWlrIGxpZ2dpbmdcIik7XHJcblxyXG5cclxuICAgICAgICB2YXIgYXJjID0gZy5zZWxlY3RBbGwoXCIuYXJjXCIpXHJcbiAgICAgICAgICAgIC5kYXRhKHBpZShkYXRhU2l6ZUVsZW1lbnRzKSlcclxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYXJjXCIpO1xyXG5cclxuXHJcbiAgICAgICAgYXJjLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIHBhdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGRhdGFGb3JDb2xlcmluZ1tpXSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsaWNrKTtcclxuICAgICBcclxuICAgICAgICAvLyBtYWtlIGRhdGEgYXJyYXkgMCBhZ2FpblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5OUl9FTEVNRU5UUzsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhRm9yQ29sZXJpbmdbaV0gPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kYXRhRm9yQ29sZXJpbmcgPSBkYXRhRm9yQ29sZXJpbmc7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuYXJjID0gYXJjO1xyXG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVDbGljaygpIHtcclxuXHJcbiAgICAgIC8vICB2YXIgZWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJURVNUXCIpXHJcbiAgICAgIC8vICBlbGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGUpO1xyXG5cclxuICAgICAgICB0aGlzLmRvVXBkYXRlKCk7XHJcbiAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGRvVXBkYXRlKGRhdGFhcnJheSkge1xyXG5cclxuICAgICAgICB2YXIgY29sb3IgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIHZhciBkYXRhRm9yQ29sZXJpbmcgPSB0aGlzLmRhdGFGb3JDb2xlcmluZztcclxuXHJcbiAgICAgICAgdmFyIGRhdCA9IGRhdGFhcnJheVswXTtcclxuICAgICAgICB2YXIgYXJjbnIgPSBkYXQvdGhpcy5kZWdyZWVzO1xyXG4gICAgICAgIGFyY25yID0gTWF0aC5mbG9vcihhcmNucik7XHJcbiAgICAgICAgXHJcbiAgICAgICAvLyB2YXIgZGF0YUZvckNvbGVyaW5nID0gW107XHJcbiAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuTlJfRUxFTUVOVFM7IGkrKykge1xyXG4gICAgICAgLy8gICAgICBkYXRhRm9yQ29sZXJpbmcucHVzaCgwKTtcclxuICAgICAgIC8vICB9XHJcbiAgICAgICAgZGF0YUZvckNvbGVyaW5nW2FyY25yXSA9IGRhdGFGb3JDb2xlcmluZ1thcmNucl0gKyAyMDtcclxuXHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIGRvbWFpbiBhZ2FpblxyXG4gICAgICAgIGNvbG9yLmRvbWFpbihbXHJcbiAgICAgICAgICAgIGQzLm1pbihkYXRhRm9yQ29sZXJpbmcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkOyB9KSxcclxuICAgICAgICAgICAgZDMubWF4KGRhdGFGb3JDb2xlcmluZywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQ7IH0pXHJcbiAgICAgICAgXSk7XHJcblxyXG4gICAgICAgIGQzLnNlbGVjdChcImRpdlwiKS5zZWxlY3QoXCJzdmdcIilcclxuICAgICAgICAgIC5zZWxlY3RBbGwoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcihkYXRhRm9yQ29sZXJpbmdbaV0pO1xyXG4gICAgICAgICAgICAgfSk7XHJcbiBcclxuICAgICAgICBkYXRhRm9yQ29sZXJpbmdbYXJjbnJdID0gZGF0YUZvckNvbGVyaW5nW2FyY25yXSAtIDE5OyAgLy8gb25seSBhZGQgMSBpbiB0b3RhbFxyXG4gICAgfVxyXG5cclxufVxyXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2xzZy1waWUnLCBMU0dQaWUpO1xyXG4iLCJpbXBvcnQge2Jpc2VjdH0gZnJvbSBcImQzLWFycmF5XCI7XG5pbXBvcnQge3NsaWNlfSBmcm9tIFwiLi9hcnJheVwiO1xuaW1wb3J0IHtsaW5lYXJpc2h9IGZyb20gXCIuL2xpbmVhclwiO1xuaW1wb3J0IHtpbml0UmFuZ2V9IGZyb20gXCIuL2luaXRcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcXVhbnRpemUoKSB7XG4gIHZhciB4MCA9IDAsXG4gICAgICB4MSA9IDEsXG4gICAgICBuID0gMSxcbiAgICAgIGRvbWFpbiA9IFswLjVdLFxuICAgICAgcmFuZ2UgPSBbMCwgMV0sXG4gICAgICB1bmtub3duO1xuXG4gIGZ1bmN0aW9uIHNjYWxlKHgpIHtcbiAgICByZXR1cm4geCA8PSB4ID8gcmFuZ2VbYmlzZWN0KGRvbWFpbiwgeCwgMCwgbildIDogdW5rbm93bjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2NhbGUoKSB7XG4gICAgdmFyIGkgPSAtMTtcbiAgICBkb21haW4gPSBuZXcgQXJyYXkobik7XG4gICAgd2hpbGUgKCsraSA8IG4pIGRvbWFpbltpXSA9ICgoaSArIDEpICogeDEgLSAoaSAtIG4pICogeDApIC8gKG4gKyAxKTtcbiAgICByZXR1cm4gc2NhbGU7XG4gIH1cblxuICBzY2FsZS5kb21haW4gPSBmdW5jdGlvbihfKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoeDAgPSArX1swXSwgeDEgPSArX1sxXSwgcmVzY2FsZSgpKSA6IFt4MCwgeDFdO1xuICB9O1xuXG4gIHNjYWxlLnJhbmdlID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKG4gPSAocmFuZ2UgPSBzbGljZS5jYWxsKF8pKS5sZW5ndGggLSAxLCByZXNjYWxlKCkpIDogcmFuZ2Uuc2xpY2UoKTtcbiAgfTtcblxuICBzY2FsZS5pbnZlcnRFeHRlbnQgPSBmdW5jdGlvbih5KSB7XG4gICAgdmFyIGkgPSByYW5nZS5pbmRleE9mKHkpO1xuICAgIHJldHVybiBpIDwgMCA/IFtOYU4sIE5hTl1cbiAgICAgICAgOiBpIDwgMSA/IFt4MCwgZG9tYWluWzBdXVxuICAgICAgICA6IGkgPj0gbiA/IFtkb21haW5bbiAtIDFdLCB4MV1cbiAgICAgICAgOiBbZG9tYWluW2kgLSAxXSwgZG9tYWluW2ldXTtcbiAgfTtcblxuICBzY2FsZS51bmtub3duID0gZnVuY3Rpb24oXykge1xuICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gKHVua25vd24gPSBfLCBzY2FsZSkgOiBzY2FsZTtcbiAgfTtcblxuICBzY2FsZS50aHJlc2hvbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRvbWFpbi5zbGljZSgpO1xuICB9O1xuXG4gIHNjYWxlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gcXVhbnRpemUoKVxuICAgICAgICAuZG9tYWluKFt4MCwgeDFdKVxuICAgICAgICAucmFuZ2UocmFuZ2UpXG4gICAgICAgIC51bmtub3duKHVua25vd24pO1xuICB9O1xuXG4gIHJldHVybiBpbml0UmFuZ2UuYXBwbHkobGluZWFyaXNoKHNjYWxlKSwgYXJndW1lbnRzKTtcbn1cbiIsImNsYXNzIEx1bW8gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gJzEuNS4wJztcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3ZhYWRpbi1sdW1vLXN0eWxlcycsIEx1bW8pO1xuXG5leHBvcnQgeyBMdW1vIH07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKiBAdHlwZSB7UHJvbWlzZTx2b2lkPn0gKi9cbmxldCByZWFkeVByb21pc2UgPSBudWxsO1xuXG4vKiogQHR5cGUgez9mdW5jdGlvbig/ZnVuY3Rpb24oKSl9ICovXG5sZXQgd2hlblJlYWR5ID0gd2luZG93WydIVE1MSW1wb3J0cyddICYmIHdpbmRvd1snSFRNTEltcG9ydHMnXVsnd2hlblJlYWR5J10gfHwgbnVsbDtcblxuLyoqIEB0eXBlIHtmdW5jdGlvbigpfSAqL1xubGV0IHJlc29sdmVGbjtcblxuLyoqXG4gKiBAcGFyYW0gez9mdW5jdGlvbigpfSBjYWxsYmFja1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkb2N1bWVudFdhaXQoY2FsbGJhY2spIHtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgIGlmICh3aGVuUmVhZHkpIHtcbiAgICAgIHdoZW5SZWFkeShjYWxsYmFjaylcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFyZWFkeVByb21pc2UpIHtcbiAgICAgICAgcmVhZHlQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtyZXNvbHZlRm4gPSByZXNvbHZlfSk7XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgcmVzb2x2ZUZuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsICgpID0+IHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgIHJlc29sdmVGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWFkeVByb21pc2UudGhlbihmdW5jdGlvbigpeyBjYWxsYmFjayAmJiBjYWxsYmFjaygpOyB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgZG9jdW1lbnRXYWl0IGZyb20gJy4vZG9jdW1lbnQtd2FpdC5qcyc7XG5cbi8qKlxuICogQHR5cGVkZWYge0hUTUxTdHlsZUVsZW1lbnQgfCB7Z2V0U3R5bGU6IGZ1bmN0aW9uKCk6SFRNTFN0eWxlRWxlbWVudH19XG4gKi9cbmV4cG9ydCBsZXQgQ3VzdG9tU3R5bGVQcm92aWRlcjtcblxuY29uc3QgU0VFTl9NQVJLRVIgPSAnX19zZWVuQnlTaGFkeUNTUyc7XG5jb25zdCBDQUNIRURfU1RZTEUgPSAnX19zaGFkeUNTU0NhY2hlZFN0eWxlJztcblxuLyoqIEB0eXBlIHs/ZnVuY3Rpb24oIUhUTUxTdHlsZUVsZW1lbnQpfSAqL1xubGV0IHRyYW5zZm9ybUZuID0gbnVsbDtcblxuLyoqIEB0eXBlIHs/ZnVuY3Rpb24oKX0gKi9cbmxldCB2YWxpZGF0ZUZuID0gbnVsbDtcblxuLyoqXG5UaGlzIGludGVyZmFjZSBpcyBwcm92aWRlZCB0byBhZGQgZG9jdW1lbnQtbGV2ZWwgPHN0eWxlPiBlbGVtZW50cyB0byBTaGFkeUNTUyBmb3IgcHJvY2Vzc2luZy5cblRoZXNlIHN0eWxlcyBtdXN0IGJlIHByb2Nlc3NlZCBieSBTaGFkeUNTUyB0byBzaW11bGF0ZSBTaGFkb3dSb290IHVwcGVyLWJvdW5kIGVuY2Fwc3VsYXRpb24gZnJvbSBvdXRzaWRlIHN0eWxlc1xuSW4gYWRkaXRpb24sIHRoZXNlIHN0eWxlcyBtYXkgYWxzbyBuZWVkIHRvIGJlIHByb2Nlc3NlZCBmb3IgQGFwcGx5IHJ1bGVzIGFuZCBDU1MgQ3VzdG9tIFByb3BlcnRpZXNcblxuVG8gYWRkIGRvY3VtZW50LWxldmVsIHN0eWxlcyB0byBTaGFkeUNTUywgb25lIGNhbiBjYWxsIGBTaGFkeUNTUy5hZGREb2N1bWVudFN0eWxlKHN0eWxlRWxlbWVudClgIG9yIGBTaGFkeUNTUy5hZGREb2N1bWVudFN0eWxlKHtnZXRTdHlsZTogKCkgPT4gc3R5bGVFbGVtZW50fSlgXG5cbkluIGFkZGl0aW9uLCBpZiB0aGUgcHJvY2VzcyB1c2VkIHRvIGRpc2NvdmVyIGRvY3VtZW50LWxldmVsIHN0eWxlcyBjYW4gYmUgc3luY2hyb25vdXNseSBmbHVzaGVkLCBvbmUgc2hvdWxkIHNldCBgU2hhZHlDU1MuZG9jdW1lbnRTdHlsZUZsdXNoYC5cblRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiBjYWxjdWxhdGluZyBzdHlsZXMuXG5cbkFuIGV4YW1wbGUgdXNhZ2Ugb2YgdGhlIGRvY3VtZW50LWxldmVsIHN0eWxpbmcgYXBpIGNhbiBiZSBmb3VuZCBpbiBgZXhhbXBsZXMvZG9jdW1lbnQtc3R5bGUtbGliLmpzYFxuXG5AdW5yZXN0cmljdGVkXG4qL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3VzdG9tU3R5bGVJbnRlcmZhY2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUgeyFBcnJheTwhQ3VzdG9tU3R5bGVQcm92aWRlcj59ICovXG4gICAgdGhpc1snY3VzdG9tU3R5bGVzJ10gPSBbXTtcbiAgICB0aGlzWydlbnF1ZXVlZCddID0gZmFsc2U7XG4gICAgLy8gTk9URShkZnJlZWRtKTogdXNlIHF1b3RlcyBoZXJlIHRvIHByZXZlbnQgY2xvc3VyZSBpbmxpbmluZyB0byBgZnVuY3Rpb24oKXt9YDtcbiAgICBkb2N1bWVudFdhaXQoKCkgPT4ge1xuICAgICAgaWYgKHdpbmRvd1snU2hhZHlDU1MnXVsnZmx1c2hDdXN0b21TdHlsZXMnXSkge1xuICAgICAgICB3aW5kb3dbJ1NoYWR5Q1NTJ11bJ2ZsdXNoQ3VzdG9tU3R5bGVzJ10oKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIC8qKlxuICAgKiBRdWV1ZSBhIHZhbGlkYXRpb24gZm9yIG5ldyBjdXN0b20gc3R5bGVzIHRvIGJhdGNoIHN0eWxlIHJlY2FsY3VsYXRpb25zXG4gICAqL1xuICBlbnF1ZXVlRG9jdW1lbnRWYWxpZGF0aW9uKCkge1xuICAgIGlmICh0aGlzWydlbnF1ZXVlZCddIHx8ICF2YWxpZGF0ZUZuKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXNbJ2VucXVldWVkJ10gPSB0cnVlO1xuICAgIGRvY3VtZW50V2FpdCh2YWxpZGF0ZUZuKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAgICovXG4gIGFkZEN1c3RvbVN0eWxlKHN0eWxlKSB7XG4gICAgaWYgKCFzdHlsZVtTRUVOX01BUktFUl0pIHtcbiAgICAgIHN0eWxlW1NFRU5fTUFSS0VSXSA9IHRydWU7XG4gICAgICB0aGlzWydjdXN0b21TdHlsZXMnXS5wdXNoKHN0eWxlKTtcbiAgICAgIHRoaXMuZW5xdWV1ZURvY3VtZW50VmFsaWRhdGlvbigpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshQ3VzdG9tU3R5bGVQcm92aWRlcn0gY3VzdG9tU3R5bGVcbiAgICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH1cbiAgICovXG4gIGdldFN0eWxlRm9yQ3VzdG9tU3R5bGUoY3VzdG9tU3R5bGUpIHtcbiAgICBpZiAoY3VzdG9tU3R5bGVbQ0FDSEVEX1NUWUxFXSkge1xuICAgICAgcmV0dXJuIGN1c3RvbVN0eWxlW0NBQ0hFRF9TVFlMRV07XG4gICAgfVxuICAgIGxldCBzdHlsZTtcbiAgICBpZiAoY3VzdG9tU3R5bGVbJ2dldFN0eWxlJ10pIHtcbiAgICAgIHN0eWxlID0gY3VzdG9tU3R5bGVbJ2dldFN0eWxlJ10oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUgPSBjdXN0b21TdHlsZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUN1c3RvbVN0eWxlUHJvdmlkZXI+fVxuICAgKi9cbiAgcHJvY2Vzc1N0eWxlcygpIHtcbiAgICBjb25zdCBjcyA9IHRoaXNbJ2N1c3RvbVN0eWxlcyddO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGN1c3RvbVN0eWxlID0gY3NbaV07XG4gICAgICBpZiAoY3VzdG9tU3R5bGVbQ0FDSEVEX1NUWUxFXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nZXRTdHlsZUZvckN1c3RvbVN0eWxlKGN1c3RvbVN0eWxlKTtcbiAgICAgIGlmIChzdHlsZSkge1xuICAgICAgICAvLyBIVE1MSW1wb3J0cyBwb2x5ZmlsbCBtYXkgaGF2ZSBjbG9uZWQgdGhlIHN0eWxlIGludG8gdGhlIG1haW4gZG9jdW1lbnQsXG4gICAgICAgIC8vIHdoaWNoIGlzIHJlZmVyZW5jZWQgd2l0aCBfX2FwcGxpZWRFbGVtZW50LlxuICAgICAgICBjb25zdCBzdHlsZVRvVHJhbnNmb3JtID0gLyoqIEB0eXBlIHshSFRNTFN0eWxlRWxlbWVudH0gKi8oc3R5bGVbJ19fYXBwbGllZEVsZW1lbnQnXSB8fCBzdHlsZSk7XG4gICAgICAgIGlmICh0cmFuc2Zvcm1Gbikge1xuICAgICAgICAgIHRyYW5zZm9ybUZuKHN0eWxlVG9UcmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGN1c3RvbVN0eWxlW0NBQ0hFRF9TVFlMRV0gPSBzdHlsZVRvVHJhbnNmb3JtO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3M7XG4gIH1cbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1hc3NpZ24gKi9cbkN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZVsnYWRkQ3VzdG9tU3R5bGUnXSA9IEN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZS5hZGRDdXN0b21TdHlsZTtcbkN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZVsnZ2V0U3R5bGVGb3JDdXN0b21TdHlsZSddID0gQ3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvdG90eXBlLmdldFN0eWxlRm9yQ3VzdG9tU3R5bGU7XG5DdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGVbJ3Byb2Nlc3NTdHlsZXMnXSA9IEN1c3RvbVN0eWxlSW50ZXJmYWNlLnByb3RvdHlwZS5wcm9jZXNzU3R5bGVzO1xuLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWFzc2lnbiAqL1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21TdHlsZUludGVyZmFjZS5wcm90b3R5cGUsIHtcbiAgJ3RyYW5zZm9ybUNhbGxiYWNrJzoge1xuICAgIC8qKiBAcmV0dXJuIHs/ZnVuY3Rpb24oIUhUTUxTdHlsZUVsZW1lbnQpfSAqL1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1GbjtcbiAgICB9LFxuICAgIC8qKiBAcGFyYW0gez9mdW5jdGlvbighSFRNTFN0eWxlRWxlbWVudCl9IGZuICovXG4gICAgc2V0KGZuKSB7XG4gICAgICB0cmFuc2Zvcm1GbiA9IGZuO1xuICAgIH1cbiAgfSxcbiAgJ3ZhbGlkYXRlQ2FsbGJhY2snOiB7XG4gICAgLyoqIEByZXR1cm4gez9mdW5jdGlvbigpfSAqL1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiB2YWxpZGF0ZUZuO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHs/ZnVuY3Rpb24oKX0gZm5cbiAgICAgKiBAdGhpcyB7Q3VzdG9tU3R5bGVJbnRlcmZhY2V9XG4gICAgICovXG4gICAgc2V0KGZuKSB7XG4gICAgICBsZXQgbmVlZHNFbnF1ZXVlID0gZmFsc2U7XG4gICAgICBpZiAoIXZhbGlkYXRlRm4pIHtcbiAgICAgICAgbmVlZHNFbnF1ZXVlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlRm4gPSBmbjtcbiAgICAgIGlmIChuZWVkc0VucXVldWUpIHtcbiAgICAgICAgdGhpcy5lbnF1ZXVlRG9jdW1lbnRWYWxpZGF0aW9uKCk7XG4gICAgICB9XG4gICAgfSxcbiAgfVxufSlcblxuLyoqIEB0eXBlZGVmIHt7XG4gKiBjdXN0b21TdHlsZXM6ICFBcnJheTwhQ3VzdG9tU3R5bGVQcm92aWRlcj4sXG4gKiBhZGRDdXN0b21TdHlsZTogZnVuY3Rpb24oIUN1c3RvbVN0eWxlUHJvdmlkZXIpLFxuICogZ2V0U3R5bGVGb3JDdXN0b21TdHlsZTogZnVuY3Rpb24oIUN1c3RvbVN0eWxlUHJvdmlkZXIpOiBIVE1MU3R5bGVFbGVtZW50LFxuICogZmluZFN0eWxlczogZnVuY3Rpb24oKSxcbiAqIHRyYW5zZm9ybUNhbGxiYWNrOiA/ZnVuY3Rpb24oIUhUTUxTdHlsZUVsZW1lbnQpLFxuICogdmFsaWRhdGVDYWxsYmFjazogP2Z1bmN0aW9uKClcbiAqIH19XG4gKi9cbmV4cG9ydCBjb25zdCBDdXN0b21TdHlsZUludGVyZmFjZUludGVyZmFjZSA9IHt9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuZXhwb3J0IGNvbnN0IFZBUl9BU1NJR04gPSAvKD86XnxbO1xcc3tdXFxzKikoLS1bXFx3LV0qPylcXHMqOlxccyooPzooKD86Jyg/OlxcXFwnfC4pKj8nfFwiKD86XFxcXFwifC4pKj9cInxcXChbXildKj9cXCl8W159O3tdKSspfFxceyhbXn1dKilcXH0oPzooPz1bO1xcc31dKXwkKSkvZ2k7XG5leHBvcnQgY29uc3QgTUlYSU5fTUFUQ0ggPSAvKD86XnxcXFcrKUBhcHBseVxccypcXCg/KFteKTtcXG5dKilcXCk/L2dpO1xuZXhwb3J0IGNvbnN0IFZBUl9DT05TVU1FRCA9IC8oLS1bXFx3LV0rKVxccyooWzosOyldfCQpL2dpO1xuZXhwb3J0IGNvbnN0IEFOSU1BVElPTl9NQVRDSCA9IC8oYW5pbWF0aW9uXFxzKjopfChhbmltYXRpb24tbmFtZVxccyo6KS87XG5leHBvcnQgY29uc3QgTUVESUFfTUFUQ0ggPSAvQG1lZGlhXFxzKC4qKS87XG5leHBvcnQgY29uc3QgSVNfVkFSID0gL14tLS87XG5leHBvcnQgY29uc3QgQlJBQ0tFVEVEID0gL1xce1tefV0qXFx9L2c7XG5leHBvcnQgY29uc3QgSE9TVF9QUkVGSVggPSAnKD86XnxbXi4jWzpdKSc7XG5leHBvcnQgY29uc3QgSE9TVF9TVUZGSVggPSAnKCR8Wy46W1xcXFxzPit+XSknO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBNSVhJTl9NQVRDSCwgVkFSX0FTU0lHTiB9IGZyb20gJy4vY29tbW9uLXJlZ2V4LmpzJztcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlTmF0aXZlUHJvcGVydGllcyhlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gIC8vIHJlbW92ZSBwcmV2aW91cyBwcm9wZXJ0aWVzXG4gIGZvciAobGV0IHAgaW4gcHJvcGVydGllcykge1xuICAgIC8vIE5PVEU6IGZvciBiYyB3aXRoIHNoaW0sIGRvbid0IGFwcGx5IG51bGwgdmFsdWVzLlxuICAgIGlmIChwID09PSBudWxsKSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KHApO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHAsIHByb3BlcnRpZXNbcF0pO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlVmFsdWUoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgLyoqXG4gICAqIEBjb25zdCB7c3RyaW5nfVxuICAgKi9cbiAgY29uc3QgdmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KTtcbiAgaWYgKCF2YWx1ZSkge1xuICAgIHJldHVybiAnJztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWUudHJpbSgpO1xuICB9XG59XG5cbi8qKlxuICogcmV0dXJuIHRydWUgaWYgYGNzc1RleHRgIGNvbnRhaW5zIGEgbWl4aW4gZGVmaW5pdGlvbiBvciBjb25zdW1wdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RNaXhpbihjc3NUZXh0KSB7XG4gIGNvbnN0IGhhcyA9IE1JWElOX01BVENILnRlc3QoY3NzVGV4dCkgfHwgVkFSX0FTU0lHTi50ZXN0KGNzc1RleHQpO1xuICAvLyByZXNldCBzdGF0ZSBvZiB0aGUgcmVnZXhlc1xuICBNSVhJTl9NQVRDSC5sYXN0SW5kZXggPSAwO1xuICBWQVJfQVNTSUdOLmxhc3RJbmRleCA9IDA7XG4gIHJldHVybiBoYXM7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBjb25zdCBuYXRpdmVTaGFkb3cgPSAhKHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ2luVXNlJ10pO1xubGV0IG5hdGl2ZUNzc1ZhcmlhYmxlc187XG5cbi8qKlxuICogQHBhcmFtIHsoU2hhZHlDU1NPcHRpb25zIHwgU2hhZHlDU1NJbnRlcmZhY2UpPX0gc2V0dGluZ3NcbiAqL1xuZnVuY3Rpb24gY2FsY0Nzc1ZhcmlhYmxlcyhzZXR0aW5ncykge1xuICBpZiAoc2V0dGluZ3MgJiYgc2V0dGluZ3NbJ3NoaW1jc3Nwcm9wZXJ0aWVzJ10pIHtcbiAgICBuYXRpdmVDc3NWYXJpYWJsZXNfID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgLy8gY2hyb21lIDQ5IGhhcyBzZW1pLXdvcmtpbmcgY3NzIHZhcnMsIGNoZWNrIGlmIGJveC1zaGFkb3cgd29ya3NcbiAgICAvLyBzYWZhcmkgOS4xIGhhcyBhIHJlY2FsYyBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTU3ODJcbiAgICAvLyBIb3dldmVyLCBzaGltIGNzcyBjdXN0b20gcHJvcGVydGllcyBhcmUgb25seSBzdXBwb3J0ZWQgd2l0aCBTaGFkeURPTSBlbmFibGVkLFxuICAgIC8vIHNvIGZhbGwgYmFjayBvbiBuYXRpdmUgaWYgd2UgZG8gbm90IGRldGVjdCBTaGFkeURPTVxuICAgIC8vIEVkZ2UgMTU6IGN1c3RvbSBwcm9wZXJ0aWVzIHVzZWQgaW4gOjpiZWZvcmUgYW5kIDo6YWZ0ZXIgd2lsbCBhbHNvIGJlIHVzZWQgaW4gdGhlIHBhcmVudCBlbGVtZW50XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvMTI0MTQyNTcvXG4gICAgbmF0aXZlQ3NzVmFyaWFibGVzXyA9IG5hdGl2ZVNoYWRvdyB8fCBCb29sZWFuKCFuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9BcHBsZVdlYktpdFxcLzYwMXxFZGdlXFwvMTUvKSAmJlxuICAgICAgd2luZG93LkNTUyAmJiBDU1Muc3VwcG9ydHMgJiYgQ1NTLnN1cHBvcnRzKCdib3gtc2hhZG93JywgJzAgMCAwIHZhcigtLWZvbyknKSk7XG4gIH1cbn1cblxuLyoqIEB0eXBlIHtzdHJpbmcgfCB1bmRlZmluZWR9ICovXG5leHBvcnQgbGV0IGNzc0J1aWxkO1xuaWYgKHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MuY3NzQnVpbGQgIT09IHVuZGVmaW5lZCkge1xuICBjc3NCdWlsZCA9IHdpbmRvdy5TaGFkeUNTUy5jc3NCdWlsZDtcbn1cblxuLyoqIEB0eXBlIHtib29sZWFufSAqL1xuZXhwb3J0IGNvbnN0IGRpc2FibGVSdW50aW1lID0gQm9vbGVhbih3aW5kb3cuU2hhZHlDU1MgJiYgd2luZG93LlNoYWR5Q1NTLmRpc2FibGVSdW50aW1lKTtcblxuaWYgKHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1MubmF0aXZlQ3NzICE9PSB1bmRlZmluZWQpIHtcbiAgbmF0aXZlQ3NzVmFyaWFibGVzXyA9IHdpbmRvdy5TaGFkeUNTUy5uYXRpdmVDc3M7XG59IGVsc2UgaWYgKHdpbmRvdy5TaGFkeUNTUykge1xuICBjYWxjQ3NzVmFyaWFibGVzKHdpbmRvdy5TaGFkeUNTUyk7XG4gIC8vIHJlc2V0IHdpbmRvdyB2YXJpYWJsZSB0byBsZXQgU2hhZHlDU1MgQVBJIHRha2UgaXRzIHBsYWNlXG4gIHdpbmRvdy5TaGFkeUNTUyA9IHVuZGVmaW5lZDtcbn0gZWxzZSB7XG4gIGNhbGNDc3NWYXJpYWJsZXMod2luZG93WydXZWJDb21wb25lbnRzJ10gJiYgd2luZG93WydXZWJDb21wb25lbnRzJ11bJ2ZsYWdzJ10pO1xufVxuXG4vLyBIYWNrIGZvciB0eXBlIGVycm9yIHVuZGVyIG5ldyB0eXBlIGluZmVyZW5jZSB3aGljaCBkb2Vzbid0IGxpa2UgdGhhdFxuLy8gbmF0aXZlQ3NzVmFyaWFibGVzIGlzIHVwZGF0ZWQgaW4gYSBmdW5jdGlvbiBhbmQgYXNzaWducyB0aGUgdHlwZVxuLy8gYGZ1bmN0aW9uKCk6ID9gIGluc3RlYWQgb2YgYGJvb2xlYW5gLlxuZXhwb3J0IGNvbnN0IG5hdGl2ZUNzc1ZhcmlhYmxlcyA9IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8obmF0aXZlQ3NzVmFyaWFibGVzXyk7IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQ3VzdG9tU3R5bGVJbnRlcmZhY2UgZnJvbSAnLi4vc3JjL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMnO1xuaW1wb3J0IHtnZXRDb21wdXRlZFN0eWxlVmFsdWUsIHVwZGF0ZU5hdGl2ZVByb3BlcnRpZXN9IGZyb20gJy4uL3NyYy9jb21tb24tdXRpbHMuanMnO1xuaW1wb3J0IHtuYXRpdmVDc3NWYXJpYWJsZXMsIG5hdGl2ZVNoYWRvdywgY3NzQnVpbGQsIGRpc2FibGVSdW50aW1lfSBmcm9tICcuLi9zcmMvc3R5bGUtc2V0dGluZ3MuanMnO1xuXG5jb25zdCBjdXN0b21TdHlsZUludGVyZmFjZSA9IG5ldyBDdXN0b21TdHlsZUludGVyZmFjZSgpO1xuXG5pZiAoIXdpbmRvdy5TaGFkeUNTUykge1xuICB3aW5kb3cuU2hhZHlDU1MgPSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqL1xuICAgIHByZXBhcmVUZW1wbGF0ZURvbSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHt9LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gZWxlbWVudEV4dGVuZHNcbiAgICAgKi9cbiAgICBwcmVwYXJlVGVtcGxhdGVTdHlsZXModGVtcGxhdGUsIGVsZW1lbnROYW1lLCBlbGVtZW50RXh0ZW5kcykge30sIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKSB7XG4gICAgICBjdXN0b21TdHlsZUludGVyZmFjZS5wcm9jZXNzU3R5bGVzKCk7XG4gICAgICB1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzKGVsZW1lbnQsIHByb3BlcnRpZXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBzdHlsZUVsZW1lbnQoZWxlbWVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICBjdXN0b21TdHlsZUludGVyZmFjZS5wcm9jZXNzU3R5bGVzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIHN0eWxlRG9jdW1lbnQocHJvcGVydGllcykge1xuICAgICAgY3VzdG9tU3R5bGVJbnRlcmZhY2UucHJvY2Vzc1N0eWxlcygpO1xuICAgICAgdXBkYXRlTmF0aXZlUHJvcGVydGllcyhkb2N1bWVudC5ib2R5LCBwcm9wZXJ0aWVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHJldHVybiB7c3RyaW5nfVxuICAgICAqL1xuICAgIGdldENvbXB1dGVkU3R5bGVWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGVWYWx1ZShlbGVtZW50LCBwcm9wZXJ0eSk7XG4gICAgfSxcblxuICAgIGZsdXNoQ3VzdG9tU3R5bGVzKCkge30sXG4gICAgbmF0aXZlQ3NzOiBuYXRpdmVDc3NWYXJpYWJsZXMsXG4gICAgbmF0aXZlU2hhZG93OiBuYXRpdmVTaGFkb3csXG4gICAgY3NzQnVpbGQ6IGNzc0J1aWxkLFxuICAgIGRpc2FibGVSdW50aW1lOiBkaXNhYmxlUnVudGltZSxcbiAgfVxufVxuXG53aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBjdXN0b21TdHlsZUludGVyZmFjZTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuLyoqXG4gKiBXaGVuIHVzaW5nIENsb3N1cmUgQ29tcGlsZXIsIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkocHJvcGVydHksIG9iamVjdCkgaXMgcmVwbGFjZWQgYnkgdGhlIG11bmdlZCBuYW1lIGZvciBvYmplY3RbcHJvcGVydHldXG4gKiBXZSBjYW5ub3QgYWxpYXMgdGhpcyBmdW5jdGlvbiwgc28gd2UgaGF2ZSB0byB1c2UgYSBzbWFsbCBzaGltIHRoYXQgaGFzIHRoZSBzYW1lIGJlaGF2aW9yIHdoZW4gbm90IGNvbXBpbGluZy5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSBuYW1lXG4gKiBAcGFyYW0gez9PYmplY3R9IG9iaiBSZWZlcmVuY2Ugb2JqZWN0XG4gKiBAcmV0dXJuIHtzdHJpbmd9IFBvdGVudGlhbGx5IHJlbmFtZWQgcHJvcGVydHkgbmFtZVxuICovXG53aW5kb3cuSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSA9IGZ1bmN0aW9uKHByb3AsIG9iaikge1xuICByZXR1cm4gcHJvcDtcbn07XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmV4cG9ydCB7fTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmxldCBDU1NfVVJMX1JYID0gLyh1cmxcXCgpKFteKV0qKShcXCkpL2c7XG5sZXQgQUJTX1VSTCA9IC8oXlxcL1teXFwvXSl8KF4jKXwoXltcXHctXFxkXSo6KS87XG5sZXQgd29ya2luZ1VSTDtcbmxldCByZXNvbHZlRG9jO1xuLyoqXG4gKiBSZXNvbHZlcyB0aGUgZ2l2ZW4gVVJMIGFnYWluc3QgdGhlIHByb3ZpZGVkIGBiYXNlVXJpJy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBmdW5jdGlvbiBwZXJmb3JtcyBubyByZXNvbHV0aW9uIGZvciBVUkxzIHRoYXQgc3RhcnRcbiAqIHdpdGggYC9gIChhYnNvbHV0ZSBVUkxzKSBvciBgI2AgKGhhc2ggaWRlbnRpZmllcnMpLiAgRm9yIGdlbmVyYWwgcHVycG9zZVxuICogVVJMIHJlc29sdXRpb24sIHVzZSBgd2luZG93LlVSTGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBJbnB1dCBVUkwgdG8gcmVzb2x2ZVxuICogQHBhcmFtIHs/c3RyaW5nPX0gYmFzZVVSSSBCYXNlIFVSSSB0byByZXNvbHZlIHRoZSBVUkwgYWdhaW5zdFxuICogQHJldHVybiB7c3RyaW5nfSByZXNvbHZlZCBVUkxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVVcmwodXJsLCBiYXNlVVJJKSB7XG4gIGlmICh1cmwgJiYgQUJTX1VSTC50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGlmICh1cmwgPT09ICcvLycpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIC8vIExhenkgZmVhdHVyZSBkZXRlY3Rpb24uXG4gIGlmICh3b3JraW5nVVJMID09PSB1bmRlZmluZWQpIHtcbiAgICB3b3JraW5nVVJMID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKCdiJywgJ2h0dHA6Ly9hJyk7XG4gICAgICB1LnBhdGhuYW1lID0gJ2MlMjBkJztcbiAgICAgIHdvcmtpbmdVUkwgPSAodS5ocmVmID09PSAnaHR0cDovL2EvYyUyMGQnKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBmYWlsXG4gICAgfVxuICB9XG4gIGlmICghYmFzZVVSSSkge1xuICAgIGJhc2VVUkkgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICB9XG4gIGlmICh3b3JraW5nVVJMKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAobmV3IFVSTCh1cmwsIGJhc2VVUkkpKS5ocmVmO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIEJhZCB1cmwgb3IgYmFzZVVSSSBzdHJ1Y3R1cmUuIERvIG5vdCBhdHRlbXB0IHRvIHJlc29sdmUuXG4gICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgfVxuICAvLyBGYWxsYmFjayB0byBjcmVhdGluZyBhbiBhbmNob3IgaW50byBhIGRpc2Nvbm5lY3RlZCBkb2N1bWVudC5cbiAgaWYgKCFyZXNvbHZlRG9jKSB7XG4gICAgcmVzb2x2ZURvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgndGVtcCcpO1xuICAgIHJlc29sdmVEb2MuYmFzZSA9IHJlc29sdmVEb2MuY3JlYXRlRWxlbWVudCgnYmFzZScpO1xuICAgIHJlc29sdmVEb2MuaGVhZC5hcHBlbmRDaGlsZChyZXNvbHZlRG9jLmJhc2UpO1xuICAgIHJlc29sdmVEb2MuYW5jaG9yID0gcmVzb2x2ZURvYy5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgcmVzb2x2ZURvYy5ib2R5LmFwcGVuZENoaWxkKHJlc29sdmVEb2MuYW5jaG9yKTtcbiAgfVxuICByZXNvbHZlRG9jLmJhc2UuaHJlZiA9IGJhc2VVUkk7XG4gIHJlc29sdmVEb2MuYW5jaG9yLmhyZWYgPSB1cmw7XG4gIHJldHVybiByZXNvbHZlRG9jLmFuY2hvci5ocmVmIHx8IHVybDtcblxufVxuXG4vKipcbiAqIFJlc29sdmVzIGFueSByZWxhdGl2ZSBVUkwncyBpbiB0aGUgZ2l2ZW4gQ1NTIHRleHQgYWdhaW5zdCB0aGUgcHJvdmlkZWRcbiAqIGBvd25lckRvY3VtZW50YCdzIGBiYXNlVVJJYC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dCBDU1MgdGV4dCB0byBwcm9jZXNzXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSSBCYXNlIFVSSSB0byByZXNvbHZlIHRoZSBVUkwgYWdhaW5zdFxuICogQHJldHVybiB7c3RyaW5nfSBQcm9jZXNzZWQgQ1NTIHRleHQgd2l0aCByZXNvbHZlZCBVUkwnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUNzcyhjc3NUZXh0LCBiYXNlVVJJKSB7XG4gIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoQ1NTX1VSTF9SWCwgZnVuY3Rpb24obSwgcHJlLCB1cmwsIHBvc3QpIHtcbiAgICByZXR1cm4gcHJlICsgJ1xcJycgK1xuICAgICAgcmVzb2x2ZVVybCh1cmwucmVwbGFjZSgvW1wiJ10vZywgJycpLCBiYXNlVVJJKSArXG4gICAgICAnXFwnJyArIHBvc3Q7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwYXRoIGZyb20gYSBnaXZlbiBgdXJsYC4gVGhlIHBhdGggaW5jbHVkZXMgdGhlIHRyYWlsaW5nXG4gKiBgL2AgZnJvbSB0aGUgdXJsLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgSW5wdXQgVVJMIHRvIHRyYW5zZm9ybVxuICogQHJldHVybiB7c3RyaW5nfSByZXNvbHZlZCBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXRoRnJvbVVybCh1cmwpIHtcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCB7IHBhdGhGcm9tVXJsIH0gZnJvbSAnLi9yZXNvbHZlLXVybC5qcyc7XG5leHBvcnQgY29uc3QgdXNlU2hhZG93ID0gISh3aW5kb3cuU2hhZHlET00pO1xuZXhwb3J0IGNvbnN0IHVzZU5hdGl2ZUNTU1Byb3BlcnRpZXMgPSBCb29sZWFuKCF3aW5kb3cuU2hhZHlDU1MgfHwgd2luZG93LlNoYWR5Q1NTLm5hdGl2ZUNzcyk7XG5leHBvcnQgY29uc3QgdXNlTmF0aXZlQ3VzdG9tRWxlbWVudHMgPSAhKHdpbmRvdy5jdXN0b21FbGVtZW50cy5wb2x5ZmlsbFdyYXBGbHVzaENhbGxiYWNrKTtcblxuXG4vKipcbiAqIEdsb2JhbGx5IHNldHRhYmxlIHByb3BlcnR5IHRoYXQgaXMgYXV0b21hdGljYWxseSBhc3NpZ25lZCB0b1xuICogYEVsZW1lbnRNaXhpbmAgaW5zdGFuY2VzLCB1c2VmdWwgZm9yIGJpbmRpbmcgaW4gdGVtcGxhdGVzIHRvXG4gKiBtYWtlIFVSTCdzIHJlbGF0aXZlIHRvIGFuIGFwcGxpY2F0aW9uJ3Mgcm9vdC4gIERlZmF1bHRzIHRvIHRoZSBtYWluXG4gKiBkb2N1bWVudCBVUkwsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBieSB1c2Vycy4gIEl0IG1heSBiZSB1c2VmdWwgdG8gc2V0XG4gKiBgcm9vdFBhdGhgIHRvIHByb3ZpZGUgYSBzdGFibGUgYXBwbGljYXRpb24gbW91bnQgcGF0aCB3aGVuXG4gKiB1c2luZyBjbGllbnQgc2lkZSByb3V0aW5nLlxuICovXG5leHBvcnQgbGV0IHJvb3RQYXRoID0gcGF0aEZyb21VcmwoZG9jdW1lbnQuYmFzZVVSSSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbi8qKlxuICogU2V0cyB0aGUgZ2xvYmFsIHJvb3RQYXRoIHByb3BlcnR5IHVzZWQgYnkgYEVsZW1lbnRNaXhpbmAgYW5kXG4gKiBhdmFpbGFibGUgdmlhIGByb290UGF0aGAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIG5ldyByb290IHBhdGhcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRSb290UGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgcm9vdFBhdGggPSBwYXRoO1xufTtcblxuLyoqXG4gKiBBIGdsb2JhbCBjYWxsYmFjayB1c2VkIHRvIHNhbml0aXplIGFueSB2YWx1ZSBiZWZvcmUgaW5zZXJ0aW5nIGl0IGludG8gdGhlIERPTS5cbiAqIFRoZSBjYWxsYmFjayBzaWduYXR1cmUgaXM6XG4gKlxuICogIGZ1bmN0aW9uIHNhbml0aXplRE9NVmFsdWUodmFsdWUsIG5hbWUsIHR5cGUsIG5vZGUpIHsgLi4uIH1cbiAqXG4gKiBXaGVyZTpcbiAqXG4gKiBgdmFsdWVgIGlzIHRoZSB2YWx1ZSB0byBzYW5pdGl6ZS5cbiAqIGBuYW1lYCBpcyB0aGUgbmFtZSBvZiBhbiBhdHRyaWJ1dGUgb3IgcHJvcGVydHkgKGZvciBleGFtcGxlLCBocmVmKS5cbiAqIGB0eXBlYCBpbmRpY2F0ZXMgd2hlcmUgdGhlIHZhbHVlIGlzIGJlaW5nIGluc2VydGVkOiBvbmUgb2YgcHJvcGVydHksIGF0dHJpYnV0ZSwgb3IgdGV4dC5cbiAqIGBub2RlYCBpcyB0aGUgbm9kZSB3aGVyZSB0aGUgdmFsdWUgaXMgYmVpbmcgaW5zZXJ0ZWQuXG4gKlxuICogQHR5cGUgeyhmdW5jdGlvbigqLHN0cmluZyxzdHJpbmcsTm9kZSk6Kil8dW5kZWZpbmVkfVxuICovXG5leHBvcnQgbGV0IHNhbml0aXplRE9NVmFsdWUgPSB3aW5kb3cuUG9seW1lciAmJiB3aW5kb3cuUG9seW1lci5zYW5pdGl6ZURPTVZhbHVlIHx8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBTZXRzIHRoZSBnbG9iYWwgc2FuaXRpemVET01WYWx1ZSBhdmFpbGFibGUgdmlhIHRoaXMgbW9kdWxlJ3MgZXhwb3J0ZWRcbiAqIGBzYW5pdGl6ZURPTVZhbHVlYCB2YXJpYWJsZS5cbiAqXG4gKiBAcGFyYW0geyhmdW5jdGlvbigqLHN0cmluZyxzdHJpbmcsTm9kZSk6Kil8dW5kZWZpbmVkfSBuZXdTYW5pdGl6ZURPTVZhbHVlIHRoZSBnbG9iYWwgc2FuaXRpemVET01WYWx1ZSBjYWxsYmFja1xuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldFNhbml0aXplRE9NVmFsdWUgPSBmdW5jdGlvbihuZXdTYW5pdGl6ZURPTVZhbHVlKSB7XG4gIHNhbml0aXplRE9NVmFsdWUgPSBuZXdTYW5pdGl6ZURPTVZhbHVlO1xufTtcblxuLyoqXG4gKiBHbG9iYWxseSBzZXR0YWJsZSBwcm9wZXJ0eSB0byBtYWtlIFBvbHltZXIgR2VzdHVyZXMgdXNlIHBhc3NpdmUgVG91Y2hFdmVudCBsaXN0ZW5lcnMgd2hlbiByZWNvZ25pemluZyBnZXN0dXJlcy5cbiAqIFdoZW4gc2V0IHRvIGB0cnVlYCwgZ2VzdHVyZXMgbWFkZSBmcm9tIHRvdWNoIHdpbGwgbm90IGJlIGFibGUgdG8gcHJldmVudCBzY3JvbGxpbmcsIGFsbG93aW5nIGZvciBzbW9vdGhlclxuICogc2Nyb2xsaW5nIHBlcmZvcm1hbmNlLlxuICogRGVmYXVsdHMgdG8gYGZhbHNlYCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBsZXQgcGFzc2l2ZVRvdWNoR2VzdHVyZXMgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBwYXNzaXZlVG91Y2hHZXN0dXJlc2AgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50cyB1c2luZyBQb2x5bWVyIEdlc3R1cmVzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlUGFzc2l2ZSBlbmFibGUgb3IgZGlzYWJsZSBwYXNzaXZlIHRvdWNoIGdlc3R1cmVzIGdsb2JhbGx5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0UGFzc2l2ZVRvdWNoR2VzdHVyZXMgPSBmdW5jdGlvbih1c2VQYXNzaXZlKSB7XG4gIHBhc3NpdmVUb3VjaEdlc3R1cmVzID0gdXNlUGFzc2l2ZTtcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBlbnN1cmUgUG9seW1lciB0ZW1wbGF0ZSBldmFsdWF0aW9uIG9ubHkgb2NjdXJzIGJhc2VkIG9uIHRlbXBhdGVzXG4gKiBkZWZpbmVkIGluIHRydXN0ZWQgc2NyaXB0LiAgV2hlbiB0cnVlLCBgPGRvbS1tb2R1bGU+YCByZS1yZWdpc3RyYXRpb24gaXNcbiAqIGRpc2FsbG93ZWQsIGA8ZG9tLWJpbmQ+YCBpcyBkaXNhYmxlZCwgYW5kIGA8ZG9tLWlmPmAvYDxkb20tcmVwZWF0PmBcbiAqIHRlbXBsYXRlcyB3aWxsIG9ubHkgZXZhbHVhdGUgaW4gdGhlIGNvbnRleHQgb2YgYSB0cnVzdGVkIGVsZW1lbnQgdGVtcGxhdGUuXG4gKi9cbmV4cG9ydCBsZXQgc3RyaWN0VGVtcGxhdGVQb2xpY3kgPSBmYWxzZTtcblxuLyoqXG4gKiBTZXRzIGBzdHJpY3RUZW1wbGF0ZVBvbGljeWAgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlU3RyaWN0UG9saWN5IGVuYWJsZSBvciBkaXNhYmxlIHN0cmljdCB0ZW1wbGF0ZSBwb2xpY3lcbiAqICAgZ2xvYmFsbHlcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRTdHJpY3RUZW1wbGF0ZVBvbGljeSA9IGZ1bmN0aW9uKHVzZVN0cmljdFBvbGljeSkge1xuICBzdHJpY3RUZW1wbGF0ZVBvbGljeSA9IHVzZVN0cmljdFBvbGljeTtcbn07XG5cbi8qKlxuICogU2V0dGluZyB0byBlbmFibGUgZG9tLW1vZHVsZSBsb29rdXAgZnJvbSBQb2x5bWVyLkVsZW1lbnQuICBCeSBkZWZhdWx0LFxuICogdGVtcGxhdGVzIG11c3QgYmUgZGVmaW5lZCBpbiBzY3JpcHQgdXNpbmcgdGhlIGBzdGF0aWMgZ2V0IHRlbXBsYXRlKClgXG4gKiBnZXR0ZXIgYW5kIHRoZSBgaHRtbGAgdGFnIGZ1bmN0aW9uLiAgVG8gZW5hYmxlIGxlZ2FjeSBsb2FkaW5nIG9mIHRlbXBsYXRlc1xuICogdmlhIGRvbS1tb2R1bGUsIHNldCB0aGlzIGZsYWcgdG8gdHJ1ZS5cbiAqL1xuZXhwb3J0IGxldCBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSA9IGZhbHNlO1xuXG4vKipcbiAqIFNldHMgYGxvb2t1cFRlbXBsYXRlRnJvbURvbU1vZHVsZWAgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50c1xuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dEb21Nb2R1bGUgZW5hYmxlIG9yIGRpc2FibGUgdGVtcGxhdGUgbG9va3VwXG4gKiAgIGdsb2JhbGx5XG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0QWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGUgPSBmdW5jdGlvbihhbGxvd0RvbU1vZHVsZSkge1xuICBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSA9IGFsbG93RG9tTW9kdWxlO1xufTtcblxuLyoqXG4gKiBTZXR0aW5nIHRvIHNraXAgcHJvY2Vzc2luZyBzdHlsZSBpbmNsdWRlcyBhbmQgcmUtd3JpdGluZyB1cmxzIGluIGNzcyBzdHlsZXMuXG4gKiBOb3JtYWxseSBcImluY2x1ZGVkXCIgc3R5bGVzIGFyZSBwdWxsZWQgaW50byB0aGUgZWxlbWVudCBhbmQgYWxsIHVybHMgaW4gc3R5bGVzXG4gKiBhcmUgcmUtd3JpdHRlbiB0byBiZSByZWxhdGl2ZSB0byB0aGUgY29udGFpbmluZyBzY3JpcHQgdXJsLlxuICogSWYgbm8gaW5jbHVkZXMgb3IgcmVsYXRpdmUgdXJscyBhcmUgdXNlZCBpbiBzdHlsZXMsIHRoZXNlIHN0ZXBzIGNhbiBiZVxuICogc2tpcHBlZCBhcyBhbiBvcHRpbWl6YXRpb24uXG4gKi9cbmV4cG9ydCBsZXQgbGVnYWN5T3B0aW1pemF0aW9ucyA9IGZhbHNlO1xuXG4vKipcbiAqIFNldHMgYGxlZ2FjeU9wdGltaXphdGlvbnNgIGdsb2JhbGx5IGZvciBhbGwgZWxlbWVudHMgdG8gZW5hYmxlIG9wdGltaXphdGlvbnNcbiAqIHdoZW4gb25seSBsZWdhY3kgYmFzZWQgZWxlbWVudHMgYXJlIHVzZWQuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VMZWdhY3lPcHRpbWl6YXRpb25zIGVuYWJsZSBvciBkaXNhYmxlIGxlZ2FjeSBvcHRpbWl6YXRpb25zXG4gKiBpbmNsdWRlcyBhbmQgdXJsIHJld3JpdGluZ1xuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHNldExlZ2FjeU9wdGltaXphdGlvbnMgPSBmdW5jdGlvbih1c2VMZWdhY3lPcHRpbWl6YXRpb25zKSB7XG4gIGxlZ2FjeU9wdGltaXphdGlvbnMgPSB1c2VMZWdhY3lPcHRpbWl6YXRpb25zO1xufTtcblxuLyoqXG4gKiBTZXR0aW5nIHRvIHBlcmZvcm0gaW5pdGlhbCByZW5kZXJpbmcgc3luY2hyb25vdXNseSB3aGVuIHJ1bm5pbmcgdW5kZXIgU2hhZHlET00uXG4gKiBUaGlzIG1hdGNoZXMgdGhlIGJlaGF2aW9yIG9mIFBvbHltZXIgMS5cbiAqL1xuZXhwb3J0IGxldCBzeW5jSW5pdGlhbFJlbmRlciA9IGZhbHNlO1xuXG4vKipcbiAqIFNldHMgYHN5bmNJbml0aWFsUmVuZGVyYCBnbG9iYWxseSBmb3IgYWxsIGVsZW1lbnRzIHRvIGVuYWJsZSBzeW5jaHJvbm91c1xuICogaW5pdGlhbCByZW5kZXJpbmcuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VTeW5jSW5pdGlhbFJlbmRlciBlbmFibGUgb3IgZGlzYWJsZSBzeW5jaHJvbm91cyBpbml0aWFsXG4gKiByZW5kZXJpbmcgZ2xvYmFsbHkuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3Qgc2V0U3luY0luaXRpYWxSZW5kZXIgPSBmdW5jdGlvbih1c2VTeW5jSW5pdGlhbFJlbmRlcikge1xuICBzeW5jSW5pdGlhbFJlbmRlciA9IHVzZVN5bmNJbml0aWFsUmVuZGVyO1xufTtcblxuLyoqXG4gKiBTZXR0aW5nIHRvIGNhbmNlbCBzeW50aGV0aWMgY2xpY2sgZXZlbnRzIGZpcmVkIGJ5IG9sZGVyIG1vYmlsZSBicm93c2Vycy4gTW9kZXJuIGJyb3dzZXJzXG4gKiBubyBsb25nZXIgZmlyZSBzeW50aGV0aWMgY2xpY2sgZXZlbnRzLCBhbmQgdGhlIGNhbmNlbGxhdGlvbiBiZWhhdmlvciBjYW4gaW50ZXJmZXJlXG4gKiB3aGVuIHByb2dyYW1tYXRpY2FsbHkgY2xpY2tpbmcgb24gZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBsZXQgY2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHMgPSB0cnVlO1xuXG4vKipcbiAqIFNldHMgYHNldENhbmNlbFN5bnRoZXRpY0V2ZW50c2AgZ2xvYmFsbHkgZm9yIGFsbCBlbGVtZW50cyB0byBjYW5jZWwgc3ludGhldGljIGNsaWNrIGV2ZW50cy5cbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzIGVuYWJsZSBvciBkaXNhYmxlIGNhbmNlbGxpbmcgc3ludGhldGljXG4gKiBldmVudHNcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDYW5jZWxTeW50aGV0aWNDbGlja0V2ZW50cyA9IGZ1bmN0aW9uKHVzZUNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzKSB7XG4gIGNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzID0gdXNlQ2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHM7XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IHJlc29sdmVVcmwsIHBhdGhGcm9tVXJsIH0gZnJvbSAnLi4vdXRpbHMvcmVzb2x2ZS11cmwuanMnO1xuaW1wb3J0IHsgc3RyaWN0VGVtcGxhdGVQb2xpY3kgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5cbmxldCBtb2R1bGVzID0ge307XG5sZXQgbGNNb2R1bGVzID0ge307XG4vKipcbiAqIFNldHMgYSBkb20tbW9kdWxlIGludG8gdGhlIGdsb2JhbCByZWdpc3RyeSBieSBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgZG9tLW1vZHVsZSBpZFxuICogQHBhcmFtIHtEb21Nb2R1bGV9IG1vZHVsZSBkb20tbW9kdWxlIGluc3RhbmNlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBzZXRNb2R1bGUoaWQsIG1vZHVsZSkge1xuICAvLyBzdG9yZSBpZCBzZXBhcmF0ZSBmcm9tIGxvd2VyY2FzZWQgaWQgc28gdGhhdFxuICAvLyBpbiBhbGwgY2FzZXMgbWl4ZWRDYXNlIGlkIHdpbGwgc3RvcmVkIGRpc3RpbmN0bHlcbiAgLy8gYW5kIGxvd2VyY2FzZSB2ZXJzaW9uIGlzIGEgZmFsbGJhY2tcbiAgbW9kdWxlc1tpZF0gPSBsY01vZHVsZXNbaWQudG9Mb3dlckNhc2UoKV0gPSBtb2R1bGU7XG59XG4vKipcbiAqIFJldHJpZXZlcyBhIGRvbS1tb2R1bGUgZnJvbSB0aGUgZ2xvYmFsIHJlZ2lzdHJ5IGJ5IGlkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCBkb20tbW9kdWxlIGlkXG4gKiBAcmV0dXJuIHtEb21Nb2R1bGUhfSBkb20tbW9kdWxlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGZpbmRNb2R1bGUoaWQpIHtcbiAgcmV0dXJuIG1vZHVsZXNbaWRdIHx8IGxjTW9kdWxlc1tpZC50b0xvd2VyQ2FzZSgpXTtcbn1cblxuZnVuY3Rpb24gc3R5bGVPdXRzaWRlVGVtcGxhdGVDaGVjayhpbnN0KSB7XG4gIGlmIChpbnN0LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJykpIHtcbiAgICBjb25zb2xlLndhcm4oJ2RvbS1tb2R1bGUgJXMgaGFzIHN0eWxlIG91dHNpZGUgdGVtcGxhdGUnLCBpbnN0LmlkKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBgZG9tLW1vZHVsZWAgZWxlbWVudCByZWdpc3RlcnMgdGhlIGRvbSBpdCBjb250YWlucyB0byB0aGUgbmFtZSBnaXZlblxuICogYnkgdGhlIG1vZHVsZSdzIGlkIGF0dHJpYnV0ZS4gSXQgcHJvdmlkZXMgYSB1bmlmaWVkIGRhdGFiYXNlIG9mIGRvbVxuICogYWNjZXNzaWJsZSB2aWEgaXRzIHN0YXRpYyBgaW1wb3J0YCBBUEkuXG4gKlxuICogQSBrZXkgdXNlIGNhc2Ugb2YgYGRvbS1tb2R1bGVgIGlzIGZvciBwcm92aWRpbmcgY3VzdG9tIGVsZW1lbnQgYDx0ZW1wbGF0ZT5gc1xuICogdmlhIEhUTUwgaW1wb3J0cyB0aGF0IGFyZSBwYXJzZWQgYnkgdGhlIG5hdGl2ZSBIVE1MIHBhcnNlciwgdGhhdCBjYW4gYmVcbiAqIHJlbG9jYXRlZCBkdXJpbmcgYSBidW5kbGluZyBwYXNzIGFuZCBzdGlsbCBsb29rZWQgdXAgYnkgYGlkYC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICA8ZG9tLW1vZHVsZSBpZD1cImZvb1wiPlxuICogICAgICAgPGltZyBzcmM9XCJzdHVmZi5wbmdcIj5cbiAqICAgICA8L2RvbS1tb2R1bGU+XG4gKlxuICogVGhlbiBpbiBjb2RlIGluIHNvbWUgb3RoZXIgbG9jYXRpb24gdGhhdCBjYW5ub3QgYWNjZXNzIHRoZSBkb20tbW9kdWxlIGFib3ZlXG4gKlxuICogICAgIGxldCBpbWcgPSBjdXN0b21FbGVtZW50cy5nZXQoJ2RvbS1tb2R1bGUnKS5pbXBvcnQoJ2ZvbycsICdpbWcnKTtcbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGV4dGVuZHMgSFRNTEVsZW1lbnRcbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IHRoYXQgcHJvdmlkZXMgYSByZWdpc3RyeSBvZiByZWxvY2F0YWJsZSBET00gY29udGVudFxuICogICBieSBgaWRgIHRoYXQgaXMgYWdub3N0aWMgdG8gYnVuZGxpbmcuXG4gKiBAdW5yZXN0cmljdGVkXG4gKi9cbmV4cG9ydCBjbGFzcyBEb21Nb2R1bGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbiAgLyoqIEBvdmVycmlkZSAqL1xuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHsgcmV0dXJuIFsnaWQnXTsgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IHRoZSBjc3MgYHNlbGVjdG9yYCBpbiB0aGUgbW9kdWxlXG4gICAqIHJlZ2lzdGVyZWQgYnkgYGlkYC4gRm9yIGV4YW1wbGUsIHRoaXMuaW1wb3J0KCdmb28nLCAnaW1nJyk7XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgaWQgb2YgdGhlIGRvbS1tb2R1bGUgaW4gd2hpY2ggdG8gc2VhcmNoLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdG9yIFRoZSBjc3Mgc2VsZWN0b3IgYnkgd2hpY2ggdG8gZmluZCB0aGUgZWxlbWVudC5cbiAgICogQHJldHVybiB7RWxlbWVudH0gUmV0dXJucyB0aGUgZWxlbWVudCB3aGljaCBtYXRjaGVzIGBzZWxlY3RvcmAgaW4gdGhlXG4gICAqIG1vZHVsZSByZWdpc3RlcmVkIGF0IHRoZSBzcGVjaWZpZWQgYGlkYC5cbiAgICpcbiAgICogQGV4cG9ydFxuICAgKiBAbm9jb2xsYXBzZSBSZWZlcnJlZCB0byBpbmRpcmVjdGx5IGluIHN0eWxlLWdhdGhlci5qc1xuICAgKi9cbiAgc3RhdGljIGltcG9ydChpZCwgc2VsZWN0b3IpIHtcbiAgICBpZiAoaWQpIHtcbiAgICAgIGxldCBtID0gZmluZE1vZHVsZShpZCk7XG4gICAgICBpZiAobSAmJiBzZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gbS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBDdXJyZW50IHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICogQHBhcmFtIHs/c3RyaW5nfSBuYW1lc3BhY2UgQXR0cmlidXRlIG5hbWVzcGFjZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkLCB2YWx1ZSwgbmFtZXNwYWNlKSB7XG4gICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgIHRoaXMucmVnaXN0ZXIoKTtcbiAgICB9XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtYXJncyAqL1xuXG4gIC8qKlxuICAgKiBUaGUgYWJzb2x1dGUgVVJMIG9mIHRoZSBvcmlnaW5hbCBsb2NhdGlvbiBvZiB0aGlzIGBkb20tbW9kdWxlYC5cbiAgICpcbiAgICogVGhpcyB2YWx1ZSB3aWxsIGRpZmZlciBmcm9tIHRoaXMgZWxlbWVudCdzIGBvd25lckRvY3VtZW50YCBpbiB0aGVcbiAgICogZm9sbG93aW5nIHdheXM6XG4gICAqIC0gVGFrZXMgaW50byBhY2NvdW50IGFueSBgYXNzZXRwYXRoYCBhdHRyaWJ1dGUgYWRkZWQgZHVyaW5nIGJ1bmRsaW5nXG4gICAqICAgdG8gaW5kaWNhdGUgdGhlIG9yaWdpbmFsIGxvY2F0aW9uIHJlbGF0aXZlIHRvIHRoZSBidW5kbGVkIGxvY2F0aW9uXG4gICAqIC0gVXNlcyB0aGUgSFRNTEltcG9ydHMgcG9seWZpbGwncyBgaW1wb3J0Rm9yRWxlbWVudGAgQVBJIHRvIGVuc3VyZVxuICAgKiAgIHRoZSBwYXRoIGlzIHJlbGF0aXZlIHRvIHRoZSBpbXBvcnQgZG9jdW1lbnQncyBsb2NhdGlvbiBzaW5jZVxuICAgKiAgIGBvd25lckRvY3VtZW50YCBpcyBub3QgY3VycmVudGx5IHBvbHlmaWxsZWRcbiAgICovXG4gIGdldCBhc3NldHBhdGgoKSB7XG4gICAgLy8gRG9uJ3Qgb3ZlcnJpZGUgZXhpc3RpbmcgYXNzZXRwYXRoLlxuICAgIGlmICghdGhpcy5fX2Fzc2V0cGF0aCkge1xuICAgICAgLy8gbm90ZTogYXNzZXRwYXRoIHNldCB2aWEgYW4gYXR0cmlidXRlIG11c3QgYmUgcmVsYXRpdmUgdG8gdGhpc1xuICAgICAgLy8gZWxlbWVudCdzIGxvY2F0aW9uOyBhY2NvbW9kYXRlIHBvbHlmaWxsZWQgSFRNTEltcG9ydHNcbiAgICAgIGNvbnN0IG93bmVyID0gd2luZG93LkhUTUxJbXBvcnRzICYmIEhUTUxJbXBvcnRzLmltcG9ydEZvckVsZW1lbnQgP1xuICAgICAgICBIVE1MSW1wb3J0cy5pbXBvcnRGb3JFbGVtZW50KHRoaXMpIHx8IGRvY3VtZW50IDogdGhpcy5vd25lckRvY3VtZW50O1xuICAgICAgY29uc3QgdXJsID0gcmVzb2x2ZVVybChcbiAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoJ2Fzc2V0cGF0aCcpIHx8ICcnLCBvd25lci5iYXNlVVJJKTtcbiAgICAgIHRoaXMuX19hc3NldHBhdGggPSBwYXRoRnJvbVVybCh1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2Fzc2V0cGF0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIGRvbS1tb2R1bGUgYXQgYSBnaXZlbiBpZC4gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAqIHdoZW4gYSBkb20tbW9kdWxlIGlzIGltcGVyYXRpdmVseSBjcmVhdGVkLiBGb3JcbiAgICogZXhhbXBsZSwgYGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RvbS1tb2R1bGUnKS5yZWdpc3RlcignZm9vJylgLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IGlkIFRoZSBpZCBhdCB3aGljaCB0byByZWdpc3RlciB0aGUgZG9tLW1vZHVsZS5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlZ2lzdGVyKGlkKSB7XG4gICAgaWQgPSBpZCB8fCB0aGlzLmlkO1xuICAgIGlmIChpZCkge1xuICAgICAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3ksIHJlamVjdCBhbmQgbnVsbCBvdXQgYW55IHJlLXJlZ2lzdGVyZWRcbiAgICAgIC8vIGRvbS1tb2R1bGUgc2luY2UgaXQgaXMgYW1iaWd1b3VzIHdoZXRoZXIgZmlyc3QtaW4gb3IgbGFzdC1pbiBpcyB0cnVzdGVkXG4gICAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kgJiYgZmluZE1vZHVsZShpZCkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXRNb2R1bGUoaWQsIG51bGwpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHN0cmljdFRlbXBsYXRlUG9saWN5OiBkb20tbW9kdWxlICR7aWR9IHJlLXJlZ2lzdGVyZWRgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgIHNldE1vZHVsZShpZCwgdGhpcyk7XG4gICAgICBzdHlsZU91dHNpZGVUZW1wbGF0ZUNoZWNrKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5Eb21Nb2R1bGUucHJvdG90eXBlWydtb2R1bGVzJ10gPSBtb2R1bGVzO1xuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RvbS1tb2R1bGUnLCBEb21Nb2R1bGUpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIGNvbGxlY3Rpb24gQ1NTIHRleHQgZnJvbSBgPHRlbXBsYXRlcz5gLCBleHRlcm5hbFxuICogc3R5bGVzaGVldHMsIGFuZCBgZG9tLW1vZHVsZWBzLlxuICpcbiAqIEBzdW1tYXJ5IE1vZHVsZSB3aXRoIHV0aWxpdGllcyBmb3IgY29sbGVjdGlvbiBDU1MgdGV4dCBmcm9tIHZhcmlvdXMgc291cmNlcy5cbiAqL1xuXG5pbXBvcnQgeyBEb21Nb2R1bGUgfSBmcm9tICcuLi9lbGVtZW50cy9kb20tbW9kdWxlLmpzJztcbmltcG9ydCB7IHJlc29sdmVDc3MgfSBmcm9tICcuL3Jlc29sdmUtdXJsLmpzJztcblxuY29uc3QgTU9EVUxFX1NUWUxFX0xJTktfU0VMRUNUT1IgPSAnbGlua1tyZWw9aW1wb3J0XVt0eXBlfj1jc3NdJztcbmNvbnN0IElOQ0xVREVfQVRUUiA9ICdpbmNsdWRlJztcbmNvbnN0IFNIQURZX1VOU0NPUEVEX0FUVFIgPSAnc2hhZHktdW5zY29wZWQnO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZCAuXG4gKiBAcmV0dXJuIHs/RG9tTW9kdWxlfSAuXG4gKi9cbmZ1bmN0aW9uIGltcG9ydE1vZHVsZShtb2R1bGVJZCkge1xuICByZXR1cm4gLyoqIEB0eXBlIHs/RG9tTW9kdWxlfSAqLyhEb21Nb2R1bGUuaW1wb3J0KG1vZHVsZUlkKSk7XG59XG5cbmZ1bmN0aW9uIHN0eWxlRm9ySW1wb3J0KGltcG9ydERvYykge1xuICAvLyBOT1RFOiBwb2x5ZmlsbCBhZmZvcmRhbmNlLlxuICAvLyB1bmRlciB0aGUgSFRNTEltcG9ydHMgcG9seWZpbGwsIHRoZXJlIHdpbGwgYmUgbm8gJ2JvZHknLFxuICAvLyBidXQgdGhlIGltcG9ydCBwc2V1ZG8tZG9jIGNhbiBiZSB1c2VkIGRpcmVjdGx5LlxuICBsZXQgY29udGFpbmVyID0gaW1wb3J0RG9jLmJvZHkgPyBpbXBvcnREb2MuYm9keSA6IGltcG9ydERvYztcbiAgY29uc3QgaW1wb3J0Q3NzID0gcmVzb2x2ZUNzcyhjb250YWluZXIudGV4dENvbnRlbnQsXG4gICAgaW1wb3J0RG9jLmJhc2VVUkkpO1xuICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gaW1wb3J0Q3NzO1xuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKiBAdHlwZWRlZiB7e2Fzc2V0cGF0aDogc3RyaW5nfX0gKi9cbmxldCB0ZW1wbGF0ZVdpdGhBc3NldFBhdGg7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuXG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIDxzdHlsZT4gZWxlbWVudHMgaW4gYSBzcGFjZS1zZXBhcmF0ZWQgbGlzdCBvZiBgZG9tLW1vZHVsZWBzLlxuICpcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkcyBMaXN0IG9mIGRvbS1tb2R1bGUgaWQncyB3aXRoaW4gd2hpY2ggdG9cbiAqIHNlYXJjaCBmb3IgY3NzLlxuICogQHJldHVybiB7IUFycmF5PCFIVE1MU3R5bGVFbGVtZW50Pn0gQXJyYXkgb2YgY29udGFpbmVkIDxzdHlsZT4gZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlc0Zyb21Nb2R1bGVzKG1vZHVsZUlkcykge1xuIGNvbnN0IG1vZHVsZXMgPSBtb2R1bGVJZHMudHJpbSgpLnNwbGl0KC9cXHMrLyk7XG4gY29uc3Qgc3R5bGVzID0gW107XG4gZm9yIChsZXQgaT0wOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgc3R5bGVzLnB1c2goLi4uc3R5bGVzRnJvbU1vZHVsZShtb2R1bGVzW2ldKSk7XG4gfVxuIHJldHVybiBzdHlsZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgPHN0eWxlPiBlbGVtZW50cyBpbiBhIGdpdmVuIGBkb20tbW9kdWxlYC5cbiAqIFN0eWxlcyBpbiBhIGBkb20tbW9kdWxlYCBjYW4gY29tZSBlaXRoZXIgZnJvbSBgPHN0eWxlPmBzIHdpdGhpbiB0aGVcbiAqIGZpcnN0IGA8dGVtcGxhdGU+YCwgb3IgZWxzZSBmcm9tIG9uZSBvciBtb3JlXG4gKiBgPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPmAgbGlua3Mgb3V0c2lkZSB0aGUgdGVtcGxhdGUuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIGRvbS1tb2R1bGUgaWQgdG8gZ2F0aGVyIHN0eWxlcyBmcm9tXG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTdHlsZUVsZW1lbnQ+fSBBcnJheSBvZiBjb250YWluZWQgc3R5bGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVzRnJvbU1vZHVsZShtb2R1bGVJZCkge1xuICBjb25zdCBtID0gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKTtcblxuICBpZiAoIW0pIHtcbiAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBmaW5kIHN0eWxlIGRhdGEgaW4gbW9kdWxlIG5hbWVkJywgbW9kdWxlSWQpO1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIGlmIChtLl9zdHlsZXMgPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIC8vIG1vZHVsZSBpbXBvcnRzOiA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+XG4gICAgc3R5bGVzLnB1c2goLi4uX3N0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKG0pKTtcbiAgICAvLyBpbmNsdWRlIGNzcyBmcm9tIHRoZSBmaXJzdCB0ZW1wbGF0ZSBpbiB0aGUgbW9kdWxlXG4gICAgY29uc3QgdGVtcGxhdGUgPSAvKiogQHR5cGUgez9IVE1MVGVtcGxhdGVFbGVtZW50fSAqLyhcbiAgICAgICAgbS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICBpZiAodGVtcGxhdGUpIHtcbiAgICAgIHN0eWxlcy5wdXNoKC4uLnN0eWxlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSxcbiAgICAgICAgLyoqIEB0eXBlIHt0ZW1wbGF0ZVdpdGhBc3NldFBhdGh9ICovKG0pLmFzc2V0cGF0aCkpO1xuICAgIH1cblxuICAgIG0uX3N0eWxlcyA9IHN0eWxlcztcbiAgfVxuXG4gIHJldHVybiBtLl9zdHlsZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYDxzdHlsZT5gIGVsZW1lbnRzIHdpdGhpbiBhIGdpdmVuIHRlbXBsYXRlLlxuICpcbiAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIGdhdGhlciBzdHlsZXMgZnJvbVxuICogQHBhcmFtIHtzdHJpbmc9fSBiYXNlVVJJIGJhc2VVUkkgZm9yIHN0eWxlIGNvbnRlbnRcbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIHN0eWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVzRnJvbVRlbXBsYXRlKHRlbXBsYXRlLCBiYXNlVVJJKSB7XG4gIGlmICghdGVtcGxhdGUuX3N0eWxlcykge1xuICAgIGNvbnN0IHN0eWxlcyA9IFtdO1xuICAgIC8vIGlmIGVsZW1lbnQgaXMgYSB0ZW1wbGF0ZSwgZ2V0IGNvbnRlbnQgZnJvbSBpdHMgLmNvbnRlbnRcbiAgICBjb25zdCBlJCA9IHRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGUnKTtcbiAgICBmb3IgKGxldCBpPTA7IGkgPCBlJC5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGUgPSBlJFtpXTtcbiAgICAgIC8vIHN1cHBvcnQgc3R5bGUgc2hhcmluZyBieSBhbGxvd2luZyBzdHlsZXMgdG8gXCJpbmNsdWRlXCJcbiAgICAgIC8vIG90aGVyIGRvbS1tb2R1bGVzIHRoYXQgY29udGFpbiBzdHlsaW5nXG4gICAgICBsZXQgaW5jbHVkZSA9IGUuZ2V0QXR0cmlidXRlKElOQ0xVREVfQVRUUik7XG4gICAgICBpZiAoaW5jbHVkZSkge1xuICAgICAgICBzdHlsZXMucHVzaCguLi5zdHlsZXNGcm9tTW9kdWxlcyhpbmNsdWRlKS5maWx0ZXIoZnVuY3Rpb24oaXRlbSwgaW5kZXgsIHNlbGYpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5pbmRleE9mKGl0ZW0pID09PSBpbmRleDtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VVUkkpIHtcbiAgICAgICAgZS50ZXh0Q29udGVudCA9XG4gICAgICAgICAgICByZXNvbHZlQ3NzKGUudGV4dENvbnRlbnQsIC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoYmFzZVVSSSkpO1xuICAgICAgfVxuICAgICAgc3R5bGVzLnB1c2goZSk7XG4gICAgfVxuICAgIHRlbXBsYXRlLl9zdHlsZXMgPSBzdHlsZXM7XG4gIH1cbiAgcmV0dXJuIHRlbXBsYXRlLl9zdHlsZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGxpc3Qgb2YgPHN0eWxlPiBlbGVtZW50cyAgZnJvbSBzdHlsZXNoZWV0cyBsb2FkZWQgdmlhIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YCBsaW5rcyB3aXRoaW4gdGhlIHNwZWNpZmllZCBgZG9tLW1vZHVsZWAuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZUlkIElkIG9mIGBkb20tbW9kdWxlYCB0byBnYXRoZXIgQ1NTIGZyb21cbiAqIEByZXR1cm4geyFBcnJheTwhSFRNTFN0eWxlRWxlbWVudD59IEFycmF5IG9mIGNvbnRhaW5lZCBzdHlsZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyhtb2R1bGVJZCkge1xuIGxldCBtID0gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKTtcbiByZXR1cm4gbSA/IF9zdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyhtKSA6IFtdO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBtb2R1bGUgZG9tLW1vZHVsZSBlbGVtZW50IHRoYXQgY291bGQgY29udGFpbiBgPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPmAgc3R5bGVzXG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTdHlsZUVsZW1lbnQ+fSBBcnJheSBvZiBjb250YWluZWQgc3R5bGVzXG4gKi9cbmZ1bmN0aW9uIF9zdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyhtb2R1bGUpIHtcbiAgY29uc3Qgc3R5bGVzID0gW107XG4gIGNvbnN0IHAkID0gbW9kdWxlLnF1ZXJ5U2VsZWN0b3JBbGwoTU9EVUxFX1NUWUxFX0xJTktfU0VMRUNUT1IpO1xuICBmb3IgKGxldCBpPTA7IGkgPCBwJC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBwID0gcCRbaV07XG4gICAgaWYgKHAuaW1wb3J0KSB7XG4gICAgICBjb25zdCBpbXBvcnREb2MgPSBwLmltcG9ydDtcbiAgICAgIGNvbnN0IHVuc2NvcGVkID0gcC5oYXNBdHRyaWJ1dGUoU0hBRFlfVU5TQ09QRURfQVRUUik7XG4gICAgICBpZiAodW5zY29wZWQgJiYgIWltcG9ydERvYy5fdW5zY29wZWRTdHlsZSkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHN0eWxlRm9ySW1wb3J0KGltcG9ydERvYyk7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShTSEFEWV9VTlNDT1BFRF9BVFRSLCAnJyk7XG4gICAgICAgIGltcG9ydERvYy5fdW5zY29wZWRTdHlsZSA9IHN0eWxlO1xuICAgICAgfSBlbHNlIGlmICghaW1wb3J0RG9jLl9zdHlsZSkge1xuICAgICAgICBpbXBvcnREb2MuX3N0eWxlID0gc3R5bGVGb3JJbXBvcnQoaW1wb3J0RG9jKTtcbiAgICAgIH1cbiAgICAgIHN0eWxlcy5wdXNoKHVuc2NvcGVkID8gaW1wb3J0RG9jLl91bnNjb3BlZFN0eWxlIDogaW1wb3J0RG9jLl9zdHlsZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZXM7XG59XG5cbi8qKlxuICpcbiAqIFJldHVybnMgQ1NTIHRleHQgb2Ygc3R5bGVzIGluIGEgc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2YgYGRvbS1tb2R1bGVgcy5cbiAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBgc3R5bGVzRnJvbU1vZHVsZXNgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZHMgTGlzdCBvZiBkb20tbW9kdWxlIGlkJ3Mgd2l0aGluIHdoaWNoIHRvXG4gKiBzZWFyY2ggZm9yIGNzcy5cbiAqIEByZXR1cm4ge3N0cmluZ30gQ29uY2F0ZW5hdGVkIENTUyBjb250ZW50IGZyb20gc3BlY2lmaWVkIGBkb20tbW9kdWxlYHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0Zyb21Nb2R1bGVzKG1vZHVsZUlkcykge1xuIGxldCBtb2R1bGVzID0gbW9kdWxlSWRzLnRyaW0oKS5zcGxpdCgvXFxzKy8pO1xuIGxldCBjc3NUZXh0ID0gJyc7XG4gZm9yIChsZXQgaT0wOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgY3NzVGV4dCArPSBjc3NGcm9tTW9kdWxlKG1vZHVsZXNbaV0pO1xuIH1cbiByZXR1cm4gY3NzVGV4dDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIENTUyB0ZXh0IG9mIHN0eWxlcyBpbiBhIGdpdmVuIGBkb20tbW9kdWxlYC4gIENTUyBpbiBhIGBkb20tbW9kdWxlYFxuICogY2FuIGNvbWUgZWl0aGVyIGZyb20gYDxzdHlsZT5gcyB3aXRoaW4gdGhlIGZpcnN0IGA8dGVtcGxhdGU+YCwgb3IgZWxzZVxuICogZnJvbSBvbmUgb3IgbW9yZSBgPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPmAgbGlua3Mgb3V0c2lkZSB0aGVcbiAqIHRlbXBsYXRlLlxuICpcbiAqIEFueSBgPHN0eWxlcz5gIHByb2Nlc3NlZCBhcmUgcmVtb3ZlZCBmcm9tIHRoZWlyIG9yaWdpbmFsIGxvY2F0aW9uLlxuICogTm90ZTogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGBzdHlsZUZyb21Nb2R1bGVgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGVJZCBkb20tbW9kdWxlIGlkIHRvIGdhdGhlciBzdHlsZXMgZnJvbVxuICogQHJldHVybiB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgQ1NTIGNvbnRlbnQgZnJvbSBzcGVjaWZpZWQgYGRvbS1tb2R1bGVgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NGcm9tTW9kdWxlKG1vZHVsZUlkKSB7XG4gIGxldCBtID0gaW1wb3J0TW9kdWxlKG1vZHVsZUlkKTtcbiAgaWYgKG0gJiYgbS5fY3NzVGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gbW9kdWxlIGltcG9ydHM6IDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj5cbiAgICBsZXQgY3NzVGV4dCA9IF9jc3NGcm9tTW9kdWxlSW1wb3J0cyhtKTtcbiAgICAvLyBpbmNsdWRlIGNzcyBmcm9tIHRoZSBmaXJzdCB0ZW1wbGF0ZSBpbiB0aGUgbW9kdWxlXG4gICAgbGV0IHQgPSAvKiogQHR5cGUgez9IVE1MVGVtcGxhdGVFbGVtZW50fSAqLyhtLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgIGlmICh0KSB7XG4gICAgICBjc3NUZXh0ICs9IGNzc0Zyb21UZW1wbGF0ZSh0LFxuICAgICAgICAvKiogQHR5cGUge3RlbXBsYXRlV2l0aEFzc2V0UGF0aH0gKi8obSkuYXNzZXRwYXRoKTtcbiAgICB9XG4gICAgbS5fY3NzVGV4dCA9IGNzc1RleHQgfHwgbnVsbDtcbiAgfVxuICBpZiAoIW0pIHtcbiAgICBjb25zb2xlLndhcm4oJ0NvdWxkIG5vdCBmaW5kIHN0eWxlIGRhdGEgaW4gbW9kdWxlIG5hbWVkJywgbW9kdWxlSWQpO1xuICB9XG4gIHJldHVybiBtICYmIG0uX2Nzc1RleHQgfHwgJyc7XG59XG5cbi8qKlxuICogUmV0dXJucyBDU1MgdGV4dCBvZiBgPHN0eWxlcz5gIHdpdGhpbiBhIGdpdmVuIHRlbXBsYXRlLlxuICpcbiAqIEFueSBgPHN0eWxlcz5gIHByb2Nlc3NlZCBhcmUgcmVtb3ZlZCBmcm9tIHRoZWlyIG9yaWdpbmFsIGxvY2F0aW9uLlxuICogTm90ZTogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZCwgdXNlIGBzdHlsZUZyb21UZW1wbGF0ZWAgaW5zdGVhZC5cbiAqXG4gKiBAZGVwcmVjYXRlZFxuICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgdG8gZ2F0aGVyIHN0eWxlcyBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSSBCYXNlIFVSSSB0byByZXNvbHZlIHRoZSBVUkwgYWdhaW5zdFxuICogQHJldHVybiB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgQ1NTIGNvbnRlbnQgZnJvbSBzcGVjaWZpZWQgdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNzc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgYmFzZVVSSSkge1xuICBsZXQgY3NzVGV4dCA9ICcnO1xuICBjb25zdCBlJCA9IHN0eWxlc0Zyb21UZW1wbGF0ZSh0ZW1wbGF0ZSwgYmFzZVVSSSk7XG4gIC8vIGlmIGVsZW1lbnQgaXMgYSB0ZW1wbGF0ZSwgZ2V0IGNvbnRlbnQgZnJvbSBpdHMgLmNvbnRlbnRcbiAgZm9yIChsZXQgaT0wOyBpIDwgZSQubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZSA9IGUkW2ldO1xuICAgIGlmIChlLnBhcmVudE5vZGUpIHtcbiAgICAgIGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKTtcbiAgICB9XG4gICAgY3NzVGV4dCArPSBlLnRleHRDb250ZW50O1xuICB9XG4gIHJldHVybiBjc3NUZXh0O1xufVxuXG4vKipcbiAqIFJldHVybnMgQ1NTIHRleHQgZnJvbSBzdHlsZXNoZWV0cyBsb2FkZWQgdmlhIGA8bGluayByZWw9XCJpbXBvcnRcIiB0eXBlPVwiY3NzXCI+YFxuICogbGlua3Mgd2l0aGluIHRoZSBzcGVjaWZpZWQgYGRvbS1tb2R1bGVgLlxuICpcbiAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQsIHVzZSBgc3R5bGVzRnJvbU1vZHVsZUltcG9ydHNgIGluc3RlYWQuXG4gKlxuICogQGRlcHJlY2F0ZWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlSWQgSWQgb2YgYGRvbS1tb2R1bGVgIHRvIGdhdGhlciBDU1MgZnJvbVxuICogQHJldHVybiB7c3RyaW5nfSBDb25jYXRlbmF0ZWQgQ1NTIGNvbnRlbnQgZnJvbSBsaW5rcyBpbiBzcGVjaWZpZWQgYGRvbS1tb2R1bGVgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjc3NGcm9tTW9kdWxlSW1wb3J0cyhtb2R1bGVJZCkge1xuICBsZXQgbSA9IGltcG9ydE1vZHVsZShtb2R1bGVJZCk7XG4gIHJldHVybiBtID8gX2Nzc0Zyb21Nb2R1bGVJbXBvcnRzKG0pIDogJyc7XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBtb2R1bGUgZG9tLW1vZHVsZSBlbGVtZW50IHRoYXQgY291bGQgY29udGFpbiBgPGxpbmsgcmVsPVwiaW1wb3J0XCIgdHlwZT1cImNzc1wiPmAgc3R5bGVzXG4gKiBAcmV0dXJuIHtzdHJpbmd9IENvbmNhdGVuYXRlZCBDU1MgY29udGVudCBmcm9tIGxpbmtzIGluIHRoZSBkb20tbW9kdWxlXG4gKi9cbmZ1bmN0aW9uIF9jc3NGcm9tTW9kdWxlSW1wb3J0cyhtb2R1bGUpIHtcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgbGV0IHN0eWxlcyA9IF9zdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyhtb2R1bGUpO1xuICBmb3IgKGxldCBpPTA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjc3NUZXh0ICs9IHN0eWxlc1tpXS50ZXh0Q29udGVudDtcbiAgfVxuICByZXR1cm4gY3NzVGV4dDtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL2VudHJ5cG9pbnRzL2N1c3RvbS1zdHlsZS1pbnRlcmZhY2UuanMnO1xuXG5pbXBvcnQgeyBjc3NGcm9tTW9kdWxlcyB9IGZyb20gJy4uL3V0aWxzL3N0eWxlLWdhdGhlci5qcyc7XG5cbmNvbnN0IGF0dHIgPSAnaW5jbHVkZSc7XG5cbmNvbnN0IEN1c3RvbVN0eWxlSW50ZXJmYWNlID0gd2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlO1xuXG4vKipcbiAqIEN1c3RvbSBlbGVtZW50IGZvciBkZWZpbmluZyBzdHlsZXMgaW4gdGhlIG1haW4gZG9jdW1lbnQgdGhhdCBjYW4gdGFrZVxuICogYWR2YW50YWdlIG9mIFtzaGFkeSBET01dKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzKSBzaGltc1xuICogZm9yIHN0eWxlIGVuY2Fwc3VsYXRpb24sIGN1c3RvbSBwcm9wZXJ0aWVzLCBhbmQgY3VzdG9tIG1peGlucy5cbiAqXG4gKiAtIERvY3VtZW50IHN0eWxlcyBkZWZpbmVkIGluIGEgYDxjdXN0b20tc3R5bGU+YCBhcmUgc2hpbW1lZCB0byBlbnN1cmUgdGhleVxuICogICBkbyBub3QgbGVhayBpbnRvIGxvY2FsIERPTSB3aGVuIHJ1bm5pbmcgb24gYnJvd3NlcnMgd2l0aG91dCBuYXRpdmVcbiAqICAgU2hhZG93IERPTS5cbiAqIC0gQ3VzdG9tIHByb3BlcnRpZXMgY2FuIGJlIGRlZmluZWQgaW4gYSBgPGN1c3RvbS1zdHlsZT5gLiBVc2UgdGhlIGBodG1sYCBzZWxlY3RvclxuICogICB0byBkZWZpbmUgY3VzdG9tIHByb3BlcnRpZXMgdGhhdCBhcHBseSB0byBhbGwgY3VzdG9tIGVsZW1lbnRzLlxuICogLSBDdXN0b20gbWl4aW5zIGNhbiBiZSBkZWZpbmVkIGluIGEgYDxjdXN0b20tc3R5bGU+YCwgaWYgeW91IGltcG9ydCB0aGUgb3B0aW9uYWxcbiAqICAgW2FwcGx5IHNoaW1dKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJjb21wb25lbnRzL3NoYWR5Y3NzI2Fib3V0LWFwcGx5c2hpbSlcbiAqICAgKGBzaGFkeWNzcy9hcHBseS1zaGltLmh0bWxgKS5cbiAqXG4gKiBUbyB1c2U6XG4gKlxuICogLSBJbXBvcnQgYGN1c3RvbS1zdHlsZS5odG1sYC5cbiAqIC0gUGxhY2UgYSBgPGN1c3RvbS1zdHlsZT5gIGVsZW1lbnQgaW4gdGhlIG1haW4gZG9jdW1lbnQsIHdyYXBwaW5nIGFuIGlubGluZSBgPHN0eWxlPmAgdGFnIHRoYXRcbiAqICAgY29udGFpbnMgdGhlIENTUyBydWxlcyB5b3Ugd2FudCB0byBzaGltLlxuICpcbiAqIEZvciBleGFtcGxlOlxuICpcbiAqIGBgYGh0bWxcbiAqIDwhLS0gaW1wb3J0IGFwcGx5IHNoaW0tLW9ubHkgcmVxdWlyZWQgaWYgdXNpbmcgbWl4aW5zIC0tPlxuICogPGxpbmsgcmVsPVwiaW1wb3J0XCIgaHJlZj1cImJvd2VyX2NvbXBvbmVudHMvc2hhZHljc3MvYXBwbHktc2hpbS5odG1sXCI+XG4gKiA8IS0tIGltcG9ydCBjdXN0b20tc3R5bGUgZWxlbWVudCAtLT5cbiAqIDxsaW5rIHJlbD1cImltcG9ydFwiIGhyZWY9XCJib3dlcl9jb21wb25lbnRzL3BvbHltZXIvbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5odG1sXCI+XG4gKlxuICogPGN1c3RvbS1zdHlsZT5cbiAqICAgPHN0eWxlPlxuICogICAgIGh0bWwge1xuICogICAgICAgLS1jdXN0b20tY29sb3I6IGJsdWU7XG4gKiAgICAgICAtLWN1c3RvbS1taXhpbjoge1xuICogICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAqICAgICAgICAgY29sb3I6IHJlZDtcbiAqICAgICAgIH07XG4gKiAgICAgfVxuICogICA8L3N0eWxlPlxuICogPC9jdXN0b20tc3R5bGU+XG4gKiBgYGBcbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGV4dGVuZHMgSFRNTEVsZW1lbnRcbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IGZvciBkZWZpbmluZyBzdHlsZXMgaW4gdGhlIG1haW4gZG9jdW1lbnQgdGhhdCBjYW5cbiAqICAgdGFrZSBhZHZhbnRhZ2Ugb2YgUG9seW1lcidzIHN0eWxlIHNjb3BpbmcgYW5kIGN1c3RvbSBwcm9wZXJ0aWVzIHNoaW1zLlxuICovXG5leHBvcnQgY2xhc3MgQ3VzdG9tU3R5bGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fc3R5bGUgPSBudWxsO1xuICAgIEN1c3RvbVN0eWxlSW50ZXJmYWNlLmFkZEN1c3RvbVN0eWxlKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaWdodC1ET00gYDxzdHlsZT5gIGNoaWxkIHRoaXMgZWxlbWVudCB3cmFwcy4gIFVwb24gZmlyc3RcbiAgICogY2FsbCBhbnkgc3R5bGUgbW9kdWxlcyByZWZlcmVuY2VkIHZpYSB0aGUgYGluY2x1ZGVgIGF0dHJpYnV0ZSB3aWxsIGJlXG4gICAqIGNvbmNhdGVuYXRlZCB0byB0aGlzIGVsZW1lbnQncyBgPHN0eWxlPmAuXG4gICAqXG4gICAqIEBleHBvcnRcbiAgICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH0gVGhpcyBlbGVtZW50J3MgbGlnaHQtRE9NIGA8c3R5bGU+YFxuICAgKi9cbiAgZ2V0U3R5bGUoKSB7XG4gICAgaWYgKHRoaXMuX3N0eWxlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfVxuICAgIGNvbnN0IHN0eWxlID0gLyoqIEB0eXBlIHtIVE1MU3R5bGVFbGVtZW50fSAqLyh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJykpO1xuICAgIGlmICghc3R5bGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgIGNvbnN0IGluY2x1ZGUgPSBzdHlsZS5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgaWYgKGluY2x1ZGUpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgIC8qKiBAc3VwcHJlc3Mge2RlcHJlY2F0ZWR9ICovXG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9IGNzc0Zyb21Nb2R1bGVzKGluY2x1ZGUpICsgc3R5bGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIC8qXG4gICAgSFRNTCBJbXBvcnRzIHN0eWxpbmcgdGhlIG1haW4gZG9jdW1lbnQgYXJlIGRlcHJlY2F0ZWQgaW4gQ2hyb21lXG4gICAgaHR0cHM6Ly9jcmJ1Zy5jb20vNTIzOTUyXG5cbiAgICBJZiB0aGlzIGVsZW1lbnQgaXMgbm90IGluIHRoZSBtYWluIGRvY3VtZW50LCB0aGVuIGl0IG11c3QgYmUgaW4gYW4gSFRNTCBJbXBvcnQgZG9jdW1lbnQuXG4gICAgSW4gdGhhdCBjYXNlLCBtb3ZlIHRoZSBjdXN0b20gc3R5bGUgdG8gdGhlIG1haW4gZG9jdW1lbnQuXG5cbiAgICBUaGUgb3JkZXJpbmcgb2YgYDxjdXN0b20tc3R5bGU+YCBzaG91bGQgc3RheSB0aGUgc2FtZSBhcyB3aGVuIGxvYWRlZCBieSBIVE1MIEltcG9ydHMsIGJ1dCB0aGVyZSBtYXkgYmUgb2RkXG4gICAgY2FzZXMgb2Ygb3JkZXJpbmcgdy5yLnQgdGhlIG1haW4gZG9jdW1lbnQgc3R5bGVzLlxuICAgICovXG4gICAgaWYgKHRoaXMub3duZXJEb2N1bWVudCAhPT0gd2luZG93LmRvY3VtZW50KSB7XG4gICAgICB3aW5kb3cuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3N0eWxlO1xuICB9XG59XG5cbndpbmRvdy5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2N1c3RvbS1zdHlsZScsIEN1c3RvbVN0eWxlKTtcbiIsImltcG9ydCAnLi92ZXJzaW9uLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLW1vZHVsZS5qcyc7XG5jb25zdCAkX2RvY3VtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxuJF9kb2N1bWVudENvbnRhaW5lci5pbm5lckhUTUwgPSBgPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlPlxuICAgIGh0bWwge1xuICAgICAgLyogQmFzZSAoYmFja2dyb3VuZCkgKi9cbiAgICAgIC0tbHVtby1iYXNlLWNvbG9yOiAjRkZGO1xuXG4gICAgICAvKiBUaW50ICovXG4gICAgICAtLWx1bW8tdGludC01cGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjMpO1xuICAgICAgLS1sdW1vLXRpbnQtMTBwY3Q6IGhzbGEoMCwgMCUsIDEwMCUsIDAuMzcpO1xuICAgICAgLS1sdW1vLXRpbnQtMjBwY3Q6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNDQpO1xuICAgICAgLS1sdW1vLXRpbnQtMzBwY3Q6IGhzbGEoMCwgMCUsIDEwMCUsIDAuNSk7XG4gICAgICAtLWx1bW8tdGludC00MHBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC41Nyk7XG4gICAgICAtLWx1bW8tdGludC01MHBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC42NCk7XG4gICAgICAtLWx1bW8tdGludC02MHBjdDogaHNsYSgwLCAwJSwgMTAwJSwgMC43KTtcbiAgICAgIC0tbHVtby10aW50LTcwcGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjc3KTtcbiAgICAgIC0tbHVtby10aW50LTgwcGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjg0KTtcbiAgICAgIC0tbHVtby10aW50LTkwcGN0OiBoc2xhKDAsIDAlLCAxMDAlLCAwLjkpO1xuICAgICAgLS1sdW1vLXRpbnQ6ICNGRkY7XG5cbiAgICAgIC8qIFNoYWRlICovXG4gICAgICAtLWx1bW8tc2hhZGUtNXBjdDogaHNsYSgyMTQsIDYxJSwgMjUlLCAwLjA1KTtcbiAgICAgIC0tbHVtby1zaGFkZS0xMHBjdDogaHNsYSgyMTQsIDU3JSwgMjQlLCAwLjEpO1xuICAgICAgLS1sdW1vLXNoYWRlLTIwcGN0OiBoc2xhKDIxNCwgNTMlLCAyMyUsIDAuMTYpO1xuICAgICAgLS1sdW1vLXNoYWRlLTMwcGN0OiBoc2xhKDIxNCwgNTAlLCAyMiUsIDAuMjYpO1xuICAgICAgLS1sdW1vLXNoYWRlLTQwcGN0OiBoc2xhKDIxNCwgNDclLCAyMSUsIDAuMzgpO1xuICAgICAgLS1sdW1vLXNoYWRlLTUwcGN0OiBoc2xhKDIxNCwgNDUlLCAyMCUsIDAuNSk7XG4gICAgICAtLWx1bW8tc2hhZGUtNjBwY3Q6IGhzbGEoMjE0LCA0MyUsIDE5JSwgMC42MSk7XG4gICAgICAtLWx1bW8tc2hhZGUtNzBwY3Q6IGhzbGEoMjE0LCA0MiUsIDE4JSwgMC43Mik7XG4gICAgICAtLWx1bW8tc2hhZGUtODBwY3Q6IGhzbGEoMjE0LCA0MSUsIDE3JSwgMC44Myk7XG4gICAgICAtLWx1bW8tc2hhZGUtOTBwY3Q6IGhzbGEoMjE0LCA0MCUsIDE2JSwgMC45NCk7XG4gICAgICAtLWx1bW8tc2hhZGU6IGhzbCgyMTQsIDM1JSwgMTUlKTtcblxuICAgICAgLyogQ29udHJhc3QgKi9cbiAgICAgIC0tbHVtby1jb250cmFzdC01cGN0OiB2YXIoLS1sdW1vLXNoYWRlLTVwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0LTEwcGN0OiB2YXIoLS1sdW1vLXNoYWRlLTEwcGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdC0yMHBjdDogdmFyKC0tbHVtby1zaGFkZS0yMHBjdCk7XG4gICAgICAtLWx1bW8tY29udHJhc3QtMzBwY3Q6IHZhcigtLWx1bW8tc2hhZGUtMzBwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0LTQwcGN0OiB2YXIoLS1sdW1vLXNoYWRlLTQwcGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdC01MHBjdDogdmFyKC0tbHVtby1zaGFkZS01MHBjdCk7XG4gICAgICAtLWx1bW8tY29udHJhc3QtNjBwY3Q6IHZhcigtLWx1bW8tc2hhZGUtNjBwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0LTcwcGN0OiB2YXIoLS1sdW1vLXNoYWRlLTcwcGN0KTtcbiAgICAgIC0tbHVtby1jb250cmFzdC04MHBjdDogdmFyKC0tbHVtby1zaGFkZS04MHBjdCk7XG4gICAgICAtLWx1bW8tY29udHJhc3QtOTBwY3Q6IHZhcigtLWx1bW8tc2hhZGUtOTBwY3QpO1xuICAgICAgLS1sdW1vLWNvbnRyYXN0OiB2YXIoLS1sdW1vLXNoYWRlKTtcblxuICAgICAgLyogVGV4dCAqL1xuICAgICAgLS1sdW1vLWhlYWRlci10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0KTtcbiAgICAgIC0tbHVtby1ib2R5LXRleHQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtOTBwY3QpO1xuICAgICAgLS1sdW1vLXNlY29uZGFyeS10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTcwcGN0KTtcbiAgICAgIC0tbHVtby10ZXJ0aWFyeS10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTUwcGN0KTtcbiAgICAgIC0tbHVtby1kaXNhYmxlZC10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTMwcGN0KTtcblxuICAgICAgLyogUHJpbWFyeSAqL1xuICAgICAgLS1sdW1vLXByaW1hcnktY29sb3I6IGhzbCgyMTQsIDkwJSwgNTIlKTtcbiAgICAgIC0tbHVtby1wcmltYXJ5LWNvbG9yLTUwcGN0OiBoc2xhKDIxNCwgOTAlLCA1MiUsIDAuNSk7XG4gICAgICAtLWx1bW8tcHJpbWFyeS1jb2xvci0xMHBjdDogaHNsYSgyMTQsIDkwJSwgNTIlLCAwLjEpO1xuICAgICAgLS1sdW1vLXByaW1hcnktdGV4dC1jb2xvcjogdmFyKC0tbHVtby1wcmltYXJ5LWNvbG9yKTtcbiAgICAgIC0tbHVtby1wcmltYXJ5LWNvbnRyYXN0LWNvbG9yOiAjRkZGO1xuXG4gICAgICAvKiBFcnJvciAqL1xuICAgICAgLS1sdW1vLWVycm9yLWNvbG9yOiBoc2woMywgMTAwJSwgNjElKTtcbiAgICAgIC0tbHVtby1lcnJvci1jb2xvci01MHBjdDogaHNsYSgzLCAxMDAlLCA2MCUsIDAuNSk7XG4gICAgICAtLWx1bW8tZXJyb3ItY29sb3ItMTBwY3Q6IGhzbGEoMywgMTAwJSwgNjAlLCAwLjEpO1xuICAgICAgLS1sdW1vLWVycm9yLXRleHQtY29sb3I6IGhzbCgzLCA5MiUsIDUzJSk7XG4gICAgICAtLWx1bW8tZXJyb3ItY29udHJhc3QtY29sb3I6ICNGRkY7XG5cbiAgICAgIC8qIFN1Y2Nlc3MgKi9cbiAgICAgIC0tbHVtby1zdWNjZXNzLWNvbG9yOiBoc2woMTQ1LCA4MCUsIDQyJSk7IC8qIGhzbCgxNDQsODIlLDM3JSk7ICovXG4gICAgICAtLWx1bW8tc3VjY2Vzcy1jb2xvci01MHBjdDogaHNsYSgxNDUsIDc2JSwgNDQlLCAwLjU1KTtcbiAgICAgIC0tbHVtby1zdWNjZXNzLWNvbG9yLTEwcGN0OiBoc2xhKDE0NSwgNzYlLCA0NCUsIDAuMTIpO1xuICAgICAgLS1sdW1vLXN1Y2Nlc3MtdGV4dC1jb2xvcjogaHNsKDE0NSwgMTAwJSwgMzIlKTtcbiAgICAgIC0tbHVtby1zdWNjZXNzLWNvbnRyYXN0LWNvbG9yOiAjRkZGO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPjxkb20tbW9kdWxlIGlkPVwibHVtby1jb2xvclwiPlxuICA8dGVtcGxhdGU+XG4gICAgPHN0eWxlPlxuICAgICAgW3RoZW1lfj1cImRhcmtcIl0ge1xuICAgICAgICAvKiBCYXNlIChiYWNrZ3JvdW5kKSAqL1xuICAgICAgICAtLWx1bW8tYmFzZS1jb2xvcjogaHNsKDIxNCwgMzUlLCAyMSUpO1xuXG4gICAgICAgIC8qIFRpbnQgKi9cbiAgICAgICAgLS1sdW1vLXRpbnQtNXBjdDogaHNsYSgyMTQsIDY1JSwgODUlLCAwLjA2KTtcbiAgICAgICAgLS1sdW1vLXRpbnQtMTBwY3Q6IGhzbGEoMjE0LCA2MCUsIDgwJSwgMC4xNCk7XG4gICAgICAgIC0tbHVtby10aW50LTIwcGN0OiBoc2xhKDIxNCwgNjQlLCA4MiUsIDAuMjMpO1xuICAgICAgICAtLWx1bW8tdGludC0zMHBjdDogaHNsYSgyMTQsIDY5JSwgODQlLCAwLjMyKTtcbiAgICAgICAgLS1sdW1vLXRpbnQtNDBwY3Q6IGhzbGEoMjE0LCA3MyUsIDg2JSwgMC40MSk7XG4gICAgICAgIC0tbHVtby10aW50LTUwcGN0OiBoc2xhKDIxNCwgNzglLCA4OCUsIDAuNSk7XG4gICAgICAgIC0tbHVtby10aW50LTYwcGN0OiBoc2xhKDIxNCwgODIlLCA5MCUsIDAuNik7XG4gICAgICAgIC0tbHVtby10aW50LTcwcGN0OiBoc2xhKDIxNCwgODclLCA5MiUsIDAuNyk7XG4gICAgICAgIC0tbHVtby10aW50LTgwcGN0OiBoc2xhKDIxNCwgOTElLCA5NCUsIDAuOCk7XG4gICAgICAgIC0tbHVtby10aW50LTkwcGN0OiBoc2xhKDIxNCwgOTYlLCA5NiUsIDAuOSk7XG4gICAgICAgIC0tbHVtby10aW50OiBoc2woMjE0LCAxMDAlLCA5OCUpO1xuXG4gICAgICAgIC8qIFNoYWRlICovXG4gICAgICAgIC0tbHVtby1zaGFkZS01cGN0OiBoc2xhKDIxNCwgMCUsIDAlLCAwLjA3KTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTEwcGN0OiBoc2xhKDIxNCwgNCUsIDIlLCAwLjE1KTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTIwcGN0OiBoc2xhKDIxNCwgOCUsIDQlLCAwLjIzKTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTMwcGN0OiBoc2xhKDIxNCwgMTIlLCA2JSwgMC4zMik7XG4gICAgICAgIC0tbHVtby1zaGFkZS00MHBjdDogaHNsYSgyMTQsIDE2JSwgOCUsIDAuNDEpO1xuICAgICAgICAtLWx1bW8tc2hhZGUtNTBwY3Q6IGhzbGEoMjE0LCAyMCUsIDEwJSwgMC41KTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTYwcGN0OiBoc2xhKDIxNCwgMjQlLCAxMiUsIDAuNik7XG4gICAgICAgIC0tbHVtby1zaGFkZS03MHBjdDogaHNsYSgyMTQsIDI4JSwgMTMlLCAwLjcpO1xuICAgICAgICAtLWx1bW8tc2hhZGUtODBwY3Q6IGhzbGEoMjE0LCAzMiUsIDEzJSwgMC44KTtcbiAgICAgICAgLS1sdW1vLXNoYWRlLTkwcGN0OiBoc2xhKDIxNCwgMzMlLCAxMyUsIDAuOSk7XG4gICAgICAgIC0tbHVtby1zaGFkZTogaHNsKDIxNCwgMzMlLCAxMyUpO1xuXG4gICAgICAgIC8qIENvbnRyYXN0ICovXG4gICAgICAgIC0tbHVtby1jb250cmFzdC01cGN0OiB2YXIoLS1sdW1vLXRpbnQtNXBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdC0xMHBjdDogdmFyKC0tbHVtby10aW50LTEwcGN0KTtcbiAgICAgICAgLS1sdW1vLWNvbnRyYXN0LTIwcGN0OiB2YXIoLS1sdW1vLXRpbnQtMjBwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtMzBwY3Q6IHZhcigtLWx1bW8tdGludC0zMHBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdC00MHBjdDogdmFyKC0tbHVtby10aW50LTQwcGN0KTtcbiAgICAgICAgLS1sdW1vLWNvbnRyYXN0LTUwcGN0OiB2YXIoLS1sdW1vLXRpbnQtNTBwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtNjBwY3Q6IHZhcigtLWx1bW8tdGludC02MHBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdC03MHBjdDogdmFyKC0tbHVtby10aW50LTcwcGN0KTtcbiAgICAgICAgLS1sdW1vLWNvbnRyYXN0LTgwcGN0OiB2YXIoLS1sdW1vLXRpbnQtODBwY3QpO1xuICAgICAgICAtLWx1bW8tY29udHJhc3QtOTBwY3Q6IHZhcigtLWx1bW8tdGludC05MHBjdCk7XG4gICAgICAgIC0tbHVtby1jb250cmFzdDogdmFyKC0tbHVtby10aW50KTtcblxuICAgICAgICAvKiBUZXh0ICovXG4gICAgICAgIC0tbHVtby1oZWFkZXItdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdCk7XG4gICAgICAgIC0tbHVtby1ib2R5LXRleHQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtOTBwY3QpO1xuICAgICAgICAtLWx1bW8tc2Vjb25kYXJ5LXRleHQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtNzBwY3QpO1xuICAgICAgICAtLWx1bW8tdGVydGlhcnktdGV4dC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC01MHBjdCk7XG4gICAgICAgIC0tbHVtby1kaXNhYmxlZC10ZXh0LWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTMwcGN0KTtcblxuICAgICAgICAvKiBQcmltYXJ5ICovXG4gICAgICAgIC0tbHVtby1wcmltYXJ5LWNvbG9yOiBoc2woMjE0LCA4NiUsIDU1JSk7XG4gICAgICAgIC0tbHVtby1wcmltYXJ5LWNvbG9yLTUwcGN0OiBoc2xhKDIxNCwgODYlLCA1NSUsIDAuNSk7XG4gICAgICAgIC0tbHVtby1wcmltYXJ5LWNvbG9yLTEwcGN0OiBoc2xhKDIxNCwgOTAlLCA2MyUsIDAuMSk7XG4gICAgICAgIC0tbHVtby1wcmltYXJ5LXRleHQtY29sb3I6IGhzbCgyMTQsIDEwMCUsIDcwJSk7XG4gICAgICAgIC0tbHVtby1wcmltYXJ5LWNvbnRyYXN0LWNvbG9yOiAjRkZGO1xuXG4gICAgICAgIC8qIEVycm9yICovXG4gICAgICAgIC0tbHVtby1lcnJvci1jb2xvcjogaHNsKDMsIDkwJSwgNjMlKTtcbiAgICAgICAgLS1sdW1vLWVycm9yLWNvbG9yLTUwcGN0OiBoc2xhKDMsIDkwJSwgNjMlLCAwLjUpO1xuICAgICAgICAtLWx1bW8tZXJyb3ItY29sb3ItMTBwY3Q6IGhzbGEoMywgOTAlLCA2MyUsIDAuMSk7XG4gICAgICAgIC0tbHVtby1lcnJvci10ZXh0LWNvbG9yOiBoc2woMywgMTAwJSwgNjclKTtcblxuICAgICAgICAvKiBTdWNjZXNzICovXG4gICAgICAgIC0tbHVtby1zdWNjZXNzLWNvbG9yOiBoc2woMTQ1LCA2NSUsIDQyJSk7XG4gICAgICAgIC0tbHVtby1zdWNjZXNzLWNvbG9yLTUwcGN0OiBoc2xhKDE0NSwgNjUlLCA0MiUsIDAuNSk7XG4gICAgICAgIC0tbHVtby1zdWNjZXNzLWNvbG9yLTEwcGN0OiBoc2xhKDE0NSwgNjUlLCA0MiUsIDAuMSk7XG4gICAgICAgIC0tbHVtby1zdWNjZXNzLXRleHQtY29sb3I6IGhzbCgxNDUsIDg1JSwgNDclKTtcbiAgICAgIH1cblxuICAgICAgaHRtbCB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1sdW1vLWJvZHktdGV4dC1jb2xvcik7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tYmFzZS1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIFt0aGVtZX49XCJkYXJrXCJdIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWx1bW8tYm9keS10ZXh0LWNvbG9yKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1iYXNlLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgaDEsXG4gICAgICBoMixcbiAgICAgIGgzLFxuICAgICAgaDQsXG4gICAgICBoNSxcbiAgICAgIGg2IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWx1bW8taGVhZGVyLXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICBhIHtcbiAgICAgICAgY29sb3I6IHZhcigtLWx1bW8tcHJpbWFyeS10ZXh0LWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgYmxvY2txdW90ZSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1sdW1vLXNlY29uZGFyeS10ZXh0LWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgY29kZSxcbiAgICAgIHByZSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtMTBwY3QpO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1sdW1vLWJvcmRlci1yYWRpdXMtbSk7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC90ZW1wbGF0ZT5cbjwvZG9tLW1vZHVsZT48ZG9tLW1vZHVsZSBpZD1cImx1bW8tY29sb3ItbGVnYWN5XCI+XG4gIDx0ZW1wbGF0ZT5cbiAgICA8c3R5bGUgaW5jbHVkZT1cImx1bW8tY29sb3JcIj5cbiAgICAgIDpob3N0IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWx1bW8tYm9keS10ZXh0LWNvbG9yKSAhaW1wb3J0YW50O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWJhc2UtY29sb3IpICFpbXBvcnRhbnQ7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC90ZW1wbGF0ZT5cbjwvZG9tLW1vZHVsZT5gO1xuXG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCRfZG9jdW1lbnRDb250YWluZXIuY29udGVudCk7XG5cbi8qIE9ubHkgbmVlZGVkIGZvciBJRTExIHdoZW4geW91IHdhbnQgdG8gdXNlIHRoZSBkYXJrIHBhbGV0dGUgaW5zaWRlIHRoZSBsaWdodCBwYWxldHRlICovXG4vKlxuICBGSVhNRShwb2x5bWVyLW1vZHVsaXplcik6IHRoZSBhYm92ZSBjb21tZW50cyB3ZXJlIGV4dHJhY3RlZFxuICBmcm9tIEhUTUwgYW5kIG1heSBiZSBvdXQgb2YgcGxhY2UgaGVyZS4gUmV2aWV3IHRoZW0gYW5kXG4gIHRoZW4gZGVsZXRlIHRoaXMgY29tbWVudCFcbiovXG47XG4iLCJpbXBvcnQgJy4vdmVyc2lvbi5qcyc7XG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2N1c3RvbS1zdHlsZS5qcyc7XG5jb25zdCAkX2RvY3VtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxuJF9kb2N1bWVudENvbnRhaW5lci5pbm5lckhUTUwgPSBgPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlPlxuICAgIGh0bWwge1xuICAgICAgLS1sdW1vLXNpemUteHM6IDEuNjI1cmVtO1xuICAgICAgLS1sdW1vLXNpemUtczogMS44NzVyZW07XG4gICAgICAtLWx1bW8tc2l6ZS1tOiAyLjI1cmVtO1xuICAgICAgLS1sdW1vLXNpemUtbDogMi43NXJlbTtcbiAgICAgIC0tbHVtby1zaXplLXhsOiAzLjVyZW07XG5cbiAgICAgIC8qIEljb25zICovXG4gICAgICAtLWx1bW8taWNvbi1zaXplLXM6IDEuMjVlbTtcbiAgICAgIC0tbHVtby1pY29uLXNpemUtbTogMS41ZW07XG4gICAgICAtLWx1bW8taWNvbi1zaXplLWw6IDIuMjVlbTtcbiAgICAgIC8qIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAqL1xuICAgICAgLS1sdW1vLWljb24tc2l6ZTogdmFyKC0tbHVtby1pY29uLXNpemUtbSk7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9jdXN0b20tc3R5bGU+YDtcblxuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCgkX2RvY3VtZW50Q29udGFpbmVyLmNvbnRlbnQpO1xuIiwiaW1wb3J0ICcuL3ZlcnNpb24uanMnO1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuanMnO1xuY29uc3QgJF9kb2N1bWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbiRfZG9jdW1lbnRDb250YWluZXIuaW5uZXJIVE1MID0gYDxjdXN0b20tc3R5bGU+XG4gIDxzdHlsZT5cbiAgICBodG1sIHtcbiAgICAgIC8qIFNxdWFyZSAqL1xuICAgICAgLS1sdW1vLXNwYWNlLXhzOiAwLjI1cmVtO1xuICAgICAgLS1sdW1vLXNwYWNlLXM6IDAuNXJlbTtcbiAgICAgIC0tbHVtby1zcGFjZS1tOiAxcmVtO1xuICAgICAgLS1sdW1vLXNwYWNlLWw6IDEuNXJlbTtcbiAgICAgIC0tbHVtby1zcGFjZS14bDogMi41cmVtO1xuXG4gICAgICAvKiBXaWRlICovXG4gICAgICAtLWx1bW8tc3BhY2Utd2lkZS14czogY2FsYyh2YXIoLS1sdW1vLXNwYWNlLXhzKSAvIDIpIHZhcigtLWx1bW8tc3BhY2UteHMpO1xuICAgICAgLS1sdW1vLXNwYWNlLXdpZGUtczogY2FsYyh2YXIoLS1sdW1vLXNwYWNlLXMpIC8gMikgdmFyKC0tbHVtby1zcGFjZS1zKTtcbiAgICAgIC0tbHVtby1zcGFjZS13aWRlLW06IGNhbGModmFyKC0tbHVtby1zcGFjZS1tKSAvIDIpIHZhcigtLWx1bW8tc3BhY2UtbSk7XG4gICAgICAtLWx1bW8tc3BhY2Utd2lkZS1sOiBjYWxjKHZhcigtLWx1bW8tc3BhY2UtbCkgLyAyKSB2YXIoLS1sdW1vLXNwYWNlLWwpO1xuICAgICAgLS1sdW1vLXNwYWNlLXdpZGUteGw6IGNhbGModmFyKC0tbHVtby1zcGFjZS14bCkgLyAyKSB2YXIoLS1sdW1vLXNwYWNlLXhsKTtcblxuICAgICAgLyogVGFsbCAqL1xuICAgICAgLS1sdW1vLXNwYWNlLXRhbGwteHM6IHZhcigtLWx1bW8tc3BhY2UteHMpIGNhbGModmFyKC0tbHVtby1zcGFjZS14cykgLyAyKTtcbiAgICAgIC0tbHVtby1zcGFjZS10YWxsLXM6IHZhcigtLWx1bW8tc3BhY2UtcykgY2FsYyh2YXIoLS1sdW1vLXNwYWNlLXMpIC8gMik7XG4gICAgICAtLWx1bW8tc3BhY2UtdGFsbC1tOiB2YXIoLS1sdW1vLXNwYWNlLW0pIGNhbGModmFyKC0tbHVtby1zcGFjZS1tKSAvIDIpO1xuICAgICAgLS1sdW1vLXNwYWNlLXRhbGwtbDogdmFyKC0tbHVtby1zcGFjZS1sKSBjYWxjKHZhcigtLWx1bW8tc3BhY2UtbCkgLyAyKTtcbiAgICAgIC0tbHVtby1zcGFjZS10YWxsLXhsOiB2YXIoLS1sdW1vLXNwYWNlLXhsKSBjYWxjKHZhcigtLWx1bW8tc3BhY2UteGwpIC8gMik7XG4gICAgfVxuICA8L3N0eWxlPlxuPC9jdXN0b20tc3R5bGU+YDtcblxuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCgkX2RvY3VtZW50Q29udGFpbmVyLmNvbnRlbnQpO1xuIiwiaW1wb3J0ICcuL3ZlcnNpb24uanMnO1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9jdXN0b20tc3R5bGUuanMnO1xuY29uc3QgJF9kb2N1bWVudENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbiRfZG9jdW1lbnRDb250YWluZXIuaW5uZXJIVE1MID0gYDxjdXN0b20tc3R5bGU+XG4gIDxzdHlsZT5cbiAgICBodG1sIHtcbiAgICAgIC8qIEJvcmRlciByYWRpdXMgKi9cbiAgICAgIC0tbHVtby1ib3JkZXItcmFkaXVzLXM6IDAuMjVlbTsgLyogQ2hlY2tib3gsIGJhZGdlLCBkYXRlLXBpY2tlciB5ZWFyIGluZGljYXRvciwgZXRjICovXG4gICAgICAtLWx1bW8tYm9yZGVyLXJhZGl1cy1tOiB2YXIoLS1sdW1vLWJvcmRlci1yYWRpdXMsIDAuMjVlbSk7IC8qIEJ1dHRvbiwgdGV4dCBmaWVsZCwgbWVudSBvdmVybGF5LCBldGMgKi9cbiAgICAgIC0tbHVtby1ib3JkZXItcmFkaXVzLWw6IDAuNWVtOyAvKiBEaWFsb2csIG5vdGlmaWNhdGlvbiwgZXRjICovXG4gICAgICAtLWx1bW8tYm9yZGVyLXJhZGl1czogMC4yNWVtOyAvKiBEZXByZWNhdGVkICovXG5cbiAgICAgIC8qIFNoYWRvdyAqL1xuICAgICAgLS1sdW1vLWJveC1zaGFkb3cteHM6IDAgMXB4IDRweCAtMXB4IHZhcigtLWx1bW8tc2hhZGUtNTBwY3QpO1xuICAgICAgLS1sdW1vLWJveC1zaGFkb3ctczogMCAycHggNHB4IC0xcHggdmFyKC0tbHVtby1zaGFkZS0yMHBjdCksIDAgM3B4IDEycHggLTFweCB2YXIoLS1sdW1vLXNoYWRlLTMwcGN0KTtcbiAgICAgIC0tbHVtby1ib3gtc2hhZG93LW06IDAgMnB4IDZweCAtMXB4IHZhcigtLWx1bW8tc2hhZGUtMjBwY3QpLCAwIDhweCAyNHB4IC00cHggdmFyKC0tbHVtby1zaGFkZS00MHBjdCk7XG4gICAgICAtLWx1bW8tYm94LXNoYWRvdy1sOiAwIDNweCAxOHB4IC0ycHggdmFyKC0tbHVtby1zaGFkZS0yMHBjdCksIDAgMTJweCA0OHB4IC02cHggdmFyKC0tbHVtby1zaGFkZS00MHBjdCk7XG4gICAgICAtLWx1bW8tYm94LXNoYWRvdy14bDogMCA0cHggMjRweCAtM3B4IHZhcigtLWx1bW8tc2hhZGUtMjBwY3QpLCAwIDE4cHggNjRweCAtOHB4IHZhcigtLWx1bW8tc2hhZGUtNDBwY3QpO1xuXG4gICAgICAvKiBDbGlja2FibGUgZWxlbWVudCBjdXJzb3IgKi9cbiAgICAgIC0tbHVtby1jbGlja2FibGUtY3Vyc29yOiBkZWZhdWx0O1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJF9kb2N1bWVudENvbnRhaW5lci5jb250ZW50KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8qKlxuICogQ2xhc3MgcmVwcmVzZW50aW5nIGEgc3RhdGljIHN0cmluZyB2YWx1ZSB3aGljaCBjYW4gYmUgdXNlZCB0byBmaWx0ZXJcbiAqIHN0cmluZ3MgYnkgYXNzZXRpbmcgdGhhdCB0aGV5IGhhdmUgYmVlbiBjcmVhdGVkIHZpYSB0aGlzIGNsYXNzLiBUaGVcbiAqIGB2YWx1ZWAgcHJvcGVydHkgcmV0dXJucyB0aGUgc3RyaW5nIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gKi9cbmNsYXNzIExpdGVyYWxTdHJpbmcge1xuICBjb25zdHJ1Y3RvcihzdHJpbmcpIHtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzLnZhbHVlID0gc3RyaW5nLnRvU3RyaW5nKCk7XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm4ge3N0cmluZ30gTGl0ZXJhbFN0cmluZyBzdHJpbmcgdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgT2JqZWN0IHRvIHN0cmluZ2lmeSBpbnRvIEhUTUxcbiAqIEByZXR1cm4ge3N0cmluZ30gSFRNTCBzdHJpbmdpZmllZCBmb3JtIG9mIGBvYmpgXG4gKi9cbmZ1bmN0aW9uIGxpdGVyYWxWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMaXRlcmFsU3RyaW5nKSB7XG4gICAgcmV0dXJuIC8qKiBAdHlwZSB7IUxpdGVyYWxTdHJpbmd9ICovKHZhbHVlKS52YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBub24tbGl0ZXJhbCB2YWx1ZSBwYXNzZWQgdG8gUG9seW1lcidzIGh0bWxMaXRlcmFsIGZ1bmN0aW9uOiAke3ZhbHVlfWBcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHsqfSB2YWx1ZSBPYmplY3QgdG8gc3RyaW5naWZ5IGludG8gSFRNTFxuICogQHJldHVybiB7c3RyaW5nfSBIVE1MIHN0cmluZ2lmaWVkIGZvcm0gb2YgYG9iamBcbiAqL1xuZnVuY3Rpb24gaHRtbFZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEhUTUxUZW1wbGF0ZUVsZW1lbnQpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudCB9ICovKHZhbHVlKS5pbm5lckhUTUw7XG4gIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBMaXRlcmFsU3RyaW5nKSB7XG4gICAgcmV0dXJuIGxpdGVyYWxWYWx1ZSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgbm9uLXRlbXBsYXRlIHZhbHVlIHBhc3NlZCB0byBQb2x5bWVyJ3MgaHRtbCBmdW5jdGlvbjogJHt2YWx1ZX1gKTtcbiAgfVxufVxuXG4vKipcbiAqIEEgdGVtcGxhdGUgbGl0ZXJhbCB0YWcgdGhhdCBjcmVhdGVzIGFuIEhUTUwgPHRlbXBsYXRlPiBlbGVtZW50IGZyb20gdGhlXG4gKiBjb250ZW50cyBvZiB0aGUgc3RyaW5nLlxuICpcbiAqIFRoaXMgYWxsb3dzIHlvdSB0byB3cml0ZSBhIFBvbHltZXIgVGVtcGxhdGUgaW4gSmF2YVNjcmlwdC5cbiAqXG4gKiBUZW1wbGF0ZXMgY2FuIGJlIGNvbXBvc2VkIGJ5IGludGVycG9sYXRpbmcgYEhUTUxUZW1wbGF0ZUVsZW1lbnRgcyBpblxuICogZXhwcmVzc2lvbnMgaW4gdGhlIEphdmFTY3JpcHQgdGVtcGxhdGUgbGl0ZXJhbC4gVGhlIG5lc3RlZCB0ZW1wbGF0ZSdzXG4gKiBgaW5uZXJIVE1MYCBpcyBpbmNsdWRlZCBpbiB0aGUgY29udGFpbmluZyB0ZW1wbGF0ZS4gIFRoZSBvbmx5IG90aGVyXG4gKiB2YWx1ZXMgYWxsb3dlZCBpbiBleHByZXNzaW9ucyBhcmUgdGhvc2UgcmV0dXJuZWQgZnJvbSBgaHRtbExpdGVyYWxgXG4gKiB3aGljaCBlbnN1cmVzIG9ubHkgbGl0ZXJhbCB2YWx1ZXMgZnJvbSBKUyBzb3VyY2UgZXZlciByZWFjaCB0aGUgSFRNTCwgdG9cbiAqIGd1YXJkIGFnYWluc3QgWFNTIHJpc2tzLlxuICpcbiAqIEFsbCBvdGhlciB2YWx1ZXMgYXJlIGRpc2FsbG93ZWQgaW4gZXhwcmVzc2lvbnMgdG8gaGVscCBwcmV2ZW50IFhTU1xuICogYXR0YWNrczsgaG93ZXZlciwgYGh0bWxMaXRlcmFsYCBjYW4gYmUgdXNlZCB0byBjb21wb3NlIHN0YXRpY1xuICogc3RyaW5nIHZhbHVlcyBpbnRvIHRlbXBsYXRlcy4gVGhpcyBpcyB1c2VmdWwgdG8gY29tcG9zZSBzdHJpbmdzIGludG9cbiAqIHBsYWNlcyB0aGF0IGRvIG5vdCBhY2NlcHQgaHRtbCwgbGlrZSB0aGUgY3NzIHRleHQgb2YgYSBgc3R5bGVgXG4gKiBlbGVtZW50LlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogICAgIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gKiAgICAgICByZXR1cm4gaHRtbGBcbiAqICAgICAgICAgPHN0eWxlPjpob3N0eyBjb250ZW50OlwiLi4uXCIgfTwvc3R5bGU+XG4gKiAgICAgICAgIDxkaXYgY2xhc3M9XCJzaGFkb3dlZFwiPiR7dGhpcy5wYXJ0aWFsVGVtcGxhdGV9PC9kaXY+XG4gKiAgICAgICAgICR7c3VwZXIudGVtcGxhdGV9XG4gKiAgICAgICBgO1xuICogICAgIH1cbiAqICAgICBzdGF0aWMgZ2V0IHBhcnRpYWxUZW1wbGF0ZSgpIHsgcmV0dXJuIGh0bWxgPHNwYW4+UGFydGlhbCE8L3NwYW4+YDsgfVxuICpcbiAqIEBwYXJhbSB7IUlUZW1wbGF0ZUFycmF5fSBzdHJpbmdzIENvbnN0YW50IHBhcnRzIG9mIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsXG4gKiBAcGFyYW0gey4uLip9IHZhbHVlcyBWYXJpYWJsZSBwYXJ0cyBvZiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbFxuICogQHJldHVybiB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IENvbnN0cnVjdGVkIEhUTUxUZW1wbGF0ZUVsZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGh0bWwgPSBmdW5jdGlvbiBodG1sKHN0cmluZ3MsIC4uLnZhbHVlcykge1xuICBjb25zdCB0ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJykpO1xuICB0ZW1wbGF0ZS5pbm5lckhUTUwgPSB2YWx1ZXMucmVkdWNlKChhY2MsIHYsIGlkeCkgPT5cbiAgICAgIGFjYyArIGh0bWxWYWx1ZSh2KSArIHN0cmluZ3NbaWR4ICsgMV0sIHN0cmluZ3NbMF0pO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG4vKipcbiAqIEFuIGh0bWwgbGl0ZXJhbCB0YWcgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIGBodG1sYCB0byBjb21wb3NlLlxuICogYSBsaXRlcmFsIHN0cmluZy5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICogICAgICAgcmV0dXJuIGh0bWxgXG4gKiAgICAgICAgIDxzdHlsZT5cbiAqICAgICAgICAgICA6aG9zdCB7IGRpc3BsYXk6IGJsb2NrOyB9XG4gKiAgICAgICAgICAgJHt0aGlzLnN0eWxlVGVtcGxhdGUoKX1cbiAqICAgICAgICAgPC9zdHlsZT5cbiAqICAgICAgICAgPGRpdiBjbGFzcz1cInNoYWRvd2VkXCI+JHtzdGF0aWNWYWx1ZX08L2Rpdj5cbiAqICAgICAgICAgJHtzdXBlci50ZW1wbGF0ZX1cbiAqICAgICAgIGA7XG4gKiAgICAgfVxuICogICAgIHN0YXRpYyBnZXQgc3R5bGVUZW1wbGF0ZSgpIHtcbiAqICAgICAgICByZXR1cm4gaHRtbExpdGVyYWxgLnNoYWRvd2VkIHsgYmFja2dyb3VuZDogZ3JheTsgfWA7XG4gKiAgICAgfVxuICpcbiAqIEBwYXJhbSB7IUlUZW1wbGF0ZUFycmF5fSBzdHJpbmdzIENvbnN0YW50IHBhcnRzIG9mIHRhZ2dlZCB0ZW1wbGF0ZSBsaXRlcmFsXG4gKiBAcGFyYW0gey4uLip9IHZhbHVlcyBWYXJpYWJsZSBwYXJ0cyBvZiB0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbFxuICogQHJldHVybiB7IUxpdGVyYWxTdHJpbmd9IENvbnN0cnVjdGVkIGxpdGVyYWwgc3RyaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBodG1sTGl0ZXJhbCA9IGZ1bmN0aW9uKHN0cmluZ3MsIC4uLnZhbHVlcykge1xuICByZXR1cm4gbmV3IExpdGVyYWxTdHJpbmcodmFsdWVzLnJlZHVjZSgoYWNjLCB2LCBpZHgpID0+XG4gICAgICBhY2MgKyBsaXRlcmFsVmFsdWUodikgKyBzdHJpbmdzW2lkeCArIDFdLCBzdHJpbmdzWzBdKSk7XG59O1xuIiwiaW1wb3J0ICdAdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy9jb2xvci5qcyc7XG5pbXBvcnQgJ0B2YWFkaW4vdmFhZGluLWx1bW8tc3R5bGVzL3NpemluZy5qcyc7XG5pbXBvcnQgJ0B2YWFkaW4vdmFhZGluLWx1bW8tc3R5bGVzL3NwYWNpbmcuanMnO1xuaW1wb3J0ICdAdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy9zdHlsZS5qcyc7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG5jb25zdCAkX2RvY3VtZW50Q29udGFpbmVyID0gaHRtbGA8ZG9tLW1vZHVsZSBpZD1cImx1bW8tc3BsaXQtbGF5b3V0XCIgdGhlbWUtZm9yPVwidmFhZGluLXNwbGl0LWxheW91dFwiPlxuICA8dGVtcGxhdGU+XG4gICAgPHN0eWxlPlxuICAgICAgW3BhcnQ9XCJzcGxpdHRlclwiXSB7XG4gICAgICAgIG1pbi13aWR0aDogdmFyKC0tbHVtby1zcGFjZS1zKTtcbiAgICAgICAgbWluLWhlaWdodDogdmFyKC0tbHVtby1zcGFjZS1zKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC01cGN0KTtcbiAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBiYWNrZ3JvdW5kLWNvbG9yO1xuICAgICAgfVxuXG4gICAgICBbcGFydD1cImhhbmRsZVwiXSB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB3aWR0aDogdmFyKC0tbHVtby1zaXplLW0pO1xuICAgICAgICBoZWlnaHQ6IHZhcigtLWx1bW8tc2l6ZS1tKTtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIHdpZHRoOiA0cHg7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1sdW1vLWJvcmRlci1yYWRpdXMpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTMwcGN0KTtcbiAgICAgICAgdHJhbnNpdGlvbjogMC4xcyBvcGFjaXR5LCAwLjFzIGJhY2tncm91bmQtY29sb3I7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtvcmllbnRhdGlvbj1cInZlcnRpY2FsXCJdKSBbcGFydD1cImhhbmRsZVwiXTo6YWZ0ZXIge1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiA0cHg7XG4gICAgICB9XG5cbiAgICAgIC8qIEhvdmVyIHN0eWxlICovXG5cbiAgICAgIFtwYXJ0PVwic3BsaXR0ZXJcIl06aG92ZXIgW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC00MHBjdCk7XG4gICAgICB9XG5cbiAgICAgIC8qIERpc2FibGUgaG92ZXIgZm9yIHRvdWNoIGRldmljZXMgKi9cbiAgICAgIEBtZWRpYSAocG9pbnRlcjogY29hcnNlKSB7XG4gICAgICAgIFtwYXJ0PVwic3BsaXR0ZXJcIl06aG92ZXIgW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTMwcGN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBBY3RpdmUgc3R5bGUgKi9cblxuICAgICAgW3BhcnQ9XCJzcGxpdHRlclwiXTphY3RpdmUgW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC01MHBjdCk7XG4gICAgICB9XG5cbiAgICAgIC8qIFNtYWxsL21pbmltYWwgKi9cblxuICAgICAgOmhvc3QoW3RoZW1lfj1cInNtYWxsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl0ge1xuICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHZhcigtLWx1bW8tY29udHJhc3QtMTBwY3QpO1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tbHVtby1jb250cmFzdC0xMHBjdCk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJzbWFsbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdLFxuICAgICAgOmhvc3QoW3RoZW1lfj1cIm1pbmltYWxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXSB7XG4gICAgICAgIG1pbi13aWR0aDogMDtcbiAgICAgICAgbWluLWhlaWdodDogMDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJzbWFsbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdOjphZnRlcixcbiAgICAgIDpob3N0KFt0aGVtZX49XCJtaW5pbWFsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl06OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IC00cHg7XG4gICAgICAgIHJpZ2h0OiAtNHB4O1xuICAgICAgICBib3R0b206IC00cHg7XG4gICAgICAgIGxlZnQ6IC00cHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJzbWFsbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdID4gW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyLFxuICAgICAgOmhvc3QoW3RoZW1lfj1cIm1pbmltYWxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXSA+IFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlciB7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJzbWFsbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdOmhvdmVyID4gW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyLFxuICAgICAgOmhvc3QoW3RoZW1lfj1cInNtYWxsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl06YWN0aXZlID4gW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyLFxuICAgICAgOmhvc3QoW3RoZW1lfj1cIm1pbmltYWxcIl0pID4gW3BhcnQ9XCJzcGxpdHRlclwiXTpob3ZlciA+IFtwYXJ0PVwiaGFuZGxlXCJdOjphZnRlcixcbiAgICAgIDpob3N0KFt0aGVtZX49XCJtaW5pbWFsXCJdKSA+IFtwYXJ0PVwic3BsaXR0ZXJcIl06YWN0aXZlID4gW3BhcnQ9XCJoYW5kbGVcIl06OmFmdGVyIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICA8L3RlbXBsYXRlPlxuPC9kb20tbW9kdWxlPmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJF9kb2N1bWVudENvbnRhaW5lci5jb250ZW50KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbi8vIHVuaXF1ZSBnbG9iYWwgaWQgZm9yIGRlZHVwaW5nIG1peGlucy5cbmxldCBkZWR1cGVJZCA9IDA7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZXh0ZW5kcyB7RnVuY3Rpb259XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBNaXhpbkZ1bmN0aW9uKCl7fVxuLyoqIEB0eXBlIHsoV2Vha01hcCB8IHVuZGVmaW5lZCl9ICovXG5NaXhpbkZ1bmN0aW9uLnByb3RvdHlwZS5fX21peGluQXBwbGljYXRpb25zO1xuLyoqIEB0eXBlIHsoT2JqZWN0IHwgdW5kZWZpbmVkKX0gKi9cbk1peGluRnVuY3Rpb24ucHJvdG90eXBlLl9fbWl4aW5TZXQ7XG5cbi8qIGVzbGludC1kaXNhYmxlIHZhbGlkLWpzZG9jICovXG4vKipcbiAqIFdyYXBzIGFuIEVTNiBjbGFzcyBleHByZXNzaW9uIG1peGluIHN1Y2ggdGhhdCB0aGUgbWl4aW4gaXMgb25seSBhcHBsaWVkXG4gKiBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlbiBhcHBsaWVkIGl0cyBiYXNlIGFyZ3VtZW50LiBBbHNvIG1lbW9pemVzIG1peGluXG4gKiBhcHBsaWNhdGlvbnMuXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7VH0gbWl4aW4gRVM2IGNsYXNzIGV4cHJlc3Npb24gbWl4aW4gdG8gd3JhcFxuICogQHJldHVybiB7VH1cbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICovXG5leHBvcnQgY29uc3QgZGVkdXBpbmdNaXhpbiA9IGZ1bmN0aW9uKG1peGluKSB7XG4gIGxldCBtaXhpbkFwcGxpY2F0aW9ucyA9IC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKG1peGluKS5fX21peGluQXBwbGljYXRpb25zO1xuICBpZiAoIW1peGluQXBwbGljYXRpb25zKSB7XG4gICAgbWl4aW5BcHBsaWNhdGlvbnMgPSBuZXcgV2Vha01hcCgpO1xuICAgIC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKG1peGluKS5fX21peGluQXBwbGljYXRpb25zID0gbWl4aW5BcHBsaWNhdGlvbnM7XG4gIH1cbiAgLy8gbWFpbnRhaW4gYSB1bmlxdWUgaWQgZm9yIGVhY2ggbWl4aW5cbiAgbGV0IG1peGluRGVkdXBlSWQgPSBkZWR1cGVJZCsrO1xuICBmdW5jdGlvbiBkZWR1cGluZ01peGluKGJhc2UpIHtcbiAgICBsZXQgYmFzZVNldCA9IC8qKiBAdHlwZSB7IU1peGluRnVuY3Rpb259ICovKGJhc2UpLl9fbWl4aW5TZXQ7XG4gICAgaWYgKGJhc2VTZXQgJiYgYmFzZVNldFttaXhpbkRlZHVwZUlkXSkge1xuICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxuICAgIGxldCBtYXAgPSBtaXhpbkFwcGxpY2F0aW9ucztcbiAgICBsZXQgZXh0ZW5kZWQgPSBtYXAuZ2V0KGJhc2UpO1xuICAgIGlmICghZXh0ZW5kZWQpIHtcbiAgICAgIGV4dGVuZGVkID0gLyoqIEB0eXBlIHshRnVuY3Rpb259ICovKG1peGluKShiYXNlKTtcbiAgICAgIG1hcC5zZXQoYmFzZSwgZXh0ZW5kZWQpO1xuICAgIH1cbiAgICAvLyBjb3B5IGluaGVyaXRlZCBtaXhpbiBzZXQgZnJvbSB0aGUgZXh0ZW5kZWQgY2xhc3MsIG9yIHRoZSBiYXNlIGNsYXNzXG4gICAgLy8gTk9URTogd2UgYXZvaWQgdXNlIG9mIFNldCBoZXJlIGJlY2F1c2Ugc29tZSBicm93c2VyIChJRTExKVxuICAgIC8vIGNhbm5vdCBleHRlbmQgYSBiYXNlIFNldCB2aWEgdGhlIGNvbnN0cnVjdG9yLlxuICAgIGxldCBtaXhpblNldCA9IE9iamVjdC5jcmVhdGUoLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8oZXh0ZW5kZWQpLl9fbWl4aW5TZXQgfHwgYmFzZVNldCB8fCBudWxsKTtcbiAgICBtaXhpblNldFttaXhpbkRlZHVwZUlkXSA9IHRydWU7XG4gICAgLyoqIEB0eXBlIHshTWl4aW5GdW5jdGlvbn0gKi8oZXh0ZW5kZWQpLl9fbWl4aW5TZXQgPSBtaXhpblNldDtcbiAgICByZXR1cm4gZXh0ZW5kZWQ7XG4gIH1cblxuICByZXR1cm4gZGVkdXBpbmdNaXhpbjtcbn07XG4vKiBlc2xpbnQtZW5hYmxlIHZhbGlkLWpzZG9jICovXG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuLyoqXG4gKiBOb2RlIHdyYXBwZXIgdG8gZW5zdXJlIFNoYWRvd0RPTSBzYWZlIG9wZXJhdGlvbiByZWdhcmRsZXNzIG9mIHBvbHlmaWxsXG4gKiBwcmVzZW5jZSBvciBtb2RlLiBOb3RlIHRoYXQgd2l0aCB0aGUgaW50cm9kdWN0aW9uIG9mIGBTaGFkeURPTS5ub1BhdGNoYCxcbiAqIGEgbm9kZSB3cmFwcGVyIG11c3QgYmUgdXNlZCB0byBhY2Nlc3MgU2hhZG93RE9NIEFQSS5cbiAqIFRoaXMgaXMgc2ltaWxhciB0byB1c2luZyBgUG9seW1lci5kb21gIGJ1dCByZWxpZXMgZXhjbHVzaXZlbHlcbiAqIG9uIHRoZSBwcmVzZW5jZSBvZiB0aGUgU2hhZHlET00gcG9seWZpbGwgcmF0aGVyIHRoYW4gcmVxdWlyaW5nIHRoZSBsb2FkaW5nXG4gKiBvZiBsZWdhY3kgKFBvbHltZXIuZG9tKSBBUEkuXG4gKiBAdHlwZSB7ZnVuY3Rpb24oTm9kZSk6Tm9kZX1cbiAqL1xuZXhwb3J0IGNvbnN0IHdyYXAgPSAod2luZG93WydTaGFkeURPTSddICYmIHdpbmRvd1snU2hhZHlET00nXVsnbm9QYXRjaCddICYmIHdpbmRvd1snU2hhZHlET00nXVsnd3JhcCddKSA/XG4gIHdpbmRvd1snU2hhZHlET00nXVsnd3JhcCddIDpcbiAgKHdpbmRvd1snU2hhZHlET00nXSA/IChuKSA9PiBTaGFkeURPTVsncGF0Y2gnXShuKSA6IChuKSA9PiBuKTtcblxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi9ib290LmpzJztcblxuLyoqXG4gKiBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIG1hbmlwdWxhdGluZyBzdHJ1Y3R1cmVkIGRhdGEgcGF0aCBzdHJpbmdzLlxuICpcbiAqIEBzdW1tYXJ5IE1vZHVsZSB3aXRoIHV0aWxpdGllcyBmb3IgbWFuaXB1bGF0aW5nIHN0cnVjdHVyZWQgZGF0YSBwYXRoIHN0cmluZ3MuXG4gKi9cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHN0cmluZyBpcyBhIHN0cnVjdHVyZWQgZGF0YSBwYXRoIChoYXMgZG90cykuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIGlzUGF0aCgnZm9vLmJhci5iYXonKSAvLyB0cnVlXG4gKiBpc1BhdGgoJ2ZvbycpICAgICAgICAgLy8gZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nXG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBzdHJpbmcgY29udGFpbmVkIG9uZSBvciBtb3JlIGRvdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGF0aChwYXRoKSB7XG4gIHJldHVybiBwYXRoLmluZGV4T2YoJy4nKSA+PSAwO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJvb3QgcHJvcGVydHkgbmFtZSBmb3IgdGhlIGdpdmVuIHBhdGguXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHJvb3QoJ2Zvby5iYXIuYmF6JykgLy8gJ2ZvbydcbiAqIHJvb3QoJ2ZvbycpICAgICAgICAgLy8gJ2ZvbydcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nXG4gKiBAcmV0dXJuIHtzdHJpbmd9IFJvb3QgcHJvcGVydHkgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcm9vdChwYXRoKSB7XG4gIGxldCBkb3RJbmRleCA9IHBhdGguaW5kZXhPZignLicpO1xuICBpZiAoZG90SW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbiAgcmV0dXJuIHBhdGguc2xpY2UoMCwgZG90SW5kZXgpO1xufVxuXG4vKipcbiAqIEdpdmVuIGBiYXNlYCBpcyBgZm9vLmJhcmAsIGBmb29gIGlzIGFuIGFuY2VzdG9yLCBgZm9vLmJhcmAgaXMgbm90XG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBhdGggaXMgYW4gYW5jZXN0b3Igb2YgdGhlIGJhc2UgcGF0aC5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqIGBgYFxuICogaXNBbmNlc3RvcignZm9vLmJhcicsICdmb28nKSAgICAgICAgIC8vIHRydWVcbiAqIGlzQW5jZXN0b3IoJ2Zvby5iYXInLCAnZm9vLmJhcicpICAgICAvLyBmYWxzZVxuICogaXNBbmNlc3RvcignZm9vLmJhcicsICdmb28uYmFyLmJheicpIC8vIGZhbHNlXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZSBQYXRoIHN0cmluZyB0byB0ZXN0IGFnYWluc3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZyB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgcGF0aGAgaXMgYW4gYW5jZXN0b3Igb2YgYGJhc2VgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBbmNlc3RvcihiYXNlLCBwYXRoKSB7XG4gIC8vICAgICBiYXNlLnN0YXJ0c1dpdGgocGF0aCArICcuJyk7XG4gIHJldHVybiBiYXNlLmluZGV4T2YocGF0aCArICcuJykgPT09IDA7XG59XG5cbi8qKlxuICogR2l2ZW4gYGJhc2VgIGlzIGBmb28uYmFyYCwgYGZvby5iYXIuYmF6YCBpcyBhbiBkZXNjZW5kYW50XG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIGlzRGVzY2VuZGFudCgnZm9vLmJhcicsICdmb28uYmFyLmJheicpIC8vIHRydWVcbiAqIGlzRGVzY2VuZGFudCgnZm9vLmJhcicsICdmb28uYmFyJykgICAgIC8vIGZhbHNlXG4gKiBpc0Rlc2NlbmRhbnQoJ2Zvby5iYXInLCAnZm9vJykgICAgICAgICAvLyBmYWxzZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2UgUGF0aCBzdHJpbmcgdG8gdGVzdCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBzdHJpbmcgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYHBhdGhgIGlzIGEgZGVzY2VuZGFudCBvZiBgYmFzZWAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Rlc2NlbmRhbnQoYmFzZSwgcGF0aCkge1xuICAvLyAgICAgcGF0aC5zdGFydHNXaXRoKGJhc2UgKyAnLicpO1xuICByZXR1cm4gcGF0aC5pbmRleE9mKGJhc2UgKyAnLicpID09PSAwO1xufVxuXG4vKipcbiAqIFJlcGxhY2VzIGEgcHJldmlvdXMgYmFzZSBwYXRoIHdpdGggYSBuZXcgYmFzZSBwYXRoLCBwcmVzZXJ2aW5nIHRoZVxuICogcmVtYWluZGVyIG9mIHRoZSBwYXRoLlxuICpcbiAqIFVzZXIgbXVzdCBlbnN1cmUgYHBhdGhgIGhhcyBhIHByZWZpeCBvZiBgYmFzZWAuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHRyYW5zbGF0ZSgnZm9vLmJhcicsICd6b3QnLCAnZm9vLmJhci5iYXonKSAvLyAnem90LmJheidcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlIEN1cnJlbnQgYmFzZSBzdHJpbmcgdG8gcmVtb3ZlXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3QmFzZSBOZXcgYmFzZSBzdHJpbmcgdG8gcmVwbGFjZSB3aXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRvIHRyYW5zbGF0ZVxuICogQHJldHVybiB7c3RyaW5nfSBUcmFuc2xhdGVkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gdHJhbnNsYXRlKGJhc2UsIG5ld0Jhc2UsIHBhdGgpIHtcbiAgcmV0dXJuIG5ld0Jhc2UgKyBwYXRoLnNsaWNlKGJhc2UubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZSBQYXRoIHN0cmluZyB0byB0ZXN0IGFnYWluc3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggc3RyaW5nIHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYHBhdGhgIGlzIGVxdWFsIHRvIGBiYXNlYFxuICovXG5leHBvcnQgZnVuY3Rpb24gbWF0Y2hlcyhiYXNlLCBwYXRoKSB7XG4gIHJldHVybiAoYmFzZSA9PT0gcGF0aCkgfHxcbiAgICAgICAgIGlzQW5jZXN0b3IoYmFzZSwgcGF0aCkgfHxcbiAgICAgICAgIGlzRGVzY2VuZGFudChiYXNlLCBwYXRoKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhcnJheS1iYXNlZCBwYXRocyB0byBmbGF0dGVuZWQgcGF0aC4gIFN0cmluZy1iYXNlZCBwYXRoc1xuICogYXJlIHJldHVybmVkIGFzLWlzLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiBub3JtYWxpemUoWydmb28uYmFyJywgMCwgJ2JheiddKSAgLy8gJ2Zvby5iYXIuMC5iYXonXG4gKiBub3JtYWxpemUoJ2Zvby5iYXIuMC5iYXonKSAgICAgICAgLy8gJ2Zvby5iYXIuMC5iYXonXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBJbnB1dCBwYXRoXG4gKiBAcmV0dXJuIHtzdHJpbmd9IEZsYXR0ZW5lZCBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUocGF0aCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgIGxldCBwYXJ0cyA9IFtdO1xuICAgIGZvciAobGV0IGk9MDsgaTxwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgYXJncyA9IHBhdGhbaV0udG9TdHJpbmcoKS5zcGxpdCgnLicpO1xuICAgICAgZm9yIChsZXQgaj0wOyBqPGFyZ3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgcGFydHMucHVzaChhcmdzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJy4nKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGF0aDtcbiAgfVxufVxuXG4vKipcbiAqIFNwbGl0cyBhIHBhdGggaW50byBhbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy4gQWNjZXB0cyBlaXRoZXIgYXJyYXlzXG4gKiBvZiBwYXRoIHBhcnRzIG9yIHN0cmluZ3MuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIHNwbGl0KFsnZm9vLmJhcicsIDAsICdiYXonXSkgIC8vIFsnZm9vJywgJ2JhcicsICcwJywgJ2JheiddXG4gKiBzcGxpdCgnZm9vLmJhci4wLmJheicpICAgICAgICAvLyBbJ2ZvbycsICdiYXInLCAnMCcsICdiYXonXVxuICogYGBgXG4gKlxuICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggSW5wdXQgcGF0aFxuICogQHJldHVybiB7IUFycmF5PHN0cmluZz59IEFycmF5IG9mIHBhdGggcGFydHNcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwbGl0KHBhdGgpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0aCkpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplKHBhdGgpLnNwbGl0KCcuJyk7XG4gIH1cbiAgcmV0dXJuIHBhdGgudG9TdHJpbmcoKS5zcGxpdCgnLicpO1xufVxuXG4vKipcbiAqIFJlYWRzIGEgdmFsdWUgZnJvbSBhIHBhdGguICBJZiBhbnkgc3ViLXByb3BlcnR5IGluIHRoZSBwYXRoIGlzIGB1bmRlZmluZWRgLFxuICogdGhpcyBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYCAod2lsbCBuZXZlciB0aHJvdy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcm9vdCBPYmplY3QgZnJvbSB3aGljaCB0byBkZXJlZmVyZW5jZSBwYXRoIGZyb21cbiAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gcmVhZFxuICogQHBhcmFtIHtPYmplY3Q9fSBpbmZvIElmIGFuIG9iamVjdCBpcyBwcm92aWRlZCB0byBgaW5mb2AsIHRoZSBub3JtYWxpemVkXG4gKiAgKGZsYXR0ZW5lZCkgcGF0aCB3aWxsIGJlIHNldCB0byBgaW5mby5wYXRoYC5cbiAqIEByZXR1cm4geyp9IFZhbHVlIGF0IHBhdGgsIG9yIGB1bmRlZmluZWRgIGlmIHRoZSBwYXRoIGNvdWxkIG5vdCBiZVxuICogIGZ1bGx5IGRlcmVmZXJlbmNlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldChyb290LCBwYXRoLCBpbmZvKSB7XG4gIGxldCBwcm9wID0gcm9vdDtcbiAgbGV0IHBhcnRzID0gc3BsaXQocGF0aCk7XG4gIC8vIExvb3Agb3ZlciBwYXRoIHBhcnRzWzAuLm4tMV0gYW5kIGRlcmVmZXJlbmNlXG4gIGZvciAobGV0IGk9MDsgaTxwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGlmICghcHJvcCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgcGFydCA9IHBhcnRzW2ldO1xuICAgIHByb3AgPSBwcm9wW3BhcnRdO1xuICB9XG4gIGlmIChpbmZvKSB7XG4gICAgaW5mby5wYXRoID0gcGFydHMuam9pbignLicpO1xuICB9XG4gIHJldHVybiBwcm9wO1xufVxuXG4vKipcbiAqIFNldHMgYSB2YWx1ZSB0byBhIHBhdGguICBJZiBhbnkgc3ViLXByb3BlcnR5IGluIHRoZSBwYXRoIGlzIGB1bmRlZmluZWRgLFxuICogdGhpcyBtZXRob2Qgd2lsbCBuby1vcC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcm9vdCBPYmplY3QgZnJvbSB3aGljaCB0byBkZXJlZmVyZW5jZSBwYXRoIGZyb21cbiAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gc2V0XG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldCB0byBwYXRoXG4gKiBAcmV0dXJuIHtzdHJpbmcgfCB1bmRlZmluZWR9IFRoZSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIGlucHV0IHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldChyb290LCBwYXRoLCB2YWx1ZSkge1xuICBsZXQgcHJvcCA9IHJvb3Q7XG4gIGxldCBwYXJ0cyA9IHNwbGl0KHBhdGgpO1xuICBsZXQgbGFzdCA9IHBhcnRzW3BhcnRzLmxlbmd0aC0xXTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAvLyBMb29wIG92ZXIgcGF0aCBwYXJ0c1swLi5uLTJdIGFuZCBkZXJlZmVyZW5jZVxuICAgIGZvciAobGV0IGk9MDsgaTxwYXJ0cy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgICBsZXQgcGFydCA9IHBhcnRzW2ldO1xuICAgICAgcHJvcCA9IHByb3BbcGFydF07XG4gICAgICBpZiAoIXByb3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBTZXQgdmFsdWUgdG8gb2JqZWN0IGF0IGVuZCBvZiBwYXRoXG4gICAgcHJvcFtsYXN0XSA9IHZhbHVlO1xuICB9IGVsc2Uge1xuICAgIC8vIFNpbXBsZSBwcm9wZXJ0eSBzZXRcbiAgICBwcm9wW3BhdGhdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHBhcnRzLmpvaW4oJy4nKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHN0cmluZyBpcyBhIHN0cnVjdHVyZWQgZGF0YSBwYXRoIChoYXMgZG90cykuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLiAgVXNlIGBpc1BhdGhgIGluc3RlYWQuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBcbiAqIGlzRGVlcCgnZm9vLmJhci5iYXonKSAvLyB0cnVlXG4gKiBpc0RlZXAoJ2ZvbycpICAgICAgICAgLy8gZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHN0cmluZ1xuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3RyaW5nIGNvbnRhaW5lZCBvbmUgb3IgbW9yZSBkb3RzXG4gKi9cbmV4cG9ydCBjb25zdCBpc0RlZXAgPSBpc1BhdGg7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5jb25zdCBjYXNlTWFwID0ge307XG5jb25zdCBEQVNIX1RPX0NBTUVMID0gLy1bYS16XS9nO1xuY29uc3QgQ0FNRUxfVE9fREFTSCA9IC8oW0EtWl0pL2c7XG5cbi8qKlxuICogQGZpbGVvdmVydmlldyBNb2R1bGUgd2l0aCB1dGlsaXRpZXMgZm9yIGNvbnZlcnRpbmcgYmV0d2VlbiBcImRhc2gtY2FzZVwiIGFuZFxuICogXCJjYW1lbENhc2VcIiBpZGVudGlmaWVycy5cbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIFwiZGFzaC1jYXNlXCIgaWRlbnRpZmllciAoZS5nLiBgZm9vLWJhci1iYXpgKSB0byBcImNhbWVsQ2FzZVwiXG4gKiAoZS5nLiBgZm9vQmFyQmF6YCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGRhc2ggRGFzaC1jYXNlIGlkZW50aWZpZXJcbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FtZWwtY2FzZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgaWRlbnRpZmllclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGFzaFRvQ2FtZWxDYXNlKGRhc2gpIHtcbiAgcmV0dXJuIGNhc2VNYXBbZGFzaF0gfHwgKFxuICAgIGNhc2VNYXBbZGFzaF0gPSBkYXNoLmluZGV4T2YoJy0nKSA8IDAgPyBkYXNoIDogZGFzaC5yZXBsYWNlKERBU0hfVE9fQ0FNRUwsXG4gICAgICAobSkgPT4gbVsxXS50b1VwcGVyQ2FzZSgpXG4gICAgKVxuICApO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIFwiY2FtZWxDYXNlXCIgaWRlbnRpZmllciAoZS5nLiBgZm9vQmFyQmF6YCkgdG8gXCJkYXNoLWNhc2VcIlxuICogKGUuZy4gYGZvby1iYXItYmF6YCkuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNhbWVsIENhbWVsLWNhc2UgaWRlbnRpZmllclxuICogQHJldHVybiB7c3RyaW5nfSBEYXNoLWNhc2UgcmVwcmVzZW50YXRpb24gb2YgdGhlIGlkZW50aWZpZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbWVsVG9EYXNoQ2FzZShjYW1lbCkge1xuICByZXR1cm4gY2FzZU1hcFtjYW1lbF0gfHwgKFxuICAgIGNhc2VNYXBbY2FtZWxdID0gY2FtZWwucmVwbGFjZShDQU1FTF9UT19EQVNILCAnLSQxJykudG9Mb3dlckNhc2UoKVxuICApO1xufVxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKlxuICogVGhpcyBtb2R1bGUgcHJvdmlkZXMgYSBudW1iZXIgb2Ygc3RyYXRlZ2llcyBmb3IgZW5xdWV1aW5nIGFzeW5jaHJvbm91c1xuICogdGFza3MuIEVhY2ggc3ViLW1vZHVsZSBwcm92aWRlcyBhIHN0YW5kYXJkIGBydW4oZm4pYCBpbnRlcmZhY2UgdGhhdCByZXR1cm5zIGFcbiAqIGhhbmRsZSwgYW5kIGEgYGNhbmNlbChoYW5kbGUpYCBpbnRlcmZhY2UgZm9yIGNhbmNlbGluZyBhc3luYyB0YXNrcyBiZWZvcmVcbiAqIHRoZXkgcnVuLlxuICpcbiAqIEBzdW1tYXJ5IE1vZHVsZSB0aGF0IHByb3ZpZGVzIGEgbnVtYmVyIG9mIHN0cmF0ZWdpZXMgZm9yIGVucXVldWluZ1xuICogYXN5bmNocm9ub3VzIHRhc2tzLlxuICovXG5cbmltcG9ydCAnLi9ib290LmpzJztcblxuLy8gTWljcm90YXNrIGltcGxlbWVudGVkIHVzaW5nIE11dGF0aW9uIE9ic2VydmVyXG5sZXQgbWljcm90YXNrQ3VyckhhbmRsZSA9IDA7XG5sZXQgbWljcm90YXNrTGFzdEhhbmRsZSA9IDA7XG5sZXQgbWljcm90YXNrQ2FsbGJhY2tzID0gW107XG5sZXQgbWljcm90YXNrTm9kZUNvbnRlbnQgPSAwO1xubGV0IG1pY3JvdGFza05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG5uZXcgd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIobWljcm90YXNrRmx1c2gpLm9ic2VydmUobWljcm90YXNrTm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTtcblxuZnVuY3Rpb24gbWljcm90YXNrRmx1c2goKSB7XG4gIGNvbnN0IGxlbiA9IG1pY3JvdGFza0NhbGxiYWNrcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBsZXQgY2IgPSBtaWNyb3Rhc2tDYWxsYmFja3NbaV07XG4gICAgaWYgKGNiKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjYigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgdGhyb3cgZTsgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIG1pY3JvdGFza0NhbGxiYWNrcy5zcGxpY2UoMCwgbGVuKTtcbiAgbWljcm90YXNrTGFzdEhhbmRsZSArPSBsZW47XG59XG5cbi8qKlxuICogQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGBzZXRUaW1lb3V0YC5cbiAqXG4gKiBAbmFtZXNwYWNlXG4gKiBAc3VtbWFyeSBBc3luYyBpbnRlcmZhY2Ugd3JhcHBlciBhcm91bmQgYHNldFRpbWVvdXRgLlxuICovXG5jb25zdCB0aW1lT3V0ID0ge1xuICAvKipcbiAgICogUmV0dXJucyBhIHN1Yi1tb2R1bGUgd2l0aCB0aGUgYXN5bmMgaW50ZXJmYWNlIHByb3ZpZGluZyB0aGUgcHJvdmlkZWRcbiAgICogZGVsYXkuXG4gICAqXG4gICAqIEBtZW1iZXJvZiB0aW1lT3V0XG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gZGVsYXkgVGltZSB0byB3YWl0IGJlZm9yZSBjYWxsaW5nIGNhbGxiYWNrcyBpbiBtc1xuICAgKiBAcmV0dXJuIHshQXN5bmNJbnRlcmZhY2V9IEFuIGFzeW5jIHRpbWVvdXQgaW50ZXJmYWNlXG4gICAqL1xuICBhZnRlcihkZWxheSkge1xuICAgIHJldHVybiB7XG4gICAgICBydW4oZm4pIHsgcmV0dXJuIHdpbmRvdy5zZXRUaW1lb3V0KGZuLCBkZWxheSk7IH0sXG4gICAgICBjYW5jZWwoaGFuZGxlKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICAvKipcbiAgICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgaW4gdGhlIG5leHQgdGFzay5cbiAgICpcbiAgICogQG1lbWJlcm9mIHRpbWVPdXRcbiAgICogQHBhcmFtIHshRnVuY3Rpb259IGZuIENhbGxiYWNrIHRvIHJ1blxuICAgKiBAcGFyYW0ge251bWJlcj19IGRlbGF5IERlbGF5IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICAgKi9cbiAgcnVuKGZuLCBkZWxheSkge1xuICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChmbiwgZGVsYXkpO1xuICB9LFxuICAvKipcbiAgICogQ2FuY2VscyBhIHByZXZpb3VzbHkgZW5xdWV1ZWQgYHRpbWVPdXRgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgdGltZU91dFxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFuZGxlIEhhbmRsZSByZXR1cm5lZCBmcm9tIGBydW5gIG9mIGNhbGxiYWNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKGhhbmRsZSkge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgfVxufTtcbmV4cG9ydCB7dGltZU91dH07XG5cbi8qKlxuICogQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLlxuICpcbiAqIEBuYW1lc3BhY2VcbiAqIEBzdW1tYXJ5IEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYC5cbiAqL1xuY29uc3QgYW5pbWF0aW9uRnJhbWUgPSB7XG4gIC8qKlxuICAgKiBFbnF1ZXVlcyBhIGZ1bmN0aW9uIGNhbGxlZCBhdCBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB0aW1pbmcuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBhbmltYXRpb25GcmFtZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG51bWJlcik6dm9pZH0gZm4gQ2FsbGJhY2sgdG8gcnVuXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gICAqL1xuICBydW4oZm4pIHtcbiAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gIH0sXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgYW5pbWF0aW9uRnJhbWVgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgYW5pbWF0aW9uRnJhbWVcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBgcnVuYCBvZiBjYWxsYmFjayB0byBjYW5jZWxcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNhbmNlbChoYW5kbGUpIHtcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoaGFuZGxlKTtcbiAgfVxufTtcbmV4cG9ydCB7YW5pbWF0aW9uRnJhbWV9O1xuXG4vKipcbiAqIEFzeW5jIGludGVyZmFjZSB3cmFwcGVyIGFyb3VuZCBgcmVxdWVzdElkbGVDYWxsYmFja2AuICBGYWxscyBiYWNrIHRvXG4gKiBgc2V0VGltZW91dGAgb24gYnJvd3NlcnMgdGhhdCBkbyBub3Qgc3VwcG9ydCBgcmVxdWVzdElkbGVDYWxsYmFja2AuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHN1bW1hcnkgQXN5bmMgaW50ZXJmYWNlIHdyYXBwZXIgYXJvdW5kIGByZXF1ZXN0SWRsZUNhbGxiYWNrYC5cbiAqL1xuY29uc3QgaWRsZVBlcmlvZCA9IHtcbiAgLyoqXG4gICAqIEVucXVldWVzIGEgZnVuY3Rpb24gY2FsbGVkIGF0IGByZXF1ZXN0SWRsZUNhbGxiYWNrYCB0aW1pbmcuXG4gICAqXG4gICAqIEBtZW1iZXJvZiBpZGxlUGVyaW9kXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUlkbGVEZWFkbGluZSk6dm9pZH0gZm4gQ2FsbGJhY2sgdG8gcnVuXG4gICAqIEByZXR1cm4ge251bWJlcn0gSGFuZGxlIHVzZWQgZm9yIGNhbmNlbGluZyB0YXNrXG4gICAqL1xuICBydW4oZm4pIHtcbiAgICByZXR1cm4gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgP1xuICAgICAgd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2soZm4pIDpcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZuLCAxNik7XG4gIH0sXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgcHJldmlvdXNseSBlbnF1ZXVlZCBgaWRsZVBlcmlvZGAgY2FsbGJhY2suXG4gICAqXG4gICAqIEBtZW1iZXJvZiBpZGxlUGVyaW9kXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gYHJ1bmAgb2YgY2FsbGJhY2sgdG8gY2FuY2VsXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjYW5jZWwoaGFuZGxlKSB7XG4gICAgd2luZG93LmNhbmNlbElkbGVDYWxsYmFjayA/XG4gICAgICB3aW5kb3cuY2FuY2VsSWRsZUNhbGxiYWNrKGhhbmRsZSkgOlxuICAgICAgd2luZG93LmNsZWFyVGltZW91dChoYW5kbGUpO1xuICB9XG59O1xuZXhwb3J0IHtpZGxlUGVyaW9kfTtcblxuLyoqXG4gKiBBc3luYyBpbnRlcmZhY2UgZm9yIGVucXVldWluZyBjYWxsYmFja3MgdGhhdCBydW4gYXQgbWljcm90YXNrIHRpbWluZy5cbiAqXG4gKiBOb3RlIHRoYXQgbWljcm90YXNrIHRpbWluZyBpcyBhY2hpZXZlZCB2aWEgYSBzaW5nbGUgYE11dGF0aW9uT2JzZXJ2ZXJgLFxuICogYW5kIHRodXMgY2FsbGJhY2tzIGVucXVldWVkIHdpdGggdGhpcyBBUEkgd2lsbCBhbGwgcnVuIGluIGEgc2luZ2xlXG4gKiBiYXRjaCwgYW5kIG5vdCBpbnRlcmxlYXZlZCB3aXRoIG90aGVyIG1pY3JvdGFza3Mgc3VjaCBhcyBwcm9taXNlcy5cbiAqIFByb21pc2VzIGFyZSBhdm9pZGVkIGFzIGFuIGltcGxlbWVudGF0aW9uIGNob2ljZSBmb3IgdGhlIHRpbWUgYmVpbmdcbiAqIGR1ZSB0byBTYWZhcmkgYnVncyB0aGF0IGNhdXNlIFByb21pc2VzIHRvIGxhY2sgbWljcm90YXNrIGd1YXJhbnRlZXMuXG4gKlxuICogQG5hbWVzcGFjZVxuICogQHN1bW1hcnkgQXN5bmMgaW50ZXJmYWNlIGZvciBlbnF1ZXVpbmcgY2FsbGJhY2tzIHRoYXQgcnVuIGF0IG1pY3JvdGFza1xuICogICB0aW1pbmcuXG4gKi9cbmNvbnN0IG1pY3JvVGFzayA9IHtcblxuICAvKipcbiAgICogRW5xdWV1ZXMgYSBmdW5jdGlvbiBjYWxsZWQgYXQgbWljcm90YXNrIHRpbWluZy5cbiAgICpcbiAgICogQG1lbWJlcm9mIG1pY3JvVGFza1xuICAgKiBAcGFyYW0geyFGdW5jdGlvbj19IGNhbGxiYWNrIENhbGxiYWNrIHRvIHJ1blxuICAgKiBAcmV0dXJuIHtudW1iZXJ9IEhhbmRsZSB1c2VkIGZvciBjYW5jZWxpbmcgdGFza1xuICAgKi9cbiAgcnVuKGNhbGxiYWNrKSB7XG4gICAgbWljcm90YXNrTm9kZS50ZXh0Q29udGVudCA9IG1pY3JvdGFza05vZGVDb250ZW50Kys7XG4gICAgbWljcm90YXNrQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHJldHVybiBtaWNyb3Rhc2tDdXJySGFuZGxlKys7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbmNlbHMgYSBwcmV2aW91c2x5IGVucXVldWVkIGBtaWNyb1Rhc2tgIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAbWVtYmVyb2YgbWljcm9UYXNrXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kbGUgSGFuZGxlIHJldHVybmVkIGZyb20gYHJ1bmAgb2YgY2FsbGJhY2sgdG8gY2FuY2VsXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjYW5jZWwoaGFuZGxlKSB7XG4gICAgY29uc3QgaWR4ID0gaGFuZGxlIC0gbWljcm90YXNrTGFzdEhhbmRsZTtcbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgIGlmICghbWljcm90YXNrQ2FsbGJhY2tzW2lkeF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFzeW5jIGhhbmRsZTogJyArIGhhbmRsZSk7XG4gICAgICB9XG4gICAgICBtaWNyb3Rhc2tDYWxsYmFja3NbaWR4XSA9IG51bGw7XG4gICAgfVxuICB9XG5cbn07XG5leHBvcnQge21pY3JvVGFza307XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IG1pY3JvVGFzayB9IGZyb20gJy4uL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcblxuLyoqIEBjb25zdCB7IUFzeW5jSW50ZXJmYWNlfSAqL1xuY29uc3QgbWljcm90YXNrID0gbWljcm9UYXNrO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBiYXNpYyBtZXRhLXByb2dyYW1taW5nIGZvciBjcmVhdGluZyBvbmVcbiAqIG9yIG1vcmUgcHJvcGVydHkgYWNjZXNzb3JzIChnZXR0ZXIvc2V0dGVyIHBhaXIpIHRoYXQgZW5xdWV1ZSBhbiBhc3luY1xuICogKGJhdGNoZWQpIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICpcbiAqIEZvciBiYXNpYyB1c2FnZSBvZiB0aGlzIG1peGluLCBjYWxsIGBNeUNsYXNzLmNyZWF0ZVByb3BlcnRpZXMocHJvcHMpYFxuICogb25jZSBhdCBjbGFzcyBkZWZpbml0aW9uIHRpbWUgdG8gY3JlYXRlIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgcHJvcGVydGllc1xuICogbmFtZWQgaW4gcHJvcHMsIGltcGxlbWVudCBgX3Byb3BlcnRpZXNDaGFuZ2VkYCB0byByZWFjdCBhcyBkZXNpcmVkIHRvXG4gKiBwcm9wZXJ0eSBjaGFuZ2VzLCBhbmQgaW1wbGVtZW50IGBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpYCBhbmRcbiAqIGluY2x1ZGUgbG93ZXJjYXNlIHZlcnNpb25zIG9mIGFueSBwcm9wZXJ0eSBuYW1lcyB0aGF0IHNob3VsZCBiZSBzZXQgZnJvbVxuICogYXR0cmlidXRlcy4gTGFzdCwgY2FsbCBgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpYCBpbiB0aGUgZWxlbWVudCdzXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIHRvIGVuYWJsZSB0aGUgYWNjZXNzb3JzLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiBmb3IgcmVhY3RpbmcgdG8gcHJvcGVydHkgY2hhbmdlcyBmcm9tXG4gKiAgIGdlbmVyYXRlZCBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgUHJvcGVydGllc0NoYW5nZWQgPSBkZWR1cGluZ01peGluKFxuICAgIC8qKlxuICAgICAqIEB0ZW1wbGF0ZSBUXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIHdpdGggbWl4aW4gYXBwbGllZC5cbiAgICAgKi9cbiAgICAoc3VwZXJDbGFzcykgPT4ge1xuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0aWVzQ2hhbmdlZH1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgUHJvcGVydGllc0NoYW5nZWQgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgcHJvcGVydHkgYWNjZXNzb3JzIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkgbmFtZXMuXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBwcm9wcyBPYmplY3Qgd2hvc2Uga2V5cyBhcmUgbmFtZXMgb2YgYWNjZXNzb3JzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICAgIGNvbnN0IHByb3RvID0gdGhpcy5wcm90b3R5cGU7XG4gICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgIC8vIGRvbid0IHN0b21wIGFuIGV4aXN0aW5nIGFjY2Vzc29yXG4gICAgICAgIGlmICghKHByb3AgaW4gcHJvdG8pKSB7XG4gICAgICAgICAgcHJvdG8uX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3IocHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGF0dHJpYnV0ZSBuYW1lIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIFRoZSBhdHRyaWJ1dGUgbmFtZSBpcyB0aGUgbG93ZXJjYXNlZCBwcm9wZXJ0eSBuYW1lLiBPdmVycmlkZSB0b1xuICAgICAqIGN1c3RvbWl6ZSB0aGlzIG1hcHBpbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEF0dHJpYnV0ZSBuYW1lIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHByb3BlcnR5LnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcG9pbnQgdG8gcHJvdmlkZSBhIHR5cGUgdG8gd2hpY2ggdG8gZGVzZXJpYWxpemUgYSB2YWx1ZSB0b1xuICAgICAqIGEgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIHR5cGVGb3JQcm9wZXJ0eShuYW1lKSB7IH0gLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0dGVyL2dldHRlciBwYWlyIGZvciB0aGUgbmFtZWQgcHJvcGVydHkgd2l0aCBpdHMgb3duXG4gICAgICogbG9jYWwgc3RvcmFnZS4gIFRoZSBnZXR0ZXIgcmV0dXJucyB0aGUgdmFsdWUgaW4gdGhlIGxvY2FsIHN0b3JhZ2UsXG4gICAgICogYW5kIHRoZSBzZXR0ZXIgY2FsbHMgYF9zZXRQcm9wZXJ0eWAsIHdoaWNoIHVwZGF0ZXMgdGhlIGxvY2FsIHN0b3JhZ2VcbiAgICAgKiBmb3IgdGhlIHByb3BlcnR5IGFuZCBlbnF1ZXVlcyBhIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWF5IGJlIGNhbGxlZCBvbiBhIHByb3RvdHlwZSBvciBhbiBpbnN0YW5jZS4gIENhbGxpbmdcbiAgICAgKiB0aGlzIG1ldGhvZCBtYXkgb3ZlcndyaXRlIGEgcHJvcGVydHkgdmFsdWUgdGhhdCBhbHJlYWR5IGV4aXN0cyBvblxuICAgICAqIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgYnkgY3JlYXRpbmcgdGhlIGFjY2Vzc29yLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcmVhZE9ubHkgV2hlbiB0cnVlLCBubyBzZXR0ZXIgaXMgY3JlYXRlZDsgdGhlXG4gICAgICogICBwcm90ZWN0ZWQgYF9zZXRQcm9wZXJ0eWAgZnVuY3Rpb24gbXVzdCBiZSB1c2VkIHRvIHNldCB0aGUgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfY3JlYXRlUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgcmVhZE9ubHkpIHtcbiAgICAgIHRoaXMuX2FkZFByb3BlcnR5VG9BdHRyaWJ1dGVNYXAocHJvcGVydHkpO1xuICAgICAgaWYgKCF0aGlzLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ19fZGF0YUhhc0FjY2Vzc29yJywgdGhpcykpKSB7XG4gICAgICAgIHRoaXMuX19kYXRhSGFzQWNjZXNzb3IgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yKTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5fX2RhdGFIYXNBY2Nlc3Nvcltwcm9wZXJ0eV0pIHtcbiAgICAgICAgdGhpcy5fX2RhdGFIYXNBY2Nlc3Nvcltwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgICB0aGlzLl9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgZ2l2ZW4gYHByb3BlcnR5YCB0byBhIG1hcCBtYXRjaGluZyBhdHRyaWJ1dGUgbmFtZXNcbiAgICAgKiB0byBwcm9wZXJ0eSBuYW1lcywgdXNpbmcgYGF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eWAuIFRoaXMgbWFwIGlzXG4gICAgICogdXNlZCB3aGVuIGRlc2VyaWFsaXppbmcgYXR0cmlidXRlIHZhbHVlcyB0byBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FkZFByb3BlcnR5VG9BdHRyaWJ1dGVNYXAocHJvcGVydHkpIHtcbiAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX2RhdGFBdHRyaWJ1dGVzJywgdGhpcykpKSB7XG4gICAgICAgIHRoaXMuX19kYXRhQXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX19kYXRhQXR0cmlidXRlcyk7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX19kYXRhQXR0cmlidXRlc1twcm9wZXJ0eV0pIHtcbiAgICAgICAgY29uc3QgYXR0ciA9IHRoaXMuY29uc3RydWN0b3IuYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgICAgdGhpcy5fX2RhdGFBdHRyaWJ1dGVzW2F0dHJdID0gcHJvcGVydHk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmaW5lcyBhIHByb3BlcnR5IGFjY2Vzc29yIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcmVhZE9ubHkgV2hlbiB0cnVlLCBubyBzZXR0ZXIgaXMgY3JlYXRlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgIF9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIHByb3BlcnR5LCB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHZhbGlkLWpzZG9jICovXG4gICAgICAgIC8qKiBAdGhpcyB7UHJvcGVydGllc0NoYW5nZWR9ICovXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgICB9LFxuICAgICAgICAvKiogQHRoaXMge1Byb3BlcnRpZXNDaGFuZ2VkfSAqL1xuICAgICAgICBzZXQ6IHJlYWRPbmx5ID8gZnVuY3Rpb24gKCkge30gOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX19kYXRhRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2RhdGFSZWFkeSA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2RhdGFJbnZhbGlkID0gZmFsc2U7XG4gICAgICB0aGlzLl9fZGF0YSA9IHt9O1xuICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0gbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhT2xkID0gbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcyA9IG51bGw7XG4gICAgICB0aGlzLl9fc2VyaWFsaXppbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlIGNhbGxiYWNrIGNhbGxlZCB3aGVuIHByb3BlcnRpZXMgYXJlIGVuYWJsZWQgdmlhXG4gICAgICogYF9lbmFibGVQcm9wZXJ0aWVzYC5cbiAgICAgKlxuICAgICAqIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIHRvIGltcGxlbWVudCBiZWhhdmlvciB0aGF0IGlzXG4gICAgICogZGVwZW5kZW50IG9uIHRoZSBlbGVtZW50IGhhdmluZyBpdHMgcHJvcGVydHkgZGF0YSBpbml0aWFsaXplZCwgZS5nLlxuICAgICAqIGZyb20gZGVmYXVsdHMgKGluaXRpYWxpemVkIGZyb20gYGNvbnN0cnVjdG9yYCwgYF9pbml0aWFsaXplUHJvcGVydGllc2ApLFxuICAgICAqIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgLCBvciB2YWx1ZXMgcHJvcGFnYXRlZCBmcm9tIGhvc3QgZS5nLiB2aWFcbiAgICAgKiBiaW5kaW5ncy4gIGBzdXBlci5yZWFkeSgpYCBtdXN0IGJlIGNhbGxlZCB0byBlbnN1cmUgdGhlIGRhdGEgc3lzdGVtXG4gICAgICogYmVjb21lcyBlbmFibGVkLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICB0aGlzLl9fZGF0YVJlYWR5ID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBsb2NhbCBzdG9yYWdlIGZvciBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gICAgICpcbiAgICAgKiBQcm92aWRlZCBhcyBhbiBvdmVycmlkZSBwb2ludCBmb3IgcGVyZm9ybWluZyBhbnkgc2V0dXAgd29yayBwcmlvclxuICAgICAqIHRvIGluaXRpYWxpemluZyB0aGUgcHJvcGVydHkgYWNjZXNzb3Igc3lzdGVtLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgLy8gQ2FwdHVyZSBpbnN0YW5jZSBwcm9wZXJ0aWVzOyB0aGVzZSB3aWxsIGJlIHNldCBpbnRvIGFjY2Vzc29yc1xuICAgICAgLy8gZHVyaW5nIGZpcnN0IGZsdXNoLiBEb24ndCBzZXQgdGhlbSBoZXJlLCBzaW5jZSB3ZSB3YW50XG4gICAgICAvLyB0aGVzZSB0byBvdmVyd3JpdGUgZGVmYXVsdHMvY29uc3RydWN0b3IgYXNzaWdubWVudHNcbiAgICAgIGZvciAobGV0IHAgaW4gdGhpcy5fX2RhdGFIYXNBY2Nlc3Nvcikge1xuICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcyA9IHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcyB8fCB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHNbcF0gPSB0aGlzW3BdO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGF0IHJlYWR5IHRpbWUgd2l0aCBiYWcgb2YgaW5zdGFuY2UgcHJvcGVydGllcyB0aGF0IG92ZXJ3cm90ZVxuICAgICAqIGFjY2Vzc29ycyB3aGVuIHRoZSBlbGVtZW50IHVwZ3JhZGVkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2V0cyB0aGVzZSBwcm9wZXJ0aWVzIGJhY2sgaW50byB0aGVcbiAgICAgKiBzZXR0ZXIgYXQgcmVhZHkgdGltZS4gIFRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGFuIG92ZXJyaWRlXG4gICAgICogcG9pbnQgZm9yIGN1c3RvbWl6aW5nIG9yIHByb3ZpZGluZyBtb3JlIGVmZmljaWVudCBpbml0aWFsaXphdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgcHJvcGVydHkgdmFsdWVzIHRoYXQgd2VyZSBvdmVyd3JpdHRlblxuICAgICAqICAgd2hlbiBjcmVhdGluZyBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVJbnN0YW5jZVByb3BlcnRpZXMocHJvcHMpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgcHJvcHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIHN0b3JhZ2UgZm9yIGEgcHJvcGVydHkgKHZpYSBgX3NldFBlbmRpbmdQcm9wZXJ0eWApXG4gICAgICogYW5kIGVucXVldWVzIGEgYF9wcm9lcHJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcGVydHksIHZhbHVlKSkge1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHsqfSBWYWx1ZSBmb3IgdGhlIGdpdmVuIHByb3BlcnR5XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9nZXRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhW3Byb3BlcnR5XTtcbiAgICB9XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGxvY2FsIHN0b3JhZ2UgZm9yIGEgcHJvcGVydHksIHJlY29yZHMgdGhlIHByZXZpb3VzIHZhbHVlLFxuICAgICAqIGFuZCBhZGRzIGl0IHRvIHRoZSBzZXQgb2YgXCJwZW5kaW5nIGNoYW5nZXNcIiB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAqIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrLiAgVGhpcyBtZXRob2QgZG9lcyBub3QgZW5xdWV1ZSB0aGVcbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gZXh0IE5vdCB1c2VkIGhlcmU7IGFmZm9yZGFuY2UgZm9yIGNsb3N1cmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3BlcnR5IGNoYW5nZWRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIGV4dCkge1xuICAgICAgbGV0IG9sZCA9IHRoaXMuX19kYXRhW3Byb3BlcnR5XTtcbiAgICAgIGxldCBjaGFuZ2VkID0gdGhpcy5fc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpO1xuICAgICAgaWYgKGNoYW5nZWQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmcgPSB7fTtcbiAgICAgICAgICB0aGlzLl9fZGF0YU9sZCA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIC8vIEVuc3VyZSBvbGQgaXMgY2FwdHVyZWQgZnJvbSB0aGUgbGFzdCB0dXJuXG4gICAgICAgIGlmICh0aGlzLl9fZGF0YU9sZCAmJiAhKHByb3BlcnR5IGluIHRoaXMuX19kYXRhT2xkKSkge1xuICAgICAgICAgIHRoaXMuX19kYXRhT2xkW3Byb3BlcnR5XSA9IG9sZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fZGF0YVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoYW5nZWQ7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgKi9cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSBwcm9wZXJ0aWVzIGFzIGludmFsaWQsIGFuZCBlbnF1ZXVlcyBhbiBhc3luY1xuICAgICAqIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKCF0aGlzLl9fZGF0YUludmFsaWQgJiYgdGhpcy5fX2RhdGFSZWFkeSkge1xuICAgICAgICB0aGlzLl9fZGF0YUludmFsaWQgPSB0cnVlO1xuICAgICAgICBtaWNyb3Rhc2sucnVuKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5fX2RhdGFJbnZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9fZGF0YUludmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2ZsdXNoUHJvcGVydGllcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbCB0byBlbmFibGUgcHJvcGVydHkgYWNjZXNzb3IgcHJvY2Vzc2luZy4gQmVmb3JlIHRoaXMgbWV0aG9kIGlzXG4gICAgICogY2FsbGVkIGFjY2Vzc29yIHZhbHVlcyB3aWxsIGJlIHNldCBidXQgc2lkZSBlZmZlY3RzIGFyZVxuICAgICAqIHF1ZXVlZC4gV2hlbiBjYWxsZWQsIGFueSBwZW5kaW5nIHNpZGUgZWZmZWN0cyBvY2N1ciBpbW1lZGlhdGVseS5cbiAgICAgKiBGb3IgZWxlbWVudHMsIGdlbmVyYWxseSBgY29ubmVjdGVkQ2FsbGJhY2tgIGlzIGEgbm9ybWFsIHNwb3QgdG8gZG8gc28uXG4gICAgICogSXQgaXMgc2FmZSB0byBjYWxsIHRoaXMgbWV0aG9kIG11bHRpcGxlIHRpbWVzIGFzIGl0IG9ubHkgdHVybnMgb25cbiAgICAgKiBwcm9wZXJ0eSBhY2Nlc3NvcnMgb25jZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lbmFibGVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKCF0aGlzLl9fZGF0YUVuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19kYXRhSW5zdGFuY2VQcm9wcykge1xuICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVJbnN0YW5jZVByb3BlcnRpZXModGhpcy5fX2RhdGFJbnN0YW5jZVByb3BzKTtcbiAgICAgICAgICB0aGlzLl9fZGF0YUluc3RhbmNlUHJvcHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVhZHkoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2sgd2l0aCB0aGUgY3VycmVudCBzZXQgb2ZcbiAgICAgKiBwZW5kaW5nIGNoYW5nZXMgKGFuZCBvbGQgdmFsdWVzIHJlY29yZGVkIHdoZW4gcGVuZGluZyBjaGFuZ2VzIHdlcmVcbiAgICAgKiBzZXQpLCBhbmQgcmVzZXRzIHRoZSBwZW5kaW5nIHNldCBvZiBjaGFuZ2VzLiBHZW5lcmFsbHksIHRoaXMgbWV0aG9kXG4gICAgICogc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gdXNlciBjb2RlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2ZsdXNoUHJvcGVydGllcygpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gdGhpcy5fX2RhdGE7XG4gICAgICBjb25zdCBjaGFuZ2VkUHJvcHMgPSB0aGlzLl9fZGF0YVBlbmRpbmc7XG4gICAgICBjb25zdCBvbGQgPSB0aGlzLl9fZGF0YU9sZDtcbiAgICAgIGlmICh0aGlzLl9zaG91bGRQcm9wZXJ0aWVzQ2hhbmdlKHByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZCkpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX2RhdGFPbGQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzQ2hhbmdlZChwcm9wcywgY2hhbmdlZFByb3BzLCBvbGQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpbiBgX2ZsdXNoUHJvcGVydGllc2AgdG8gZGV0ZXJtaW5lIGlmIGBfcHJvcGVydGllc0NoYW5nZWRgXG4gICAgICogc2hvdWxkIGJlIGNhbGxlZC4gVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gcmV0dXJucyB0cnVlIGlmXG4gICAgICogcHJvcGVydGllcyBhcmUgcGVuZGluZy4gT3ZlcnJpZGUgdG8gY3VzdG9taXplIHdoZW5cbiAgICAgKiBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBpcyBjYWxsZWQuXG4gICAgICogQHBhcmFtIHshT2JqZWN0fSBjdXJyZW50UHJvcHMgQmFnIG9mIGFsbCBjdXJyZW50IGFjY2Vzc29yIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7P09iamVjdH0gY2hhbmdlZFByb3BzIEJhZyBvZiBwcm9wZXJ0aWVzIGNoYW5nZWQgc2luY2UgdGhlIGxhc3RcbiAgICAgKiAgIGNhbGwgdG8gYF9wcm9wZXJ0aWVzQ2hhbmdlZGBcbiAgICAgKiBAcGFyYW0gez9PYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGVhY2ggcHJvcGVydHlcbiAgICAgKiAgIGluIGBjaGFuZ2VkUHJvcHNgXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBjaGFuZ2VkUHJvcHMgaXMgdHJ1dGh5XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3Nob3VsZFByb3BlcnRpZXNDaGFuZ2UoY3VycmVudFByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgIHJldHVybiBCb29sZWFuKGNoYW5nZWRQcm9wcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgY2FsbGVkIHdoZW4gYW55IHByb3BlcnRpZXMgd2l0aCBhY2Nlc3NvcnMgY3JlYXRlZCB2aWFcbiAgICAgKiBgX2NyZWF0ZVByb3BlcnR5QWNjZXNzb3JgIGhhdmUgYmVlbiBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IGN1cnJlbnRQcm9wcyBCYWcgb2YgYWxsIGN1cnJlbnQgYWNjZXNzb3IgdmFsdWVzXG4gICAgICogQHBhcmFtIHs/T2JqZWN0fSBjaGFuZ2VkUHJvcHMgQmFnIG9mIHByb3BlcnRpZXMgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgICAqICAgY2FsbCB0byBgX3Byb3BlcnRpZXNDaGFuZ2VkYFxuICAgICAqIEBwYXJhbSB7P09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgZWFjaCBwcm9wZXJ0eVxuICAgICAqICAgaW4gYGNoYW5nZWRQcm9wc2BcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcHJvcGVydGllc0NoYW5nZWQoY3VycmVudFByb3BzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcHJvcGVydHkgdmFsdWUgc2hvdWxkIGJlXG4gICAgICogY29uc2lkZXJlZCBhcyBhIGNoYW5nZSBhbmQgY2F1c2UgdGhlIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrXG4gICAgICogdG8gYmUgZW5xdWV1ZWQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiByZXR1cm5zIGB0cnVlYCBpZiBhIHN0cmljdCBlcXVhbGl0eVxuICAgICAqIGNoZWNrIGZhaWxzLiBUaGUgbWV0aG9kIGFsd2F5cyByZXR1cm5zIGZhbHNlIGZvciBgTmFOYC5cbiAgICAgKlxuICAgICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGUuZy4gcHJvdmlkZSBzdHJpY3RlciBjaGVja2luZyBmb3JcbiAgICAgKiBPYmplY3RzL0FycmF5cyB3aGVuIHVzaW5nIGltbXV0YWJsZSBwYXR0ZXJucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBOZXcgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcGFyYW0geyp9IG9sZCBQcmV2aW91cyBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlXG4gICAgICogICBhbmQgZW5xdWV1ZSBhIGBfcHJvZXBydGllc0NoYW5nZWRgIGNhbGxiYWNrXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gU3RyaWN0IGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIChvbGQgIT09IHZhbHVlICYmXG4gICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIChvbGQ9PU5hTiwgdmFsdWU9PU5hTikgYWx3YXlzIHJldHVybnMgZmFsc2VcbiAgICAgICAgICAob2xkID09PSBvbGQgfHwgdmFsdWUgPT09IHZhbHVlKSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBuYXRpdmUgQ3VzdG9tIEVsZW1lbnRzIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIHRvXG4gICAgICogc2V0IGFuIGF0dHJpYnV0ZSB2YWx1ZSB0byBhIHByb3BlcnR5IHZpYSBgX2F0dHJpYnV0ZVRvUHJvcGVydHlgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgTmV3IGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gbmFtZXNwYWNlIEF0dHJpYnV0ZSBuYW1lc3BhY2UuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBTdXBlciBtYXkgb3IgbWF5IG5vdCBpbXBsZW1lbnQgdGhlIGNhbGxiYWNrXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgICAgaWYgKG9sZCAhPT0gdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fYXR0cmlidXRlVG9Qcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKSB7XG4gICAgICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2VyaWFsaXplcyBhbiBhdHRyaWJ1dGUgdG8gaXRzIGFzc29jaWF0ZWQgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYWxscyB0aGUgYF9kZXNlcmlhbGl6ZVZhbHVlYCBtZXRob2QgdG8gY29udmVydCB0aGUgc3RyaW5nIHRvXG4gICAgICogYSB0eXBlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgTmFtZSBvZiBhdHRyaWJ1dGUgdG8gZGVzZXJpYWxpemUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7Kj19IHR5cGUgdHlwZSB0byBkZXNlcmlhbGl6ZSB0bywgZGVmYXVsdHMgdG8gdGhlIHZhbHVlXG4gICAgICogcmV0dXJuZWQgZnJvbSBgdHlwZUZvclByb3BlcnR5YFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2F0dHJpYnV0ZVRvUHJvcGVydHkoYXR0cmlidXRlLCB2YWx1ZSwgdHlwZSkge1xuICAgICAgaWYgKCF0aGlzLl9fc2VyaWFsaXppbmcpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5fX2RhdGFBdHRyaWJ1dGVzO1xuICAgICAgICBjb25zdCBwcm9wZXJ0eSA9IG1hcCAmJiBtYXBbYXR0cmlidXRlXSB8fCBhdHRyaWJ1dGU7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gdGhpcy5fZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgdHlwZSB8fFxuICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IudHlwZUZvclByb3BlcnR5KHByb3BlcnR5KSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyBhIHByb3BlcnR5IHRvIGl0cyBhc3NvY2lhdGVkIGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBDbG9zdXJlIGNhbid0IGZpZ3VyZSBvdXQgYHRoaXNgIGlzIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZSB0byByZWZsZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lIHRvIHJlZmxlY3QgdG8uXG4gICAgICogQHBhcmFtIHsqPX0gdmFsdWUgUHJvcGVydHkgdmFsdWUgdG8gcmVmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3Byb3BlcnR5VG9BdHRyaWJ1dGUocHJvcGVydHksIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuX19zZXJpYWxpemluZyA9IHRydWU7XG4gICAgICB2YWx1ZSA9IChhcmd1bWVudHMubGVuZ3RoIDwgMykgPyB0aGlzW3Byb3BlcnR5XSA6IHZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWVUb05vZGVBdHRyaWJ1dGUoLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMpLCB2YWx1ZSxcbiAgICAgICAgYXR0cmlidXRlIHx8IHRoaXMuY29uc3RydWN0b3IuYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHByb3BlcnR5KSk7XG4gICAgICB0aGlzLl9fc2VyaWFsaXppbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgdHlwZWQgdmFsdWUgdG8gYW4gSFRNTCBhdHRyaWJ1dGUgb24gYSBub2RlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FsbHMgdGhlIGBfc2VyaWFsaXplVmFsdWVgIG1ldGhvZCB0byBjb252ZXJ0IHRoZSB0eXBlZFxuICAgICAqIHZhbHVlIHRvIGEgc3RyaW5nLiAgSWYgdGhlIGBfc2VyaWFsaXplVmFsdWVgIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIHRoZSBhdHRyaWJ1dGUgd2lsbCBiZSByZW1vdmVkICh0aGlzIGlzIHRoZSBkZWZhdWx0IGZvciBib29sZWFuXG4gICAgICogdHlwZSBgZmFsc2VgKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBFbGVtZW50IHRvIHNldCBhdHRyaWJ1dGUgdG8uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSB0byBzZXJpYWxpemUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBBdHRyaWJ1dGUgbmFtZSB0byBzZXJpYWxpemUgdG8uXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfdmFsdWVUb05vZGVBdHRyaWJ1dGUobm9kZSwgdmFsdWUsIGF0dHJpYnV0ZSkge1xuICAgICAgY29uc3Qgc3RyID0gdGhpcy5fc2VyaWFsaXplVmFsdWUodmFsdWUpO1xuICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gJ2NsYXNzJyB8fCBhdHRyaWJ1dGUgPT09ICduYW1lJyB8fCBhdHRyaWJ1dGUgPT09ICdzbG90Jykge1xuICAgICAgICBub2RlID0gLyoqIEB0eXBlIHs/RWxlbWVudH0gKi8od3JhcChub2RlKSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgc3RyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHR5cGVkIEphdmFTY3JpcHQgdmFsdWUgdG8gYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiBzZXR0aW5nIEpTIHByb3BlcnR5IHZhbHVlcyB0b1xuICAgICAqIEhUTUwgYXR0cmlidXRlcy4gIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwcm92aWRlXG4gICAgICogc2VyaWFsaXphdGlvbiBmb3IgY3VzdG9tIHR5cGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBQcm9wZXJ0eSB2YWx1ZSB0byBzZXJpYWxpemUuXG4gICAgICogQHJldHVybiB7c3RyaW5nIHwgdW5kZWZpbmVkfSBTdHJpbmcgc2VyaWFsaXplZCBmcm9tIHRoZSBwcm92aWRlZFxuICAgICAqIHByb3BlcnR5ICB2YWx1ZS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc2VyaWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICAgIHJldHVybiB2YWx1ZSA/ICcnIDogdW5kZWZpbmVkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsID8gdmFsdWUudG9TdHJpbmcoKSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHN0cmluZyB0byBhIHR5cGVkIEphdmFTY3JpcHQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgd2hlbiByZWFkaW5nIEhUTUwgYXR0cmlidXRlIHZhbHVlcyB0b1xuICAgICAqIEpTIHByb3BlcnRpZXMuICBVc2VycyBtYXkgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZVxuICAgICAqIGRlc2VyaWFsaXphdGlvbiBmb3IgY3VzdG9tIGB0eXBlYHMuIFR5cGVzIGZvciBgQm9vbGVhbmAsIGBTdHJpbmdgLFxuICAgICAqIGFuZCBgTnVtYmVyYCBjb252ZXJ0IGF0dHJpYnV0ZXMgdG8gdGhlIGV4cGVjdGVkIHR5cGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byBkZXNlcmlhbGl6ZS5cbiAgICAgKiBAcGFyYW0geyo9fSB0eXBlIFR5cGUgdG8gZGVzZXJpYWxpemUgdGhlIHN0cmluZyB0by5cbiAgICAgKiBAcmV0dXJuIHsqfSBUeXBlZCB2YWx1ZSBkZXNlcmlhbGl6ZWQgZnJvbSB0aGUgcHJvdmlkZWQgc3RyaW5nLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9kZXNlcmlhbGl6ZVZhbHVlKHZhbHVlLCB0eXBlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBCb29sZWFuOlxuICAgICAgICAgIHJldHVybiAodmFsdWUgIT09IG51bGwpO1xuICAgICAgICBjYXNlIE51bWJlcjpcbiAgICAgICAgICByZXR1cm4gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gUHJvcGVydGllc0NoYW5nZWQ7XG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgY2FtZWxUb0Rhc2hDYXNlLCBkYXNoVG9DYW1lbENhc2UgfSBmcm9tICcuLi91dGlscy9jYXNlLW1hcC5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0aWVzQ2hhbmdlZCB9IGZyb20gJy4vcHJvcGVydGllcy1jaGFuZ2VkLmpzJztcblxuLy8gU2F2ZSBtYXAgb2YgbmF0aXZlIHByb3BlcnRpZXM7IHRoaXMgZm9ybXMgYSBibGFja2xpc3Qgb3IgcHJvcGVydGllc1xuLy8gdGhhdCB3b24ndCBoYXZlIHRoZWlyIHZhbHVlcyBcInNhdmVkXCIgYnkgYHNhdmVBY2Nlc3NvclZhbHVlYCwgc2luY2Vcbi8vIHJlYWRpbmcgZnJvbSBhbiBIVE1MRWxlbWVudCBhY2Nlc3NvciBmcm9tIHRoZSBjb250ZXh0IG9mIGEgcHJvdG90eXBlIHRocm93c1xuY29uc3QgbmF0aXZlUHJvcGVydGllcyA9IHt9O1xubGV0IHByb3RvID0gSFRNTEVsZW1lbnQucHJvdG90eXBlO1xud2hpbGUgKHByb3RvKSB7XG4gIGxldCBwcm9wcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKTtcbiAgZm9yIChsZXQgaT0wOyBpPHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgbmF0aXZlUHJvcGVydGllc1twcm9wc1tpXV0gPSB0cnVlO1xuICB9XG4gIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbn1cblxuLyoqXG4gKiBVc2VkIHRvIHNhdmUgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgdGhhdCB3aWxsIGJlIG92ZXJyaWRkZW4gd2l0aFxuICogYW4gYWNjZXNzb3IuIElmIHRoZSBgbW9kZWxgIGlzIGEgcHJvdG90eXBlLCB0aGUgdmFsdWVzIHdpbGwgYmUgc2F2ZWRcbiAqIGluIGBfX2RhdGFQcm90b2AsIGFuZCBpdCdzIHVwIHRvIHRoZSB1c2VyIChvciBkb3duc3RyZWFtIG1peGluKSB0b1xuICogZGVjaWRlIGhvdy93aGVuIHRvIHNldCB0aGVzZSB2YWx1ZXMgYmFjayBpbnRvIHRoZSBhY2Nlc3NvcnMuXG4gKiBJZiBgbW9kZWxgIGlzIGFscmVhZHkgYW4gaW5zdGFuY2UgKGl0IGhhcyBhIGBfX2RhdGFgIHByb3BlcnR5KSwgdGhlblxuICogdGhlIHZhbHVlIHdpbGwgYmUgc2V0IGFzIGEgcGVuZGluZyBwcm9wZXJ0eSwgbWVhbmluZyB0aGUgdXNlciBzaG91bGRcbiAqIGNhbGwgYF9pbnZhbGlkYXRlUHJvcGVydGllc2Agb3IgYF9mbHVzaFByb3BlcnRpZXNgIHRvIHRha2UgZWZmZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG1vZGVsIFByb3RvdHlwZSBvciBpbnN0YW5jZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYXZlQWNjZXNzb3JWYWx1ZShtb2RlbCwgcHJvcGVydHkpIHtcbiAgLy8gRG9uJ3QgcmVhZC9zdG9yZSB2YWx1ZSBmb3IgYW55IG5hdGl2ZSBwcm9wZXJ0aWVzIHNpbmNlIHRoZXkgY291bGQgdGhyb3dcbiAgaWYgKCFuYXRpdmVQcm9wZXJ0aWVzW3Byb3BlcnR5XSkge1xuICAgIGxldCB2YWx1ZSA9IG1vZGVsW3Byb3BlcnR5XTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKG1vZGVsLl9fZGF0YSkge1xuICAgICAgICAvLyBBZGRpbmcgYWNjZXNzb3IgdG8gaW5zdGFuY2U7IHVwZGF0ZSB0aGUgcHJvcGVydHlcbiAgICAgICAgLy8gSXQgaXMgdGhlIHVzZXIncyByZXNwb25zaWJpbGl0eSB0byBjYWxsIF9mbHVzaFByb3BlcnRpZXNcbiAgICAgICAgbW9kZWwuX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQWRkaW5nIGFjY2Vzc29yIHRvIHByb3RvOyBzYXZlIHByb3RvJ3MgdmFsdWUgZm9yIGluc3RhbmNlLXRpbWUgdXNlXG4gICAgICAgIGlmICghbW9kZWwuX19kYXRhUHJvdG8pIHtcbiAgICAgICAgICBtb2RlbC5fX2RhdGFQcm90byA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKCFtb2RlbC5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX2RhdGFQcm90bycsIG1vZGVsKSkpIHtcbiAgICAgICAgICBtb2RlbC5fX2RhdGFQcm90byA9IE9iamVjdC5jcmVhdGUobW9kZWwuX19kYXRhUHJvdG8pO1xuICAgICAgICB9XG4gICAgICAgIG1vZGVsLl9fZGF0YVByb3RvW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBiYXNpYyBtZXRhLXByb2dyYW1taW5nIGZvciBjcmVhdGluZyBvbmVcbiAqIG9yIG1vcmUgcHJvcGVydHkgYWNjZXNzb3JzIChnZXR0ZXIvc2V0dGVyIHBhaXIpIHRoYXQgZW5xdWV1ZSBhbiBhc3luY1xuICogKGJhdGNoZWQpIGBfcHJvcGVydGllc0NoYW5nZWRgIGNhbGxiYWNrLlxuICpcbiAqIEZvciBiYXNpYyB1c2FnZSBvZiB0aGlzIG1peGluOlxuICpcbiAqIC0gICBEZWNsYXJlIGF0dHJpYnV0ZXMgdG8gb2JzZXJ2ZSB2aWEgdGhlIHN0YW5kYXJkIGBzdGF0aWMgZ2V0XG4gKiAgICAgb2JzZXJ2ZWRBdHRyaWJ1dGVzKClgLiBVc2UgYGRhc2gtY2FzZWAgYXR0cmlidXRlIG5hbWVzIHRvIHJlcHJlc2VudFxuICogICAgIGBjYW1lbENhc2VgIHByb3BlcnR5IG5hbWVzLlxuICogLSAgIEltcGxlbWVudCB0aGUgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgY2FsbGJhY2sgb24gdGhlIGNsYXNzLlxuICogLSAgIENhbGwgYE15Q2xhc3MuY3JlYXRlUHJvcGVydGllc0ZvckF0dHJpYnV0ZXMoKWAgKipvbmNlKiogb24gdGhlIGNsYXNzIHRvXG4gKiAgICAgZ2VuZXJhdGUgcHJvcGVydHkgYWNjZXNzb3JzIGZvciBlYWNoIG9ic2VydmVkIGF0dHJpYnV0ZS4gVGhpcyBtdXN0IGJlXG4gKiAgICAgY2FsbGVkIGJlZm9yZSB0aGUgZmlyc3QgaW5zdGFuY2UgaXMgY3JlYXRlZCwgZm9yIGV4YW1wbGUsIGJ5IGNhbGxpbmcgaXRcbiAqICAgICBiZWZvcmUgY2FsbGluZyBgY3VzdG9tRWxlbWVudHMuZGVmaW5lYC4gSXQgY2FuIGFsc28gYmUgY2FsbGVkIGxhemlseSBmcm9tXG4gKiAgICAgdGhlIGVsZW1lbnQncyBgY29uc3RydWN0b3JgLCBhcyBsb25nIGFzIGl0J3MgZ3VhcmRlZCBzbyB0aGF0IHRoZSBjYWxsIGlzXG4gKiAgICAgb25seSBtYWRlIG9uY2UsIHdoZW4gdGhlIGZpcnN0IGluc3RhbmNlIGlzIGNyZWF0ZWQuXG4gKiAtICAgQ2FsbCBgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpYCBpbiB0aGUgZWxlbWVudCdzIGBjb25uZWN0ZWRDYWxsYmFja2AgdG9cbiAqICAgICBlbmFibGUgdGhlIGFjY2Vzc29ycy5cbiAqXG4gKiBBbnkgYG9ic2VydmVkQXR0cmlidXRlc2Agd2lsbCBhdXRvbWF0aWNhbGx5IGJlXG4gKiBkZXNlcmlhbGl6ZWQgdmlhIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIGFuZCBzZXQgdG8gdGhlIGFzc29jaWF0ZWRcbiAqIHByb3BlcnR5IHVzaW5nIGBkYXNoLWNhc2VgLXRvLWBjYW1lbENhc2VgIGNvbnZlbnRpb24uXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIFByb3BlcnRpZXNDaGFuZ2VkXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIGZvciByZWFjdGluZyB0byBwcm9wZXJ0eSBjaGFuZ2VzIGZyb21cbiAqICAgZ2VuZXJhdGVkIHByb3BlcnR5IGFjY2Vzc29ycy5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eUFjY2Vzc29ycyA9IGRlZHVwaW5nTWl4aW4oc3VwZXJDbGFzcyA9PiB7XG5cbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0aWVzQ2hhbmdlZH1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgIGNvbnN0IGJhc2UgPSBQcm9wZXJ0aWVzQ2hhbmdlZChzdXBlckNsYXNzKTtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlBY2Nlc3NvcnN9XG4gICAqIEBleHRlbmRzIHtiYXNlfVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqL1xuICBjbGFzcyBQcm9wZXJ0eUFjY2Vzc29ycyBleHRlbmRzIGJhc2Uge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIHByb3BlcnR5IGFjY2Vzc29ycyBmb3IgYWxsIGF0dHJpYnV0ZXMgaW4gdGhlIHN0YW5kYXJkXG4gICAgICogc3RhdGljIGBvYnNlcnZlZEF0dHJpYnV0ZXNgIGFycmF5LlxuICAgICAqXG4gICAgICogQXR0cmlidXRlIG5hbWVzIGFyZSBtYXBwZWQgdG8gcHJvcGVydHkgbmFtZXMgdXNpbmcgdGhlIGBkYXNoLWNhc2VgIHRvXG4gICAgICogYGNhbWVsQ2FzZWAgY29udmVudGlvblxuICAgICAqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0aWVzRm9yQXR0cmlidXRlcygpIHtcbiAgICAgIGxldCBhJCA9ICAvKiogQHR5cGUgez99ICovICh0aGlzKS5vYnNlcnZlZEF0dHJpYnV0ZXM7XG4gICAgICBmb3IgKGxldCBpPTA7IGkgPCBhJC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnByb3RvdHlwZS5fY3JlYXRlUHJvcGVydHlBY2Nlc3NvcihkYXNoVG9DYW1lbENhc2UoYSRbaV0pKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGF0dHJpYnV0ZSBuYW1lIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqIEJ5IGRlZmF1bHQsIGNvbnZlcnRzIGNhbWVsIHRvIGRhc2ggY2FzZSwgZS5nLiBgZm9vQmFyYCB0byBgZm9vLWJhcmAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIGNvbnZlcnRcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IEF0dHJpYnV0ZSBuYW1lIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGF0dHJpYnV0ZU5hbWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIGNhbWVsVG9EYXNoQ2FzZShwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIFByb3BlcnRpZXNDaGFuZ2VkIGltcGxlbWVudGF0aW9uIHRvIGluaXRpYWxpemUgdmFsdWVzIGZvclxuICAgICAqIGFjY2Vzc29ycyBjcmVhdGVkIGZvciB2YWx1ZXMgdGhhdCBhbHJlYWR5IGV4aXN0ZWQgb24gdGhlIGVsZW1lbnRcbiAgICAgKiBwcm90b3R5cGUuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgICBpZiAodGhpcy5fX2RhdGFQcm90bykge1xuICAgICAgICB0aGlzLl9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKHRoaXMuX19kYXRhUHJvdG8pO1xuICAgICAgICB0aGlzLl9fZGF0YVByb3RvID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHN1cGVyLl9pbml0aWFsaXplUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBhdCBpbnN0YW5jZSB0aW1lIHdpdGggYmFnIG9mIHByb3BlcnRpZXMgdGhhdCB3ZXJlIG92ZXJ3cml0dGVuXG4gICAgICogYnkgYWNjZXNzb3JzIG9uIHRoZSBwcm90b3R5cGUgd2hlbiBhY2Nlc3NvcnMgd2VyZSBjcmVhdGVkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gc2V0cyB0aGVzZSBwcm9wZXJ0aWVzIGJhY2sgaW50byB0aGVcbiAgICAgKiBzZXR0ZXIgYXQgaW5zdGFuY2UgdGltZS4gIFRoaXMgbWV0aG9kIGlzIHByb3ZpZGVkIGFzIGFuIG92ZXJyaWRlXG4gICAgICogcG9pbnQgZm9yIGN1c3RvbWl6aW5nIG9yIHByb3ZpZGluZyBtb3JlIGVmZmljaWVudCBpbml0aWFsaXphdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgcHJvcGVydHkgdmFsdWVzIHRoYXQgd2VyZSBvdmVyd3JpdHRlblxuICAgICAqICAgd2hlbiBjcmVhdGluZyBwcm9wZXJ0eSBhY2Nlc3NvcnMuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm90b1Byb3BlcnRpZXMocHJvcHMpIHtcbiAgICAgIGZvciAobGV0IHAgaW4gcHJvcHMpIHtcbiAgICAgICAgdGhpcy5fc2V0UHJvcGVydHkocCwgcHJvcHNbcF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgdGhlIGVsZW1lbnQgaGFzIHRoZSBnaXZlbiBhdHRyaWJ1dGUuIElmIGl0IGRvZXMgbm90LFxuICAgICAqIGFzc2lnbnMgdGhlIGdpdmVuIHZhbHVlIHRvIHRoZSBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gQ2xvc3VyZSBjYW4ndCBmaWd1cmUgb3V0IGB0aGlzYCBpcyBpbmZhY3QgYW5cbiAgICAgKiAgICAgZWxlbWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZSBOYW1lIG9mIGF0dHJpYnV0ZSB0byBlbnN1cmUgaXMgc2V0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2Vuc3VyZUF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgICBjb25zdCBlbCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKTtcbiAgICAgIGlmICghZWwuaGFzQXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVUb05vZGVBdHRyaWJ1dGUoZWwsIHZhbHVlLCBhdHRyaWJ1dGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBQcm9wZXJ0aWVzQ2hhbmdlZCBpbXBsZW1lbnRpb24gdG8gc2VyaWFsaXplIG9iamVjdHMgYXMgSlNPTi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgdG8gc2VyaWFsaXplLlxuICAgICAqIEByZXR1cm4ge3N0cmluZyB8IHVuZGVmaW5lZH0gU3RyaW5nIHNlcmlhbGl6ZWQgZnJvbSB0aGUgcHJvdmlkZWQgcHJvcGVydHlcbiAgICAgKiAgICAgdmFsdWUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3NlcmlhbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgICAgICAgICAgfSBjYXRjaCh4KSB7XG4gICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gc3VwZXIuX3NlcmlhbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHN0cmluZyB0byBhIHR5cGVkIEphdmFTY3JpcHQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnkgUG9seW1lciB3aGVuIHJlYWRpbmcgSFRNTCBhdHRyaWJ1dGUgdmFsdWVzIHRvXG4gICAgICogSlMgcHJvcGVydGllcy4gIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIG1ldGhvZCBvbiBQb2x5bWVyIGVsZW1lbnRcbiAgICAgKiBwcm90b3R5cGVzIHRvIHByb3ZpZGUgZGVzZXJpYWxpemF0aW9uIGZvciBjdXN0b20gYHR5cGVgcy4gIE5vdGUsXG4gICAgICogdGhlIGB0eXBlYCBhcmd1bWVudCBpcyB0aGUgdmFsdWUgb2YgdGhlIGB0eXBlYCBmaWVsZCBwcm92aWRlZCBpbiB0aGVcbiAgICAgKiBgcHJvcGVydGllc2AgY29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGEgZ2l2ZW4gcHJvcGVydHksIGFuZCBpc1xuICAgICAqIGJ5IGNvbnZlbnRpb24gdGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgdHlwZSB0byBkZXNlcmlhbGl6ZS5cbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBBdHRyaWJ1dGUgdmFsdWUgdG8gZGVzZXJpYWxpemUuXG4gICAgICogQHBhcmFtIHsqPX0gdHlwZSBUeXBlIHRvIGRlc2VyaWFsaXplIHRoZSBzdHJpbmcgdG8uXG4gICAgICogQHJldHVybiB7Kn0gVHlwZWQgdmFsdWUgZGVzZXJpYWxpemVkIGZyb20gdGhlIHByb3ZpZGVkIHN0cmluZy5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgdHlwZSkge1xuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7Kn1cbiAgICAgICAqL1xuICAgICAgbGV0IG91dFZhbHVlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgT2JqZWN0OlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRWYWx1ZSA9IEpTT04ucGFyc2UoLyoqIEB0eXBlIHtzdHJpbmd9ICovKHZhbHVlKSk7XG4gICAgICAgICAgfSBjYXRjaCh4KSB7XG4gICAgICAgICAgICAvLyBhbGxvdyBub24tSlNPTiBsaXRlcmFscyBsaWtlIFN0cmluZ3MgYW5kIE51bWJlcnNcbiAgICAgICAgICAgIG91dFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEFycmF5OlxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRWYWx1ZSA9IEpTT04ucGFyc2UoLyoqIEB0eXBlIHtzdHJpbmd9ICovKHZhbHVlKSk7XG4gICAgICAgICAgfSBjYXRjaCh4KSB7XG4gICAgICAgICAgICBvdXRWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFBvbHltZXI6OkF0dHJpYnV0ZXM6IGNvdWxkbid0IGRlY29kZSBBcnJheSBhcyBKU09OOiAke3ZhbHVlfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBEYXRlOlxuICAgICAgICAgIG91dFZhbHVlID0gaXNOYU4odmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgb3V0VmFsdWUgPSBuZXcgRGF0ZShvdXRWYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgb3V0VmFsdWUgPSBzdXBlci5fZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgdHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0VmFsdWU7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tZmFsbHRocm91Z2ggKi9cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBQcm9wZXJ0aWVzQ2hhbmdlZCBpbXBsZW1lbnRhdGlvbiB0byBzYXZlIGV4aXN0aW5nIHByb3RvdHlwZVxuICAgICAqIHByb3BlcnR5IHZhbHVlIHNvIHRoYXQgaXQgY2FuIGJlIHJlc2V0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlYWRPbmx5IFdoZW4gdHJ1ZSwgbm8gc2V0dGVyIGlzIGNyZWF0ZWRcbiAgICAgKlxuICAgICAqIFdoZW4gY2FsbGluZyBvbiBhIHByb3RvdHlwZSwgYW55IG92ZXJ3cml0dGVuIHZhbHVlcyBhcmUgc2F2ZWQgaW5cbiAgICAgKiBgX19kYXRhUHJvdG9gLCBhbmQgaXQgaXMgdXAgdG8gdGhlIHN1YmNsYXNzZXIgdG8gZGVjaWRlIGhvdy93aGVuXG4gICAgICogdG8gc2V0IHRob3NlIHByb3BlcnRpZXMgYmFjayBpbnRvIHRoZSBhY2Nlc3Nvci4gIFdoZW4gY2FsbGluZyBvbiBhblxuICAgICAqIGluc3RhbmNlLCB0aGUgb3ZlcndyaXR0ZW4gdmFsdWUgaXMgc2V0IHZpYSBgX3NldFBlbmRpbmdQcm9wZXJ0eWAsXG4gICAgICogYW5kIHRoZSB1c2VyIHNob3VsZCBjYWxsIGBfaW52YWxpZGF0ZVByb3BlcnRpZXNgIG9yIGBfZmx1c2hQcm9wZXJ0aWVzYFxuICAgICAqIGZvciB0aGUgdmFsdWVzIHRvIHRha2UgZWZmZWN0LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eUFjY2Vzc29yKHByb3BlcnR5LCByZWFkT25seSkge1xuICAgICAgc2F2ZUFjY2Vzc29yVmFsdWUodGhpcywgcHJvcGVydHkpO1xuICAgICAgc3VwZXIuX2RlZmluZVByb3BlcnR5QWNjZXNzb3IocHJvcGVydHksIHJlYWRPbmx5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBsaWJyYXJ5IGNyZWF0ZWQgYW4gYWNjZXNzb3IgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbiBhY2Nlc3NvciB3YXMgY3JlYXRlZFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9oYXNBY2Nlc3Nvcihwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhSGFzQWNjZXNzb3IgJiYgdGhpcy5fX2RhdGFIYXNBY2Nlc3Nvcltwcm9wZXJ0eV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgaGFzIGEgcGVuZGluZyBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBwcm9wZXJ0eSBoYXMgYSBwZW5kaW5nIGNoYW5nZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfaXNQcm9wZXJ0eVBlbmRpbmcocHJvcCkge1xuICAgICAgcmV0dXJuIEJvb2xlYW4odGhpcy5fX2RhdGFQZW5kaW5nICYmIChwcm9wIGluIHRoaXMuX19kYXRhUGVuZGluZykpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFByb3BlcnR5QWNjZXNzb3JzO1xuXG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuXG4vLyAxLnggYmFja3dhcmRzLWNvbXBhdGlibGUgYXV0by13cmFwcGVyIGZvciB0ZW1wbGF0ZSB0eXBlIGV4dGVuc2lvbnNcbi8vIFRoaXMgaXMgYSBjbGVhciBsYXllcmluZyB2aW9sYXRpb24gYW5kIGdpdmVzIGZhdm9yZWQtbmF0aW9uIHN0YXR1cyB0b1xuLy8gZG9tLWlmIGFuZCBkb20tcmVwZWF0IHRlbXBsYXRlcy4gIFRoaXMgaXMgYSBjb25jZWl0IHdlJ3JlIGNob29zaW5nIHRvIGtlZXBcbi8vIGEuKSB0byBlYXNlIDEueCBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBkdWUgdG8gbG9zcyBvZiBgaXNgLCBhbmRcbi8vIGIuKSB0byBtYWludGFpbiBpZi9yZXBlYXQgY2FwYWJpbGl0eSBpbiBwYXJzZXItY29uc3RyYWluZWQgZWxlbWVudHNcbi8vICAgICAoZS5nLiB0YWJsZSwgc2VsZWN0KSBpbiBsaWV1IG9mIG5hdGl2ZSBDRSB0eXBlIGV4dGVuc2lvbnMgd2l0aG91dFxuLy8gICAgIG1hc3NpdmUgbmV3IGludmVudGlvbiBpbiB0aGlzIHNwYWNlIChlLmcuIGRpcmVjdGl2ZSBzeXN0ZW0pXG5jb25zdCB0ZW1wbGF0ZUV4dGVuc2lvbnMgPSB7XG4gICdkb20taWYnOiB0cnVlLFxuICAnZG9tLXJlcGVhdCc6IHRydWVcbn07XG5cbmxldCBwbGFjZWhvbGRlckJ1Z0RldGVjdCA9IGZhbHNlO1xubGV0IHBsYWNlaG9sZGVyQnVnID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGhhc1BsYWNlaG9sZGVyQnVnKCkge1xuICBpZiAoIXBsYWNlaG9sZGVyQnVnRGV0ZWN0KSB7XG4gICAgcGxhY2Vob2xkZXJCdWdEZXRlY3QgPSB0cnVlO1xuICAgIGNvbnN0IHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIHQucGxhY2Vob2xkZXIgPSAnYSc7XG4gICAgcGxhY2Vob2xkZXJCdWcgPSB0LnBsYWNlaG9sZGVyID09PSB0LnRleHRDb250ZW50O1xuICB9XG4gIHJldHVybiBwbGFjZWhvbGRlckJ1Zztcbn1cblxuLyoqXG4gKiBTb21lIGJyb3dzZXJzIGhhdmUgYSBidWcgd2l0aCB0ZXh0YXJlYSwgd2hlcmUgcGxhY2Vob2xkZXIgdGV4dCBpcyBjb3BpZWQgYXNcbiAqIGEgdGV4dG5vZGUgY2hpbGQgb2YgdGhlIHRleHRhcmVhLlxuICpcbiAqIElmIHRoZSBwbGFjZWhvbGRlciBpcyBhIGJpbmRpbmcsIHRoaXMgY2FuIGJyZWFrIHRlbXBsYXRlIHN0YW1waW5nIGluIHR3b1xuICogd2F5cy5cbiAqXG4gKiBPbmUgaXNzdWUgaXMgdGhhdCB3aGVuIHRoZSBgcGxhY2Vob2xkZXJgIGF0dHJpYnV0ZSBpcyByZW1vdmVkIHdoZW4gdGhlXG4gKiBiaW5kaW5nIGlzIHByb2Nlc3NlZCwgdGhlIHRleHRub2RlIGNoaWxkIG9mIHRoZSB0ZXh0YXJlYSBpcyBkZWxldGVkLCBhbmQgdGhlXG4gKiB0ZW1wbGF0ZSBpbmZvIHRyaWVzIHRvIGJpbmQgaW50byB0aGF0IG5vZGUuXG4gKlxuICogV2l0aCBgbGVnYWN5T3B0aW1pemF0aW9uc2AgaW4gdXNlLCB3aGVuIHRoZSB0ZW1wbGF0ZSBpcyBzdGFtcGVkIGFuZCB0aGVcbiAqIGB0ZXh0YXJlYS50ZXh0Q29udGVudGAgYmluZGluZyBpcyBwcm9jZXNzZWQsIG5vIGNvcnJlc3BvbmRpbmcgbm9kZSBpcyBmb3VuZFxuICogYmVjYXVzZSBpdCB3YXMgcmVtb3ZlZCBkdXJpbmcgcGFyc2luZy4gQW4gZXhjZXB0aW9uIGlzIGdlbmVyYXRlZCB3aGVuIHRoaXNcbiAqIGJpbmRpbmcgaXMgdXBkYXRlZC5cbiAqXG4gKiBXaXRoIGBsZWdhY3lPcHRpbWl6YXRpb25zYCBub3QgaW4gdXNlLCB0aGUgdGVtcGxhdGUgaXMgY2xvbmVkIGJlZm9yZVxuICogcHJvY2Vzc2luZyBhbmQgdGhpcyBjaGFuZ2VzIHRoZSBhYm92ZSBiZWhhdmlvci4gVGhlIGNsb25lZCB0ZW1wbGF0ZSBhbHNvIGhhc1xuICogYSB2YWx1ZSBwcm9wZXJ0eSBzZXQgdG8gdGhlIHBsYWNlaG9sZGVyIGFuZCB0ZXh0Q29udGVudC4gVGhpcyBwcmV2ZW50cyB0aGVcbiAqIHJlbW92YWwgb2YgdGhlIHRleHRDb250ZW50IHdoZW4gdGhlIHBsYWNlaG9sZGVyIGF0dHJpYnV0ZSBpcyByZW1vdmVkLlxuICogVGhlcmVmb3JlIHRoZSBleGNlcHRpb24gZG9lcyBub3Qgb2NjdXIuIEhvd2V2ZXIsIHRoZXJlIGlzIGFuIGV4dHJhXG4gKiB1bm5lY2Vzc2FyeSBiaW5kaW5nLlxuICpcbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgQ2hlY2sgbm9kZSBmb3IgcGxhY2Vob2xkZXIgYnVnXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBmaXhQbGFjZWhvbGRlcihub2RlKSB7XG4gIGlmIChoYXNQbGFjZWhvbGRlckJ1ZygpICYmIG5vZGUubG9jYWxOYW1lID09PSAndGV4dGFyZWEnICYmIG5vZGUucGxhY2Vob2xkZXJcbiAgICAgICAgJiYgbm9kZS5wbGFjZWhvbGRlciA9PT0gbm9kZS50ZXh0Q29udGVudCkge1xuICAgIG5vZGUudGV4dENvbnRlbnQgPSBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIHdyYXBUZW1wbGF0ZUV4dGVuc2lvbihub2RlKSB7XG4gIGxldCBpcyA9IG5vZGUuZ2V0QXR0cmlidXRlKCdpcycpO1xuICBpZiAoaXMgJiYgdGVtcGxhdGVFeHRlbnNpb25zW2lzXSkge1xuICAgIGxldCB0ID0gbm9kZTtcbiAgICB0LnJlbW92ZUF0dHJpYnV0ZSgnaXMnKTtcbiAgICBub2RlID0gdC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXMpO1xuICAgIHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobm9kZSwgdCk7XG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0KTtcbiAgICB3aGlsZSh0LmF0dHJpYnV0ZXMubGVuZ3RoKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZSh0LmF0dHJpYnV0ZXNbMF0ubmFtZSwgdC5hdHRyaWJ1dGVzWzBdLnZhbHVlKTtcbiAgICAgIHQucmVtb3ZlQXR0cmlidXRlKHQuYXR0cmlidXRlc1swXS5uYW1lKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIGZpbmRUZW1wbGF0ZU5vZGUocm9vdCwgbm9kZUluZm8pIHtcbiAgLy8gcmVjdXJzaXZlbHkgYXNjZW5kIHRyZWUgdW50aWwgd2UgaGl0IHJvb3RcbiAgbGV0IHBhcmVudCA9IG5vZGVJbmZvLnBhcmVudEluZm8gJiYgZmluZFRlbXBsYXRlTm9kZShyb290LCBub2RlSW5mby5wYXJlbnRJbmZvKTtcbiAgLy8gdW53aW5kIHRoZSBzdGFjaywgcmV0dXJuaW5nIHRoZSBpbmRleGVkIG5vZGUgYXQgZWFjaCBsZXZlbFxuICBpZiAocGFyZW50KSB7XG4gICAgLy8gbm90ZTogbWFyZ2luYWxseSBmYXN0ZXIgdGhhbiBpbmRleGluZyB2aWEgY2hpbGROb2Rlc1xuICAgIC8vIChodHRwOi8vanNwZXJmLmNvbS9jaGlsZG5vZGVzLWxvb2t1cClcbiAgICBmb3IgKGxldCBuPXBhcmVudC5maXJzdENoaWxkLCBpPTA7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgaWYgKG5vZGVJbmZvLnBhcmVudEluZGV4ID09PSBpKyspIHtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiByb290O1xuICB9XG59XG5cbi8vIGNvbnN0cnVjdCBgJGAgbWFwIChmcm9tIGlkIGFubm90YXRpb25zKVxuZnVuY3Rpb24gYXBwbHlJZFRvTWFwKGluc3QsIG1hcCwgbm9kZSwgbm9kZUluZm8pIHtcbiAgaWYgKG5vZGVJbmZvLmlkKSB7XG4gICAgbWFwW25vZGVJbmZvLmlkXSA9IG5vZGU7XG4gIH1cbn1cblxuLy8gaW5zdGFsbCBldmVudCBsaXN0ZW5lcnMgKGZyb20gZXZlbnQgYW5ub3RhdGlvbnMpXG5mdW5jdGlvbiBhcHBseUV2ZW50TGlzdGVuZXIoaW5zdCwgbm9kZSwgbm9kZUluZm8pIHtcbiAgaWYgKG5vZGVJbmZvLmV2ZW50cyAmJiBub2RlSW5mby5ldmVudHMubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaj0wLCBlJD1ub2RlSW5mby5ldmVudHMsIGU7IChqPGUkLmxlbmd0aCkgJiYgKGU9ZSRbal0pOyBqKyspIHtcbiAgICAgIGluc3QuX2FkZE1ldGhvZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZS5uYW1lLCBlLnZhbHVlLCBpbnN0KTtcbiAgICB9XG4gIH1cbn1cblxuLy8gcHVzaCBjb25maWd1cmF0aW9uIHJlZmVyZW5jZXMgYXQgY29uZmlndXJlIHRpbWVcbmZ1bmN0aW9uIGFwcGx5VGVtcGxhdGVDb250ZW50KGluc3QsIG5vZGUsIG5vZGVJbmZvKSB7XG4gIGlmIChub2RlSW5mby50ZW1wbGF0ZUluZm8pIHtcbiAgICBub2RlLl90ZW1wbGF0ZUluZm8gPSBub2RlSW5mby50ZW1wbGF0ZUluZm87XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlTm9kZUV2ZW50SGFuZGxlcihjb250ZXh0LCBldmVudE5hbWUsIG1ldGhvZE5hbWUpIHtcbiAgLy8gSW5zdGFuY2VzIGNhbiBvcHRpb25hbGx5IGhhdmUgYSBfbWV0aG9kSG9zdCB3aGljaCBhbGxvd3MgcmVkaXJlY3Rpbmcgd2hlcmVcbiAgLy8gdG8gZmluZCBtZXRob2RzLiBDdXJyZW50bHkgdXNlZCBieSBgdGVtcGxhdGl6ZWAuXG4gIGNvbnRleHQgPSBjb250ZXh0Ll9tZXRob2RIb3N0IHx8IGNvbnRleHQ7XG4gIGxldCBoYW5kbGVyID0gZnVuY3Rpb24oZSkge1xuICAgIGlmIChjb250ZXh0W21ldGhvZE5hbWVdKSB7XG4gICAgICBjb250ZXh0W21ldGhvZE5hbWVdKGUsIGUuZGV0YWlsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdsaXN0ZW5lciBtZXRob2QgYCcgKyBtZXRob2ROYW1lICsgJ2Agbm90IGRlZmluZWQnKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBoYW5kbGVyO1xufVxuXG4vKipcbiAqIEVsZW1lbnQgbWl4aW4gdGhhdCBwcm92aWRlcyBiYXNpYyB0ZW1wbGF0ZSBwYXJzaW5nIGFuZCBzdGFtcGluZywgaW5jbHVkaW5nXG4gKiB0aGUgZm9sbG93aW5nIHRlbXBsYXRlLXJlbGF0ZWQgZmVhdHVyZXMgZm9yIHN0YW1wZWQgdGVtcGxhdGVzOlxuICpcbiAqIC0gRGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIChgb24tZXZlbnRuYW1lPVwibGlzdGVuZXJcImApXG4gKiAtIE1hcCBvZiBub2RlIGlkJ3MgdG8gc3RhbXBlZCBub2RlIGluc3RhbmNlcyAoYHRoaXMuJC5pZGApXG4gKiAtIE5lc3RlZCB0ZW1wbGF0ZSBjb250ZW50IGNhY2hpbmcvcmVtb3ZhbCBhbmQgcmUtaW5zdGFsbGF0aW9uIChwZXJmb3JtYW5jZVxuICogICBvcHRpbWl6YXRpb24pXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgYmFzaWMgdGVtcGxhdGUgcGFyc2luZyBhbmQgc3RhbXBpbmdcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBUZW1wbGF0ZVN0YW1wID0gZGVkdXBpbmdNaXhpbihcbiAgICAvKipcbiAgICAgKiBAdGVtcGxhdGUgVFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBzdXBlckNsYXNzIENsYXNzIHRvIGFwcGx5IG1peGluIHRvLlxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gICAgICovXG4gICAgKHN1cGVyQ2xhc3MpID0+IHtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfVGVtcGxhdGVTdGFtcH1cbiAgICovXG4gIGNsYXNzIFRlbXBsYXRlU3RhbXAgZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAgIC8qKlxuICAgICAqIFNjYW5zIGEgdGVtcGxhdGUgdG8gcHJvZHVjZSB0ZW1wbGF0ZSBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIFRlbXBsYXRlLXNwZWNpZmljIG1ldGFkYXRhIGFyZSBzdG9yZWQgaW4gdGhlIG9iamVjdCByZXR1cm5lZCwgYW5kIG5vZGUtXG4gICAgICogc3BlY2lmaWMgbWV0YWRhdGEgYXJlIHN0b3JlZCBpbiBvYmplY3RzIGluIGl0cyBmbGF0dGVuZWQgYG5vZGVJbmZvTGlzdGBcbiAgICAgKiBhcnJheS4gIE9ubHkgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIHRoYXQgd2VyZSBwYXJzZWQgYXMgbm9kZXMgb2ZcbiAgICAgKiBpbnRlcmVzdCBjb250YWluIGFuIG9iamVjdCBpbiBgbm9kZUluZm9MaXN0YC4gIEVhY2ggYG5vZGVJbmZvYCBvYmplY3RcbiAgICAgKiBjb250YWlucyBhbiBgaW5kZXhgIChgY2hpbGROb2Rlc2AgaW5kZXggaW4gcGFyZW50KSBhbmQgb3B0aW9uYWxseVxuICAgICAqIGBwYXJlbnRgLCB3aGljaCBwb2ludHMgdG8gbm9kZSBpbmZvIG9mIGl0cyBwYXJlbnQgKGluY2x1ZGluZyBpdHMgaW5kZXgpLlxuICAgICAqXG4gICAgICogVGhlIHRlbXBsYXRlIG1ldGFkYXRhIG9iamVjdCByZXR1cm5lZCBmcm9tIHRoaXMgbWV0aG9kIGhhcyB0aGUgZm9sbG93aW5nXG4gICAgICogc3RydWN0dXJlIChtYW55IGZpZWxkcyBvcHRpb25hbCk6XG4gICAgICpcbiAgICAgKiBgYGBqc1xuICAgICAqICAge1xuICAgICAqICAgICAvLyBGbGF0dGVuZWQgbGlzdCBvZiBub2RlIG1ldGFkYXRhIChmb3Igbm9kZXMgdGhhdCBnZW5lcmF0ZWQgbWV0YWRhdGEpXG4gICAgICogICAgIG5vZGVJbmZvTGlzdDogW1xuICAgICAqICAgICAgIHtcbiAgICAgKiAgICAgICAgIC8vIGBpZGAgYXR0cmlidXRlIGZvciBhbnkgbm9kZXMgd2l0aCBpZCdzIGZvciBnZW5lcmF0aW5nIGAkYCBtYXBcbiAgICAgKiAgICAgICAgIGlkOiB7c3RyaW5nfSxcbiAgICAgKiAgICAgICAgIC8vIGBvbi1ldmVudD1cImhhbmRsZXJcImAgbWV0YWRhdGFcbiAgICAgKiAgICAgICAgIGV2ZW50czogW1xuICAgICAqICAgICAgICAgICB7XG4gICAgICogICAgICAgICAgICAgbmFtZToge3N0cmluZ30sICAgLy8gZXZlbnQgbmFtZVxuICAgICAqICAgICAgICAgICAgIHZhbHVlOiB7c3RyaW5nfSwgIC8vIGhhbmRsZXIgbWV0aG9kIG5hbWVcbiAgICAgKiAgICAgICAgICAgfSwgLi4uXG4gICAgICogICAgICAgICBdLFxuICAgICAqICAgICAgICAgLy8gTm90ZXMgd2hlbiB0aGUgdGVtcGxhdGUgY29udGFpbmVkIGEgYDxzbG90PmAgZm9yIHNoYWR5IERPTVxuICAgICAqICAgICAgICAgLy8gb3B0aW1pemF0aW9uIHB1cnBvc2VzXG4gICAgICogICAgICAgICBoYXNJbnNlcnRpb25Qb2ludDoge2Jvb2xlYW59LFxuICAgICAqICAgICAgICAgLy8gRm9yIG5lc3RlZCBgPHRlbXBsYXRlPmBgIG5vZGVzLCBuZXN0ZWQgdGVtcGxhdGUgbWV0YWRhdGFcbiAgICAgKiAgICAgICAgIHRlbXBsYXRlSW5mbzoge29iamVjdH0sIC8vIG5lc3RlZCB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAqICAgICAgICAgLy8gTWV0YWRhdGEgdG8gYWxsb3cgZWZmaWNpZW50IHJldHJpZXZhbCBvZiBpbnN0YW5jZWQgbm9kZVxuICAgICAqICAgICAgICAgLy8gY29ycmVzcG9uZGluZyB0byB0aGlzIG1ldGFkYXRhXG4gICAgICogICAgICAgICBwYXJlbnRJbmZvOiB7bnVtYmVyfSwgICAvLyByZWZlcmVuY2UgdG8gcGFyZW50IG5vZGVJbmZvPlxuICAgICAqICAgICAgICAgcGFyZW50SW5kZXg6IHtudW1iZXJ9LCAgLy8gaW5kZXggaW4gcGFyZW50J3MgYGNoaWxkTm9kZXNgIGNvbGxlY3Rpb25cbiAgICAgKiAgICAgICAgIGluZm9JbmRleDoge251bWJlcn0sICAgIC8vIGluZGV4IG9mIHRoaXMgYG5vZGVJbmZvYCBpbiBgdGVtcGxhdGVJbmZvLm5vZGVJbmZvTGlzdGBcbiAgICAgKiAgICAgICB9LFxuICAgICAqICAgICAgIC4uLlxuICAgICAqICAgICBdLFxuICAgICAqICAgICAvLyBXaGVuIHRydWUsIHRoZSB0ZW1wbGF0ZSBoYWQgdGhlIGBzdHJpcC13aGl0ZXNwYWNlYCBhdHRyaWJ1dGVcbiAgICAgKiAgICAgLy8gb3Igd2FzIG5lc3RlZCBpbiBhIHRlbXBsYXRlIHdpdGggdGhhdCBzZXR0aW5nXG4gICAgICogICAgIHN0cmlwV2hpdGVzcGFjZToge2Jvb2xlYW59LFxuICAgICAqICAgICAvLyBGb3IgbmVzdGVkIHRlbXBsYXRlcywgbmVzdGVkIHRlbXBsYXRlIGNvbnRlbnQgaXMgbW92ZWQgaW50b1xuICAgICAqICAgICAvLyBhIGRvY3VtZW50IGZyYWdtZW50IHN0b3JlZCBoZXJlOyB0aGlzIGlzIGFuIG9wdGltaXphdGlvbiB0b1xuICAgICAqICAgICAvLyBhdm9pZCB0aGUgY29zdCBvZiBuZXN0ZWQgdGVtcGxhdGUgY2xvbmluZ1xuICAgICAqICAgICBjb250ZW50OiB7RG9jdW1lbnRGcmFnbWVudH1cbiAgICAgKiAgIH1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGtpY2tzIG9mZiBhIHJlY3Vyc2l2ZSB0cmVld2FsayBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogYGBgXG4gICAgICogICAgX3BhcnNlVGVtcGxhdGUgPC0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbiAgICAgKiAgICAgIF9wYXJzZVRlbXBsYXRlQ29udGVudCAgICAgICAgICAgICAgfFxuICAgICAqICAgICAgICBfcGFyc2VUZW1wbGF0ZU5vZGUgIDwtLS0tLS0tLS0tLS18LS0rXG4gICAgICogICAgICAgICAgX3BhcnNlVGVtcGxhdGVOZXN0ZWRUZW1wbGF0ZSAtLSsgIHxcbiAgICAgKiAgICAgICAgICBfcGFyc2VUZW1wbGF0ZUNoaWxkTm9kZXMgLS0tLS0tLS0tK1xuICAgICAqICAgICAgICAgIF9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZXNcbiAgICAgKiAgICAgICAgICAgIF9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZVxuICAgICAqXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBUaGVzZSBtZXRob2RzIG1heSBiZSBvdmVycmlkZGVuIHRvIGFkZCBjdXN0b20gbWV0YWRhdGEgYWJvdXQgdGVtcGxhdGVzXG4gICAgICogdG8gZWl0aGVyIGB0ZW1wbGF0ZUluZm9gIG9yIGBub2RlSW5mb2AuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgbWF5IGJlIGRlc3RydWN0aXZlIHRvIHRoZSB0ZW1wbGF0ZSwgaW4gdGhhdFxuICAgICAqIGUuZy4gZXZlbnQgYW5ub3RhdGlvbnMgbWF5IGJlIHJlbW92ZWQgYWZ0ZXIgYmVpbmcgbm90ZWQgaW4gdGhlXG4gICAgICogdGVtcGxhdGUgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvPX0gb3V0ZXJUZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZnJvbSB0aGUgb3V0ZXJcbiAgICAgKiAgIHRlbXBsYXRlLCBmb3IgcGFyc2luZyBuZXN0ZWQgdGVtcGxhdGVzXG4gICAgICogQHJldHVybiB7IVRlbXBsYXRlSW5mb30gUGFyc2VkIHRlbXBsYXRlIG1ldGFkYXRhXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGUodGVtcGxhdGUsIG91dGVyVGVtcGxhdGVJbmZvKSB7XG4gICAgICAvLyBzaW5jZSBhIHRlbXBsYXRlIG1heSBiZSByZS11c2VkLCBtZW1vLWl6ZSBtZXRhZGF0YVxuICAgICAgaWYgKCF0ZW1wbGF0ZS5fdGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIC8vIFRPRE8ocmljdGljKTogZml4IHR5cGluZ1xuICAgICAgICBsZXQgLyoqID8gKi8gdGVtcGxhdGVJbmZvID0gdGVtcGxhdGUuX3RlbXBsYXRlSW5mbyA9IHt9O1xuICAgICAgICB0ZW1wbGF0ZUluZm8ubm9kZUluZm9MaXN0ID0gW107XG4gICAgICAgIHRlbXBsYXRlSW5mby5zdHJpcFdoaXRlU3BhY2UgPVxuICAgICAgICAgIChvdXRlclRlbXBsYXRlSW5mbyAmJiBvdXRlclRlbXBsYXRlSW5mby5zdHJpcFdoaXRlU3BhY2UpIHx8XG4gICAgICAgICAgdGVtcGxhdGUuaGFzQXR0cmlidXRlKCdzdHJpcC13aGl0ZXNwYWNlJyk7XG4gICAgICAgICAvLyBUT0RPKHJpY3RpYyk6IGZpeCB0eXBpbmdcbiAgICAgICAgIHRoaXMuX3BhcnNlVGVtcGxhdGVDb250ZW50KFxuICAgICAgICAgICAgIHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIC8qKiBAdHlwZSB7P30gKi8gKHtwYXJlbnQ6IG51bGx9KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGVtcGxhdGUuX3RlbXBsYXRlSW5mbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWUgZG9jcyBmb3IgX3BhcnNlVGVtcGxhdGVOb2RlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgLlxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIC5cbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IC5cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZUNvbnRlbnQodGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXJzZVRlbXBsYXRlTm9kZSh0ZW1wbGF0ZS5jb250ZW50LCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgbm9kZSBhbmQgYWRkcyB0ZW1wbGF0ZSBhbmQgbm9kZSBtZXRhZGF0YSBiYXNlZCBvblxuICAgICAqIHRoZSBjdXJyZW50IG5vZGUsIGFuZCBpdHMgYGNoaWxkTm9kZXNgIGFuZCBgYXR0cmlidXRlc2AuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBtYXkgYmUgb3ZlcnJpZGRlbiB0byBhZGQgY3VzdG9tIG5vZGUgb3IgdGVtcGxhdGUgc3BlY2lmaWNcbiAgICAgKiBtZXRhZGF0YSBiYXNlZCBvbiB0aGlzIG5vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTm9kZShub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICBsZXQgbm90ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBlbGVtZW50ID0gLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKG5vZGUpO1xuICAgICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09ICd0ZW1wbGF0ZScgJiYgIWVsZW1lbnQuaGFzQXR0cmlidXRlKCdwcmVzZXJ2ZS1jb250ZW50JykpIHtcbiAgICAgICAgbm90ZWQgPSB0aGlzLl9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUoZWxlbWVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykgfHwgbm90ZWQ7XG4gICAgICB9IGVsc2UgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09PSAnc2xvdCcpIHtcbiAgICAgICAgLy8gRm9yIFNoYWR5RG9tIG9wdGltaXphdGlvbiwgaW5kaWNhdGluZyB0aGVyZSBpcyBhbiBpbnNlcnRpb24gcG9pbnRcbiAgICAgICAgdGVtcGxhdGVJbmZvLmhhc0luc2VydGlvblBvaW50ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZpeFBsYWNlaG9sZGVyKGVsZW1lbnQpO1xuICAgICAgaWYgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICB0aGlzLl9wYXJzZVRlbXBsYXRlQ2hpbGROb2RlcyhlbGVtZW50LCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKTtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZXMgJiYgZWxlbWVudC5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgICAgbm90ZWQgPSB0aGlzLl9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZXMoZWxlbWVudCwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykgfHwgbm90ZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRlbXBsYXRlIGNoaWxkIG5vZGVzIGZvciB0aGUgZ2l2ZW4gcm9vdCBub2RlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgYWxzbyB3cmFwcyB3aGl0ZWxpc3RlZCBsZWdhY3kgdGVtcGxhdGUgZXh0ZW5zaW9uc1xuICAgICAqIChgaXM9XCJkb20taWZcImAgYW5kIGBpcz1cImRvbS1yZXBlYXRcImApIHdpdGggdGhlaXIgZXF1aXZhbGVudCBlbGVtZW50XG4gICAgICogd3JhcHBlcnMsIGNvbGxhcHNlcyB0ZXh0IG5vZGVzLCBhbmQgc3RyaXBzIHdoaXRlc3BhY2UgZnJvbSB0aGUgdGVtcGxhdGVcbiAgICAgKiBpZiB0aGUgYHRlbXBsYXRlSW5mby5zdHJpcFdoaXRlc3BhY2VgIHNldHRpbmcgd2FzIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtOb2RlfSByb290IFJvb3Qgbm9kZSB3aG9zZSBgY2hpbGROb2Rlc2Agd2lsbCBiZSBwYXJzZWRcbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlQ2hpbGROb2Rlcyhyb290LCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICBpZiAocm9vdC5sb2NhbE5hbWUgPT09ICdzY3JpcHQnIHx8IHJvb3QubG9jYWxOYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IG5vZGU9cm9vdC5maXJzdENoaWxkLCBwYXJlbnRJbmRleD0wLCBuZXh0OyBub2RlOyBub2RlPW5leHQpIHtcbiAgICAgICAgLy8gV3JhcCB0ZW1wbGF0ZXNcbiAgICAgICAgaWYgKG5vZGUubG9jYWxOYW1lID09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgICBub2RlID0gd3JhcFRlbXBsYXRlRXh0ZW5zaW9uKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbGxhcHNlIGFkamFjZW50IHRleHROb2RlczogZml4ZXMgYW4gSUUgaXNzdWUgdGhhdCBjYW4gY2F1c2VcbiAgICAgICAgLy8gdGV4dCBub2RlcyB0byBiZSBpbmV4cGxpY2FibHkgc3BsaXQgPShcbiAgICAgICAgLy8gbm90ZSB0aGF0IHJvb3Qubm9ybWFsaXplKCkgc2hvdWxkIHdvcmsgYnV0IGRvZXMgbm90IHNvIHdlIGRvIHRoaXNcbiAgICAgICAgLy8gbWFudWFsbHkuXG4gICAgICAgIG5leHQgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgICBsZXQgLyoqIE5vZGUgKi8gbiA9IG5leHQ7XG4gICAgICAgICAgd2hpbGUgKG4gJiYgKG4ubm9kZVR5cGUgPT09IE5vZGUuVEVYVF9OT0RFKSkge1xuICAgICAgICAgICAgbm9kZS50ZXh0Q29udGVudCArPSBuLnRleHRDb250ZW50O1xuICAgICAgICAgICAgbmV4dCA9IG4ubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICByb290LnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICAgICAgbiA9IG5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIG9wdGlvbmFsbHkgc3RyaXAgd2hpdGVzcGFjZVxuICAgICAgICAgIGlmICh0ZW1wbGF0ZUluZm8uc3RyaXBXaGl0ZVNwYWNlICYmICFub2RlLnRleHRDb250ZW50LnRyaW0oKSkge1xuICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgY2hpbGRJbmZvID1cbiAgICAgICAgICAgIC8qKiBAdHlwZSB7IU5vZGVJbmZvfSAqLyAoe3BhcmVudEluZGV4LCBwYXJlbnRJbmZvOiBub2RlSW5mb30pO1xuICAgICAgICBpZiAodGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGUobm9kZSwgdGVtcGxhdGVJbmZvLCBjaGlsZEluZm8pKSB7XG4gICAgICAgICAgY2hpbGRJbmZvLmluZm9JbmRleCA9IHRlbXBsYXRlSW5mby5ub2RlSW5mb0xpc3QucHVzaChjaGlsZEluZm8pIC0gMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbmNyZW1lbnQgaWYgbm90IHJlbW92ZWRcbiAgICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHBhcmVudEluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgdGVtcGxhdGUgY29udGVudCBmb3IgdGhlIGdpdmVuIG5lc3RlZCBgPHRlbXBsYXRlPmAuXG4gICAgICpcbiAgICAgKiBOZXN0ZWQgdGVtcGxhdGUgaW5mbyBpcyBzdG9yZWQgYXMgYHRlbXBsYXRlSW5mb2AgaW4gdGhlIGN1cnJlbnQgbm9kZSdzXG4gICAgICogYG5vZGVJbmZvYC4gYHRlbXBsYXRlLmNvbnRlbnRgIGlzIHJlbW92ZWQgYW5kIHN0b3JlZCBpbiBgdGVtcGxhdGVJbmZvYC5cbiAgICAgKiBJdCB3aWxsIHRoZW4gYmUgdGhlIHJlc3BvbnNpYmlsaXR5IG9mIHRoZSBob3N0IHRvIHNldCBpdCBiYWNrIHRvIHRoZVxuICAgICAqIHRlbXBsYXRlIGFuZCBmb3IgdXNlcnMgc3RhbXBpbmcgbmVzdGVkIHRlbXBsYXRlcyB0byB1c2UgdGhlXG4gICAgICogYF9jb250ZW50Rm9yVGVtcGxhdGVgIG1ldGhvZCB0byByZXRyaWV2ZSB0aGUgY29udGVudCBmb3IgdGhpcyB0ZW1wbGF0ZVxuICAgICAqIChhbiBvcHRpbWl6YXRpb24gdG8gYXZvaWQgdGhlIGNvc3Qgb2YgY2xvbmluZyBuZXN0ZWQgdGVtcGxhdGUgY29udGVudCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IG5vZGUgTm9kZSB0byBwYXJzZSAoYSA8dGVtcGxhdGU+KVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSBvdXRlclRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqICAgdGhhdCBpbmNsdWRlcyB0aGUgdGVtcGxhdGUgYG5vZGVgXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUobm9kZSwgb3V0ZXJUZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICAvLyBUT0RPKHJpY3RpYyk6IHRoZSB0eXBlIG9mIG5vZGUgc2hvdWxkIGJlIG5vbi1udWxsXG4gICAgICBsZXQgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9ICovIChub2RlKTtcbiAgICAgIGxldCB0ZW1wbGF0ZUluZm8gPSB0aGlzLl9wYXJzZVRlbXBsYXRlKGVsZW1lbnQsIG91dGVyVGVtcGxhdGVJbmZvKTtcbiAgICAgIGxldCBjb250ZW50ID0gdGVtcGxhdGVJbmZvLmNvbnRlbnQgPVxuICAgICAgICAgIGVsZW1lbnQuY29udGVudC5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZWxlbWVudC5jb250ZW50KTtcbiAgICAgIG5vZGVJbmZvLnRlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mbztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0ZW1wbGF0ZSBub2RlIGF0dHJpYnV0ZXMgYW5kIGFkZHMgbm9kZSBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogZm9yIG5vZGVzIG9mIGludGVyZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlIE5vZGUgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0geyFUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudFxuICAgICAqICAgICB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7IU5vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGVzKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIC8vIE1ha2UgY29weSBvZiBvcmlnaW5hbCBhdHRyaWJ1dGUgbGlzdCwgc2luY2UgdGhlIG9yZGVyIG1heSBjaGFuZ2VcbiAgICAgIC8vIGFzIGF0dHJpYnV0ZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkXG4gICAgICBsZXQgbm90ZWQgPSBmYWxzZTtcbiAgICAgIGxldCBhdHRycyA9IEFycmF5LmZyb20obm9kZS5hdHRyaWJ1dGVzKTtcbiAgICAgIGZvciAobGV0IGk9YXR0cnMubGVuZ3RoLTEsIGE7IChhPWF0dHJzW2ldKTsgaS0tKSB7XG4gICAgICAgIG5vdGVkID0gdGhpcy5fcGFyc2VUZW1wbGF0ZU5vZGVBdHRyaWJ1dGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgYS5uYW1lLCBhLnZhbHVlKSB8fCBub3RlZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzaW5nbGUgdGVtcGxhdGUgbm9kZSBhdHRyaWJ1dGUgYW5kIGFkZHMgbm9kZSBtZXRhZGF0YSB0b1xuICAgICAqIGBub2RlSW5mb2AgZm9yIGF0dHJpYnV0ZXMgb2YgaW50ZXJlc3QuXG4gICAgICpcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIGFkZHMgbWV0YWRhdGEgZm9yIGBvbi1ldmVudD1cImhhbmRsZXJcImAgYXR0cmlidXRlc1xuICAgICAqIGFuZCBgaWRgIGF0dHJpYnV0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7IVRlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshTm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgQXR0cmlidXRlIHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSB2aXNpdGVkIG5vZGUgYWRkZWQgbm9kZS1zcGVjaWZpY1xuICAgICAqICAgbWV0YWRhdGEgdG8gYG5vZGVJbmZvYFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZShub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgLy8gZXZlbnRzIChvbi0qKVxuICAgICAgaWYgKG5hbWUuc2xpY2UoMCwgMykgPT09ICdvbi0nKSB7XG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBub2RlSW5mby5ldmVudHMgPSBub2RlSW5mby5ldmVudHMgfHwgW107XG4gICAgICAgIG5vZGVJbmZvLmV2ZW50cy5wdXNoKHtcbiAgICAgICAgICBuYW1lOiBuYW1lLnNsaWNlKDMpLFxuICAgICAgICAgIHZhbHVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIHN0YXRpYyBpZFxuICAgICAgZWxzZSBpZiAobmFtZSA9PT0gJ2lkJykge1xuICAgICAgICBub2RlSW5mby5pZCA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBgY29udGVudGAgZG9jdW1lbnQgZnJhZ21lbnQgZm9yIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBGb3IgbmVzdGVkIHRlbXBsYXRlcywgUG9seW1lciBwZXJmb3JtcyBhbiBvcHRpbWl6YXRpb24gdG8gY2FjaGUgbmVzdGVkXG4gICAgICogdGVtcGxhdGUgY29udGVudCB0byBhdm9pZCB0aGUgY29zdCBvZiBjbG9uaW5nIGRlZXBseSBuZXN0ZWQgdGVtcGxhdGVzLlxuICAgICAqIFRoaXMgbWV0aG9kIHJldHJpZXZlcyB0aGUgY2FjaGVkIGNvbnRlbnQgZm9yIGEgZ2l2ZW4gdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIHJldHJpZXZlIGBjb250ZW50YCBmb3JcbiAgICAgKiBAcmV0dXJuIHtEb2N1bWVudEZyYWdtZW50fSBDb250ZW50IGZyYWdtZW50XG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2NvbnRlbnRGb3JUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgbGV0IHRlbXBsYXRlSW5mbyA9IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudFdpdGhJbmZvfSAqLyAodGVtcGxhdGUpLl90ZW1wbGF0ZUluZm87XG4gICAgICByZXR1cm4gKHRlbXBsYXRlSW5mbyAmJiB0ZW1wbGF0ZUluZm8uY29udGVudCkgfHwgdGVtcGxhdGUuY29udGVudDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbG9uZXMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIGNvbnRlbnQgYW5kIHJldHVybnMgYSBkb2N1bWVudCBmcmFnbWVudFxuICAgICAqIGNvbnRhaW5pbmcgdGhlIGNsb25lZCBkb20uXG4gICAgICpcbiAgICAgKiBUaGUgdGVtcGxhdGUgaXMgcGFyc2VkIChvbmNlIGFuZCBtZW1vaXplZCkgdXNpbmcgdGhpcyBsaWJyYXJ5J3NcbiAgICAgKiB0ZW1wbGF0ZSBwYXJzaW5nIGZlYXR1cmVzLCBhbmQgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyB2YWx1ZS1hZGRlZFxuICAgICAqIGZlYXR1cmVzOlxuICAgICAqICogQWRkcyBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMgZm9yIGBvbi1ldmVudD1cImhhbmRsZXJcImAgYXR0cmlidXRlc1xuICAgICAqICogR2VuZXJhdGVzIGFuIFwiaWQgbWFwXCIgZm9yIGFsbCBub2RlcyB3aXRoIGlkJ3MgdW5kZXIgYCRgIG9uIHJldHVybmVkXG4gICAgICogICBkb2N1bWVudCBmcmFnbWVudFxuICAgICAqICogUGFzc2VzIHRlbXBsYXRlIGluZm8gaW5jbHVkaW5nIGBjb250ZW50YCBiYWNrIHRvIHRlbXBsYXRlcyBhc1xuICAgICAqICAgYF90ZW1wbGF0ZUluZm9gIChhIHBlcmZvcm1hbmNlIG9wdGltaXphdGlvbiB0byBhdm9pZCBkZWVwIHRlbXBsYXRlXG4gICAgICogICBjbG9uaW5nKVxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBtZW1vaXplZCB0ZW1wbGF0ZSBwYXJzaW5nIHByb2Nlc3MgaXMgZGVzdHJ1Y3RpdmUgdG8gdGhlXG4gICAgICogdGVtcGxhdGU6IGF0dHJpYnV0ZXMgZm9yIGJpbmRpbmdzIGFuZCBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMgYXJlXG4gICAgICogcmVtb3ZlZCBhZnRlciBiZWluZyBub3RlZCBpbiBub3RlcywgYW5kIGFueSBuZXN0ZWQgYDx0ZW1wbGF0ZT4uY29udGVudGBcbiAgICAgKiBpcyByZW1vdmVkIGFuZCBzdG9yZWQgaW4gbm90ZXMgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIHN0YW1wXG4gICAgICogQHJldHVybiB7IVN0YW1wZWRUZW1wbGF0ZX0gQ2xvbmVkIHRlbXBsYXRlIGNvbnRlbnRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfc3RhbXBUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgLy8gUG9seWZpbGwgc3VwcG9ydDogYm9vdHN0cmFwIHRoZSB0ZW1wbGF0ZSBpZiBpdCBoYXMgbm90IGFscmVhZHkgYmVlblxuICAgICAgaWYgKHRlbXBsYXRlICYmICF0ZW1wbGF0ZS5jb250ZW50ICYmXG4gICAgICAgICAgd2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQgJiYgSFRNTFRlbXBsYXRlRWxlbWVudC5kZWNvcmF0ZSkge1xuICAgICAgICBIVE1MVGVtcGxhdGVFbGVtZW50LmRlY29yYXRlKHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZW1wbGF0ZUluZm8gPSB0aGlzLmNvbnN0cnVjdG9yLl9wYXJzZVRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIGxldCBub2RlSW5mbyA9IHRlbXBsYXRlSW5mby5ub2RlSW5mb0xpc3Q7XG4gICAgICBsZXQgY29udGVudCA9IHRlbXBsYXRlSW5mby5jb250ZW50IHx8IHRlbXBsYXRlLmNvbnRlbnQ7XG4gICAgICBsZXQgZG9tID0gLyoqIEB0eXBlIHtEb2N1bWVudEZyYWdtZW50fSAqLyAoZG9jdW1lbnQuaW1wb3J0Tm9kZShjb250ZW50LCB0cnVlKSk7XG4gICAgICAvLyBOT1RFOiBTaGFkeURvbSBvcHRpbWl6YXRpb24gaW5kaWNhdGluZyB0aGVyZSBpcyBhbiBpbnNlcnRpb24gcG9pbnRcbiAgICAgIGRvbS5fX25vSW5zZXJ0aW9uUG9pbnQgPSAhdGVtcGxhdGVJbmZvLmhhc0luc2VydGlvblBvaW50O1xuICAgICAgbGV0IG5vZGVzID0gZG9tLm5vZGVMaXN0ID0gbmV3IEFycmF5KG5vZGVJbmZvLmxlbmd0aCk7XG4gICAgICBkb20uJCA9IHt9O1xuICAgICAgZm9yIChsZXQgaT0wLCBsPW5vZGVJbmZvLmxlbmd0aCwgaW5mbzsgKGk8bCkgJiYgKGluZm89bm9kZUluZm9baV0pOyBpKyspIHtcbiAgICAgICAgbGV0IG5vZGUgPSBub2Rlc1tpXSA9IGZpbmRUZW1wbGF0ZU5vZGUoZG9tLCBpbmZvKTtcbiAgICAgICAgYXBwbHlJZFRvTWFwKHRoaXMsIGRvbS4kLCBub2RlLCBpbmZvKTtcbiAgICAgICAgYXBwbHlUZW1wbGF0ZUNvbnRlbnQodGhpcywgbm9kZSwgaW5mbyk7XG4gICAgICAgIGFwcGx5RXZlbnRMaXN0ZW5lcih0aGlzLCBub2RlLCBpbmZvKTtcbiAgICAgIH1cbiAgICAgIGRvbSA9IC8qKiBAdHlwZSB7IVN0YW1wZWRUZW1wbGF0ZX0gKi8oZG9tKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWFzc2lnblxuICAgICAgcmV0dXJuIGRvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIGJ5IG1ldGhvZCBuYW1lIGZvciB0aGUgZXZlbnQgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBnZW5lcmF0ZXMgYSBoYW5kbGVyIGZ1bmN0aW9uIHRoYXQgbG9va3MgdXAgdGhlIG1ldGhvZFxuICAgICAqIG5hbWUgYXQgaGFuZGxpbmcgdGltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gYWRkIGxpc3RlbmVyIG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTmFtZSBvZiBtZXRob2RcbiAgICAgKiBAcGFyYW0geyo9fSBjb250ZXh0IENvbnRleHQgdGhlIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCBvbiAoZGVmYXVsdHNcbiAgICAgKiAgIHRvIGBub2RlYClcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gR2VuZXJhdGVkIGhhbmRsZXIgZnVuY3Rpb25cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfYWRkTWV0aG9kRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIG1ldGhvZE5hbWUsIGNvbnRleHQpIHtcbiAgICAgIGNvbnRleHQgPSBjb250ZXh0IHx8IG5vZGU7XG4gICAgICBsZXQgaGFuZGxlciA9IGNyZWF0ZU5vZGVFdmVudEhhbmRsZXIoY29udGV4dCwgZXZlbnROYW1lLCBtZXRob2ROYW1lKTtcbiAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIHJldHVybiBoYW5kbGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IGZvciBhZGRpbmcgY3VzdG9tIG9yIHNpbXVsYXRlZCBldmVudCBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gYWRkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHBvaW50IGZvciBhZGRpbmcgY3VzdG9tIG9yIHNpbXVsYXRlZCBldmVudCBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGZyb21cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lIE5hbWUgb2YgZXZlbnRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBMaXN0ZW5lciBmdW5jdGlvbiB0byByZW1vdmVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBUZW1wbGF0ZVN0YW1wO1xuXG59KTtcbiIsIi8qKlxuICogQGZpbGVvdmVydmlld1xuICogQHN1cHByZXNzIHtjaGVja1Byb3RvdHlwYWxUeXBlc31cbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXRcbiAqIGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kXG4gKiBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5XG4gKiBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dCBDb2RlIGRpc3RyaWJ1dGVkIGJ5XG4gKiBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc28gc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQXG4gKiByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4gKi9cblxuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyByb290LCBpc0FuY2VzdG9yLCBpc0Rlc2NlbmRhbnQsIGdldCwgdHJhbnNsYXRlLCBpc1BhdGgsIHNldCwgbm9ybWFsaXplIH0gZnJvbSAnLi4vdXRpbHMvcGF0aC5qcyc7XG4vKiBmb3Igbm90aWZ5LCByZWZsZWN0ICovXG5pbXBvcnQgeyBjYW1lbFRvRGFzaENhc2UsIGRhc2hUb0NhbWVsQ2FzZSB9IGZyb20gJy4uL3V0aWxzL2Nhc2UtbWFwLmpzJztcbmltcG9ydCB7IFByb3BlcnR5QWNjZXNzb3JzIH0gZnJvbSAnLi9wcm9wZXJ0eS1hY2Nlc3NvcnMuanMnO1xuLyogZm9yIGFubm90YXRlZCBlZmZlY3RzICovXG5pbXBvcnQgeyBUZW1wbGF0ZVN0YW1wIH0gZnJvbSAnLi90ZW1wbGF0ZS1zdGFtcC5qcyc7XG5pbXBvcnQgeyBzYW5pdGl6ZURPTVZhbHVlIH0gZnJvbSAnLi4vdXRpbHMvc2V0dGluZ3MuanMnO1xuXG4vLyBNb25vdG9uaWNhbGx5IGluY3JlYXNpbmcgdW5pcXVlIElEIHVzZWQgZm9yIGRlLWR1cGluZyBlZmZlY3RzIHRyaWdnZXJlZFxuLy8gZnJvbSBtdWx0aXBsZSBwcm9wZXJ0aWVzIGluIHRoZSBzYW1lIHR1cm5cbmxldCBkZWR1cGVJZCA9IDA7XG5cbi8qKlxuICogUHJvcGVydHkgZWZmZWN0IHR5cGVzOyBlZmZlY3RzIGFyZSBzdG9yZWQgb24gdGhlIHByb3RvdHlwZSB1c2luZyB0aGVzZSBrZXlzXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5jb25zdCBUWVBFUyA9IHtcbiAgQ09NUFVURTogJ19fY29tcHV0ZUVmZmVjdHMnLFxuICBSRUZMRUNUOiAnX19yZWZsZWN0RWZmZWN0cycsXG4gIE5PVElGWTogJ19fbm90aWZ5RWZmZWN0cycsXG4gIFBST1BBR0FURTogJ19fcHJvcGFnYXRlRWZmZWN0cycsXG4gIE9CU0VSVkU6ICdfX29ic2VydmVFZmZlY3RzJyxcbiAgUkVBRF9PTkxZOiAnX19yZWFkT25seSdcbn07XG5cbi8qKiBAY29uc3QgeyFSZWdFeHB9ICovXG5jb25zdCBjYXBpdGFsQXR0cmlidXRlUmVnZXggPSAvW0EtWl0vO1xuXG4vKipcbiAqIEB0eXBlZGVmIHt7XG4gKiBuYW1lOiAoc3RyaW5nIHwgdW5kZWZpbmVkKSxcbiAqIHN0cnVjdHVyZWQ6IChib29sZWFuIHwgdW5kZWZpbmVkKSxcbiAqIHdpbGRjYXJkOiAoYm9vbGVhbiB8IHVuZGVmaW5lZClcbiAqIH19XG4gKi9cbmxldCBEYXRhVHJpZ2dlcjsgLy9lc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKlxuICogQHR5cGVkZWYge3tcbiAqIGluZm86ID8sXG4gKiB0cmlnZ2VyOiAoIURhdGFUcmlnZ2VyIHwgdW5kZWZpbmVkKSxcbiAqIGZuOiAoIUZ1bmN0aW9uIHwgdW5kZWZpbmVkKVxuICogfX1cbiAqL1xubGV0IERhdGFFZmZlY3Q7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4vKipcbiAqIEVuc3VyZXMgdGhhdCB0aGUgbW9kZWwgaGFzIGFuIG93bi1wcm9wZXJ0eSBtYXAgb2YgZWZmZWN0cyBmb3IgdGhlIGdpdmVuIHR5cGUuXG4gKiBUaGUgbW9kZWwgbWF5IGJlIGEgcHJvdG90eXBlIG9yIGFuIGluc3RhbmNlLlxuICpcbiAqIFByb3BlcnR5IGVmZmVjdHMgYXJlIHN0b3JlZCBhcyBhcnJheXMgb2YgZWZmZWN0cyBieSBwcm9wZXJ0eSBpbiBhIG1hcCxcbiAqIGJ5IG5hbWVkIHR5cGUgb24gdGhlIG1vZGVsLiBlLmcuXG4gKlxuICogICBfX2NvbXB1dGVFZmZlY3RzOiB7XG4gKiAgICAgZm9vOiBbIC4uLiBdLFxuICogICAgIGJhcjogWyAuLi4gXVxuICogICB9XG4gKlxuICogSWYgdGhlIG1vZGVsIGRvZXMgbm90IHlldCBoYXZlIGFuIGVmZmVjdCBtYXAgZm9yIHRoZSB0eXBlLCBvbmUgaXMgY3JlYXRlZFxuICogYW5kIHJldHVybmVkLiAgSWYgaXQgZG9lcywgYnV0IGl0IGlzIG5vdCBhbiBvd24gcHJvcGVydHkgKGkuZS4gdGhlXG4gKiBwcm90b3R5cGUgaGFkIGVmZmVjdHMpLCB0aGUgdGhlIG1hcCBpcyBkZWVwbHkgY2xvbmVkIGFuZCB0aGUgY29weSBpc1xuICogc2V0IG9uIHRoZSBtb2RlbCBhbmQgcmV0dXJuZWQsIHJlYWR5IGZvciBuZXcgZWZmZWN0cyB0byBiZSBhZGRlZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gbW9kZWwgUHJvdG90eXBlIG9yIGluc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBQcm9wZXJ0eSBlZmZlY3QgdHlwZVxuICogQHJldHVybiB7T2JqZWN0fSBUaGUgb3duLXByb3BlcnR5IG1hcCBvZiBlZmZlY3RzIGZvciB0aGUgZ2l2ZW4gdHlwZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZW5zdXJlT3duRWZmZWN0TWFwKG1vZGVsLCB0eXBlKSB7XG4gIGxldCBlZmZlY3RzID0gbW9kZWxbdHlwZV07XG4gIGlmICghZWZmZWN0cykge1xuICAgIGVmZmVjdHMgPSBtb2RlbFt0eXBlXSA9IHt9O1xuICB9IGVsc2UgaWYgKCFtb2RlbC5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkge1xuICAgIGVmZmVjdHMgPSBtb2RlbFt0eXBlXSA9IE9iamVjdC5jcmVhdGUobW9kZWxbdHlwZV0pO1xuICAgIGZvciAobGV0IHAgaW4gZWZmZWN0cykge1xuICAgICAgbGV0IHByb3RvRnggPSBlZmZlY3RzW3BdO1xuICAgICAgbGV0IGluc3RGeCA9IGVmZmVjdHNbcF0gPSBBcnJheShwcm90b0Z4Lmxlbmd0aCk7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8cHJvdG9GeC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpbnN0RnhbaV0gPSBwcm90b0Z4W2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZWZmZWN0cztcbn1cblxuLy8gLS0gZWZmZWN0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogUnVucyBhbGwgZWZmZWN0cyBvZiBhIGdpdmVuIHR5cGUgZm9yIHRoZSBnaXZlbiBzZXQgb2YgcHJvcGVydHkgY2hhbmdlc1xuICogb24gYW4gaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHdpdGggZWZmZWN0cyB0byBydW5cbiAqIEBwYXJhbSB7P09iamVjdH0gZWZmZWN0cyBPYmplY3QgbWFwIG9mIHByb3BlcnR5LXRvLUFycmF5IG9mIGVmZmVjdHNcbiAqIEBwYXJhbSB7P09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHs/T2JqZWN0PX0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHBhcmFtIHsqPX0gZXh0cmFBcmdzIEFkZGl0aW9uYWwgbWV0YWRhdGEgdG8gcGFzcyB0byBlZmZlY3QgZnVuY3Rpb25cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYW4gZWZmZWN0IHJhbiBmb3IgdGhpcyBwcm9wZXJ0eVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuRWZmZWN0cyhpbnN0LCBlZmZlY3RzLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzLCBleHRyYUFyZ3MpIHtcbiAgaWYgKGVmZmVjdHMpIHtcbiAgICBsZXQgcmFuID0gZmFsc2U7XG4gICAgbGV0IGlkID0gZGVkdXBlSWQrKztcbiAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICBpZiAocnVuRWZmZWN0c0ZvclByb3BlcnR5KFxuICAgICAgICAgICAgICBpbnN0LCAvKiogQHR5cGUgeyFPYmplY3R9ICovIChlZmZlY3RzKSwgaWQsIHByb3AsIHByb3BzLCBvbGRQcm9wcyxcbiAgICAgICAgICAgICAgaGFzUGF0aHMsIGV4dHJhQXJncykpIHtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJhbjtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUnVucyBhIGxpc3Qgb2YgZWZmZWN0cyBmb3IgYSBnaXZlbiBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2Ugd2l0aCBlZmZlY3RzIHRvIHJ1blxuICogQHBhcmFtIHshT2JqZWN0fSBlZmZlY3RzIE9iamVjdCBtYXAgb2YgcHJvcGVydHktdG8tQXJyYXkgb2YgZWZmZWN0c1xuICogQHBhcmFtIHtudW1iZXJ9IGRlZHVwZUlkIENvdW50ZXIgdXNlZCBmb3IgZGUtZHVwaW5nIGVmZmVjdHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIE5hbWUgb2YgY2hhbmdlZCBwcm9wZXJ0eVxuICogQHBhcmFtIHsqfSBwcm9wcyBDaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7Kn0gb2xkUHJvcHMgT2xkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcGFyYW0geyo9fSBleHRyYUFyZ3MgQWRkaXRpb25hbCBtZXRhZGF0YSB0byBwYXNzIHRvIGVmZmVjdCBmdW5jdGlvblxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbiBlZmZlY3QgcmFuIGZvciB0aGlzIHByb3BlcnR5XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5FZmZlY3RzRm9yUHJvcGVydHkoaW5zdCwgZWZmZWN0cywgZGVkdXBlSWQsIHByb3AsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMsIGV4dHJhQXJncykge1xuICBsZXQgcmFuID0gZmFsc2U7XG4gIGxldCByb290UHJvcGVydHkgPSBoYXNQYXRocyA/IHJvb3QocHJvcCkgOiBwcm9wO1xuICBsZXQgZnhzID0gZWZmZWN0c1tyb290UHJvcGVydHldO1xuICBpZiAoZnhzKSB7XG4gICAgZm9yIChsZXQgaT0wLCBsPWZ4cy5sZW5ndGgsIGZ4OyAoaTxsKSAmJiAoZng9ZnhzW2ldKTsgaSsrKSB7XG4gICAgICBpZiAoKCFmeC5pbmZvIHx8IGZ4LmluZm8ubGFzdFJ1biAhPT0gZGVkdXBlSWQpICYmXG4gICAgICAgICAgKCFoYXNQYXRocyB8fCBwYXRoTWF0Y2hlc1RyaWdnZXIocHJvcCwgZngudHJpZ2dlcikpKSB7XG4gICAgICAgIGlmIChmeC5pbmZvKSB7XG4gICAgICAgICAgZnguaW5mby5sYXN0UnVuID0gZGVkdXBlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZnguZm4oaW5zdCwgcHJvcCwgcHJvcHMsIG9sZFByb3BzLCBmeC5pbmZvLCBoYXNQYXRocywgZXh0cmFBcmdzKTtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJhbjtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBwcm9wZXJ0eS9wYXRoIHRoYXQgaGFzIGNoYW5nZWQgbWF0Y2hlcyB0aGUgdHJpZ2dlclxuICogY3JpdGVyaWEgZm9yIGFuIGVmZmVjdC4gIEEgdHJpZ2dlciBpcyBhIGRlc2NyaXB0b3Igd2l0aCB0aGUgZm9sbG93aW5nXG4gKiBzdHJ1Y3R1cmUsIHdoaWNoIG1hdGNoZXMgdGhlIGRlc2NyaXB0b3JzIHJldHVybmVkIGZyb20gYHBhcnNlQXJnYC5cbiAqIGUuZy4gZm9yIGBmb28uYmFyLipgOlxuICogYGBgXG4gKiB0cmlnZ2VyOiB7XG4gKiAgIG5hbWU6ICdhLmInLFxuICogICBzdHJ1Y3R1cmVkOiB0cnVlLFxuICogICB3aWxkY2FyZDogdHJ1ZVxuICogfVxuICogYGBgXG4gKiBJZiBubyB0cmlnZ2VyIGlzIGdpdmVuLCB0aGUgcGF0aCBpcyBkZWVtZWQgdG8gbWF0Y2guXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCBvciBwcm9wZXJ0eSB0aGF0IGNoYW5nZWRcbiAqIEBwYXJhbSB7P0RhdGFUcmlnZ2VyfSB0cmlnZ2VyIERlc2NyaXB0b3JcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHBhdGggbWF0Y2hlZCB0aGUgdHJpZ2dlclxuICovXG5mdW5jdGlvbiBwYXRoTWF0Y2hlc1RyaWdnZXIocGF0aCwgdHJpZ2dlcikge1xuICBpZiAodHJpZ2dlcikge1xuICAgIGxldCB0cmlnZ2VyUGF0aCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAodHJpZ2dlci5uYW1lKTtcbiAgICByZXR1cm4gKHRyaWdnZXJQYXRoID09IHBhdGgpIHx8XG4gICAgICAgICEhKHRyaWdnZXIuc3RydWN0dXJlZCAmJiBpc0FuY2VzdG9yKHRyaWdnZXJQYXRoLCBwYXRoKSkgfHxcbiAgICAgICAgISEodHJpZ2dlci53aWxkY2FyZCAmJiBpc0Rlc2NlbmRhbnQodHJpZ2dlclBhdGgsIHBhdGgpKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwib2JzZXJ2ZXJcIiBlZmZlY3QuXG4gKlxuICogQ2FsbHMgdGhlIG1ldGhvZCB3aXRoIGBpbmZvLm1ldGhvZE5hbWVgIG9uIHRoZSBpbnN0YW5jZSwgcGFzc2luZyB0aGVcbiAqIG5ldyBhbmQgb2xkIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuT2JzZXJ2ZXJFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbykge1xuICBsZXQgZm4gPSB0eXBlb2YgaW5mby5tZXRob2QgPT09IFwic3RyaW5nXCIgPyBpbnN0W2luZm8ubWV0aG9kXSA6IGluZm8ubWV0aG9kO1xuICBsZXQgY2hhbmdlZFByb3AgPSBpbmZvLnByb3BlcnR5O1xuICBpZiAoZm4pIHtcbiAgICBmbi5jYWxsKGluc3QsIGluc3QuX19kYXRhW2NoYW5nZWRQcm9wXSwgb2xkUHJvcHNbY2hhbmdlZFByb3BdKTtcbiAgfSBlbHNlIGlmICghaW5mby5keW5hbWljRm4pIHtcbiAgICBjb25zb2xlLndhcm4oJ29ic2VydmVyIG1ldGhvZCBgJyArIGluZm8ubWV0aG9kICsgJ2Agbm90IGRlZmluZWQnKTtcbiAgfVxufVxuXG4vKipcbiAqIFJ1bnMgXCJub3RpZnlcIiBlZmZlY3RzIGZvciBhIHNldCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMuXG4gKlxuICogVGhpcyBtZXRob2QgZGlmZmVycyBmcm9tIHRoZSBnZW5lcmljIGBydW5FZmZlY3RzYCBtZXRob2QgaW4gdGhhdCBpdFxuICogd2lsbCBkaXNwYXRjaCBwYXRoIG5vdGlmaWNhdGlvbiBldmVudHMgaW4gdGhlIGNhc2UgdGhhdCB0aGUgcHJvcGVydHlcbiAqIGNoYW5nZWQgd2FzIGEgcGF0aCBhbmQgdGhlIHJvb3QgcHJvcGVydHkgZm9yIHRoYXQgcGF0aCBkaWRuJ3QgaGF2ZSBhXG4gKiBcIm5vdGlmeVwiIGVmZmVjdC4gIFRoaXMgaXMgdG8gbWFpbnRhaW4gMS4wIGJlaGF2aW9yIHRoYXQgZGlkIG5vdCByZXF1aXJlXG4gKiBgbm90aWZ5OiB0cnVlYCB0byBlbnN1cmUgb2JqZWN0IHN1Yi1wcm9wZXJ0eSBub3RpZmljYXRpb25zIHdlcmVcbiAqIHNlbnQuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHdpdGggZWZmZWN0cyB0byBydW5cbiAqIEBwYXJhbSB7T2JqZWN0fSBub3RpZnlQcm9wcyBCYWcgb2YgcHJvcGVydGllcyB0byBub3RpZnlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuTm90aWZ5RWZmZWN0cyhpbnN0LCBub3RpZnlQcm9wcywgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykge1xuICAvLyBOb3RpZnlcbiAgbGV0IGZ4cyA9IGluc3RbVFlQRVMuTk9USUZZXTtcbiAgbGV0IG5vdGlmaWVkO1xuICBsZXQgaWQgPSBkZWR1cGVJZCsrO1xuICAvLyBUcnkgbm9ybWFsIG5vdGlmeSBlZmZlY3RzOyBpZiBub25lLCBmYWxsIGJhY2sgdG8gdHJ5IHBhdGggbm90aWZpY2F0aW9uXG4gIGZvciAobGV0IHByb3AgaW4gbm90aWZ5UHJvcHMpIHtcbiAgICBpZiAobm90aWZ5UHJvcHNbcHJvcF0pIHtcbiAgICAgIGlmIChmeHMgJiYgcnVuRWZmZWN0c0ZvclByb3BlcnR5KGluc3QsIGZ4cywgaWQsIHByb3AsIHByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpKSB7XG4gICAgICAgIG5vdGlmaWVkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzUGF0aHMgJiYgbm90aWZ5UGF0aChpbnN0LCBwcm9wLCBwcm9wcykpIHtcbiAgICAgICAgbm90aWZpZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBGbHVzaCBob3N0IGlmIHdlIGFjdHVhbGx5IG5vdGlmaWVkIGFuZCBob3N0IHdhcyBiYXRjaGluZ1xuICAvLyBBbmQgdGhlIGhvc3QgaGFzIGFscmVhZHkgaW5pdGlhbGl6ZWQgY2xpZW50czsgdGhpcyBwcmV2ZW50c1xuICAvLyBhbiBpc3N1ZSB3aXRoIGEgaG9zdCBvYnNlcnZpbmcgZGF0YSBjaGFuZ2VzIGJlZm9yZSBjbGllbnRzIGFyZSByZWFkeS5cbiAgbGV0IGhvc3Q7XG4gIGlmIChub3RpZmllZCAmJiAoaG9zdCA9IGluc3QuX19kYXRhSG9zdCkgJiYgaG9zdC5faW52YWxpZGF0ZVByb3BlcnRpZXMpIHtcbiAgICBob3N0Ll9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2hlcyB7cHJvcGVydHl9LWNoYW5nZWQgZXZlbnRzIHdpdGggcGF0aCBpbmZvcm1hdGlvbiBpbiB0aGUgZGV0YWlsXG4gKiBvYmplY3QgdG8gaW5kaWNhdGUgYSBzdWItcGF0aCBvZiB0aGUgcHJvcGVydHkgd2FzIGNoYW5nZWQuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGVsZW1lbnQgZnJvbSB3aGljaCB0byBmaXJlIHRoZVxuICogICAgIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCB0aGF0IHdhcyBjaGFuZ2VkXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBwYXRoIHdhcyBub3RpZmllZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm90aWZ5UGF0aChpbnN0LCBwYXRoLCBwcm9wcykge1xuICBsZXQgcm9vdFByb3BlcnR5ID0gcm9vdChwYXRoKTtcbiAgaWYgKHJvb3RQcm9wZXJ0eSAhPT0gcGF0aCkge1xuICAgIGxldCBldmVudE5hbWUgPSBjYW1lbFRvRGFzaENhc2Uocm9vdFByb3BlcnR5KSArICctY2hhbmdlZCc7XG4gICAgZGlzcGF0Y2hOb3RpZnlFdmVudChpbnN0LCBldmVudE5hbWUsIHByb3BzW3BhdGhdLCBwYXRoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogRGlzcGF0Y2hlcyB7cHJvcGVydHl9LWNoYW5nZWQgZXZlbnRzIHRvIGluZGljYXRlIGEgcHJvcGVydHkgKG9yIHBhdGgpXG4gKiBjaGFuZ2VkLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBlbGVtZW50IGZyb20gd2hpY2ggdG8gZmlyZSB0aGVcbiAqICAgICBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gc2VuZFxuICogICAgICgne3Byb3BlcnR5fS1jaGFuZ2VkJylcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBjaGFuZ2VkIHByb3BlcnR5XG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IHBhdGggSWYgYSBzdWItcGF0aCBvZiB0aGlzIHByb3BlcnR5XG4gKiAgICAgY2hhbmdlZCwgdGhlIHBhdGggdGhhdCBjaGFuZ2VkIChvcHRpb25hbCkuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICovXG5mdW5jdGlvbiBkaXNwYXRjaE5vdGlmeUV2ZW50KGluc3QsIGV2ZW50TmFtZSwgdmFsdWUsIHBhdGgpIHtcbiAgbGV0IGRldGFpbCA9IHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgcXVldWVQcm9wZXJ0eTogdHJ1ZVxuICB9O1xuICBpZiAocGF0aCkge1xuICAgIGRldGFpbC5wYXRoID0gcGF0aDtcbiAgfVxuICB3cmFwKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyhpbnN0KSkuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7IGRldGFpbCB9KSk7XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgXCJub3RpZnlcIiBlZmZlY3QuXG4gKlxuICogRGlzcGF0Y2hlcyBhIG5vbi1idWJibGluZyBldmVudCBuYW1lZCBgaW5mby5ldmVudE5hbWVgIG9uIHRoZSBpbnN0YW5jZVxuICogd2l0aCBhIGRldGFpbCBvYmplY3QgY29udGFpbmluZyB0aGUgbmV3IGB2YWx1ZWAuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHBhcmFtIHtib29sZWFufSBoYXNQYXRocyBUcnVlIHdpdGggYHByb3BzYCBjb250YWlucyBvbmUgb3IgbW9yZSBwYXRoc1xuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk5vdGlmeUVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvLCBoYXNQYXRocykge1xuICBsZXQgcm9vdFByb3BlcnR5ID0gaGFzUGF0aHMgPyByb290KHByb3BlcnR5KSA6IHByb3BlcnR5O1xuICBsZXQgcGF0aCA9IHJvb3RQcm9wZXJ0eSAhPSBwcm9wZXJ0eSA/IHByb3BlcnR5IDogbnVsbDtcbiAgbGV0IHZhbHVlID0gcGF0aCA/IGdldChpbnN0LCBwYXRoKSA6IGluc3QuX19kYXRhW3Byb3BlcnR5XTtcbiAgaWYgKHBhdGggJiYgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcHJvcHNbcHJvcGVydHldOyAgLy8gc3BlY2lmaWNhbGx5IGZvciAuc3BsaWNlc1xuICB9XG4gIGRpc3BhdGNoTm90aWZ5RXZlbnQoaW5zdCwgaW5mby5ldmVudE5hbWUsIHZhbHVlLCBwYXRoKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVyIGZ1bmN0aW9uIGZvciAyLXdheSBub3RpZmljYXRpb24gZXZlbnRzLiBSZWNlaXZlcyBjb250ZXh0XG4gKiBpbmZvcm1hdGlvbiBjYXB0dXJlZCBpbiB0aGUgYGFkZE5vdGlmeUxpc3RlbmVyYCBjbG9zdXJlIGZyb20gdGhlXG4gKiBgX19ub3RpZnlMaXN0ZW5lcnNgIG1ldGFkYXRhLlxuICpcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBub3RpZmllZCBwcm9wZXJ0eSB0byB0aGUgaG9zdCBwcm9wZXJ0eSBvciBwYXRoLiAgSWZcbiAqIHRoZSBldmVudCBjb250YWluZWQgcGF0aCBpbmZvcm1hdGlvbiwgdHJhbnNsYXRlIHRoYXQgcGF0aCB0byB0aGUgaG9zdFxuICogc2NvcGUncyBuYW1lIGZvciB0aGF0IHBhdGggZmlyc3QuXG4gKlxuICogQHBhcmFtIHtDdXN0b21FdmVudH0gZXZlbnQgTm90aWZpY2F0aW9uIGV2ZW50IChlLmcuICc8cHJvcGVydHk+LWNoYW5nZWQnKVxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgSG9zdCBlbGVtZW50IGluc3RhbmNlIGhhbmRsaW5nIHRoZVxuICogICAgIG5vdGlmaWNhdGlvbiBldmVudFxuICogQHBhcmFtIHtzdHJpbmd9IGZyb21Qcm9wIENoaWxkIGVsZW1lbnQgcHJvcGVydHkgdGhhdCB3YXMgYm91bmRcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b1BhdGggSG9zdCBwcm9wZXJ0eS9wYXRoIHRoYXQgd2FzIGJvdW5kXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG5lZ2F0ZSBXaGV0aGVyIHRoZSBiaW5kaW5nIHdhcyBuZWdhdGVkXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaGFuZGxlTm90aWZpY2F0aW9uKGV2ZW50LCBpbnN0LCBmcm9tUHJvcCwgdG9QYXRoLCBuZWdhdGUpIHtcbiAgbGV0IHZhbHVlO1xuICBsZXQgZGV0YWlsID0gLyoqIEB0eXBlIHtPYmplY3R9ICovKGV2ZW50LmRldGFpbCk7XG4gIGxldCBmcm9tUGF0aCA9IGRldGFpbCAmJiBkZXRhaWwucGF0aDtcbiAgaWYgKGZyb21QYXRoKSB7XG4gICAgdG9QYXRoID0gdHJhbnNsYXRlKGZyb21Qcm9wLCB0b1BhdGgsIGZyb21QYXRoKTtcbiAgICB2YWx1ZSA9IGRldGFpbCAmJiBkZXRhaWwudmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBldmVudC5jdXJyZW50VGFyZ2V0W2Zyb21Qcm9wXTtcbiAgfVxuICB2YWx1ZSA9IG5lZ2F0ZSA/ICF2YWx1ZSA6IHZhbHVlO1xuICBpZiAoIWluc3RbVFlQRVMuUkVBRF9PTkxZXSB8fCAhaW5zdFtUWVBFUy5SRUFEX09OTFldW3RvUGF0aF0pIHtcbiAgICBpZiAoaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHRvUGF0aCwgdmFsdWUsIHRydWUsIEJvb2xlYW4oZnJvbVBhdGgpKVxuICAgICAgJiYgKCFkZXRhaWwgfHwgIWRldGFpbC5xdWV1ZVByb3BlcnR5KSkge1xuICAgICAgaW5zdC5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcInJlZmxlY3RcIiBlZmZlY3QuXG4gKlxuICogU2V0cyB0aGUgYXR0cmlidXRlIG5hbWVkIGBpbmZvLmF0dHJOYW1lYCB0byB0aGUgZ2l2ZW4gcHJvcGVydHkgdmFsdWUuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/fSBpbmZvIEVmZmVjdCBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1blJlZmxlY3RFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbykge1xuICBsZXQgdmFsdWUgPSBpbnN0Ll9fZGF0YVtwcm9wZXJ0eV07XG4gIGlmIChzYW5pdGl6ZURPTVZhbHVlKSB7XG4gICAgdmFsdWUgPSBzYW5pdGl6ZURPTVZhbHVlKHZhbHVlLCBpbmZvLmF0dHJOYW1lLCAnYXR0cmlidXRlJywgLyoqIEB0eXBlIHtOb2RlfSAqLyhpbnN0KSk7XG4gIH1cbiAgaW5zdC5fcHJvcGVydHlUb0F0dHJpYnV0ZShwcm9wZXJ0eSwgaW5mby5hdHRyTmFtZSwgdmFsdWUpO1xufVxuXG4vKipcbiAqIFJ1bnMgXCJjb21wdXRlZFwiIGVmZmVjdHMgZm9yIGEgc2V0IG9mIGNoYW5nZWQgcHJvcGVydGllcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gdGhlIGdlbmVyaWMgYHJ1bkVmZmVjdHNgIG1ldGhvZCBpbiB0aGF0IGl0XG4gKiBjb250aW51ZXMgdG8gcnVuIGNvbXB1dGVkIGVmZmVjdHMgYmFzZWQgb24gdGhlIG91dHB1dCBvZiBlYWNoIHBhc3MgdW50aWxcbiAqIHRoZXJlIGFyZSBubyBtb3JlIG5ld2x5IGNvbXB1dGVkIHByb3BlcnRpZXMuICBUaGlzIGVuc3VyZXMgdGhhdCBhbGxcbiAqIHByb3BlcnRpZXMgdGhhdCB3aWxsIGJlIGNvbXB1dGVkIGJ5IHRoZSBpbml0aWFsIHNldCBvZiBjaGFuZ2VzIGFyZVxuICogY29tcHV0ZWQgYmVmb3JlIG90aGVyIGVmZmVjdHMgKGJpbmRpbmcgcHJvcGFnYXRpb24sIG9ic2VydmVycywgYW5kIG5vdGlmeSlcbiAqIHJ1bi5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHs/T2JqZWN0fSBjaGFuZ2VkUHJvcHMgQmFnIG9mIGNoYW5nZWQgcHJvcGVydGllc1xuICogQHBhcmFtIHs/T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBydW5Db21wdXRlZEVmZmVjdHMoaW5zdCwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpIHtcbiAgbGV0IGNvbXB1dGVFZmZlY3RzID0gaW5zdFtUWVBFUy5DT01QVVRFXTtcbiAgaWYgKGNvbXB1dGVFZmZlY3RzKSB7XG4gICAgbGV0IGlucHV0UHJvcHMgPSBjaGFuZ2VkUHJvcHM7XG4gICAgd2hpbGUgKHJ1bkVmZmVjdHMoaW5zdCwgY29tcHV0ZUVmZmVjdHMsIGlucHV0UHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocykpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAob2xkUHJvcHMpLCBpbnN0Ll9fZGF0YU9sZCk7XG4gICAgICBPYmplY3QuYXNzaWduKC8qKiBAdHlwZSB7IU9iamVjdH0gKi8gKGNoYW5nZWRQcm9wcyksIGluc3QuX19kYXRhUGVuZGluZyk7XG4gICAgICBpbnB1dFByb3BzID0gaW5zdC5fX2RhdGFQZW5kaW5nO1xuICAgICAgaW5zdC5fX2RhdGFQZW5kaW5nID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcImNvbXB1dGVkIHByb3BlcnR5XCIgZWZmZWN0IGJ5IHJ1bm5pbmcgdGhlIG1ldGhvZCB3aXRoIHRoZVxuICogdmFsdWVzIG9mIHRoZSBhcmd1bWVudHMgc3BlY2lmaWVkIGluIHRoZSBgaW5mb2Agb2JqZWN0IGFuZCBzZXR0aW5nIHRoZVxuICogcmV0dXJuIHZhbHVlIHRvIHRoZSBjb21wdXRlZCBwcm9wZXJ0eSBzcGVjaWZpZWQuXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgVGhlIGluc3RhbmNlIHRoZSBlZmZlY3Qgd2lsbCBiZSBydW4gb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIHByb3BlcnR5XG4gKiBAcGFyYW0gez9PYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7P09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuQ29tcHV0ZWRFZmZlY3QoaW5zdCwgcHJvcGVydHksIHByb3BzLCBvbGRQcm9wcywgaW5mbykge1xuICBsZXQgcmVzdWx0ID0gcnVuTWV0aG9kRWZmZWN0KGluc3QsIHByb3BlcnR5LCBwcm9wcywgb2xkUHJvcHMsIGluZm8pO1xuICBsZXQgY29tcHV0ZWRQcm9wID0gaW5mby5tZXRob2RJbmZvO1xuICBpZiAoaW5zdC5fX2RhdGFIYXNBY2Nlc3NvciAmJiBpbnN0Ll9fZGF0YUhhc0FjY2Vzc29yW2NvbXB1dGVkUHJvcF0pIHtcbiAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkoY29tcHV0ZWRQcm9wLCByZXN1bHQsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIGluc3RbY29tcHV0ZWRQcm9wXSA9IHJlc3VsdDtcbiAgfVxufVxuXG4vKipcbiAqIENvbXB1dGVzIHBhdGggY2hhbmdlcyBiYXNlZCBvbiBwYXRoIGxpbmtzIHNldCB1cCB1c2luZyB0aGUgYGxpbmtQYXRoc2BcbiAqIEFQSS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2Ugd2hvc2UgcHJvcHMgYXJlIGNoYW5naW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRoYXQgaGFzIGNoYW5nZWRcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb2YgY2hhbmdlZCBwYXRoXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY29tcHV0ZUxpbmtlZFBhdGhzKGluc3QsIHBhdGgsIHZhbHVlKSB7XG4gIGxldCBsaW5rcyA9IGluc3QuX19kYXRhTGlua2VkUGF0aHM7XG4gIGlmIChsaW5rcykge1xuICAgIGxldCBsaW5rO1xuICAgIGZvciAobGV0IGEgaW4gbGlua3MpIHtcbiAgICAgIGxldCBiID0gbGlua3NbYV07XG4gICAgICBpZiAoaXNEZXNjZW5kYW50KGEsIHBhdGgpKSB7XG4gICAgICAgIGxpbmsgPSB0cmFuc2xhdGUoYSwgYiwgcGF0aCk7XG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChsaW5rLCB2YWx1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGlzRGVzY2VuZGFudChiLCBwYXRoKSkge1xuICAgICAgICBsaW5rID0gdHJhbnNsYXRlKGIsIGEsIHBhdGgpO1xuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgobGluaywgdmFsdWUsIHRydWUsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyAtLSBiaW5kaW5ncyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8qKlxuICogQWRkcyBiaW5kaW5nIG1ldGFkYXRhIHRvIHRoZSBjdXJyZW50IGBub2RlSW5mb2AsIGFuZCBiaW5kaW5nIGVmZmVjdHNcbiAqIGZvciBhbGwgcGFydCBkZXBlbmRlbmNpZXMgdG8gYHRlbXBsYXRlSW5mb2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQ2xhc3MgdGhhdCBgX3BhcnNlVGVtcGxhdGVgIGlzIGN1cnJlbnRseVxuICogICBydW5uaW5nIG9uXG4gKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gKiBAcGFyYW0ge05vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlIG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBraW5kIEJpbmRpbmcga2luZCwgZWl0aGVyICdwcm9wZXJ0eScsICdhdHRyaWJ1dGUnLCBvciAndGV4dCdcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgVGFyZ2V0IHByb3BlcnR5IG5hbWVcbiAqIEBwYXJhbSB7IUFycmF5PCFCaW5kaW5nUGFydD59IHBhcnRzIEFycmF5IG9mIGJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICogQHBhcmFtIHtzdHJpbmc9fSBsaXRlcmFsIExpdGVyYWwgdGV4dCBzdXJyb3VuZGluZyBiaW5kaW5nIHBhcnRzIChzcGVjaWZpZWRcbiAqICAgb25seSBmb3IgJ3Byb3BlcnR5JyBiaW5kaW5ncywgc2luY2UgdGhlc2UgbXVzdCBiZSBpbml0aWFsaXplZCBhcyBwYXJ0XG4gKiAgIG9mIGJvb3QtdXApXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gYWRkQmluZGluZyhjb25zdHJ1Y3RvciwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywga2luZCwgdGFyZ2V0LCBwYXJ0cywgbGl0ZXJhbCkge1xuICAvLyBDcmVhdGUgYmluZGluZyBtZXRhZGF0YSBhbmQgYWRkIHRvIG5vZGVJbmZvXG4gIG5vZGVJbmZvLmJpbmRpbmdzID0gbm9kZUluZm8uYmluZGluZ3MgfHwgW107XG4gIGxldCAvKiogQmluZGluZyAqLyBiaW5kaW5nID0geyBraW5kLCB0YXJnZXQsIHBhcnRzLCBsaXRlcmFsLCBpc0NvbXBvdW5kOiAocGFydHMubGVuZ3RoICE9PSAxKSB9O1xuICBub2RlSW5mby5iaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xuICAvLyBBZGQgbGlzdGVuZXIgaW5mbyB0byBiaW5kaW5nIG1ldGFkYXRhXG4gIGlmIChzaG91bGRBZGRMaXN0ZW5lcihiaW5kaW5nKSkge1xuICAgIGxldCB7ZXZlbnQsIG5lZ2F0ZX0gPSBiaW5kaW5nLnBhcnRzWzBdO1xuICAgIGJpbmRpbmcubGlzdGVuZXJFdmVudCA9IGV2ZW50IHx8IChjYW1lbFRvRGFzaENhc2UodGFyZ2V0KSArICctY2hhbmdlZCcpO1xuICAgIGJpbmRpbmcubGlzdGVuZXJOZWdhdGUgPSBuZWdhdGU7XG4gIH1cbiAgLy8gQWRkIFwicHJvcGFnYXRlXCIgcHJvcGVydHkgZWZmZWN0cyB0byB0ZW1wbGF0ZUluZm9cbiAgbGV0IGluZGV4ID0gdGVtcGxhdGVJbmZvLm5vZGVJbmZvTGlzdC5sZW5ndGg7XG4gIGZvciAobGV0IGk9MDsgaTxiaW5kaW5nLnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IHBhcnQgPSBiaW5kaW5nLnBhcnRzW2ldO1xuICAgIHBhcnQuY29tcG91bmRJbmRleCA9IGk7XG4gICAgYWRkRWZmZWN0Rm9yQmluZGluZ1BhcnQoY29uc3RydWN0b3IsIHRlbXBsYXRlSW5mbywgYmluZGluZywgcGFydCwgaW5kZXgpO1xuICB9XG59XG5cbi8qKlxuICogQWRkcyBwcm9wZXJ0eSBlZmZlY3RzIHRvIHRoZSBnaXZlbiBgdGVtcGxhdGVJbmZvYCBmb3IgdGhlIGdpdmVuIGJpbmRpbmdcbiAqIHBhcnQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQ2xhc3MgdGhhdCBgX3BhcnNlVGVtcGxhdGVgIGlzIGN1cnJlbnRseVxuICogICBydW5uaW5nIG9uXG4gKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlXG4gKiBAcGFyYW0geyFCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEBwYXJhbSB7IUJpbmRpbmdQYXJ0fSBwYXJ0IEJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IEluZGV4IGludG8gYG5vZGVJbmZvTGlzdGAgZm9yIHRoaXMgbm9kZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gYWRkRWZmZWN0Rm9yQmluZGluZ1BhcnQoY29uc3RydWN0b3IsIHRlbXBsYXRlSW5mbywgYmluZGluZywgcGFydCwgaW5kZXgpIHtcbiAgaWYgKCFwYXJ0LmxpdGVyYWwpIHtcbiAgICBpZiAoYmluZGluZy5raW5kID09PSAnYXR0cmlidXRlJyAmJiBiaW5kaW5nLnRhcmdldFswXSA9PT0gJy0nKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0Nhbm5vdCBzZXQgYXR0cmlidXRlICcgKyBiaW5kaW5nLnRhcmdldCArXG4gICAgICAgICcgYmVjYXVzZSBcIi1cIiBpcyBub3QgYSB2YWxpZCBhdHRyaWJ1dGUgc3RhcnRpbmcgY2hhcmFjdGVyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkZXBlbmRlbmNpZXMgPSBwYXJ0LmRlcGVuZGVuY2llcztcbiAgICAgIGxldCBpbmZvID0geyBpbmRleCwgYmluZGluZywgcGFydCwgZXZhbHVhdG9yOiBjb25zdHJ1Y3RvciB9O1xuICAgICAgZm9yIChsZXQgaj0wOyBqPGRlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgdHJpZ2dlciA9IGRlcGVuZGVuY2llc1tqXTtcbiAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdHJpZ2dlciA9IHBhcnNlQXJnKHRyaWdnZXIpO1xuICAgICAgICAgIHRyaWdnZXIud2lsZGNhcmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0cnVjdG9yLl9hZGRUZW1wbGF0ZVByb3BlcnR5RWZmZWN0KHRlbXBsYXRlSW5mbywgdHJpZ2dlci5yb290UHJvcGVydHksIHtcbiAgICAgICAgICBmbjogcnVuQmluZGluZ0VmZmVjdCxcbiAgICAgICAgICBpbmZvLCB0cmlnZ2VyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIFwiYmluZGluZ1wiIChwcm9wZXJ0eS9wYXRoIGJpbmRpbmcpIGVmZmVjdC5cbiAqXG4gKiBOb3RlIHRoYXQgYmluZGluZyBzeW50YXggaXMgb3ZlcnJpZGFibGUgdmlhIGBfcGFyc2VCaW5kaW5nc2AgYW5kXG4gKiBgX2V2YWx1YXRlQmluZGluZ2AuICBUaGlzIG1ldGhvZCB3aWxsIGNhbGwgYF9ldmFsdWF0ZUJpbmRpbmdgIGZvciBhbnlcbiAqIG5vbi1saXRlcmFsIHBhcnRzIHJldHVybmVkIGZyb20gYF9wYXJzZUJpbmRpbmdzYC4gIEhvd2V2ZXIsXG4gKiB0aGVyZSBpcyBubyBzdXBwb3J0IGZvciBfcGF0aF8gYmluZGluZ3MgdmlhIGN1c3RvbSBiaW5kaW5nIHBhcnRzLFxuICogYXMgdGhpcyBpcyBzcGVjaWZpYyB0byBQb2x5bWVyJ3MgcGF0aCBiaW5kaW5nIHN5bnRheC5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggTmFtZSBvZiBwcm9wZXJ0eVxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7P30gaW5mbyBFZmZlY3QgbWV0YWRhdGFcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAqIEBwYXJhbSB7QXJyYXl9IG5vZGVMaXN0IExpc3Qgb2Ygbm9kZXMgYXNzb2NpYXRlZCB3aXRoIGBub2RlSW5mb0xpc3RgIHRlbXBsYXRlXG4gKiAgIG1ldGFkYXRhXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcnVuQmluZGluZ0VmZmVjdChpbnN0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGluZm8sIGhhc1BhdGhzLCBub2RlTGlzdCkge1xuICBsZXQgbm9kZSA9IG5vZGVMaXN0W2luZm8uaW5kZXhdO1xuICBsZXQgYmluZGluZyA9IGluZm8uYmluZGluZztcbiAgbGV0IHBhcnQgPSBpbmZvLnBhcnQ7XG4gIC8vIFN1YnBhdGggbm90aWZpY2F0aW9uOiB0cmFuc2Zvcm0gcGF0aCBhbmQgc2V0IHRvIGNsaWVudFxuICAvLyBlLmcuOiBmb289XCJ7e29iai5zdWJ9fVwiLCBwYXRoOiAnb2JqLnN1Yi5wcm9wJywgc2V0ICdmb28ucHJvcCc9b2JqLnN1Yi5wcm9wXG4gIGlmIChoYXNQYXRocyAmJiBwYXJ0LnNvdXJjZSAmJiAocGF0aC5sZW5ndGggPiBwYXJ0LnNvdXJjZS5sZW5ndGgpICYmXG4gICAgICAoYmluZGluZy5raW5kID09ICdwcm9wZXJ0eScpICYmICFiaW5kaW5nLmlzQ29tcG91bmQgJiZcbiAgICAgIG5vZGUuX19pc1Byb3BlcnR5RWZmZWN0c0NsaWVudCAmJlxuICAgICAgbm9kZS5fX2RhdGFIYXNBY2Nlc3NvciAmJiBub2RlLl9fZGF0YUhhc0FjY2Vzc29yW2JpbmRpbmcudGFyZ2V0XSkge1xuICAgIGxldCB2YWx1ZSA9IHByb3BzW3BhdGhdO1xuICAgIHBhdGggPSB0cmFuc2xhdGUocGFydC5zb3VyY2UsIGJpbmRpbmcudGFyZ2V0LCBwYXRoKTtcbiAgICBpZiAobm9kZS5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHBhdGgsIHZhbHVlLCBmYWxzZSwgdHJ1ZSkpIHtcbiAgICAgIGluc3QuX2VucXVldWVDbGllbnQobm9kZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCB2YWx1ZSA9IGluZm8uZXZhbHVhdG9yLl9ldmFsdWF0ZUJpbmRpbmcoaW5zdCwgcGFydCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgLy8gUHJvcGFnYXRlIHZhbHVlIHRvIGNoaWxkXG4gICAgYXBwbHlCaW5kaW5nVmFsdWUoaW5zdCwgbm9kZSwgYmluZGluZywgcGFydCwgdmFsdWUpO1xuICB9XG59XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgZm9yIGFuIFwiYmluZGluZ1wiIChiaW5kaW5nKSBlZmZlY3QgdG8gYSBub2RlLFxuICogZWl0aGVyIGFzIGEgcHJvcGVydHkgb3IgYXR0cmlidXRlLlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IFRoZSBpbnN0YW5jZSBvd25pbmcgdGhlIGJpbmRpbmcgZWZmZWN0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgVGFyZ2V0IG5vZGUgZm9yIGJpbmRpbmdcbiAqIEBwYXJhbSB7IUJpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHBhcmFtIHshQmluZGluZ1BhcnR9IHBhcnQgQmluZGluZyBwYXJ0IG1ldGFkYXRhXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFwcGx5QmluZGluZ1ZhbHVlKGluc3QsIG5vZGUsIGJpbmRpbmcsIHBhcnQsIHZhbHVlKSB7XG4gIHZhbHVlID0gY29tcHV0ZUJpbmRpbmdWYWx1ZShub2RlLCB2YWx1ZSwgYmluZGluZywgcGFydCk7XG4gIGlmIChzYW5pdGl6ZURPTVZhbHVlKSB7XG4gICAgdmFsdWUgPSBzYW5pdGl6ZURPTVZhbHVlKHZhbHVlLCBiaW5kaW5nLnRhcmdldCwgYmluZGluZy5raW5kLCBub2RlKTtcbiAgfVxuICBpZiAoYmluZGluZy5raW5kID09ICdhdHRyaWJ1dGUnKSB7XG4gICAgLy8gQXR0cmlidXRlIGJpbmRpbmdcbiAgICBpbnN0Ll92YWx1ZVRvTm9kZUF0dHJpYnV0ZSgvKiogQHR5cGUge0VsZW1lbnR9ICovKG5vZGUpLCB2YWx1ZSwgYmluZGluZy50YXJnZXQpO1xuICB9IGVsc2Uge1xuICAgIC8vIFByb3BlcnR5IGJpbmRpbmdcbiAgICBsZXQgcHJvcCA9IGJpbmRpbmcudGFyZ2V0O1xuICAgIGlmIChub2RlLl9faXNQcm9wZXJ0eUVmZmVjdHNDbGllbnQgJiZcbiAgICAgICAgbm9kZS5fX2RhdGFIYXNBY2Nlc3NvciAmJiBub2RlLl9fZGF0YUhhc0FjY2Vzc29yW3Byb3BdKSB7XG4gICAgICBpZiAoIW5vZGVbVFlQRVMuUkVBRF9PTkxZXSB8fCAhbm9kZVtUWVBFUy5SRUFEX09OTFldW3Byb3BdKSB7XG4gICAgICAgIGlmIChub2RlLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcCwgdmFsdWUpKSB7XG4gICAgICAgICAgaW5zdC5fZW5xdWV1ZUNsaWVudChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSAge1xuICAgICAgaW5zdC5fc2V0VW5tYW5hZ2VkUHJvcGVydHlUb05vZGUobm9kZSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFRyYW5zZm9ybXMgYW4gXCJiaW5kaW5nXCIgZWZmZWN0IHZhbHVlIGJhc2VkIG9uIGNvbXBvdW5kICYgbmVnYXRpb25cbiAqIGVmZmVjdCBtZXRhZGF0YSwgYXMgd2VsbCBhcyBoYW5kbGluZyBmb3Igc3BlY2lhbC1jYXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0aGUgdmFsdWUgd2lsbCBiZSBzZXQgdG9cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0XG4gKiBAcGFyYW0geyFCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEBwYXJhbSB7IUJpbmRpbmdQYXJ0fSBwYXJ0IEJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICogQHJldHVybiB7Kn0gVHJhbnNmb3JtZWQgdmFsdWUgdG8gc2V0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjb21wdXRlQmluZGluZ1ZhbHVlKG5vZGUsIHZhbHVlLCBiaW5kaW5nLCBwYXJ0KSB7XG4gIGlmIChiaW5kaW5nLmlzQ29tcG91bmQpIHtcbiAgICBsZXQgc3RvcmFnZSA9IG5vZGUuX19kYXRhQ29tcG91bmRTdG9yYWdlW2JpbmRpbmcudGFyZ2V0XTtcbiAgICBzdG9yYWdlW3BhcnQuY29tcG91bmRJbmRleF0gPSB2YWx1ZTtcbiAgICB2YWx1ZSA9IHN0b3JhZ2Uuam9pbignJyk7XG4gIH1cbiAgaWYgKGJpbmRpbmcua2luZCAhPT0gJ2F0dHJpYnV0ZScpIHtcbiAgICAvLyBTb21lIGJyb3dzZXJzIHNlcmlhbGl6ZSBgdW5kZWZpbmVkYCB0byBgXCJ1bmRlZmluZWRcImBcbiAgICBpZiAoYmluZGluZy50YXJnZXQgPT09ICd0ZXh0Q29udGVudCcgfHxcbiAgICAgICAgKGJpbmRpbmcudGFyZ2V0ID09PSAndmFsdWUnICYmXG4gICAgICAgICAgKG5vZGUubG9jYWxOYW1lID09PSAnaW5wdXQnIHx8IG5vZGUubG9jYWxOYW1lID09PSAndGV4dGFyZWEnKSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPT0gdW5kZWZpbmVkID8gJycgOiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGJpbmRpbmcncyBtZXRhZGF0YSBtZWV0cyBhbGwgdGhlIHJlcXVpcmVtZW50cyB0byBhbGxvd1xuICogMi13YXkgYmluZGluZywgYW5kIHRoZXJlZm9yZSBhIGA8cHJvcGVydHk+LWNoYW5nZWRgIGV2ZW50IGxpc3RlbmVyIHNob3VsZCBiZVxuICogYWRkZWQ6XG4gKiAtIHVzZWQgY3VybHkgYnJhY2VzXG4gKiAtIGlzIGEgcHJvcGVydHkgKG5vdCBhdHRyaWJ1dGUpIGJpbmRpbmdcbiAqIC0gaXMgbm90IGEgdGV4dENvbnRlbnQgYmluZGluZ1xuICogLSBpcyBub3QgY29tcG91bmRcbiAqXG4gKiBAcGFyYW0geyFCaW5kaW5nfSBiaW5kaW5nIEJpbmRpbmcgbWV0YWRhdGFcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgMi13YXkgbGlzdGVuZXIgc2hvdWxkIGJlIGFkZGVkXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzaG91bGRBZGRMaXN0ZW5lcihiaW5kaW5nKSB7XG4gIHJldHVybiBCb29sZWFuKGJpbmRpbmcudGFyZ2V0KSAmJlxuICAgICAgICAgYmluZGluZy5raW5kICE9ICdhdHRyaWJ1dGUnICYmXG4gICAgICAgICBiaW5kaW5nLmtpbmQgIT0gJ3RleHQnICYmXG4gICAgICAgICAhYmluZGluZy5pc0NvbXBvdW5kICYmXG4gICAgICAgICBiaW5kaW5nLnBhcnRzWzBdLm1vZGUgPT09ICd7Jztcbn1cblxuLyoqXG4gKiBTZXR1cCBjb21wb3VuZCBiaW5kaW5nIHN0b3JhZ2Ugc3RydWN0dXJlcywgbm90aWZ5IGxpc3RlbmVycywgYW5kIGRhdGFIb3N0XG4gKiByZWZlcmVuY2VzIG9udG8gdGhlIGJvdW5kIG5vZGVMaXN0LlxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEluc3RhbmNlIHRoYXQgYmFzIGJlZW4gcHJldmlvdXNseVxuICogICAgIGJvdW5kXG4gKiBAcGFyYW0ge1RlbXBsYXRlSW5mb30gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2V0dXBCaW5kaW5ncyhpbnN0LCB0ZW1wbGF0ZUluZm8pIHtcbiAgLy8gU2V0dXAgY29tcG91bmQgc3RvcmFnZSwgZGF0YUhvc3QsIGFuZCBub3RpZnkgbGlzdGVuZXJzXG4gIGxldCB7bm9kZUxpc3QsIG5vZGVJbmZvTGlzdH0gPSB0ZW1wbGF0ZUluZm87XG4gIGlmIChub2RlSW5mb0xpc3QubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaT0wOyBpIDwgbm9kZUluZm9MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgaW5mbyA9IG5vZGVJbmZvTGlzdFtpXTtcbiAgICAgIGxldCBub2RlID0gbm9kZUxpc3RbaV07XG4gICAgICBsZXQgYmluZGluZ3MgPSBpbmZvLmJpbmRpbmdzO1xuICAgICAgaWYgKGJpbmRpbmdzKSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxiaW5kaW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBiaW5kaW5nID0gYmluZGluZ3NbaV07XG4gICAgICAgICAgc2V0dXBDb21wb3VuZFN0b3JhZ2Uobm9kZSwgYmluZGluZyk7XG4gICAgICAgICAgYWRkTm90aWZ5TGlzdGVuZXIobm9kZSwgaW5zdCwgYmluZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuX19kYXRhSG9zdCA9IGluc3Q7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYF9fZGF0YUNvbXBvdW5kU3RvcmFnZWAgbG9jYWwgc3RvcmFnZSBvbiBhIGJvdW5kIG5vZGUgd2l0aFxuICogaW5pdGlhbCBsaXRlcmFsIGRhdGEgZm9yIGNvbXBvdW5kIGJpbmRpbmdzLCBhbmQgc2V0cyB0aGUgam9pbmVkXG4gKiBsaXRlcmFsIHBhcnRzIHRvIHRoZSBib3VuZCBwcm9wZXJ0eS5cbiAqXG4gKiBXaGVuIGNoYW5nZXMgdG8gY29tcG91bmQgcGFydHMgb2NjdXIsIHRoZXkgYXJlIGZpcnN0IHNldCBpbnRvIHRoZSBjb21wb3VuZFxuICogc3RvcmFnZSBhcnJheSBmb3IgdGhhdCBwcm9wZXJ0eSwgYW5kIHRoZW4gdGhlIGFycmF5IGlzIGpvaW5lZCB0byByZXN1bHQgaW5cbiAqIHRoZSBmaW5hbCB2YWx1ZSBzZXQgdG8gdGhlIHByb3BlcnR5L2F0dHJpYnV0ZS5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGUgQm91bmQgbm9kZSB0byBpbml0aWFsaXplXG4gKiBAcGFyYW0ge0JpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNldHVwQ29tcG91bmRTdG9yYWdlKG5vZGUsIGJpbmRpbmcpIHtcbiAgaWYgKGJpbmRpbmcuaXNDb21wb3VuZCkge1xuICAgIC8vIENyZWF0ZSBjb21wb3VuZCBzdG9yYWdlIG1hcFxuICAgIGxldCBzdG9yYWdlID0gbm9kZS5fX2RhdGFDb21wb3VuZFN0b3JhZ2UgfHxcbiAgICAgIChub2RlLl9fZGF0YUNvbXBvdW5kU3RvcmFnZSA9IHt9KTtcbiAgICBsZXQgcGFydHMgPSBiaW5kaW5nLnBhcnRzO1xuICAgIC8vIENvcHkgbGl0ZXJhbHMgZnJvbSBwYXJ0cyBpbnRvIHN0b3JhZ2UgZm9yIHRoaXMgYmluZGluZ1xuICAgIGxldCBsaXRlcmFscyA9IG5ldyBBcnJheShwYXJ0cy5sZW5ndGgpO1xuICAgIGZvciAobGV0IGo9MDsgajxwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgbGl0ZXJhbHNbal0gPSBwYXJ0c1tqXS5saXRlcmFsO1xuICAgIH1cbiAgICBsZXQgdGFyZ2V0ID0gYmluZGluZy50YXJnZXQ7XG4gICAgc3RvcmFnZVt0YXJnZXRdID0gbGl0ZXJhbHM7XG4gICAgLy8gQ29uZmlndXJlIHByb3BlcnRpZXMgd2l0aCB0aGVpciBsaXRlcmFsIHBhcnRzXG4gICAgaWYgKGJpbmRpbmcubGl0ZXJhbCAmJiBiaW5kaW5nLmtpbmQgPT0gJ3Byb3BlcnR5Jykge1xuICAgICAgLy8gTm90ZSwgY2xhc3NOYW1lIG5lZWRzIHN0eWxlIHNjb3Bpbmcgc28gdGhpcyBuZWVkcyB3cmFwcGluZy5cbiAgICAgIC8vIFdlIG1heSBhbHNvIHdhbnQgdG8gY29uc2lkZXIgZG9pbmcgdGhpcyBmb3IgYHRleHRDb250ZW50YCBhbmRcbiAgICAgIC8vIGBpbm5lckhUTUxgLlxuICAgICAgaWYgKHRhcmdldCA9PT0gJ2NsYXNzTmFtZScpIHtcbiAgICAgICAgbm9kZSA9IHdyYXAobm9kZSk7XG4gICAgICB9XG4gICAgICBub2RlW3RhcmdldF0gPSBiaW5kaW5nLmxpdGVyYWw7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQWRkcyBhIDItd2F5IGJpbmRpbmcgbm90aWZpY2F0aW9uIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBub2RlIHNwZWNpZmllZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBub2RlIENoaWxkIGVsZW1lbnQgdG8gYWRkIGxpc3RlbmVyIHRvXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBIb3N0IGVsZW1lbnQgaW5zdGFuY2UgdG8gaGFuZGxlXG4gKiAgICAgbm90aWZpY2F0aW9uIGV2ZW50XG4gKiBAcGFyYW0ge0JpbmRpbmd9IGJpbmRpbmcgQmluZGluZyBtZXRhZGF0YVxuICogQHJldHVybiB7dm9pZH1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGFkZE5vdGlmeUxpc3RlbmVyKG5vZGUsIGluc3QsIGJpbmRpbmcpIHtcbiAgaWYgKGJpbmRpbmcubGlzdGVuZXJFdmVudCkge1xuICAgIGxldCBwYXJ0ID0gYmluZGluZy5wYXJ0c1swXTtcbiAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoYmluZGluZy5saXN0ZW5lckV2ZW50LCBmdW5jdGlvbihlKSB7XG4gICAgICBoYW5kbGVOb3RpZmljYXRpb24oZSwgaW5zdCwgYmluZGluZy50YXJnZXQsIHBhcnQuc291cmNlLCBwYXJ0Lm5lZ2F0ZSk7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gLS0gZm9yIG1ldGhvZC1iYXNlZCBlZmZlY3RzIChjb21wbGV4T2JzZXJ2ZXIgJiBjb21wdXRlZCkgLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBBZGRzIHByb3BlcnR5IGVmZmVjdHMgZm9yIGVhY2ggYXJndW1lbnQgaW4gdGhlIG1ldGhvZCBzaWduYXR1cmUgKGFuZFxuICogb3B0aW9uYWxseSwgZm9yIHRoZSBtZXRob2QgbmFtZSBpZiBgZHluYW1pY2AgaXMgdHJ1ZSkgdGhhdCBjYWxscyB0aGVcbiAqIHByb3ZpZGVkIGVmZmVjdCBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnQgfCBPYmplY3R9IG1vZGVsIFByb3RvdHlwZSBvciBpbnN0YW5jZVxuICogQHBhcmFtIHshTWV0aG9kU2lnbmF0dXJlfSBzaWcgTWV0aG9kIHNpZ25hdHVyZSBtZXRhZGF0YVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVHlwZSBvZiBwcm9wZXJ0eSBlZmZlY3QgdG8gYWRkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlZmZlY3RGbiBGdW5jdGlvbiB0byBydW4gd2hlbiBhcmd1bWVudHMgY2hhbmdlXG4gKiBAcGFyYW0geyo9fSBtZXRob2RJbmZvIEVmZmVjdC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBiZSBpbmNsdWRlZCBpblxuICogICBtZXRob2QgZWZmZWN0IG1ldGFkYXRhXG4gKiBAcGFyYW0ge2Jvb2xlYW58T2JqZWN0PX0gZHluYW1pY0ZuIEJvb2xlYW4gb3Igb2JqZWN0IG1hcCBpbmRpY2F0aW5nIHdoZXRoZXJcbiAqICAgbWV0aG9kIG5hbWVzIHNob3VsZCBiZSBpbmNsdWRlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC4gTm90ZSxcbiAqICAgZGVmYXVsdHMgdG8gdHJ1ZSBpZiB0aGUgc2lnbmF0dXJlIGlzIHN0YXRpYyAoc2lnLnN0YXRpYyBpcyB0cnVlKS5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjcmVhdGVNZXRob2RFZmZlY3QobW9kZWwsIHNpZywgdHlwZSwgZWZmZWN0Rm4sIG1ldGhvZEluZm8sIGR5bmFtaWNGbikge1xuICBkeW5hbWljRm4gPSBzaWcuc3RhdGljIHx8IChkeW5hbWljRm4gJiZcbiAgICAodHlwZW9mIGR5bmFtaWNGbiAhPT0gJ29iamVjdCcgfHwgZHluYW1pY0ZuW3NpZy5tZXRob2ROYW1lXSkpO1xuICBsZXQgaW5mbyA9IHtcbiAgICBtZXRob2ROYW1lOiBzaWcubWV0aG9kTmFtZSxcbiAgICBhcmdzOiBzaWcuYXJncyxcbiAgICBtZXRob2RJbmZvLFxuICAgIGR5bmFtaWNGblxuICB9O1xuICBmb3IgKGxldCBpPTAsIGFyZzsgKGk8c2lnLmFyZ3MubGVuZ3RoKSAmJiAoYXJnPXNpZy5hcmdzW2ldKTsgaSsrKSB7XG4gICAgaWYgKCFhcmcubGl0ZXJhbCkge1xuICAgICAgbW9kZWwuX2FkZFByb3BlcnR5RWZmZWN0KGFyZy5yb290UHJvcGVydHksIHR5cGUsIHtcbiAgICAgICAgZm46IGVmZmVjdEZuLCBpbmZvOiBpbmZvLCB0cmlnZ2VyOiBhcmdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAoZHluYW1pY0ZuKSB7XG4gICAgbW9kZWwuX2FkZFByb3BlcnR5RWZmZWN0KHNpZy5tZXRob2ROYW1lLCB0eXBlLCB7XG4gICAgICBmbjogZWZmZWN0Rm4sIGluZm86IGluZm9cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIENhbGxzIGEgbWV0aG9kIHdpdGggYXJndW1lbnRzIG1hcnNoYWxlZCBmcm9tIHByb3BlcnRpZXMgb24gdGhlIGluc3RhbmNlXG4gKiBiYXNlZCBvbiB0aGUgbWV0aG9kIHNpZ25hdHVyZSBjb250YWluZWQgaW4gdGhlIGVmZmVjdCBtZXRhZGF0YS5cbiAqXG4gKiBNdWx0aS1wcm9wZXJ0eSBvYnNlcnZlcnMsIGNvbXB1dGVkIHByb3BlcnRpZXMsIGFuZCBpbmxpbmUgY29tcHV0aW5nXG4gKiBmdW5jdGlvbnMgY2FsbCB0aGlzIGZ1bmN0aW9uIHRvIGludm9rZSB0aGUgbWV0aG9kLCB0aGVuIHVzZSB0aGUgcmV0dXJuXG4gKiB2YWx1ZSBhY2NvcmRpbmdseS5cbiAqXG4gKiBAcGFyYW0geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gaW5zdCBUaGUgaW5zdGFuY2UgdGhlIGVmZmVjdCB3aWxsIGJlIHJ1biBvblxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IE5hbWUgb2YgcHJvcGVydHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBCYWcgb2YgY3VycmVudCBwcm9wZXJ0eSBjaGFuZ2VzXG4gKiBAcGFyYW0ge09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0gez99IGluZm8gRWZmZWN0IG1ldGFkYXRhXG4gKiBAcmV0dXJuIHsqfSBSZXR1cm5zIHRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgbWV0aG9kIGludm9jYXRpb25cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJ1bk1ldGhvZEVmZmVjdChpbnN0LCBwcm9wZXJ0eSwgcHJvcHMsIG9sZFByb3BzLCBpbmZvKSB7XG4gIC8vIEluc3RhbmNlcyBjYW4gb3B0aW9uYWxseSBoYXZlIGEgX21ldGhvZEhvc3Qgd2hpY2ggYWxsb3dzIHJlZGlyZWN0aW5nIHdoZXJlXG4gIC8vIHRvIGZpbmQgbWV0aG9kcy4gQ3VycmVudGx5IHVzZWQgYnkgYHRlbXBsYXRpemVgLlxuICBsZXQgY29udGV4dCA9IGluc3QuX21ldGhvZEhvc3QgfHwgaW5zdDtcbiAgbGV0IGZuID0gY29udGV4dFtpbmZvLm1ldGhvZE5hbWVdO1xuICBpZiAoZm4pIHtcbiAgICBsZXQgYXJncyA9IGluc3QuX21hcnNoYWxBcmdzKGluZm8uYXJncywgcHJvcGVydHksIHByb3BzKTtcbiAgICByZXR1cm4gZm4uYXBwbHkoY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSBpZiAoIWluZm8uZHluYW1pY0ZuKSB7XG4gICAgY29uc29sZS53YXJuKCdtZXRob2QgYCcgKyBpbmZvLm1ldGhvZE5hbWUgKyAnYCBub3QgZGVmaW5lZCcpO1xuICB9XG59XG5cbmNvbnN0IGVtcHR5QXJyYXkgPSBbXTtcblxuLy8gUmVndWxhciBleHByZXNzaW9ucyB1c2VkIGZvciBiaW5kaW5nXG5jb25zdCBJREVOVCAgPSAnKD86JyArICdbYS16QS1aXyRdW1xcXFx3LjokXFxcXC0qXSonICsgJyknO1xuY29uc3QgTlVNQkVSID0gJyg/OicgKyAnWy0rXT9bMC05XSpcXFxcLj9bMC05XSsoPzpbZUVdWy0rXT9bMC05XSspPycgKyAnKSc7XG5jb25zdCBTUVVPVEVfU1RSSU5HID0gJyg/OicgKyAnXFwnKD86W15cXCdcXFxcXFxcXF18XFxcXFxcXFwuKSpcXCcnICsgJyknO1xuY29uc3QgRFFVT1RFX1NUUklORyA9ICcoPzonICsgJ1wiKD86W15cIlxcXFxcXFxcXXxcXFxcXFxcXC4pKlwiJyArICcpJztcbmNvbnN0IFNUUklORyA9ICcoPzonICsgU1FVT1RFX1NUUklORyArICd8JyArIERRVU9URV9TVFJJTkcgKyAnKSc7XG5jb25zdCBBUkdVTUVOVCA9ICcoPzooJyArIElERU5UICsgJ3wnICsgTlVNQkVSICsgJ3wnICsgIFNUUklORyArICcpXFxcXHMqJyArICcpJztcbmNvbnN0IEFSR1VNRU5UUyA9ICcoPzonICsgQVJHVU1FTlQgKyAnKD86LFxcXFxzKicgKyBBUkdVTUVOVCArICcpKicgKyAnKSc7XG5jb25zdCBBUkdVTUVOVF9MSVNUID0gJyg/OicgKyAnXFxcXChcXFxccyonICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcoPzonICsgQVJHVU1FTlRTICsgJz8nICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXFxcXClcXFxccyonICsgJyknO1xuY29uc3QgQklORElORyA9ICcoJyArIElERU5UICsgJ1xcXFxzKicgKyBBUkdVTUVOVF9MSVNUICsgJz8nICsgJyknOyAvLyBHcm91cCAzXG5jb25zdCBPUEVOX0JSQUNLRVQgPSAnKFxcXFxbXFxcXFt8e3spJyArICdcXFxccyonO1xuY29uc3QgQ0xPU0VfQlJBQ0tFVCA9ICcoPzpdXXx9fSknO1xuY29uc3QgTkVHQVRFID0gJyg/OighKVxcXFxzKik/JzsgLy8gR3JvdXAgMlxuY29uc3QgRVhQUkVTU0lPTiA9IE9QRU5fQlJBQ0tFVCArIE5FR0FURSArIEJJTkRJTkcgKyBDTE9TRV9CUkFDS0VUO1xuY29uc3QgYmluZGluZ1JlZ2V4ID0gbmV3IFJlZ0V4cChFWFBSRVNTSU9OLCBcImdcIik7XG5cbi8qKlxuICogQ3JlYXRlIGEgc3RyaW5nIGZyb20gYmluZGluZyBwYXJ0cyBvZiBhbGwgdGhlIGxpdGVyYWwgcGFydHNcbiAqXG4gKiBAcGFyYW0geyFBcnJheTxCaW5kaW5nUGFydD59IHBhcnRzIEFsbCBwYXJ0cyB0byBzdHJpbmdpZnlcbiAqIEByZXR1cm4ge3N0cmluZ30gU3RyaW5nIG1hZGUgZnJvbSB0aGUgbGl0ZXJhbCBwYXJ0c1xuICovXG5mdW5jdGlvbiBsaXRlcmFsRnJvbVBhcnRzKHBhcnRzKSB7XG4gIGxldCBzID0gJyc7XG4gIGZvciAobGV0IGk9MDsgaTxwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBsaXRlcmFsID0gcGFydHNbaV0ubGl0ZXJhbDtcbiAgICBzICs9IGxpdGVyYWwgfHwgJyc7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5cbi8qKlxuICogUGFyc2VzIGFuIGV4cHJlc3Npb24gc3RyaW5nIGZvciBhIG1ldGhvZCBzaWduYXR1cmUsIGFuZCByZXR1cm5zIGEgbWV0YWRhdGFcbiAqIGRlc2NyaWJpbmcgdGhlIG1ldGhvZCBpbiB0ZXJtcyBvZiBgbWV0aG9kTmFtZWAsIGBzdGF0aWNgICh3aGV0aGVyIGFsbCB0aGVcbiAqIGFyZ3VtZW50cyBhcmUgbGl0ZXJhbHMpLCBhbmQgYW4gYXJyYXkgb2YgYGFyZ3NgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGV4cHJlc3Npb24gdG8gcGFyc2VcbiAqIEByZXR1cm4gez9NZXRob2RTaWduYXR1cmV9IFRoZSBtZXRob2QgbWV0YWRhdGEgb2JqZWN0IGlmIGEgbWV0aG9kIGV4cHJlc3Npb24gd2FzXG4gKiAgIGZvdW5kLCBvdGhlcndpc2UgYHVuZGVmaW5lZGBcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlTWV0aG9kKGV4cHJlc3Npb24pIHtcbiAgLy8gdHJpZXMgdG8gbWF0Y2ggdmFsaWQgamF2YXNjcmlwdCBwcm9wZXJ0eSBuYW1lc1xuICBsZXQgbSA9IGV4cHJlc3Npb24ubWF0Y2goLyhbXlxcc10rPylcXCgoW1xcc1xcU10qKVxcKS8pO1xuICBpZiAobSkge1xuICAgIGxldCBtZXRob2ROYW1lID0gbVsxXTtcbiAgICBsZXQgc2lnID0geyBtZXRob2ROYW1lLCBzdGF0aWM6IHRydWUsIGFyZ3M6IGVtcHR5QXJyYXkgfTtcbiAgICBpZiAobVsyXS50cmltKCkpIHtcbiAgICAgIC8vIHJlcGxhY2UgZXNjYXBlZCBjb21tYXMgd2l0aCBjb21tYSBlbnRpdHksIHNwbGl0IG9uIHVuLWVzY2FwZWQgY29tbWFzXG4gICAgICBsZXQgYXJncyA9IG1bMl0ucmVwbGFjZSgvXFxcXCwvZywgJyZjb21tYTsnKS5zcGxpdCgnLCcpO1xuICAgICAgcmV0dXJuIHBhcnNlQXJncyhhcmdzLCBzaWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2lnO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYW4gYXJyYXkgb2YgYXJndW1lbnRzIGFuZCBzZXRzIHRoZSBgYXJnc2AgcHJvcGVydHkgb2YgdGhlIHN1cHBsaWVkXG4gKiBzaWduYXR1cmUgbWV0YWRhdGEgb2JqZWN0LiBTZXRzIHRoZSBgc3RhdGljYCBwcm9wZXJ0eSB0byBmYWxzZSBpZiBhbnlcbiAqIGFyZ3VtZW50IGlzIGEgbm9uLWxpdGVyYWwuXG4gKlxuICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gYXJnTGlzdCBBcnJheSBvZiBhcmd1bWVudCBuYW1lc1xuICogQHBhcmFtIHshTWV0aG9kU2lnbmF0dXJlfSBzaWcgTWV0aG9kIHNpZ25hdHVyZSBtZXRhZGF0YSBvYmplY3RcbiAqIEByZXR1cm4geyFNZXRob2RTaWduYXR1cmV9IFRoZSB1cGRhdGVkIHNpZ25hdHVyZSBtZXRhZGF0YSBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQXJncyhhcmdMaXN0LCBzaWcpIHtcbiAgc2lnLmFyZ3MgPSBhcmdMaXN0Lm1hcChmdW5jdGlvbihyYXdBcmcpIHtcbiAgICBsZXQgYXJnID0gcGFyc2VBcmcocmF3QXJnKTtcbiAgICBpZiAoIWFyZy5saXRlcmFsKSB7XG4gICAgICBzaWcuc3RhdGljID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcmc7XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gc2lnO1xufVxuXG4vKipcbiAqIFBhcnNlcyBhbiBpbmRpdmlkdWFsIGFyZ3VtZW50LCBhbmQgcmV0dXJucyBhbiBhcmd1bWVudCBtZXRhZGF0YSBvYmplY3RcbiAqIHdpdGggdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gKlxuICogICB7XG4gKiAgICAgdmFsdWU6ICdwcm9wJywgICAgICAgIC8vIHByb3BlcnR5L3BhdGggb3IgbGl0ZXJhbCB2YWx1ZVxuICogICAgIGxpdGVyYWw6IGZhbHNlLCAgICAgICAvLyB3aGV0aGVyIGFyZ3VtZW50IGlzIGEgbGl0ZXJhbFxuICogICAgIHN0cnVjdHVyZWQ6IGZhbHNlLCAgICAvLyB3aGV0aGVyIHRoZSBwcm9wZXJ0eSBpcyBhIHBhdGhcbiAqICAgICByb290UHJvcGVydHk6ICdwcm9wJywgLy8gdGhlIHJvb3QgcHJvcGVydHkgb2YgdGhlIHBhdGhcbiAqICAgICB3aWxkY2FyZDogZmFsc2UgICAgICAgLy8gd2hldGhlciB0aGUgYXJndW1lbnQgd2FzIGEgd2lsZGNhcmQgJy4qJyBwYXRoXG4gKiAgIH1cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmF3QXJnIFRoZSBzdHJpbmcgdmFsdWUgb2YgdGhlIGFyZ3VtZW50XG4gKiBAcmV0dXJuIHshTWV0aG9kQXJnfSBBcmd1bWVudCBtZXRhZGF0YSBvYmplY3RcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlQXJnKHJhd0FyZykge1xuICAvLyBjbGVhbiB1cCB3aGl0ZXNwYWNlXG4gIGxldCBhcmcgPSByYXdBcmcudHJpbSgpXG4gICAgLy8gcmVwbGFjZSBjb21tYSBlbnRpdHkgd2l0aCBjb21tYVxuICAgIC5yZXBsYWNlKC8mY29tbWE7L2csICcsJylcbiAgICAvLyByZXBhaXIgZXh0cmEgZXNjYXBlIHNlcXVlbmNlczsgbm90ZSBvbmx5IGNvbW1hcyBzdHJpY3RseSBuZWVkXG4gICAgLy8gZXNjYXBpbmcsIGJ1dCB3ZSBhbGxvdyBhbnkgb3RoZXIgY2hhciB0byBiZSBlc2NhcGVkIHNpbmNlIGl0c1xuICAgIC8vIGxpa2VseSB1c2VycyB3aWxsIGRvIHRoaXNcbiAgICAucmVwbGFjZSgvXFxcXCguKS9nLCAnXFwkMScpXG4gICAgO1xuICAvLyBiYXNpYyBhcmd1bWVudCBkZXNjcmlwdG9yXG4gIGxldCBhID0ge1xuICAgIG5hbWU6IGFyZyxcbiAgICB2YWx1ZTogJycsXG4gICAgbGl0ZXJhbDogZmFsc2VcbiAgfTtcbiAgLy8gZGV0ZWN0IGxpdGVyYWwgdmFsdWUgKG11c3QgYmUgU3RyaW5nIG9yIE51bWJlcilcbiAgbGV0IGZjID0gYXJnWzBdO1xuICBpZiAoZmMgPT09ICctJykge1xuICAgIGZjID0gYXJnWzFdO1xuICB9XG4gIGlmIChmYyA+PSAnMCcgJiYgZmMgPD0gJzknKSB7XG4gICAgZmMgPSAnIyc7XG4gIH1cbiAgc3dpdGNoKGZjKSB7XG4gICAgY2FzZSBcIidcIjpcbiAgICBjYXNlICdcIic6XG4gICAgICBhLnZhbHVlID0gYXJnLnNsaWNlKDEsIC0xKTtcbiAgICAgIGEubGl0ZXJhbCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcjJzpcbiAgICAgIGEudmFsdWUgPSBOdW1iZXIoYXJnKTtcbiAgICAgIGEubGl0ZXJhbCA9IHRydWU7XG4gICAgICBicmVhaztcbiAgfVxuICAvLyBpZiBub3QgbGl0ZXJhbCwgbG9vayBmb3Igc3RydWN0dXJlZCBwYXRoXG4gIGlmICghYS5saXRlcmFsKSB7XG4gICAgYS5yb290UHJvcGVydHkgPSByb290KGFyZyk7XG4gICAgLy8gZGV0ZWN0IHN0cnVjdHVyZWQgcGF0aCAoaGFzIGRvdHMpXG4gICAgYS5zdHJ1Y3R1cmVkID0gaXNQYXRoKGFyZyk7XG4gICAgaWYgKGEuc3RydWN0dXJlZCkge1xuICAgICAgYS53aWxkY2FyZCA9IChhcmcuc2xpY2UoLTIpID09ICcuKicpO1xuICAgICAgaWYgKGEud2lsZGNhcmQpIHtcbiAgICAgICAgYS5uYW1lID0gYXJnLnNsaWNlKDAsIC0yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uIGdldEFyZ1ZhbHVlKGRhdGEsIHByb3BzLCBwYXRoKSB7XG4gIGxldCB2YWx1ZSA9IGdldChkYXRhLCBwYXRoKTtcbiAgLy8gd2hlbiBkYXRhIGlzIG5vdCBzdG9yZWQgZS5nLiBgc3BsaWNlc2AsIGdldCB0aGUgdmFsdWUgZnJvbSBjaGFuZ2VkUHJvcHNcbiAgLy8gVE9ETyhrc2NoYWFmKTogTm90ZSwgdGhpcyBjYW4gY2F1c2UgYSByYXJlIGlzc3VlIHdoZXJlIHRoZSB3aWxkY2FyZFxuICAvLyBpbmZvLnZhbHVlIGNvdWxkIHB1bGwgYSBzdGFsZSB2YWx1ZSBvdXQgb2YgY2hhbmdlZFByb3BzIGR1cmluZyBhIHJlZW50cmFudFxuICAvLyBjaGFuZ2UgdGhhdCBzZXRzIHRoZSB2YWx1ZSBiYWNrIHRvIHVuZGVmaW5lZC5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1BvbHltZXIvcG9seW1lci9pc3N1ZXMvNTQ3OVxuICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgIHZhbHVlID0gcHJvcHNbcGF0aF07XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBkYXRhIGFwaVxuXG4vKipcbiAqIFNlbmRzIGFycmF5IHNwbGljZSBub3RpZmljYXRpb25zIChgLnNwbGljZXNgIGFuZCBgLmxlbmd0aGApXG4gKlxuICogTm90ZTogdGhpcyBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgbm9ybWFsaXplZCBwYXRoc1xuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEluc3RhbmNlIHRvIHNlbmQgbm90aWZpY2F0aW9ucyB0b1xuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRoZSBtdXRhdGlvbnMgb2NjdXJyZWQgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIHRoZSBhcnJheSB0aGF0IHdhcyBtdXRhdGVkXG4gKiBAcGFyYW0ge0FycmF5fSBzcGxpY2VzIEFycmF5IG9mIHNwbGljZSByZWNvcmRzXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm90aWZ5U3BsaWNlcyhpbnN0LCBhcnJheSwgcGF0aCwgc3BsaWNlcykge1xuICBpbnN0Lm5vdGlmeVBhdGgocGF0aCArICcuc3BsaWNlcycsIHsgaW5kZXhTcGxpY2VzOiBzcGxpY2VzIH0pO1xuICBpbnN0Lm5vdGlmeVBhdGgocGF0aCArICcubGVuZ3RoJywgYXJyYXkubGVuZ3RoKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3BsaWNlIHJlY29yZCBhbmQgc2VuZHMgYW4gYXJyYXkgc3BsaWNlIG5vdGlmaWNhdGlvbiBmb3JcbiAqIHRoZSBkZXNjcmliZWQgbXV0YXRpb25cbiAqXG4gKiBOb3RlOiB0aGlzIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBub3JtYWxpemVkIHBhdGhzXG4gKlxuICogQHBhcmFtIHshUG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9IGluc3QgSW5zdGFuY2UgdG8gc2VuZCBub3RpZmljYXRpb25zIHRvXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdGhlIG11dGF0aW9ucyBvY2N1cnJlZCBvblxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gdGhlIGFycmF5IHRoYXQgd2FzIG11dGF0ZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBJbmRleCBhdCB3aGljaCB0aGUgYXJyYXkgbXV0YXRpb24gb2NjdXJyZWRcbiAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlZENvdW50IE51bWJlciBvZiBhZGRlZCBpdGVtc1xuICogQHBhcmFtIHtBcnJheX0gcmVtb3ZlZCBBcnJheSBvZiByZW1vdmVkIGl0ZW1zXG4gKiBAcmV0dXJuIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbm90aWZ5U3BsaWNlKGluc3QsIGFycmF5LCBwYXRoLCBpbmRleCwgYWRkZWRDb3VudCwgcmVtb3ZlZCkge1xuICBub3RpZnlTcGxpY2VzKGluc3QsIGFycmF5LCBwYXRoLCBbe1xuICAgIGluZGV4OiBpbmRleCxcbiAgICBhZGRlZENvdW50OiBhZGRlZENvdW50LFxuICAgIHJlbW92ZWQ6IHJlbW92ZWQsXG4gICAgb2JqZWN0OiBhcnJheSxcbiAgICB0eXBlOiAnc3BsaWNlJ1xuICB9XSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiB1cHBlci1jYXNlZCB2ZXJzaW9uIG9mIHRoZSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgU3RyaW5nIHRvIHVwcGVyY2FzZVxuICogQHJldHVybiB7c3RyaW5nfSBVcHBlcmNhc2VkIHN0cmluZ1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdXBwZXIobmFtZSkge1xuICByZXR1cm4gbmFtZVswXS50b1VwcGVyQ2FzZSgpICsgbmFtZS5zdWJzdHJpbmcoMSk7XG59XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIG1ldGEtcHJvZ3JhbW1pbmcgZm9yIFBvbHltZXIncyB0ZW1wbGF0ZVxuICogYmluZGluZyBhbmQgZGF0YSBvYnNlcnZhdGlvbiAoY29sbGVjdGl2ZWx5LCBcInByb3BlcnR5IGVmZmVjdHNcIikgc3lzdGVtLlxuICpcbiAqIFRoaXMgbWl4aW4gdXNlcyBwcm92aWRlcyB0aGUgZm9sbG93aW5nIGtleSBzdGF0aWMgbWV0aG9kcyBmb3IgYWRkaW5nXG4gKiBwcm9wZXJ0eSBlZmZlY3RzIHRvIGFuIGVsZW1lbnQgY2xhc3M6XG4gKiAtIGBhZGRQcm9wZXJ0eUVmZmVjdGBcbiAqIC0gYGNyZWF0ZVByb3BlcnR5T2JzZXJ2ZXJgXG4gKiAtIGBjcmVhdGVNZXRob2RPYnNlcnZlcmBcbiAqIC0gYGNyZWF0ZU5vdGlmeWluZ1Byb3BlcnR5YFxuICogLSBgY3JlYXRlUmVhZE9ubHlQcm9wZXJ0eWBcbiAqIC0gYGNyZWF0ZVJlZmxlY3RlZFByb3BlcnR5YFxuICogLSBgY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eWBcbiAqIC0gYGJpbmRUZW1wbGF0ZWBcbiAqXG4gKiBFYWNoIG1ldGhvZCBjcmVhdGVzIG9uZSBvciBtb3JlIHByb3BlcnR5IGFjY2Vzc29ycywgYWxvbmcgd2l0aCBtZXRhZGF0YVxuICogdXNlZCBieSB0aGlzIG1peGluJ3MgaW1wbGVtZW50YXRpb24gb2YgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgdG8gcGVyZm9ybVxuICogdGhlIHByb3BlcnR5IGVmZmVjdHMuXG4gKlxuICogVW5kZXJzY29yZWQgdmVyc2lvbnMgb2YgdGhlIGFib3ZlIG1ldGhvZHMgYWxzbyBleGlzdCBvbiB0aGUgZWxlbWVudFxuICogcHJvdG90eXBlIGZvciBhZGRpbmcgcHJvcGVydHkgZWZmZWN0cyBvbiBpbnN0YW5jZXMgYXQgcnVudGltZS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBtaXhpbiBvdmVycmlkZXMgc2V2ZXJhbCBgUHJvcGVydHlBY2Nlc3NvcnNgIG1ldGhvZHMsIGluXG4gKiBtYW55IGNhc2VzIHRvIG1haW50YWluIGd1YXJhbnRlZXMgcHJvdmlkZWQgYnkgdGhlIFBvbHltZXIgMS54IGZlYXR1cmVzO1xuICogbm90YWJseSBpdCBjaGFuZ2VzIHByb3BlcnR5IGFjY2Vzc29ycyB0byBiZSBzeW5jaHJvbm91cyBieSBkZWZhdWx0XG4gKiB3aGVyZWFzIHRoZSBkZWZhdWx0IHdoZW4gdXNpbmcgYFByb3BlcnR5QWNjZXNzb3JzYCBzdGFuZGFsb25lIGlzIHRvIGJlXG4gKiBhc3luYyBieSBkZWZhdWx0LlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBUZW1wbGF0ZVN0YW1wXG4gKiBAYXBwbGllc01peGluIFByb3BlcnR5QWNjZXNzb3JzXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgbWV0YS1wcm9ncmFtbWluZyBmb3IgUG9seW1lcidzXG4gKiB0ZW1wbGF0ZSBiaW5kaW5nIGFuZCBkYXRhIG9ic2VydmF0aW9uIHN5c3RlbS5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0eUVmZmVjdHMgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlBY2Nlc3NvcnN9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1RlbXBsYXRlU3RhbXB9XG4gICAqIEB1bnJlc3RyaWN0ZWRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbnN0IHByb3BlcnR5RWZmZWN0c0Jhc2UgPSBUZW1wbGF0ZVN0YW1wKFByb3BlcnR5QWNjZXNzb3JzKHN1cGVyQ2xhc3MpKTtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfVxuICAgKiBAZXh0ZW5kcyB7cHJvcGVydHlFZmZlY3RzQmFzZX1cbiAgICogQHVucmVzdHJpY3RlZFxuICAgKi9cbiAgY2xhc3MgUHJvcGVydHlFZmZlY3RzIGV4dGVuZHMgcHJvcGVydHlFZmZlY3RzQmFzZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICAvLyBVc2VkIHRvIGlkZW50aWZ5IHVzZXJzIG9mIHRoaXMgbWl4aW4sIGFsYSBpbnN0YW5jZW9mXG4gICAgICB0aGlzLl9faXNQcm9wZXJ0eUVmZmVjdHNDbGllbnQgPSB0cnVlO1xuICAgICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgICAvLyBOT1RFOiB1c2VkIHRvIHRyYWNrIHJlLWVudHJhbnQgY2FsbHMgdG8gYF9mbHVzaFByb3BlcnRpZXNgXG4gICAgICAvLyBwYXRoIGNoYW5nZXMgZGlydHkgY2hlY2sgYWdhaW5zdCBgX19kYXRhVGVtcGAgb25seSBkdXJpbmcgb25lIFwidHVyblwiXG4gICAgICAvLyBhbmQgYXJlIGNsZWFyZWQgd2hlbiBgX19kYXRhQ291bnRlcmAgcmV0dXJucyB0byAwLlxuICAgICAgdGhpcy5fX2RhdGFDb3VudGVyID0gMDtcbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX19kYXRhQ2xpZW50c1JlYWR5O1xuICAgICAgLyoqIEB0eXBlIHtBcnJheX0gKi9cbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19kYXRhVG9Ob3RpZnk7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19kYXRhTGlua2VkUGF0aHM7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUhhc1BhdGhzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YUNvbXBvdW5kU3RvcmFnZTtcbiAgICAgIC8qKiBAdHlwZSB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9ICovXG4gICAgICB0aGlzLl9fZGF0YUhvc3Q7XG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YVRlbXA7XG4gICAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgICB0aGlzLl9fZGF0YUNsaWVudHNJbml0aWFsaXplZDtcbiAgICAgIC8qKiBAdHlwZSB7IU9iamVjdH0gKi9cbiAgICAgIHRoaXMuX19kYXRhO1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0fG51bGx9ICovXG4gICAgICB0aGlzLl9fZGF0YVBlbmRpbmc7XG4gICAgICAvKiogQHR5cGUgeyFPYmplY3R9ICovXG4gICAgICB0aGlzLl9fZGF0YU9sZDtcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX2NvbXB1dGVFZmZlY3RzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fcmVmbGVjdEVmZmVjdHM7XG4gICAgICAvKiogQHR5cGUge09iamVjdH0gKi9cbiAgICAgIHRoaXMuX19ub3RpZnlFZmZlY3RzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fcHJvcGFnYXRlRWZmZWN0cztcbiAgICAgIC8qKiBAdHlwZSB7T2JqZWN0fSAqL1xuICAgICAgdGhpcy5fX29ic2VydmVFZmZlY3RzO1xuICAgICAgLyoqIEB0eXBlIHtPYmplY3R9ICovXG4gICAgICB0aGlzLl9fcmVhZE9ubHk7XG4gICAgICAvKiogQHR5cGUgeyFUZW1wbGF0ZUluZm99ICovXG4gICAgICB0aGlzLl9fdGVtcGxhdGVJbmZvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fSBFZmZlY3QgcHJvdG90eXBlIHByb3BlcnR5IG5hbWUgbWFwLlxuICAgICAqL1xuICAgIGdldCBQUk9QRVJUWV9FRkZFQ1RfVFlQRVMoKSB7XG4gICAgICByZXR1cm4gVFlQRVM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICAgIGhvc3RTdGFjay5yZWdpc3Rlckhvc3QodGhpcyk7XG4gICAgICB0aGlzLl9fZGF0YUNsaWVudHNSZWFkeSA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cyA9IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YVRvTm90aWZ5ID0gbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhTGlua2VkUGF0aHMgPSBudWxsO1xuICAgICAgdGhpcy5fX2RhdGFIYXNQYXRocyA9IGZhbHNlO1xuICAgICAgLy8gTWF5IGJlIHNldCBvbiBpbnN0YW5jZSBwcmlvciB0byB1cGdyYWRlXG4gICAgICB0aGlzLl9fZGF0YUNvbXBvdW5kU3RvcmFnZSA9IHRoaXMuX19kYXRhQ29tcG91bmRTdG9yYWdlIHx8IG51bGw7XG4gICAgICB0aGlzLl9fZGF0YUhvc3QgPSB0aGlzLl9fZGF0YUhvc3QgfHwgbnVsbDtcbiAgICAgIHRoaXMuX19kYXRhVGVtcCA9IHt9O1xuICAgICAgdGhpcy5fX2RhdGFDbGllbnRzSW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5QWNjZXNzb3JzYCBpbXBsZW1lbnRhdGlvbiB0byBwcm92aWRlIGFcbiAgICAgKiBtb3JlIGVmZmljaWVudCBpbXBsZW1lbnRhdGlvbiBvZiBpbml0aWFsaXppbmcgcHJvcGVydGllcyBmcm9tXG4gICAgICogdGhlIHByb3RvdHlwZSBvbiB0aGUgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgUHJvcGVydGllcyB0byBpbml0aWFsaXplIG9uIHRoZSBwcm90b3R5cGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvdG9Qcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICB0aGlzLl9fZGF0YSA9IE9iamVjdC5jcmVhdGUocHJvcHMpO1xuICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0gT2JqZWN0LmNyZWF0ZShwcm9wcyk7XG4gICAgICB0aGlzLl9fZGF0YU9sZCA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlBY2Nlc3NvcnNgIGltcGxlbWVudGF0aW9uIHRvIGF2b2lkIHNldHRpbmdcbiAgICAgKiBgX3NldFByb3BlcnR5YCdzIGBzaG91bGROb3RpZnk6IHRydWVgLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BlcnRpZXMgdG8gaW5pdGlhbGl6ZSBvbiB0aGUgaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9pbml0aWFsaXplSW5zdGFuY2VQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBsZXQgcmVhZE9ubHkgPSB0aGlzW1RZUEVTLlJFQURfT05MWV07XG4gICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7XG4gICAgICAgIGlmICghcmVhZE9ubHkgfHwgIXJlYWRPbmx5W3Byb3BdKSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFQZW5kaW5nID0gdGhpcy5fX2RhdGFQZW5kaW5nIHx8IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhT2xkID0gdGhpcy5fX2RhdGFPbGQgfHwge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFbcHJvcF0gPSB0aGlzLl9fZGF0YVBlbmRpbmdbcHJvcF0gPSBwcm9wc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFByb3RvdHlwZSBzZXR1cCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgYWRkUHJvcGVydHlFZmZlY3RgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0aGF0IHNob3VsZCB0cmlnZ2VyIHRoZSBlZmZlY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFZmZlY3QgdHlwZSwgZnJvbSB0aGlzLlBST1BFUlRZX0VGRkVDVF9UWVBFU1xuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZWZmZWN0IEVmZmVjdCBtZXRhZGF0YSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIHR5cGUsIGVmZmVjdCkge1xuICAgICAgdGhpcy5fY3JlYXRlUHJvcGVydHlBY2Nlc3Nvcihwcm9wZXJ0eSwgdHlwZSA9PSBUWVBFUy5SRUFEX09OTFkpO1xuICAgICAgLy8gZWZmZWN0cyBhcmUgYWNjdW11bGF0ZWQgaW50byBhcnJheXMgcGVyIHByb3BlcnR5IGJhc2VkIG9uIHR5cGVcbiAgICAgIGxldCBlZmZlY3RzID0gZW5zdXJlT3duRWZmZWN0TWFwKHRoaXMsIHR5cGUpW3Byb3BlcnR5XTtcbiAgICAgIGlmICghZWZmZWN0cykge1xuICAgICAgICBlZmZlY3RzID0gdGhpc1t0eXBlXVtwcm9wZXJ0eV0gPSBbXTtcbiAgICAgIH1cbiAgICAgIGVmZmVjdHMucHVzaChlZmZlY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIHByb3BlcnR5IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0aGUgZWZmZWN0IHdhcyBhc3NvY2lhdGVkIHdpdGhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBFZmZlY3QgdHlwZSwgZnJvbSB0aGlzLlBST1BFUlRZX0VGRkVDVF9UWVBFU1xuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZWZmZWN0IEVmZmVjdCBtZXRhZGF0YSBvYmplY3QgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfcmVtb3ZlUHJvcGVydHlFZmZlY3QocHJvcGVydHksIHR5cGUsIGVmZmVjdCkge1xuICAgICAgbGV0IGVmZmVjdHMgPSBlbnN1cmVPd25FZmZlY3RNYXAodGhpcywgdHlwZSlbcHJvcGVydHldO1xuICAgICAgbGV0IGlkeCA9IGVmZmVjdHMuaW5kZXhPZihlZmZlY3QpO1xuICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgIGVmZmVjdHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJyZW50IHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYSBwcm9wZXJ0eSBlZmZlY3RcbiAgICAgKiBvZiBhIGNlcnRhaW4gdHlwZS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSB0eXBlIEVmZmVjdCB0eXBlLCBmcm9tIHRoaXMuUFJPUEVSVFlfRUZGRUNUX1RZUEVTXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgdHlwZSkge1xuICAgICAgbGV0IGVmZmVjdHMgPSB0aGlzW3R5cGVdO1xuICAgICAgcmV0dXJuIEJvb2xlYW4oZWZmZWN0cyAmJiBlZmZlY3RzW3Byb3BlcnR5XSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJyZW50IHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYSBcInJlYWQgb25seVwiXG4gICAgICogYWNjZXNzb3IgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhbiBlZmZlY3Qgb2YgdGhpc1xuICAgICAqICAgICB0eXBlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYXNSZWFkT25seUVmZmVjdChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc1Byb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5SRUFEX09OTFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgXCJub3RpZnlcIlxuICAgICAqIHByb3BlcnR5IGVmZmVjdCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGFuIGVmZmVjdCBvZiB0aGlzXG4gICAgICogICAgIHR5cGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhc05vdGlmeUVmZmVjdChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc1Byb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5OT1RJRlkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgY3VycmVudCBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGEgXCJyZWZsZWN0IHRvXG4gICAgICogYXR0cmlidXRlXCIgcHJvcGVydHkgZWZmZWN0IGZvciB0aGUgZ2l2ZW4gcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIHByb3RvdHlwZS9pbnN0YW5jZSBoYXMgYW4gZWZmZWN0IG9mIHRoaXNcbiAgICAgKiAgICAgdHlwZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFzUmVmbGVjdEVmZmVjdChwcm9wZXJ0eSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc1Byb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5SRUZMRUNUKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnJlbnQgcHJvdG90eXBlL2luc3RhbmNlIGhhcyBhIFwiY29tcHV0ZWRcIlxuICAgICAqIHByb3BlcnR5IGVmZmVjdCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBwcm90b3R5cGUvaW5zdGFuY2UgaGFzIGFuIGVmZmVjdCBvZiB0aGlzXG4gICAgICogICAgIHR5cGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhc0NvbXB1dGVkRWZmZWN0KHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gdGhpcy5faGFzUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLkNPTVBVVEUpO1xuICAgIH1cblxuICAgIC8vIFJ1bnRpbWUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHBlbmRpbmcgcHJvcGVydHkgb3IgcGF0aC4gIElmIHRoZSByb290IHByb3BlcnR5IG9mIHRoZSBwYXRoIGluXG4gICAgICogcXVlc3Rpb24gaGFkIG5vIGFjY2Vzc29yLCB0aGUgcGF0aCBpcyBzZXQsIG90aGVyd2lzZSBpdCBpcyBlbnF1ZXVlZFxuICAgICAqIHZpYSBgX3NldFBlbmRpbmdQcm9wZXJ0eWAuXG4gICAgICpcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzb2xhdGVzIHJlbGF0aXZlbHkgZXhwZW5zaXZlIGZ1bmN0aW9uYWxpdHkgbmVjZXNzYXJ5XG4gICAgICogZm9yIHRoZSBwdWJsaWMgQVBJIChgc2V0YCwgYHNldFByb3BlcnRpZXNgLCBgbm90aWZ5UGF0aGAsIGFuZCBwcm9wZXJ0eVxuICAgICAqIGNoYW5nZSBsaXN0ZW5lcnMgdmlhIHt7Li4ufX0gYmluZGluZ3MpLCBzdWNoIHRoYXQgaXQgaXMgb25seSBkb25lXG4gICAgICogd2hlbiBwYXRocyBlbnRlciB0aGUgc3lzdGVtLCBhbmQgbm90IGF0IGV2ZXJ5IHByb3BhZ2F0aW9uIHN0ZXAuICBJdFxuICAgICAqIGFsc28gc2V0cyBhIGBfX2RhdGFIYXNQYXRoc2AgZmxhZyBvbiB0aGUgaW5zdGFuY2Ugd2hpY2ggaXMgdXNlZCB0b1xuICAgICAqIGZhc3QtcGF0aCBzbG93ZXIgcGF0aC1tYXRjaGluZyBjb2RlIGluIHRoZSBwcm9wZXJ0eSBlZmZlY3RzIGhvc3QgcGF0aHMuXG4gICAgICpcbiAgICAgKiBgcGF0aGAgY2FuIGJlIGEgcGF0aCBzdHJpbmcgb3IgYXJyYXkgb2YgcGF0aCBwYXJ0cyBhcyBhY2NlcHRlZCBieSB0aGVcbiAgICAgKiBwdWJsaWMgQVBJLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8bnVtYmVyfHN0cmluZz59IHBhdGggUGF0aCB0byBzZXRcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHNob3VsZE5vdGlmeSBTZXQgdG8gdHJ1ZSBpZiB0aGlzIGNoYW5nZSBzaG91bGRcbiAgICAgKiAgY2F1c2UgYSBwcm9wZXJ0eSBub3RpZmljYXRpb24gZXZlbnQgZGlzcGF0Y2hcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBpc1BhdGhOb3RpZmljYXRpb24gSWYgdGhlIHBhdGggYmVpbmcgc2V0IGlzIGEgcGF0aFxuICAgICAqICAgbm90aWZpY2F0aW9uIG9mIGFuIGFscmVhZHkgY2hhbmdlZCB2YWx1ZSwgYXMgb3Bwb3NlZCB0byBhIHJlcXVlc3RcbiAgICAgKiAgIHRvIHNldCBhbmQgbm90aWZ5IHRoZSBjaGFuZ2UuICBJbiB0aGUgbGF0dGVyIGBmYWxzZWAgY2FzZSwgYSBkaXJ0eVxuICAgICAqICAgY2hlY2sgaXMgcGVyZm9ybWVkIGFuZCB0aGVuIHRoZSB2YWx1ZSBpcyBzZXQgdG8gdGhlIHBhdGggYmVmb3JlXG4gICAgICogICBlbnF1ZXVpbmcgdGhlIHBlbmRpbmcgcHJvcGVydHkgY2hhbmdlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvcGVydHkvcGF0aCB3YXMgZW5xdWV1ZWQgaW5cbiAgICAgKiAgIHRoZSBwZW5kaW5nIGNoYW5nZXMgYmFnLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHBhdGgsIHZhbHVlLCBzaG91bGROb3RpZnksIGlzUGF0aE5vdGlmaWNhdGlvbikge1xuICAgICAgaWYgKGlzUGF0aE5vdGlmaWNhdGlvbiB8fFxuICAgICAgICAgIHJvb3QoQXJyYXkuaXNBcnJheShwYXRoKSA/IHBhdGhbMF0gOiBwYXRoKSAhPT0gcGF0aCkge1xuICAgICAgICAvLyBEaXJ0eSBjaGVjayBjaGFuZ2VzIGJlaW5nIHNldCB0byBhIHBhdGggYWdhaW5zdCB0aGUgYWN0dWFsIG9iamVjdCxcbiAgICAgICAgLy8gc2luY2UgdGhpcyBpcyB0aGUgZW50cnkgcG9pbnQgZm9yIHBhdGhzIGludG8gdGhlIHN5c3RlbTsgZnJvbSBoZXJlXG4gICAgICAgIC8vIHRoZSBvbmx5IGRpcnR5IGNoZWNrcyBhcmUgYWdhaW5zdCB0aGUgYF9fZGF0YVRlbXBgIGNhY2hlIHRvIHByZXZlbnRcbiAgICAgICAgLy8gZHVwbGljYXRlIHdvcmsgaW4gdGhlIHNhbWUgdHVybiBvbmx5LiBOb3RlLCBpZiB0aGlzIHdhcyBhIG5vdGlmaWNhdGlvblxuICAgICAgICAvLyBvZiBhIGNoYW5nZSBhbHJlYWR5IHNldCB0byBhIHBhdGggKGlzUGF0aE5vdGlmaWNhdGlvbjogdHJ1ZSksXG4gICAgICAgIC8vIHdlIGFsd2F5cyBsZXQgdGhlIGNoYW5nZSB0aHJvdWdoIGFuZCBza2lwIHRoZSBgc2V0YCBzaW5jZSBpdCB3YXNcbiAgICAgICAgLy8gYWxyZWFkeSBkaXJ0eSBjaGVja2VkIGF0IHRoZSBwb2ludCBvZiBlbnRyeSBhbmQgdGhlIHVuZGVybHlpbmdcbiAgICAgICAgLy8gb2JqZWN0IGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZFxuICAgICAgICBpZiAoIWlzUGF0aE5vdGlmaWNhdGlvbikge1xuICAgICAgICAgIGxldCBvbGQgPSBnZXQodGhpcywgcGF0aCk7XG4gICAgICAgICAgcGF0aCA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoc2V0KHRoaXMsIHBhdGgsIHZhbHVlKSk7XG4gICAgICAgICAgLy8gVXNlIHByb3BlcnR5LWFjY2Vzc29yJ3Mgc2ltcGxlciBkaXJ0eSBjaGVja1xuICAgICAgICAgIGlmICghcGF0aCB8fCAhc3VwZXIuX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHBhdGgsIHZhbHVlLCBvbGQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19kYXRhSGFzUGF0aHMgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5KC8qKkB0eXBle3N0cmluZ30qLyhwYXRoKSwgdmFsdWUsIHNob3VsZE5vdGlmeSkpIHtcbiAgICAgICAgICBjb21wdXRlTGlua2VkUGF0aHModGhpcywgLyoqQHR5cGV7c3RyaW5nfSovIChwYXRoKSwgdmFsdWUpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5fX2RhdGFIYXNBY2Nlc3NvciAmJiB0aGlzLl9fZGF0YUhhc0FjY2Vzc29yW3BhdGhdKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eSgvKipAdHlwZXtzdHJpbmd9Ki8ocGF0aCksIHZhbHVlLCBzaG91bGROb3RpZnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXNbcGF0aF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYSB2YWx1ZSB0byBhIG5vbi1Qb2x5bWVyIGVsZW1lbnQvbm9kZSdzIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogVGhlIGltcGxlbWVudGF0aW9uIG1ha2VzIGEgYmVzdC1lZmZvcnQgYXQgYmluZGluZyBpbnRlcm9wOlxuICAgICAqIFNvbWUgbmF0aXZlIGVsZW1lbnQgcHJvcGVydGllcyBoYXZlIHNpZGUtZWZmZWN0cyB3aGVuXG4gICAgICogcmUtc2V0dGluZyB0aGUgc2FtZSB2YWx1ZSAoZS5nLiBzZXR0aW5nIGA8aW5wdXQ+LnZhbHVlYCByZXNldHMgdGhlXG4gICAgICogY3Vyc29yIHBvc2l0aW9uKSwgc28gd2UgZG8gYSBkaXJ0eS1jaGVjayBiZWZvcmUgc2V0dGluZyB0aGUgdmFsdWUuXG4gICAgICogSG93ZXZlciwgZm9yIGJldHRlciBpbnRlcm9wIHdpdGggbm9uLVBvbHltZXIgY3VzdG9tIGVsZW1lbnRzIHRoYXRcbiAgICAgKiBhY2NlcHQgb2JqZWN0cywgd2UgZXhwbGljaXRseSByZS1zZXQgb2JqZWN0IGNoYW5nZXMgY29taW5nIGZyb20gdGhlXG4gICAgICogUG9seW1lciB3b3JsZCAod2hpY2ggbWF5IGluY2x1ZGUgZGVlcCBvYmplY3QgY2hhbmdlcyB3aXRob3V0IHRoZVxuICAgICAqIHRvcCByZWZlcmVuY2UgY2hhbmdpbmcpLCBlcnJpbmcgb24gdGhlIHNpZGUgb2YgcHJvdmlkaW5nIG1vcmVcbiAgICAgKiBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwcm92aWRlIGFsdGVybmF0ZSBhcHByb2FjaGVzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBUaGUgbm9kZSB0byBzZXQgYSBwcm9wZXJ0eSBvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFRoZSBwcm9wZXJ0eSB0byBzZXRcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfc2V0VW5tYW5hZ2VkUHJvcGVydHlUb05vZGUobm9kZSwgcHJvcCwgdmFsdWUpIHtcbiAgICAgIC8vIEl0IGlzIGEganVkZ21lbnQgY2FsbCB0aGF0IHJlc2V0dGluZyBwcmltaXRpdmVzIGlzXG4gICAgICAvLyBcImJhZFwiIGFuZCByZXNldHRpbmdzIG9iamVjdHMgaXMgYWxzbyBcImdvb2RcIjsgYWx0ZXJuYXRpdmVseSB3ZSBjb3VsZFxuICAgICAgLy8gaW1wbGVtZW50IGEgd2hpdGVsaXN0IG9mIHRhZyAmIHByb3BlcnR5IHZhbHVlcyB0aGF0IHNob3VsZCBuZXZlclxuICAgICAgLy8gYmUgcmVzZXQgKGUuZy4gPGlucHV0Pi52YWx1ZSAmJiA8c2VsZWN0Pi52YWx1ZSlcbiAgICAgIGlmICh2YWx1ZSAhPT0gbm9kZVtwcm9wXSB8fCB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm90ZSwgY2xhc3NOYW1lIG5lZWRzIHN0eWxlIHNjb3Bpbmcgc28gdGhpcyBuZWVkcyB3cmFwcGluZy5cbiAgICAgICAgaWYgKHByb3AgPT09ICdjbGFzc05hbWUnKSB7XG4gICAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7IU5vZGV9ICovKHdyYXAobm9kZSkpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGVbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgdGhlIGBQcm9wZXJ0aWVzQ2hhbmdlZGAgaW1wbGVtZW50YXRpb24gdG8gaW50cm9kdWNlIHNwZWNpYWxcbiAgICAgKiBkaXJ0eSBjaGVjayBsb2dpYyBkZXBlbmRpbmcgb24gdGhlIHByb3BlcnR5ICYgdmFsdWUgYmVpbmcgc2V0OlxuICAgICAqXG4gICAgICogMS4gQW55IHZhbHVlIHNldCB0byBhIHBhdGggKGUuZy4gJ29iai5wcm9wJzogNDIgb3IgJ29iai5wcm9wJzogey4uLn0pXG4gICAgICogICAgU3RvcmVkIGluIGBfX2RhdGFUZW1wYCwgZGlydHkgY2hlY2tlZCBhZ2FpbnN0IGBfX2RhdGFUZW1wYFxuICAgICAqIDIuIE9iamVjdCBzZXQgdG8gc2ltcGxlIHByb3BlcnR5IChlLmcuICdwcm9wJzogey4uLn0pXG4gICAgICogICAgU3RvcmVkIGluIGBfX2RhdGFUZW1wYCBhbmQgYF9fZGF0YWAsIGRpcnR5IGNoZWNrZWQgYWdhaW5zdFxuICAgICAqICAgIGBfX2RhdGFUZW1wYCBieSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIGBfc2hvdWxkUHJvcGVydHlDaGFuZ2VgXG4gICAgICogMy4gUHJpbWl0aXZlIHZhbHVlIHNldCB0byBzaW1wbGUgcHJvcGVydHkgKGUuZy4gJ3Byb3AnOiA0MilcbiAgICAgKiAgICBTdG9yZWQgaW4gYF9fZGF0YWAsIGRpcnR5IGNoZWNrZWQgYWdhaW5zdCBgX19kYXRhYFxuICAgICAqXG4gICAgICogVGhlIGRpcnR5LWNoZWNrIGlzIGltcG9ydGFudCB0byBwcmV2ZW50IGN5Y2xlcyBkdWUgdG8gdHdvLXdheVxuICAgICAqIG5vdGlmaWNhdGlvbiwgYnV0IHBhdGhzIGFuZCBvYmplY3RzIGFyZSBvbmx5IGRpcnR5IGNoZWNrZWQgYWdhaW5zdCBhbnlcbiAgICAgKiBwcmV2aW91cyB2YWx1ZSBzZXQgZHVyaW5nIHRoaXMgdHVybiB2aWEgYSBcInRlbXBvcmFyeSBjYWNoZVwiIHRoYXQgaXNcbiAgICAgKiBjbGVhcmVkIHdoZW4gdGhlIGxhc3QgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgZXhpdHMuIFRoaXMgaXMgc286XG4gICAgICogYS4gYW55IGNhY2hlZCBhcnJheSBwYXRocyAoZS5nLiAnYXJyYXkuMy5wcm9wJykgbWF5IGJlIGludmFsaWRhdGVkXG4gICAgICogICAgZHVlIHRvIGFycmF5IG11dGF0aW9ucyBsaWtlIHNoaWZ0L3Vuc2hpZnQvc3BsaWNlOyB0aGlzIGlzIGZpbmVcbiAgICAgKiAgICBzaW5jZSBwYXRoIGNoYW5nZXMgYXJlIGRpcnR5LWNoZWNrZWQgYXQgdXNlciBlbnRyeSBwb2ludHMgbGlrZSBgc2V0YFxuICAgICAqIGIuIGRpcnR5LWNoZWNraW5nIGZvciBvYmplY3RzIG9ubHkgbGFzdHMgb25lIHR1cm4gdG8gYWxsb3cgdGhlIHVzZXJcbiAgICAgKiAgICB0byBtdXRhdGUgdGhlIG9iamVjdCBpbi1wbGFjZSBhbmQgcmUtc2V0IGl0IHdpdGggdGhlIHNhbWUgaWRlbnRpdHlcbiAgICAgKiAgICBhbmQgaGF2ZSBhbGwgc3ViLXByb3BlcnRpZXMgcmUtcHJvcGFnYXRlZCBpbiBhIHN1YnNlcXVlbnQgdHVybi5cbiAgICAgKlxuICAgICAqIFRoZSB0ZW1wIGNhY2hlIGlzIG5vdCBuZWNlc3NhcmlseSBzdWZmaWNpZW50IHRvIHByZXZlbnQgaW52YWxpZCBhcnJheVxuICAgICAqIHBhdGhzLCBzaW5jZSBhIHNwbGljZSBjYW4gaGFwcGVuIGR1cmluZyB0aGUgc2FtZSB0dXJuICh3aXRoIHBhdGhvbG9naWNhbFxuICAgICAqIHVzZXIgY29kZSk7IHdlIGNvdWxkIGludHJvZHVjZSBhIFwiZml4dXBcIiBmb3IgdGVtcG9yYXJpbHkgY2FjaGVkIGFycmF5XG4gICAgICogcGF0aHMgaWYgbmVlZGVkOiBodHRwczovL2dpdGh1Yi5jb20vUG9seW1lci9wb2x5bWVyL2lzc3Vlcy80MjI3XG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHNob3VsZE5vdGlmeSBUcnVlIGlmIHByb3BlcnR5IHNob3VsZCBmaXJlIG5vdGlmaWNhdGlvblxuICAgICAqICAgZXZlbnQgKGFwcGxpZXMgb25seSBmb3IgYG5vdGlmeTogdHJ1ZWAgcHJvcGVydGllcylcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3BlcnR5IGNoYW5nZWRcbiAgICAgKi9cbiAgICBfc2V0UGVuZGluZ1Byb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSwgc2hvdWxkTm90aWZ5KSB7XG4gICAgICBsZXQgcHJvcElzUGF0aCA9IHRoaXMuX19kYXRhSGFzUGF0aHMgJiYgaXNQYXRoKHByb3BlcnR5KTtcbiAgICAgIGxldCBwcmV2UHJvcHMgPSBwcm9wSXNQYXRoID8gdGhpcy5fX2RhdGFUZW1wIDogdGhpcy5fX2RhdGE7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBwcmV2UHJvcHNbcHJvcGVydHldKSkge1xuICAgICAgICBpZiAoIXRoaXMuX19kYXRhUGVuZGluZykge1xuICAgICAgICAgIHRoaXMuX19kYXRhUGVuZGluZyA9IHt9O1xuICAgICAgICAgIHRoaXMuX19kYXRhT2xkID0ge307XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIG9sZCBpcyBjYXB0dXJlZCBmcm9tIHRoZSBsYXN0IHR1cm5cbiAgICAgICAgaWYgKCEocHJvcGVydHkgaW4gdGhpcy5fX2RhdGFPbGQpKSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFPbGRbcHJvcGVydHldID0gdGhpcy5fX2RhdGFbcHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBhdGhzIGFyZSBzdG9yZWQgaW4gdGVtcG9yYXJ5IGNhY2hlIChjbGVhcmVkIGF0IGVuZCBvZiB0dXJuKSxcbiAgICAgICAgLy8gd2hpY2ggaXMgdXNlZCBmb3IgZGlydHktY2hlY2tpbmcsIGFsbCBvdGhlcnMgc3RvcmVkIGluIF9fZGF0YVxuICAgICAgICBpZiAocHJvcElzUGF0aCkge1xuICAgICAgICAgIHRoaXMuX19kYXRhVGVtcFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9fZGF0YVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgY2hhbmdlcyBnbyBpbnRvIHBlbmRpbmcgcHJvcGVydHkgYmFnLCBwYXNzZWQgdG8gX3Byb3BlcnRpZXNDaGFuZ2VkXG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZ1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgLy8gVHJhY2sgcHJvcGVydGllcyB0aGF0IHNob3VsZCBub3RpZnkgc2VwYXJhdGVseVxuICAgICAgICBpZiAocHJvcElzUGF0aCB8fCAodGhpc1tUWVBFUy5OT1RJRlldICYmIHRoaXNbVFlQRVMuTk9USUZZXVtwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeSA9IHRoaXMuX19kYXRhVG9Ob3RpZnkgfHwge307XG4gICAgICAgICAgdGhpcy5fX2RhdGFUb05vdGlmeVtwcm9wZXJ0eV0gPSBzaG91bGROb3RpZnk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGJhc2UgaW1wbGVtZW50YXRpb24gdG8gZW5zdXJlIGFsbCBhY2Nlc3NvcnMgc2V0IGBzaG91bGROb3RpZnlgXG4gICAgICogdG8gdHJ1ZSwgZm9yIHBlci1wcm9wZXJ0eSBub3RpZmljYXRpb24gdHJhY2tpbmcuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX3NldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUsIHRydWUpKSB7XG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIGBQcm9wZXJ0eUFjY2Vzc29yYCdzIGRlZmF1bHQgYXN5bmMgcXVldWluZyBvZlxuICAgICAqIGBfcHJvcGVydGllc0NoYW5nZWRgOiBpZiBgX19kYXRhUmVhZHlgIGlzIGZhbHNlIChoYXMgbm90IHlldCBiZWVuXG4gICAgICogbWFudWFsbHkgZmx1c2hlZCksIHRoZSBmdW5jdGlvbiBuby1vcHM7IG90aGVyd2lzZSBmbHVzaGVzXG4gICAgICogYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgc3luY2hyb25vdXNseS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCkge1xuICAgICAgaWYgKHRoaXMuX19kYXRhUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5xdWV1ZXMgdGhlIGdpdmVuIGNsaWVudCBvbiBhIGxpc3Qgb2YgcGVuZGluZyBjbGllbnRzLCB3aG9zZVxuICAgICAqIHBlbmRpbmcgcHJvcGVydHkgY2hhbmdlcyBjYW4gbGF0ZXIgYmUgZmx1c2hlZCB2aWEgYSBjYWxsIHRvXG4gICAgICogYF9mbHVzaENsaWVudHNgLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNsaWVudCBQcm9wZXJ0eUVmZmVjdHMgY2xpZW50IHRvIGVucXVldWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfZW5xdWV1ZUNsaWVudChjbGllbnQpIHtcbiAgICAgIHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHMgPSB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzIHx8IFtdO1xuICAgICAgaWYgKGNsaWVudCAhPT0gdGhpcykge1xuICAgICAgICB0aGlzLl9fZGF0YVBlbmRpbmdDbGllbnRzLnB1c2goY2xpZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgc3VwZXJjbGFzcyBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9mbHVzaFByb3BlcnRpZXMoKSB7XG4gICAgICB0aGlzLl9fZGF0YUNvdW50ZXIrKztcbiAgICAgIHN1cGVyLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICAgIHRoaXMuX19kYXRhQ291bnRlci0tO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZsdXNoZXMgYW55IGNsaWVudHMgcHJldmlvdXNseSBlbnF1ZXVlZCB2aWEgYF9lbnF1ZXVlQ2xpZW50YCwgY2F1c2luZ1xuICAgICAqIHRoZWlyIGBfZmx1c2hQcm9wZXJ0aWVzYCBtZXRob2QgdG8gcnVuLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2ZsdXNoQ2xpZW50cygpIHtcbiAgICAgIGlmICghdGhpcy5fX2RhdGFDbGllbnRzUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fX2RhdGFDbGllbnRzUmVhZHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZWFkeUNsaWVudHMoKTtcbiAgICAgICAgLy8gT3ZlcnJpZGUgcG9pbnQgd2hlcmUgYWNjZXNzb3JzIGFyZSB0dXJuZWQgb247IGltcG9ydGFudGx5LFxuICAgICAgICAvLyB0aGlzIGlzIGFmdGVyIGNsaWVudHMgaGF2ZSBmdWxseSByZWFkaWVkLCBwcm92aWRpbmcgYSBndWFyYW50ZWVcbiAgICAgICAgLy8gdGhhdCBhbnkgcHJvcGVydHkgZWZmZWN0cyBvY2N1ciBvbmx5IGFmdGVyIGFsbCBjbGllbnRzIGFyZSByZWFkeS5cbiAgICAgICAgdGhpcy5fX2RhdGFSZWFkeSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fZW5hYmxlT3JGbHVzaENsaWVudHMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOT1RFOiBXZSBlbnN1cmUgY2xpZW50cyBlaXRoZXIgZW5hYmxlIG9yIGZsdXNoIGFzIGFwcHJvcHJpYXRlLiBUaGlzXG4gICAgLy8gaGFuZGxlcyB0d28gY29ybmVyIGNhc2VzOlxuICAgIC8vICgxKSBjbGllbnRzIGZsdXNoIHByb3Blcmx5IHdoZW4gY29ubmVjdGVkL2VuYWJsZWQgYmVmb3JlIHRoZSBob3N0XG4gICAgLy8gZW5hYmxlczsgZS5nLlxuICAgIC8vICAgKGEpIFRlbXBsYXRpemUgc3RhbXBzIHdpdGggbm8gcHJvcGVydGllcyBhbmQgZG9lcyBub3QgZmx1c2ggYW5kXG4gICAgLy8gICAoYikgdGhlIGluc3RhbmNlIGlzIGluc2VydGVkIGludG8gZG9tIGFuZFxuICAgIC8vICAgKGMpIHRoZW4gdGhlIGluc3RhbmNlIGZsdXNoZXMuXG4gICAgLy8gKDIpIGNsaWVudHMgZW5hYmxlIHByb3Blcmx5IHdoZW4gbm90IGNvbm5lY3RlZC9lbmFibGVkIHdoZW4gdGhlIGhvc3RcbiAgICAvLyBmbHVzaGVzOyBlLmcuXG4gICAgLy8gICAoYSkgYSB0ZW1wbGF0ZSBpcyBydW50aW1lIHN0YW1wZWQgYW5kIG5vdCB5ZXQgY29ubmVjdGVkL2VuYWJsZWRcbiAgICAvLyAgIChiKSBhIGhvc3Qgc2V0cyBhIHByb3BlcnR5LCBjYXVzaW5nIHN0YW1wZWQgZG9tIHRvIGZsdXNoXG4gICAgLy8gICAoYykgdGhlIHN0YW1wZWQgZG9tIGVuYWJsZXMuXG4gICAgX19lbmFibGVPckZsdXNoQ2xpZW50cygpIHtcbiAgICAgIGxldCBjbGllbnRzID0gdGhpcy5fX2RhdGFQZW5kaW5nQ2xpZW50cztcbiAgICAgIGlmIChjbGllbnRzKSB7XG4gICAgICAgIHRoaXMuX19kYXRhUGVuZGluZ0NsaWVudHMgPSBudWxsO1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBjbGllbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGNsaWVudCA9IGNsaWVudHNbaV07XG4gICAgICAgICAgaWYgKCFjbGllbnQuX19kYXRhRW5hYmxlZCkge1xuICAgICAgICAgICAgY2xpZW50Ll9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjbGllbnQuX19kYXRhUGVuZGluZykge1xuICAgICAgICAgICAgY2xpZW50Ll9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtIGFueSBpbml0aWFsIHNldHVwIG9uIGNsaWVudCBkb20uIENhbGxlZCBiZWZvcmUgdGhlIGZpcnN0XG4gICAgICogYF9mbHVzaFByb3BlcnRpZXNgIGNhbGwgb24gY2xpZW50IGRvbSBhbmQgYmVmb3JlIGFueSBlbGVtZW50XG4gICAgICogb2JzZXJ2ZXJzIGFyZSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVhZHlDbGllbnRzKCkge1xuICAgICAgdGhpcy5fX2VuYWJsZU9yRmx1c2hDbGllbnRzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIGJhZyBvZiBwcm9wZXJ0eSBjaGFuZ2VzIHRvIHRoaXMgaW5zdGFuY2UsIGFuZFxuICAgICAqIHN5bmNocm9ub3VzbHkgcHJvY2Vzc2VzIGFsbCBlZmZlY3RzIG9mIHRoZSBwcm9wZXJ0aWVzIGFzIGEgYmF0Y2guXG4gICAgICpcbiAgICAgKiBQcm9wZXJ0eSBuYW1lcyBtdXN0IGJlIHNpbXBsZSBwcm9wZXJ0aWVzLCBub3QgcGF0aHMuICBCYXRjaGVkXG4gICAgICogcGF0aCBwcm9wYWdhdGlvbiBpcyBub3Qgc3VwcG9ydGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBvbmUgb3IgbW9yZSBrZXktdmFsdWUgcGFpcnMgd2hvc2Uga2V5IGlzXG4gICAgICogICBhIHByb3BlcnR5IGFuZCB2YWx1ZSBpcyB0aGUgbmV3IHZhbHVlIHRvIHNldCBmb3IgdGhhdCBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBzZXRSZWFkT25seSBXaGVuIHRydWUsIGFueSBwcml2YXRlIHZhbHVlcyBzZXQgaW5cbiAgICAgKiAgIGBwcm9wc2Agd2lsbCBiZSBzZXQuIEJ5IGRlZmF1bHQsIGBzZXRQcm9wZXJ0aWVzYCB3aWxsIG5vdCBzZXRcbiAgICAgKiAgIGByZWFkT25seTogdHJ1ZWAgcm9vdCBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHNldFByb3BlcnRpZXMocHJvcHMsIHNldFJlYWRPbmx5KSB7XG4gICAgICBmb3IgKGxldCBwYXRoIGluIHByb3BzKSB7XG4gICAgICAgIGlmIChzZXRSZWFkT25seSB8fCAhdGhpc1tUWVBFUy5SRUFEX09OTFldIHx8ICF0aGlzW1RZUEVTLlJFQURfT05MWV1bcGF0aF0pIHtcbiAgICAgICAgICAvL1RPRE8oa3NjaGFhZik6IGV4cGxpY2l0bHkgZGlzYWxsb3cgcGF0aHMgaW4gc2V0UHJvcGVydHk/XG4gICAgICAgICAgLy8gd2lsZGNhcmQgb2JzZXJ2ZXJzIGN1cnJlbnRseSBvbmx5IHBhc3MgdGhlIGZpcnN0IGNoYW5nZWQgcGF0aFxuICAgICAgICAgIC8vIGluIHRoZSBgaW5mb2Agb2JqZWN0LCBhbmQgeW91IGNvdWxkIGRvIHNvbWUgb2RkIHRoaW5ncyBiYXRjaGluZ1xuICAgICAgICAgIC8vIHBhdGhzLCBlLmcuIHsnZm9vLmJhcic6IHsuLi59LCAnZm9vJzogbnVsbH1cbiAgICAgICAgICB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocGF0aCwgcHJvcHNbcGF0aF0sIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9pbnZhbGlkYXRlUHJvcGVydGllcygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlBY2Nlc3NvcnNgIHNvIHRoYXQgcHJvcGVydHkgYWNjZXNzb3JcbiAgICAgKiBzaWRlIGVmZmVjdHMgYXJlIG5vdCBlbmFibGVkIHVudGlsIGFmdGVyIGNsaWVudCBkb20gaXMgZnVsbHkgcmVhZHkuXG4gICAgICogQWxzbyBjYWxscyBgX2ZsdXNoQ2xpZW50c2AgY2FsbGJhY2sgdG8gZW5zdXJlIGNsaWVudCBkb20gaXMgZW5hYmxlZFxuICAgICAqIHRoYXQgd2FzIG5vdCBlbmFibGVkIGFzIGEgcmVzdWx0IG9mIGZsdXNoaW5nIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgLy8gSXQgaXMgaW1wb3J0YW50IHRoYXQgYHN1cGVyLnJlYWR5KClgIGlzIG5vdCBjYWxsZWQgaGVyZSBhcyBpdFxuICAgICAgLy8gaW1tZWRpYXRlbHkgdHVybnMgb24gYWNjZXNzb3JzLiBJbnN0ZWFkLCB3ZSB3YWl0IHVudGlsIGByZWFkeUNsaWVudHNgXG4gICAgICAvLyB0byBlbmFibGUgYWNjZXNzb3JzIHRvIHByb3ZpZGUgYSBndWFyYW50ZWUgdGhhdCBjbGllbnRzIGFyZSByZWFkeVxuICAgICAgLy8gYmVmb3JlIHByb2Nlc3NpbmcgYW55IGFjY2Vzc29ycyBzaWRlIGVmZmVjdHMuXG4gICAgICB0aGlzLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICAgIC8vIElmIG5vIGRhdGEgd2FzIHBlbmRpbmcsIGBfZmx1c2hQcm9wZXJ0aWVzYCB3aWxsIG5vdCBgZmx1c2hDbGllbnRzYFxuICAgICAgLy8gc28gZW5zdXJlIHRoaXMgaXMgZG9uZS5cbiAgICAgIGlmICghdGhpcy5fX2RhdGFDbGllbnRzUmVhZHkpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hDbGllbnRzKCk7XG4gICAgICB9XG4gICAgICAvLyBCZWZvcmUgcmVhZHksIGNsaWVudCBub3RpZmljYXRpb25zIGRvIG5vdCB0cmlnZ2VyIF9mbHVzaFByb3BlcnRpZXMuXG4gICAgICAvLyBUaGVyZWZvcmUgYSBmbHVzaCBpcyBuZWNlc3NhcnkgaGVyZSBpZiBkYXRhIGhhcyBiZWVuIHNldC5cbiAgICAgIGlmICh0aGlzLl9fZGF0YVBlbmRpbmcpIHtcbiAgICAgICAgdGhpcy5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBgUHJvcGVydHlBY2Nlc3NvcnNgJ3MgcHJvcGVydGllcyBjaGFuZ2VkIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogUnVucyBlYWNoIGNsYXNzIG9mIGVmZmVjdHMgZm9yIHRoZSBiYXRjaCBvZiBjaGFuZ2VkIHByb3BlcnRpZXMgaW5cbiAgICAgKiBhIHNwZWNpZmljIG9yZGVyIChjb21wdXRlLCBwcm9wYWdhdGUsIHJlZmxlY3QsIG9ic2VydmUsIG5vdGlmeSkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IGN1cnJlbnRQcm9wcyBCYWcgb2YgYWxsIGN1cnJlbnQgYWNjZXNzb3IgdmFsdWVzXG4gICAgICogQHBhcmFtIHs/T2JqZWN0fSBjaGFuZ2VkUHJvcHMgQmFnIG9mIHByb3BlcnRpZXMgY2hhbmdlZCBzaW5jZSB0aGUgbGFzdFxuICAgICAqICAgY2FsbCB0byBgX3Byb3BlcnRpZXNDaGFuZ2VkYFxuICAgICAqIEBwYXJhbSB7P09iamVjdH0gb2xkUHJvcHMgQmFnIG9mIHByZXZpb3VzIHZhbHVlcyBmb3IgZWFjaCBwcm9wZXJ0eVxuICAgICAqICAgaW4gYGNoYW5nZWRQcm9wc2BcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9wcm9wZXJ0aWVzQ2hhbmdlZChjdXJyZW50UHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMpIHtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIC8vIGxldCBjID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY2hhbmdlZFByb3BzIHx8IHt9KTtcbiAgICAgIC8vIHdpbmRvdy5kZWJ1ZyAmJiBjb25zb2xlLmdyb3VwKHRoaXMubG9jYWxOYW1lICsgJyMnICsgdGhpcy5pZCArICc6ICcgKyBjKTtcbiAgICAgIC8vIGlmICh3aW5kb3cuZGVidWcpIHsgZGVidWdnZXI7IH1cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGxldCBoYXNQYXRocyA9IHRoaXMuX19kYXRhSGFzUGF0aHM7XG4gICAgICB0aGlzLl9fZGF0YUhhc1BhdGhzID0gZmFsc2U7XG4gICAgICAvLyBDb21wdXRlIHByb3BlcnRpZXNcbiAgICAgIHJ1bkNvbXB1dGVkRWZmZWN0cyh0aGlzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICAvLyBDbGVhciBub3RpZnkgcHJvcGVydGllcyBwcmlvciB0byBwb3NzaWJsZSByZWVudHJ5IChwcm9wYWdhdGUsIG9ic2VydmUpLFxuICAgICAgLy8gYnV0IGFmdGVyIGNvbXB1dGluZyBlZmZlY3RzIGhhdmUgYSBjaGFuY2UgdG8gYWRkIHRvIHRoZW1cbiAgICAgIGxldCBub3RpZnlQcm9wcyA9IHRoaXMuX19kYXRhVG9Ob3RpZnk7XG4gICAgICB0aGlzLl9fZGF0YVRvTm90aWZ5ID0gbnVsbDtcbiAgICAgIC8vIFByb3BhZ2F0ZSBwcm9wZXJ0aWVzIHRvIGNsaWVudHNcbiAgICAgIHRoaXMuX3Byb3BhZ2F0ZVByb3BlcnR5Q2hhbmdlcyhjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICAvLyBGbHVzaCBjbGllbnRzXG4gICAgICB0aGlzLl9mbHVzaENsaWVudHMoKTtcbiAgICAgIC8vIFJlZmxlY3QgcHJvcGVydGllc1xuICAgICAgcnVuRWZmZWN0cyh0aGlzLCB0aGlzW1RZUEVTLlJFRkxFQ1RdLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICAvLyBPYnNlcnZlIHByb3BlcnRpZXNcbiAgICAgIHJ1bkVmZmVjdHModGhpcywgdGhpc1tUWVBFUy5PQlNFUlZFXSwgY2hhbmdlZFByb3BzLCBvbGRQcm9wcywgaGFzUGF0aHMpO1xuICAgICAgLy8gTm90aWZ5IHByb3BlcnRpZXMgdG8gaG9zdFxuICAgICAgaWYgKG5vdGlmeVByb3BzKSB7XG4gICAgICAgIHJ1bk5vdGlmeUVmZmVjdHModGhpcywgbm90aWZ5UHJvcHMsIGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKTtcbiAgICAgIH1cbiAgICAgIC8vIENsZWFyIHRlbXBvcmFyeSBjYWNoZSBhdCBlbmQgb2YgdHVyblxuICAgICAgaWYgKHRoaXMuX19kYXRhQ291bnRlciA9PSAxKSB7XG4gICAgICAgIHRoaXMuX19kYXRhVGVtcCA9IHt9O1xuICAgICAgfVxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgLy8gd2luZG93LmRlYnVnICYmIGNvbnNvbGUuZ3JvdXBFbmQodGhpcy5sb2NhbE5hbWUgKyAnIycgKyB0aGlzLmlkICsgJzogJyArIGMpO1xuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB0byBwcm9wYWdhdGUgYW55IHByb3BlcnR5IGNoYW5nZXMgdG8gc3RhbXBlZCB0ZW1wbGF0ZSBub2Rlc1xuICAgICAqIG1hbmFnZWQgYnkgdGhpcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNoYW5nZWRQcm9wcyBCYWcgb2YgY2hhbmdlZCBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9sZFByb3BzIEJhZyBvZiBwcmV2aW91cyB2YWx1ZXMgZm9yIGNoYW5nZWQgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGFzUGF0aHMgVHJ1ZSB3aXRoIGBwcm9wc2AgY29udGFpbnMgb25lIG9yIG1vcmUgcGF0aHNcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcHJvcGFnYXRlUHJvcGVydHlDaGFuZ2VzKGNoYW5nZWRQcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSB7XG4gICAgICBpZiAodGhpc1tUWVBFUy5QUk9QQUdBVEVdKSB7XG4gICAgICAgIHJ1bkVmZmVjdHModGhpcywgdGhpc1tUWVBFUy5QUk9QQUdBVEVdLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLCBoYXNQYXRocyk7XG4gICAgICB9XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5fX3RlbXBsYXRlSW5mbztcbiAgICAgIHdoaWxlICh0ZW1wbGF0ZUluZm8pIHtcbiAgICAgICAgcnVuRWZmZWN0cyh0aGlzLCB0ZW1wbGF0ZUluZm8ucHJvcGVydHlFZmZlY3RzLCBjaGFuZ2VkUHJvcHMsIG9sZFByb3BzLFxuICAgICAgICAgIGhhc1BhdGhzLCB0ZW1wbGF0ZUluZm8ubm9kZUxpc3QpO1xuICAgICAgICB0ZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm8ubmV4dFRlbXBsYXRlSW5mbztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbGlhc2VzIG9uZSBkYXRhIHBhdGggYXMgYW5vdGhlciwgc3VjaCB0aGF0IHBhdGggbm90aWZpY2F0aW9ucyBmcm9tIG9uZVxuICAgICAqIGFyZSByb3V0ZWQgdG8gdGhlIG90aGVyLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHRvIFRhcmdldCBwYXRoIHRvIGxpbmsuXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IGZyb20gU291cmNlIHBhdGggdG8gbGluay5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBsaW5rUGF0aHModG8sIGZyb20pIHtcbiAgICAgIHRvID0gbm9ybWFsaXplKHRvKTtcbiAgICAgIGZyb20gPSBub3JtYWxpemUoZnJvbSk7XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzID0gdGhpcy5fX2RhdGFMaW5rZWRQYXRocyB8fCB7fTtcbiAgICAgIHRoaXMuX19kYXRhTGlua2VkUGF0aHNbdG9dID0gZnJvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZGF0YSBwYXRoIGFsaWFzIHByZXZpb3VzbHkgZXN0YWJsaXNoZWQgd2l0aCBgX2xpbmtQYXRoc2AuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGUgcGF0aCB0byB1bmxpbmsgc2hvdWxkIGJlIHRoZSB0YXJnZXQgKGB0b2ApIHVzZWQgd2hlblxuICAgICAqIGxpbmtpbmcgdGhlIHBhdGhzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggVGFyZ2V0IHBhdGggdG8gdW5saW5rLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHVubGlua1BhdGhzKHBhdGgpIHtcbiAgICAgIHBhdGggPSBub3JtYWxpemUocGF0aCk7XG4gICAgICBpZiAodGhpcy5fX2RhdGFMaW5rZWRQYXRocykge1xuICAgICAgICBkZWxldGUgdGhpcy5fX2RhdGFMaW5rZWRQYXRoc1twYXRoXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhhdCBhbiBhcnJheSBoYXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEV4YW1wbGU6XG4gICAgICpcbiAgICAgKiAgICAgdGhpcy5pdGVtcyA9IFsge25hbWU6ICdKaW0nfSwge25hbWU6ICdUb2RkJ30sIHtuYW1lOiAnQmlsbCd9IF07XG4gICAgICogICAgIC4uLlxuICAgICAqICAgICB0aGlzLml0ZW1zLnNwbGljZSgxLCAxLCB7bmFtZTogJ1NhbSd9KTtcbiAgICAgKiAgICAgdGhpcy5pdGVtcy5wdXNoKHtuYW1lOiAnQm9iJ30pO1xuICAgICAqICAgICB0aGlzLm5vdGlmeVNwbGljZXMoJ2l0ZW1zJywgW1xuICAgICAqICAgICAgIHsgaW5kZXg6IDEsIHJlbW92ZWQ6IFt7bmFtZTogJ1RvZGQnfV0sIGFkZGVkQ291bnQ6IDEsXG4gICAgICogICAgICAgICBvYmplY3Q6IHRoaXMuaXRlbXMsIHR5cGU6ICdzcGxpY2UnIH0sXG4gICAgICogICAgICAgeyBpbmRleDogMywgcmVtb3ZlZDogW10sIGFkZGVkQ291bnQ6IDEsXG4gICAgICogICAgICAgICBvYmplY3Q6IHRoaXMuaXRlbXMsIHR5cGU6ICdzcGxpY2UnfVxuICAgICAqICAgICBdKTtcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdGhhdCBzaG91bGQgYmUgbm90aWZpZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gc3BsaWNlcyBBcnJheSBvZiBzcGxpY2UgcmVjb3JkcyBpbmRpY2F0aW5nIG9yZGVyZWRcbiAgICAgKiAgIGNoYW5nZXMgdGhhdCBvY2N1cnJlZCB0byB0aGUgYXJyYXkuIEVhY2ggcmVjb3JkIHNob3VsZCBoYXZlIHRoZVxuICAgICAqICAgZm9sbG93aW5nIGZpZWxkczpcbiAgICAgKiAgICAqIGluZGV4OiBpbmRleCBhdCB3aGljaCB0aGUgY2hhbmdlIG9jY3VycmVkXG4gICAgICogICAgKiByZW1vdmVkOiBhcnJheSBvZiBpdGVtcyB0aGF0IHdlcmUgcmVtb3ZlZCBmcm9tIHRoaXMgaW5kZXhcbiAgICAgKiAgICAqIGFkZGVkQ291bnQ6IG51bWJlciBvZiBuZXcgaXRlbXMgYWRkZWQgYXQgdGhpcyBpbmRleFxuICAgICAqICAgICogb2JqZWN0OiBhIHJlZmVyZW5jZSB0byB0aGUgYXJyYXkgaW4gcXVlc3Rpb25cbiAgICAgKiAgICAqIHR5cGU6IHRoZSBzdHJpbmcgbGl0ZXJhbCAnc3BsaWNlJ1xuICAgICAqXG4gICAgICogICBOb3RlIHRoYXQgc3BsaWNlIHJlY29yZHMgX211c3RfIGJlIG5vcm1hbGl6ZWQgc3VjaCB0aGF0IHRoZXkgYXJlXG4gICAgICogICByZXBvcnRlZCBpbiBpbmRleCBvcmRlciAocmF3IHJlc3VsdHMgZnJvbSBgT2JqZWN0Lm9ic2VydmVgIGFyZSBub3RcbiAgICAgKiAgIG9yZGVyZWQgYW5kIG11c3QgYmUgbm9ybWFsaXplZC9tZXJnZWQgYmVmb3JlIG5vdGlmeWluZykuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBub3RpZnlTcGxpY2VzKHBhdGgsIHNwbGljZXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBub3RpZnlTcGxpY2VzKHRoaXMsIGFycmF5LCBpbmZvLnBhdGgsIHNwbGljZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgcmVhZGluZyBhIHZhbHVlIGZyb20gYSBwYXRoLlxuICAgICAqXG4gICAgICogTm90ZSwgaWYgYW55IHBhcnQgaW4gdGhlIHBhdGggaXMgdW5kZWZpbmVkLCB0aGlzIG1ldGhvZCByZXR1cm5zXG4gICAgICogYHVuZGVmaW5lZGAgKHRoaXMgbWV0aG9kIGRvZXMgbm90IHRocm93IHdoZW4gZGVyZWZlcmVuY2luZyB1bmRlZmluZWRcbiAgICAgKiBwYXRocykuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8IUFycmF5PChzdHJpbmd8bnVtYmVyKT4pfSBwYXRoIFBhdGggdG8gdGhlIHZhbHVlXG4gICAgICogICB0byByZWFkLiAgVGhlIHBhdGggbWF5IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyAoZS5nLiBgZm9vLmJhci5iYXpgKVxuICAgICAqICAgb3IgYW4gYXJyYXkgb2YgcGF0aCBwYXJ0cyAoZS5nLiBgWydmb28uYmFyJywgJ2JheiddYCkuICBOb3RlIHRoYXRcbiAgICAgKiAgIGJyYWNrZXRlZCBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZDsgc3RyaW5nLWJhc2VkIHBhdGggcGFydHNcbiAgICAgKiAgICptdXN0KiBiZSBzZXBhcmF0ZWQgYnkgZG90cy4gIE5vdGUgdGhhdCB3aGVuIGRlcmVmZXJlbmNpbmcgYXJyYXlcbiAgICAgKiAgIGluZGljZXMsIHRoZSBpbmRleCBtYXkgYmUgdXNlZCBhcyBhIGRvdHRlZCBwYXJ0IGRpcmVjdGx5XG4gICAgICogICAoZS5nLiBgdXNlcnMuMTIubmFtZWAgb3IgYFsndXNlcnMnLCAxMiwgJ25hbWUnXWApLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcm9vdCBSb290IG9iamVjdCBmcm9tIHdoaWNoIHRoZSBwYXRoIGlzIGV2YWx1YXRlZC5cbiAgICAgKiBAcmV0dXJuIHsqfSBWYWx1ZSBhdCB0aGUgcGF0aCwgb3IgYHVuZGVmaW5lZGAgaWYgYW55IHBhcnQgb2YgdGhlIHBhdGhcbiAgICAgKiAgIGlzIHVuZGVmaW5lZC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgZ2V0KHBhdGgsIHJvb3QpIHtcbiAgICAgIHJldHVybiBnZXQocm9vdCB8fCB0aGlzLCBwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBtZXRob2QgZm9yIHNldHRpbmcgYSB2YWx1ZSB0byBhIHBhdGggYW5kIG5vdGlmeWluZyBhbnlcbiAgICAgKiBlbGVtZW50cyBib3VuZCB0byB0aGUgc2FtZSBwYXRoLlxuICAgICAqXG4gICAgICogTm90ZSwgaWYgYW55IHBhcnQgaW4gdGhlIHBhdGggZXhjZXB0IGZvciB0aGUgbGFzdCBpcyB1bmRlZmluZWQsXG4gICAgICogdGhpcyBtZXRob2QgZG9lcyBub3RoaW5nICh0aGlzIG1ldGhvZCBkb2VzIG5vdCB0aHJvdyB3aGVuXG4gICAgICogZGVyZWZlcmVuY2luZyB1bmRlZmluZWQgcGF0aHMpLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfCFBcnJheTwoc3RyaW5nfG51bWJlcik+KX0gcGF0aCBQYXRoIHRvIHRoZSB2YWx1ZVxuICAgICAqICAgdG8gd3JpdGUuICBUaGUgcGF0aCBtYXkgYmUgc3BlY2lmaWVkIGFzIGEgc3RyaW5nIChlLmcuIGAnZm9vLmJhci5iYXonYClcbiAgICAgKiAgIG9yIGFuIGFycmF5IG9mIHBhdGggcGFydHMgKGUuZy4gYFsnZm9vLmJhcicsICdiYXonXWApLiAgTm90ZSB0aGF0XG4gICAgICogICBicmFja2V0ZWQgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQ7IHN0cmluZy1iYXNlZCBwYXRoIHBhcnRzXG4gICAgICogICAqbXVzdCogYmUgc2VwYXJhdGVkIGJ5IGRvdHMuICBOb3RlIHRoYXQgd2hlbiBkZXJlZmVyZW5jaW5nIGFycmF5XG4gICAgICogICBpbmRpY2VzLCB0aGUgaW5kZXggbWF5IGJlIHVzZWQgYXMgYSBkb3R0ZWQgcGFydCBkaXJlY3RseVxuICAgICAqICAgKGUuZy4gYCd1c2Vycy4xMi5uYW1lJ2Agb3IgYFsndXNlcnMnLCAxMiwgJ25hbWUnXWApLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0IGF0IHRoZSBzcGVjaWZpZWQgcGF0aC5cbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHJvb3QgUm9vdCBvYmplY3QgZnJvbSB3aGljaCB0aGUgcGF0aCBpcyBldmFsdWF0ZWQuXG4gICAgICogICBXaGVuIHNwZWNpZmllZCwgbm8gbm90aWZpY2F0aW9uIHdpbGwgb2NjdXIuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2V0KHBhdGgsIHZhbHVlLCByb290KSB7XG4gICAgICBpZiAocm9vdCkge1xuICAgICAgICBzZXQocm9vdCwgcGF0aCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzW1RZUEVTLlJFQURfT05MWV0gfHwgIXRoaXNbVFlQRVMuUkVBRF9PTkxZXVsvKiogQHR5cGUge3N0cmluZ30gKi8ocGF0aCldKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChwYXRoLCB2YWx1ZSwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVQcm9wZXJ0aWVzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBpdGVtcyBvbnRvIHRoZSBlbmQgb2YgdGhlIGFycmF5IGF0IHRoZSBwYXRoIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUucHVzaGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcGFyYW0gey4uLip9IGl0ZW1zIEl0ZW1zIHRvIHB1c2ggb250byBhcnJheVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTmV3IGxlbmd0aCBvZiB0aGUgYXJyYXkuXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIHB1c2gocGF0aCwgLi4uaXRlbXMpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9Ki8oZ2V0KHRoaXMsIHBhdGgsIGluZm8pKTtcbiAgICAgIGxldCBsZW4gPSBhcnJheS5sZW5ndGg7XG4gICAgICBsZXQgcmV0ID0gYXJyYXkucHVzaCguLi5pdGVtcyk7XG4gICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCBsZW4sIGl0ZW1zLmxlbmd0aCwgW10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGUgZW5kIG9mIGFycmF5IGF0IHRoZSBwYXRoIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUucG9wYC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG5vdGlmaWVzIG90aGVyIHBhdGhzIHRvIHRoZSBzYW1lIGFycmF5IHRoYXQgYVxuICAgICAqIHNwbGljZSBvY2N1cnJlZCB0byB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIGFycmF5LlxuICAgICAqIEByZXR1cm4geyp9IEl0ZW0gdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgcG9wKHBhdGgpIHtcbiAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICBsZXQgaGFkTGVuZ3RoID0gQm9vbGVhbihhcnJheS5sZW5ndGgpO1xuICAgICAgbGV0IHJldCA9IGFycmF5LnBvcCgpO1xuICAgICAgaWYgKGhhZExlbmd0aCkge1xuICAgICAgICBub3RpZnlTcGxpY2UodGhpcywgYXJyYXksIGluZm8ucGF0aCwgYXJyYXkubGVuZ3RoLCAwLCBbcmV0XSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0aW5nIGZyb20gdGhlIHN0YXJ0IGluZGV4IHNwZWNpZmllZCwgcmVtb3ZlcyAwIG9yIG1vcmUgaXRlbXNcbiAgICAgKiBmcm9tIHRoZSBhcnJheSBhbmQgaW5zZXJ0cyAwIG9yIG1vcmUgbmV3IGl0ZW1zIGluIHRoZWlyIHBsYWNlLlxuICAgICAqXG4gICAgICogVGhlIGFyZ3VtZW50cyBhZnRlciBgcGF0aGAgYW5kIHJldHVybiB2YWx1ZSBtYXRjaCB0aGF0IG9mXG4gICAgICogYEFycmF5LnByb3RvdHlwZS5zcGxpY2VgLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2Qgbm90aWZpZXMgb3RoZXIgcGF0aHMgdG8gdGhlIHNhbWUgYXJyYXkgdGhhdCBhXG4gICAgICogc3BsaWNlIG9jY3VycmVkIHRvIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nIHwgIUFycmF5PHN0cmluZ3xudW1iZXI+fSBwYXRoIFBhdGggdG8gYXJyYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IEluZGV4IGZyb20gd2hpY2ggdG8gc3RhcnQgcmVtb3ZpbmcvaW5zZXJ0aW5nLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gZGVsZXRlQ291bnQgTnVtYmVyIG9mIGl0ZW1zIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IGl0ZW1zIEl0ZW1zIHRvIGluc2VydCBpbnRvIGFycmF5LlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiByZW1vdmVkIGl0ZW1zLlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBzcGxpY2UocGF0aCwgc3RhcnQsIGRlbGV0ZUNvdW50LCAuLi5pdGVtcykge1xuICAgICAgbGV0IGluZm8gPSB7cGF0aCA6ICcnfTtcbiAgICAgIGxldCBhcnJheSA9IC8qKiBAdHlwZSB7QXJyYXl9ICovKGdldCh0aGlzLCBwYXRoLCBpbmZvKSk7XG4gICAgICAvLyBOb3JtYWxpemUgZmFuY3kgbmF0aXZlIHNwbGljZSBoYW5kbGluZyBvZiBjcmF6eSBzdGFydCB2YWx1ZXNcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSBhcnJheS5sZW5ndGggLSBNYXRoLmZsb29yKC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHN0YXJ0ID0gTWF0aC5mbG9vcihzdGFydCk7XG4gICAgICB9XG4gICAgICAvLyBhcnJheS5zcGxpY2UgZG9lcyBkaWZmZXJlbnQgdGhpbmdzIGJhc2VkIG9uIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzXG4gICAgICAvLyB5b3UgcGFzcyBpbi4gVGhlcmVmb3JlLCBhcnJheS5zcGxpY2UoMCkgYW5kIGFycmF5LnNwbGljZSgwLCB1bmRlZmluZWQpXG4gICAgICAvLyBkbyBkaWZmZXJlbnQgdGhpbmdzLiBJbiB0aGUgZm9ybWVyLCB0aGUgd2hvbGUgYXJyYXkgaXMgY2xlYXJlZC4gSW4gdGhlXG4gICAgICAvLyBsYXR0ZXIsIG5vIGl0ZW1zIGFyZSByZW1vdmVkLlxuICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHdlIG5lZWQgdG8gZGV0ZWN0IHdoZXRoZXIgMS4gb25lIG9mIHRoZSBhcmd1bWVudHNcbiAgICAgIC8vIGlzIGFjdHVhbGx5IHBhc3NlZCBpbiBhbmQgdGhlbiAyLiBkZXRlcm1pbmUgaG93IG1hbnkgYXJndW1lbnRzXG4gICAgICAvLyB3ZSBzaG91bGQgcGFzcyBvbiB0byB0aGUgbmF0aXZlIGFycmF5LnNwbGljZVxuICAgICAgLy9cbiAgICAgIGxldCByZXQ7XG4gICAgICAvLyBPbWl0IGFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBpZiB0aGV5IHdlcmUgbm90IHBhc3NlZCBpblxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgcmV0ID0gYXJyYXkuc3BsaWNlKHN0YXJ0KTtcbiAgICAgIC8vIEVpdGhlciBzdGFydCB3YXMgdW5kZWZpbmVkIGFuZCB0aGUgb3RoZXJzIHdlcmUgZGVmaW5lZCwgYnV0IGluIHRoaXNcbiAgICAgIC8vIGNhc2Ugd2UgY2FuIHNhZmVseSBwYXNzIG9uIGFsbCBhcmd1bWVudHNcbiAgICAgIC8vXG4gICAgICAvLyBOb3RlOiB0aGlzIGluY2x1ZGVzIHRoZSBjYXNlIHdoZXJlIG5vbmUgb2YgdGhlIGFyZ3VtZW50cyB3ZXJlIHBhc3NlZCBpbixcbiAgICAgIC8vIGUuZy4gdGhpcy5zcGxpY2UoJ2FycmF5JykuIEhvd2V2ZXIsIGlmIGJvdGggc3RhcnQgYW5kIGRlbGV0ZUNvdW50XG4gICAgICAvLyBhcmUgdW5kZWZpbmVkLCBhcnJheS5zcGxpY2Ugd2lsbCBub3QgbW9kaWZ5IHRoZSBhcnJheSAoYXMgZXhwZWN0ZWQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXQgPSBhcnJheS5zcGxpY2Uoc3RhcnQsIGRlbGV0ZUNvdW50LCAuLi5pdGVtcyk7XG4gICAgICB9XG4gICAgICAvLyBBdCB0aGUgZW5kLCBjaGVjayB3aGV0aGVyIGFueSBpdGVtcyB3ZXJlIHBhc3NlZCBpbiAoZS5nLiBpbnNlcnRpb25zKVxuICAgICAgLy8gb3IgaWYgdGhlIHJldHVybiBhcnJheSBjb250YWlucyBpdGVtcyAoZS5nLiBkZWxldGlvbnMpLlxuICAgICAgLy8gT25seSBub3RpZnkgaWYgaXRlbXMgd2VyZSBhZGRlZCBvciBkZWxldGVkLlxuICAgICAgaWYgKGl0ZW1zLmxlbmd0aCB8fCByZXQubGVuZ3RoKSB7XG4gICAgICAgIG5vdGlmeVNwbGljZSh0aGlzLCBhcnJheSwgaW5mby5wYXRoLCBzdGFydCwgaXRlbXMubGVuZ3RoLCByZXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gZnJvbSB0aGUgYmVnaW5uaW5nIG9mIGFycmF5IGF0IHRoZSBwYXRoIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUucG9wYC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG5vdGlmaWVzIG90aGVyIHBhdGhzIHRvIHRoZSBzYW1lIGFycmF5IHRoYXQgYVxuICAgICAqIHNwbGljZSBvY2N1cnJlZCB0byB0aGUgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8ICFBcnJheTxzdHJpbmd8bnVtYmVyPn0gcGF0aCBQYXRoIHRvIGFycmF5LlxuICAgICAqIEByZXR1cm4geyp9IEl0ZW0gdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgc2hpZnQocGF0aCkge1xuICAgICAgbGV0IGluZm8gPSB7cGF0aDogJyd9O1xuICAgICAgbGV0IGFycmF5ID0gLyoqIEB0eXBlIHtBcnJheX0gKi8oZ2V0KHRoaXMsIHBhdGgsIGluZm8pKTtcbiAgICAgIGxldCBoYWRMZW5ndGggPSBCb29sZWFuKGFycmF5Lmxlbmd0aCk7XG4gICAgICBsZXQgcmV0ID0gYXJyYXkuc2hpZnQoKTtcbiAgICAgIGlmIChoYWRMZW5ndGgpIHtcbiAgICAgICAgbm90aWZ5U3BsaWNlKHRoaXMsIGFycmF5LCBpbmZvLnBhdGgsIDAsIDAsIFtyZXRdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBpdGVtcyBvbnRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5IGF0IHRoZSBwYXRoIHNwZWNpZmllZC5cbiAgICAgKlxuICAgICAqIFRoZSBhcmd1bWVudHMgYWZ0ZXIgYHBhdGhgIGFuZCByZXR1cm4gdmFsdWUgbWF0Y2ggdGhhdCBvZlxuICAgICAqIGBBcnJheS5wcm90b3R5cGUucHVzaGAuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBub3RpZmllcyBvdGhlciBwYXRocyB0byB0aGUgc2FtZSBhcnJheSB0aGF0IGFcbiAgICAgKiBzcGxpY2Ugb2NjdXJyZWQgdG8gdGhlIGFycmF5LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8c3RyaW5nfG51bWJlcj59IHBhdGggUGF0aCB0byBhcnJheS5cbiAgICAgKiBAcGFyYW0gey4uLip9IGl0ZW1zIEl0ZW1zIHRvIGluc2VydCBpbmZvIGFycmF5XG4gICAgICogQHJldHVybiB7bnVtYmVyfSBOZXcgbGVuZ3RoIG9mIHRoZSBhcnJheS5cbiAgICAgKiBAcHVibGljXG4gICAgICovXG4gICAgdW5zaGlmdChwYXRoLCAuLi5pdGVtcykge1xuICAgICAgbGV0IGluZm8gPSB7cGF0aDogJyd9O1xuICAgICAgbGV0IGFycmF5ID0gLyoqIEB0eXBlIHtBcnJheX0gKi8oZ2V0KHRoaXMsIHBhdGgsIGluZm8pKTtcbiAgICAgIGxldCByZXQgPSBhcnJheS51bnNoaWZ0KC4uLml0ZW1zKTtcbiAgICAgIGlmIChpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgbm90aWZ5U3BsaWNlKHRoaXMsIGFycmF5LCBpbmZvLnBhdGgsIDAsIGl0ZW1zLmxlbmd0aCwgW10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb3RpZnkgdGhhdCBhIHBhdGggaGFzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIHRoaXMuaXRlbS51c2VyLm5hbWUgPSAnQm9iJztcbiAgICAgKiAgICAgdGhpcy5ub3RpZnlQYXRoKCdpdGVtLnVzZXIubmFtZScpO1xuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0aGF0IHNob3VsZCBiZSBub3RpZmllZC5cbiAgICAgKiBAcGFyYW0geyo9fSB2YWx1ZSBWYWx1ZSBhdCB0aGUgcGF0aCAob3B0aW9uYWwpLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIG5vdGlmeVBhdGgocGF0aCwgdmFsdWUpIHtcbiAgICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgICAgbGV0IHByb3BQYXRoO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICAvLyBHZXQgdmFsdWUgaWYgbm90IHN1cHBsaWVkXG4gICAgICAgIGxldCBpbmZvID0ge3BhdGg6ICcnfTtcbiAgICAgICAgdmFsdWUgPSBnZXQodGhpcywgcGF0aCwgaW5mbyk7XG4gICAgICAgIHByb3BQYXRoID0gaW5mby5wYXRoO1xuICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHBhdGgpKSB7XG4gICAgICAgIC8vIE5vcm1hbGl6ZSBwYXRoIGlmIG5lZWRlZFxuICAgICAgICBwcm9wUGF0aCA9IG5vcm1hbGl6ZShwYXRoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BQYXRoID0gLyoqIEB0eXBle3N0cmluZ30gKi8ocGF0aCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc2V0UGVuZGluZ1Byb3BlcnR5T3JQYXRoKHByb3BQYXRoLCB2YWx1ZSwgdHJ1ZSwgdHJ1ZSkpIHtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZVByb3BlcnRpZXMoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgY3JlYXRlUmVhZE9ubHlQcm9wZXJ0eWAgQVBJIGJ1dCBjYW4gYmUgY2FsbGVkIG9uXG4gICAgICogYW4gaW5zdGFuY2UgdG8gYWRkIGVmZmVjdHMgYXQgcnVudGltZS4gIFNlZSB0aGF0IG1ldGhvZCBmb3JcbiAgICAgKiBmdWxsIEFQSSBkb2NzLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBwcm90ZWN0ZWRTZXR0ZXIgQ3JlYXRlcyBhIGN1c3RvbSBwcm90ZWN0ZWQgc2V0dGVyXG4gICAgICogICB3aGVuIGB0cnVlYC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlUmVhZE9ubHlQcm9wZXJ0eShwcm9wZXJ0eSwgcHJvdGVjdGVkU2V0dGVyKSB7XG4gICAgICB0aGlzLl9hZGRQcm9wZXJ0eUVmZmVjdChwcm9wZXJ0eSwgVFlQRVMuUkVBRF9PTkxZKTtcbiAgICAgIGlmIChwcm90ZWN0ZWRTZXR0ZXIpIHtcbiAgICAgICAgdGhpc1snX3NldCcgKyB1cHBlcihwcm9wZXJ0eSldID0gLyoqIEB0aGlzIHtQcm9wZXJ0eUVmZmVjdHN9ICovZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB0aGlzLl9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBjcmVhdGVQcm9wZXJ0eU9ic2VydmVyYCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKCosKil9IG1ldGhvZCBGdW5jdGlvbiBvciBuYW1lIG9mIG9ic2VydmVyIG1ldGhvZFxuICAgICAqICAgICB0byBjYWxsXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gZHluYW1pY0ZuIFdoZXRoZXIgdGhlIG1ldGhvZCBuYW1lIHNob3VsZCBiZSBpbmNsdWRlZCBhc1xuICAgICAqICAgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIocHJvcGVydHksIG1ldGhvZCwgZHluYW1pY0ZuKSB7XG4gICAgICBsZXQgaW5mbyA9IHsgcHJvcGVydHksIG1ldGhvZCwgZHluYW1pY0ZuOiBCb29sZWFuKGR5bmFtaWNGbikgfTtcbiAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCBUWVBFUy5PQlNFUlZFLCB7XG4gICAgICAgIGZuOiBydW5PYnNlcnZlckVmZmVjdCwgaW5mbywgdHJpZ2dlcjoge25hbWU6IHByb3BlcnR5fVxuICAgICAgfSk7XG4gICAgICBpZiAoZHluYW1pY0ZuKSB7XG4gICAgICAgIHRoaXMuX2FkZFByb3BlcnR5RWZmZWN0KC8qKiBAdHlwZSB7c3RyaW5nfSAqLyhtZXRob2QpLCBUWVBFUy5PQlNFUlZFLCB7XG4gICAgICAgICAgZm46IHJ1bk9ic2VydmVyRWZmZWN0LCBpbmZvLCB0cmlnZ2VyOiB7bmFtZTogbWV0aG9kfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIHN0YXRpYyBgY3JlYXRlTWV0aG9kT2JzZXJ2ZXJgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIE1ldGhvZCBleHByZXNzaW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZ1xuICAgICAqICAgd2hldGhlciBtZXRob2QgbmFtZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVNZXRob2RPYnNlcnZlcihleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIGxldCBzaWcgPSBwYXJzZU1ldGhvZChleHByZXNzaW9uKTtcbiAgICAgIGlmICghc2lnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBvYnNlcnZlciBleHByZXNzaW9uICdcIiArIGV4cHJlc3Npb24gKyBcIidcIik7XG4gICAgICB9XG4gICAgICBjcmVhdGVNZXRob2RFZmZlY3QodGhpcywgc2lnLCBUWVBFUy5PQlNFUlZFLCBydW5NZXRob2RFZmZlY3QsIG51bGwsIGR5bmFtaWNGbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZU5vdGlmeWluZ1Byb3BlcnR5YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgdGhpcy5fYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLk5PVElGWSwge1xuICAgICAgICBmbjogcnVuTm90aWZ5RWZmZWN0LFxuICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgZXZlbnROYW1lOiBjYW1lbFRvRGFzaENhc2UocHJvcGVydHkpICsgJy1jaGFuZ2VkJyxcbiAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZVJlZmxlY3RlZFByb3BlcnR5YCBBUEkgYnV0IGNhbiBiZSBjYWxsZWQgb25cbiAgICAgKiBhbiBpbnN0YW5jZSB0byBhZGQgZWZmZWN0cyBhdCBydW50aW1lLiAgU2VlIHRoYXQgbWV0aG9kIGZvclxuICAgICAqIGZ1bGwgQVBJIGRvY3MuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IGdvL21pc3NpbmdmbnByb3BzXG4gICAgICovXG4gICAgX2NyZWF0ZVJlZmxlY3RlZFByb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgICBsZXQgYXR0ciA9IHRoaXMuY29uc3RydWN0b3IuYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHByb3BlcnR5KTtcbiAgICAgIGlmIChhdHRyWzBdID09PSAnLScpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdQcm9wZXJ0eSAnICsgcHJvcGVydHkgKyAnIGNhbm5vdCBiZSByZWZsZWN0ZWQgdG8gYXR0cmlidXRlICcgK1xuICAgICAgICAgIGF0dHIgKyAnIGJlY2F1c2UgXCItXCIgaXMgbm90IGEgdmFsaWQgc3RhcnRpbmcgYXR0cmlidXRlIG5hbWUuIFVzZSBhIGxvd2VyY2FzZSBmaXJzdCBsZXR0ZXIgZm9yIHRoZSBwcm9wZXJ0eSBpbnN0ZWFkLicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIFRZUEVTLlJFRkxFQ1QsIHtcbiAgICAgICAgICBmbjogcnVuUmVmbGVjdEVmZmVjdCxcbiAgICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgICBhdHRyTmFtZTogYXR0clxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXF1aXZhbGVudCB0byBzdGF0aWMgYGNyZWF0ZUNvbXB1dGVkUHJvcGVydHlgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIGNvbXB1dGVkIHByb3BlcnR5IHRvIHNldFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIE1ldGhvZCBleHByZXNzaW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZ1xuICAgICAqICAgd2hldGhlciBtZXRob2QgbmFtZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jcmVhdGVDb21wdXRlZFByb3BlcnR5KHByb3BlcnR5LCBleHByZXNzaW9uLCBkeW5hbWljRm4pIHtcbiAgICAgIGxldCBzaWcgPSBwYXJzZU1ldGhvZChleHByZXNzaW9uKTtcbiAgICAgIGlmICghc2lnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hbGZvcm1lZCBjb21wdXRlZCBleHByZXNzaW9uICdcIiArIGV4cHJlc3Npb24gKyBcIidcIik7XG4gICAgICB9XG4gICAgICBjcmVhdGVNZXRob2RFZmZlY3QodGhpcywgc2lnLCBUWVBFUy5DT01QVVRFLCBydW5Db21wdXRlZEVmZmVjdCwgcHJvcGVydHksIGR5bmFtaWNGbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2F0aGVyIHRoZSBhcmd1bWVudCB2YWx1ZXMgZm9yIGEgbWV0aG9kIHNwZWNpZmllZCBpbiB0aGUgcHJvdmlkZWQgYXJyYXlcbiAgICAgKiBvZiBhcmd1bWVudCBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIFRoZSBgcGF0aGAgYW5kIGB2YWx1ZWAgYXJndW1lbnRzIGFyZSB1c2VkIHRvIGZpbGwgaW4gd2lsZGNhcmQgZGVzY3JpcHRvclxuICAgICAqIHdoZW4gdGhlIG1ldGhvZCBpcyBiZWluZyBjYWxsZWQgYXMgYSByZXN1bHQgb2YgYSBwYXRoIG5vdGlmaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUFycmF5PCFNZXRob2RBcmc+fSBhcmdzIEFycmF5IG9mIGFyZ3VtZW50IG1ldGFkYXRhXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUHJvcGVydHkvcGF0aCBuYW1lIHRoYXQgdHJpZ2dlcmVkIHRoZSBtZXRob2QgZWZmZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BzIEJhZyBvZiBjdXJyZW50IHByb3BlcnR5IGNoYW5nZXNcbiAgICAgKiBAcmV0dXJuIHtBcnJheTwqPn0gQXJyYXkgb2YgYXJndW1lbnQgdmFsdWVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWFyc2hhbEFyZ3MoYXJncywgcGF0aCwgcHJvcHMpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLl9fZGF0YTtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaT0wLCBsPWFyZ3MubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgICBsZXQge25hbWUsIHN0cnVjdHVyZWQsIHdpbGRjYXJkLCB2YWx1ZSwgbGl0ZXJhbH0gPSBhcmdzW2ldO1xuICAgICAgICBpZiAoIWxpdGVyYWwpIHtcbiAgICAgICAgICBpZiAod2lsZGNhcmQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoZXMgPSBpc0Rlc2NlbmRhbnQobmFtZSwgcGF0aCk7XG4gICAgICAgICAgICBjb25zdCBwYXRoVmFsdWUgPSBnZXRBcmdWYWx1ZShkYXRhLCBwcm9wcywgbWF0Y2hlcyA/IHBhdGggOiBuYW1lKTtcbiAgICAgICAgICAgIHZhbHVlID0ge1xuICAgICAgICAgICAgICBwYXRoOiBtYXRjaGVzID8gcGF0aCA6IG5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiBwYXRoVmFsdWUsXG4gICAgICAgICAgICAgIGJhc2U6IG1hdGNoZXMgPyBnZXQoZGF0YSwgbmFtZSkgOiBwYXRoVmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gc3RydWN0dXJlZCA/IGdldEFyZ1ZhbHVlKGRhdGEsIHByb3BzLCBuYW1lKSA6IGRhdGFbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhbHVlc1tpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICAvLyAtLSBzdGF0aWMgY2xhc3MgbWV0aG9kcyAtLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgYW4gYWNjZXNzb3IgZXhpc3RzIGZvciB0aGUgc3BlY2lmaWVkIHByb3BlcnR5LCBhbmQgYWRkc1xuICAgICAqIHRvIGEgbGlzdCBvZiBcInByb3BlcnR5IGVmZmVjdHNcIiB0aGF0IHdpbGwgcnVuIHdoZW4gdGhlIGFjY2Vzc29yIGZvclxuICAgICAqIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgaXMgc2V0LiAgRWZmZWN0cyBhcmUgZ3JvdXBlZCBieSBcInR5cGVcIiwgd2hpY2hcbiAgICAgKiByb3VnaGx5IGNvcnJlc3BvbmRzIHRvIGEgcGhhc2UgaW4gZWZmZWN0IHByb2Nlc3NpbmcuICBUaGUgZWZmZWN0XG4gICAgICogbWV0YWRhdGEgc2hvdWxkIGJlIGluIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAgICAgKlxuICAgICAqICAgICB7XG4gICAgICogICAgICAgZm46IGVmZmVjdEZ1bmN0aW9uLCAvLyBSZWZlcmVuY2UgdG8gZnVuY3Rpb24gdG8gY2FsbCB0byBwZXJmb3JtIGVmZmVjdFxuICAgICAqICAgICAgIGluZm86IHsgLi4uIH0gICAgICAgLy8gRWZmZWN0IG1ldGFkYXRhIHBhc3NlZCB0byBmdW5jdGlvblxuICAgICAqICAgICAgIHRyaWdnZXI6IHsgICAgICAgICAgLy8gT3B0aW9uYWwgdHJpZ2dlcmluZyBtZXRhZGF0YTsgaWYgbm90IHByb3ZpZGVkXG4gICAgICogICAgICAgICBuYW1lOiBzdHJpbmcgICAgICAvLyB0aGUgcHJvcGVydHkgaXMgdHJlYXRlZCBhcyBhIHdpbGRjYXJkXG4gICAgICogICAgICAgICBzdHJ1Y3R1cmVkOiBib29sZWFuXG4gICAgICogICAgICAgICB3aWxkY2FyZDogYm9vbGVhblxuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgfVxuICAgICAqXG4gICAgICogRWZmZWN0cyBhcmUgY2FsbGVkIGZyb20gYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgaW4gdGhlIGZvbGxvd2luZyBvcmRlciBieVxuICAgICAqIHR5cGU6XG4gICAgICpcbiAgICAgKiAxLiBDT01QVVRFXG4gICAgICogMi4gUFJPUEFHQVRFXG4gICAgICogMy4gUkVGTEVDVFxuICAgICAqIDQuIE9CU0VSVkVcbiAgICAgKiA1LiBOT1RJRllcbiAgICAgKlxuICAgICAqIEVmZmVjdCBmdW5jdGlvbnMgYXJlIGNhbGxlZCB3aXRoIHRoZSBmb2xsb3dpbmcgc2lnbmF0dXJlOlxuICAgICAqXG4gICAgICogICAgIGVmZmVjdEZ1bmN0aW9uKGluc3QsIHBhdGgsIHByb3BzLCBvbGRQcm9wcywgaW5mbywgaGFzUGF0aHMpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdGhhdCBzaG91bGQgdHJpZ2dlciB0aGUgZWZmZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgRWZmZWN0IHR5cGUsIGZyb20gdGhpcy5QUk9QRVJUWV9FRkZFQ1RfVFlQRVNcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgYWRkUHJvcGVydHlFZmZlY3QocHJvcGVydHksIHR5cGUsIGVmZmVjdCkge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2FkZFByb3BlcnR5RWZmZWN0KHByb3BlcnR5LCB0eXBlLCBlZmZlY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaW5nbGUtcHJvcGVydHkgb2JzZXJ2ZXIgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb24oKiwqKX0gbWV0aG9kIEZ1bmN0aW9uIG9yIG5hbWUgb2Ygb2JzZXJ2ZXIgbWV0aG9kIHRvIGNhbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBkeW5hbWljRm4gV2hldGhlciB0aGUgbWV0aG9kIG5hbWUgc2hvdWxkIGJlIGluY2x1ZGVkIGFzXG4gICAgICogICBhIGRlcGVuZGVuY3kgdG8gdGhlIGVmZmVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0eU9ic2VydmVyKHByb3BlcnR5LCBtZXRob2QsIGR5bmFtaWNGbikge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIocHJvcGVydHksIG1ldGhvZCwgZHluYW1pY0ZuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbXVsdGktcHJvcGVydHkgXCJtZXRob2Qgb2JzZXJ2ZXJcIiBiYXNlZCBvbiB0aGUgcHJvdmlkZWRcbiAgICAgKiBleHByZXNzaW9uLCB3aGljaCBzaG91bGQgYmUgYSBzdHJpbmcgaW4gdGhlIGZvcm0gb2YgYSBub3JtYWwgSmF2YVNjcmlwdFxuICAgICAqIGZ1bmN0aW9uIHNpZ25hdHVyZTogYCdtZXRob2ROYW1lKGFyZzEsIFsuLi4sIGFyZ25dKSdgLiAgRWFjaCBhcmd1bWVudFxuICAgICAqIHNob3VsZCBjb3JyZXNwb25kIHRvIGEgcHJvcGVydHkgb3IgcGF0aCBpbiB0aGUgY29udGV4dCBvZiB0aGlzXG4gICAgICogcHJvdG90eXBlIChvciBpbnN0YW5jZSksIG9yIG1heSBiZSBhIGxpdGVyYWwgc3RyaW5nIG9yIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIE1ldGhvZCBleHByZXNzaW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogICB3aGV0aGVyIG1ldGhvZCBuYW1lcyBzaG91bGQgYmUgaW5jbHVkZWQgYXMgYSBkZXBlbmRlbmN5IHRvIHRoZSBlZmZlY3QuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZU1ldGhvZE9ic2VydmVyKGV4cHJlc3Npb24sIGR5bmFtaWNGbikge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZU1ldGhvZE9ic2VydmVyKGV4cHJlc3Npb24sIGR5bmFtaWNGbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2F1c2VzIHRoZSBzZXR0ZXIgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB0byBkaXNwYXRjaCBgPHByb3BlcnR5Pi1jaGFuZ2VkYFxuICAgICAqIGV2ZW50cyB0byBub3RpZnkgb2YgY2hhbmdlcyB0byB0aGUgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZU5vdGlmeWluZ1Byb3BlcnR5KHByb3BlcnR5KSB7XG4gICAgICB0aGlzLnByb3RvdHlwZS5fY3JlYXRlTm90aWZ5aW5nUHJvcGVydHkocHJvcGVydHkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZWFkLW9ubHkgYWNjZXNzb3IgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIFRvIHNldCB0aGUgcHJvcGVydHksIHVzZSB0aGUgcHJvdGVjdGVkIGBfc2V0UHJvcGVydHlgIEFQSS5cbiAgICAgKiBUbyBjcmVhdGUgYSBjdXN0b20gcHJvdGVjdGVkIHNldHRlciAoZS5nLiBgX3NldE15UHJvcCgpYCBmb3JcbiAgICAgKiBwcm9wZXJ0eSBgbXlQcm9wYCksIHBhc3MgYHRydWVgIGZvciBgcHJvdGVjdGVkU2V0dGVyYC5cbiAgICAgKlxuICAgICAqIE5vdGUsIGlmIHRoZSBwcm9wZXJ0eSB3aWxsIGhhdmUgb3RoZXIgcHJvcGVydHkgZWZmZWN0cywgdGhpcyBtZXRob2RcbiAgICAgKiBzaG91bGQgYmUgY2FsbGVkIGZpcnN0LCBiZWZvcmUgYWRkaW5nIG90aGVyIGVmZmVjdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHByb3RlY3RlZFNldHRlciBDcmVhdGVzIGEgY3VzdG9tIHByb3RlY3RlZCBzZXR0ZXJcbiAgICAgKiAgIHdoZW4gYHRydWVgLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcikge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVJlYWRPbmx5UHJvcGVydHkocHJvcGVydHksIHByb3RlY3RlZFNldHRlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2F1c2VzIHRoZSBzZXR0ZXIgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eSB0byByZWZsZWN0IHRoZSBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqIHRvIGEgKGRhc2gtY2FzZWQpIGF0dHJpYnV0ZSBvZiB0aGUgc2FtZSBuYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVSZWZsZWN0ZWRQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZVJlZmxlY3RlZFByb3BlcnR5KHByb3BlcnR5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcHV0ZWQgcHJvcGVydHkgd2hvc2UgdmFsdWUgaXMgc2V0IHRvIHRoZSByZXN1bHQgb2YgdGhlXG4gICAgICogbWV0aG9kIGRlc2NyaWJlZCBieSB0aGUgZ2l2ZW4gYGV4cHJlc3Npb25gIGVhY2ggdGltZSBvbmUgb3IgbW9yZVxuICAgICAqIGFyZ3VtZW50cyB0byB0aGUgbWV0aG9kIGNoYW5nZXMuICBUaGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgYSBzdHJpbmdcbiAgICAgKiBpbiB0aGUgZm9ybSBvZiBhIG5vcm1hbCBKYXZhU2NyaXB0IGZ1bmN0aW9uIHNpZ25hdHVyZTpcbiAgICAgKiBgJ21ldGhvZE5hbWUoYXJnMSwgWy4uLiwgYXJnbl0pJ2BcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBOYW1lIG9mIGNvbXB1dGVkIHByb3BlcnR5IHRvIHNldFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIE1ldGhvZCBleHByZXNzaW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufE9iamVjdD19IGR5bmFtaWNGbiBCb29sZWFuIG9yIG9iamVjdCBtYXAgaW5kaWNhdGluZyB3aGV0aGVyXG4gICAgICogICBtZXRob2QgbmFtZXMgc2hvdWxkIGJlIGluY2x1ZGVkIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgZWZmZWN0LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUNvbXB1dGVkUHJvcGVydHkocHJvcGVydHksIGV4cHJlc3Npb24sIGR5bmFtaWNGbikge1xuICAgICAgdGhpcy5wcm90b3R5cGUuX2NyZWF0ZUNvbXB1dGVkUHJvcGVydHkocHJvcGVydHksIGV4cHJlc3Npb24sIGR5bmFtaWNGbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSB0byBlbnN1cmUgYmluZGluZyBlZmZlY3RzIGFyZSBjcmVhdGVkXG4gICAgICogZm9yIHRoZW0sIGFuZCB0aGVuIGVuc3VyZXMgcHJvcGVydHkgYWNjZXNzb3JzIGFyZSBjcmVhdGVkIGZvciBhbnlcbiAgICAgKiBkZXBlbmRlbnQgcHJvcGVydGllcyBpbiB0aGUgdGVtcGxhdGUuICBCaW5kaW5nIGVmZmVjdHMgZm9yIGJvdW5kXG4gICAgICogdGVtcGxhdGVzIGFyZSBzdG9yZWQgaW4gYSBsaW5rZWQgbGlzdCBvbiB0aGUgaW5zdGFuY2Ugc28gdGhhdFxuICAgICAqIHRlbXBsYXRlcyBjYW4gYmUgZWZmaWNpZW50bHkgc3RhbXBlZCBhbmQgdW5zdGFtcGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgY29udGFpbmluZyBiaW5kaW5nXG4gICAgICogICBiaW5kaW5nc1xuICAgICAqIEByZXR1cm4geyFUZW1wbGF0ZUluZm99IFRlbXBsYXRlIG1ldGFkYXRhIG9iamVjdFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBiaW5kVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3RvdHlwZS5fYmluZFRlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICB9XG5cbiAgICAvLyAtLSBiaW5kaW5nIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gc3RhdGljIGBiaW5kVGVtcGxhdGVgIEFQSSBidXQgY2FuIGJlIGNhbGxlZCBvblxuICAgICAqIGFuIGluc3RhbmNlIHRvIGFkZCBlZmZlY3RzIGF0IHJ1bnRpbWUuICBTZWUgdGhhdCBtZXRob2QgZm9yXG4gICAgICogZnVsbCBBUEkgZG9jcy5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIG1heSBiZSBjYWxsZWQgb24gdGhlIHByb3RvdHlwZSAoZm9yIHByb3RvdHlwaWNhbCB0ZW1wbGF0ZVxuICAgICAqIGJpbmRpbmcsIHRvIGF2b2lkIGNyZWF0aW5nIGFjY2Vzc29ycyBldmVyeSBpbnN0YW5jZSkgb25jZSBwZXIgcHJvdG90eXBlLFxuICAgICAqIGFuZCB3aWxsIGJlIGNhbGxlZCB3aXRoIGBydW50aW1lQmluZGluZzogdHJ1ZWAgYnkgYF9zdGFtcFRlbXBsYXRlYCB0b1xuICAgICAqIGNyZWF0ZSBhbmQgbGluayBhbiBpbnN0YW5jZSBvZiB0aGUgdGVtcGxhdGUgbWV0YWRhdGEgYXNzb2NpYXRlZCB3aXRoIGFcbiAgICAgKiBwYXJ0aWN1bGFyIHN0YW1waW5nLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGUgVGVtcGxhdGUgY29udGFpbmluZyBiaW5kaW5nXG4gICAgICogICBiaW5kaW5nc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGluc3RhbmNlQmluZGluZyBXaGVuIGZhbHNlIChkZWZhdWx0KSwgcGVyZm9ybXNcbiAgICAgKiAgIFwicHJvdG90eXBpY2FsXCIgYmluZGluZyBvZiB0aGUgdGVtcGxhdGUgYW5kIG92ZXJ3cml0ZXMgYW55IHByZXZpb3VzbHlcbiAgICAgKiAgIGJvdW5kIHRlbXBsYXRlIGZvciB0aGUgY2xhc3MuIFdoZW4gdHJ1ZSAoYXMgcGFzc2VkIGZyb21cbiAgICAgKiAgIGBfc3RhbXBUZW1wbGF0ZWApLCB0aGUgdGVtcGxhdGUgaW5mbyBpcyBpbnN0YW5jZWQgYW5kIGxpbmtlZCBpbnRvXG4gICAgICogICB0aGUgbGlzdCBvZiBib3VuZCB0ZW1wbGF0ZXMuXG4gICAgICogQHJldHVybiB7IVRlbXBsYXRlSW5mb30gVGVtcGxhdGUgbWV0YWRhdGEgb2JqZWN0OyBmb3IgYHJ1bnRpbWVCaW5kaW5nYCxcbiAgICAgKiAgIHRoaXMgaXMgYW4gaW5zdGFuY2Ugb2YgdGhlIHByb3RvdHlwaWNhbCB0ZW1wbGF0ZSBpbmZvXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IGdvL21pc3NpbmdmbnByb3BzXG4gICAgICovXG4gICAgX2JpbmRUZW1wbGF0ZSh0ZW1wbGF0ZSwgaW5zdGFuY2VCaW5kaW5nKSB7XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gdGhpcy5jb25zdHJ1Y3Rvci5fcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gICAgICBsZXQgd2FzUHJlQm91bmQgPSB0aGlzLl9fdGVtcGxhdGVJbmZvID09IHRlbXBsYXRlSW5mbztcbiAgICAgIC8vIE9wdGltaXphdGlvbjogc2luY2UgdGhpcyBpcyBjYWxsZWQgdHdpY2UgZm9yIHByb3RvLWJvdW5kIHRlbXBsYXRlcyxcbiAgICAgIC8vIGRvbid0IGF0dGVtcHQgdG8gcmVjcmVhdGUgYWNjZXNzb3JzIGlmIHRoaXMgdGVtcGxhdGUgd2FzIHByZS1ib3VuZFxuICAgICAgaWYgKCF3YXNQcmVCb3VuZCkge1xuICAgICAgICBmb3IgKGxldCBwcm9wIGluIHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMpIHtcbiAgICAgICAgICB0aGlzLl9jcmVhdGVQcm9wZXJ0eUFjY2Vzc29yKHByb3ApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5zdGFuY2VCaW5kaW5nKSB7XG4gICAgICAgIC8vIEZvciBpbnN0YW5jZS10aW1lIGJpbmRpbmcsIGNyZWF0ZSBpbnN0YW5jZSBvZiB0ZW1wbGF0ZSBtZXRhZGF0YVxuICAgICAgICAvLyBhbmQgbGluayBpbnRvIGxpc3Qgb2YgdGVtcGxhdGVzIGlmIG5lY2Vzc2FyeVxuICAgICAgICB0ZW1wbGF0ZUluZm8gPSAvKiogQHR5cGUgeyFUZW1wbGF0ZUluZm99ICovKE9iamVjdC5jcmVhdGUodGVtcGxhdGVJbmZvKSk7XG4gICAgICAgIHRlbXBsYXRlSW5mby53YXNQcmVCb3VuZCA9IHdhc1ByZUJvdW5kO1xuICAgICAgICBpZiAoIXdhc1ByZUJvdW5kICYmIHRoaXMuX190ZW1wbGF0ZUluZm8pIHtcbiAgICAgICAgICBsZXQgbGFzdCA9IHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0IHx8IHRoaXMuX190ZW1wbGF0ZUluZm87XG4gICAgICAgICAgdGhpcy5fX3RlbXBsYXRlSW5mb0xhc3QgPSBsYXN0Lm5leHRUZW1wbGF0ZUluZm8gPSB0ZW1wbGF0ZUluZm87XG4gICAgICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvID0gbGFzdDtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGVJbmZvO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fX3RlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcHJvcGVydHkgZWZmZWN0IHRvIHRoZSBnaXZlbiB0ZW1wbGF0ZSBtZXRhZGF0YSwgd2hpY2ggaXMgcnVuXG4gICAgICogYXQgdGhlIFwicHJvcGFnYXRlXCIgc3RhZ2Ugb2YgYF9wcm9wZXJ0aWVzQ2hhbmdlZGAgd2hlbiB0aGUgdGVtcGxhdGVcbiAgICAgKiBoYXMgYmVlbiBib3VuZCB0byB0aGUgZWxlbWVudCB2aWEgYF9iaW5kVGVtcGxhdGVgLlxuICAgICAqXG4gICAgICogVGhlIGBlZmZlY3RgIG9iamVjdCBzaG91bGQgbWF0Y2ggdGhlIGZvcm1hdCBpbiBgX2FkZFByb3BlcnR5RWZmZWN0YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgdG8gYWRkIGVmZmVjdCB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHRoYXQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZWZmZWN0IEVmZmVjdCBtZXRhZGF0YSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfYWRkVGVtcGxhdGVQcm9wZXJ0eUVmZmVjdCh0ZW1wbGF0ZUluZm8sIHByb3AsIGVmZmVjdCkge1xuICAgICAgbGV0IGhvc3RQcm9wcyA9IHRlbXBsYXRlSW5mby5ob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzIHx8IHt9O1xuICAgICAgaG9zdFByb3BzW3Byb3BdID0gdHJ1ZTtcbiAgICAgIGxldCBlZmZlY3RzID0gdGVtcGxhdGVJbmZvLnByb3BlcnR5RWZmZWN0cyA9IHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMgfHwge307XG4gICAgICBsZXQgcHJvcEVmZmVjdHMgPSBlZmZlY3RzW3Byb3BdID0gZWZmZWN0c1twcm9wXSB8fCBbXTtcbiAgICAgIHByb3BFZmZlY3RzLnB1c2goZWZmZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFtcHMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIGFuZCBwZXJmb3JtcyBpbnN0YW5jZS10aW1lIHNldHVwIGZvclxuICAgICAqIFBvbHltZXIgdGVtcGxhdGUgZmVhdHVyZXMsIGluY2x1ZGluZyBkYXRhIGJpbmRpbmdzLCBkZWNsYXJhdGl2ZSBldmVudFxuICAgICAqIGxpc3RlbmVycywgYW5kIHRoZSBgdGhpcy4kYCBtYXAgb2YgYGlkYCdzIHRvIG5vZGVzLiAgQSBkb2N1bWVudCBmcmFnbWVudFxuICAgICAqIGlzIHJldHVybmVkIGNvbnRhaW5pbmcgdGhlIHN0YW1wZWQgRE9NLCByZWFkeSBmb3IgaW5zZXJ0aW9uIGludG8gdGhlXG4gICAgICogRE9NLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgbWF5IGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZTsgaG93ZXZlciBub3RlIHRoYXQgZHVlIHRvXG4gICAgICogYHNoYWR5Y3NzYCBwb2x5ZmlsbCBsaW1pdGF0aW9ucywgb25seSBzdHlsZXMgZnJvbSB0ZW1wbGF0ZXMgcHJlcGFyZWRcbiAgICAgKiB1c2luZyBgU2hhZHlDU1MucHJlcGFyZVRlbXBsYXRlYCB3aWxsIGJlIGNvcnJlY3RseSBwb2x5ZmlsbGVkIChzY29wZWRcbiAgICAgKiB0byB0aGUgc2hhZG93IHJvb3QgYW5kIHN1cHBvcnQgQ1NTIGN1c3RvbSBwcm9wZXJ0aWVzKSwgYW5kIG5vdGUgdGhhdFxuICAgICAqIGBTaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGVgIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBlbGVtZW50LiBBcyBzdWNoLFxuICAgICAqIGFueSBzdHlsZXMgcmVxdWlyZWQgYnkgaW4gcnVudGltZS1zdGFtcGVkIHRlbXBsYXRlcyBtdXN0IGJlIGluY2x1ZGVkXG4gICAgICogaW4gdGhlIG1haW4gZWxlbWVudCB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIHN0YW1wXG4gICAgICogQHJldHVybiB7IVN0YW1wZWRUZW1wbGF0ZX0gQ2xvbmVkIHRlbXBsYXRlIGNvbnRlbnRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3N0YW1wVGVtcGxhdGUodGVtcGxhdGUpIHtcbiAgICAgIC8vIEVuc3VyZXMgdGhhdCBjcmVhdGVkIGRvbSBpcyBgX2VucXVldWVDbGllbnRgJ2QgdG8gdGhpcyBlbGVtZW50IHNvXG4gICAgICAvLyB0aGF0IGl0IGNhbiBiZSBmbHVzaGVkIG9uIG5leHQgY2FsbCB0byBgX2ZsdXNoUHJvcGVydGllc2BcbiAgICAgIGhvc3RTdGFjay5iZWdpbkhvc3RpbmcodGhpcyk7XG4gICAgICBsZXQgZG9tID0gc3VwZXIuX3N0YW1wVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgaG9zdFN0YWNrLmVuZEhvc3RpbmcodGhpcyk7XG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gLyoqIEB0eXBlIHshVGVtcGxhdGVJbmZvfSAqLyh0aGlzLl9iaW5kVGVtcGxhdGUodGVtcGxhdGUsIHRydWUpKTtcbiAgICAgIC8vIEFkZCB0ZW1wbGF0ZS1pbnN0YW5jZS1zcGVjaWZpYyBkYXRhIHRvIGluc3RhbmNlZCB0ZW1wbGF0ZUluZm9cbiAgICAgIHRlbXBsYXRlSW5mby5ub2RlTGlzdCA9IGRvbS5ub2RlTGlzdDtcbiAgICAgIC8vIENhcHR1cmUgY2hpbGQgbm9kZXMgdG8gYWxsb3cgdW5zdGFtcGluZyBvZiBub24tcHJvdG90eXBpY2FsIHRlbXBsYXRlc1xuICAgICAgaWYgKCF0ZW1wbGF0ZUluZm8ud2FzUHJlQm91bmQpIHtcbiAgICAgICAgbGV0IG5vZGVzID0gdGVtcGxhdGVJbmZvLmNoaWxkTm9kZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgbj1kb20uZmlyc3RDaGlsZDsgbjsgbj1uLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgbm9kZXMucHVzaChuKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZG9tLnRlbXBsYXRlSW5mbyA9IHRlbXBsYXRlSW5mbztcbiAgICAgIC8vIFNldHVwIGNvbXBvdW5kIHN0b3JhZ2UsIDItd2F5IGxpc3RlbmVycywgYW5kIGRhdGFIb3N0IGZvciBiaW5kaW5nc1xuICAgICAgc2V0dXBCaW5kaW5ncyh0aGlzLCB0ZW1wbGF0ZUluZm8pO1xuICAgICAgLy8gRmx1c2ggcHJvcGVydGllcyBpbnRvIHRlbXBsYXRlIG5vZGVzIGlmIGFscmVhZHkgYm9vdGVkXG4gICAgICBpZiAodGhpcy5fX2RhdGFSZWFkeSkge1xuICAgICAgICBydW5FZmZlY3RzKHRoaXMsIHRlbXBsYXRlSW5mby5wcm9wZXJ0eUVmZmVjdHMsIHRoaXMuX19kYXRhLCBudWxsLFxuICAgICAgICAgIGZhbHNlLCB0ZW1wbGF0ZUluZm8ubm9kZUxpc3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuZCB1bmJpbmRzIHRoZSBub2RlcyBwcmV2aW91c2x5IGNvbnRhaW5lZCBpbiB0aGUgcHJvdmlkZWRcbiAgICAgKiBEb2N1bWVudEZyYWdtZW50IHJldHVybmVkIGZyb20gYF9zdGFtcFRlbXBsYXRlYC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7IVN0YW1wZWRUZW1wbGF0ZX0gZG9tIERvY3VtZW50RnJhZ21lbnQgcHJldmlvdXNseSByZXR1cm5lZFxuICAgICAqICAgZnJvbSBgX3N0YW1wVGVtcGxhdGVgIGFzc29jaWF0ZWQgd2l0aCB0aGUgbm9kZXMgdG8gYmUgcmVtb3ZlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9yZW1vdmVCb3VuZERvbShkb20pIHtcbiAgICAgIC8vIFVubGluayB0ZW1wbGF0ZSBpbmZvXG4gICAgICBsZXQgdGVtcGxhdGVJbmZvID0gZG9tLnRlbXBsYXRlSW5mbztcbiAgICAgIGlmICh0ZW1wbGF0ZUluZm8ucHJldmlvdXNUZW1wbGF0ZUluZm8pIHtcbiAgICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvLm5leHRUZW1wbGF0ZUluZm8gPVxuICAgICAgICAgIHRlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvO1xuICAgICAgfVxuICAgICAgaWYgKHRlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHRlbXBsYXRlSW5mby5uZXh0VGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvID1cbiAgICAgICAgICB0ZW1wbGF0ZUluZm8ucHJldmlvdXNUZW1wbGF0ZUluZm87XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fX3RlbXBsYXRlSW5mb0xhc3QgPT0gdGVtcGxhdGVJbmZvKSB7XG4gICAgICAgIHRoaXMuX190ZW1wbGF0ZUluZm9MYXN0ID0gdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvO1xuICAgICAgfVxuICAgICAgdGVtcGxhdGVJbmZvLnByZXZpb3VzVGVtcGxhdGVJbmZvID0gdGVtcGxhdGVJbmZvLm5leHRUZW1wbGF0ZUluZm8gPSBudWxsO1xuICAgICAgLy8gUmVtb3ZlIHN0YW1wZWQgbm9kZXNcbiAgICAgIGxldCBub2RlcyA9IHRlbXBsYXRlSW5mby5jaGlsZE5vZGVzO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPG5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgZGVmYXVsdCBgVGVtcGxhdGVTdGFtcGAgaW1wbGVtZW50YXRpb24gdG8gYWRkIHN1cHBvcnQgZm9yXG4gICAgICogcGFyc2luZyBiaW5kaW5ncyBmcm9tIGBUZXh0Tm9kZWAncycgYHRleHRDb250ZW50YC4gIEEgYGJpbmRpbmdzYFxuICAgICAqIGFycmF5IGlzIGFkZGVkIHRvIGBub2RlSW5mb2AgYW5kIHBvcHVsYXRlZCB3aXRoIGJpbmRpbmcgbWV0YWRhdGFcbiAgICAgKiB3aXRoIGluZm9ybWF0aW9uIGNhcHR1cmluZyB0aGUgYmluZGluZyB0YXJnZXQsIGFuZCBhIGBwYXJ0c2AgYXJyYXlcbiAgICAgKiB3aXRoIG9uZSBvciBtb3JlIG1ldGFkYXRhIG9iamVjdHMgY2FwdHVyaW5nIHRoZSBzb3VyY2Uocykgb2YgdGhlXG4gICAgICogYmluZGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBOb2RlIHRvIHBhcnNlXG4gICAgICogQHBhcmFtIHtUZW1wbGF0ZUluZm99IHRlbXBsYXRlSW5mbyBUZW1wbGF0ZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7Tm9kZUluZm99IG5vZGVJbmZvIE5vZGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGUgbm9kZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmlzaXRlZCBub2RlIGFkZGVkIG5vZGUtc3BlY2lmaWNcbiAgICAgKiAgIG1ldGFkYXRhIHRvIGBub2RlSW5mb2BcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVOb2RlKG5vZGUsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8pIHtcbiAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgbGV0IG5vdGVkID0gcHJvcGVydHlFZmZlY3RzQmFzZS5fcGFyc2VUZW1wbGF0ZU5vZGUuY2FsbChcbiAgICAgICAgdGhpcywgbm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gdGhpcy5fcGFyc2VCaW5kaW5ncyhub2RlLnRleHRDb250ZW50LCB0ZW1wbGF0ZUluZm8pO1xuICAgICAgICBpZiAocGFydHMpIHtcbiAgICAgICAgICAvLyBJbml0aWFsaXplIHRoZSB0ZXh0Q29udGVudCB3aXRoIGFueSBsaXRlcmFsIHBhcnRzXG4gICAgICAgICAgLy8gTk9URTogZGVmYXVsdCB0byBhIHNwYWNlIGhlcmUgc28gdGhlIHRleHROb2RlIHJlbWFpbnM7IHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAvLyAoSUUpIG9taXQgYW4gZW1wdHkgdGV4dE5vZGUgZm9sbG93aW5nIGNsb25lTm9kZS9pbXBvcnROb2RlLlxuICAgICAgICAgIG5vZGUudGV4dENvbnRlbnQgPSBsaXRlcmFsRnJvbVBhcnRzKHBhcnRzKSB8fCAnICc7XG4gICAgICAgICAgYWRkQmluZGluZyh0aGlzLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCAndGV4dCcsICd0ZXh0Q29udGVudCcsIHBhcnRzKTtcbiAgICAgICAgICBub3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub3RlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgZGVmYXVsdCBgVGVtcGxhdGVTdGFtcGAgaW1wbGVtZW50YXRpb24gdG8gYWRkIHN1cHBvcnQgZm9yXG4gICAgICogcGFyc2luZyBiaW5kaW5ncyBmcm9tIGF0dHJpYnV0ZXMuICBBIGBiaW5kaW5nc2BcbiAgICAgKiBhcnJheSBpcyBhZGRlZCB0byBgbm9kZUluZm9gIGFuZCBwb3B1bGF0ZWQgd2l0aCBiaW5kaW5nIG1ldGFkYXRhXG4gICAgICogd2l0aCBpbmZvcm1hdGlvbiBjYXB0dXJpbmcgdGhlIGJpbmRpbmcgdGFyZ2V0LCBhbmQgYSBgcGFydHNgIGFycmF5XG4gICAgICogd2l0aCBvbmUgb3IgbW9yZSBtZXRhZGF0YSBvYmplY3RzIGNhcHR1cmluZyB0aGUgc291cmNlKHMpIG9mIHRoZVxuICAgICAqIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge05vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlIG5vZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBBdHRyaWJ1dGUgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBBdHRyaWJ1dGUgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTm9kZUF0dHJpYnV0ZShub2RlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgbGV0IHBhcnRzID0gdGhpcy5fcGFyc2VCaW5kaW5ncyh2YWx1ZSwgdGVtcGxhdGVJbmZvKTtcbiAgICAgIGlmIChwYXJ0cykge1xuICAgICAgICAvLyBBdHRyaWJ1dGUgb3IgcHJvcGVydHlcbiAgICAgICAgbGV0IG9yaWdOYW1lID0gbmFtZTtcbiAgICAgICAgbGV0IGtpbmQgPSAncHJvcGVydHknO1xuICAgICAgICAvLyBUaGUgb25seSB3YXkgd2Ugc2VlIGEgY2FwaXRhbCBsZXR0ZXIgaGVyZSBpcyBpZiB0aGUgYXR0ciBoYXNcbiAgICAgICAgLy8gYSBjYXBpdGFsIGxldHRlciBpbiBpdCBwZXIgc3BlYy4gSW4gdGhpcyBjYXNlLCB0byBtYWtlIHN1cmVcbiAgICAgICAgLy8gdGhpcyBiaW5kaW5nIHdvcmtzLCB3ZSBnbyBhaGVhZCBhbmQgbWFrZSB0aGUgYmluZGluZyB0byB0aGUgYXR0cmlidXRlLlxuICAgICAgICBpZiAoY2FwaXRhbEF0dHJpYnV0ZVJlZ2V4LnRlc3QobmFtZSkpIHtcbiAgICAgICAgICBraW5kID0gJ2F0dHJpYnV0ZSc7XG4gICAgICAgIH0gZWxzZSBpZiAobmFtZVtuYW1lLmxlbmd0aC0xXSA9PSAnJCcpIHtcbiAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgwLCAtMSk7XG4gICAgICAgICAga2luZCA9ICdhdHRyaWJ1dGUnO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluaXRpYWxpemUgYXR0cmlidXRlIGJpbmRpbmdzIHdpdGggYW55IGxpdGVyYWwgcGFydHNcbiAgICAgICAgbGV0IGxpdGVyYWwgPSBsaXRlcmFsRnJvbVBhcnRzKHBhcnRzKTtcbiAgICAgICAgaWYgKGxpdGVyYWwgJiYga2luZCA9PSAnYXR0cmlidXRlJykge1xuICAgICAgICAgIC8vIEVuc3VyZSBhIFNoYWR5Q1NTIHRlbXBsYXRlIHNjb3BlZCBzdHlsZSBpcyBub3QgcmVtb3ZlZFxuICAgICAgICAgIC8vIHdoZW4gYSBjbGFzcyQgYmluZGluZydzIGluaXRpYWwgbGl0ZXJhbCB2YWx1ZSBpcyBzZXQuXG4gICAgICAgICAgaWYgKG5hbWUgPT0gJ2NsYXNzJyAmJiBub2RlLmhhc0F0dHJpYnV0ZSgnY2xhc3MnKSkge1xuICAgICAgICAgICAgbGl0ZXJhbCArPSAnICcgKyBub2RlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgbGl0ZXJhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYXIgYXR0cmlidXRlIGJlZm9yZSByZW1vdmluZywgc2luY2UgSUUgd29uJ3QgYWxsb3cgcmVtb3ZpbmdcbiAgICAgICAgLy8gYHZhbHVlYCBhdHRyaWJ1dGUgaWYgaXQgcHJldmlvdXNseSBoYWQgYSB2YWx1ZSAoY2FuJ3RcbiAgICAgICAgLy8gdW5jb25kaXRpb25hbGx5IHNldCAnJyBiZWZvcmUgcmVtb3Zpbmcgc2luY2UgYXR0cmlidXRlcyB3aXRoIGAkYFxuICAgICAgICAvLyBjYW4ndCBiZSBzZXQgdXNpbmcgc2V0QXR0cmlidXRlKVxuICAgICAgICBpZiAobm9kZS5sb2NhbE5hbWUgPT09ICdpbnB1dCcgJiYgb3JpZ05hbWUgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShvcmlnTmFtZSwgJycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSBhbm5vdGF0aW9uXG4gICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG9yaWdOYW1lKTtcbiAgICAgICAgLy8gQ2FzZSBoYWNrZXJ5OiBhdHRyaWJ1dGVzIGFyZSBsb3dlci1jYXNlLCBidXQgYmluZCB0YXJnZXRzXG4gICAgICAgIC8vIChwcm9wZXJ0aWVzKSBhcmUgY2FzZSBzZW5zaXRpdmUuIEdhbWJpdCBpcyB0byBtYXAgZGFzaC1jYXNlIHRvXG4gICAgICAgIC8vIGNhbWVsLWNhc2U6IGBmb28tYmFyYCBiZWNvbWVzIGBmb29CYXJgLlxuICAgICAgICAvLyBBdHRyaWJ1dGUgYmluZGluZ3MgYXJlIGV4Y2VwdGVkLlxuICAgICAgICBpZiAoa2luZCA9PT0gJ3Byb3BlcnR5Jykge1xuICAgICAgICAgIG5hbWUgPSBkYXNoVG9DYW1lbENhc2UobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkQmluZGluZyh0aGlzLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvLCBraW5kLCBuYW1lLCBwYXJ0cywgbGl0ZXJhbCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVE9ETyhodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMyNDApOlxuICAgICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5RWZmZWN0c0Jhc2UuX3BhcnNlVGVtcGxhdGVOb2RlQXR0cmlidXRlLmNhbGwoXG4gICAgICAgICAgdGhpcywgbm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbywgbmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBkZWZhdWx0IGBUZW1wbGF0ZVN0YW1wYCBpbXBsZW1lbnRhdGlvbiB0byBhZGQgc3VwcG9ydCBmb3JcbiAgICAgKiBiaW5kaW5nIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYSBuZXN0ZWQgdGVtcGxhdGUgZGVwZW5kcyBvbiB0byB0aGUgdGVtcGxhdGVcbiAgICAgKiBhcyBgX2hvc3RfPHByb3BlcnR5PmAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge05vZGV9IG5vZGUgTm9kZSB0byBwYXJzZVxuICAgICAqIEBwYXJhbSB7VGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge05vZGVJbmZvfSBub2RlSW5mbyBOb2RlIG1ldGFkYXRhIGZvciBjdXJyZW50IHRlbXBsYXRlIG5vZGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZpc2l0ZWQgbm9kZSBhZGRlZCBub2RlLXNwZWNpZmljXG4gICAgICogICBtZXRhZGF0YSB0byBgbm9kZUluZm9gXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUobm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbykge1xuICAgICAgLy8gVE9ETyhodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtY29tcGlsZXIvaXNzdWVzLzMyNDApOlxuICAgICAgLy8gICAgIENoYW5nZSBiYWNrIHRvIGp1c3Qgc3VwZXIubWV0aG9kQ2FsbCgpXG4gICAgICBsZXQgbm90ZWQgPSBwcm9wZXJ0eUVmZmVjdHNCYXNlLl9wYXJzZVRlbXBsYXRlTmVzdGVkVGVtcGxhdGUuY2FsbChcbiAgICAgICAgdGhpcywgbm9kZSwgdGVtcGxhdGVJbmZvLCBub2RlSW5mbyk7XG4gICAgICAvLyBNZXJnZSBob3N0IHByb3BzIGludG8gb3V0ZXIgdGVtcGxhdGUgYW5kIGFkZCBiaW5kaW5nc1xuICAgICAgbGV0IGhvc3RQcm9wcyA9IG5vZGVJbmZvLnRlbXBsYXRlSW5mby5ob3N0UHJvcHM7XG4gICAgICBsZXQgbW9kZSA9ICd7JztcbiAgICAgIGZvciAobGV0IHNvdXJjZSBpbiBob3N0UHJvcHMpIHtcbiAgICAgICAgbGV0IHBhcnRzID0gW3sgbW9kZSwgc291cmNlLCBkZXBlbmRlbmNpZXM6IFtzb3VyY2VdIH1dO1xuICAgICAgICBhZGRCaW5kaW5nKHRoaXMsIHRlbXBsYXRlSW5mbywgbm9kZUluZm8sICdwcm9wZXJ0eScsICdfaG9zdF8nICsgc291cmNlLCBwYXJ0cyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm90ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHRvIHBhcnNlIHRleHQgaW4gYSB0ZW1wbGF0ZSAoZWl0aGVyIGF0dHJpYnV0ZSB2YWx1ZXMgb3JcbiAgICAgKiB0ZXh0Q29udGVudCkgaW50byBiaW5kaW5nIG1ldGFkYXRhLlxuICAgICAqXG4gICAgICogQW55IG92ZXJyaWRlcyBvZiB0aGlzIG1ldGhvZCBzaG91bGQgcmV0dXJuIGFuIGFycmF5IG9mIGJpbmRpbmcgcGFydFxuICAgICAqIG1ldGFkYXRhICByZXByZXNlbnRpbmcgb25lIG9yIG1vcmUgYmluZGluZ3MgZm91bmQgaW4gdGhlIHByb3ZpZGVkIHRleHRcbiAgICAgKiBhbmQgYW55IFwibGl0ZXJhbFwiIHRleHQgaW4gYmV0d2Vlbi4gIEFueSBub24tbGl0ZXJhbCBwYXJ0cyB3aWxsIGJlIHBhc3NlZFxuICAgICAqIHRvIGBfZXZhbHVhdGVCaW5kaW5nYCB3aGVuIGFueSBkZXBlbmRlbmNpZXMgY2hhbmdlLiAgVGhlIG9ubHkgcmVxdWlyZWRcbiAgICAgKiBmaWVsZHMgb2YgZWFjaCBcInBhcnRcIiBpbiB0aGUgcmV0dXJuZWQgYXJyYXkgYXJlIGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiAtIGBkZXBlbmRlbmNpZXNgIC0gQXJyYXkgY29udGFpbmluZyB0cmlnZ2VyIG1ldGFkYXRhIGZvciBlYWNoIHByb3BlcnR5XG4gICAgICogICB0aGF0IHNob3VsZCB0cmlnZ2VyIHRoZSBiaW5kaW5nIHRvIHVwZGF0ZVxuICAgICAqIC0gYGxpdGVyYWxgIC0gU3RyaW5nIGNvbnRhaW5pbmcgdGV4dCBpZiB0aGUgcGFydCByZXByZXNlbnRzIGEgbGl0ZXJhbDtcbiAgICAgKiAgIGluIHRoaXMgY2FzZSBubyBgZGVwZW5kZW5jaWVzYCBhcmUgbmVlZGVkXG4gICAgICpcbiAgICAgKiBBZGRpdGlvbmFsIG1ldGFkYXRhIGZvciB1c2UgYnkgYF9ldmFsdWF0ZUJpbmRpbmdgIG1heSBiZSBwcm92aWRlZCBpblxuICAgICAqIGVhY2ggcGFydCBvYmplY3QgYXMgbmVlZGVkLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gaGFuZGxlcyB0aGUgZm9sbG93aW5nIHR5cGVzIG9mIGJpbmRpbmdzXG4gICAgICogKG9uZSBvciBtb3JlIG1heSBiZSBpbnRlcm1peGVkIHdpdGggbGl0ZXJhbCBzdHJpbmdzKTpcbiAgICAgKiAtIFByb3BlcnR5IGJpbmRpbmc6IGBbW3Byb3BdXWBcbiAgICAgKiAtIFBhdGggYmluZGluZzogYFtbb2JqZWN0LnByb3BdXWBcbiAgICAgKiAtIE5lZ2F0ZWQgcHJvcGVydHkgb3IgcGF0aCBiaW5kaW5nczogYFtbIXByb3BdXWAgb3IgYFtbIW9iamVjdC5wcm9wXV1gXG4gICAgICogLSBUd28td2F5IHByb3BlcnR5IG9yIHBhdGggYmluZGluZ3MgKHN1cHBvcnRzIG5lZ2F0aW9uKTpcbiAgICAgKiAgIGB7e3Byb3B9fWAsIGB7e29iamVjdC5wcm9wfX1gLCBge3shcHJvcH19YCBvciBge3shb2JqZWN0LnByb3B9fWBcbiAgICAgKiAtIElubGluZSBjb21wdXRlZCBtZXRob2QgKHN1cHBvcnRzIG5lZ2F0aW9uKTpcbiAgICAgKiAgIGBbW2NvbXB1dGUoYSwgJ2xpdGVyYWwnLCBiKV1dYCwgYFtbIWNvbXB1dGUoYSwgJ2xpdGVyYWwnLCBiKV1dYFxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gdXNlcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgYmVzdFxuICAgICAqIHBlcmZvcm1hbmNlLiBIb3dldmVyLCB0aGUgcmVndWxhciBleHByZXNzaW9uIHVzZXMgYSB3aGl0ZS1saXN0IG9mXG4gICAgICogYWxsb3dlZCBjaGFyYWN0ZXJzIGluIGEgZGF0YS1iaW5kaW5nLCB3aGljaCBjYXVzZXMgcHJvYmxlbXMgZm9yXG4gICAgICogZGF0YS1iaW5kaW5ncyB0aGF0IGRvIHVzZSBjaGFyYWN0ZXJzIG5vdCBpbiB0aGlzIHdoaXRlLWxpc3QuXG4gICAgICpcbiAgICAgKiBJbnN0ZWFkIG9mIHVwZGF0aW5nIHRoZSB3aGl0ZS1saXN0IHdpdGggYWxsIGFsbG93ZWQgY2hhcmFjdGVycyxcbiAgICAgKiB0aGVyZSBpcyBhIFN0cmljdEJpbmRpbmdQYXJzZXIgKHNlZSBsaWIvbWl4aW5zL3N0cmljdC1iaW5kaW5nLXBhcnNlcilcbiAgICAgKiB0aGF0IHVzZXMgYSBzdGF0ZSBtYWNoaW5lIGluc3RlYWQuIFRoaXMgc3RhdGUgbWFjaGluZSBpcyBhYmxlIHRvIGhhbmRsZVxuICAgICAqIGFsbCBjaGFyYWN0ZXJzLiBIb3dldmVyLCBpdCBpcyBzbGlnaHRseSBsZXNzIHBlcmZvcm1hbnQsIHRoZXJlZm9yZSB3ZVxuICAgICAqIGV4dHJhY3RlZCBpdCBpbnRvIGEgc2VwYXJhdGUgb3B0aW9uYWwgbWl4aW4uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUZXh0IHRvIHBhcnNlIGZyb20gYXR0cmlidXRlIG9yIHRleHRDb250ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRlbXBsYXRlSW5mbyBDdXJyZW50IHRlbXBsYXRlIG1ldGFkYXRhXG4gICAgICogQHJldHVybiB7QXJyYXk8IUJpbmRpbmdQYXJ0Pn0gQXJyYXkgb2YgYmluZGluZyBwYXJ0IG1ldGFkYXRhXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wYXJzZUJpbmRpbmdzKHRleHQsIHRlbXBsYXRlSW5mbykge1xuICAgICAgbGV0IHBhcnRzID0gW107XG4gICAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICAgIGxldCBtO1xuICAgICAgLy8gRXhhbXBsZTogXCJsaXRlcmFsMXt7cHJvcH19bGl0ZXJhbDJbWyFjb21wdXRlKGZvbyxiYXIpXV1maW5hbFwiXG4gICAgICAvLyBSZWdleCBtYXRjaGVzOlxuICAgICAgLy8gICAgICAgIEl0ZXJhdGlvbiAxOiAgSXRlcmF0aW9uIDI6XG4gICAgICAvLyBtWzFdOiAne3snICAgICAgICAgICdbWydcbiAgICAgIC8vIG1bMl06ICcnICAgICAgICAgICAgJyEnXG4gICAgICAvLyBtWzNdOiAncHJvcCcgICAgICAgICdjb21wdXRlKGZvbyxiYXIpJ1xuICAgICAgd2hpbGUgKChtID0gYmluZGluZ1JlZ2V4LmV4ZWModGV4dCkpICE9PSBudWxsKSB7XG4gICAgICAgIC8vIEFkZCBsaXRlcmFsIHBhcnRcbiAgICAgICAgaWYgKG0uaW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHtsaXRlcmFsOiB0ZXh0LnNsaWNlKGxhc3RJbmRleCwgbS5pbmRleCl9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgYmluZGluZyBwYXJ0XG4gICAgICAgIGxldCBtb2RlID0gbVsxXVswXTtcbiAgICAgICAgbGV0IG5lZ2F0ZSA9IEJvb2xlYW4obVsyXSk7XG4gICAgICAgIGxldCBzb3VyY2UgPSBtWzNdLnRyaW0oKTtcbiAgICAgICAgbGV0IGN1c3RvbUV2ZW50ID0gZmFsc2UsIG5vdGlmeUV2ZW50ID0gJycsIGNvbG9uID0gLTE7XG4gICAgICAgIGlmIChtb2RlID09ICd7JyAmJiAoY29sb24gPSBzb3VyY2UuaW5kZXhPZignOjonKSkgPiAwKSB7XG4gICAgICAgICAgbm90aWZ5RXZlbnQgPSBzb3VyY2Uuc3Vic3RyaW5nKGNvbG9uICsgMik7XG4gICAgICAgICAgc291cmNlID0gc291cmNlLnN1YnN0cmluZygwLCBjb2xvbik7XG4gICAgICAgICAgY3VzdG9tRXZlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzaWduYXR1cmUgPSBwYXJzZU1ldGhvZChzb3VyY2UpO1xuICAgICAgICBsZXQgZGVwZW5kZW5jaWVzID0gW107XG4gICAgICAgIGlmIChzaWduYXR1cmUpIHtcbiAgICAgICAgICAvLyBJbmxpbmUgY29tcHV0ZWQgZnVuY3Rpb25cbiAgICAgICAgICBsZXQge2FyZ3MsIG1ldGhvZE5hbWV9ID0gc2lnbmF0dXJlO1xuICAgICAgICAgIGZvciAobGV0IGk9MDsgaTxhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYXJnID0gYXJnc1tpXTtcbiAgICAgICAgICAgIGlmICghYXJnLmxpdGVyYWwpIHtcbiAgICAgICAgICAgICAgZGVwZW5kZW5jaWVzLnB1c2goYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGR5bmFtaWNGbnMgPSB0ZW1wbGF0ZUluZm8uZHluYW1pY0ZucztcbiAgICAgICAgICBpZiAoZHluYW1pY0ZucyAmJiBkeW5hbWljRm5zW21ldGhvZE5hbWVdIHx8IHNpZ25hdHVyZS5zdGF0aWMpIHtcbiAgICAgICAgICAgIGRlcGVuZGVuY2llcy5wdXNoKG1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgc2lnbmF0dXJlLmR5bmFtaWNGbiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFByb3BlcnR5IG9yIHBhdGhcbiAgICAgICAgICBkZXBlbmRlbmNpZXMucHVzaChzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgIHNvdXJjZSwgbW9kZSwgbmVnYXRlLCBjdXN0b21FdmVudCwgc2lnbmF0dXJlLCBkZXBlbmRlbmNpZXMsXG4gICAgICAgICAgZXZlbnQ6IG5vdGlmeUV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBsYXN0SW5kZXggPSBiaW5kaW5nUmVnZXgubGFzdEluZGV4O1xuICAgICAgfVxuICAgICAgLy8gQWRkIGEgZmluYWwgbGl0ZXJhbCBwYXJ0XG4gICAgICBpZiAobGFzdEluZGV4ICYmIGxhc3RJbmRleCA8IHRleHQubGVuZ3RoKSB7XG4gICAgICAgIGxldCBsaXRlcmFsID0gdGV4dC5zdWJzdHJpbmcobGFzdEluZGV4KTtcbiAgICAgICAgaWYgKGxpdGVyYWwpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgIGxpdGVyYWw6IGxpdGVyYWxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcGFydHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgdG8gZXZhbHVhdGUgYSBwcmV2aW91c2x5IHBhcnNlZCBiaW5kaW5nIHBhcnQgYmFzZWQgb24gYSBzZXQgb2ZcbiAgICAgKiBvbmUgb3IgbW9yZSBjaGFuZ2VkIGRlcGVuZGVuY2llcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSBpbnN0IEVsZW1lbnQgdGhhdCBzaG91bGQgYmUgdXNlZCBhc1xuICAgICAqICAgICBzY29wZSBmb3IgYmluZGluZyBkZXBlbmRlbmNpZXNcbiAgICAgKiBAcGFyYW0ge0JpbmRpbmdQYXJ0fSBwYXJ0IEJpbmRpbmcgcGFydCBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFByb3BlcnR5L3BhdGggdGhhdCB0cmlnZ2VyZWQgdGhpcyBlZmZlY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgQmFnIG9mIGN1cnJlbnQgcHJvcGVydHkgY2hhbmdlc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvbGRQcm9wcyBCYWcgb2YgcHJldmlvdXMgdmFsdWVzIGZvciBjaGFuZ2VkIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhhc1BhdGhzIFRydWUgd2l0aCBgcHJvcHNgIGNvbnRhaW5zIG9uZSBvciBtb3JlIHBhdGhzXG4gICAgICogQHJldHVybiB7Kn0gVmFsdWUgdGhlIGJpbmRpbmcgcGFydCBldmFsdWF0ZWQgdG9cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2V2YWx1YXRlQmluZGluZyhpbnN0LCBwYXJ0LCBwYXRoLCBwcm9wcywgb2xkUHJvcHMsIGhhc1BhdGhzKSB7XG4gICAgICBsZXQgdmFsdWU7XG4gICAgICBpZiAocGFydC5zaWduYXR1cmUpIHtcbiAgICAgICAgdmFsdWUgPSBydW5NZXRob2RFZmZlY3QoaW5zdCwgcGF0aCwgcHJvcHMsIG9sZFByb3BzLCBwYXJ0LnNpZ25hdHVyZSk7XG4gICAgICB9IGVsc2UgaWYgKHBhdGggIT0gcGFydC5zb3VyY2UpIHtcbiAgICAgICAgdmFsdWUgPSBnZXQoaW5zdCwgcGFydC5zb3VyY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGhhc1BhdGhzICYmIGlzUGF0aChwYXRoKSkge1xuICAgICAgICAgIHZhbHVlID0gZ2V0KGluc3QsIHBhdGgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gaW5zdC5fX2RhdGFbcGF0aF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJ0Lm5lZ2F0ZSkge1xuICAgICAgICB2YWx1ZSA9ICF2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBQcm9wZXJ0eUVmZmVjdHM7XG59KTtcblxuLyoqXG4gKiBIZWxwZXIgYXBpIGZvciBlbnF1ZXVpbmcgY2xpZW50IGRvbSBjcmVhdGVkIGJ5IGEgaG9zdCBlbGVtZW50LlxuICpcbiAqIEJ5IGRlZmF1bHQgZWxlbWVudHMgYXJlIGZsdXNoZWQgdmlhIGBfZmx1c2hQcm9wZXJ0aWVzYCB3aGVuXG4gKiBgY29ubmVjdGVkQ2FsbGJhY2tgIGlzIGNhbGxlZC4gRWxlbWVudHMgYXR0YWNoIHRoZWlyIGNsaWVudCBkb20gdG9cbiAqIHRoZW1zZWx2ZXMgYXQgYHJlYWR5YCB0aW1lIHdoaWNoIHJlc3VsdHMgZnJvbSB0aGlzIGZpcnN0IGZsdXNoLlxuICogVGhpcyBwcm92aWRlcyBhbiBvcmRlcmluZyBndWFyYW50ZWUgdGhhdCB0aGUgY2xpZW50IGRvbSBhbiBlbGVtZW50XG4gKiBjcmVhdGVzIGlzIGZsdXNoZWQgYmVmb3JlIHRoZSBlbGVtZW50IGl0c2VsZiAoaS5lLiBjbGllbnQgYHJlYWR5YFxuICogZmlyZXMgYmVmb3JlIGhvc3QgYHJlYWR5YCkuXG4gKlxuICogSG93ZXZlciwgaWYgYF9mbHVzaFByb3BlcnRpZXNgIGlzIGNhbGxlZCAqYmVmb3JlKiBhbiBlbGVtZW50IGlzIGNvbm5lY3RlZCxcbiAqIGFzIGZvciBleGFtcGxlIGBUZW1wbGF0aXplYCBkb2VzLCB0aGlzIG9yZGVyaW5nIGd1YXJhbnRlZSBjYW5ub3QgYmVcbiAqIHNhdGlzZmllZCBiZWNhdXNlIG5vIGVsZW1lbnRzIGFyZSBjb25uZWN0ZWQuIChOb3RlOiBCb3VuZCBlbGVtZW50cyB0aGF0XG4gKiByZWNlaXZlIGRhdGEgZG8gYmVjb21lIGVucXVldWVkIGNsaWVudHMgYW5kIGFyZSBwcm9wZXJseSBvcmRlcmVkIGJ1dFxuICogdW5ib3VuZCBlbGVtZW50cyBhcmUgbm90LilcbiAqXG4gKiBUbyBtYWludGFpbiB0aGUgZGVzaXJlZCBcImNsaWVudCBiZWZvcmUgaG9zdFwiIG9yZGVyaW5nIGd1YXJhbnRlZSBmb3IgdGhpc1xuICogY2FzZSB3ZSByZWx5IG9uIHRoZSBcImhvc3Qgc3RhY2suIENsaWVudCBub2RlcyByZWdpc3RlcnMgdGhlbXNlbHZlcyB3aXRoXG4gKiB0aGUgY3JlYXRpbmcgaG9zdCBlbGVtZW50IHdoZW4gY3JlYXRlZC4gVGhpcyBlbnN1cmVzIHRoYXQgYWxsIGNsaWVudCBkb21cbiAqIGlzIHJlYWRpZWQgaW4gdGhlIHByb3BlciBvcmRlciwgbWFpbnRhaW5pbmcgdGhlIGRlc2lyZWQgZ3VhcmFudGVlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEhvc3RTdGFjayB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGluc3QgSW5zdGFuY2UgdG8gYWRkIHRvIGhvc3RTdGFja1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVnaXN0ZXJIb3N0KGluc3QpIHtcbiAgICBpZiAodGhpcy5zdGFjay5sZW5ndGgpIHtcbiAgICAgIGxldCBob3N0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aC0xXTtcbiAgICAgIGhvc3QuX2VucXVldWVDbGllbnQoaW5zdCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7Kn0gaW5zdCBJbnN0YW5jZSB0byBiZWdpbiBob3N0aW5nXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBiZWdpbkhvc3RpbmcoaW5zdCkge1xuICAgIHRoaXMuc3RhY2sucHVzaChpbnN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyp9IGluc3QgSW5zdGFuY2UgdG8gZW5kIGhvc3RpbmdcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGVuZEhvc3RpbmcoaW5zdCkge1xuICAgIGxldCBzdGFja0xlbiA9IHRoaXMuc3RhY2subGVuZ3RoO1xuICAgIGlmIChzdGFja0xlbiAmJiB0aGlzLnN0YWNrW3N0YWNrTGVuLTFdID09IGluc3QpIHtcbiAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgfVxuICB9XG59XG5jb25zdCBob3N0U3RhY2sgPSBuZXcgSG9zdFN0YWNrKCk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIFRvdGFsIG51bWJlciBvZiBQb2x5bWVyIGVsZW1lbnQgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5leHBvcnQgbGV0IGluc3RhbmNlQ291bnQgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVtZW50SW5zdGFuY2VDb3VudCgpIHtcbiAgaW5zdGFuY2VDb3VudCsrO1xufVxuXG4vKipcbiAqIEFycmF5IG9mIFBvbHltZXIgZWxlbWVudCBjbGFzc2VzIHRoYXQgaGF2ZSBiZWVuIGZpbmFsaXplZC5cbiAqIEB0eXBlIHshQXJyYXk8IVBvbHltZXJFbGVtZW50Q29uc3RydWN0b3I+fVxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0cmF0aW9ucyA9IFtdO1xuXG4vKipcbiAqIEBwYXJhbSB7IVBvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9IHByb3RvdHlwZSBFbGVtZW50IHByb3RvdHlwZSB0byBsb2dcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIF9yZWdMb2cocHJvdG90eXBlKSB7XG4gIGNvbnNvbGUubG9nKCdbJyArIC8qKiBAdHlwZSB7P30gKi8ocHJvdG90eXBlKS5pcyArICddOiByZWdpc3RlcmVkJyk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGEgY2xhc3MgcHJvdG90eXBlIGZvciB0ZWxlbWV0cnkgcHVycG9zZXMuXG4gKiBAcGFyYW0geyFQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBwcm90b3R5cGUgRWxlbWVudCBwcm90b3R5cGUgdG8gcmVnaXN0ZXJcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyKHByb3RvdHlwZSkge1xuICByZWdpc3RyYXRpb25zLnB1c2gocHJvdG90eXBlKTtcbn1cblxuLyoqXG4gKiBMb2dzIGFsbCBlbGVtZW50cyByZWdpc3RlcmVkIHdpdGggYW4gYGlzYCB0byB0aGUgY29uc29sZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGR1bXBSZWdpc3RyYXRpb25zKCkge1xuICByZWdpc3RyYXRpb25zLmZvckVhY2goX3JlZ0xvZyk7XG59IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyByZWdpc3RlciwgaW5jcmVtZW50SW5zdGFuY2VDb3VudCB9IGZyb20gJy4uL3V0aWxzL3RlbGVtZXRyeS5qcyc7XG5pbXBvcnQgeyBQcm9wZXJ0aWVzQ2hhbmdlZCB9IGZyb20gJy4vcHJvcGVydGllcy1jaGFuZ2VkLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgY29weSBvZiBgcHJvcHNgIHdpdGggZWFjaCBwcm9wZXJ0eSBub3JtYWxpemVkIHN1Y2ggdGhhdFxuICogdXBncmFkZWQgaXQgaXMgYW4gb2JqZWN0IHdpdGggYXQgbGVhc3QgYSB0eXBlIHByb3BlcnR5IHsgdHlwZTogVHlwZX0uXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHByb3BzIFByb3BlcnRpZXMgdG8gbm9ybWFsaXplXG4gKiBAcmV0dXJuIHtPYmplY3R9IENvcHkgb2YgaW5wdXQgYHByb3BzYCB3aXRoIG5vcm1hbGl6ZWQgcHJvcGVydGllcyB0aGF0XG4gKiBhcmUgaW4gdGhlIGZvcm0ge3R5cGU6IFR5cGV9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gIGNvbnN0IG91dHB1dCA9IHt9O1xuICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgY29uc3QgbyA9IHByb3BzW3BdO1xuICAgIG91dHB1dFtwXSA9ICh0eXBlb2YgbyA9PT0gJ2Z1bmN0aW9uJykgPyB7dHlwZTogb30gOiBvO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogTWl4aW4gdGhhdCBwcm92aWRlcyBhIG1pbmltYWwgc3RhcnRpbmcgcG9pbnQgdG8gdXNpbmcgdGhlIFByb3BlcnRpZXNDaGFuZ2VkXG4gKiBtaXhpbiBieSBwcm92aWRpbmcgYSBtZWNoYW5pc20gdG8gZGVjbGFyZSBwcm9wZXJ0aWVzIGluIGEgc3RhdGljXG4gKiBnZXR0ZXIgKGUuZy4gc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkgeyByZXR1cm4geyBmb286IFN0cmluZyB9IH0pLiBDaGFuZ2VzXG4gKiBhcmUgcmVwb3J0ZWQgdmlhIHRoZSBgX3Byb3BlcnRpZXNDaGFuZ2VkYCBtZXRob2QuXG4gKlxuICogVGhpcyBtaXhpbiBwcm92aWRlcyBubyBzcGVjaWZpYyBzdXBwb3J0IGZvciByZW5kZXJpbmcuIFVzZXJzIGFyZSBleHBlY3RlZFxuICogdG8gY3JlYXRlIGEgU2hhZG93Um9vdCBhbmQgcHV0IGNvbnRlbnQgaW50byBpdCBhbmQgdXBkYXRlIGl0IGluIHdoYXRldmVyXG4gKiB3YXkgbWFrZXMgc2Vuc2UuIFRoaXMgY2FuIGJlIGRvbmUgaW4gcmVhY3Rpb24gdG8gcHJvcGVydGllcyBjaGFuZ2luZyBieVxuICogaW1wbGVtZW50aW5nIGBfcHJvcGVydGllc0NoYW5nZWRgLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0aWVzQ2hhbmdlZFxuICogQHN1bW1hcnkgTWl4aW4gdGhhdCBwcm92aWRlcyBhIG1pbmltYWwgc3RhcnRpbmcgcG9pbnQgZm9yIHVzaW5nXG4gKiB0aGUgUHJvcGVydGllc0NoYW5nZWQgbWl4aW4gYnkgcHJvdmlkaW5nIGEgZGVjbGFyYXRpdmUgYHByb3BlcnRpZXNgIG9iamVjdC5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9wZXJ0aWVzTWl4aW4gPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gLyoqXG4gICogQGNvbnN0cnVjdG9yXG4gICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydGllc0NoYW5nZWR9XG4gICogQHByaXZhdGVcbiAgKi9cbiBjb25zdCBiYXNlID0gUHJvcGVydGllc0NoYW5nZWQoc3VwZXJDbGFzcyk7XG5cbiAvKipcbiAgKiBSZXR1cm5zIHRoZSBzdXBlciBjbGFzcyBjb25zdHJ1Y3RvciBmb3IgdGhlIGdpdmVuIGNsYXNzLCBpZiBpdCBpcyBhblxuICAqIGluc3RhbmNlIG9mIHRoZSBQcm9wZXJ0aWVzTWl4aW4uXG4gICpcbiAgKiBAcGFyYW0geyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gY29uc3RydWN0b3IgUHJvcGVydGllc01peGluIGNvbnN0cnVjdG9yXG4gICogQHJldHVybiB7P1Byb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSBTdXBlciBjbGFzcyBjb25zdHJ1Y3RvclxuICAqL1xuIGZ1bmN0aW9uIHN1cGVyUHJvcGVydGllc0NsYXNzKGNvbnN0cnVjdG9yKSB7XG4gICBjb25zdCBzdXBlckN0b3IgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY29uc3RydWN0b3IpO1xuXG4gICAvLyBOb3RlLCB0aGUgYFByb3BlcnRpZXNNaXhpbmAgY2xhc3MgYmVsb3cgb25seSByZWZlcnMgdG8gdGhlIGNsYXNzXG4gICAvLyBnZW5lcmF0ZWQgYnkgdGhpcyBjYWxsIHRvIHRoZSBtaXhpbjsgdGhlIGluc3RhbmNlb2YgdGVzdCBvbmx5IHdvcmtzXG4gICAvLyBiZWNhdXNlIHRoZSBtaXhpbiBpcyBkZWR1cGVkIGFuZCBndWFyYW50ZWVkIG9ubHkgdG8gYXBwbHkgb25jZSwgaGVuY2VcbiAgIC8vIGFsbCBjb25zdHJ1Y3RvcnMgaW4gYSBwcm90byBjaGFpbiB3aWxsIHNlZSB0aGUgc2FtZSBgUHJvcGVydGllc01peGluYFxuICAgcmV0dXJuIChzdXBlckN0b3IucHJvdG90eXBlIGluc3RhbmNlb2YgUHJvcGVydGllc01peGluKSA/XG4gICAgIC8qKiBAdHlwZSB7IVByb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSAqLyAoc3VwZXJDdG9yKSA6IG51bGw7XG4gfVxuXG4gLyoqXG4gICogUmV0dXJucyBhIG1lbW9pemVkIHZlcnNpb24gb2YgdGhlIGBwcm9wZXJ0aWVzYCBvYmplY3QgZm9yIHRoZVxuICAqIGdpdmVuIGNsYXNzLiBQcm9wZXJ0aWVzIG5vdCBpbiBvYmplY3QgZm9ybWF0IGFyZSBjb252ZXJ0ZWQgdG8gYXRcbiAgKiBsZWFzdCB7dHlwZX0uXG4gICpcbiAgKiBAcGFyYW0ge1Byb3BlcnRpZXNNaXhpbkNvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvciBQcm9wZXJ0aWVzTWl4aW4gY29uc3RydWN0b3JcbiAgKiBAcmV0dXJuIHtPYmplY3R9IE1lbW9pemVkIHByb3BlcnRpZXMgb2JqZWN0XG4gICovXG4gZnVuY3Rpb24gb3duUHJvcGVydGllcyhjb25zdHJ1Y3Rvcikge1xuICAgaWYgKCFjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX293blByb3BlcnRpZXMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgIGxldCBwcm9wcyA9IG51bGw7XG5cbiAgICAgaWYgKGNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3Byb3BlcnRpZXMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICAgY29uc3QgcHJvcGVydGllcyA9IGNvbnN0cnVjdG9yLnByb3BlcnRpZXM7XG5cbiAgICAgICBpZiAocHJvcGVydGllcykge1xuICAgICAgICBwcm9wcyA9IG5vcm1hbGl6ZVByb3BlcnRpZXMocHJvcGVydGllcyk7XG4gICAgICAgfVxuICAgICB9XG5cbiAgICAgY29uc3RydWN0b3IuX19vd25Qcm9wZXJ0aWVzID0gcHJvcHM7XG4gICB9XG4gICByZXR1cm4gY29uc3RydWN0b3IuX19vd25Qcm9wZXJ0aWVzO1xuIH1cblxuIC8qKlxuICAqIEBwb2x5bWVyXG4gICogQG1peGluQ2xhc3NcbiAgKiBAZXh0ZW5kcyB7YmFzZX1cbiAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0aWVzTWl4aW59XG4gICogQHVucmVzdHJpY3RlZFxuICAqL1xuIGNsYXNzIFByb3BlcnRpZXNNaXhpbiBleHRlbmRzIGJhc2Uge1xuXG4gICAvKipcbiAgICAqIEltcGxlbWVudHMgc3RhbmRhcmQgY3VzdG9tIGVsZW1lbnRzIGdldHRlciB0byBvYnNlcnZlcyB0aGUgYXR0cmlidXRlc1xuICAgICogbGlzdGVkIGluIGBwcm9wZXJ0aWVzYC5cbiAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX29ic2VydmVkQXR0cmlidXRlcycsIHRoaXMpKSkge1xuICAgICAgIHJlZ2lzdGVyKHRoaXMucHJvdG90eXBlKTtcbiAgICAgICBjb25zdCBwcm9wcyA9IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgICAgdGhpcy5fX29ic2VydmVkQXR0cmlidXRlcyA9IHByb3BzID8gT2JqZWN0LmtleXMocHJvcHMpLm1hcChwID0+IHRoaXMuYXR0cmlidXRlTmFtZUZvclByb3BlcnR5KHApKSA6IFtdO1xuICAgICB9XG4gICAgIHJldHVybiB0aGlzLl9fb2JzZXJ2ZWRBdHRyaWJ1dGVzO1xuICAgfVxuXG4gICAvKipcbiAgICAqIEZpbmFsaXplcyBhbiBlbGVtZW50IGRlZmluaXRpb24sIGluY2x1ZGluZyBlbnN1cmluZyBhbnkgc3VwZXIgY2xhc3Nlc1xuICAgICogYXJlIGFsc28gZmluYWxpemVkLiBUaGlzIGluY2x1ZGVzIGVuc3VyaW5nIHByb3BlcnR5XG4gICAgKiBhY2Nlc3NvcnMgZXhpc3Qgb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlLiBUaGlzIG1ldGhvZCBjYWxsc1xuICAgICogYF9maW5hbGl6ZUNsYXNzYCB0byBmaW5hbGl6ZSBlYWNoIGNvbnN0cnVjdG9yIGluIHRoZSBwcm90b3R5cGUgY2hhaW4uXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIGZpbmFsaXplKCkge1xuICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19maW5hbGl6ZWQnLCB0aGlzKSkpIHtcbiAgICAgICBjb25zdCBzdXBlckN0b3IgPSBzdXBlclByb3BlcnRpZXNDbGFzcygvKiogQHR5cGUgeyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8odGhpcykpO1xuICAgICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgICAgIHN1cGVyQ3Rvci5maW5hbGl6ZSgpO1xuICAgICAgIH1cbiAgICAgICB0aGlzLl9fZmluYWxpemVkID0gdHJ1ZTtcbiAgICAgICB0aGlzLl9maW5hbGl6ZUNsYXNzKCk7XG4gICAgIH1cbiAgIH1cblxuICAgLyoqXG4gICAgKiBGaW5hbGl6ZSBhbiBlbGVtZW50IGNsYXNzLiBUaGlzIGluY2x1ZGVzIGVuc3VyaW5nIHByb3BlcnR5XG4gICAgKiBhY2Nlc3NvcnMgZXhpc3Qgb24gdGhlIGVsZW1lbnQgcHJvdG90eXBlLiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYnlcbiAgICAqIGBmaW5hbGl6ZWAgYW5kIGZpbmFsaXplcyB0aGUgY2xhc3MgY29uc3RydWN0b3IuXG4gICAgKlxuICAgICogQHByb3RlY3RlZFxuICAgICogQG5vY29sbGFwc2VcbiAgICAqL1xuICAgc3RhdGljIF9maW5hbGl6ZUNsYXNzKCkge1xuICAgICBjb25zdCBwcm9wcyA9IG93blByb3BlcnRpZXMoLyoqIEB0eXBlIHshUHJvcGVydGllc01peGluQ29uc3RydWN0b3J9ICovKHRoaXMpKTtcbiAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgLyoqIEB0eXBlIHs/fSAqLyAodGhpcykuY3JlYXRlUHJvcGVydGllcyhwcm9wcyk7XG4gICAgIH1cbiAgIH1cblxuICAgLyoqXG4gICAgKiBSZXR1cm5zIGEgbWVtb2l6ZWQgdmVyc2lvbiBvZiBhbGwgcHJvcGVydGllcywgaW5jbHVkaW5nIHRob3NlIGluaGVyaXRlZFxuICAgICogZnJvbSBzdXBlciBjbGFzc2VzLiBQcm9wZXJ0aWVzIG5vdCBpbiBvYmplY3QgZm9ybWF0IGFyZSBjb252ZXJ0ZWQgdG9cbiAgICAqIGF0IGxlYXN0IHt0eXBlfS5cbiAgICAqXG4gICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgZm9yIHRoaXMgY2xhc3NcbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgIHN0YXRpYyBnZXQgX3Byb3BlcnRpZXMoKSB7XG4gICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX3Byb3BlcnRpZXMnLCB0aGlzKSkpIHtcbiAgICAgICBjb25zdCBzdXBlckN0b3IgPSBzdXBlclByb3BlcnRpZXNDbGFzcygvKiogQHR5cGUgeyFQcm9wZXJ0aWVzTWl4aW5Db25zdHJ1Y3Rvcn0gKi8odGhpcykpO1xuICAgICAgIHRoaXMuX19wcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSxcbiAgICAgICAgIHN1cGVyQ3RvciAmJiBzdXBlckN0b3IuX3Byb3BlcnRpZXMsXG4gICAgICAgICBvd25Qcm9wZXJ0aWVzKC8qKiBAdHlwZSB7UHJvcGVydGllc01peGluQ29uc3RydWN0b3J9ICovKHRoaXMpKSk7XG4gICAgIH1cbiAgICAgcmV0dXJuIHRoaXMuX19wcm9wZXJ0aWVzO1xuICAgfVxuXG4gICAvKipcbiAgICAqIE92ZXJyaWRlcyBgUHJvcGVydGllc0NoYW5nZWRgIG1ldGhvZCB0byByZXR1cm4gdHlwZSBzcGVjaWZpZWQgaW4gdGhlXG4gICAgKiBzdGF0aWMgYHByb3BlcnRpZXNgIG9iamVjdCBmb3IgdGhlIGdpdmVuIHByb3BlcnR5LlxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBwcm9wZXJ0eVxuICAgICogQHJldHVybiB7Kn0gVHlwZSB0byB3aGljaCB0byBkZXNlcmlhbGl6ZSBhdHRyaWJ1dGVcbiAgICAqXG4gICAgKiBAcHJvdGVjdGVkXG4gICAgKiBAbm9jb2xsYXBzZVxuICAgICovXG4gICBzdGF0aWMgdHlwZUZvclByb3BlcnR5KG5hbWUpIHtcbiAgICAgY29uc3QgaW5mbyA9IHRoaXMuX3Byb3BlcnRpZXNbbmFtZV07XG4gICAgIHJldHVybiBpbmZvICYmIGluZm8udHlwZTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBPdmVycmlkZXMgYFByb3BlcnRpZXNDaGFuZ2VkYCBtZXRob2QgYW5kIGFkZHMgYSBjYWxsIHRvXG4gICAgKiBgZmluYWxpemVgIHdoaWNoIGxhemlseSBjb25maWd1cmVzIHRoZSBlbGVtZW50J3MgcHJvcGVydHkgYWNjZXNzb3JzLlxuICAgICogQG92ZXJyaWRlXG4gICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICovXG4gICBfaW5pdGlhbGl6ZVByb3BlcnRpZXMoKSB7XG4gICAgIGluY3JlbWVudEluc3RhbmNlQ291bnQoKTtcbiAgICAgdGhpcy5jb25zdHJ1Y3Rvci5maW5hbGl6ZSgpO1xuICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBDYWxsZWQgd2hlbiB0aGUgZWxlbWVudCBpcyBhZGRlZCB0byBhIGRvY3VtZW50LlxuICAgICogQ2FsbHMgYF9lbmFibGVQcm9wZXJ0aWVzYCB0byB0dXJuIG9uIHByb3BlcnR5IHN5c3RlbSBmcm9tXG4gICAgKiBgUHJvcGVydGllc0NoYW5nZWRgLlxuICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gU3VwZXIgbWF5IG9yIG1heSBub3QgaW1wbGVtZW50IHRoZSBjYWxsYmFja1xuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBvdmVycmlkZVxuICAgICovXG4gICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgaWYgKHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgfVxuICAgICB0aGlzLl9lbmFibGVQcm9wZXJ0aWVzKCk7XG4gICB9XG5cbiAgIC8qKlxuICAgICogQ2FsbGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIGEgZG9jdW1lbnRcbiAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IFN1cGVyIG1heSBvciBtYXkgbm90IGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgKiBAb3ZlcnJpZGVcbiAgICAqL1xuICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgIGlmIChzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgIH1cbiAgIH1cblxuIH1cblxuIHJldHVybiBQcm9wZXJ0aWVzTWl4aW47XG5cbn0pO1xuIiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBAc3VwcHJlc3Mge2NoZWNrUHJvdG90eXBhbFR5cGVzfVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuICogaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmRcbiAqIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXlcbiAqIGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnlcbiAqIEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVBcbiAqIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgcm9vdFBhdGgsIHN0cmljdFRlbXBsYXRlUG9saWN5LCBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSwgbGVnYWN5T3B0aW1pemF0aW9ucywgc3luY0luaXRpYWxSZW5kZXIgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0IHsgc3R5bGVzRnJvbVRlbXBsYXRlLCBzdHlsZXNGcm9tTW9kdWxlSW1wb3J0cyB9IGZyb20gJy4uL3V0aWxzL3N0eWxlLWdhdGhlci5qcyc7XG5pbXBvcnQgeyBwYXRoRnJvbVVybCwgcmVzb2x2ZUNzcywgcmVzb2x2ZVVybCB9IGZyb20gJy4uL3V0aWxzL3Jlc29sdmUtdXJsLmpzJztcbmltcG9ydCB7IERvbU1vZHVsZSB9IGZyb20gJy4uL2VsZW1lbnRzL2RvbS1tb2R1bGUuanMnO1xuaW1wb3J0IHsgUHJvcGVydHlFZmZlY3RzIH0gZnJvbSAnLi9wcm9wZXJ0eS1lZmZlY3RzLmpzJztcbmltcG9ydCB7IFByb3BlcnRpZXNNaXhpbiB9IGZyb20gJy4vcHJvcGVydGllcy1taXhpbi5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5cbi8qKlxuICogQ3VycmVudCBQb2x5bWVyIHZlcnNpb24gaW4gU2VtdmVyIG5vdGF0aW9uLlxuICogQHR5cGUge3N0cmluZ30gU2VtdmVyIG5vdGF0aW9uIG9mIHRoZSBjdXJyZW50IHZlcnNpb24gb2YgUG9seW1lci5cbiAqL1xuZXhwb3J0IGNvbnN0IHZlcnNpb24gPSAnMy4zLjEnO1xuXG5jb25zdCBidWlsdENTUyA9IHdpbmRvdy5TaGFkeUNTUyAmJiB3aW5kb3cuU2hhZHlDU1NbJ2Nzc0J1aWxkJ107XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmdcbiAqIGZlYXR1cmVzIGluY2x1ZGluZyB0ZW1wbGF0ZSBzdGFtcGluZywgZGF0YS1iaW5kaW5nLCBhdHRyaWJ1dGUgZGVzZXJpYWxpemF0aW9uLFxuICogYW5kIHByb3BlcnR5IGNoYW5nZSBvYnNlcnZhdGlvbi5cbiAqXG4gKiBTdWJjbGFzc2VycyBtYXkgcHJvdmlkZSB0aGUgZm9sbG93aW5nIHN0YXRpYyBnZXR0ZXJzIHRvIHJldHVybiBtZXRhZGF0YVxuICogdXNlZCB0byBjb25maWd1cmUgUG9seW1lcidzIGZlYXR1cmVzIGZvciB0aGUgY2xhc3M6XG4gKlxuICogLSBgc3RhdGljIGdldCBpcygpYDogV2hlbiB0aGUgdGVtcGxhdGUgaXMgcHJvdmlkZWQgdmlhIGEgYGRvbS1tb2R1bGVgLFxuICogICB1c2VycyBzaG91bGQgcmV0dXJuIHRoZSBgZG9tLW1vZHVsZWAgaWQgZnJvbSBhIHN0YXRpYyBgaXNgIGdldHRlci4gIElmXG4gKiAgIG5vIHRlbXBsYXRlIGlzIG5lZWRlZCBvciB0aGUgdGVtcGxhdGUgaXMgcHJvdmlkZWQgZGlyZWN0bHkgdmlhIHRoZVxuICogICBgdGVtcGxhdGVgIGdldHRlciwgdGhlcmUgaXMgbm8gbmVlZCB0byBkZWZpbmUgYGlzYCBmb3IgdGhlIGVsZW1lbnQuXG4gKlxuICogLSBgc3RhdGljIGdldCB0ZW1wbGF0ZSgpYDogVXNlcnMgbWF5IHByb3ZpZGUgdGhlIHRlbXBsYXRlIGRpcmVjdGx5IChhc1xuICogICBvcHBvc2VkIHRvIHZpYSBgZG9tLW1vZHVsZWApIGJ5IGltcGxlbWVudGluZyBhIHN0YXRpYyBgdGVtcGxhdGVgIGdldHRlci5cbiAqICAgVGhlIGdldHRlciBtdXN0IHJldHVybiBhbiBgSFRNTFRlbXBsYXRlRWxlbWVudGAuXG4gKlxuICogLSBgc3RhdGljIGdldCBwcm9wZXJ0aWVzKClgOiBTaG91bGQgcmV0dXJuIGFuIG9iamVjdCBkZXNjcmliaW5nXG4gKiAgIHByb3BlcnR5LXJlbGF0ZWQgbWV0YWRhdGEgdXNlZCBieSBQb2x5bWVyIGZlYXR1cmVzIChrZXk6IHByb3BlcnR5IG5hbWVcbiAqICAgdmFsdWU6IG9iamVjdCBjb250YWluaW5nIHByb3BlcnR5IG1ldGFkYXRhKS4gVmFsaWQga2V5cyBpbiBwZXItcHJvcGVydHlcbiAqICAgbWV0YWRhdGEgaW5jbHVkZTpcbiAqICAgLSBgdHlwZWAgKFN0cmluZ3xOdW1iZXJ8T2JqZWN0fEFycmF5fC4uLik6IFVzZWQgYnlcbiAqICAgICBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0byBkZXRlcm1pbmUgaG93IHN0cmluZy1iYXNlZCBhdHRyaWJ1dGVzXG4gKiAgICAgYXJlIGRlc2VyaWFsaXplZCB0byBKYXZhU2NyaXB0IHByb3BlcnR5IHZhbHVlcy5cbiAqICAgLSBgbm90aWZ5YCAoYm9vbGVhbik6IENhdXNlcyBhIGNoYW5nZSBpbiB0aGUgcHJvcGVydHkgdG8gZmlyZSBhXG4gKiAgICAgbm9uLWJ1YmJsaW5nIGV2ZW50IGNhbGxlZCBgPHByb3BlcnR5Pi1jaGFuZ2VkYC4gRWxlbWVudHMgdGhhdCBoYXZlXG4gKiAgICAgZW5hYmxlZCB0d28td2F5IGJpbmRpbmcgdG8gdGhlIHByb3BlcnR5IHVzZSB0aGlzIGV2ZW50IHRvIG9ic2VydmUgY2hhbmdlcy5cbiAqICAgLSBgcmVhZE9ubHlgIChib29sZWFuKTogQ3JlYXRlcyBhIGdldHRlciBmb3IgdGhlIHByb3BlcnR5LCBidXQgbm8gc2V0dGVyLlxuICogICAgIFRvIHNldCBhIHJlYWQtb25seSBwcm9wZXJ0eSwgdXNlIHRoZSBwcml2YXRlIHNldHRlciBtZXRob2RcbiAqICAgICBgX3NldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSlgLlxuICogICAtIGBvYnNlcnZlcmAgKHN0cmluZyk6IE9ic2VydmVyIG1ldGhvZCBuYW1lIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlblxuICogICAgIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLiBUaGUgYXJndW1lbnRzIG9mIHRoZSBtZXRob2QgYXJlXG4gKiAgICAgYCh2YWx1ZSwgcHJldmlvdXNWYWx1ZSlgLlxuICogICAtIGBjb21wdXRlZGAgKHN0cmluZyk6IFN0cmluZyBkZXNjcmliaW5nIG1ldGhvZCBhbmQgZGVwZW5kZW50IHByb3BlcnRpZXNcbiAqICAgICBmb3IgY29tcHV0aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IChlLmcuIGAnY29tcHV0ZUZvbyhiYXIsIHpvdCknYCkuXG4gKiAgICAgQ29tcHV0ZWQgcHJvcGVydGllcyBhcmUgcmVhZC1vbmx5IGJ5IGRlZmF1bHQgYW5kIGNhbiBvbmx5IGJlIGNoYW5nZWRcbiAqICAgICB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY29tcHV0aW5nIG1ldGhvZC5cbiAqXG4gKiAtIGBzdGF0aWMgZ2V0IG9ic2VydmVycygpYDogQXJyYXkgb2Ygc3RyaW5ncyBkZXNjcmliaW5nIG11bHRpLXByb3BlcnR5XG4gKiAgIG9ic2VydmVyIG1ldGhvZHMgYW5kIHRoZWlyIGRlcGVuZGVudCBwcm9wZXJ0aWVzIChlLmcuXG4gKiAgIGAnb2JzZXJ2ZUFCQyhhLCBiLCBjKSdgKS5cbiAqXG4gKiBUaGUgYmFzZSBjbGFzcyBwcm92aWRlcyBkZWZhdWx0IGltcGxlbWVudGF0aW9ucyBmb3IgdGhlIGZvbGxvd2luZyBzdGFuZGFyZFxuICogY3VzdG9tIGVsZW1lbnQgbGlmZWN5Y2xlIGNhbGxiYWNrczsgdXNlcnMgbWF5IG92ZXJyaWRlIHRoZXNlLCBidXQgc2hvdWxkXG4gKiBjYWxsIHRoZSBzdXBlciBtZXRob2QgdG8gZW5zdXJlXG4gKiAtIGBjb25zdHJ1Y3RvcmA6IFJ1biB3aGVuIHRoZSBlbGVtZW50IGlzIGNyZWF0ZWQgb3IgdXBncmFkZWRcbiAqIC0gYGNvbm5lY3RlZENhbGxiYWNrYDogUnVuIGVhY2ggdGltZSB0aGUgZWxlbWVudCBpcyBjb25uZWN0ZWQgdG8gdGhlXG4gKiAgIGRvY3VtZW50XG4gKiAtIGBkaXNjb25uZWN0ZWRDYWxsYmFja2A6IFJ1biBlYWNoIHRpbWUgdGhlIGVsZW1lbnQgaXMgZGlzY29ubmVjdGVkIGZyb21cbiAqICAgdGhlIGRvY3VtZW50XG4gKiAtIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgOiBSdW4gZWFjaCB0aW1lIGFuIGF0dHJpYnV0ZSBpblxuICogICBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBpcyBzZXQgb3IgcmVtb3ZlZCAobm90ZTogdGhpcyBlbGVtZW50J3MgZGVmYXVsdFxuICogICBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYCBpbXBsZW1lbnRhdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmV0dXJuIGFuIGFycmF5XG4gKiAgIG9mIGRhc2gtY2FzZWQgYXR0cmlidXRlcyBiYXNlZCBvbiBgcHJvcGVydGllc2ApXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIFByb3BlcnR5RWZmZWN0c1xuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0aWVzTWl4aW5cbiAqIEBwcm9wZXJ0eSByb290UGF0aCB7c3RyaW5nfSBTZXQgdG8gdGhlIHZhbHVlIG9mIGByb290UGF0aGAsXG4gKiAgIHdoaWNoIGRlZmF1bHRzIHRvIHRoZSBtYWluIGRvY3VtZW50IHBhdGhcbiAqIEBwcm9wZXJ0eSBpbXBvcnRQYXRoIHtzdHJpbmd9IFNldCB0byB0aGUgdmFsdWUgb2YgdGhlIGNsYXNzJ3Mgc3RhdGljXG4gKiAgIGBpbXBvcnRQYXRoYCBwcm9wZXJ0eSwgd2hpY2ggZGVmYXVsdHMgdG8gdGhlIHBhdGggb2YgdGhpcyBlbGVtZW50J3NcbiAqICAgYGRvbS1tb2R1bGVgICh3aGVuIGBpc2AgaXMgdXNlZCksIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlbiBmb3Igb3RoZXJcbiAqICAgaW1wb3J0IHN0cmF0ZWdpZXMuXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgdGhlIGNvcmUgQVBJIGZvciBQb2x5bWVyJ3NcbiAqIG1ldGEtcHJvZ3JhbW1pbmcgZmVhdHVyZXMuXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgRWxlbWVudE1peGluID0gZGVkdXBpbmdNaXhpbihiYXNlID0+IHtcbiAgLyoqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9Qcm9wZXJ0eUVmZmVjdHN9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnRpZXNNaXhpbn1cbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgcG9seW1lckVsZW1lbnRCYXNlID0gUHJvcGVydGllc01peGluKFByb3BlcnR5RWZmZWN0cyhiYXNlKSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHByb3BlcnRpZXMgd2l0aCBkZWZhdWx0IHZhbHVlcy5cbiAgICogVGhpcyBsaXN0IGlzIGNyZWF0ZWQgYXMgYW4gb3B0aW1pemF0aW9uIHNpbmNlIGl0IGlzIGEgc3Vic2V0IG9mXG4gICAqIHRoZSBsaXN0IHJldHVybmVkIGZyb20gYF9wcm9wZXJ0aWVzYC5cbiAgICogVGhpcyBsaXN0IGlzIHVzZWQgaW4gYF9pbml0aWFsaXplUHJvcGVydGllc2AgdG8gc2V0IHByb3BlcnR5IGRlZmF1bHRzLlxuICAgKlxuICAgKiBAcGFyYW0ge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9IGNvbnN0cnVjdG9yIEVsZW1lbnQgY2xhc3NcbiAgICogQHJldHVybiB7UG9seW1lckVsZW1lbnRQcm9wZXJ0aWVzfSBGbGF0dGVuZWQgcHJvcGVydGllcyBmb3IgdGhpcyBjbGFzc1xuICAgKiAgIHRoYXQgaGF2ZSBkZWZhdWx0IHZhbHVlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcHJvcGVydHlEZWZhdWx0cyhjb25zdHJ1Y3Rvcikge1xuICAgIGlmICghY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoXG4gICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX3Byb3BlcnR5RGVmYXVsdHMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgPSBudWxsO1xuICAgICAgbGV0IHByb3BzID0gY29uc3RydWN0b3IuX3Byb3BlcnRpZXM7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIGxldCBpbmZvID0gcHJvcHNbcF07XG4gICAgICAgIGlmICgndmFsdWUnIGluIGluZm8pIHtcbiAgICAgICAgICBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgPSBjb25zdHJ1Y3Rvci5fX3Byb3BlcnR5RGVmYXVsdHMgfHwge307XG4gICAgICAgICAgY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzW3BdID0gaW5mbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uc3RydWN0b3IuX19wcm9wZXJ0eURlZmF1bHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mIHRoZSBgb2JzZXJ2ZXJzYCBhcnJheS5cbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBjb25zdHJ1Y3RvciBFbGVtZW50IGNsYXNzXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBjb250YWluaW5nIG93biBvYnNlcnZlcnMgZm9yIHRoZSBnaXZlbiBjbGFzc1xuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBmdW5jdGlvbiBvd25PYnNlcnZlcnMoY29uc3RydWN0b3IpIHtcbiAgICBpZiAoIWNvbnN0cnVjdG9yLmhhc093blByb3BlcnR5KFxuICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19vd25PYnNlcnZlcnMnLCBjb25zdHJ1Y3RvcikpKSB7XG4gICAgICBjb25zdHJ1Y3Rvci5fX293bk9ic2VydmVycyA9XG4gICAgICAgICAgY29uc3RydWN0b3IuaGFzT3duUHJvcGVydHkoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ29ic2VydmVycycsIGNvbnN0cnVjdG9yKSkgP1xuICAgICAgICAgIC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0gKi8gKGNvbnN0cnVjdG9yKS5vYnNlcnZlcnMgOlxuICAgICAgICAgIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjb25zdHJ1Y3Rvci5fX293bk9ic2VydmVycztcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGVmZmVjdHMgZm9yIGEgcHJvcGVydHkuXG4gICAqXG4gICAqIE5vdGUsIG9uY2UgYSBwcm9wZXJ0eSBoYXMgYmVlbiBzZXQgdG9cbiAgICogYHJlYWRPbmx5YCwgYGNvbXB1dGVkYCwgYHJlZmxlY3RUb0F0dHJpYnV0ZWAsIG9yIGBub3RpZnlgXG4gICAqIHRoZXNlIHZhbHVlcyBtYXkgbm90IGJlIGNoYW5nZWQuIEZvciBleGFtcGxlLCBhIHN1YmNsYXNzIGNhbm5vdFxuICAgKiBhbHRlciB0aGVzZSBzZXR0aW5ncy4gSG93ZXZlciwgYWRkaXRpb25hbCBgb2JzZXJ2ZXJzYCBtYXkgYmUgYWRkZWRcbiAgICogYnkgc3ViY2xhc3Nlcy5cbiAgICpcbiAgICogVGhlIGluZm8gb2JqZWN0IHNob3VsZCBjb250YWluIHByb3BlcnR5IG1ldGFkYXRhIGFzIGZvbGxvd3M6XG4gICAqXG4gICAqICogYHR5cGVgOiB7ZnVuY3Rpb259IHR5cGUgdG8gd2hpY2ggYW4gYXR0cmlidXRlIG1hdGNoaW5nIHRoZSBwcm9wZXJ0eVxuICAgKiBpcyBkZXNlcmlhbGl6ZWQuIE5vdGUgdGhlIHByb3BlcnR5IGlzIGNhbWVsLWNhc2VkIGZyb20gYSBkYXNoLWNhc2VkXG4gICAqIGF0dHJpYnV0ZS4gRm9yIGV4YW1wbGUsICdmb28tYmFyJyBhdHRyaWJ1dGUgaXMgZGVzZXJpYWxpemVkIHRvIGFcbiAgICogcHJvcGVydHkgbmFtZWQgJ2Zvb0JhcicuXG4gICAqXG4gICAqICogYHJlYWRPbmx5YDoge2Jvb2xlYW59IGNyZWF0ZXMgYSByZWFkT25seSBwcm9wZXJ0eSBhbmRcbiAgICogbWFrZXMgYSBwcml2YXRlIHNldHRlciBmb3IgdGhlIHByaXZhdGUgb2YgdGhlIGZvcm0gJ19zZXRGb28nIGZvciBhXG4gICAqIHByb3BlcnR5ICdmb28nLFxuICAgKlxuICAgKiAqIGBjb21wdXRlZGA6IHtzdHJpbmd9IGNyZWF0ZXMgYSBjb21wdXRlZCBwcm9wZXJ0eS4gQSBjb21wdXRlZCBwcm9wZXJ0eVxuICAgKiBpcyBhbHNvIGF1dG9tYXRpY2FsbHkgc2V0IHRvIGByZWFkT25seTogdHJ1ZWAuIFRoZSB2YWx1ZSBpcyBjYWxjdWxhdGVkXG4gICAqIGJ5IHJ1bm5pbmcgYSBtZXRob2QgYW5kIGFyZ3VtZW50cyBwYXJzZWQgZnJvbSB0aGUgZ2l2ZW4gc3RyaW5nLiBGb3JcbiAgICogZXhhbXBsZSAnY29tcHV0ZShmb28pJyB3aWxsIGNvbXB1dGUgYSBnaXZlbiBwcm9wZXJ0eSB3aGVuIHRoZVxuICAgKiAnZm9vJyBwcm9wZXJ0eSBjaGFuZ2VzIGJ5IGV4ZWN1dGluZyB0aGUgJ2NvbXB1dGUnIG1ldGhvZC4gVGhpcyBtZXRob2RcbiAgICogbXVzdCByZXR1cm4gdGhlIGNvbXB1dGVkIHZhbHVlLlxuICAgKlxuICAgKiAqIGByZWZsZWN0VG9BdHRyaWJ1dGVgOiB7Ym9vbGVhbn0gSWYgdHJ1ZSwgdGhlIHByb3BlcnR5IHZhbHVlIGlzIHJlZmxlY3RlZFxuICAgKiB0byBhbiBhdHRyaWJ1dGUgb2YgdGhlIHNhbWUgbmFtZS4gTm90ZSwgdGhlIGF0dHJpYnV0ZSBpcyBkYXNoLWNhc2VkXG4gICAqIHNvIGEgcHJvcGVydHkgbmFtZWQgJ2Zvb0JhcicgaXMgcmVmbGVjdGVkIGFzICdmb28tYmFyJy5cbiAgICpcbiAgICogKiBgbm90aWZ5YDoge2Jvb2xlYW59IHNlbmRzIGEgbm9uLWJ1YmJsaW5nIG5vdGlmaWNhdGlvbiBldmVudCB3aGVuXG4gICAqIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLiBGb3IgZXhhbXBsZSwgYSBwcm9wZXJ0eSBuYW1lZCAnZm9vJyBzZW5kcyBhblxuICAgKiBldmVudCBuYW1lZCAnZm9vLWNoYW5nZWQnIHdpdGggYGV2ZW50LmRldGFpbGAgc2V0IHRvIHRoZSB2YWx1ZSBvZlxuICAgKiB0aGUgcHJvcGVydHkuXG4gICAqXG4gICAqICogb2JzZXJ2ZXI6IHtzdHJpbmd9IG5hbWUgb2YgYSBtZXRob2QgdGhhdCBydW5zIHdoZW4gdGhlIHByb3BlcnR5XG4gICAqIGNoYW5nZXMuIFRoZSBhcmd1bWVudHMgb2YgdGhlIG1ldGhvZCBhcmUgKHZhbHVlLCBwcmV2aW91c1ZhbHVlKS5cbiAgICpcbiAgICogTm90ZTogVXNlcnMgbWF5IHdhbnQgY29udHJvbCBvdmVyIG1vZGlmeWluZyBwcm9wZXJ0eVxuICAgKiBlZmZlY3RzIHZpYSBzdWJjbGFzc2luZy4gRm9yIGV4YW1wbGUsIGEgdXNlciBtaWdodCB3YW50IHRvIG1ha2UgYVxuICAgKiByZWZsZWN0VG9BdHRyaWJ1dGUgcHJvcGVydHkgbm90IGRvIHNvIGluIGEgc3ViY2xhc3MuIFdlJ3ZlIGNob3NlbiB0b1xuICAgKiBkaXNhYmxlIHRoaXMgYmVjYXVzZSBpdCBsZWFkcyB0byBhZGRpdGlvbmFsIGNvbXBsaWNhdGlvbi5cbiAgICogRm9yIGV4YW1wbGUsIGEgcmVhZE9ubHkgZWZmZWN0IGdlbmVyYXRlcyBhIHNwZWNpYWwgc2V0dGVyLiBJZiBhIHN1YmNsYXNzXG4gICAqIGRpc2FibGVzIHRoZSBlZmZlY3QsIHRoZSBzZXR0ZXIgd291bGQgZmFpbCB1bmV4cGVjdGVkbHkuXG4gICAqIEJhc2VkIG9uIGZlZWRiYWNrLCB3ZSBtYXkgd2FudCB0byB0cnkgdG8gbWFrZSBlZmZlY3RzIG1vcmUgbWFsbGVhYmxlXG4gICAqIGFuZC9vciBwcm92aWRlIGFuIGFkdmFuY2VkIGFwaSBmb3IgbWFuaXB1bGF0aW5nIHRoZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7IVBvbHltZXJFbGVtZW50fSBwcm90byBFbGVtZW50IGNsYXNzIHByb3RvdHlwZSB0byBhZGQgYWNjZXNzb3JzXG4gICAqICAgYW5kIGVmZmVjdHMgdG9cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgcHJvcGVydHkuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIEluZm8gb2JqZWN0IGZyb20gd2hpY2ggdG8gY3JlYXRlIHByb3BlcnR5IGVmZmVjdHMuXG4gICAqIFN1cHBvcnRlZCBrZXlzOlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWxsUHJvcHMgRmxhdHRlbmVkIG1hcCBvZiBhbGwgcHJvcGVydGllcyBkZWZpbmVkIGluIHRoaXNcbiAgICogICBlbGVtZW50IChpbmNsdWRpbmcgaW5oZXJpdGVkIHByb3BlcnRpZXMpXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eUZyb21Db25maWcocHJvdG8sIG5hbWUsIGluZm8sIGFsbFByb3BzKSB7XG4gICAgLy8gY29tcHV0ZWQgZm9yY2VzIHJlYWRPbmx5Li4uXG4gICAgaWYgKGluZm8uY29tcHV0ZWQpIHtcbiAgICAgIGluZm8ucmVhZE9ubHkgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBOb3RlLCBzaW5jZSBhbGwgY29tcHV0ZWQgcHJvcGVydGllcyBhcmUgcmVhZE9ubHksIHRoaXMgcHJldmVudHNcbiAgICAvLyBhZGRpbmcgYWRkaXRpb25hbCBjb21wdXRlZCBwcm9wZXJ0eSBlZmZlY3RzICh3aGljaCBsZWFkcyB0byBhIGNvbmZ1c2luZ1xuICAgIC8vIHNldHVwIHdoZXJlIG11bHRpcGxlIHRyaWdnZXJzIGZvciBzZXR0aW5nIGEgcHJvcGVydHkpXG4gICAgLy8gV2hpbGUgd2UgZG8gaGF2ZSBgaGFzQ29tcHV0ZWRFZmZlY3RgIHRoaXMgaXMgc2V0IG9uIHRoZSBwcm9wZXJ0eSdzXG4gICAgLy8gZGVwZW5kZW5jaWVzIHJhdGhlciB0aGFuIGl0c2VsZi5cbiAgICBpZiAoaW5mby5jb21wdXRlZCkge1xuICAgICAgaWYgKHByb3RvLl9oYXNSZWFkT25seUVmZmVjdChuYW1lKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oYENhbm5vdCByZWRlZmluZSBjb21wdXRlZCBwcm9wZXJ0eSAnJHtuYW1lfScuYCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm90by5fY3JlYXRlQ29tcHV0ZWRQcm9wZXJ0eShuYW1lLCBpbmZvLmNvbXB1dGVkLCBhbGxQcm9wcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpbmZvLnJlYWRPbmx5ICYmICFwcm90by5faGFzUmVhZE9ubHlFZmZlY3QobmFtZSkpIHtcbiAgICAgIHByb3RvLl9jcmVhdGVSZWFkT25seVByb3BlcnR5KG5hbWUsICFpbmZvLmNvbXB1dGVkKTtcbiAgICB9IGVsc2UgaWYgKGluZm8ucmVhZE9ubHkgPT09IGZhbHNlICYmIHByb3RvLl9oYXNSZWFkT25seUVmZmVjdChuYW1lKSkge1xuICAgICAgY29uc29sZS53YXJuKGBDYW5ub3QgbWFrZSByZWFkT25seSBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLXJlYWRPbmx5LmApO1xuICAgIH1cbiAgICBpZiAoaW5mby5yZWZsZWN0VG9BdHRyaWJ1dGUgJiYgIXByb3RvLl9oYXNSZWZsZWN0RWZmZWN0KG5hbWUpKSB7XG4gICAgICBwcm90by5fY3JlYXRlUmVmbGVjdGVkUHJvcGVydHkobmFtZSk7XG4gICAgfSBlbHNlIGlmIChpbmZvLnJlZmxlY3RUb0F0dHJpYnV0ZSA9PT0gZmFsc2UgJiYgcHJvdG8uX2hhc1JlZmxlY3RFZmZlY3QobmFtZSkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQ2Fubm90IG1ha2UgcmVmbGVjdGVkIHByb3BlcnR5ICcke25hbWV9JyBub24tcmVmbGVjdGVkLmApO1xuICAgIH1cbiAgICBpZiAoaW5mby5ub3RpZnkgJiYgIXByb3RvLl9oYXNOb3RpZnlFZmZlY3QobmFtZSkpIHtcbiAgICAgIHByb3RvLl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eShuYW1lKTtcbiAgICB9IGVsc2UgaWYgKGluZm8ubm90aWZ5ID09PSBmYWxzZSAmJiBwcm90by5faGFzTm90aWZ5RWZmZWN0KG5hbWUpKSB7XG4gICAgICBjb25zb2xlLndhcm4oYENhbm5vdCBtYWtlIG5vdGlmeSBwcm9wZXJ0eSAnJHtuYW1lfScgbm9uLW5vdGlmeS5gKTtcbiAgICB9XG4gICAgLy8gYWx3YXlzIGFkZCBvYnNlcnZlclxuICAgIGlmIChpbmZvLm9ic2VydmVyKSB7XG4gICAgICBwcm90by5fY3JlYXRlUHJvcGVydHlPYnNlcnZlcihuYW1lLCBpbmZvLm9ic2VydmVyLCBhbGxQcm9wc1tpbmZvLm9ic2VydmVyXSk7XG4gICAgfVxuICAgIC8vIGFsd2F5cyBjcmVhdGUgdGhlIG1hcHBpbmcgZnJvbSBhdHRyaWJ1dGUgYmFjayB0byBwcm9wZXJ0eSBmb3IgZGVzZXJpYWxpemF0aW9uLlxuICAgIHByb3RvLl9hZGRQcm9wZXJ0eVRvQXR0cmlidXRlTWFwKG5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb2Nlc3MgYWxsIHN0eWxlIGVsZW1lbnRzIGluIHRoZSBlbGVtZW50IHRlbXBsYXRlLiBTdHlsZXMgd2l0aCB0aGVcbiAgICogYGluY2x1ZGVgIGF0dHJpYnV0ZSBhcmUgcHJvY2Vzc2VkIHN1Y2ggdGhhdCBhbnkgc3R5bGVzIGluXG4gICAqIHRoZSBhc3NvY2lhdGVkIFwic3R5bGUgbW9kdWxlc1wiIGFyZSBpbmNsdWRlZCBpbiB0aGUgZWxlbWVudCB0ZW1wbGF0ZS5cbiAgICogQHBhcmFtIHtQb2x5bWVyRWxlbWVudENvbnN0cnVjdG9yfSBrbGFzcyBFbGVtZW50IGNsYXNzXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlIHRvIHByb2Nlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlzIE5hbWUgb2YgZWxlbWVudFxuICAgKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSSBCYXNlIFVSSSBmb3IgZWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnRTdHlsZXMoa2xhc3MsIHRlbXBsYXRlLCBpcywgYmFzZVVSSSkge1xuICAgIGlmICghYnVpbHRDU1MpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRlU3R5bGVzID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZScpO1xuICAgICAgY29uc3Qgc3R5bGVzV2l0aEltcG9ydHMgPSBzdHlsZXNGcm9tVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgLy8gaW5zZXJ0IHN0eWxlcyBmcm9tIDxsaW5rIHJlbD1cImltcG9ydFwiIHR5cGU9XCJjc3NcIj4gYXQgdGhlIHRvcCBvZiB0aGUgdGVtcGxhdGVcbiAgICAgIGNvbnN0IGxpbmtlZFN0eWxlcyA9IHN0eWxlc0Zyb21Nb2R1bGVJbXBvcnRzKGlzKTtcbiAgICAgIGNvbnN0IGZpcnN0VGVtcGxhdGVDaGlsZCA9IHRlbXBsYXRlLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBsaW5rZWRTdHlsZXMubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICBsZXQgcyA9IGxpbmtlZFN0eWxlc1tpZHhdO1xuICAgICAgICBzLnRleHRDb250ZW50ID0ga2xhc3MuX3Byb2Nlc3NTdHlsZVRleHQocy50ZXh0Q29udGVudCwgYmFzZVVSSSk7XG4gICAgICAgIHRlbXBsYXRlLmNvbnRlbnQuaW5zZXJ0QmVmb3JlKHMsIGZpcnN0VGVtcGxhdGVDaGlsZCk7XG4gICAgICB9XG4gICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBsYXN0IFwiY29uY3JldGVcIiBzdHlsZSBpbiB0aGUgdGVtcGxhdGUgd2UgaGF2ZSBlbmNvdW50ZXJlZFxuICAgICAgbGV0IHRlbXBsYXRlU3R5bGVJbmRleCA9IDA7XG4gICAgICAvLyBlbnN1cmUgYWxsIGdhdGhlcmVkIHN0eWxlcyBhcmUgYWN0dWFsbHkgaW4gdGhpcyB0ZW1wbGF0ZS5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R5bGVzV2l0aEltcG9ydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHMgPSBzdHlsZXNXaXRoSW1wb3J0c1tpXTtcbiAgICAgICAgbGV0IHRlbXBsYXRlU3R5bGUgPSB0ZW1wbGF0ZVN0eWxlc1t0ZW1wbGF0ZVN0eWxlSW5kZXhdO1xuICAgICAgICAvLyBpZiB0aGUgc3R5bGUgaXMgbm90IGluIHRoaXMgdGVtcGxhdGUsIGl0J3MgYmVlbiBcImluY2x1ZGVkXCIgYW5kXG4gICAgICAgIC8vIHdlIHB1dCBhIGNsb25lIG9mIGl0IGluIHRoZSB0ZW1wbGF0ZSBiZWZvcmUgdGhlIHN0eWxlIHRoYXQgaW5jbHVkZWQgaXRcbiAgICAgICAgaWYgKHRlbXBsYXRlU3R5bGUgIT09IHMpIHtcbiAgICAgICAgICBzID0gcy5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgdGVtcGxhdGVTdHlsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCB0ZW1wbGF0ZVN0eWxlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZW1wbGF0ZVN0eWxlSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBzLnRleHRDb250ZW50ID0ga2xhc3MuX3Byb2Nlc3NTdHlsZVRleHQocy50ZXh0Q29udGVudCwgYmFzZVVSSSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGlzKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTG9vayB1cCB0ZW1wbGF0ZSBmcm9tIGRvbS1tb2R1bGUgZm9yIGVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlzIEVsZW1lbnQgbmFtZSB0byBsb29rIHVwXG4gICAqIEByZXR1cm4gez9IVE1MVGVtcGxhdGVFbGVtZW50fHVuZGVmaW5lZH0gVGVtcGxhdGUgZm91bmQgaW4gZG9tIG1vZHVsZSwgb3JcbiAgICogICB1bmRlZmluZWQgaWYgbm90IGZvdW5kXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGZ1bmN0aW9uIGdldFRlbXBsYXRlRnJvbURvbU1vZHVsZShpcykge1xuICAgIGxldCB0ZW1wbGF0ZSA9IG51bGw7XG4gICAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3kgaW4gMy54KywgZG9tLW1vZHVsZSBsb29rdXAgaXMgb25seSBhbGxvd2VkXG4gICAgLy8gd2hlbiBvcHRlZC1pbiB2aWEgYWxsb3dUZW1wbGF0ZUZyb21Eb21Nb2R1bGVcbiAgICBpZiAoaXMgJiYgKCFzdHJpY3RUZW1wbGF0ZVBvbGljeSB8fCBhbGxvd1RlbXBsYXRlRnJvbURvbU1vZHVsZSkpIHtcbiAgICAgIHRlbXBsYXRlID0gLyoqIEB0eXBlIHs/SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKFxuICAgICAgICAgIERvbU1vZHVsZS5pbXBvcnQoaXMsICd0ZW1wbGF0ZScpKTtcbiAgICAgIC8vIFVuZGVyIHN0cmljdFRlbXBsYXRlUG9saWN5LCByZXF1aXJlIGFueSBlbGVtZW50IHdpdGggYW4gYGlzYFxuICAgICAgLy8gc3BlY2lmaWVkIHRvIGhhdmUgYSBkb20tbW9kdWxlXG4gICAgICBpZiAoc3RyaWN0VGVtcGxhdGVQb2xpY3kgJiYgIXRlbXBsYXRlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgc3RyaWN0VGVtcGxhdGVQb2xpY3k6IGV4cGVjdGluZyBkb20tbW9kdWxlIG9yIG51bGwgdGVtcGxhdGUgZm9yICR7aXN9YCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQGV4dGVuZHMge3BvbHltZXJFbGVtZW50QmFzZX1cbiAgICovXG4gIGNsYXNzIFBvbHltZXJFbGVtZW50IGV4dGVuZHMgcG9seW1lckVsZW1lbnRCYXNlIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgUG9seW1lciB2ZXJzaW9uIGluIFNlbXZlciBub3RhdGlvbi5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfSBTZW12ZXIgbm90YXRpb24gb2YgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBQb2x5bWVyLlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIGdldCBwb2x5bWVyRWxlbWVudFZlcnNpb24oKSB7XG4gICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZSBvZiBQcm9wZXJ0aWVzTWl4aW4gX2ZpbmFsaXplQ2xhc3MgdG8gY3JlYXRlIG9ic2VydmVycyBhbmRcbiAgICAgKiBmaW5kIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJbnRlcmZhY2VzIGluIGNsb3N1cmUgZG8gbm90IGluaGVyaXQgc3RhdGljcywgYnV0IGNsYXNzZXMgZG9cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBfZmluYWxpemVDbGFzcygpIHtcbiAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgcG9seW1lckVsZW1lbnRCYXNlLl9maW5hbGl6ZUNsYXNzLmNhbGwodGhpcyk7XG4gICAgICBjb25zdCBvYnNlcnZlcnMgPSBvd25PYnNlcnZlcnModGhpcyk7XG4gICAgICBpZiAob2JzZXJ2ZXJzKSB7XG4gICAgICAgIHRoaXMuY3JlYXRlT2JzZXJ2ZXJzKG9ic2VydmVycywgdGhpcy5fcHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9wcmVwYXJlVGVtcGxhdGUoKTtcbiAgICB9XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgX3ByZXBhcmVUZW1wbGF0ZSgpIHtcbiAgICAgIC8vIG5vdGU6IGNyZWF0ZSBcIndvcmtpbmdcIiB0ZW1wbGF0ZSB0aGF0IGlzIGZpbmFsaXplZCBhdCBpbnN0YW5jZSB0aW1lXG4gICAgICBsZXQgdGVtcGxhdGUgPSAvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9ICovICh0aGlzKS50ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHRlbXBsYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3RlbXBsYXRlIGdldHRlciBtdXN0IHJldHVybiBIVE1MVGVtcGxhdGVFbGVtZW50Jyk7XG4gICAgICAgICAgdGVtcGxhdGUgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKCFsZWdhY3lPcHRpbWl6YXRpb25zKSB7XG4gICAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqIEBvdmVycmlkZSAqL1xuICAgICAgdGhpcy5wcm90b3R5cGUuX3RlbXBsYXRlID0gdGVtcGxhdGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgb2YgUHJvcGVydGllc0NoYW5nZWQgY3JlYXRlUHJvcGVydGllcyB0byBjcmVhdGUgYWNjZXNzb3JzXG4gICAgICogYW5kIHByb3BlcnR5IGVmZmVjdHMgZm9yIGFsbCBvZiB0aGUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0geyFPYmplY3R9IHByb3BzIC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVQcm9wZXJ0aWVzKHByb3BzKSB7XG4gICAgICBmb3IgKGxldCBwIGluIHByb3BzKSB7XG4gICAgICAgIGNyZWF0ZVByb3BlcnR5RnJvbUNvbmZpZyhcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7P30gKi8gKHRoaXMucHJvdG90eXBlKSwgcCwgcHJvcHNbcF0sIHByb3BzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9ic2VydmVycyBmb3IgdGhlIGdpdmVuIGBvYnNlcnZlcnNgIGFycmF5LlxuICAgICAqIExldmVyYWdlcyBgUHJvcGVydHlFZmZlY3RzYCB0byBjcmVhdGUgb2JzZXJ2ZXJzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYnNlcnZlcnMgQXJyYXkgb2Ygb2JzZXJ2ZXIgZGVzY3JpcHRvcnMgZm9yXG4gICAgICogICB0aGlzIGNsYXNzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGR5bmFtaWNGbnMgT2JqZWN0IGNvbnRhaW5pbmcga2V5cyBmb3IgYW55IHByb3BlcnRpZXNcbiAgICAgKiAgIHRoYXQgYXJlIGZ1bmN0aW9ucyBhbmQgc2hvdWxkIHRyaWdnZXIgdGhlIGVmZmVjdCB3aGVuIHRoZSBmdW5jdGlvblxuICAgICAqICAgcmVmZXJlbmNlIGlzIGNoYW5nZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVPYnNlcnZlcnMob2JzZXJ2ZXJzLCBkeW5hbWljRm5zKSB7XG4gICAgICBjb25zdCBwcm90byA9IHRoaXMucHJvdG90eXBlO1xuICAgICAgZm9yIChsZXQgaT0wOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHByb3RvLl9jcmVhdGVNZXRob2RPYnNlcnZlcihvYnNlcnZlcnNbaV0sIGR5bmFtaWNGbnMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRlbXBsYXRlIHRoYXQgd2lsbCBiZSBzdGFtcGVkIGludG8gdGhpcyBlbGVtZW50J3Mgc2hhZG93IHJvb3QuXG4gICAgICpcbiAgICAgKiBJZiBhIGBzdGF0aWMgZ2V0IGlzKClgIGdldHRlciBpcyBkZWZpbmVkLCB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvblxuICAgICAqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBgPHRlbXBsYXRlPmAgaW4gYSBgZG9tLW1vZHVsZWAgd2hvc2UgYGlkYFxuICAgICAqIG1hdGNoZXMgdGhpcyBlbGVtZW50J3MgYGlzYC5cbiAgICAgKlxuICAgICAqIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIGdldHRlciB0byByZXR1cm4gYW4gYXJiaXRyYXJ5IHRlbXBsYXRlXG4gICAgICogKGluIHdoaWNoIGNhc2UgdGhlIGBpc2AgZ2V0dGVyIGlzIHVubmVjZXNzYXJ5KS4gVGhlIHRlbXBsYXRlIHJldHVybmVkXG4gICAgICogbXVzdCBiZSBhbiBgSFRNTFRlbXBsYXRlRWxlbWVudGAuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgd2hlbiBzdWJjbGFzc2luZywgaWYgdGhlIHN1cGVyIGNsYXNzIG92ZXJyb2RlIHRoZSBkZWZhdWx0XG4gICAgICogaW1wbGVtZW50YXRpb24gYW5kIHRoZSBzdWJjbGFzcyB3b3VsZCBsaWtlIHRvIHByb3ZpZGUgYW4gYWx0ZXJuYXRlXG4gICAgICogdGVtcGxhdGUgdmlhIGEgYGRvbS1tb2R1bGVgLCBpdCBzaG91bGQgb3ZlcnJpZGUgdGhpcyBnZXR0ZXIgYW5kXG4gICAgICogcmV0dXJuIGBEb21Nb2R1bGUuaW1wb3J0KHRoaXMuaXMsICd0ZW1wbGF0ZScpYC5cbiAgICAgKlxuICAgICAqIElmIGEgc3ViY2xhc3Mgd291bGQgbGlrZSB0byBtb2RpZnkgdGhlIHN1cGVyIGNsYXNzIHRlbXBsYXRlLCBpdCBzaG91bGRcbiAgICAgKiBjbG9uZSBpdCByYXRoZXIgdGhhbiBtb2RpZnkgaXQgaW4gcGxhY2UuICBJZiB0aGUgZ2V0dGVyIGRvZXMgZXhwZW5zaXZlXG4gICAgICogd29yayBzdWNoIGFzIGNsb25pbmcvbW9kaWZ5aW5nIGEgdGVtcGxhdGUsIGl0IHNob3VsZCBtZW1vaXplIHRoZVxuICAgICAqIHRlbXBsYXRlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlOlxuICAgICAqXG4gICAgICogICBsZXQgbWVtb2l6ZWRUZW1wbGF0ZTtcbiAgICAgKiAgIGNsYXNzIE15U3ViQ2xhc3MgZXh0ZW5kcyBNeVN1cGVyQ2xhc3Mge1xuICAgICAqICAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAqICAgICAgIGlmICghbWVtb2l6ZWRUZW1wbGF0ZSkge1xuICAgICAqICAgICAgICAgbWVtb2l6ZWRUZW1wbGF0ZSA9IHN1cGVyLnRlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgKiAgICAgICAgIGxldCBzdWJDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICogICAgICAgICBzdWJDb250ZW50LnRleHRDb250ZW50ID0gJ1RoaXMgY2FtZSBmcm9tIE15U3ViQ2xhc3MnO1xuICAgICAqICAgICAgICAgbWVtb2l6ZWRUZW1wbGF0ZS5jb250ZW50LmFwcGVuZENoaWxkKHN1YkNvbnRlbnQpO1xuICAgICAqICAgICAgIH1cbiAgICAgKiAgICAgICByZXR1cm4gbWVtb2l6ZWRUZW1wbGF0ZTtcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqXG4gICAgICogQHJldHVybiB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR8c3RyaW5nfSBUZW1wbGF0ZSB0byBiZSBzdGFtcGVkXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IHRlbXBsYXRlKCkge1xuICAgICAgLy8gRXhwbGFuYXRpb24gb2YgdGVtcGxhdGUtcmVsYXRlZCBwcm9wZXJ0aWVzOlxuICAgICAgLy8gLSBjb25zdHJ1Y3Rvci50ZW1wbGF0ZSAodGhpcyBnZXR0ZXIpOiB0aGUgdGVtcGxhdGUgZm9yIHRoZSBjbGFzcy5cbiAgICAgIC8vICAgICBUaGlzIGNhbiBjb21lIGZyb20gdGhlIHByb3RvdHlwZSAoZm9yIGxlZ2FjeSBlbGVtZW50cyksIGZyb20gYVxuICAgICAgLy8gICAgIGRvbS1tb2R1bGUsIG9yIGZyb20gdGhlIHN1cGVyIGNsYXNzJ3MgdGVtcGxhdGUgKG9yIGNhbiBiZSBvdmVycmlkZGVuXG4gICAgICAvLyAgICAgYWx0b2dldGhlciBieSB0aGUgdXNlcilcbiAgICAgIC8vIC0gY29uc3RydWN0b3IuX3RlbXBsYXRlOiBtZW1vaXplZCB2ZXJzaW9uIG9mIGNvbnN0cnVjdG9yLnRlbXBsYXRlXG4gICAgICAvLyAtIHByb3RvdHlwZS5fdGVtcGxhdGU6IHdvcmtpbmcgdGVtcGxhdGUgZm9yIHRoZSBlbGVtZW50LCB3aGljaCB3aWxsIGJlXG4gICAgICAvLyAgICAgcGFyc2VkIGFuZCBtb2RpZmllZCBpbiBwbGFjZS4gSXQgaXMgYSBjbG9uZWQgdmVyc2lvbiBvZlxuICAgICAgLy8gICAgIGNvbnN0cnVjdG9yLnRlbXBsYXRlLCBzYXZlZCBpbiBfZmluYWxpemVDbGFzcygpLiBOb3RlIHRoYXQgYmVmb3JlXG4gICAgICAvLyAgICAgdGhpcyBnZXR0ZXIgaXMgY2FsbGVkLCBmb3IgbGVnYWN5IGVsZW1lbnRzIHRoaXMgY291bGQgYmUgZnJvbSBhXG4gICAgICAvLyAgICAgX3RlbXBsYXRlIGZpZWxkIG9uIHRoZSBpbmZvIG9iamVjdCBwYXNzZWQgdG8gUG9seW1lcigpLCBhIGJlaGF2aW9yLFxuICAgICAgLy8gICAgIG9yIHNldCBpbiByZWdpc3RlcmVkKCk7IG9uY2UgdGhlIHN0YXRpYyBnZXR0ZXIgcnVucywgYSBjbG9uZSBvZiBpdFxuICAgICAgLy8gICAgIHdpbGwgb3ZlcndyaXRlIGl0IG9uIHRoZSBwcm90b3R5cGUgYXMgdGhlIHdvcmtpbmcgdGVtcGxhdGUuXG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX3RlbXBsYXRlJywgdGhpcykpKSB7XG4gICAgICAgIHRoaXMuX3RlbXBsYXRlID1cbiAgICAgICAgICAvLyBJZiB1c2VyIGhhcyBwdXQgdGVtcGxhdGUgb24gcHJvdG90eXBlIChlLmcuIGluIGxlZ2FjeSB2aWEgcmVnaXN0ZXJlZFxuICAgICAgICAgIC8vIGNhbGxiYWNrIG9yIGluZm8gb2JqZWN0KSwgcHJlZmVyIHRoYXQgZmlyc3RcbiAgICAgICAgICB0aGlzLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfdGVtcGxhdGUnLCB0aGlzLnByb3RvdHlwZSkpID9cbiAgICAgICAgICB0aGlzLnByb3RvdHlwZS5fdGVtcGxhdGUgOlxuICAgICAgICAgIC8vIExvb2sgaW4gZG9tLW1vZHVsZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbGVtZW50J3MgaXNcbiAgICAgICAgICAoZ2V0VGVtcGxhdGVGcm9tRG9tTW9kdWxlKC8qKiBAdHlwZSB7UG9seW1lckVsZW1lbnRDb25zdHJ1Y3Rvcn0qLyAodGhpcykuaXMpIHx8XG4gICAgICAgICAgLy8gTmV4dCBsb29rIGZvciBzdXBlcmNsYXNzIHRlbXBsYXRlIChjYWxsIHRoZSBzdXBlciBpbXBsIHRoaXNcbiAgICAgICAgICAvLyB3YXkgc28gdGhhdCBgdGhpc2AgcG9pbnRzIHRvIHRoZSBzdXBlcmNsYXNzKVxuICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZigvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9Ki8gKHRoaXMpLnByb3RvdHlwZSkuY29uc3RydWN0b3IudGVtcGxhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3RlbXBsYXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fHN0cmluZ30gdmFsdWUgVGVtcGxhdGUgdG8gc2V0LlxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIHNldCB0ZW1wbGF0ZSh2YWx1ZSkge1xuICAgICAgdGhpcy5fdGVtcGxhdGUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXRoIG1hdGNoaW5nIHRoZSB1cmwgZnJvbSB3aGljaCB0aGUgZWxlbWVudCB3YXMgaW1wb3J0ZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHBhdGggaXMgdXNlZCB0byByZXNvbHZlIHVybCdzIGluIHRlbXBsYXRlIHN0eWxlIGNzc1RleHQuXG4gICAgICogVGhlIGBpbXBvcnRQYXRoYCBwcm9wZXJ0eSBpcyBhbHNvIHNldCBvbiBlbGVtZW50IGluc3RhbmNlcyBhbmQgY2FuIGJlXG4gICAgICogdXNlZCB0byBjcmVhdGUgYmluZGluZ3MgcmVsYXRpdmUgdG8gdGhlIGltcG9ydCBwYXRoLlxuICAgICAqXG4gICAgICogRm9yIGVsZW1lbnRzIGRlZmluZWQgaW4gRVMgbW9kdWxlcywgdXNlcnMgc2hvdWxkIGltcGxlbWVudFxuICAgICAqIGBzdGF0aWMgZ2V0IGltcG9ydE1ldGEoKSB7IHJldHVybiBpbXBvcnQubWV0YTsgfWAsIGFuZCB0aGUgZGVmYXVsdFxuICAgICAqIGltcGxlbWVudGF0aW9uIG9mIGBpbXBvcnRQYXRoYCB3aWxsICByZXR1cm4gYGltcG9ydC5tZXRhLnVybGAncyBwYXRoLlxuICAgICAqIEZvciBlbGVtZW50cyBkZWZpbmVkIGluIEhUTUwgaW1wb3J0cywgdGhpcyBnZXR0ZXIgd2lsbCByZXR1cm4gdGhlIHBhdGhcbiAgICAgKiB0byB0aGUgZG9jdW1lbnQgY29udGFpbmluZyBhIGBkb20tbW9kdWxlYCBlbGVtZW50IG1hdGNoaW5nIHRoaXNcbiAgICAgKiBlbGVtZW50J3Mgc3RhdGljIGBpc2AgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBOb3RlLCB0aGlzIHBhdGggc2hvdWxkIGNvbnRhaW4gYSB0cmFpbGluZyBgL2AuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBpbXBvcnQgcGF0aCBmb3IgdGhpcyBlbGVtZW50IGNsYXNzXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc31cbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgaW1wb3J0UGF0aCgpIHtcbiAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfaW1wb3J0UGF0aCcsIHRoaXMpKSkge1xuICAgICAgICBjb25zdCBtZXRhID0gdGhpcy5pbXBvcnRNZXRhO1xuICAgICAgICBpZiAobWV0YSkge1xuICAgICAgICAgIHRoaXMuX2ltcG9ydFBhdGggPSBwYXRoRnJvbVVybChtZXRhLnVybCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgbW9kdWxlID0gRG9tTW9kdWxlLmltcG9ydCgvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9ICovICh0aGlzKS5pcyk7XG4gICAgICAgICAgdGhpcy5faW1wb3J0UGF0aCA9IChtb2R1bGUgJiYgbW9kdWxlLmFzc2V0cGF0aCkgfHxcbiAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZigvKiogQHR5cGUge1BvbHltZXJFbGVtZW50Q29uc3RydWN0b3J9Ki8gKHRoaXMpLnByb3RvdHlwZSkuY29uc3RydWN0b3IuaW1wb3J0UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2ltcG9ydFBhdGg7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqL1xuICAgICAgdGhpcy5fdGVtcGxhdGU7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIHRoaXMuX2ltcG9ydFBhdGg7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIHRoaXMucm9vdFBhdGg7XG4gICAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICAgIHRoaXMuaW1wb3J0UGF0aDtcbiAgICAgIC8qKiBAdHlwZSB7U3RhbXBlZFRlbXBsYXRlIHwgSFRNTEVsZW1lbnQgfCBTaGFkb3dSb290fSAqL1xuICAgICAgdGhpcy5yb290O1xuICAgICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIUVsZW1lbnQ+fSAqL1xuICAgICAgdGhpcy4kO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgUHJvcGVydHlBY2Nlc3NvcnNgIHRvIGVuc3VyZSBjbGFzc1xuICAgICAqIG1ldGFwcm9ncmFtbWluZyByZWxhdGVkIHRvIHByb3BlcnR5IGFjY2Vzc29ycyBhbmQgZWZmZWN0cyBoYXNcbiAgICAgKiBjb21wbGV0ZWQgKGNhbGxzIGBmaW5hbGl6ZWApLlxuICAgICAqXG4gICAgICogSXQgYWxzbyBpbml0aWFsaXplcyBhbnkgcHJvcGVydHkgZGVmYXVsdHMgcHJvdmlkZWQgdmlhIGB2YWx1ZWAgaW5cbiAgICAgKiBgcHJvcGVydGllc2AgbWV0YWRhdGEuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzLG1pc3NpbmdQcm9wZXJ0aWVzfSBnby9taXNzaW5nZm5wcm9wc1xuICAgICAqL1xuICAgIF9pbml0aWFsaXplUHJvcGVydGllcygpIHtcbiAgICAgIHRoaXMuY29uc3RydWN0b3IuZmluYWxpemUoKTtcbiAgICAgIC8vIG5vdGU6IGZpbmFsaXplIHRlbXBsYXRlIHdoZW4gd2UgaGF2ZSBhY2Nlc3MgdG8gYGxvY2FsTmFtZWAgdG9cbiAgICAgIC8vIGF2b2lkIGRlcGVuZGVuY2Ugb24gYGlzYCBmb3IgcG9seWZpbGxpbmcgc3R5bGluZy5cbiAgICAgIHRoaXMuY29uc3RydWN0b3IuX2ZpbmFsaXplVGVtcGxhdGUoLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMpLmxvY2FsTmFtZSk7XG4gICAgICBzdXBlci5faW5pdGlhbGl6ZVByb3BlcnRpZXMoKTtcbiAgICAgIC8vIHNldCBwYXRoIGRlZmF1bHRzXG4gICAgICB0aGlzLnJvb3RQYXRoID0gcm9vdFBhdGg7XG4gICAgICB0aGlzLmltcG9ydFBhdGggPSB0aGlzLmNvbnN0cnVjdG9yLmltcG9ydFBhdGg7XG4gICAgICAvLyBhcHBseSBwcm9wZXJ0eSBkZWZhdWx0cy4uLlxuICAgICAgbGV0IHAkID0gcHJvcGVydHlEZWZhdWx0cyh0aGlzLmNvbnN0cnVjdG9yKTtcbiAgICAgIGlmICghcCQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgcCBpbiBwJCkge1xuICAgICAgICBsZXQgaW5mbyA9IHAkW3BdO1xuICAgICAgICAvLyBEb24ndCBzZXQgZGVmYXVsdCB2YWx1ZSBpZiB0aGVyZSBpcyBhbHJlYWR5IGFuIG93biBwcm9wZXJ0eSwgd2hpY2hcbiAgICAgICAgLy8gaGFwcGVucyB3aGVuIGEgYHByb3BlcnRpZXNgIHByb3BlcnR5IHdpdGggZGVmYXVsdCBidXQgbm8gZWZmZWN0cyBoYWRcbiAgICAgICAgLy8gYSBwcm9wZXJ0eSBzZXQgKGUuZy4gYm91bmQpIGJ5IGl0cyBob3N0IGJlZm9yZSB1cGdyYWRlXG4gICAgICAgIGlmICghdGhpcy5oYXNPd25Qcm9wZXJ0eShwKSkge1xuICAgICAgICAgIGxldCB2YWx1ZSA9IHR5cGVvZiBpbmZvLnZhbHVlID09ICdmdW5jdGlvbicgP1xuICAgICAgICAgICAgaW5mby52YWx1ZS5jYWxsKHRoaXMpIDpcbiAgICAgICAgICAgIGluZm8udmFsdWU7XG4gICAgICAgICAgLy8gU2V0IHZpYSBgX3NldFByb3BlcnR5YCBpZiB0aGVyZSBpcyBhbiBhY2Nlc3NvciwgdG8gZW5hYmxlXG4gICAgICAgICAgLy8gaW5pdGlhbGl6aW5nIHJlYWRPbmx5IHByb3BlcnR5IGRlZmF1bHRzXG4gICAgICAgICAgaWYgKHRoaXMuX2hhc0FjY2Vzc29yKHApKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkocCwgdmFsdWUsIHRydWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzW3BdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2F0aGVyIHN0eWxlIHRleHQgZm9yIGEgc3R5bGUgZWxlbWVudCBpbiB0aGUgdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dCBUZXh0IGNvbnRhaW5pbmcgc3R5bGluZyB0byBwcm9jZXNzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgQmFzZSBVUkkgdG8gcmViYXNlIENTUyBwYXRocyBhZ2FpbnN0XG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJvY2Vzc2VkIENTUyB0ZXh0XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9jZXNzU3R5bGVUZXh0KGNzc1RleHQsIGJhc2VVUkkpIHtcbiAgICAgIHJldHVybiByZXNvbHZlQ3NzKGNzc1RleHQsIGJhc2VVUkkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogQ29uZmlndXJlcyBhbiBlbGVtZW50IGBwcm90b2AgdG8gZnVuY3Rpb24gd2l0aCBhIGdpdmVuIGB0ZW1wbGF0ZWAuXG4gICAgKiBUaGUgZWxlbWVudCBuYW1lIGBpc2AgYW5kIGV4dGVuZHMgYGV4dGAgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIFNoYWR5Q1NTXG4gICAgKiBzdHlsZSBzY29waW5nLlxuICAgICpcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBpcyBUYWcgbmFtZSAob3IgdHlwZSBleHRlbnNpb24gbmFtZSkgZm9yIHRoaXMgZWxlbWVudFxuICAgICogQHJldHVybiB7dm9pZH1cbiAgICAqIEBwcm90ZWN0ZWRcbiAgICAqIEBub2NvbGxhcHNlXG4gICAgKi9cbiAgICBzdGF0aWMgX2ZpbmFsaXplVGVtcGxhdGUoaXMpIHtcbiAgICAgIC8qKiBAY29uc3Qge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMucHJvdG90eXBlLl90ZW1wbGF0ZTtcbiAgICAgIGlmICh0ZW1wbGF0ZSAmJiAhdGVtcGxhdGUuX19wb2x5bWVyRmluYWxpemVkKSB7XG4gICAgICAgIHRlbXBsYXRlLl9fcG9seW1lckZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGltcG9ydFBhdGggPSB0aGlzLmltcG9ydFBhdGg7XG4gICAgICAgIGNvbnN0IGJhc2VVUkkgPSBpbXBvcnRQYXRoID8gcmVzb2x2ZVVybChpbXBvcnRQYXRoKSA6ICcnO1xuICAgICAgICAvLyBlLmcuIHN1cHBvcnQgYGluY2x1ZGU9XCJtb2R1bGUtbmFtZVwiYCwgYW5kIFNoYWR5Q1NTXG4gICAgICAgIHByb2Nlc3NFbGVtZW50U3R5bGVzKHRoaXMsIHRlbXBsYXRlLCBpcywgYmFzZVVSSSk7XG4gICAgICAgIHRoaXMucHJvdG90eXBlLl9iaW5kVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGEgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgc3RhbmRhcmQgQ3VzdG9tIEVsZW1lbnRzXG4gICAgICogYGNvbm5lY3RlZENhbGxiYWNrYC5cbiAgICAgKlxuICAgICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGVuYWJsZXMgdGhlIHByb3BlcnR5IGVmZmVjdHMgc3lzdGVtIGFuZFxuICAgICAqIGZsdXNoZXMgYW55IHBlbmRpbmcgcHJvcGVydGllcywgYW5kIHVwZGF0ZXMgc2hpbW1lZCBDU1MgcHJvcGVydGllc1xuICAgICAqIHdoZW4gdXNpbmcgdGhlIFNoYWR5Q1NTIHNjb3BpbmcvY3VzdG9tIHByb3BlcnRpZXMgcG9seWZpbGwuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzLCBpbnZhbGlkQ2FzdHN9IFN1cGVyIG1heSBvciBtYXkgbm90XG4gICAgICogICAgIGltcGxlbWVudCB0aGUgY2FsbGJhY2tcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUyAmJiB0aGlzLl90ZW1wbGF0ZSkge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YW1wcyB0aGUgZWxlbWVudCB0ZW1wbGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICBpZiAodGhpcy5fdGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5fc3RhbXBUZW1wbGF0ZSh0aGlzLl90ZW1wbGF0ZSk7XG4gICAgICAgIHRoaXMuJCA9IHRoaXMucm9vdC4kO1xuICAgICAgfVxuICAgICAgc3VwZXIucmVhZHkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIGBQcm9wZXJ0eUVmZmVjdHNgJ3MgYF9yZWFkeUNsaWVudHNgIGNhbGwuIEF0dGFjaGVzXG4gICAgICogZWxlbWVudCBkb20gYnkgY2FsbGluZyBgX2F0dGFjaERvbWAgd2l0aCB0aGUgZG9tIHN0YW1wZWQgZnJvbSB0aGVcbiAgICAgKiBlbGVtZW50J3MgdGVtcGxhdGUgdmlhIGBfc3RhbXBUZW1wbGF0ZWAuIE5vdGUgdGhhdCB0aGlzIGFsbG93c1xuICAgICAqIGNsaWVudCBkb20gdG8gYmUgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgcHJpb3IgdG8gYW55IG9ic2VydmVyc1xuICAgICAqIHJ1bm5pbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9yZWFkeUNsaWVudHMoKSB7XG4gICAgICBpZiAodGhpcy5fdGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5yb290ID0gdGhpcy5fYXR0YWNoRG9tKC8qKiBAdHlwZSB7U3RhbXBlZFRlbXBsYXRlfSAqLyh0aGlzLnJvb3QpKTtcbiAgICAgIH1cbiAgICAgIC8vIFRoZSBzdXBlci5fcmVhZHlDbGllbnRzIGhlcmUgc2V0cyB0aGUgY2xpZW50cyBpbml0aWFsaXplZCBmbGFnLlxuICAgICAgLy8gV2UgbXVzdCB3YWl0IHRvIGRvIHRoaXMgdW50aWwgYWZ0ZXIgY2xpZW50IGRvbSBpcyBjcmVhdGVkL2F0dGFjaGVkXG4gICAgICAvLyBzbyB0aGF0IHRoaXMgZmxhZyBjYW4gYmUgY2hlY2tlZCB0byBwcmV2ZW50IG5vdGlmaWNhdGlvbnMgZmlyZWRcbiAgICAgIC8vIGR1cmluZyB0aGlzIHByb2Nlc3MgZnJvbSBiZWluZyBoYW5kbGVkIGJlZm9yZSBjbGllbnRzIGFyZSByZWFkeS5cbiAgICAgIHN1cGVyLl9yZWFkeUNsaWVudHMoKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGFuIGVsZW1lbnQncyBzdGFtcGVkIGRvbSB0byBpdHNlbGYuIEJ5IGRlZmF1bHQsXG4gICAgICogdGhpcyBtZXRob2QgY3JlYXRlcyBhIGBzaGFkb3dSb290YCBhbmQgYWRkcyB0aGUgZG9tIHRvIGl0LlxuICAgICAqIEhvd2V2ZXIsIHRoaXMgbWV0aG9kIG1heSBiZSBvdmVycmlkZGVuIHRvIGFsbG93IGFuIGVsZW1lbnRcbiAgICAgKiB0byBwdXQgaXRzIGRvbSBpbiBhbm90aGVyIGxvY2F0aW9uLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHRocm93cyB7RXJyb3J9XG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUmV0dXJufVxuICAgICAqIEBwYXJhbSB7U3RhbXBlZFRlbXBsYXRlfSBkb20gdG8gYXR0YWNoIHRvIHRoZSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1NoYWRvd1Jvb3R9IG5vZGUgdG8gd2hpY2ggdGhlIGRvbSBoYXMgYmVlbiBhdHRhY2hlZC5cbiAgICAgKi9cbiAgICBfYXR0YWNoRG9tKGRvbSkge1xuICAgICAgY29uc3QgbiA9IHdyYXAodGhpcyk7XG4gICAgICBpZiAobi5hdHRhY2hTaGFkb3cpIHtcbiAgICAgICAgaWYgKGRvbSkge1xuICAgICAgICAgIGlmICghbi5zaGFkb3dSb290KSB7XG4gICAgICAgICAgICBuLmF0dGFjaFNoYWRvdyh7bW9kZTogJ29wZW4nLCBzaGFkeVVwZ3JhZGVGcmFnbWVudDogZG9tfSk7XG4gICAgICAgICAgICBuLnNoYWRvd1Jvb3QuYXBwZW5kQ2hpbGQoZG9tKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN5bmNJbml0aWFsUmVuZGVyICYmIHdpbmRvdy5TaGFkeURPTSkge1xuICAgICAgICAgICAgd2luZG93LlNoYWR5RE9NLmZsdXNoSW5pdGlhbChuLnNoYWRvd1Jvb3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbi5zaGFkb3dSb290O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaGFkb3dET00gbm90IGF2YWlsYWJsZS4gJyArXG4gICAgICAgICAgLy8gVE9ETyhzb3J2ZWxsKTogbW92ZSB0byBjb21waWxlLXRpbWUgY29uZGl0aW9uYWwgd2hlbiBzdXBwb3J0ZWRcbiAgICAgICAgJ1BvbHltZXJFbGVtZW50IGNhbiBjcmVhdGUgZG9tIGFzIGNoaWxkcmVuIGluc3RlYWQgb2YgaW4gJyArXG4gICAgICAgICdTaGFkb3dET00gYnkgc2V0dGluZyBgdGhpcy5yb290ID0gdGhpcztcXGAgYmVmb3JlIFxcYHJlYWR5XFxgLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdXNpbmcgdGhlIFNoYWR5Q1NTIHNjb3BpbmcgYW5kIGN1c3RvbSBwcm9wZXJ0eSBzaGltLCBjYXVzZXMgYWxsXG4gICAgICogc2hpbW1lZCBzdHlsZXMgaW4gdGhpcyBlbGVtZW50IChhbmQgaXRzIHN1YnRyZWUpIHRvIGJlIHVwZGF0ZWRcbiAgICAgKiBiYXNlZCBvbiBjdXJyZW50IGN1c3RvbSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIG92ZXJyaWRlcyBpbmxpbmUgY3VzdG9tIHByb3BlcnR5IHN0eWxlcyB3aXRoIGFuXG4gICAgICogb2JqZWN0IG9mIHByb3BlcnRpZXMgd2hlcmUgdGhlIGtleXMgYXJlIENTUyBwcm9wZXJ0aWVzLCBhbmQgdGhlIHZhbHVlc1xuICAgICAqIGFyZSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogRXhhbXBsZTogYHRoaXMudXBkYXRlU3R5bGVzKHsnLS1jb2xvcic6ICdibHVlJ30pYFxuICAgICAqXG4gICAgICogVGhlc2UgcHJvcGVydGllcyBhcmUgcmV0YWluZWQgdW5sZXNzIGEgdmFsdWUgb2YgYG51bGxgIGlzIHNldC5cbiAgICAgKlxuICAgICAqIE5vdGU6IFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCB1cGRhdGluZyBDU1MgbWl4aW5zLlxuICAgICAqIFlvdSBjYW4gbm90IGR5bmFtaWNhbGx5IGNoYW5nZSB0aGUgdmFsdWUgb2YgYW4gYEBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXMgQmFnIG9mIGN1c3RvbSBwcm9wZXJ0eSBrZXkvdmFsdWVzIHRvXG4gICAgICogICBhcHBseSB0byB0aGlzIGVsZW1lbnQuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c31cbiAgICAgKi9cbiAgICB1cGRhdGVTdHlsZXMocHJvcGVydGllcykge1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeUNTUykge1xuICAgICAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVTdWJ0cmVlKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyh0aGlzKSwgcHJvcGVydGllcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV3cml0ZXMgYSBnaXZlbiBVUkwgcmVsYXRpdmUgdG8gYSBiYXNlIFVSTC4gVGhlIGJhc2UgVVJMIGRlZmF1bHRzIHRvXG4gICAgICogdGhlIG9yaWdpbmFsIGxvY2F0aW9uIG9mIHRoZSBkb2N1bWVudCBjb250YWluaW5nIHRoZSBgZG9tLW1vZHVsZWAgZm9yXG4gICAgICogdGhpcyBlbGVtZW50LiBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc2FtZSBVUkwgYmVmb3JlIGFuZCBhZnRlclxuICAgICAqIGJ1bmRsaW5nLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gcGVyZm9ybXMgbm8gcmVzb2x1dGlvbiBmb3IgVVJMcyB0aGF0IHN0YXJ0XG4gICAgICogd2l0aCBgL2AgKGFic29sdXRlIFVSTHMpIG9yIGAjYCAoaGFzaCBpZGVudGlmaWVycykuICBGb3IgZ2VuZXJhbCBwdXJwb3NlXG4gICAgICogVVJMIHJlc29sdXRpb24sIHVzZSBgd2luZG93LlVSTGAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTCB0byByZXNvbHZlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYmFzZSBPcHRpb25hbCBiYXNlIFVSTCB0byByZXNvbHZlIGFnYWluc3QsIGRlZmF1bHRzXG4gICAgICogdG8gdGhlIGVsZW1lbnQncyBgaW1wb3J0UGF0aGBcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFJld3JpdHRlbiBVUkwgcmVsYXRpdmUgdG8gYmFzZVxuICAgICAqL1xuICAgIHJlc29sdmVVcmwodXJsLCBiYXNlKSB7XG4gICAgICBpZiAoIWJhc2UgJiYgdGhpcy5pbXBvcnRQYXRoKSB7XG4gICAgICAgIGJhc2UgPSByZXNvbHZlVXJsKHRoaXMuaW1wb3J0UGF0aCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzb2x2ZVVybCh1cmwsIGJhc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlFZmZlY3RzYCB0byBhZGQgbWFwIG9mIGR5bmFtaWMgZnVuY3Rpb25zIG9uXG4gICAgICogdGVtcGxhdGUgaW5mbywgZm9yIGNvbnN1bXB0aW9uIGJ5IGBQcm9wZXJ0eUVmZmVjdHNgIHRlbXBsYXRlIGJpbmRpbmdcbiAgICAgKiBjb2RlLiBUaGlzIG1hcCBkZXRlcm1pbmVzIHdoaWNoIG1ldGhvZCB0ZW1wbGF0ZXMgc2hvdWxkIGhhdmUgYWNjZXNzb3JzXG4gICAgICogY3JlYXRlZCBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlIFRlbXBsYXRlXG4gICAgICogQHBhcmFtIHshVGVtcGxhdGVJbmZvfSB0ZW1wbGF0ZUluZm8gVGVtcGxhdGUgbWV0YWRhdGEgZm9yIGN1cnJlbnQgdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0geyFOb2RlSW5mb30gbm9kZUluZm8gTm9kZSBtZXRhZGF0YSBmb3IgY3VycmVudCB0ZW1wbGF0ZS5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAuXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3BhcnNlVGVtcGxhdGVDb250ZW50KHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKSB7XG4gICAgICB0ZW1wbGF0ZUluZm8uZHluYW1pY0ZucyA9IHRlbXBsYXRlSW5mby5keW5hbWljRm5zIHx8IHRoaXMuX3Byb3BlcnRpZXM7XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIHJldHVybiBwb2x5bWVyRWxlbWVudEJhc2UuX3BhcnNlVGVtcGxhdGVDb250ZW50LmNhbGwoXG4gICAgICAgIHRoaXMsIHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG5vZGVJbmZvKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gd2FybiBvbiB1c2Ugb2YgdW5kZWNsYXJlZCBwcm9wZXJ0aWVzIGluXG4gICAgICogdGVtcGxhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVJbmZvIFRlbXBsYXRlIG1ldGFkYXRhIHRvIGFkZCBlZmZlY3QgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSB0aGF0IHNob3VsZCB0cmlnZ2VyIHRoZSBlZmZlY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGVmZmVjdCBFZmZlY3QgbWV0YWRhdGEgb2JqZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSW50ZXJmYWNlcyBpbiBjbG9zdXJlIGRvIG5vdCBpbmhlcml0IHN0YXRpY3MsIGJ1dCBjbGFzc2VzIGRvXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QodGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpIHtcbiAgICAgIC8vIFdhcm4gaWYgcHJvcGVydGllcyBhcmUgdXNlZCBpbiB0ZW1wbGF0ZSB3aXRob3V0IGJlaW5nIGRlY2xhcmVkLlxuICAgICAgLy8gUHJvcGVydGllcyBtdXN0IGJlIGxpc3RlZCBpbiBgcHJvcGVydGllc2AgdG8gYmUgaW5jbHVkZWQgaW5cbiAgICAgIC8vIGBvYnNlcnZlZEF0dHJpYnV0ZXNgIHNpbmNlIENFIFYxIHJlYWRzIHRoYXQgYXQgcmVnaXN0cmF0aW9uIHRpbWUsIGFuZFxuICAgICAgLy8gc2luY2Ugd2Ugd2FudCB0byBrZWVwIHRlbXBsYXRlIHBhcnNpbmcgbGF6eSwgd2UgY2FuJ3QgYXV0b21hdGljYWxseVxuICAgICAgLy8gYWRkIHVuZGVjbGFyZWQgcHJvcGVydGllcyB1c2VkIGluIHRlbXBsYXRlcyB0byBgb2JzZXJ2ZWRBdHRyaWJ1dGVzYC5cbiAgICAgIC8vIFRoZSB3YXJuaW5nIGlzIG9ubHkgZW5hYmxlZCBpbiBgbGVnYWN5T3B0aW1pemF0aW9uc2AgbW9kZSwgc2luY2VcbiAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gc3BhbSBleGlzdGluZyB1c2VycyB3aG8gbWlnaHQgaGF2ZSBhZG9wdGVkIHRoZVxuICAgICAgLy8gc2hvcnRoYW5kIHdoZW4gYXR0cmlidXRlIGRlc2VyaWFsaXphdGlvbiBpcyBub3QgaW1wb3J0YW50LlxuICAgICAgaWYgKGxlZ2FjeU9wdGltaXphdGlvbnMgJiYgIShwcm9wIGluIHRoaXMuX3Byb3BlcnRpZXMpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihgUHJvcGVydHkgJyR7cHJvcH0nIHVzZWQgaW4gdGVtcGxhdGUgYnV0IG5vdCBkZWNsYXJlZCBpbiAncHJvcGVydGllcyc7IGAgK1xuICAgICAgICAgIGBhdHRyaWJ1dGUgd2lsbCBub3QgYmUgb2JzZXJ2ZWQuYCk7XG4gICAgICB9XG4gICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAvLyAgICAgQ2hhbmdlIGJhY2sgdG8ganVzdCBzdXBlci5tZXRob2RDYWxsKClcbiAgICAgIHJldHVybiBwb2x5bWVyRWxlbWVudEJhc2UuX2FkZFRlbXBsYXRlUHJvcGVydHlFZmZlY3QuY2FsbChcbiAgICAgICAgdGhpcywgdGVtcGxhdGVJbmZvLCBwcm9wLCBlZmZlY3QpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIFBvbHltZXJFbGVtZW50O1xufSk7XG5cbi8qKlxuICogV2hlbiB1c2luZyB0aGUgU2hhZHlDU1Mgc2NvcGluZyBhbmQgY3VzdG9tIHByb3BlcnR5IHNoaW0sIGNhdXNlcyBhbGxcbiAqIHNoaW1tZWQgYHN0eWxlc2AgKHZpYSBgY3VzdG9tLXN0eWxlYCkgaW4gdGhlIGRvY3VtZW50IChhbmQgaXRzIHN1YnRyZWUpXG4gKiB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGN1cnJlbnQgY3VzdG9tIHByb3BlcnR5IHZhbHVlcy5cbiAqXG4gKiBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIG92ZXJyaWRlcyBpbmxpbmUgY3VzdG9tIHByb3BlcnR5IHN0eWxlcyB3aXRoIGFuXG4gKiBvYmplY3Qgb2YgcHJvcGVydGllcyB3aGVyZSB0aGUga2V5cyBhcmUgQ1NTIHByb3BlcnRpZXMsIGFuZCB0aGUgdmFsdWVzXG4gKiBhcmUgc3RyaW5ncy5cbiAqXG4gKiBFeGFtcGxlOiBgdXBkYXRlU3R5bGVzKHsnLS1jb2xvcic6ICdibHVlJ30pYFxuICpcbiAqIFRoZXNlIHByb3BlcnRpZXMgYXJlIHJldGFpbmVkIHVubGVzcyBhIHZhbHVlIG9mIGBudWxsYCBpcyBzZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wcyBCYWcgb2YgY3VzdG9tIHByb3BlcnR5IGtleS92YWx1ZXMgdG9cbiAqICAgYXBwbHkgdG8gdGhlIGRvY3VtZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0eWxlcyA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gIGlmICh3aW5kb3cuU2hhZHlDU1MpIHtcbiAgICB3aW5kb3cuU2hhZHlDU1Muc3R5bGVEb2N1bWVudChwcm9wcyk7XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgeyBFbGVtZW50TWl4aW4sIHZlcnNpb24gfSBmcm9tICcuL2xpYi9taXhpbnMvZWxlbWVudC1taXhpbi5qcyc7XG5leHBvcnQgeyBodG1sIH0gZnJvbSAnLi9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuXG5leHBvcnQgeyB2ZXJzaW9uIH07XG5cbi8qKlxuICogQmFzZSBjbGFzcyB0aGF0IHByb3ZpZGVzIHRoZSBjb3JlIEFQSSBmb3IgUG9seW1lcidzIG1ldGEtcHJvZ3JhbW1pbmdcbiAqIGZlYXR1cmVzIGluY2x1ZGluZyB0ZW1wbGF0ZSBzdGFtcGluZywgZGF0YS1iaW5kaW5nLCBhdHRyaWJ1dGUgZGVzZXJpYWxpemF0aW9uLFxuICogYW5kIHByb3BlcnR5IGNoYW5nZSBvYnNlcnZhdGlvbi5cbiAqXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQHBvbHltZXJcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge1BvbHltZXJfRWxlbWVudE1peGlufVxuICogQGV4dGVuZHMgSFRNTEVsZW1lbnRcbiAqIEBhcHBsaWVzTWl4aW4gRWxlbWVudE1peGluXG4gKiBAc3VtbWFyeSBDdXN0b20gZWxlbWVudCBiYXNlIGNsYXNzIHRoYXQgcHJvdmlkZXMgdGhlIGNvcmUgQVBJIGZvciBQb2x5bWVyJ3NcbiAqICAga2V5IG1ldGEtcHJvZ3JhbW1pbmcgZmVhdHVyZXMgaW5jbHVkaW5nIHRlbXBsYXRlIHN0YW1waW5nLCBkYXRhLWJpbmRpbmcsXG4gKiAgIGF0dHJpYnV0ZSBkZXNlcmlhbGl6YXRpb24sIGFuZCBwcm9wZXJ0eSBjaGFuZ2Ugb2JzZXJ2YXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFBvbHltZXJFbGVtZW50ID0gRWxlbWVudE1peGluKEhUTUxFbGVtZW50KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCAnLi9taXhpbi5qcyc7XG5pbXBvcnQgJy4vYXN5bmMuanMnO1xuXG4vKipcbiAqIEBzdW1tYXJ5IENvbGxhcHNlIG11bHRpcGxlIGNhbGxiYWNrcyBpbnRvIG9uZSBpbnZvY2F0aW9uIGFmdGVyIGEgdGltZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBEZWJvdW5jZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLl9hc3luY01vZHVsZSA9IG51bGw7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogU2V0cyB0aGUgc2NoZWR1bGVyOyB0aGF0IGlzLCBhIG1vZHVsZSB3aXRoIHRoZSBBc3luYyBpbnRlcmZhY2UsXG4gICAqIGEgY2FsbGJhY2sgYW5kIG9wdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwYXNzZWQgdG8gdGhlIHJ1biBmdW5jdGlvblxuICAgKiBmcm9tIHRoZSBhc3luYyBtb2R1bGUuXG4gICAqXG4gICAqIEBwYXJhbSB7IUFzeW5jSW50ZXJmYWNlfSBhc3luY01vZHVsZSBPYmplY3Qgd2l0aCBBc3luYyBpbnRlcmZhY2UuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gcnVuLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgc2V0Q29uZmlnKGFzeW5jTW9kdWxlLCBjYWxsYmFjaykge1xuICAgIHRoaXMuX2FzeW5jTW9kdWxlID0gYXN5bmNNb2R1bGU7XG4gICAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICB0aGlzLl90aW1lciA9IHRoaXMuX2FzeW5jTW9kdWxlLnJ1bigoKSA9PiB7XG4gICAgICB0aGlzLl90aW1lciA9IG51bGw7XG4gICAgICBkZWJvdW5jZXJRdWV1ZS5kZWxldGUodGhpcyk7XG4gICAgICB0aGlzLl9jYWxsYmFjaygpO1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDYW5jZWxzIGFuIGFjdGl2ZSBkZWJvdW5jZXIgYW5kIHJldHVybnMgYSByZWZlcmVuY2UgdG8gaXRzZWxmLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY2FuY2VsKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHRoaXMuX2NhbmNlbEFzeW5jKCk7XG4gICAgICAvLyBDYW5jZWxpbmcgYSBkZWJvdW5jZXIgcmVtb3ZlcyBpdHMgc3BvdCBmcm9tIHRoZSBmbHVzaCBxdWV1ZSxcbiAgICAgIC8vIHNvIGlmIGEgZGVib3VuY2VyIGlzIG1hbnVhbGx5IGNhbmNlbGVkIGFuZCByZS1kZWJvdW5jZWQsIGl0XG4gICAgICAvLyB3aWxsIHJlc2V0IGl0cyBmbHVzaCBvcmRlciAodGhpcyBpcyBhIHZlcnkgbWlub3IgZGlmZmVyZW5jZSBmcm9tIDEueClcbiAgICAgIC8vIFJlLWRlYm91bmNpbmcgdmlhIHRoZSBgZGVib3VuY2VgIEFQSSByZXRhaW5zIHRoZSAxLnggRklGTyBmbHVzaCBvcmRlclxuICAgICAgZGVib3VuY2VyUXVldWUuZGVsZXRlKHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ2FuY2VscyBhIGRlYm91bmNlcidzIGFzeW5jIGNhbGxiYWNrLlxuICAgKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgX2NhbmNlbEFzeW5jKCkge1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgIHRoaXMuX2FzeW5jTW9kdWxlLmNhbmNlbCgvKiogQHR5cGUge251bWJlcn0gKi8odGhpcy5fdGltZXIpKTtcbiAgICAgIHRoaXMuX3RpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZsdXNoZXMgYW4gYWN0aXZlIGRlYm91bmNlciBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0byBpdHNlbGYuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBmbHVzaCgpIHtcbiAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgdGhpcy5fY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZGVib3VuY2VyIGlzIGFjdGl2ZS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhY3RpdmUuXG4gICAqL1xuICBpc0FjdGl2ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdGltZXIgIT0gbnVsbDtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIGRlYm91bmNlciBpZiBubyBkZWJvdW5jZXIgaXMgcGFzc2VkIGFzIGEgcGFyYW1ldGVyXG4gICAqIG9yIGl0IGNhbmNlbHMgYW4gYWN0aXZlIGRlYm91bmNlciBvdGhlcndpc2UuIFRoZSBmb2xsb3dpbmdcbiAgICogZXhhbXBsZSBzaG93cyBob3cgYSBkZWJvdW5jZXIgY2FuIGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB3aXRoaW4gYVxuICAgKiBtaWNyb3Rhc2sgYW5kIFwiZGVib3VuY2VkXCIgc3VjaCB0aGF0IHRoZSBwcm92aWRlZCBjYWxsYmFjayBmdW5jdGlvbiBpc1xuICAgKiBjYWxsZWQgb25jZS4gQWRkIHRoaXMgbWV0aG9kIHRvIGEgY3VzdG9tIGVsZW1lbnQ6XG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGltcG9ydCB7bWljcm9UYXNrfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hc3luYy5qcyc7XG4gICAqIGltcG9ydCB7RGVib3VuY2VyfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9kZWJvdW5jZS5qcyc7XG4gICAqIC8vIC4uLlxuICAgKlxuICAgKiBfZGVib3VuY2VXb3JrKCkge1xuICAgKiAgIHRoaXMuX2RlYm91bmNlSm9iID0gRGVib3VuY2VyLmRlYm91bmNlKHRoaXMuX2RlYm91bmNlSm9iLFxuICAgKiAgICAgICBtaWNyb1Rhc2ssICgpID0+IHRoaXMuX2RvV29yaygpKTtcbiAgICogfVxuICAgKiBgYGBcbiAgICpcbiAgICogSWYgdGhlIGBfZGVib3VuY2VXb3JrYCBtZXRob2QgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzIHdpdGhpbiB0aGUgc2FtZVxuICAgKiBtaWNyb3Rhc2ssIHRoZSBgX2RvV29ya2AgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgb25seSBvbmNlIGF0IHRoZSBuZXh0XG4gICAqIG1pY3JvdGFzayBjaGVja3BvaW50LlxuICAgKlxuICAgKiBOb3RlOiBJbiB0ZXN0aW5nIGl0IGlzIG9mdGVuIGNvbnZlbmllbnQgdG8gYXZvaWQgYXN5bmNocm9ueS4gVG8gYWNjb21wbGlzaFxuICAgKiB0aGlzIHdpdGggYSBkZWJvdW5jZXIsIHlvdSBjYW4gdXNlIGBlbnF1ZXVlRGVib3VuY2VyYCBhbmRcbiAgICogYGZsdXNoYC4gRm9yIGV4YW1wbGUsIGV4dGVuZCB0aGUgYWJvdmUgZXhhbXBsZSBieSBhZGRpbmdcbiAgICogYGVucXVldWVEZWJvdW5jZXIodGhpcy5fZGVib3VuY2VKb2IpYCBhdCB0aGUgZW5kIG9mIHRoZVxuICAgKiBgX2RlYm91bmNlV29ya2AgbWV0aG9kLiBUaGVuIGluIGEgdGVzdCwgY2FsbCBgZmx1c2hgIHRvIGVuc3VyZVxuICAgKiB0aGUgZGVib3VuY2VyIGhhcyBjb21wbGV0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RGVib3VuY2VyP30gZGVib3VuY2VyIERlYm91bmNlciBvYmplY3QuXG4gICAqIEBwYXJhbSB7IUFzeW5jSW50ZXJmYWNlfSBhc3luY01vZHVsZSBPYmplY3Qgd2l0aCBBc3luYyBpbnRlcmZhY2VcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFjayBDYWxsYmFjayB0byBydW4uXG4gICAqIEByZXR1cm4geyFEZWJvdW5jZXJ9IFJldHVybnMgYSBkZWJvdW5jZXIgb2JqZWN0LlxuICAgKi9cbiAgc3RhdGljIGRlYm91bmNlKGRlYm91bmNlciwgYXN5bmNNb2R1bGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGRlYm91bmNlciBpbnN0YW5jZW9mIERlYm91bmNlcikge1xuICAgICAgLy8gQ2FuY2VsIHRoZSBhc3luYyBjYWxsYmFjaywgYnV0IGxlYXZlIGluIGRlYm91bmNlclF1ZXVlIGlmIGl0IHdhc1xuICAgICAgLy8gZW5xdWV1ZWQsIHRvIG1haW50YWluIDEueCBmbHVzaCBvcmRlclxuICAgICAgZGVib3VuY2VyLl9jYW5jZWxBc3luYygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJvdW5jZXIgPSBuZXcgRGVib3VuY2VyKCk7XG4gICAgfVxuICAgIGRlYm91bmNlci5zZXRDb25maWcoYXN5bmNNb2R1bGUsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gZGVib3VuY2VyO1xuICB9XG59XG5cbmxldCBkZWJvdW5jZXJRdWV1ZSA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBBZGRzIGEgYERlYm91bmNlcmAgdG8gYSBsaXN0IG9mIGdsb2JhbGx5IGZsdXNoYWJsZSB0YXNrcy5cbiAqXG4gKiBAcGFyYW0geyFEZWJvdW5jZXJ9IGRlYm91bmNlciBEZWJvdW5jZXIgdG8gZW5xdWV1ZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZXhwb3J0IGNvbnN0IGVucXVldWVEZWJvdW5jZXIgPSBmdW5jdGlvbihkZWJvdW5jZXIpIHtcbiAgZGVib3VuY2VyUXVldWUuYWRkKGRlYm91bmNlcik7XG59O1xuXG4vKipcbiAqIEZsdXNoZXMgYW55IGVucXVldWVkIGRlYm91bmNlcnNcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHdoZXRoZXIgYW55IGRlYm91bmNlcnMgd2VyZSBmbHVzaGVkXG4gKi9cbmV4cG9ydCBjb25zdCBmbHVzaERlYm91bmNlcnMgPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgZGlkRmx1c2ggPSBCb29sZWFuKGRlYm91bmNlclF1ZXVlLnNpemUpO1xuICAvLyBJZiBuZXcgZGVib3VuY2VycyBhcmUgYWRkZWQgd2hpbGUgZmx1c2hpbmcsIFNldC5mb3JFYWNoIHdpbGwgZW5zdXJlXG4gIC8vIG5ld2x5IGFkZGVkIG9uZXMgYXJlIGFsc28gZmx1c2hlZFxuICBkZWJvdW5jZXJRdWV1ZS5mb3JFYWNoKGRlYm91bmNlciA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGRlYm91bmNlci5mbHVzaCgpO1xuICAgIH0gY2F0Y2goZSkge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZGlkRmx1c2g7XG59OyIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbi8qKlxuICogQGZpbGVvdmVydmlld1xuICpcbiAqIE1vZHVsZSBmb3IgYWRkaW5nIGxpc3RlbmVycyB0byBhIG5vZGUgZm9yIHRoZSBmb2xsb3dpbmcgbm9ybWFsaXplZFxuICogY3Jvc3MtcGxhdGZvcm0gXCJnZXN0dXJlXCIgZXZlbnRzOlxuICogLSBgZG93bmAgLSBtb3VzZSBvciB0b3VjaCB3ZW50IGRvd25cbiAqIC0gYHVwYCAtIG1vdXNlIG9yIHRvdWNoIHdlbnQgdXBcbiAqIC0gYHRhcGAgLSBtb3VzZSBjbGljayBvciBmaW5nZXIgdGFwXG4gKiAtIGB0cmFja2AgLSBtb3VzZSBkcmFnIG9yIHRvdWNoIG1vdmVcbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgZm9yIGFkZGluZyBjcm9zcy1wbGF0Zm9ybSBnZXN0dXJlIGV2ZW50IGxpc3RlbmVycy5cbiAqL1xuXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCB7IHRpbWVPdXQsIG1pY3JvVGFzayB9IGZyb20gJy4vYXN5bmMuanMnO1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnLi9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyBwYXNzaXZlVG91Y2hHZXN0dXJlcywgY2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHMgfSBmcm9tICcuL3NldHRpbmdzLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuL3dyYXAuanMnO1xuXG4vLyBkZXRlY3QgbmF0aXZlIHRvdWNoIGFjdGlvbiBzdXBwb3J0XG5sZXQgSEFTX05BVElWRV9UQSA9IHR5cGVvZiBkb2N1bWVudC5oZWFkLnN0eWxlLnRvdWNoQWN0aW9uID09PSAnc3RyaW5nJztcbmxldCBHRVNUVVJFX0tFWSA9ICdfX3BvbHltZXJHZXN0dXJlcyc7XG5sZXQgSEFORExFRF9PQkogPSAnX19wb2x5bWVyR2VzdHVyZXNIYW5kbGVkJztcbmxldCBUT1VDSF9BQ1RJT04gPSAnX19wb2x5bWVyR2VzdHVyZXNUb3VjaEFjdGlvbic7XG4vLyByYWRpdXMgZm9yIHRhcCBhbmQgdHJhY2tcbmxldCBUQVBfRElTVEFOQ0UgPSAyNTtcbmxldCBUUkFDS19ESVNUQU5DRSA9IDU7XG4vLyBudW1iZXIgb2YgbGFzdCBOIHRyYWNrIHBvc2l0aW9ucyB0byBrZWVwXG5sZXQgVFJBQ0tfTEVOR1RIID0gMjtcblxuLy8gRGlzYWJsaW5nIFwibW91c2VcIiBoYW5kbGVycyBmb3IgMjUwMG1zIGlzIGVub3VnaFxubGV0IE1PVVNFX1RJTUVPVVQgPSAyNTAwO1xubGV0IE1PVVNFX0VWRU5UUyA9IFsnbW91c2Vkb3duJywgJ21vdXNlbW92ZScsICdtb3VzZXVwJywgJ2NsaWNrJ107XG4vLyBhbiBhcnJheSBvZiBiaXRtYXNrIHZhbHVlcyBmb3IgbWFwcGluZyBNb3VzZUV2ZW50LndoaWNoIHRvIE1vdXNlRXZlbnQuYnV0dG9uc1xubGV0IE1PVVNFX1dISUNIX1RPX0JVVFRPTlMgPSBbMCwgMSwgNCwgMl07XG5sZXQgTU9VU0VfSEFTX0JVVFRPTlMgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBNb3VzZUV2ZW50KCd0ZXN0Jywge2J1dHRvbnM6IDF9KS5idXR0b25zID09PSAxO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSgpO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFBvc3NpYmxlIG1vdXNlIGV2ZW50IG5hbWVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgbW91c2UgZXZlbnQsIGZhbHNlIGlmIG5vdFxuICovXG5mdW5jdGlvbiBpc01vdXNlRXZlbnQobmFtZSkge1xuICByZXR1cm4gTU9VU0VfRVZFTlRTLmluZGV4T2YobmFtZSkgPiAtMTtcbn1cblxuLyogZXNsaW50IG5vLWVtcHR5OiBbXCJlcnJvclwiLCB7IFwiYWxsb3dFbXB0eUNhdGNoXCI6IHRydWUgfV0gKi9cbi8vIGNoZWNrIGZvciBwYXNzaXZlIGV2ZW50IGxpc3RlbmVyc1xubGV0IHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIGxldCBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtnZXQoKSB7c3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTt9fSk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xuICB9IGNhdGNoKGUpIHt9XG59KSgpO1xuXG4vKipcbiAqIEdlbmVyYXRlIHNldHRpbmdzIGZvciBldmVudCBsaXN0ZW5lcnMsIGRlcGVuZGFudCBvbiBgcGFzc2l2ZVRvdWNoR2VzdHVyZXNgXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBFdmVudCBuYW1lIHRvIGRldGVybWluZSBpZiBge3Bhc3NpdmV9YCBvcHRpb24gaXNcbiAqICAgbmVlZGVkXG4gKiBAcmV0dXJuIHt7cGFzc2l2ZTogYm9vbGVhbn0gfCB1bmRlZmluZWR9IE9wdGlvbnMgdG8gdXNlIGZvciBhZGRFdmVudExpc3RlbmVyXG4gKiAgIGFuZCByZW1vdmVFdmVudExpc3RlbmVyXG4gKi9cbmZ1bmN0aW9uIFBBU1NJVkVfVE9VQ0goZXZlbnROYW1lKSB7XG4gIGlmIChpc01vdXNlRXZlbnQoZXZlbnROYW1lKSB8fCBldmVudE5hbWUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKEhBU19OQVRJVkVfVEEgJiYgc3VwcG9ydHNQYXNzaXZlICYmIHBhc3NpdmVUb3VjaEdlc3R1cmVzKSB7XG4gICAgcmV0dXJuIHtwYXNzaXZlOiB0cnVlfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuLy8gQ2hlY2sgZm9yIHRvdWNoLW9ubHkgZGV2aWNlc1xubGV0IElTX1RPVUNIX09OTFkgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUCg/OltvYV1kfGhvbmUpfEFuZHJvaWQvKTtcblxuLy8ga2VlcCB0cmFjayBvZiBhbnkgbGFiZWxzIGhpdCBieSB0aGUgbW91c2VDYW5jZWxsZXJcbi8qKiBAdHlwZSB7IUFycmF5PCFIVE1MTGFiZWxFbGVtZW50Pn0gKi9cbmNvbnN0IGNsaWNrZWRMYWJlbHMgPSBbXTtcblxuLyoqIEB0eXBlIHshT2JqZWN0PGJvb2xlYW4+fSAqL1xuY29uc3QgbGFiZWxsYWJsZSA9IHtcbiAgJ2J1dHRvbic6IHRydWUsXG4gICdpbnB1dCc6IHRydWUsXG4gICdrZXlnZW4nOiB0cnVlLFxuICAnbWV0ZXInOiB0cnVlLFxuICAnb3V0cHV0JzogdHJ1ZSxcbiAgJ3RleHRhcmVhJzogdHJ1ZSxcbiAgJ3Byb2dyZXNzJzogdHJ1ZSxcbiAgJ3NlbGVjdCc6IHRydWVcbn07XG5cbi8vIERlZmluZWQgYXQgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybS1jb250cm9sLWluZnJhc3RydWN0dXJlLmh0bWwjZW5hYmxpbmctYW5kLWRpc2FibGluZy1mb3JtLWNvbnRyb2xzOi10aGUtZGlzYWJsZWQtYXR0cmlidXRlXG4vKiogQHR5cGUgeyFPYmplY3Q8Ym9vbGVhbj59ICovXG5jb25zdCBjYW5CZURpc2FibGVkID0ge1xuICAnYnV0dG9uJzogdHJ1ZSxcbiAgJ2NvbW1hbmQnOiB0cnVlLFxuICAnZmllbGRzZXQnOiB0cnVlLFxuICAnaW5wdXQnOiB0cnVlLFxuICAna2V5Z2VuJzogdHJ1ZSxcbiAgJ29wdGdyb3VwJzogdHJ1ZSxcbiAgJ29wdGlvbic6IHRydWUsXG4gICdzZWxlY3QnOiB0cnVlLFxuICAndGV4dGFyZWEnOiB0cnVlXG59O1xuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIEVsZW1lbnQgdG8gY2hlY2sgbGFiZWxsaW5nIHN0YXR1c1xuICogQHJldHVybiB7Ym9vbGVhbn0gZWxlbWVudCBjYW4gaGF2ZSBsYWJlbHNcbiAqL1xuZnVuY3Rpb24gY2FuQmVMYWJlbGxlZChlbCkge1xuICByZXR1cm4gbGFiZWxsYWJsZVtlbC5sb2NhbE5hbWVdIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsIEVsZW1lbnQgdGhhdCBtYXkgYmUgbGFiZWxsZWQuXG4gKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxMYWJlbEVsZW1lbnQ+fSBSZWxldmFudCBsYWJlbCBmb3IgYGVsYFxuICovXG5mdW5jdGlvbiBtYXRjaGluZ0xhYmVscyhlbCkge1xuICBsZXQgbGFiZWxzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyhlbCkubGFiZWxzIHx8IFtdKTtcbiAgLy8gSUUgZG9lc24ndCBoYXZlIGBsYWJlbHNgIGFuZCBTYWZhcmkgZG9lc24ndCBwb3B1bGF0ZSBgbGFiZWxzYFxuICAvLyBpZiBlbGVtZW50IGlzIGluIGEgc2hhZG93cm9vdC5cbiAgLy8gSW4gdGhpcyBpbnN0YW5jZSwgZmluZGluZyB0aGUgbm9uLWFuY2VzdG9yIGxhYmVscyBpcyBlbm91Z2gsXG4gIC8vIGFzIHRoZSBtb3VzZUNhbmNlbGxvciBjb2RlIHdpbGwgaGFuZGxlIGFuY3N0b3IgbGFiZWxzXG4gIGlmICghbGFiZWxzLmxlbmd0aCkge1xuICAgIGxhYmVscyA9IFtdO1xuICAgIGxldCByb290ID0gZWwuZ2V0Um9vdE5vZGUoKTtcbiAgICAvLyBpZiB0aGVyZSBpcyBhbiBpZCBvbiBgZWxgLCBjaGVjayBmb3IgYWxsIGxhYmVscyB3aXRoIGEgbWF0Y2hpbmcgYGZvcmAgYXR0cmlidXRlXG4gICAgaWYgKGVsLmlkKSB7XG4gICAgICBsZXQgbWF0Y2hpbmcgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoYGxhYmVsW2ZvciA9ICR7ZWwuaWR9XWApO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXRjaGluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsYWJlbHMucHVzaCgvKiogQHR5cGUgeyFIVE1MTGFiZWxFbGVtZW50fSAqLyhtYXRjaGluZ1tpXSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbGFiZWxzO1xufVxuXG4vLyB0b3VjaCB3aWxsIG1ha2Ugc3ludGhldGljIG1vdXNlIGV2ZW50c1xuLy8gYHByZXZlbnREZWZhdWx0YCBvbiB0b3VjaGVuZCB3aWxsIGNhbmNlbCB0aGVtLFxuLy8gYnV0IHRoaXMgYnJlYWtzIGA8aW5wdXQ+YCBmb2N1cyBhbmQgbGluayBjbGlja3Ncbi8vIGRpc2FibGUgbW91c2UgaGFuZGxlcnMgZm9yIE1PVVNFX1RJTUVPVVQgbXMgYWZ0ZXJcbi8vIGEgdG91Y2hlbmQgdG8gaWdub3JlIHN5bnRoZXRpYyBtb3VzZSBldmVudHNcbmxldCBtb3VzZUNhbmNlbGxlciA9IGZ1bmN0aW9uKG1vdXNlRXZlbnQpIHtcbiAgLy8gQ2hlY2sgZm9yIHNvdXJjZUNhcGFiaWxpdGllcywgdXNlZCB0byBkaXN0aW5ndWlzaCBzeW50aGV0aWMgZXZlbnRzXG4gIC8vIGlmIG1vdXNlRXZlbnQgZGlkIG5vdCBjb21lIGZyb20gYSBkZXZpY2UgdGhhdCBmaXJlcyB0b3VjaCBldmVudHMsXG4gIC8vIGl0IHdhcyBtYWRlIGJ5IGEgcmVhbCBtb3VzZSBhbmQgc2hvdWxkIGJlIGNvdW50ZWRcbiAgLy8gaHR0cDovL3dpY2cuZ2l0aHViLmlvL0lucHV0RGV2aWNlQ2FwYWJpbGl0aWVzLyNkb20taW5wdXRkZXZpY2VjYXBhYmlsaXRpZXMtZmlyZXN0b3VjaGV2ZW50c1xuICBsZXQgc2MgPSBtb3VzZUV2ZW50LnNvdXJjZUNhcGFiaWxpdGllcztcbiAgaWYgKHNjICYmICFzYy5maXJlc1RvdWNoRXZlbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHNraXAgc3ludGhldGljIG1vdXNlIGV2ZW50c1xuICBtb3VzZUV2ZW50W0hBTkRMRURfT0JKXSA9IHtza2lwOiB0cnVlfTtcbiAgLy8gZGlzYWJsZSBcImdob3N0IGNsaWNrc1wiXG4gIGlmIChtb3VzZUV2ZW50LnR5cGUgPT09ICdjbGljaycpIHtcbiAgICBsZXQgY2xpY2tGcm9tTGFiZWwgPSBmYWxzZTtcbiAgICBsZXQgcGF0aCA9IGdldENvbXBvc2VkUGF0aChtb3VzZUV2ZW50KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChwYXRoW2ldLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICBpZiAocGF0aFtpXS5sb2NhbE5hbWUgPT09ICdsYWJlbCcpIHtcbiAgICAgICAgICBjbGlja2VkTGFiZWxzLnB1c2goLyoqIEB0eXBlIHshSFRNTExhYmVsRWxlbWVudH0gKi8gKHBhdGhbaV0pKTtcbiAgICAgICAgfSBlbHNlIGlmIChjYW5CZUxhYmVsbGVkKC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAocGF0aFtpXSkpKSB7XG4gICAgICAgICAgbGV0IG93bmVyTGFiZWxzID1cbiAgICAgICAgICAgICAgbWF0Y2hpbmdMYWJlbHMoLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovIChwYXRoW2ldKSk7XG4gICAgICAgICAgLy8gY2hlY2sgaWYgb25lIG9mIHRoZSBjbGlja2VkIGxhYmVscyBpcyBsYWJlbGxpbmcgdGhpcyBlbGVtZW50XG4gICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvd25lckxhYmVscy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgY2xpY2tGcm9tTGFiZWwgPSBjbGlja0Zyb21MYWJlbCB8fCBjbGlja2VkTGFiZWxzLmluZGV4T2Yob3duZXJMYWJlbHNbal0pID4gLTE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGF0aFtpXSA9PT0gUE9JTlRFUlNUQVRFLm1vdXNlLnRhcmdldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGlmIG9uZSBvZiB0aGUgY2xpY2tlZCBsYWJlbHMgd2FzIGxhYmVsbGluZyB0aGUgdGFyZ2V0IGVsZW1lbnQsXG4gICAgLy8gdGhpcyBpcyBub3QgYSBnaG9zdCBjbGlja1xuICAgIGlmIChjbGlja0Zyb21MYWJlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtb3VzZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgbW91c2VFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBzZXR1cCBUcnVlIHRvIGFkZCwgZmFsc2UgdG8gcmVtb3ZlLlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gc2V0dXBUZWFyZG93bk1vdXNlQ2FuY2VsbGVyKHNldHVwKSB7XG4gIGxldCBldmVudHMgPSBJU19UT1VDSF9PTkxZID8gWydjbGljayddIDogTU9VU0VfRVZFTlRTO1xuICBmb3IgKGxldCBpID0gMCwgZW47IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBlbiA9IGV2ZW50c1tpXTtcbiAgICBpZiAoc2V0dXApIHtcbiAgICAgIC8vIHJlc2V0IGNsaWNrTGFiZWxzIGFycmF5XG4gICAgICBjbGlja2VkTGFiZWxzLmxlbmd0aCA9IDA7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGVuLCBtb3VzZUNhbmNlbGxlciwgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZW4sIG1vdXNlQ2FuY2VsbGVyLCB0cnVlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaWdub3JlTW91c2UoZSkge1xuICBpZiAoIWNhbmNlbFN5bnRoZXRpY0NsaWNrRXZlbnRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghUE9JTlRFUlNUQVRFLm1vdXNlLm1vdXNlSWdub3JlSm9iKSB7XG4gICAgc2V0dXBUZWFyZG93bk1vdXNlQ2FuY2VsbGVyKHRydWUpO1xuICB9XG4gIGxldCB1bnNldCA9IGZ1bmN0aW9uKCkge1xuICAgIHNldHVwVGVhcmRvd25Nb3VzZUNhbmNlbGxlcigpO1xuICAgIFBPSU5URVJTVEFURS5tb3VzZS50YXJnZXQgPSBudWxsO1xuICAgIFBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYiA9IG51bGw7XG4gIH07XG4gIFBPSU5URVJTVEFURS5tb3VzZS50YXJnZXQgPSBnZXRDb21wb3NlZFBhdGgoZSlbMF07XG4gIFBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYiA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgICAgUE9JTlRFUlNUQVRFLm1vdXNlLm1vdXNlSWdub3JlSm9iXG4gICAgICAsIHRpbWVPdXQuYWZ0ZXIoTU9VU0VfVElNRU9VVClcbiAgICAgICwgdW5zZXQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXYgZXZlbnQgdG8gdGVzdCBmb3IgbGVmdCBtb3VzZSBidXR0b24gZG93blxuICogQHJldHVybiB7Ym9vbGVhbn0gaGFzIGxlZnQgbW91c2UgYnV0dG9uIGRvd25cbiAqL1xuZnVuY3Rpb24gaGFzTGVmdE1vdXNlQnV0dG9uKGV2KSB7XG4gIGxldCB0eXBlID0gZXYudHlwZTtcbiAgLy8gZXhpdCBlYXJseSBpZiB0aGUgZXZlbnQgaXMgbm90IGEgbW91c2UgZXZlbnRcbiAgaWYgKCFpc01vdXNlRXZlbnQodHlwZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gZXYuYnV0dG9uIGlzIG5vdCByZWxpYWJsZSBmb3IgbW91c2Vtb3ZlICgwIGlzIG92ZXJsb2FkZWQgYXMgYm90aCBsZWZ0IGJ1dHRvbiBhbmQgbm8gYnV0dG9ucylcbiAgLy8gaW5zdGVhZCB3ZSB1c2UgZXYuYnV0dG9ucyAoYml0bWFzayBvZiBidXR0b25zKSBvciBmYWxsIGJhY2sgdG8gZXYud2hpY2ggKGRlcHJlY2F0ZWQsIDAgZm9yIG5vIGJ1dHRvbnMsIDEgZm9yIGxlZnQgYnV0dG9uKVxuICBpZiAodHlwZSA9PT0gJ21vdXNlbW92ZScpIHtcbiAgICAvLyBhbGxvdyB1bmRlZmluZWQgZm9yIHRlc3RpbmcgZXZlbnRzXG4gICAgbGV0IGJ1dHRvbnMgPSBldi5idXR0b25zID09PSB1bmRlZmluZWQgPyAxIDogZXYuYnV0dG9ucztcbiAgICBpZiAoKGV2IGluc3RhbmNlb2Ygd2luZG93Lk1vdXNlRXZlbnQpICYmICFNT1VTRV9IQVNfQlVUVE9OUykge1xuICAgICAgYnV0dG9ucyA9IE1PVVNFX1dISUNIX1RPX0JVVFRPTlNbZXYud2hpY2hdIHx8IDA7XG4gICAgfVxuICAgIC8vIGJ1dHRvbnMgaXMgYSBiaXRtYXNrLCBjaGVjayB0aGF0IHRoZSBsZWZ0IGJ1dHRvbiBiaXQgaXMgc2V0ICgxKVxuICAgIHJldHVybiBCb29sZWFuKGJ1dHRvbnMgJiAxKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBhbGxvdyB1bmRlZmluZWQgZm9yIHRlc3RpbmcgZXZlbnRzXG4gICAgbGV0IGJ1dHRvbiA9IGV2LmJ1dHRvbiA9PT0gdW5kZWZpbmVkID8gMCA6IGV2LmJ1dHRvbjtcbiAgICAvLyBldi5idXR0b24gaXMgMCBpbiBtb3VzZWRvd24vbW91c2V1cC9jbGljayBmb3IgbGVmdCBidXR0b24gYWN0aXZhdGlvblxuICAgIHJldHVybiBidXR0b24gPT09IDA7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTeW50aGV0aWNDbGljayhldikge1xuICBpZiAoZXYudHlwZSA9PT0gJ2NsaWNrJykge1xuICAgIC8vIGV2LmRldGFpbCBpcyAwIGZvciBIVE1MRWxlbWVudC5jbGljayBpbiBtb3N0IGJyb3dzZXJzXG4gICAgaWYgKGV2LmRldGFpbCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8vIGluIHRoZSB3b3JzdCBjYXNlLCBjaGVjayB0aGF0IHRoZSB4L3kgcG9zaXRpb24gb2YgdGhlIGNsaWNrIGlzIHdpdGhpblxuICAgIC8vIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIHRhcmdldCBvZiB0aGUgZXZlbnRcbiAgICAvLyBUaGFua3MgSUUgMTAgPjooXG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGV2KTtcbiAgICAvLyBtYWtlIHN1cmUgdGhlIHRhcmdldCBvZiB0aGUgZXZlbnQgaXMgYW4gZWxlbWVudCBzbyB3ZSBjYW4gdXNlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCxcbiAgICAvLyBpZiBub3QsIGp1c3QgYXNzdW1lIGl0IGlzIGEgc3ludGhldGljIGNsaWNrXG4gICAgaWYgKCF0Lm5vZGVUeXBlIHx8IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8odCkubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGJjciA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8odCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLy8gdXNlIHBhZ2UgeC95IHRvIGFjY291bnQgZm9yIHNjcm9sbGluZ1xuICAgIGxldCB4ID0gZXYucGFnZVgsIHkgPSBldi5wYWdlWTtcbiAgICAvLyBldiBpcyBhIHN5bnRoZXRpYyBjbGljayBpZiB0aGUgcG9zaXRpb24gaXMgb3V0c2lkZSB0aGUgYm91bmRpbmcgYm94IG9mIHRoZSB0YXJnZXRcbiAgICByZXR1cm4gISgoeCA+PSBiY3IubGVmdCAmJiB4IDw9IGJjci5yaWdodCkgJiYgKHkgPj0gYmNyLnRvcCAmJiB5IDw9IGJjci5ib3R0b20pKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmxldCBQT0lOVEVSU1RBVEUgPSB7XG4gIG1vdXNlOiB7XG4gICAgdGFyZ2V0OiBudWxsLFxuICAgIG1vdXNlSWdub3JlSm9iOiBudWxsXG4gIH0sXG4gIHRvdWNoOiB7XG4gICAgeDogMCxcbiAgICB5OiAwLFxuICAgIGlkOiAtMSxcbiAgICBzY3JvbGxEZWNpZGVkOiBmYWxzZVxuICB9XG59O1xuXG5mdW5jdGlvbiBmaXJzdFRvdWNoQWN0aW9uKGV2KSB7XG4gIGxldCB0YSA9ICdhdXRvJztcbiAgbGV0IHBhdGggPSBnZXRDb21wb3NlZFBhdGgoZXYpO1xuICBmb3IgKGxldCBpID0gMCwgbjsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICBuID0gcGF0aFtpXTtcbiAgICBpZiAobltUT1VDSF9BQ1RJT05dKSB7XG4gICAgICB0YSA9IG5bVE9VQ0hfQUNUSU9OXTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGE7XG59XG5cbmZ1bmN0aW9uIHRyYWNrRG9jdW1lbnQoc3RhdGVPYmosIG1vdmVmbiwgdXBmbikge1xuICBzdGF0ZU9iai5tb3ZlZm4gPSBtb3ZlZm47XG4gIHN0YXRlT2JqLnVwZm4gPSB1cGZuO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3ZlZm4pO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdXBmbik7XG59XG5cbmZ1bmN0aW9uIHVudHJhY2tEb2N1bWVudChzdGF0ZU9iaikge1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzdGF0ZU9iai5tb3ZlZm4pO1xuICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgc3RhdGVPYmoudXBmbik7XG4gIHN0YXRlT2JqLm1vdmVmbiA9IG51bGw7XG4gIHN0YXRlT2JqLnVwZm4gPSBudWxsO1xufVxuXG5pZiAoY2FuY2VsU3ludGhldGljQ2xpY2tFdmVudHMpIHtcbiAgLy8gdXNlIGEgZG9jdW1lbnQtd2lkZSB0b3VjaGVuZCBsaXN0ZW5lciB0byBzdGFydCB0aGUgZ2hvc3QtY2xpY2sgcHJldmVudGlvbiBtZWNoYW5pc21cbiAgLy8gVXNlIHBhc3NpdmUgZXZlbnQgbGlzdGVuZXJzLCBpZiBzdXBwb3J0ZWQsIHRvIG5vdCBhZmZlY3Qgc2Nyb2xsaW5nIHBlcmZvcm1hbmNlXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgaWdub3JlTW91c2UsIHN1cHBvcnRzUGFzc2l2ZSA/IHtwYXNzaXZlOiB0cnVlfSA6IGZhbHNlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBjb21wb3NlZFBhdGggZm9yIHRoZSBnaXZlbiBldmVudC5cbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IHRvIHByb2Nlc3NcbiAqIEByZXR1cm4geyFBcnJheTwhRXZlbnRUYXJnZXQ+fSBQYXRoIG9mIHRoZSBldmVudFxuICovXG5jb25zdCBnZXRDb21wb3NlZFBhdGggPSB3aW5kb3cuU2hhZHlET00gJiYgd2luZG93LlNoYWR5RE9NLm5vUGF0Y2ggP1xuICB3aW5kb3cuU2hhZHlET00uY29tcG9zZWRQYXRoIDpcbiAgKGV2ZW50KSA9PiBldmVudC5jb21wb3NlZFBhdGggJiYgZXZlbnQuY29tcG9zZWRQYXRoKCkgfHwgW107XG5cbi8qKiBAdHlwZSB7IU9iamVjdDxzdHJpbmcsICFHZXN0dXJlUmVjb2duaXplcj59ICovXG5leHBvcnQgY29uc3QgZ2VzdHVyZXMgPSB7fTtcblxuLyoqIEB0eXBlIHshQXJyYXk8IUdlc3R1cmVSZWNvZ25pemVyPn0gKi9cbmV4cG9ydCBjb25zdCByZWNvZ25pemVycyA9IFtdO1xuXG4vKipcbiAqIEZpbmRzIHRoZSBlbGVtZW50IHJlbmRlcmVkIG9uIHRoZSBzY3JlZW4gYXQgdGhlIHByb3ZpZGVkIGNvb3JkaW5hdGVzLlxuICpcbiAqIFNpbWlsYXIgdG8gYGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnRgLCBidXQgcGllcmNlcyB0aHJvdWdoXG4gKiBzaGFkb3cgcm9vdHMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggSG9yaXpvbnRhbCBwaXhlbCBjb29yZGluYXRlXG4gKiBAcGFyYW0ge251bWJlcn0geSBWZXJ0aWNhbCBwaXhlbCBjb29yZGluYXRlXG4gKiBAcmV0dXJuIHtFbGVtZW50fSBSZXR1cm5zIHRoZSBkZWVwZXN0IHNoYWRvd1Jvb3QgaW5jbHVzaXZlIGVsZW1lbnRcbiAqIGZvdW5kIGF0IHRoZSBzY3JlZW4gcG9zaXRpb24gZ2l2ZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWVwVGFyZ2V0RmluZCh4LCB5KSB7XG4gIGxldCBub2RlID0gZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgbGV0IG5leHQgPSBub2RlO1xuICAvLyB0aGlzIGNvZGUgcGF0aCBpcyBvbmx5IHRha2VuIHdoZW4gbmF0aXZlIFNoYWRvd0RPTSBpcyB1c2VkXG4gIC8vIGlmIHRoZXJlIGlzIGEgc2hhZG93cm9vdCwgaXQgbWF5IGhhdmUgYSBub2RlIGF0IHgveVxuICAvLyBpZiB0aGVyZSBpcyBub3QgYSBzaGFkb3dyb290LCBleGl0IHRoZSBsb29wXG4gIHdoaWxlIChuZXh0ICYmIG5leHQuc2hhZG93Um9vdCAmJiAhd2luZG93LlNoYWR5RE9NKSB7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBub2RlIGF0IHgveSBpbiB0aGUgc2hhZG93cm9vdCwgbG9vayBkZWVwZXJcbiAgICBsZXQgb2xkTmV4dCA9IG5leHQ7XG4gICAgbmV4dCA9IG5leHQuc2hhZG93Um9vdC5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgIC8vIG9uIFNhZmFyaSwgZWxlbWVudEZyb21Qb2ludCBtYXkgcmV0dXJuIHRoZSBzaGFkb3dSb290IGhvc3RcbiAgICBpZiAob2xkTmV4dCA9PT0gbmV4dCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChuZXh0KSB7XG4gICAgICBub2RlID0gbmV4dDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogYSBjaGVhcGVyIGNoZWNrIHRoYW4gZXYuY29tcG9zZWRQYXRoKClbMF07XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RXZlbnR8VG91Y2h9IGV2IEV2ZW50LlxuICogQHJldHVybiB7RXZlbnRUYXJnZXR9IFJldHVybnMgdGhlIGV2ZW50IHRhcmdldC5cbiAqL1xuZnVuY3Rpb24gX2ZpbmRPcmlnaW5hbFRhcmdldChldikge1xuICBjb25zdCBwYXRoID0gZ2V0Q29tcG9zZWRQYXRoKC8qKiBAdHlwZSB7P0V2ZW50fSAqLyAoZXYpKTtcbiAgLy8gSXQgc2hvdWxkbid0IGJlLCBidXQgc29tZXRpbWVzIHBhdGggaXMgZW1wdHkgKHdpbmRvdyBvbiBTYWZhcmkpLlxuICByZXR1cm4gcGF0aC5sZW5ndGggPiAwID8gcGF0aFswXSA6IGV2LnRhcmdldDtcbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtFdmVudH0gZXYgRXZlbnQuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfaGFuZGxlTmF0aXZlKGV2KSB7XG4gIGxldCBoYW5kbGVkO1xuICBsZXQgdHlwZSA9IGV2LnR5cGU7XG4gIGxldCBub2RlID0gZXYuY3VycmVudFRhcmdldDtcbiAgbGV0IGdvYmogPSBub2RlW0dFU1RVUkVfS0VZXTtcbiAgaWYgKCFnb2JqKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBncyA9IGdvYmpbdHlwZV07XG4gIGlmICghZ3MpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFldltIQU5ETEVEX09CSl0pIHtcbiAgICBldltIQU5ETEVEX09CSl0gPSB7fTtcbiAgICBpZiAodHlwZS5zbGljZSgwLCA1KSA9PT0gJ3RvdWNoJykge1xuICAgICAgZXYgPSAvKiogQHR5cGUge1RvdWNoRXZlbnR9ICovKGV2KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWFzc2lnblxuICAgICAgbGV0IHQgPSBldi5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgIGlmICh0eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgLy8gb25seSBoYW5kbGUgdGhlIGZpcnN0IGZpbmdlclxuICAgICAgICBpZiAoZXYudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBQT0lOVEVSU1RBVEUudG91Y2guaWQgPSB0LmlkZW50aWZpZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChQT0lOVEVSU1RBVEUudG91Y2guaWQgIT09IHQuaWRlbnRpZmllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIUhBU19OQVRJVkVfVEEpIHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCB0eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgICAgICAgIF9oYW5kbGVUb3VjaEFjdGlvbihldik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaGFuZGxlZCA9IGV2W0hBTkRMRURfT0JKXTtcbiAgLy8gdXNlZCB0byBpZ25vcmUgc3ludGhldGljIG1vdXNlIGV2ZW50c1xuICBpZiAoaGFuZGxlZC5za2lwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIHJlc2V0IHJlY29nbml6ZXIgc3RhdGVcbiAgZm9yIChsZXQgaSA9IDAsIHI7IGkgPCByZWNvZ25pemVycy5sZW5ndGg7IGkrKykge1xuICAgIHIgPSByZWNvZ25pemVyc1tpXTtcbiAgICBpZiAoZ3Nbci5uYW1lXSAmJiAhaGFuZGxlZFtyLm5hbWVdKSB7XG4gICAgICBpZiAoci5mbG93ICYmIHIuZmxvdy5zdGFydC5pbmRleE9mKGV2LnR5cGUpID4gLTEgJiYgci5yZXNldCkge1xuICAgICAgICByLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGVuZm9yY2UgZ2VzdHVyZSByZWNvZ25pemVyIG9yZGVyXG4gIGZvciAobGV0IGkgPSAwLCByOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICByID0gcmVjb2duaXplcnNbaV07XG4gICAgaWYgKGdzW3IubmFtZV0gJiYgIWhhbmRsZWRbci5uYW1lXSkge1xuICAgICAgaGFuZGxlZFtyLm5hbWVdID0gdHJ1ZTtcbiAgICAgIHJbdHlwZV0oZXYpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGV2IEV2ZW50LlxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gX2hhbmRsZVRvdWNoQWN0aW9uKGV2KSB7XG4gIGxldCB0ID0gZXYuY2hhbmdlZFRvdWNoZXNbMF07XG4gIGxldCB0eXBlID0gZXYudHlwZTtcbiAgaWYgKHR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgIFBPSU5URVJTVEFURS50b3VjaC54ID0gdC5jbGllbnRYO1xuICAgIFBPSU5URVJTVEFURS50b3VjaC55ID0gdC5jbGllbnRZO1xuICAgIFBPSU5URVJTVEFURS50b3VjaC5zY3JvbGxEZWNpZGVkID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3RvdWNobW92ZScpIHtcbiAgICBpZiAoUE9JTlRFUlNUQVRFLnRvdWNoLnNjcm9sbERlY2lkZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgUE9JTlRFUlNUQVRFLnRvdWNoLnNjcm9sbERlY2lkZWQgPSB0cnVlO1xuICAgIGxldCB0YSA9IGZpcnN0VG91Y2hBY3Rpb24oZXYpO1xuICAgIGxldCBzaG91bGRQcmV2ZW50ID0gZmFsc2U7XG4gICAgbGV0IGR4ID0gTWF0aC5hYnMoUE9JTlRFUlNUQVRFLnRvdWNoLnggLSB0LmNsaWVudFgpO1xuICAgIGxldCBkeSA9IE1hdGguYWJzKFBPSU5URVJTVEFURS50b3VjaC55IC0gdC5jbGllbnRZKTtcbiAgICBpZiAoIWV2LmNhbmNlbGFibGUpIHtcbiAgICAgIC8vIHNjcm9sbGluZyBpcyBoYXBwZW5pbmdcbiAgICB9IGVsc2UgaWYgKHRhID09PSAnbm9uZScpIHtcbiAgICAgIHNob3VsZFByZXZlbnQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAodGEgPT09ICdwYW4teCcpIHtcbiAgICAgIHNob3VsZFByZXZlbnQgPSBkeSA+IGR4O1xuICAgIH0gZWxzZSBpZiAodGEgPT09ICdwYW4teScpIHtcbiAgICAgIHNob3VsZFByZXZlbnQgPSBkeCA+IGR5O1xuICAgIH1cbiAgICBpZiAoc2hvdWxkUHJldmVudCkge1xuICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJldmVudCgndHJhY2snKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGEgbm9kZSBmb3IgdGhlIGdpdmVuIGdlc3R1cmUgdHlwZS5cbiAqXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBsaXN0ZW5lciBvblxuICogQHBhcmFtIHtzdHJpbmd9IGV2VHlwZSBHZXN0dXJlIHR5cGU6IGBkb3duYCwgYHVwYCwgYHRyYWNrYCwgb3IgYHRhcGBcbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBFdmVudCBsaXN0ZW5lciBmdW5jdGlvbiB0byBjYWxsXG4gKiBAcmV0dXJuIHtib29sZWFufSBSZXR1cm5zIHRydWUgaWYgYSBnZXN0dXJlIGV2ZW50IGxpc3RlbmVyIHdhcyBhZGRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZExpc3RlbmVyKG5vZGUsIGV2VHlwZSwgaGFuZGxlcikge1xuICBpZiAoZ2VzdHVyZXNbZXZUeXBlXSkge1xuICAgIF9hZGQobm9kZSwgZXZUeXBlLCBoYW5kbGVyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBmcm9tIGEgbm9kZSBmb3IgdGhlIGdpdmVuIGdlc3R1cmUgdHlwZS5cbiAqXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIHJlbW92ZSBsaXN0ZW5lciBmcm9tXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZUeXBlIEdlc3R1cmUgdHlwZTogYGRvd25gLCBgdXBgLCBgdHJhY2tgLCBvciBgdGFwYFxuICogQHBhcmFtIHshZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIEV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIHByZXZpb3VzbHkgcGFzc2VkIHRvXG4gKiAgYGFkZExpc3RlbmVyYC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhIGdlc3R1cmUgZXZlbnQgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihub2RlLCBldlR5cGUsIGhhbmRsZXIpIHtcbiAgaWYgKGdlc3R1cmVzW2V2VHlwZV0pIHtcbiAgICBfcmVtb3ZlKG5vZGUsIGV2VHlwZSwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIGF1dG9tYXRlIHRoZSBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBuYXRpdmUgZXZlbnRzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7IUV2ZW50VGFyZ2V0fSBub2RlIE5vZGUgb24gd2hpY2ggdG8gYWRkIHRoZSBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldlR5cGUgRXZlbnQgdHlwZSB0byBhZGQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCl9IGhhbmRsZXIgRXZlbnQgaGFuZGxlciBmdW5jdGlvbi5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9hZGQobm9kZSwgZXZUeXBlLCBoYW5kbGVyKSB7XG4gIGxldCByZWNvZ25pemVyID0gZ2VzdHVyZXNbZXZUeXBlXTtcbiAgbGV0IGRlcHMgPSByZWNvZ25pemVyLmRlcHM7XG4gIGxldCBuYW1lID0gcmVjb2duaXplci5uYW1lO1xuICBsZXQgZ29iaiA9IG5vZGVbR0VTVFVSRV9LRVldO1xuICBpZiAoIWdvYmopIHtcbiAgICBub2RlW0dFU1RVUkVfS0VZXSA9IGdvYmogPSB7fTtcbiAgfVxuICBmb3IgKGxldCBpID0gMCwgZGVwLCBnZDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcbiAgICBkZXAgPSBkZXBzW2ldO1xuICAgIC8vIGRvbid0IGFkZCBtb3VzZSBoYW5kbGVycyBvbiBpT1MgYmVjYXVzZSB0aGV5IGNhdXNlIGdyYXkgc2VsZWN0aW9uIG92ZXJsYXlzXG4gICAgaWYgKElTX1RPVUNIX09OTFkgJiYgaXNNb3VzZUV2ZW50KGRlcCkgJiYgZGVwICE9PSAnY2xpY2snKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZ2QgPSBnb2JqW2RlcF07XG4gICAgaWYgKCFnZCkge1xuICAgICAgZ29ialtkZXBdID0gZ2QgPSB7X2NvdW50OiAwfTtcbiAgICB9XG4gICAgaWYgKGdkLl9jb3VudCA9PT0gMCkge1xuICAgICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGRlcCwgX2hhbmRsZU5hdGl2ZSwgUEFTU0lWRV9UT1VDSChkZXApKTtcbiAgICB9XG4gICAgZ2RbbmFtZV0gPSAoZ2RbbmFtZV0gfHwgMCkgKyAxO1xuICAgIGdkLl9jb3VudCA9IChnZC5fY291bnQgfHwgMCkgKyAxO1xuICB9XG4gIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldlR5cGUsIGhhbmRsZXIpO1xuICBpZiAocmVjb2duaXplci50b3VjaEFjdGlvbikge1xuICAgIHNldFRvdWNoQWN0aW9uKG5vZGUsIHJlY29nbml6ZXIudG91Y2hBY3Rpb24pO1xuICB9XG59XG5cbi8qKlxuICogYXV0b21hdGUgZXZlbnQgbGlzdGVuZXIgcmVtb3ZhbCBmb3IgbmF0aXZlIGV2ZW50c1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIG9uIHdoaWNoIHRvIHJlbW92ZSB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZUeXBlIEV2ZW50IHR5cGUgdG8gcmVtb3ZlLlxuICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOiB2b2lkfSBoYW5kbGVyIEV2ZW50IGhhbmRsZXIgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiBfcmVtb3ZlKG5vZGUsIGV2VHlwZSwgaGFuZGxlcikge1xuICBsZXQgcmVjb2duaXplciA9IGdlc3R1cmVzW2V2VHlwZV07XG4gIGxldCBkZXBzID0gcmVjb2duaXplci5kZXBzO1xuICBsZXQgbmFtZSA9IHJlY29nbml6ZXIubmFtZTtcbiAgbGV0IGdvYmogPSBub2RlW0dFU1RVUkVfS0VZXTtcbiAgaWYgKGdvYmopIHtcbiAgICBmb3IgKGxldCBpID0gMCwgZGVwLCBnZDsgaSA8IGRlcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlcCA9IGRlcHNbaV07XG4gICAgICBnZCA9IGdvYmpbZGVwXTtcbiAgICAgIGlmIChnZCAmJiBnZFtuYW1lXSkge1xuICAgICAgICBnZFtuYW1lXSA9IChnZFtuYW1lXSB8fCAxKSAtIDE7XG4gICAgICAgIGdkLl9jb3VudCA9IChnZC5fY291bnQgfHwgMSkgLSAxO1xuICAgICAgICBpZiAoZ2QuX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGRlcCwgX2hhbmRsZU5hdGl2ZSwgUEFTU0lWRV9UT1VDSChkZXApKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZUeXBlLCBoYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSBuZXcgZ2VzdHVyZSBldmVudCByZWNvZ25pemVyIGZvciBhZGRpbmcgbmV3IGN1c3RvbVxuICogZ2VzdHVyZSBldmVudCB0eXBlcy5cbiAqXG4gKiBAcGFyYW0geyFHZXN0dXJlUmVjb2duaXplcn0gcmVjb2cgR2VzdHVyZSByZWNvZ25pemVyIGRlc2NyaXB0b3JcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihyZWNvZykge1xuICByZWNvZ25pemVycy5wdXNoKHJlY29nKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByZWNvZy5lbWl0cy5sZW5ndGg7IGkrKykge1xuICAgIGdlc3R1cmVzW3JlY29nLmVtaXRzW2ldXSA9IHJlY29nO1xuICB9XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldk5hbWUgRXZlbnQgbmFtZS5cbiAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgZ2VzdHVyZSBmb3IgdGhlIGdpdmVuIGV2ZW50IG5hbWUuXG4gKi9cbmZ1bmN0aW9uIF9maW5kUmVjb2duaXplckJ5RXZlbnQoZXZOYW1lKSB7XG4gIGZvciAobGV0IGkgPSAwLCByOyBpIDwgcmVjb2duaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICByID0gcmVjb2duaXplcnNbaV07XG4gICAgZm9yIChsZXQgaiA9IDAsIG47IGogPCByLmVtaXRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBuID0gci5lbWl0c1tqXTtcbiAgICAgIGlmIChuID09PSBldk5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFNldHMgc2Nyb2xsaW5nIGRpcmVjdGlvbiBvbiBub2RlLlxuICpcbiAqIFRoaXMgdmFsdWUgaXMgY2hlY2tlZCBvbiBmaXJzdCBtb3ZlLCB0aHVzIGl0IHNob3VsZCBiZSBjYWxsZWQgcHJpb3IgdG9cbiAqIGFkZGluZyBldmVudCBsaXN0ZW5lcnMuXG4gKlxuICogQHBhcmFtIHshRXZlbnRUYXJnZXR9IG5vZGUgTm9kZSB0byBzZXQgdG91Y2ggYWN0aW9uIHNldHRpbmcgb25cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUb3VjaCBhY3Rpb24gdmFsdWVcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUb3VjaEFjdGlvbihub2RlLCB2YWx1ZSkge1xuICBpZiAoSEFTX05BVElWRV9UQSAmJiBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAvLyBOT1RFOiBhZGQgdG91Y2hBY3Rpb24gYXN5bmMgc28gdGhhdCBldmVudHMgY2FuIGJlIGFkZGVkIGluXG4gICAgLy8gY3VzdG9tIGVsZW1lbnQgY29uc3RydWN0b3JzLiBPdGhlcndpc2Ugd2UgcnVuIGFmb3VsIG9mIGN1c3RvbVxuICAgIC8vIGVsZW1lbnRzIHJlc3RyaWN0aW9uIGFnYWluc3Qgc2V0dGluZ3MgYXR0cmlidXRlcyAoc3R5bGUpIGluIHRoZVxuICAgIC8vIGNvbnN0cnVjdG9yLlxuICAgIG1pY3JvVGFzay5ydW4oKCkgPT4ge1xuICAgICAgbm9kZS5zdHlsZS50b3VjaEFjdGlvbiA9IHZhbHVlO1xuICAgIH0pO1xuICB9XG4gIG5vZGVbVE9VQ0hfQUNUSU9OXSA9IHZhbHVlO1xufVxuXG4vKipcbiAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGB0YXJnZXRgIGVsZW1lbnQgb2YgYHR5cGVgIHdpdGggdGhlIGdpdmVuXG4gKiBgZGV0YWlsYC5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyFFdmVudFRhcmdldH0gdGFyZ2V0IFRoZSBlbGVtZW50IG9uIHdoaWNoIHRvIGZpcmUgYW4gZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBldmVudCB0byBmaXJlLlxuICogQHBhcmFtIHshT2JqZWN0PX0gZGV0YWlsIFRoZSBkZXRhaWwgb2JqZWN0IHRvIHBvcHVsYXRlIG9uIHRoZSBldmVudC5cbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9maXJlKHRhcmdldCwgdHlwZSwgZGV0YWlsKSB7XG4gIGxldCBldiA9IG5ldyBFdmVudCh0eXBlLCB7IGJ1YmJsZXM6IHRydWUsIGNhbmNlbGFibGU6IHRydWUsIGNvbXBvc2VkOiB0cnVlIH0pO1xuICBldi5kZXRhaWwgPSBkZXRhaWw7XG4gIHdyYXAoLyoqIEB0eXBlIHshTm9kZX0gKi8odGFyZ2V0KSkuZGlzcGF0Y2hFdmVudChldik7XG4gIC8vIGZvcndhcmQgYHByZXZlbnREZWZhdWx0YCBpbiBhIGNsZWFuIHdheVxuICBpZiAoZXYuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgIGxldCBwcmV2ZW50ZXIgPSBkZXRhaWwucHJldmVudGVyIHx8IGRldGFpbC5zb3VyY2VFdmVudDtcbiAgICBpZiAocHJldmVudGVyICYmIHByZXZlbnRlci5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgcHJldmVudGVyLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUHJldmVudHMgdGhlIGRpc3BhdGNoIGFuZCBkZWZhdWx0IGFjdGlvbiBvZiB0aGUgZ2l2ZW4gZXZlbnQgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZXZOYW1lIEV2ZW50IG5hbWUuXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJldmVudChldk5hbWUpIHtcbiAgbGV0IHJlY29nbml6ZXIgPSBfZmluZFJlY29nbml6ZXJCeUV2ZW50KGV2TmFtZSk7XG4gIGlmIChyZWNvZ25pemVyLmluZm8pIHtcbiAgICByZWNvZ25pemVyLmluZm8ucHJldmVudCA9IHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgMjUwMG1zIHRpbWVvdXQgb24gcHJvY2Vzc2luZyBtb3VzZSBpbnB1dCBhZnRlciBkZXRlY3RpbmcgdG91Y2ggaW5wdXQuXG4gKlxuICogVG91Y2ggaW5wdXRzIGNyZWF0ZSBzeW50aGVzaXplZCBtb3VzZSBpbnB1dHMgYW55d2hlcmUgZnJvbSAwIHRvIDIwMDBtcyBhZnRlciB0aGUgdG91Y2guXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgZHVyaW5nIHRlc3Rpbmcgd2l0aCBzaW11bGF0ZWQgdG91Y2ggaW5wdXRzLlxuICogQ2FsbGluZyB0aGlzIG1ldGhvZCBpbiBwcm9kdWN0aW9uIG1heSBjYXVzZSBkdXBsaWNhdGUgdGFwcyBvciBvdGhlciBHZXN0dXJlcy5cbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVzZXRNb3VzZUNhbmNlbGxlcigpIHtcbiAgaWYgKFBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYikge1xuICAgIFBPSU5URVJTVEFURS5tb3VzZS5tb3VzZUlnbm9yZUpvYi5mbHVzaCgpO1xuICB9XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIHZhbGlkLWpzZG9jICovXG5cbnJlZ2lzdGVyKHtcbiAgbmFtZTogJ2Rvd251cCcsXG4gIGRlcHM6IFsnbW91c2Vkb3duJywgJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnXSxcbiAgZmxvdzoge1xuICAgIHN0YXJ0OiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sXG4gICAgZW5kOiBbJ21vdXNldXAnLCAndG91Y2hlbmQnXVxuICB9LFxuICBlbWl0czogWydkb3duJywgJ3VwJ10sXG5cbiAgaW5mbzoge1xuICAgIG1vdmVmbjogbnVsbCxcbiAgICB1cGZuOiBudWxsXG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHJlc2V0OiBmdW5jdGlvbigpIHtcbiAgICB1bnRyYWNrRG9jdW1lbnQodGhpcy5pbmZvKTtcbiAgfSxcblxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIG1vdXNlZG93bjogZnVuY3Rpb24oZSkge1xuICAgIGlmICghaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0ID0gX2ZpbmRPcmlnaW5hbFRhcmdldChlKTtcbiAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgbGV0IG1vdmVmbiA9IGZ1bmN0aW9uIG1vdmVmbihlKSB7XG4gICAgICBpZiAoIWhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgICBkb3dudXBGaXJlKCd1cCcsIHQsIGUpO1xuICAgICAgICB1bnRyYWNrRG9jdW1lbnQoc2VsZi5pbmZvKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGxldCB1cGZuID0gZnVuY3Rpb24gdXBmbihlKSB7XG4gICAgICBpZiAoaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICAgIGRvd251cEZpcmUoJ3VwJywgdCwgZSk7XG4gICAgICB9XG4gICAgICB1bnRyYWNrRG9jdW1lbnQoc2VsZi5pbmZvKTtcbiAgICB9O1xuICAgIHRyYWNrRG9jdW1lbnQodGhpcy5pbmZvLCBtb3ZlZm4sIHVwZm4pO1xuICAgIGRvd251cEZpcmUoJ2Rvd24nLCB0LCBlKTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgZG93bnVwRmlyZSgnZG93bicsIF9maW5kT3JpZ2luYWxUYXJnZXQoZSksIGUuY2hhbmdlZFRvdWNoZXNbMF0sIGUpO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoZW5kOiBmdW5jdGlvbihlKSB7XG4gICAgZG93bnVwRmlyZSgndXAnLCBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpLCBlLmNoYW5nZWRUb3VjaGVzWzBdLCBlKTtcbiAgfVxufSk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IHRhcmdldFxuICogQHBhcmFtIHtFdmVudHxUb3VjaH0gZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnQ9fSBwcmV2ZW50ZXJcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRvd251cEZpcmUodHlwZSwgdGFyZ2V0LCBldmVudCwgcHJldmVudGVyKSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIF9maXJlKHRhcmdldCwgdHlwZSwge1xuICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgeTogZXZlbnQuY2xpZW50WSxcbiAgICBzb3VyY2VFdmVudDogZXZlbnQsXG4gICAgcHJldmVudGVyOiBwcmV2ZW50ZXIsXG4gICAgcHJldmVudDogZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIHByZXZlbnQoZSk7XG4gICAgfVxuICB9KTtcbn1cblxucmVnaXN0ZXIoe1xuICBuYW1lOiAndHJhY2snLFxuICB0b3VjaEFjdGlvbjogJ25vbmUnLFxuICBkZXBzOiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZScsICd0b3VjaGVuZCddLFxuICBmbG93OiB7XG4gICAgc3RhcnQ6IFsnbW91c2Vkb3duJywgJ3RvdWNoc3RhcnQnXSxcbiAgICBlbmQ6IFsnbW91c2V1cCcsICd0b3VjaGVuZCddXG4gIH0sXG4gIGVtaXRzOiBbJ3RyYWNrJ10sXG5cbiAgaW5mbzoge1xuICAgIHg6IDAsXG4gICAgeTogMCxcbiAgICBzdGF0ZTogJ3N0YXJ0JyxcbiAgICBzdGFydGVkOiBmYWxzZSxcbiAgICBtb3ZlczogW10sXG4gICAgLyoqIEB0aGlzIHtHZXN0dXJlSW5mb30gKi9cbiAgICBhZGRNb3ZlOiBmdW5jdGlvbihtb3ZlKSB7XG4gICAgICBpZiAodGhpcy5tb3Zlcy5sZW5ndGggPiBUUkFDS19MRU5HVEgpIHtcbiAgICAgICAgdGhpcy5tb3Zlcy5zaGlmdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5tb3Zlcy5wdXNoKG1vdmUpO1xuICAgIH0sXG4gICAgbW92ZWZuOiBudWxsLFxuICAgIHVwZm46IG51bGwsXG4gICAgcHJldmVudDogZmFsc2VcbiAgfSxcblxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5mby5zdGF0ZSA9ICdzdGFydCc7XG4gICAgdGhpcy5pbmZvLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmluZm8ubW92ZXMgPSBbXTtcbiAgICB0aGlzLmluZm8ueCA9IDA7XG4gICAgdGhpcy5pbmZvLnkgPSAwO1xuICAgIHRoaXMuaW5mby5wcmV2ZW50ID0gZmFsc2U7XG4gICAgdW50cmFja0RvY3VtZW50KHRoaXMuaW5mbyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtb3VzZWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIWhhc0xlZnRNb3VzZUJ1dHRvbihlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoZSk7XG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBtb3ZlZm4gPSBmdW5jdGlvbiBtb3ZlZm4oZSkge1xuICAgICAgbGV0IHggPSBlLmNsaWVudFgsIHkgPSBlLmNsaWVudFk7XG4gICAgICBpZiAodHJhY2tIYXNNb3ZlZEVub3VnaChzZWxmLmluZm8sIHgsIHkpKSB7XG4gICAgICAgIC8vIGZpcnN0IG1vdmUgaXMgJ3N0YXJ0Jywgc3Vic2VxdWVudCBtb3ZlcyBhcmUgJ21vdmUnLCBtb3VzZXVwIGlzICdlbmQnXG4gICAgICAgIHNlbGYuaW5mby5zdGF0ZSA9IHNlbGYuaW5mby5zdGFydGVkID8gKGUudHlwZSA9PT0gJ21vdXNldXAnID8gJ2VuZCcgOiAndHJhY2snKSA6ICdzdGFydCc7XG4gICAgICAgIGlmIChzZWxmLmluZm8uc3RhdGUgPT09ICdzdGFydCcpIHtcbiAgICAgICAgICAvLyBpZiBhbmQgb25seSBpZiB0cmFja2luZywgYWx3YXlzIHByZXZlbnQgdGFwXG4gICAgICAgICAgcHJldmVudCgndGFwJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5pbmZvLmFkZE1vdmUoe3g6IHgsIHk6IHl9KTtcbiAgICAgICAgaWYgKCFoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgICAgICAvLyBhbHdheXMgZmlyZSBcImVuZFwiXG4gICAgICAgICAgc2VsZi5pbmZvLnN0YXRlID0gJ2VuZCc7XG4gICAgICAgICAgdW50cmFja0RvY3VtZW50KHNlbGYuaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICB0cmFja0ZpcmUoc2VsZi5pbmZvLCB0LCBlKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmluZm8uc3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcbiAgICBsZXQgdXBmbiA9IGZ1bmN0aW9uIHVwZm4oZSkge1xuICAgICAgaWYgKHNlbGYuaW5mby5zdGFydGVkKSB7XG4gICAgICAgIG1vdmVmbihlKTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVtb3ZlIHRoZSB0ZW1wb3JhcnkgbGlzdGVuZXJzXG4gICAgICB1bnRyYWNrRG9jdW1lbnQoc2VsZi5pbmZvKTtcbiAgICB9O1xuICAgIC8vIGFkZCB0ZW1wb3JhcnkgZG9jdW1lbnQgbGlzdGVuZXJzIGFzIG1vdXNlIHJldGFyZ2V0c1xuICAgIHRyYWNrRG9jdW1lbnQodGhpcy5pbmZvLCBtb3ZlZm4sIHVwZm4pO1xuICAgIHRoaXMuaW5mby54ID0gZS5jbGllbnRYO1xuICAgIHRoaXMuaW5mby55ID0gZS5jbGllbnRZO1xuICB9LFxuICAvKipcbiAgICogQHRoaXMge0dlc3R1cmVSZWNvZ25pemVyfVxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHRvdWNoc3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBsZXQgY3QgPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIHRoaXMuaW5mby54ID0gY3QuY2xpZW50WDtcbiAgICB0aGlzLmluZm8ueSA9IGN0LmNsaWVudFk7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2htb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgbGV0IHQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0KGUpO1xuICAgIGxldCBjdCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgbGV0IHggPSBjdC5jbGllbnRYLCB5ID0gY3QuY2xpZW50WTtcbiAgICBpZiAodHJhY2tIYXNNb3ZlZEVub3VnaCh0aGlzLmluZm8sIHgsIHkpKSB7XG4gICAgICBpZiAodGhpcy5pbmZvLnN0YXRlID09PSAnc3RhcnQnKSB7XG4gICAgICAgIC8vIGlmIGFuZCBvbmx5IGlmIHRyYWNraW5nLCBhbHdheXMgcHJldmVudCB0YXBcbiAgICAgICAgcHJldmVudCgndGFwJyk7XG4gICAgICB9XG4gICAgICB0aGlzLmluZm8uYWRkTW92ZSh7eDogeCwgeTogeX0pO1xuICAgICAgdHJhY2tGaXJlKHRoaXMuaW5mbywgdCwgY3QpO1xuICAgICAgdGhpcy5pbmZvLnN0YXRlID0gJ3RyYWNrJztcbiAgICAgIHRoaXMuaW5mby5zdGFydGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hlbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoZSk7XG4gICAgbGV0IGN0ID0gZS5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAvLyBvbmx5IHRyYWNrZW5kIGlmIHRyYWNrIHdhcyBzdGFydGVkIGFuZCBub3QgYWJvcnRlZFxuICAgIGlmICh0aGlzLmluZm8uc3RhcnRlZCkge1xuICAgICAgLy8gcmVzZXQgc3RhcnRlZCBzdGF0ZSBvbiB1cFxuICAgICAgdGhpcy5pbmZvLnN0YXRlID0gJ2VuZCc7XG4gICAgICB0aGlzLmluZm8uYWRkTW92ZSh7eDogY3QuY2xpZW50WCwgeTogY3QuY2xpZW50WX0pO1xuICAgICAgdHJhY2tGaXJlKHRoaXMuaW5mbywgdCwgY3QpO1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQHBhcmFtIHshR2VzdHVyZUluZm99IGluZm9cbiAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gKiBAcGFyYW0ge251bWJlcn0geVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdHJhY2tIYXNNb3ZlZEVub3VnaChpbmZvLCB4LCB5KSB7XG4gIGlmIChpbmZvLnByZXZlbnQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGluZm8uc3RhcnRlZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGxldCBkeCA9IE1hdGguYWJzKGluZm8ueCAtIHgpO1xuICBsZXQgZHkgPSBNYXRoLmFicyhpbmZvLnkgLSB5KTtcbiAgcmV0dXJuIChkeCA+PSBUUkFDS19ESVNUQU5DRSB8fCBkeSA+PSBUUkFDS19ESVNUQU5DRSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHshR2VzdHVyZUluZm99IGluZm9cbiAqIEBwYXJhbSB7P0V2ZW50VGFyZ2V0fSB0YXJnZXRcbiAqIEBwYXJhbSB7VG91Y2h9IHRvdWNoXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5mdW5jdGlvbiB0cmFja0ZpcmUoaW5mbywgdGFyZ2V0LCB0b3VjaCkge1xuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2Vjb25kbGFzdCA9IGluZm8ubW92ZXNbaW5mby5tb3Zlcy5sZW5ndGggLSAyXTtcbiAgbGV0IGxhc3Rtb3ZlID0gaW5mby5tb3Zlc1tpbmZvLm1vdmVzLmxlbmd0aCAtIDFdO1xuICBsZXQgZHggPSBsYXN0bW92ZS54IC0gaW5mby54O1xuICBsZXQgZHkgPSBsYXN0bW92ZS55IC0gaW5mby55O1xuICBsZXQgZGR4LCBkZHkgPSAwO1xuICBpZiAoc2Vjb25kbGFzdCkge1xuICAgIGRkeCA9IGxhc3Rtb3ZlLnggLSBzZWNvbmRsYXN0Lng7XG4gICAgZGR5ID0gbGFzdG1vdmUueSAtIHNlY29uZGxhc3QueTtcbiAgfVxuICBfZmlyZSh0YXJnZXQsICd0cmFjaycsIHtcbiAgICBzdGF0ZTogaW5mby5zdGF0ZSxcbiAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgIHk6IHRvdWNoLmNsaWVudFksXG4gICAgZHg6IGR4LFxuICAgIGR5OiBkeSxcbiAgICBkZHg6IGRkeCxcbiAgICBkZHk6IGRkeSxcbiAgICBzb3VyY2VFdmVudDogdG91Y2gsXG4gICAgaG92ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGRlZXBUYXJnZXRGaW5kKHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgIH1cbiAgfSk7XG59XG5cbnJlZ2lzdGVyKHtcbiAgbmFtZTogJ3RhcCcsXG4gIGRlcHM6IFsnbW91c2Vkb3duJywgJ2NsaWNrJywgJ3RvdWNoc3RhcnQnLCAndG91Y2hlbmQnXSxcbiAgZmxvdzoge1xuICAgIHN0YXJ0OiBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J10sXG4gICAgZW5kOiBbJ2NsaWNrJywgJ3RvdWNoZW5kJ11cbiAgfSxcbiAgZW1pdHM6IFsndGFwJ10sXG4gIGluZm86IHtcbiAgICB4OiBOYU4sXG4gICAgeTogTmFOLFxuICAgIHByZXZlbnQ6IGZhbHNlXG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbmZvLnggPSBOYU47XG4gICAgdGhpcy5pbmZvLnkgPSBOYU47XG4gICAgdGhpcy5pbmZvLnByZXZlbnQgPSBmYWxzZTtcbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBtb3VzZWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoaGFzTGVmdE1vdXNlQnV0dG9uKGUpKSB7XG4gICAgICB0aGlzLmluZm8ueCA9IGUuY2xpZW50WDtcbiAgICAgIHRoaXMuaW5mby55ID0gZS5jbGllbnRZO1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjbGljazogZnVuY3Rpb24oZSkge1xuICAgIGlmIChoYXNMZWZ0TW91c2VCdXR0b24oZSkpIHtcbiAgICAgIHRyYWNrRm9yd2FyZCh0aGlzLmluZm8sIGUpO1xuICAgIH1cbiAgfSxcbiAgLyoqXG4gICAqIEB0aGlzIHtHZXN0dXJlUmVjb2duaXplcn1cbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICB0b3VjaHN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgY29uc3QgdG91Y2ggPSBlLmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgIHRoaXMuaW5mby54ID0gdG91Y2guY2xpZW50WDtcbiAgICB0aGlzLmluZm8ueSA9IHRvdWNoLmNsaWVudFk7XG4gIH0sXG4gIC8qKlxuICAgKiBAdGhpcyB7R2VzdHVyZVJlY29nbml6ZXJ9XG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgdG91Y2hlbmQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB0cmFja0ZvcndhcmQodGhpcy5pbmZvLCBlLmNoYW5nZWRUb3VjaGVzWzBdLCBlKTtcbiAgfVxufSk7XG5cbi8qKlxuICogQHBhcmFtIHshR2VzdHVyZUluZm99IGluZm9cbiAqIEBwYXJhbSB7RXZlbnQgfCBUb3VjaH0gZVxuICogQHBhcmFtIHtFdmVudD19IHByZXZlbnRlclxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdHJhY2tGb3J3YXJkKGluZm8sIGUsIHByZXZlbnRlcikge1xuICBsZXQgZHggPSBNYXRoLmFicyhlLmNsaWVudFggLSBpbmZvLngpO1xuICBsZXQgZHkgPSBNYXRoLmFicyhlLmNsaWVudFkgLSBpbmZvLnkpO1xuICAvLyBmaW5kIG9yaWdpbmFsIHRhcmdldCBmcm9tIGBwcmV2ZW50ZXJgIGZvciBUb3VjaEV2ZW50cywgb3IgYGVgIGZvciBNb3VzZUV2ZW50c1xuICBsZXQgdCA9IF9maW5kT3JpZ2luYWxUYXJnZXQoKHByZXZlbnRlciB8fCBlKSk7XG4gIGlmICghdCB8fCAoY2FuQmVEaXNhYmxlZFsvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odCkubG9jYWxOYW1lXSAmJiB0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZHgsZHkgY2FuIGJlIE5hTiBpZiBgY2xpY2tgIGhhcyBiZWVuIHNpbXVsYXRlZCBhbmQgdGhlcmUgd2FzIG5vIGBkb3duYCBmb3IgYHN0YXJ0YFxuICBpZiAoaXNOYU4oZHgpIHx8IGlzTmFOKGR5KSB8fCAoZHggPD0gVEFQX0RJU1RBTkNFICYmIGR5IDw9IFRBUF9ESVNUQU5DRSkgfHwgaXNTeW50aGV0aWNDbGljayhlKSkge1xuICAgIC8vIHByZXZlbnQgdGFwcyBmcm9tIGJlaW5nIGdlbmVyYXRlZCBpZiBhbiBldmVudCBoYXMgY2FuY2VsZWQgdGhlbVxuICAgIGlmICghaW5mby5wcmV2ZW50KSB7XG4gICAgICBfZmlyZSh0LCAndGFwJywge1xuICAgICAgICB4OiBlLmNsaWVudFgsXG4gICAgICAgIHk6IGUuY2xpZW50WSxcbiAgICAgICAgc291cmNlRXZlbnQ6IGUsXG4gICAgICAgIHByZXZlbnRlcjogcHJldmVudGVyXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cblxuLyogZXNsaW50LWVuYWJsZSB2YWxpZC1qc2RvYyAqL1xuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBjb25zdCBmaW5kT3JpZ2luYWxUYXJnZXQgPSBfZmluZE9yaWdpbmFsVGFyZ2V0O1xuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBjb25zdCBhZGQgPSBhZGRMaXN0ZW5lcjtcblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgY29uc3QgcmVtb3ZlID0gcmVtb3ZlTGlzdGVuZXI7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuLi91dGlscy9ib290LmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcbmltcG9ydCB7IGFkZExpc3RlbmVyLCByZW1vdmVMaXN0ZW5lciB9IGZyb20gJy4uL3V0aWxzL2dlc3R1cmVzLmpzJztcblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgQVBJIGZvciBhZGRpbmcgUG9seW1lcidzIGNyb3NzLXBsYXRmb3JtXG4gKiBnZXN0dXJlIGV2ZW50cyB0byBub2Rlcy5cbiAqXG4gKiBUaGUgQVBJIGlzIGRlc2lnbmVkIHRvIGJlIGNvbXBhdGlibGUgd2l0aCBvdmVycmlkZSBwb2ludHMgaW1wbGVtZW50ZWRcbiAqIGluIGBUZW1wbGF0ZVN0YW1wYCBzdWNoIHRoYXQgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIGluXG4gKiB0ZW1wbGF0ZXMgd2lsbCBzdXBwb3J0IGdlc3R1cmUgZXZlbnRzIHdoZW4gdGhpcyBtaXhpbiBpcyBhcHBsaWVkIGFsb25nIHdpdGhcbiAqIGBUZW1wbGF0ZVN0YW1wYC5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBzdW1tYXJ5IEVsZW1lbnQgY2xhc3MgbWl4aW4gdGhhdCBwcm92aWRlcyBBUEkgZm9yIGFkZGluZyBQb2x5bWVyJ3NcbiAqICAgY3Jvc3MtcGxhdGZvcm0gZ2VzdHVyZSBldmVudHMgdG8gbm9kZXNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBHZXN0dXJlRXZlbnRMaXN0ZW5lcnMgPSBkZWR1cGluZ01peGluKChzdXBlckNsYXNzKSA9PiB7XG4gIC8qKlxuICAgKiBAcG9seW1lclxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9HZXN0dXJlRXZlbnRMaXN0ZW5lcnN9XG4gICAqL1xuICBjbGFzcyBHZXN0dXJlRXZlbnRMaXN0ZW5lcnMgZXh0ZW5kcyBzdXBlckNsYXNzIHtcbiAgICAvKipcbiAgICAgKiBBZGQgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBub2RlIGlmIGl0IGlzIGEgZ2VzdHVyZXMgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIGFkZCBldmVudCBsaXN0ZW5lciB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oIUV2ZW50KTp2b2lkfSBoYW5kbGVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGFkZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgICBpZiAoIWFkZExpc3RlbmVyKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikpIHtcbiAgICAgICAgc3VwZXIuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBub2RlIGlmIGl0IGlzIGEgZ2VzdHVyZXMgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFdmVudFRhcmdldH0gbm9kZSBOb2RlIHRvIHJlbW92ZSBldmVudCBsaXN0ZW5lciBmcm9tXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbighRXZlbnQpOnZvaWR9IGhhbmRsZXIgTGlzdGVuZXIgZnVuY3Rpb24gdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXZlbnRMaXN0ZW5lckZyb21Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgICAgaWYgKCFyZW1vdmVMaXN0ZW5lcihub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpKSB7XG4gICAgICAgIHN1cGVyLl9yZW1vdmVFdmVudExpc3RlbmVyRnJvbU5vZGUobm9kZSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gR2VzdHVyZUV2ZW50TGlzdGVuZXJzO1xufSk7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5mdW5jdGlvbiBuZXdTcGxpY2UoaW5kZXgsIHJlbW92ZWQsIGFkZGVkQ291bnQpIHtcbiAgcmV0dXJuIHtcbiAgICBpbmRleDogaW5kZXgsXG4gICAgcmVtb3ZlZDogcmVtb3ZlZCxcbiAgICBhZGRlZENvdW50OiBhZGRlZENvdW50XG4gIH07XG59XG5cbmNvbnN0IEVESVRfTEVBVkUgPSAwO1xuY29uc3QgRURJVF9VUERBVEUgPSAxO1xuY29uc3QgRURJVF9BREQgPSAyO1xuY29uc3QgRURJVF9ERUxFVEUgPSAzO1xuXG4vLyBOb3RlOiBUaGlzIGZ1bmN0aW9uIGlzICpiYXNlZCogb24gdGhlIGNvbXB1dGF0aW9uIG9mIHRoZSBMZXZlbnNodGVpblxuLy8gXCJlZGl0XCIgZGlzdGFuY2UuIFRoZSBvbmUgY2hhbmdlIGlzIHRoYXQgXCJ1cGRhdGVzXCIgYXJlIHRyZWF0ZWQgYXMgdHdvXG4vLyBlZGl0cyAtIG5vdCBvbmUuIFdpdGggQXJyYXkgc3BsaWNlcywgYW4gdXBkYXRlIGlzIHJlYWxseSBhIGRlbGV0ZVxuLy8gZm9sbG93ZWQgYnkgYW4gYWRkLiBCeSByZXRhaW5pbmcgdGhpcywgd2Ugb3B0aW1pemUgZm9yIFwia2VlcGluZ1wiIHRoZVxuLy8gbWF4aW11bSBhcnJheSBpdGVtcyBpbiB0aGUgb3JpZ2luYWwgYXJyYXkuIEZvciBleGFtcGxlOlxuLy9cbi8vICAgJ3h4eHgxMjMnIC0+ICcxMjN5eXl5J1xuLy9cbi8vIFdpdGggMS1lZGl0IHVwZGF0ZXMsIHRoZSBzaG9ydGVzdCBwYXRoIHdvdWxkIGJlIGp1c3QgdG8gdXBkYXRlIGFsbCBzZXZlblxuLy8gY2hhcmFjdGVycy4gV2l0aCAyLWVkaXQgdXBkYXRlcywgd2UgZGVsZXRlIDQsIGxlYXZlIDMsIGFuZCBhZGQgNC4gVGhpc1xuLy8gbGVhdmVzIHRoZSBzdWJzdHJpbmcgJzEyMycgaW50YWN0LlxuZnVuY3Rpb24gY2FsY0VkaXREaXN0YW5jZXMoY3VycmVudCwgY3VycmVudFN0YXJ0LCBjdXJyZW50RW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZCwgb2xkU3RhcnQsIG9sZEVuZCkge1xuICAvLyBcIkRlbGV0aW9uXCIgY29sdW1uc1xuICBsZXQgcm93Q291bnQgPSBvbGRFbmQgLSBvbGRTdGFydCArIDE7XG4gIGxldCBjb2x1bW5Db3VudCA9IGN1cnJlbnRFbmQgLSBjdXJyZW50U3RhcnQgKyAxO1xuICBsZXQgZGlzdGFuY2VzID0gbmV3IEFycmF5KHJvd0NvdW50KTtcblxuICAvLyBcIkFkZGl0aW9uXCIgcm93cy4gSW5pdGlhbGl6ZSBudWxsIGNvbHVtbi5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dDb3VudDsgaSsrKSB7XG4gICAgZGlzdGFuY2VzW2ldID0gbmV3IEFycmF5KGNvbHVtbkNvdW50KTtcbiAgICBkaXN0YW5jZXNbaV1bMF0gPSBpO1xuICB9XG5cbiAgLy8gSW5pdGlhbGl6ZSBudWxsIHJvd1xuICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbkNvdW50OyBqKyspXG4gICAgZGlzdGFuY2VzWzBdW2pdID0gajtcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IHJvd0NvdW50OyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IGNvbHVtbkNvdW50OyBqKyspIHtcbiAgICAgIGlmIChlcXVhbHMoY3VycmVudFtjdXJyZW50U3RhcnQgKyBqIC0gMV0sIG9sZFtvbGRTdGFydCArIGkgLSAxXSkpXG4gICAgICAgIGRpc3RhbmNlc1tpXVtqXSA9IGRpc3RhbmNlc1tpIC0gMV1baiAtIDFdO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBub3J0aCA9IGRpc3RhbmNlc1tpIC0gMV1bal0gKyAxO1xuICAgICAgICBsZXQgd2VzdCA9IGRpc3RhbmNlc1tpXVtqIC0gMV0gKyAxO1xuICAgICAgICBkaXN0YW5jZXNbaV1bal0gPSBub3J0aCA8IHdlc3QgPyBub3J0aCA6IHdlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRpc3RhbmNlcztcbn1cblxuLy8gVGhpcyBzdGFydHMgYXQgdGhlIGZpbmFsIHdlaWdodCwgYW5kIHdhbGtzIFwiYmFja3dhcmRcIiBieSBmaW5kaW5nXG4vLyB0aGUgbWluaW11bSBwcmV2aW91cyB3ZWlnaHQgcmVjdXJzaXZlbHkgdW50aWwgdGhlIG9yaWdpbiBvZiB0aGUgd2VpZ2h0XG4vLyBtYXRyaXguXG5mdW5jdGlvbiBzcGxpY2VPcGVyYXRpb25zRnJvbUVkaXREaXN0YW5jZXMoZGlzdGFuY2VzKSB7XG4gIGxldCBpID0gZGlzdGFuY2VzLmxlbmd0aCAtIDE7XG4gIGxldCBqID0gZGlzdGFuY2VzWzBdLmxlbmd0aCAtIDE7XG4gIGxldCBjdXJyZW50ID0gZGlzdGFuY2VzW2ldW2pdO1xuICBsZXQgZWRpdHMgPSBbXTtcbiAgd2hpbGUgKGkgPiAwIHx8IGogPiAwKSB7XG4gICAgaWYgKGkgPT0gMCkge1xuICAgICAgZWRpdHMucHVzaChFRElUX0FERCk7XG4gICAgICBqLS07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKGogPT0gMCkge1xuICAgICAgZWRpdHMucHVzaChFRElUX0RFTEVURSk7XG4gICAgICBpLS07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IG5vcnRoV2VzdCA9IGRpc3RhbmNlc1tpIC0gMV1baiAtIDFdO1xuICAgIGxldCB3ZXN0ID0gZGlzdGFuY2VzW2kgLSAxXVtqXTtcbiAgICBsZXQgbm9ydGggPSBkaXN0YW5jZXNbaV1baiAtIDFdO1xuXG4gICAgbGV0IG1pbjtcbiAgICBpZiAod2VzdCA8IG5vcnRoKVxuICAgICAgbWluID0gd2VzdCA8IG5vcnRoV2VzdCA/IHdlc3QgOiBub3J0aFdlc3Q7XG4gICAgZWxzZVxuICAgICAgbWluID0gbm9ydGggPCBub3J0aFdlc3QgPyBub3J0aCA6IG5vcnRoV2VzdDtcblxuICAgIGlmIChtaW4gPT0gbm9ydGhXZXN0KSB7XG4gICAgICBpZiAobm9ydGhXZXN0ID09IGN1cnJlbnQpIHtcbiAgICAgICAgZWRpdHMucHVzaChFRElUX0xFQVZFKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVkaXRzLnB1c2goRURJVF9VUERBVEUpO1xuICAgICAgICBjdXJyZW50ID0gbm9ydGhXZXN0O1xuICAgICAgfVxuICAgICAgaS0tO1xuICAgICAgai0tO1xuICAgIH0gZWxzZSBpZiAobWluID09IHdlc3QpIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9ERUxFVEUpO1xuICAgICAgaS0tO1xuICAgICAgY3VycmVudCA9IHdlc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRzLnB1c2goRURJVF9BREQpO1xuICAgICAgai0tO1xuICAgICAgY3VycmVudCA9IG5vcnRoO1xuICAgIH1cbiAgfVxuXG4gIGVkaXRzLnJldmVyc2UoKTtcbiAgcmV0dXJuIGVkaXRzO1xufVxuXG4vKipcbiAqIFNwbGljZSBQcm9qZWN0aW9uIGZ1bmN0aW9uczpcbiAqXG4gKiBBIHNwbGljZSBtYXAgaXMgYSByZXByZXNlbnRhdGlvbiBvZiBob3cgYSBwcmV2aW91cyBhcnJheSBvZiBpdGVtc1xuICogd2FzIHRyYW5zZm9ybWVkIGludG8gYSBuZXcgYXJyYXkgb2YgaXRlbXMuIENvbmNlcHR1YWxseSBpdCBpcyBhIGxpc3Qgb2ZcbiAqIHR1cGxlcyBvZlxuICpcbiAqICAgPGluZGV4LCByZW1vdmVkLCBhZGRlZENvdW50PlxuICpcbiAqIHdoaWNoIGFyZSBrZXB0IGluIGFzY2VuZGluZyBpbmRleCBvcmRlciBvZi4gVGhlIHR1cGxlIHJlcHJlc2VudHMgdGhhdCBhdFxuICogdGhlIHxpbmRleHwsIHxyZW1vdmVkfCBzZXF1ZW5jZSBvZiBpdGVtcyB3ZXJlIHJlbW92ZWQsIGFuZCBjb3VudGluZyBmb3J3YXJkXG4gKiBmcm9tIHxpbmRleHwsIHxhZGRlZENvdW50fCBpdGVtcyB3ZXJlIGFkZGVkLlxuICovXG5cbi8qKlxuICogTGFja2luZyBpbmRpdmlkdWFsIHNwbGljZSBtdXRhdGlvbiBpbmZvcm1hdGlvbiwgdGhlIG1pbmltYWwgc2V0IG9mXG4gKiBzcGxpY2VzIGNhbiBiZSBzeW50aGVzaXplZCBnaXZlbiB0aGUgcHJldmlvdXMgc3RhdGUgYW5kIGZpbmFsIHN0YXRlIG9mIGFuXG4gKiBhcnJheS4gVGhlIGJhc2ljIGFwcHJvYWNoIGlzIHRvIGNhbGN1bGF0ZSB0aGUgZWRpdCBkaXN0YW5jZSBtYXRyaXggYW5kXG4gKiBjaG9vc2UgdGhlIHNob3J0ZXN0IHBhdGggdGhyb3VnaCBpdC5cbiAqXG4gKiBDb21wbGV4aXR5OiBPKGwgKiBwKVxuICogICBsOiBUaGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGFycmF5XG4gKiAgIHA6IFRoZSBsZW5ndGggb2YgdGhlIG9sZCBhcnJheVxuICpcbiAqIEBwYXJhbSB7IUFycmF5fSBjdXJyZW50IFRoZSBjdXJyZW50IFwiY2hhbmdlZFwiIGFycmF5IGZvciB3aGljaCB0b1xuICogY2FsY3VsYXRlIHNwbGljZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gY3VycmVudFN0YXJ0IFN0YXJ0aW5nIGluZGV4IGluIHRoZSBgY3VycmVudGAgYXJyYXkgZm9yXG4gKiB3aGljaCBzcGxpY2VzIGFyZSBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGN1cnJlbnRFbmQgRW5kaW5nIGluZGV4IGluIHRoZSBgY3VycmVudGAgYXJyYXkgZm9yXG4gKiB3aGljaCBzcGxpY2VzIGFyZSBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHshQXJyYXl9IG9sZCBUaGUgb3JpZ2luYWwgXCJ1bmNoYW5nZWRcIiBhcnJheSB0byBjb21wYXJlIGBjdXJyZW50YFxuICogYWdhaW5zdCB0byBkZXRlcm1pbmUgc3BsaWNlcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBvbGRTdGFydCBTdGFydGluZyBpbmRleCBpbiB0aGUgYG9sZGAgYXJyYXkgZm9yXG4gKiB3aGljaCBzcGxpY2VzIGFyZSBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHtudW1iZXJ9IG9sZEVuZCBFbmRpbmcgaW5kZXggaW4gdGhlIGBvbGRgIGFycmF5IGZvclxuICogd2hpY2ggc3BsaWNlcyBhcmUgY2FsY3VsYXRlZC5cbiAqIEByZXR1cm4geyFBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzcGxpY2UgcmVjb3JkIG9iamVjdHMuIEVhY2ggb2YgdGhlc2VcbiAqIGNvbnRhaW5zOiBgaW5kZXhgIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgc3BsaWNlIG9jY3VycmVkOyBgcmVtb3ZlZGBcbiAqIHRoZSBhcnJheSBvZiByZW1vdmVkIGl0ZW1zIGZyb20gdGhpcyBsb2NhdGlvbjsgYGFkZGVkQ291bnRgIHRoZSBudW1iZXJcbiAqIG9mIGl0ZW1zIGFkZGVkIGF0IHRoaXMgbG9jYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGNhbGNTcGxpY2VzKGN1cnJlbnQsIGN1cnJlbnRTdGFydCwgY3VycmVudEVuZCxcbiAgICAgICAgICAgICAgICAgICAgICBvbGQsIG9sZFN0YXJ0LCBvbGRFbmQpIHtcbiAgbGV0IHByZWZpeENvdW50ID0gMDtcbiAgbGV0IHN1ZmZpeENvdW50ID0gMDtcbiAgbGV0IHNwbGljZTtcblxuICBsZXQgbWluTGVuZ3RoID0gTWF0aC5taW4oY3VycmVudEVuZCAtIGN1cnJlbnRTdGFydCwgb2xkRW5kIC0gb2xkU3RhcnQpO1xuICBpZiAoY3VycmVudFN0YXJ0ID09IDAgJiYgb2xkU3RhcnQgPT0gMClcbiAgICBwcmVmaXhDb3VudCA9IHNoYXJlZFByZWZpeChjdXJyZW50LCBvbGQsIG1pbkxlbmd0aCk7XG5cbiAgaWYgKGN1cnJlbnRFbmQgPT0gY3VycmVudC5sZW5ndGggJiYgb2xkRW5kID09IG9sZC5sZW5ndGgpXG4gICAgc3VmZml4Q291bnQgPSBzaGFyZWRTdWZmaXgoY3VycmVudCwgb2xkLCBtaW5MZW5ndGggLSBwcmVmaXhDb3VudCk7XG5cbiAgY3VycmVudFN0YXJ0ICs9IHByZWZpeENvdW50O1xuICBvbGRTdGFydCArPSBwcmVmaXhDb3VudDtcbiAgY3VycmVudEVuZCAtPSBzdWZmaXhDb3VudDtcbiAgb2xkRW5kIC09IHN1ZmZpeENvdW50O1xuXG4gIGlmIChjdXJyZW50RW5kIC0gY3VycmVudFN0YXJ0ID09IDAgJiYgb2xkRW5kIC0gb2xkU3RhcnQgPT0gMClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKGN1cnJlbnRTdGFydCA9PSBjdXJyZW50RW5kKSB7XG4gICAgc3BsaWNlID0gbmV3U3BsaWNlKGN1cnJlbnRTdGFydCwgW10sIDApO1xuICAgIHdoaWxlIChvbGRTdGFydCA8IG9sZEVuZClcbiAgICAgIHNwbGljZS5yZW1vdmVkLnB1c2gob2xkW29sZFN0YXJ0KytdKTtcblxuICAgIHJldHVybiBbIHNwbGljZSBdO1xuICB9IGVsc2UgaWYgKG9sZFN0YXJ0ID09IG9sZEVuZClcbiAgICByZXR1cm4gWyBuZXdTcGxpY2UoY3VycmVudFN0YXJ0LCBbXSwgY3VycmVudEVuZCAtIGN1cnJlbnRTdGFydCkgXTtcblxuICBsZXQgb3BzID0gc3BsaWNlT3BlcmF0aW9uc0Zyb21FZGl0RGlzdGFuY2VzKFxuICAgICAgY2FsY0VkaXREaXN0YW5jZXMoY3VycmVudCwgY3VycmVudFN0YXJ0LCBjdXJyZW50RW5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGQsIG9sZFN0YXJ0LCBvbGRFbmQpKTtcblxuICBzcGxpY2UgPSB1bmRlZmluZWQ7XG4gIGxldCBzcGxpY2VzID0gW107XG4gIGxldCBpbmRleCA9IGN1cnJlbnRTdGFydDtcbiAgbGV0IG9sZEluZGV4ID0gb2xkU3RhcnQ7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgc3dpdGNoKG9wc1tpXSkge1xuICAgICAgY2FzZSBFRElUX0xFQVZFOlxuICAgICAgICBpZiAoc3BsaWNlKSB7XG4gICAgICAgICAgc3BsaWNlcy5wdXNoKHNwbGljZSk7XG4gICAgICAgICAgc3BsaWNlID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgb2xkSW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVESVRfVVBEQVRFOlxuICAgICAgICBpZiAoIXNwbGljZSlcbiAgICAgICAgICBzcGxpY2UgPSBuZXdTcGxpY2UoaW5kZXgsIFtdLCAwKTtcblxuICAgICAgICBzcGxpY2UuYWRkZWRDb3VudCsrO1xuICAgICAgICBpbmRleCsrO1xuXG4gICAgICAgIHNwbGljZS5yZW1vdmVkLnB1c2gob2xkW29sZEluZGV4XSk7XG4gICAgICAgIG9sZEluZGV4Kys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBFRElUX0FERDpcbiAgICAgICAgaWYgKCFzcGxpY2UpXG4gICAgICAgICAgc3BsaWNlID0gbmV3U3BsaWNlKGluZGV4LCBbXSwgMCk7XG5cbiAgICAgICAgc3BsaWNlLmFkZGVkQ291bnQrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEVESVRfREVMRVRFOlxuICAgICAgICBpZiAoIXNwbGljZSlcbiAgICAgICAgICBzcGxpY2UgPSBuZXdTcGxpY2UoaW5kZXgsIFtdLCAwKTtcblxuICAgICAgICBzcGxpY2UucmVtb3ZlZC5wdXNoKG9sZFtvbGRJbmRleF0pO1xuICAgICAgICBvbGRJbmRleCsrO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoc3BsaWNlKSB7XG4gICAgc3BsaWNlcy5wdXNoKHNwbGljZSk7XG4gIH1cbiAgcmV0dXJuIHNwbGljZXM7XG59XG5cbmZ1bmN0aW9uIHNoYXJlZFByZWZpeChjdXJyZW50LCBvbGQsIHNlYXJjaExlbmd0aCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlYXJjaExlbmd0aDsgaSsrKVxuICAgIGlmICghZXF1YWxzKGN1cnJlbnRbaV0sIG9sZFtpXSkpXG4gICAgICByZXR1cm4gaTtcbiAgcmV0dXJuIHNlYXJjaExlbmd0aDtcbn1cblxuZnVuY3Rpb24gc2hhcmVkU3VmZml4KGN1cnJlbnQsIG9sZCwgc2VhcmNoTGVuZ3RoKSB7XG4gIGxldCBpbmRleDEgPSBjdXJyZW50Lmxlbmd0aDtcbiAgbGV0IGluZGV4MiA9IG9sZC5sZW5ndGg7XG4gIGxldCBjb3VudCA9IDA7XG4gIHdoaWxlIChjb3VudCA8IHNlYXJjaExlbmd0aCAmJiBlcXVhbHMoY3VycmVudFstLWluZGV4MV0sIG9sZFstLWluZGV4Ml0pKVxuICAgIGNvdW50Kys7XG5cbiAgcmV0dXJuIGNvdW50O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gYXJyYXkgb2Ygc3BsaWNlIHJlY29yZHMgaW5kaWNhdGluZyB0aGUgbWluaW11bSBlZGl0cyByZXF1aXJlZFxuICogdG8gdHJhbnNmb3JtIHRoZSBgcHJldmlvdXNgIGFycmF5IGludG8gdGhlIGBjdXJyZW50YCBhcnJheS5cbiAqXG4gKiBTcGxpY2UgcmVjb3JkcyBhcmUgb3JkZXJlZCBieSBpbmRleCBhbmQgY29udGFpbiB0aGUgZm9sbG93aW5nIGZpZWxkczpcbiAqIC0gYGluZGV4YDogaW5kZXggd2hlcmUgZWRpdCBzdGFydGVkXG4gKiAtIGByZW1vdmVkYDogYXJyYXkgb2YgcmVtb3ZlZCBpdGVtcyBmcm9tIHRoaXMgaW5kZXhcbiAqIC0gYGFkZGVkQ291bnRgOiBudW1iZXIgb2YgaXRlbXMgYWRkZWQgYXQgdGhpcyBpbmRleFxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgYmFzZWQgb24gdGhlIExldmVuc2h0ZWluIFwibWluaW11bSBlZGl0IGRpc3RhbmNlXCJcbiAqIGFsZ29yaXRobS4gTm90ZSB0aGF0IHVwZGF0ZXMgYXJlIHRyZWF0ZWQgYXMgcmVtb3ZhbCBmb2xsb3dlZCBieSBhZGRpdGlvbi5cbiAqXG4gKiBUaGUgd29yc3QtY2FzZSB0aW1lIGNvbXBsZXhpdHkgb2YgdGhpcyBhbGdvcml0aG0gaXMgYE8obCAqIHApYFxuICogICBsOiBUaGUgbGVuZ3RoIG9mIHRoZSBjdXJyZW50IGFycmF5XG4gKiAgIHA6IFRoZSBsZW5ndGggb2YgdGhlIHByZXZpb3VzIGFycmF5XG4gKlxuICogSG93ZXZlciwgdGhlIHdvcnN0LWNhc2UgY29tcGxleGl0eSBpcyByZWR1Y2VkIGJ5IGFuIGBPKG4pYCBvcHRpbWl6YXRpb25cbiAqIHRvIGRldGVjdCBhbnkgc2hhcmVkIHByZWZpeCAmIHN1ZmZpeCBiZXR3ZWVuIHRoZSB0d28gYXJyYXlzIGFuZCBvbmx5XG4gKiBwZXJmb3JtIHRoZSBtb3JlIGV4cGVuc2l2ZSBtaW5pbXVtIGVkaXQgZGlzdGFuY2UgY2FsY3VsYXRpb24gb3ZlciB0aGVcbiAqIG5vbi1zaGFyZWQgcG9ydGlvbnMgb2YgdGhlIGFycmF5cy5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IUFycmF5fSBjdXJyZW50IFRoZSBcImNoYW5nZWRcIiBhcnJheSBmb3Igd2hpY2ggc3BsaWNlcyB3aWxsIGJlXG4gKiBjYWxjdWxhdGVkLlxuICogQHBhcmFtIHshQXJyYXl9IHByZXZpb3VzIFRoZSBcInVuY2hhbmdlZFwiIG9yaWdpbmFsIGFycmF5IHRvIGNvbXBhcmVcbiAqIGBjdXJyZW50YCBhZ2FpbnN0IHRvIGRldGVybWluZSB0aGUgc3BsaWNlcy5cbiAqIEByZXR1cm4geyFBcnJheX0gUmV0dXJucyBhbiBhcnJheSBvZiBzcGxpY2UgcmVjb3JkIG9iamVjdHMuIEVhY2ggb2YgdGhlc2VcbiAqIGNvbnRhaW5zOiBgaW5kZXhgIHRoZSBsb2NhdGlvbiB3aGVyZSB0aGUgc3BsaWNlIG9jY3VycmVkOyBgcmVtb3ZlZGBcbiAqIHRoZSBhcnJheSBvZiByZW1vdmVkIGl0ZW1zIGZyb20gdGhpcyBsb2NhdGlvbjsgYGFkZGVkQ291bnRgIHRoZSBudW1iZXJcbiAqIG9mIGl0ZW1zIGFkZGVkIGF0IHRoaXMgbG9jYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVTcGxpY2VzKGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gIHJldHVybiBjYWxjU3BsaWNlcyhjdXJyZW50LCAwLCBjdXJyZW50Lmxlbmd0aCwgcHJldmlvdXMsIDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGVxdWFscyhjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpIHtcbiAgcmV0dXJuIGN1cnJlbnRWYWx1ZSA9PT0gcHJldmlvdXNWYWx1ZTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4vYm9vdC5qcyc7XG5cbmltcG9ydCB7IGNhbGN1bGF0ZVNwbGljZXMgfSBmcm9tICcuL2FycmF5LXNwbGljZS5qcyc7XG5pbXBvcnQgeyBtaWNyb1Rhc2sgfSBmcm9tICcuL2FzeW5jLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuL3dyYXAuanMnO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgbm9kZWAgaXMgYSBzbG90IGVsZW1lbnRcbiAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgTm9kZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBgbm9kZWAgaXMgYSBzbG90XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBpc1Nsb3Qobm9kZSkge1xuICByZXR1cm4gKG5vZGUubG9jYWxOYW1lID09PSAnc2xvdCcpO1xufVxuXG4vKipcbiAqIENsYXNzIHRoYXQgbGlzdGVucyBmb3IgY2hhbmdlcyAoYWRkaXRpb25zIG9yIHJlbW92YWxzKSB0b1xuICogXCJmbGF0dGVuZWQgbm9kZXNcIiBvbiBhIGdpdmVuIGBub2RlYC4gVGhlIGxpc3Qgb2YgZmxhdHRlbmVkIG5vZGVzIGNvbnNpc3RzXG4gKiBvZiBhIG5vZGUncyBjaGlsZHJlbiBhbmQsIGZvciBhbnkgY2hpbGRyZW4gdGhhdCBhcmUgYDxzbG90PmAgZWxlbWVudHMsXG4gKiB0aGUgZXhwYW5kZWQgZmxhdHRlbmVkIGxpc3Qgb2YgYGFzc2lnbmVkTm9kZXNgLlxuICogRm9yIGV4YW1wbGUsIGlmIHRoZSBvYnNlcnZlZCBub2RlIGhhcyBjaGlsZHJlbiBgPGE+PC9hPjxzbG90Pjwvc2xvdD48Yj48L2I+YFxuICogYW5kIHRoZSBgPHNsb3Q+YCBoYXMgb25lIGA8ZGl2PmAgYXNzaWduZWQgdG8gaXQsIHRoZW4gdGhlIGZsYXR0ZW5lZFxuICogbm9kZXMgbGlzdCBpcyBgPGE+PC9hPjxkaXY+PC9kaXY+PGI+PC9iPmAuIElmIHRoZSBgPHNsb3Q+YCBoYXMgb3RoZXJcbiAqIGA8c2xvdD5gIGVsZW1lbnRzIGFzc2lnbmVkIHRvIGl0LCB0aGVzZSBhcmUgZmxhdHRlbmVkIGFzIHdlbGwuXG4gKlxuICogVGhlIHByb3ZpZGVkIGBjYWxsYmFja2AgaXMgY2FsbGVkIHdoZW5ldmVyIGFueSBjaGFuZ2UgdG8gdGhpcyBsaXN0XG4gKiBvZiBmbGF0dGVuZWQgbm9kZXMgb2NjdXJzLCB3aGVyZSBhbiBhZGRpdGlvbiBvciByZW1vdmFsIG9mIGEgbm9kZSBpc1xuICogY29uc2lkZXJlZCBhIGNoYW5nZS4gVGhlIGBjYWxsYmFja2AgaXMgY2FsbGVkIHdpdGggb25lIGFyZ3VtZW50LCBhbiBvYmplY3RcbiAqIGNvbnRhaW5pbmcgYW4gYXJyYXkgb2YgYW55IGBhZGRlZE5vZGVzYCBhbmQgYHJlbW92ZWROb2Rlc2AuXG4gKlxuICogTm90ZTogdGhlIGNhbGxiYWNrIGlzIGNhbGxlZCBhc3luY2hyb25vdXMgdG8gYW55IGNoYW5nZXNcbiAqIGF0IGEgbWljcm90YXNrIGNoZWNrcG9pbnQuIFRoaXMgaXMgYmVjYXVzZSBvYnNlcnZhdGlvbiBpcyBwZXJmb3JtZWQgdXNpbmdcbiAqIGBNdXRhdGlvbk9ic2VydmVyYCBhbmQgdGhlIGA8c2xvdD5gIGVsZW1lbnQncyBgc2xvdGNoYW5nZWAgZXZlbnQgd2hpY2hcbiAqIGFyZSBhc3luY2hyb25vdXMuXG4gKlxuICogQW4gZXhhbXBsZTpcbiAqIGBgYGpzXG4gKiBjbGFzcyBUZXN0U2VsZk9ic2VydmUgZXh0ZW5kcyBQb2x5bWVyRWxlbWVudCB7XG4gKiAgIHN0YXRpYyBnZXQgaXMoKSB7IHJldHVybiAndGVzdC1zZWxmLW9ic2VydmUnO31cbiAqICAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gKiAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAqICAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBGbGF0dGVuZWROb2Rlc09ic2VydmVyKHRoaXMsIChpbmZvKSA9PiB7XG4gKiAgICAgICB0aGlzLmluZm8gPSBpbmZvO1xuICogICAgIH0pO1xuICogICB9XG4gKiAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICogICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gKiAgICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICogICB9XG4gKiB9XG4gKiBjdXN0b21FbGVtZW50cy5kZWZpbmUoVGVzdFNlbGZPYnNlcnZlLmlzLCBUZXN0U2VsZk9ic2VydmUpO1xuICogYGBgXG4gKlxuICogQHN1bW1hcnkgQ2xhc3MgdGhhdCBsaXN0ZW5zIGZvciBjaGFuZ2VzIChhZGRpdGlvbnMgb3IgcmVtb3ZhbHMpIHRvXG4gKiBcImZsYXR0ZW5lZCBub2Rlc1wiIG9uIGEgZ2l2ZW4gYG5vZGVgLlxuICogQGltcGxlbWVudHMge1BvbHltZXJEb21BcGkuT2JzZXJ2ZUhhbmRsZX1cbiAqL1xuZXhwb3J0IGxldCBGbGF0dGVuZWROb2Rlc09ic2VydmVyID0gY2xhc3Mge1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBub2RlcyBmb3IgdGhlIGdpdmVuIGBub2RlYC5cbiAgICogVGhpcyBsaXN0IGNvbnNpc3RzIG9mIGEgbm9kZSdzIGNoaWxkcmVuIGFuZCwgZm9yIGFueSBjaGlsZHJlblxuICAgKiB0aGF0IGFyZSBgPHNsb3Q+YCBlbGVtZW50cywgdGhlIGV4cGFuZGVkIGZsYXR0ZW5lZCBsaXN0IG9mIGBhc3NpZ25lZE5vZGVzYC5cbiAgICogRm9yIGV4YW1wbGUsIGlmIHRoZSBvYnNlcnZlZCBub2RlIGhhcyBjaGlsZHJlbiBgPGE+PC9hPjxzbG90Pjwvc2xvdD48Yj48L2I+YFxuICAgKiBhbmQgdGhlIGA8c2xvdD5gIGhhcyBvbmUgYDxkaXY+YCBhc3NpZ25lZCB0byBpdCwgdGhlbiB0aGUgZmxhdHRlbmVkXG4gICAqIG5vZGVzIGxpc3QgaXMgYDxhPjwvYT48ZGl2PjwvZGl2PjxiPjwvYj5gLiBJZiB0aGUgYDxzbG90PmAgaGFzIG90aGVyXG4gICAqIGA8c2xvdD5gIGVsZW1lbnRzIGFzc2lnbmVkIHRvIGl0LCB0aGVzZSBhcmUgZmxhdHRlbmVkIGFzIHdlbGwuXG4gICAqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fCFIVE1MU2xvdEVsZW1lbnR9IG5vZGUgVGhlIG5vZGUgZm9yIHdoaWNoIHRvXG4gICAqICAgICAgcmV0dXJuIHRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBub2Rlcy5cbiAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gVGhlIGxpc3Qgb2YgZmxhdHRlbmVkIG5vZGVzIGZvciB0aGUgZ2l2ZW4gYG5vZGVgLlxuICAgKiBAbm9jb2xsYXBzZSBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8yNzYzXG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgc3RhdGljIGdldEZsYXR0ZW5lZE5vZGVzKG5vZGUpIHtcbiAgICBjb25zdCB3cmFwcGVkID0gd3JhcChub2RlKTtcbiAgICBpZiAoaXNTbG90KG5vZGUpKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHshSFRNTFNsb3RFbGVtZW50fSAqLyhub2RlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWFzc2lnblxuICAgICAgcmV0dXJuIHdyYXBwZWQuYXNzaWduZWROb2Rlcyh7ZmxhdHRlbjogdHJ1ZX0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gQXJyYXkuZnJvbSh3cmFwcGVkLmNoaWxkTm9kZXMpLm1hcCgobm9kZSkgPT4ge1xuICAgICAgICBpZiAoaXNTbG90KG5vZGUpKSB7XG4gICAgICAgICAgbm9kZSA9IC8qKiBAdHlwZSB7IUhUTUxTbG90RWxlbWVudH0gKi8obm9kZSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1hc3NpZ25cbiAgICAgICAgICByZXR1cm4gd3JhcChub2RlKS5hc3NpZ25lZE5vZGVzKHtmbGF0dGVuOiB0cnVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFtub2RlXTtcbiAgICAgICAgfVxuICAgICAgfSkucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gdGFyZ2V0IE5vZGUgb24gd2hpY2ggdG8gbGlzdGVuIGZvciBjaGFuZ2VzLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbih0aGlzOiBFbGVtZW50LCB7IHRhcmdldDogIUhUTUxFbGVtZW50LCBhZGRlZE5vZGVzOiAhQXJyYXk8IUVsZW1lbnQ+LCByZW1vdmVkTm9kZXM6ICFBcnJheTwhRWxlbWVudD4gfSk6dm9pZH0gY2FsbGJhY2sgRnVuY3Rpb24gY2FsbGVkIHdoZW4gdGhlcmUgYXJlIGFkZGl0aW9uc1xuICAgKiBvciByZW1vdmFscyBmcm9tIHRoZSB0YXJnZXQncyBsaXN0IG9mIGZsYXR0ZW5lZCBub2Rlcy5cbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGNhbGxiYWNrKSB7XG4gICAgLyoqXG4gICAgICogQHR5cGUge011dGF0aW9uT2JzZXJ2ZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtNdXRhdGlvbk9ic2VydmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbmF0aXZlQ2hpbGRyZW5PYnNlcnZlciA9IG51bGw7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQHR5cGUgeyFIVE1MRWxlbWVudH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5fZWZmZWN0aXZlTm9kZXMgPSBbXTtcbiAgICB0aGlzLl9vYnNlcnZlciA9IG51bGw7XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogQHR5cGUge2Z1bmN0aW9uKCl9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9ib3VuZFNjaGVkdWxlID0gKCkgPT4ge1xuICAgICAgdGhpcy5fc2NoZWR1bGUoKTtcbiAgICB9O1xuICAgIHRoaXMuY29ubmVjdCgpO1xuICAgIHRoaXMuX3NjaGVkdWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogQWN0aXZhdGVzIGFuIG9ic2VydmVyLiBUaGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCB3aGVuXG4gICAqIGEgYEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXJgIGlzIGNyZWF0ZWQuIEl0IHNob3VsZCBvbmx5IGJlIGNhbGxlZCB0b1xuICAgKiByZS1hY3RpdmF0ZSBhbiBvYnNlcnZlciB0aGF0IGhhcyBiZWVuIGRlYWN0aXZhdGVkIHZpYSB0aGUgYGRpc2Nvbm5lY3RgIG1ldGhvZC5cbiAgICpcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGNvbm5lY3QoKSB7XG4gICAgaWYgKGlzU2xvdCh0aGlzLl90YXJnZXQpKSB7XG4gICAgICB0aGlzLl9saXN0ZW5TbG90cyhbdGhpcy5fdGFyZ2V0XSk7XG4gICAgfSBlbHNlIGlmICh3cmFwKHRoaXMuX3RhcmdldCkuY2hpbGRyZW4pIHtcbiAgICAgIHRoaXMuX2xpc3RlblNsb3RzKFxuICAgICAgICAgIC8qKiBAdHlwZSB7IU5vZGVMaXN0PCFOb2RlPn0gKi8gKHdyYXAodGhpcy5fdGFyZ2V0KS5jaGlsZHJlbikpO1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeURPTSkge1xuICAgICAgICB0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIgPVxuICAgICAgICAgIHdpbmRvdy5TaGFkeURPTS5vYnNlcnZlQ2hpbGRyZW4odGhpcy5fdGFyZ2V0LCAobXV0YXRpb25zKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9uYXRpdmVDaGlsZHJlbk9ic2VydmVyID1cbiAgICAgICAgICBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLl90YXJnZXQsIHtjaGlsZExpc3Q6IHRydWV9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWFjdGl2YXRlcyB0aGUgZmxhdHRlbmVkIG5vZGVzIG9ic2VydmVyLiBBZnRlciBjYWxsaW5nIHRoaXMgbWV0aG9kXG4gICAqIHRoZSBvYnNlcnZlciBjYWxsYmFjayB3aWxsIG5vdCBiZSBjYWxsZWQgd2hlbiBjaGFuZ2VzIHRvIGZsYXR0ZW5lZCBub2Rlc1xuICAgKiBvY2N1ci4gVGhlIGBjb25uZWN0YCBtZXRob2QgbWF5IGJlIHN1YnNlcXVlbnRseSBjYWxsZWQgdG8gcmVhY3RpdmF0ZVxuICAgKiB0aGUgb2JzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGlzY29ubmVjdCgpIHtcbiAgICBpZiAoaXNTbG90KHRoaXMuX3RhcmdldCkpIHtcbiAgICAgIHRoaXMuX3VubGlzdGVuU2xvdHMoW3RoaXMuX3RhcmdldF0pO1xuICAgIH0gZWxzZSBpZiAod3JhcCh0aGlzLl90YXJnZXQpLmNoaWxkcmVuKSB7XG4gICAgICB0aGlzLl91bmxpc3RlblNsb3RzKFxuICAgICAgICAgIC8qKiBAdHlwZSB7IU5vZGVMaXN0PCFOb2RlPn0gKi8gKHdyYXAodGhpcy5fdGFyZ2V0KS5jaGlsZHJlbikpO1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeURPTSAmJiB0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgICAgd2luZG93LlNoYWR5RE9NLnVub2JzZXJ2ZUNoaWxkcmVuKHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlcik7XG4gICAgICAgIHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlciA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5fbmF0aXZlQ2hpbGRyZW5PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NjaGVkdWxlKCkge1xuICAgIGlmICghdGhpcy5fc2NoZWR1bGVkKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgbWljcm9UYXNrLnJ1bigoKSA9PiB0aGlzLmZsdXNoKCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PE11dGF0aW9uUmVjb3JkPn0gbXV0YXRpb25zIE11dGF0aW9ucyBzaWduYWxlZCBieSB0aGUgbXV0YXRpb24gb2JzZXJ2ZXJcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9wcm9jZXNzTXV0YXRpb25zKG11dGF0aW9ucykge1xuICAgIHRoaXMuX3Byb2Nlc3NTbG90TXV0YXRpb25zKG11dGF0aW9ucyk7XG4gICAgdGhpcy5mbHVzaCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7QXJyYXk8TXV0YXRpb25SZWNvcmQ+fSBtdXRhdGlvbnMgTXV0YXRpb25zIHNpZ25hbGVkIGJ5IHRoZSBtdXRhdGlvbiBvYnNlcnZlclxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3Byb2Nlc3NTbG90TXV0YXRpb25zKG11dGF0aW9ucykge1xuICAgIGlmIChtdXRhdGlvbnMpIHtcbiAgICAgIGZvciAobGV0IGk9MDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgbXV0YXRpb24gPSBtdXRhdGlvbnNbaV07XG4gICAgICAgIGlmIChtdXRhdGlvbi5hZGRlZE5vZGVzKSB7XG4gICAgICAgICAgdGhpcy5fbGlzdGVuU2xvdHMobXV0YXRpb24uYWRkZWROb2Rlcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG11dGF0aW9uLnJlbW92ZWROb2Rlcykge1xuICAgICAgICAgIHRoaXMuX3VubGlzdGVuU2xvdHMobXV0YXRpb24ucmVtb3ZlZE5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGbHVzaGVzIHRoZSBvYnNlcnZlciBjYXVzaW5nIGFueSBwZW5kaW5nIGNoYW5nZXMgdG8gYmUgaW1tZWRpYXRlbHlcbiAgICogZGVsaXZlcmVkIHRoZSBvYnNlcnZlciBjYWxsYmFjay4gQnkgZGVmYXVsdCB0aGVzZSBjaGFuZ2VzIGFyZSBkZWxpdmVyZWRcbiAgICogYXN5bmNocm9ub3VzbHkgYXQgdGhlIG5leHQgbWljcm90YXNrIGNoZWNrcG9pbnQuXG4gICAqXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhbnkgcGVuZGluZyBjaGFuZ2VzIGNhdXNlZCB0aGUgb2JzZXJ2ZXJcbiAgICogY2FsbGJhY2sgdG8gcnVuLlxuICAgKi9cbiAgZmx1c2goKSB7XG4gICAgaWYgKCF0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHdpbmRvdy5TaGFkeURPTSkge1xuICAgICAgU2hhZHlET00uZmx1c2goKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuX3Byb2Nlc3NTbG90TXV0YXRpb25zKHRoaXMuX25hdGl2ZUNoaWxkcmVuT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9zaGFkeUNoaWxkcmVuT2JzZXJ2ZXIpIHtcbiAgICAgIHRoaXMuX3Byb2Nlc3NTbG90TXV0YXRpb25zKHRoaXMuX3NoYWR5Q2hpbGRyZW5PYnNlcnZlci50YWtlUmVjb3JkcygpKTtcbiAgICB9XG4gICAgdGhpcy5fc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgbGV0IGluZm8gPSB7XG4gICAgICB0YXJnZXQ6IHRoaXMuX3RhcmdldCxcbiAgICAgIGFkZGVkTm9kZXM6IFtdLFxuICAgICAgcmVtb3ZlZE5vZGVzOiBbXVxuICAgIH07XG4gICAgbGV0IG5ld05vZGVzID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXRGbGF0dGVuZWROb2Rlcyh0aGlzLl90YXJnZXQpO1xuICAgIGxldCBzcGxpY2VzID0gY2FsY3VsYXRlU3BsaWNlcyhuZXdOb2RlcyxcbiAgICAgIHRoaXMuX2VmZmVjdGl2ZU5vZGVzKTtcbiAgICAvLyBwcm9jZXNzIHJlbW92YWxzXG4gICAgZm9yIChsZXQgaT0wLCBzOyAoaTxzcGxpY2VzLmxlbmd0aCkgJiYgKHM9c3BsaWNlc1tpXSk7IGkrKykge1xuICAgICAgZm9yIChsZXQgaj0wLCBuOyAoaiA8IHMucmVtb3ZlZC5sZW5ndGgpICYmIChuPXMucmVtb3ZlZFtqXSk7IGorKykge1xuICAgICAgICBpbmZvLnJlbW92ZWROb2Rlcy5wdXNoKG4pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBwcm9jZXNzIGFkZHNcbiAgICBmb3IgKGxldCBpPTAsIHM7IChpPHNwbGljZXMubGVuZ3RoKSAmJiAocz1zcGxpY2VzW2ldKTsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqPXMuaW5kZXg7IGogPCBzLmluZGV4ICsgcy5hZGRlZENvdW50OyBqKyspIHtcbiAgICAgICAgaW5mby5hZGRlZE5vZGVzLnB1c2gobmV3Tm9kZXNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB1cGRhdGUgY2FjaGVcbiAgICB0aGlzLl9lZmZlY3RpdmVOb2RlcyA9IG5ld05vZGVzO1xuICAgIGxldCBkaWRGbHVzaCA9IGZhbHNlO1xuICAgIGlmIChpbmZvLmFkZGVkTm9kZXMubGVuZ3RoIHx8IGluZm8ucmVtb3ZlZE5vZGVzLmxlbmd0aCkge1xuICAgICAgZGlkRmx1c2ggPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMuX3RhcmdldCwgaW5mbyk7XG4gICAgfVxuICAgIHJldHVybiBkaWRGbHVzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFBcnJheTwhTm9kZT58IU5vZGVMaXN0PCFOb2RlPn0gbm9kZUxpc3QgTm9kZXMgdGhhdCBjb3VsZCBjaGFuZ2VcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9saXN0ZW5TbG90cyhub2RlTGlzdCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IG5vZGVMaXN0W2ldO1xuICAgICAgaWYgKGlzU2xvdChuKSkge1xuICAgICAgICBuLmFkZEV2ZW50TGlzdGVuZXIoJ3Nsb3RjaGFuZ2UnLCB0aGlzLl9ib3VuZFNjaGVkdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHshQXJyYXk8IU5vZGU+fCFOb2RlTGlzdDwhTm9kZT59IG5vZGVMaXN0IE5vZGVzIHRoYXQgY291bGQgY2hhbmdlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdW5saXN0ZW5TbG90cyhub2RlTGlzdCkge1xuICAgIGZvciAobGV0IGk9MDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IG5vZGVMaXN0W2ldO1xuICAgICAgaWYgKGlzU2xvdChuKSkge1xuICAgICAgICBuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Nsb3RjaGFuZ2UnLCB0aGlzLl9ib3VuZFNjaGVkdWxlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTsiLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKlxuRXh0cmVtZWx5IHNpbXBsZSBjc3MgcGFyc2VyLiBJbnRlbmRlZCB0byBiZSBub3QgbW9yZSB0aGFuIHdoYXQgd2UgbmVlZFxuYW5kIGRlZmluaXRlbHkgbm90IG5lY2Vzc2FyaWx5IGNvcnJlY3QgPSkuXG4qL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKiBAdW5yZXN0cmljdGVkICovXG5jbGFzcyBTdHlsZU5vZGUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB0aGlzWydzdGFydCddID0gMDtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB0aGlzWydlbmQnXSA9IDA7XG4gICAgLyoqIEB0eXBlIHtTdHlsZU5vZGV9ICovXG4gICAgdGhpc1sncHJldmlvdXMnXSA9IG51bGw7XG4gICAgLyoqIEB0eXBlIHtTdHlsZU5vZGV9ICovXG4gICAgdGhpc1sncGFyZW50J10gPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7QXJyYXk8U3R5bGVOb2RlPn0gKi9cbiAgICB0aGlzWydydWxlcyddID0gbnVsbDtcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydwYXJzZWRDc3NUZXh0J10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydjc3NUZXh0J10gPSAnJztcbiAgICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gICAgdGhpc1snYXRSdWxlJ10gPSBmYWxzZTtcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB0aGlzWyd0eXBlJ10gPSAwO1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXNbJ2tleWZyYW1lc05hbWUnXSA9ICcnO1xuICAgIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICAgIHRoaXNbJ3NlbGVjdG9yJ10gPSAnJztcbiAgICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgICB0aGlzWydwYXJzZWRTZWxlY3RvciddID0gJyc7XG4gIH1cbn1cblxuZXhwb3J0IHtTdHlsZU5vZGV9XG5cbi8vIGdpdmVuIGEgc3RyaW5nIG9mIGNzcywgcmV0dXJuIGEgc2ltcGxlIHJ1bGUgdHJlZVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHJldHVybiB7U3R5bGVOb2RlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2UodGV4dCkge1xuICB0ZXh0ID0gY2xlYW4odGV4dCk7XG4gIHJldHVybiBwYXJzZUNzcyhsZXgodGV4dCksIHRleHQpO1xufVxuXG4vLyByZW1vdmUgc3R1ZmYgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGF0IG1heSBoaW5kZXIgcGFyc2luZ1xuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiBjbGVhbihjc3NUZXh0KSB7XG4gIHJldHVybiBjc3NUZXh0LnJlcGxhY2UoUlguY29tbWVudHMsICcnKS5yZXBsYWNlKFJYLnBvcnQsICcnKTtcbn1cblxuLy8gc3VwZXIgc2ltcGxlIHsuLi59IGxleGVyIHRoYXQgcmV0dXJucyBhIG5vZGUgdHJlZVxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHJldHVybiB7U3R5bGVOb2RlfVxuICovXG5mdW5jdGlvbiBsZXgodGV4dCkge1xuICBsZXQgcm9vdCA9IG5ldyBTdHlsZU5vZGUoKTtcbiAgcm9vdFsnc3RhcnQnXSA9IDA7XG4gIHJvb3RbJ2VuZCddID0gdGV4dC5sZW5ndGhcbiAgbGV0IG4gPSByb290O1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHRleHRbaV0gPT09IE9QRU5fQlJBQ0UpIHtcbiAgICAgIGlmICghblsncnVsZXMnXSkge1xuICAgICAgICBuWydydWxlcyddID0gW107XG4gICAgICB9XG4gICAgICBsZXQgcCA9IG47XG4gICAgICBsZXQgcHJldmlvdXMgPSBwWydydWxlcyddW3BbJ3J1bGVzJ10ubGVuZ3RoIC0gMV0gfHwgbnVsbDtcbiAgICAgIG4gPSBuZXcgU3R5bGVOb2RlKCk7XG4gICAgICBuWydzdGFydCddID0gaSArIDE7XG4gICAgICBuWydwYXJlbnQnXSA9IHA7XG4gICAgICBuWydwcmV2aW91cyddID0gcHJldmlvdXM7XG4gICAgICBwWydydWxlcyddLnB1c2gobik7XG4gICAgfSBlbHNlIGlmICh0ZXh0W2ldID09PSBDTE9TRV9CUkFDRSkge1xuICAgICAgblsnZW5kJ10gPSBpICsgMTtcbiAgICAgIG4gPSBuWydwYXJlbnQnXSB8fCByb290O1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdDtcbn1cblxuLy8gYWRkIHNlbGVjdG9ycy9jc3NUZXh0IHRvIG5vZGUgdHJlZVxuLyoqXG4gKiBAcGFyYW0ge1N0eWxlTm9kZX0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IHRleHRcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZnVuY3Rpb24gcGFyc2VDc3Mobm9kZSwgdGV4dCkge1xuICBsZXQgdCA9IHRleHQuc3Vic3RyaW5nKG5vZGVbJ3N0YXJ0J10sIG5vZGVbJ2VuZCddIC0gMSk7XG4gIG5vZGVbJ3BhcnNlZENzc1RleHQnXSA9IG5vZGVbJ2Nzc1RleHQnXSA9IHQudHJpbSgpO1xuICBpZiAobm9kZVsncGFyZW50J10pIHtcbiAgICBsZXQgc3MgPSBub2RlWydwcmV2aW91cyddID8gbm9kZVsncHJldmlvdXMnXVsnZW5kJ10gOiBub2RlWydwYXJlbnQnXVsnc3RhcnQnXTtcbiAgICB0ID0gdGV4dC5zdWJzdHJpbmcoc3MsIG5vZGVbJ3N0YXJ0J10gLSAxKTtcbiAgICB0ID0gX2V4cGFuZFVuaWNvZGVFc2NhcGVzKHQpO1xuICAgIHQgPSB0LnJlcGxhY2UoUlgubXVsdGlwbGVTcGFjZXMsICcgJyk7XG4gICAgLy8gVE9ETyhzb3J2ZWxsKTogYWQgaG9jOyBtYWtlIHNlbGVjdG9yIGluY2x1ZGUgb25seSBhZnRlciBsYXN0IDtcbiAgICAvLyBoZWxwcyB3aXRoIG1peGluIHN5bnRheFxuICAgIHQgPSB0LnN1YnN0cmluZyh0Lmxhc3RJbmRleE9mKCc7JykgKyAxKTtcbiAgICBsZXQgcyA9IG5vZGVbJ3BhcnNlZFNlbGVjdG9yJ10gPSBub2RlWydzZWxlY3RvciddID0gdC50cmltKCk7XG4gICAgbm9kZVsnYXRSdWxlJ10gPSAocy5pbmRleE9mKEFUX1NUQVJUKSA9PT0gMCk7XG4gICAgLy8gbm90ZSwgc3VwcG9ydCBhIHN1YnNldCBvZiBydWxlIHR5cGVzLi4uXG4gICAgaWYgKG5vZGVbJ2F0UnVsZSddKSB7XG4gICAgICBpZiAocy5pbmRleE9mKE1FRElBX1NUQVJUKSA9PT0gMCkge1xuICAgICAgICBub2RlWyd0eXBlJ10gPSB0eXBlcy5NRURJQV9SVUxFO1xuICAgICAgfSBlbHNlIGlmIChzLm1hdGNoKFJYLmtleWZyYW1lc1J1bGUpKSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLktFWUZSQU1FU19SVUxFO1xuICAgICAgICBub2RlWydrZXlmcmFtZXNOYW1lJ10gPVxuICAgICAgICAgIG5vZGVbJ3NlbGVjdG9yJ10uc3BsaXQoUlgubXVsdGlwbGVTcGFjZXMpLnBvcCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocy5pbmRleE9mKFZBUl9TVEFSVCkgPT09IDApIHtcbiAgICAgICAgbm9kZVsndHlwZSddID0gdHlwZXMuTUlYSU5fUlVMRTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVbJ3R5cGUnXSA9IHR5cGVzLlNUWUxFX1JVTEU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gIGlmIChyJCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gciQubGVuZ3RoLCByO1xuICAgICAgKGkgPCBsKSAmJiAociA9IHIkW2ldKTsgaSsrKSB7XG4gICAgICBwYXJzZUNzcyhyLCB0ZXh0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogY29udmVyc2lvbiBvZiBzb3J0IHVuaWNvZGUgZXNjYXBlcyB3aXRoIHNwYWNlcyBsaWtlIGBcXDMzIGAgKGFuZCBsb25nZXIpIGludG9cbiAqIGV4cGFuZGVkIGZvcm0gdGhhdCBkb2Vzbid0IHJlcXVpcmUgdHJhaWxpbmcgc3BhY2UgYFxcMDAwMDMzYFxuICogQHBhcmFtIHtzdHJpbmd9IHNcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gX2V4cGFuZFVuaWNvZGVFc2NhcGVzKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFxcXChbMC05YS1mXXsxLDZ9KVxccy9naSwgZnVuY3Rpb24oKSB7XG4gICAgbGV0IGNvZGUgPSBhcmd1bWVudHNbMV0sXG4gICAgICByZXBlYXQgPSA2IC0gY29kZS5sZW5ndGg7XG4gICAgd2hpbGUgKHJlcGVhdC0tKSB7XG4gICAgICBjb2RlID0gJzAnICsgY29kZTtcbiAgICB9XG4gICAgcmV0dXJuICdcXFxcJyArIGNvZGU7XG4gIH0pO1xufVxuXG4vKipcbiAqIHN0cmluZ2lmeSBwYXJzZWQgY3NzLlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHByZXNlcnZlUHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9fSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkobm9kZSwgcHJlc2VydmVQcm9wZXJ0aWVzLCB0ZXh0ID0gJycpIHtcbiAgLy8gY2FsYyBydWxlIGNzc1RleHRcbiAgbGV0IGNzc1RleHQgPSAnJztcbiAgaWYgKG5vZGVbJ2Nzc1RleHQnXSB8fCBub2RlWydydWxlcyddKSB7XG4gICAgbGV0IHIkID0gbm9kZVsncnVsZXMnXTtcbiAgICBpZiAociQgJiYgIV9oYXNNaXhpblJ1bGVzKHIkKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSByJC5sZW5ndGgsIHI7XG4gICAgICAgIChpIDwgbCkgJiYgKHIgPSByJFtpXSk7IGkrKykge1xuICAgICAgICBjc3NUZXh0ID0gc3RyaW5naWZ5KHIsIHByZXNlcnZlUHJvcGVydGllcywgY3NzVGV4dCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc1RleHQgPSBwcmVzZXJ2ZVByb3BlcnRpZXMgPyBub2RlWydjc3NUZXh0J10gOlxuICAgICAgICByZW1vdmVDdXN0b21Qcm9wcyhub2RlWydjc3NUZXh0J10pO1xuICAgICAgY3NzVGV4dCA9IGNzc1RleHQudHJpbSgpO1xuICAgICAgaWYgKGNzc1RleHQpIHtcbiAgICAgICAgY3NzVGV4dCA9ICcgICcgKyBjc3NUZXh0ICsgJ1xcbic7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8vIGVtaXQgcnVsZSBpZiB0aGVyZSBpcyBjc3NUZXh0XG4gIGlmIChjc3NUZXh0KSB7XG4gICAgaWYgKG5vZGVbJ3NlbGVjdG9yJ10pIHtcbiAgICAgIHRleHQgKz0gbm9kZVsnc2VsZWN0b3InXSArICcgJyArIE9QRU5fQlJBQ0UgKyAnXFxuJztcbiAgICB9XG4gICAgdGV4dCArPSBjc3NUZXh0O1xuICAgIGlmIChub2RlWydzZWxlY3RvciddKSB7XG4gICAgICB0ZXh0ICs9IENMT1NFX0JSQUNFICsgJ1xcblxcbic7XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZXh0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8U3R5bGVOb2RlPn0gcnVsZXNcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIF9oYXNNaXhpblJ1bGVzKHJ1bGVzKSB7XG4gIGxldCByID0gcnVsZXNbMF07XG4gIHJldHVybiBCb29sZWFuKHIpICYmIEJvb2xlYW4oclsnc2VsZWN0b3InXSkgJiYgclsnc2VsZWN0b3InXS5pbmRleE9mKFZBUl9TVEFSVCkgPT09IDA7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQ3VzdG9tUHJvcHMoY3NzVGV4dCkge1xuICBjc3NUZXh0ID0gcmVtb3ZlQ3VzdG9tUHJvcEFzc2lnbm1lbnQoY3NzVGV4dCk7XG4gIHJldHVybiByZW1vdmVDdXN0b21Qcm9wQXBwbHkoY3NzVGV4dCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUN1c3RvbVByb3BBc3NpZ25tZW50KGNzc1RleHQpIHtcbiAgcmV0dXJuIGNzc1RleHRcbiAgICAucmVwbGFjZShSWC5jdXN0b21Qcm9wLCAnJylcbiAgICAucmVwbGFjZShSWC5taXhpblByb3AsICcnKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5mdW5jdGlvbiByZW1vdmVDdXN0b21Qcm9wQXBwbHkoY3NzVGV4dCkge1xuICByZXR1cm4gY3NzVGV4dFxuICAgIC5yZXBsYWNlKFJYLm1peGluQXBwbHksICcnKVxuICAgIC5yZXBsYWNlKFJYLnZhckFwcGx5LCAnJyk7XG59XG5cbi8qKiBAZW51bSB7bnVtYmVyfSAqL1xuZXhwb3J0IGNvbnN0IHR5cGVzID0ge1xuICBTVFlMRV9SVUxFOiAxLFxuICBLRVlGUkFNRVNfUlVMRTogNyxcbiAgTUVESUFfUlVMRTogNCxcbiAgTUlYSU5fUlVMRTogMTAwMFxufVxuXG5jb25zdCBPUEVOX0JSQUNFID0gJ3snO1xuY29uc3QgQ0xPU0VfQlJBQ0UgPSAnfSc7XG5cbi8vIGhlbHBlciByZWdleHAnc1xuY29uc3QgUlggPSB7XG4gIGNvbW1lbnRzOiAvXFwvXFwqW14qXSpcXCorKFteLypdW14qXSpcXCorKSpcXC8vZ2ltLFxuICBwb3J0OiAvQGltcG9ydFteO10qOy9naW0sXG4gIGN1c3RvbVByb3A6IC8oPzpeW147XFwtXFxzfV0rKT8tLVteO3t9XSo/Oltee307XSo/KD86WztcXG5dfCQpL2dpbSxcbiAgbWl4aW5Qcm9wOiAvKD86XlteO1xcLVxcc31dKyk/LS1bXjt7fV0qPzpbXnt9O10qP3tbXn1dKj99KD86WztcXG5dfCQpPy9naW0sXG4gIG1peGluQXBwbHk6IC9AYXBwbHlcXHMqXFwoP1teKTtdKlxcKT9cXHMqKD86WztcXG5dfCQpPy9naW0sXG4gIHZhckFwcGx5OiAvW147Ol0qPzpbXjtdKj92YXJcXChbXjtdKlxcKSg/Ols7XFxuXXwkKT8vZ2ltLFxuICBrZXlmcmFtZXNSdWxlOiAvXkBbXlxcc10qa2V5ZnJhbWVzLyxcbiAgbXVsdGlwbGVTcGFjZXM6IC9cXHMrL2dcbn1cblxuY29uc3QgVkFSX1NUQVJUID0gJy0tJztcbmNvbnN0IE1FRElBX1NUQVJUID0gJ0BtZWRpYSc7XG5jb25zdCBBVF9TVEFSVCA9ICdAJztcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqIEB0eXBlIHshU2V0PHN0cmluZz59ICovXG5jb25zdCBzdHlsZVRleHRTZXQgPSBuZXcgU2V0KCk7XG5cbmV4cG9ydCBjb25zdCBzY29waW5nQXR0cmlidXRlID0gJ3NoYWR5LXVuc2NvcGVkJztcblxuLyoqXG4gKiBBZGQgYSBzcGVjaWZpY2FsbHktbWFya2VkIHN0eWxlIHRvIHRoZSBkb2N1bWVudCBkaXJlY3RseSwgYW5kIG9ubHkgb25lIGNvcHkgb2YgdGhhdCBzdHlsZS5cbiAqXG4gKiBAcGFyYW0geyFIVE1MU3R5bGVFbGVtZW50fSBzdHlsZVxuICogQHJldHVybiB7dW5kZWZpbmVkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc1Vuc2NvcGVkU3R5bGUoc3R5bGUpIHtcbiAgY29uc3QgdGV4dCA9IHN0eWxlLnRleHRDb250ZW50O1xuICBpZiAoIXN0eWxlVGV4dFNldC5oYXModGV4dCkpIHtcbiAgICBzdHlsZVRleHRTZXQuYWRkKHRleHQpO1xuICAgIGNvbnN0IG5ld1N0eWxlID0gc3R5bGUuY2xvbmVOb2RlKHRydWUpO1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobmV3U3R5bGUpO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBzdHlsZSBpcyBzdXBwb3NlZCB0byBiZSB1bnNjb3BlZFxuICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHRydWUgaWYgdGhlIHN0eWxlIGhhcyB0aGUgdW5zY29waW5nIGF0dHJpYnV0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVbnNjb3BlZFN0eWxlKHN0eWxlKSB7XG4gIHJldHVybiBzdHlsZS5oYXNBdHRyaWJ1dGUoc2NvcGluZ0F0dHJpYnV0ZSk7XG59IiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge25hdGl2ZVNoYWRvdywgbmF0aXZlQ3NzVmFyaWFibGVzLCBjc3NCdWlsZH0gZnJvbSAnLi9zdHlsZS1zZXR0aW5ncy5qcyc7XG5pbXBvcnQge3BhcnNlLCBzdHJpbmdpZnksIHR5cGVzLCBTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHtNRURJQV9NQVRDSH0gZnJvbSAnLi9jb21tb24tcmVnZXguanMnO1xuaW1wb3J0IHtwcm9jZXNzVW5zY29wZWRTdHlsZSwgaXNVbnNjb3BlZFN0eWxlfSBmcm9tICcuL3Vuc2NvcGVkLXN0eWxlLWhhbmRsZXIuanMnO1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfFN0eWxlTm9kZX0gcnVsZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oU3R5bGVOb2RlKT19IGNhbGxiYWNrXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Nzc1RleHQgKHJ1bGVzLCBjYWxsYmFjaykge1xuICBpZiAoIXJ1bGVzKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIGlmICh0eXBlb2YgcnVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgcnVsZXMgPSBwYXJzZShydWxlcyk7XG4gIH1cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgZm9yRWFjaFJ1bGUocnVsZXMsIGNhbGxiYWNrKTtcbiAgfVxuICByZXR1cm4gc3RyaW5naWZ5KHJ1bGVzLCBuYXRpdmVDc3NWYXJpYWJsZXMpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEByZXR1cm4ge1N0eWxlTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bGVzRm9yU3R5bGUoc3R5bGUpIHtcbiAgaWYgKCFzdHlsZVsnX19jc3NSdWxlcyddICYmIHN0eWxlLnRleHRDb250ZW50KSB7XG4gICAgc3R5bGVbJ19fY3NzUnVsZXMnXSA9IHBhcnNlKHN0eWxlLnRleHRDb250ZW50KTtcbiAgfVxuICByZXR1cm4gc3R5bGVbJ19fY3NzUnVsZXMnXSB8fCBudWxsO1xufVxuXG4vLyBUZXN0cyBpZiBhIHJ1bGUgaXMgYSBrZXlmcmFtZXMgc2VsZWN0b3IsIHdoaWNoIGxvb2tzIGFsbW9zdCBleGFjdGx5XG4vLyBsaWtlIGEgbm9ybWFsIHNlbGVjdG9yIGJ1dCBpcyBub3QgKGl0IGhhcyBub3RoaW5nIHRvIGRvIHdpdGggc2NvcGluZ1xuLy8gZm9yIGV4YW1wbGUpLlxuLyoqXG4gKiBAcGFyYW0ge1N0eWxlTm9kZX0gcnVsZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzS2V5ZnJhbWVzU2VsZWN0b3IocnVsZSkge1xuICByZXR1cm4gQm9vbGVhbihydWxlWydwYXJlbnQnXSkgJiZcbiAgcnVsZVsncGFyZW50J11bJ3R5cGUnXSA9PT0gdHlwZXMuS0VZRlJBTUVTX1JVTEU7XG59XG5cbi8qKlxuICogQHBhcmFtIHtTdHlsZU5vZGV9IG5vZGVcbiAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdHlsZVJ1bGVDYWxsYmFja1xuICogQHBhcmFtIHtGdW5jdGlvbj19IGtleWZyYW1lc1J1bGVDYWxsYmFja1xuICogQHBhcmFtIHtib29sZWFuPX0gb25seUFjdGl2ZVJ1bGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmb3JFYWNoUnVsZShub2RlLCBzdHlsZVJ1bGVDYWxsYmFjaywga2V5ZnJhbWVzUnVsZUNhbGxiYWNrLCBvbmx5QWN0aXZlUnVsZXMpIHtcbiAgaWYgKCFub2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBza2lwUnVsZXMgPSBmYWxzZTtcbiAgbGV0IHR5cGUgPSBub2RlWyd0eXBlJ107XG4gIGlmIChvbmx5QWN0aXZlUnVsZXMpIHtcbiAgICBpZiAodHlwZSA9PT0gdHlwZXMuTUVESUFfUlVMRSkge1xuICAgICAgbGV0IG1hdGNoTWVkaWEgPSBub2RlWydzZWxlY3RvciddLm1hdGNoKE1FRElBX01BVENIKTtcbiAgICAgIGlmIChtYXRjaE1lZGlhKSB7XG4gICAgICAgIC8vIGlmIHJ1bGUgaXMgYSBub24gbWF0Y2hpbmcgQG1lZGlhIHJ1bGUsIHNraXAgc3VicnVsZXNcbiAgICAgICAgaWYgKCF3aW5kb3cubWF0Y2hNZWRpYShtYXRjaE1lZGlhWzFdKS5tYXRjaGVzKSB7XG4gICAgICAgICAgc2tpcFJ1bGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAodHlwZSA9PT0gdHlwZXMuU1RZTEVfUlVMRSkge1xuICAgIHN0eWxlUnVsZUNhbGxiYWNrKG5vZGUpO1xuICB9IGVsc2UgaWYgKGtleWZyYW1lc1J1bGVDYWxsYmFjayAmJlxuICAgIHR5cGUgPT09IHR5cGVzLktFWUZSQU1FU19SVUxFKSB7XG4gICAga2V5ZnJhbWVzUnVsZUNhbGxiYWNrKG5vZGUpO1xuICB9IGVsc2UgaWYgKHR5cGUgPT09IHR5cGVzLk1JWElOX1JVTEUpIHtcbiAgICBza2lwUnVsZXMgPSB0cnVlO1xuICB9XG4gIGxldCByJCA9IG5vZGVbJ3J1bGVzJ107XG4gIGlmIChyJCAmJiAhc2tpcFJ1bGVzKSB7XG4gICAgZm9yIChsZXQgaT0wLCBsPXIkLmxlbmd0aCwgcjsgKGk8bCkgJiYgKHI9ciRbaV0pOyBpKyspIHtcbiAgICAgIGZvckVhY2hSdWxlKHIsIHN0eWxlUnVsZUNhbGxiYWNrLCBrZXlmcmFtZXNSdWxlQ2FsbGJhY2ssIG9ubHlBY3RpdmVSdWxlcyk7XG4gICAgfVxuICB9XG59XG5cbi8vIGFkZCBhIHN0cmluZyBvZiBjc3NUZXh0IHRvIHRoZSBkb2N1bWVudC5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pa2VyXG4gKiBAcGFyYW0ge05vZGV9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlfSBjb250ZXh0Tm9kZVxuICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5Q3NzKGNzc1RleHQsIG1vbmlrZXIsIHRhcmdldCwgY29udGV4dE5vZGUpIHtcbiAgbGV0IHN0eWxlID0gY3JlYXRlU2NvcGVTdHlsZShjc3NUZXh0LCBtb25pa2VyKTtcbiAgYXBwbHlTdHlsZShzdHlsZSwgdGFyZ2V0LCBjb250ZXh0Tm9kZSk7XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dFxuICogQHBhcmFtIHtzdHJpbmd9IG1vbmlrZXJcbiAqIEByZXR1cm4ge0hUTUxTdHlsZUVsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTY29wZVN0eWxlKGNzc1RleHQsIG1vbmlrZXIpIHtcbiAgbGV0IHN0eWxlID0gLyoqIEB0eXBlIHtIVE1MU3R5bGVFbGVtZW50fSAqLyhkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpKTtcbiAgaWYgKG1vbmlrZXIpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3Njb3BlJywgbW9uaWtlcik7XG4gIH1cbiAgc3R5bGUudGV4dENvbnRlbnQgPSBjc3NUZXh0O1xuICByZXR1cm4gc3R5bGU7XG59XG5cbi8qKlxuICogVHJhY2sgdGhlIHBvc2l0aW9uIG9mIHRoZSBsYXN0IGFkZGVkIHN0eWxlIGZvciBwbGFjaW5nIHBsYWNlaG9sZGVyc1xuICogQHR5cGUge05vZGV9XG4gKi9cbmxldCBsYXN0SGVhZEFwcGx5Tm9kZSA9IG51bGw7XG5cbi8vIGluc2VydCBhIGNvbW1lbnQgbm9kZSBhcyBhIHN0eWxpbmcgcG9zaXRpb24gcGxhY2Vob2xkZXIuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBtb25pa2VyXG4gKiBAcmV0dXJuIHshQ29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3R5bGVQbGFjZUhvbGRlcihtb25pa2VyKSB7XG4gIGxldCBwbGFjZUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJyBTaGFkeSBET00gc3R5bGVzIGZvciAnICtcbiAgICBtb25pa2VyICsgJyAnKTtcbiAgbGV0IGFmdGVyID0gbGFzdEhlYWRBcHBseU5vZGUgP1xuICAgIGxhc3RIZWFkQXBwbHlOb2RlWyduZXh0U2libGluZyddIDogbnVsbDtcbiAgbGV0IHNjb3BlID0gZG9jdW1lbnQuaGVhZDtcbiAgc2NvcGUuaW5zZXJ0QmVmb3JlKHBsYWNlSG9sZGVyLCBhZnRlciB8fCBzY29wZS5maXJzdENoaWxkKTtcbiAgbGFzdEhlYWRBcHBseU5vZGUgPSBwbGFjZUhvbGRlcjtcbiAgcmV0dXJuIHBsYWNlSG9sZGVyO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAqIEBwYXJhbSB7P05vZGV9IHRhcmdldFxuICogQHBhcmFtIHs/Tm9kZX0gY29udGV4dE5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3R5bGUoc3R5bGUsIHRhcmdldCwgY29udGV4dE5vZGUpIHtcbiAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGRvY3VtZW50LmhlYWQ7XG4gIGxldCBhZnRlciA9IChjb250ZXh0Tm9kZSAmJiBjb250ZXh0Tm9kZS5uZXh0U2libGluZykgfHxcbiAgICB0YXJnZXQuZmlyc3RDaGlsZDtcbiAgdGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgYWZ0ZXIpO1xuICBpZiAoIWxhc3RIZWFkQXBwbHlOb2RlKSB7XG4gICAgbGFzdEhlYWRBcHBseU5vZGUgPSBzdHlsZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBvbmx5IHVwZGF0ZSBsYXN0SGVhZEFwcGx5Tm9kZSBpZiB0aGUgbmV3IHN0eWxlIGlzIGluc2VydGVkIGFmdGVyIHRoZSBvbGQgbGFzdEhlYWRBcHBseU5vZGVcbiAgICBsZXQgcG9zaXRpb24gPSBzdHlsZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihsYXN0SGVhZEFwcGx5Tm9kZSk7XG4gICAgaWYgKHBvc2l0aW9uID09PSBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORykge1xuICAgICAgbGFzdEhlYWRBcHBseU5vZGUgPSBzdHlsZTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVpbGRUeXBlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUYXJnZXRlZEJ1aWxkKGJ1aWxkVHlwZSkge1xuICByZXR1cm4gbmF0aXZlU2hhZG93ID8gYnVpbGRUeXBlID09PSAnc2hhZG93JyA6IGJ1aWxkVHlwZSA9PT0gJ3NoYWR5Jztcbn1cblxuLyoqXG4gKiBXYWxrIGZyb20gdGV4dFtzdGFydF0gbWF0Y2hpbmcgcGFyZW5zIGFuZFxuICogcmV0dXJucyBwb3NpdGlvbiBvZiB0aGUgb3V0ZXIgZW5kIHBhcmVuXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0XG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTWF0Y2hpbmdQYXJlbih0ZXh0LCBzdGFydCkge1xuICBsZXQgbGV2ZWwgPSAwO1xuICBmb3IgKGxldCBpPXN0YXJ0LCBsPXRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKHRleHRbaV0gPT09ICcoJykge1xuICAgICAgbGV2ZWwrKztcbiAgICB9IGVsc2UgaWYgKHRleHRbaV0gPT09ICcpJykge1xuICAgICAgaWYgKC0tbGV2ZWwgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZywgc3RyaW5nLCBzdHJpbmcsIHN0cmluZyl9IGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzVmFyaWFibGVBbmRGYWxsYmFjayhzdHIsIGNhbGxiYWNrKSB7XG4gIC8vIGZpbmQgJ3ZhcignXG4gIGxldCBzdGFydCA9IHN0ci5pbmRleE9mKCd2YXIoJyk7XG4gIGlmIChzdGFydCA9PT0gLTEpIHtcbiAgICAvLyBubyB2YXI/LCBldmVyeXRoaW5nIGlzIHByZWZpeFxuICAgIHJldHVybiBjYWxsYmFjayhzdHIsICcnLCAnJywgJycpO1xuICB9XG4gIC8vJHtwcmVmaXh9dmFyKCR7aW5uZXJ9KSR7c3VmZml4fVxuICBsZXQgZW5kID0gZmluZE1hdGNoaW5nUGFyZW4oc3RyLCBzdGFydCArIDMpO1xuICBsZXQgaW5uZXIgPSBzdHIuc3Vic3RyaW5nKHN0YXJ0ICsgNCwgZW5kKTtcbiAgbGV0IHByZWZpeCA9IHN0ci5zdWJzdHJpbmcoMCwgc3RhcnQpO1xuICAvLyBzdWZmaXggbWF5IGhhdmUgb3RoZXIgdmFyaWFibGVzXG4gIGxldCBzdWZmaXggPSBwcm9jZXNzVmFyaWFibGVBbmRGYWxsYmFjayhzdHIuc3Vic3RyaW5nKGVuZCArIDEpLCBjYWxsYmFjayk7XG4gIGxldCBjb21tYSA9IGlubmVyLmluZGV4T2YoJywnKTtcbiAgLy8gdmFsdWUgYW5kIGZhbGxiYWNrIGFyZ3Mgc2hvdWxkIGJlIHRyaW1tZWQgdG8gbWF0Y2ggaW4gcHJvcGVydHkgbG9va3VwXG4gIGlmIChjb21tYSA9PT0gLTEpIHtcbiAgICAvLyB2YXJpYWJsZSwgbm8gZmFsbGJhY2tcbiAgICByZXR1cm4gY2FsbGJhY2socHJlZml4LCBpbm5lci50cmltKCksICcnLCBzdWZmaXgpO1xuICB9XG4gIC8vIHZhcigke3ZhbHVlfSwke2ZhbGxiYWNrfSlcbiAgbGV0IHZhbHVlID0gaW5uZXIuc3Vic3RyaW5nKDAsIGNvbW1hKS50cmltKCk7XG4gIGxldCBmYWxsYmFjayA9IGlubmVyLnN1YnN0cmluZyhjb21tYSArIDEpLnRyaW0oKTtcbiAgcmV0dXJuIGNhbGxiYWNrKHByZWZpeCwgdmFsdWUsIGZhbGxiYWNrLCBzdWZmaXgpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFbGVtZW50Q2xhc3NSYXcoZWxlbWVudCwgdmFsdWUpIHtcbiAgLy8gdXNlIG5hdGl2ZSBzZXRBdHRyaWJ1dGUgcHJvdmlkZWQgYnkgU2hhZHlET00gd2hlbiBzZXRBdHRyaWJ1dGUgaXMgcGF0Y2hlZFxuICBpZiAobmF0aXZlU2hhZG93KSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHdpbmRvd1snU2hhZHlET00nXVsnbmF0aXZlTWV0aG9kcyddWydzZXRBdHRyaWJ1dGUnXS5jYWxsKGVsZW1lbnQsICdjbGFzcycsIHZhbHVlKTtcbiAgfVxufVxuXG4vKipcbiAqIEB0eXBlIHtmdW5jdGlvbigqKToqfVxuICovXG5leHBvcnQgY29uc3Qgd3JhcCA9IHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ3dyYXAnXSB8fCAoKG5vZGUpID0+IG5vZGUpO1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudCB8IHtpczogc3RyaW5nLCBleHRlbmRzOiBzdHJpbmd9fSBlbGVtZW50XG4gKiBAcmV0dXJuIHt7aXM6IHN0cmluZywgdHlwZUV4dGVuc2lvbjogc3RyaW5nfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldElzRXh0ZW5kcyhlbGVtZW50KSB7XG4gIGxldCBsb2NhbE5hbWUgPSBlbGVtZW50Wydsb2NhbE5hbWUnXTtcbiAgbGV0IGlzID0gJycsIHR5cGVFeHRlbnNpb24gPSAnJztcbiAgLypcbiAgTk9URTogdGVjaG5pY2FsbHksIHRoaXMgY2FuIGJlIHdyb25nIGZvciBjZXJ0YWluIHN2ZyBlbGVtZW50c1xuICB3aXRoIGAtYCBpbiB0aGUgbmFtZSBsaWtlIGA8Zm9udC1mYWNlPmBcbiAgKi9cbiAgaWYgKGxvY2FsTmFtZSkge1xuICAgIGlmIChsb2NhbE5hbWUuaW5kZXhPZignLScpID4gLTEpIHtcbiAgICAgIGlzID0gbG9jYWxOYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlRXh0ZW5zaW9uID0gbG9jYWxOYW1lO1xuICAgICAgaXMgPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lzJykpIHx8ICcnO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpcyA9IC8qKiBAdHlwZSB7P30gKi8oZWxlbWVudCkuaXM7XG4gICAgdHlwZUV4dGVuc2lvbiA9IC8qKiBAdHlwZSB7P30gKi8oZWxlbWVudCkuZXh0ZW5kcztcbiAgfVxuICByZXR1cm4ge2lzLCB0eXBlRXh0ZW5zaW9ufTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnRGcmFnbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2F0aGVyU3R5bGVUZXh0KGVsZW1lbnQpIHtcbiAgLyoqIEB0eXBlIHshQXJyYXk8c3RyaW5nPn0gKi9cbiAgY29uc3Qgc3R5bGVUZXh0UGFydHMgPSBbXTtcbiAgY29uc3Qgc3R5bGVzID0gLyoqIEB0eXBlIHshTm9kZUxpc3Q8IUhUTUxTdHlsZUVsZW1lbnQ+fSAqLyhlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlJykpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0eWxlID0gc3R5bGVzW2ldO1xuICAgIGlmIChpc1Vuc2NvcGVkU3R5bGUoc3R5bGUpKSB7XG4gICAgICBpZiAoIW5hdGl2ZVNoYWRvdykge1xuICAgICAgICBwcm9jZXNzVW5zY29wZWRTdHlsZShzdHlsZSk7XG4gICAgICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZVRleHRQYXJ0cy5wdXNoKHN0eWxlLnRleHRDb250ZW50KTtcbiAgICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3R5bGVUZXh0UGFydHMuam9pbignJykudHJpbSgpO1xufVxuXG4vKipcbiAqIFNwbGl0IGEgc2VsZWN0b3Igc2VwYXJhdGVkIGJ5IGNvbW1hcyBpbnRvIGFuIGFycmF5IGluIGEgc21hcnQgd2F5XG4gKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3JcbiAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRTZWxlY3Rvckxpc3Qoc2VsZWN0b3IpIHtcbiAgY29uc3QgcGFydHMgPSBbXTtcbiAgbGV0IHBhcnQgPSAnJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPj0gMCAmJiBpIDwgc2VsZWN0b3IubGVuZ3RoOyBpKyspIHtcbiAgICAvLyBBIHNlbGVjdG9yIHdpdGggcGFyZW50aGVzZXMgd2lsbCBiZSBvbmUgY29tcGxldGUgcGFydFxuICAgIGlmIChzZWxlY3RvcltpXSA9PT0gJygnKSB7XG4gICAgICAvLyBmaW5kIHRoZSBtYXRjaGluZyBwYXJlblxuICAgICAgY29uc3QgZW5kID0gZmluZE1hdGNoaW5nUGFyZW4oc2VsZWN0b3IsIGkpO1xuICAgICAgLy8gcHVzaCB0aGUgcGFyZW4gYmxvY2sgaW50byB0aGUgcGFydFxuICAgICAgcGFydCArPSBzZWxlY3Rvci5zbGljZShpLCBlbmQgKyAxKTtcbiAgICAgIC8vIG1vdmUgdGhlIGluZGV4IHRvIGFmdGVyIHRoZSBwYXJlbiBibG9ja1xuICAgICAgaSA9IGVuZDtcbiAgICB9IGVsc2UgaWYgKHNlbGVjdG9yW2ldID09PSAnLCcpIHtcbiAgICAgIHBhcnRzLnB1c2gocGFydCk7XG4gICAgICBwYXJ0ID0gJyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnQgKz0gc2VsZWN0b3JbaV07XG4gICAgfVxuICB9XG4gIC8vIGNhdGNoIGFueSBwaWVjZXMgYWZ0ZXIgdGhlIGxhc3QgY29tbWFcbiAgaWYgKHBhcnQpIHtcbiAgICBwYXJ0cy5wdXNoKHBhcnQpO1xuICB9XG4gIHJldHVybiBwYXJ0cztcbn1cblxuY29uc3QgQ1NTX0JVSUxEX0FUVFIgPSAnY3NzLWJ1aWxkJztcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHBvbHltZXItY3NzLWJ1aWxkIFwiYnVpbGQgdHlwZVwiIGFwcGxpZWQgdG8gdGhpcyBlbGVtZW50XG4gKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqIEByZXR1cm4ge3N0cmluZ30gQ2FuIGJlIFwiXCIsIFwic2hhZHlcIiwgb3IgXCJzaGFkb3dcIlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3NzQnVpbGQoZWxlbWVudCkge1xuICBpZiAoY3NzQnVpbGQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiAvKiogQHR5cGUge3N0cmluZ30gKi8oY3NzQnVpbGQpO1xuICB9XG4gIGlmIChlbGVtZW50Ll9fY3NzQnVpbGQgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIHRyeSBhdHRyaWJ1dGUgZmlyc3QsIGFzIGl0IGlzIHRoZSBjb21tb24gY2FzZVxuICAgIGNvbnN0IGF0dHJWYWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKENTU19CVUlMRF9BVFRSKTtcbiAgICBpZiAoYXR0clZhbHVlKSB7XG4gICAgICBlbGVtZW50Ll9fY3NzQnVpbGQgPSBhdHRyVmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJ1aWxkQ29tbWVudCA9IGdldEJ1aWxkQ29tbWVudChlbGVtZW50KTtcbiAgICAgIGlmIChidWlsZENvbW1lbnQgIT09ICcnKSB7XG4gICAgICAgIC8vIHJlbW92ZSBidWlsZCBjb21tZW50IHNvIGl0IGlzIG5vdCBuZWVkbGVzc2x5IGNvcGllZCBpbnRvIGV2ZXJ5IGVsZW1lbnQgaW5zdGFuY2VcbiAgICAgICAgcmVtb3ZlQnVpbGRDb21tZW50KGVsZW1lbnQpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5fX2Nzc0J1aWxkID0gYnVpbGRDb21tZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gZWxlbWVudC5fX2Nzc0J1aWxkIHx8ICcnO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBnaXZlbiBlbGVtZW50LCBlaXRoZXIgYSA8dGVtcGxhdGU+IG9yIDxzdHlsZT4sIGhhcyBiZWVuIHByb2Nlc3NlZFxuICogYnkgcG9seW1lci1jc3MtYnVpbGQuXG4gKlxuICogSWYgc28sIHRoZW4gd2UgY2FuIG1ha2UgYSBudW1iZXIgb2Ygb3B0aW1pemF0aW9uczpcbiAqIC0gcG9seW1lci1jc3MtYnVpbGQgd2lsbCBkZWNvbXBvc2UgbWl4aW5zIGludG8gaW5kaXZpZHVhbCBDU1MgQ3VzdG9tIFByb3BlcnRpZXMsXG4gKiBzbyB0aGUgQXBwbHlTaGltIGNhbiBiZSBza2lwcGVkIGVudGlyZWx5LlxuICogLSBVbmRlciBuYXRpdmUgU2hhZG93RE9NLCB0aGUgc3R5bGUgdGV4dCBjYW4ganVzdCBiZSBjb3BpZWQgaW50byBlYWNoIGluc3RhbmNlXG4gKiB3aXRob3V0IG1vZGlmaWNhdGlvblxuICogLSBJZiB0aGUgYnVpbGQgaXMgXCJzaGFkeVwiIGFuZCBTaGFkeURPTSBpcyBpbiB1c2UsIHRoZSBzdHlsaW5nIGRvZXMgbm90IG5lZWRcbiAqIHNjb3BpbmcgYmV5b25kIHRoZSBzaGltbWluZyBvZiBDU1MgQ3VzdG9tIFByb3BlcnRpZXNcbiAqXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRIYXNCdWlsdENzcyhlbGVtZW50KSB7XG4gIHJldHVybiBnZXRDc3NCdWlsZChlbGVtZW50KSAhPT0gJyc7XG59XG5cbi8qKlxuICogRm9yIHRlbXBsYXRlcyBtYWRlIHdpdGggdGFnZ2VkIHRlbXBsYXRlIGxpdGVyYWxzLCBwb2x5bWVyLWNzcy1idWlsZCB3aWxsXG4gKiBpbnNlcnQgYSBjb21tZW50IG9mIHRoZSBmb3JtIGA8IS0tY3NzLWJ1aWxkOnNoYWRvdy0tPmBcbiAqXG4gKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWxlbWVudFxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QnVpbGRDb21tZW50KGVsZW1lbnQpIHtcbiAgY29uc3QgYnVpbGRDb21tZW50ID0gZWxlbWVudC5sb2NhbE5hbWUgPT09ICd0ZW1wbGF0ZScgP1xuICAgICAgLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKGVsZW1lbnQpLmNvbnRlbnQuZmlyc3RDaGlsZCA6XG4gICAgICBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gIGlmIChidWlsZENvbW1lbnQgaW5zdGFuY2VvZiBDb21tZW50KSB7XG4gICAgY29uc3QgY29tbWVudFBhcnRzID0gYnVpbGRDb21tZW50LnRleHRDb250ZW50LnRyaW0oKS5zcGxpdCgnOicpO1xuICAgIGlmIChjb21tZW50UGFydHNbMF0gPT09IENTU19CVUlMRF9BVFRSKSB7XG4gICAgICByZXR1cm4gY29tbWVudFBhcnRzWzFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIGNzcyBidWlsZCBzdGF0dXMgaXMgb3B0aW1hbCwgYW5kIGRvIG5vIHVubmVlZGVkIHdvcmsuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBjc3NCdWlsZCBDU1MgYnVpbGQgc3RhdHVzXG4gKiBAcmV0dXJuIHtib29sZWFufSBjc3MgYnVpbGQgaXMgb3B0aW1hbCBvciBub3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT3B0aW1hbENzc0J1aWxkKGNzc0J1aWxkID0gJycpIHtcbiAgLy8gQ1NTIGN1c3RvbSBwcm9wZXJ0eSBzaGltIGFsd2F5cyByZXF1aXJlcyB3b3JrXG4gIGlmIChjc3NCdWlsZCA9PT0gJycgfHwgIW5hdGl2ZUNzc1ZhcmlhYmxlcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gbmF0aXZlU2hhZG93ID8gY3NzQnVpbGQgPT09ICdzaGFkb3cnIDogY3NzQnVpbGQgPT09ICdzaGFkeSc7XG59XG5cbi8qKlxuICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQnVpbGRDb21tZW50KGVsZW1lbnQpIHtcbiAgY29uc3QgYnVpbGRDb21tZW50ID0gZWxlbWVudC5sb2NhbE5hbWUgPT09ICd0ZW1wbGF0ZScgP1xuICAgICAgLyoqIEB0eXBlIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gKi8gKGVsZW1lbnQpLmNvbnRlbnQuZmlyc3RDaGlsZCA6XG4gICAgICBlbGVtZW50LmZpcnN0Q2hpbGQ7XG4gIGJ1aWxkQ29tbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJ1aWxkQ29tbWVudCk7XG59XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuLypcbiAqIFRoZSBhcHBseSBzaGltIHNpbXVsYXRlcyB0aGUgYmVoYXZpb3Igb2YgYEBhcHBseWAgcHJvcG9zZWQgYXRcbiAqIGh0dHBzOi8vdGFiYXRraW5zLmdpdGh1Yi5pby9zcGVjcy9jc3MtYXBwbHktcnVsZS8uXG4gKiBUaGUgYXBwcm9hY2ggaXMgdG8gY29udmVydCBhIHByb3BlcnR5IGxpa2UgdGhpczpcbiAqXG4gKiAgICAtLWZvbzoge2NvbG9yOiByZWQ7IGJhY2tncm91bmQ6IGJsdWU7fVxuICpcbiAqIHRvIHRoaXM6XG4gKlxuICogICAgLS1mb29fLV9jb2xvcjogcmVkO1xuICogICAgLS1mb29fLV9iYWNrZ3JvdW5kOiBibHVlO1xuICpcbiAqIFRoZW4gd2hlcmUgYEBhcHBseSAtLWZvb2AgaXMgdXNlZCwgdGhhdCBpcyBjb252ZXJ0ZWQgdG86XG4gKlxuICogICAgY29sb3I6IHZhcigtLWZvb18tX2NvbG9yKTtcbiAqICAgIGJhY2tncm91bmQ6IHZhcigtLWZvb18tX2JhY2tncm91bmQpO1xuICpcbiAqIFRoaXMgYXBwcm9hY2ggZ2VuZXJhbGx5IHdvcmtzIGJ1dCB0aGVyZSBhcmUgc29tZSBpc3N1ZXMgYW5kIGxpbWl0YXRpb25zLlxuICogQ29uc2lkZXIsIGZvciBleGFtcGxlLCB0aGF0IHNvbWV3aGVyZSAqYmV0d2Vlbiogd2hlcmUgYC0tZm9vYCBpcyBzZXQgYW5kIHVzZWQsXG4gKiBhbm90aGVyIGVsZW1lbnQgc2V0cyBpdCB0bzpcbiAqXG4gKiAgICAtLWZvbzogeyBib3JkZXI6IDJweCBzb2xpZCByZWQ7IH1cbiAqXG4gKiBXZSBtdXN0IG5vdyBlbnN1cmUgdGhhdCB0aGUgY29sb3IgYW5kIGJhY2tncm91bmQgZnJvbSB0aGUgcHJldmlvdXMgc2V0dGluZ1xuICogZG8gbm90IGFwcGx5LiBUaGlzIGlzIGFjY29tcGxpc2hlZCBieSBjaGFuZ2luZyB0aGUgcHJvcGVydHkgc2V0IHRvIHRoaXM6XG4gKlxuICogICAgLS1mb29fLV9ib3JkZXI6IDJweCBzb2xpZCByZWQ7XG4gKiAgICAtLWZvb18tX2NvbG9yOiBpbml0aWFsO1xuICogICAgLS1mb29fLV9iYWNrZ3JvdW5kOiBpbml0aWFsO1xuICpcbiAqIFRoaXMgd29ya3MgYnV0IGludHJvZHVjZXMgb25lIG5ldyBpc3N1ZS5cbiAqIENvbnNpZGVyIHRoaXMgc2V0dXAgYXQgdGhlIHBvaW50IHdoZXJlIHRoZSBgQGFwcGx5YCBpcyB1c2VkOlxuICpcbiAqICAgIGJhY2tncm91bmQ6IG9yYW5nZTtcbiAqICAgIGBAYXBwbHlgIC0tZm9vO1xuICpcbiAqIEluIHRoaXMgY2FzZSB0aGUgYmFja2dyb3VuZCB3aWxsIGJlIHVuc2V0IChpbml0aWFsKSByYXRoZXIgdGhhbiB0aGUgZGVzaXJlZFxuICogYG9yYW5nZWAuIFdlIGFkZHJlc3MgdGhpcyBieSBhbHRlcmluZyB0aGUgcHJvcGVydHkgc2V0IHRvIHVzZSBhIGZhbGxiYWNrXG4gKiB2YWx1ZSBsaWtlIHRoaXM6XG4gKlxuICogICAgY29sb3I6IHZhcigtLWZvb18tX2NvbG9yKTtcbiAqICAgIGJhY2tncm91bmQ6IHZhcigtLWZvb18tX2JhY2tncm91bmQsIG9yYW5nZSk7XG4gKiAgICBib3JkZXI6IHZhcigtLWZvb18tX2JvcmRlcik7XG4gKlxuICogTm90ZSB0aGF0IHRoZSBkZWZhdWx0IGlzIHJldGFpbmVkIGluIHRoZSBwcm9wZXJ0eSBzZXQgYW5kIHRoZSBgYmFja2dyb3VuZGAgaXNcbiAqIHRoZSBkZXNpcmVkIGBvcmFuZ2VgLiBUaGlzIGxlYWRzIHVzIHRvIGEgbGltaXRhdGlvbi5cbiAqXG4gKiBMaW1pdGF0aW9uIDE6XG5cbiAqIE9ubHkgcHJvcGVydGllcyBpbiB0aGUgcnVsZSB3aGVyZSB0aGUgYEBhcHBseWBcbiAqIGlzIHVzZWQgYXJlIGNvbnNpZGVyZWQgYXMgZGVmYXVsdCB2YWx1ZXMuXG4gKiBJZiBhbm90aGVyIHJ1bGUgbWF0Y2hlcyB0aGUgZWxlbWVudCBhbmQgc2V0cyBgYmFja2dyb3VuZGAgd2l0aFxuICogbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSBydWxlIGluIHdoaWNoIGBAYXBwbHlgIGFwcGVhcnMsXG4gKiB0aGUgYGJhY2tncm91bmRgIHdpbGwgbm90IGJlIHNldC5cbiAqXG4gKiBMaW1pdGF0aW9uIDI6XG4gKlxuICogV2hlbiB1c2luZyBQb2x5bWVyJ3MgYHVwZGF0ZVN0eWxlc2AgYXBpLCBuZXcgcHJvcGVydGllcyBtYXkgbm90IGJlIHNldCBmb3JcbiAqIGBAYXBwbHlgIHByb3BlcnRpZXMuXG5cbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtmb3JFYWNoUnVsZSwgcHJvY2Vzc1ZhcmlhYmxlQW5kRmFsbGJhY2ssIHJ1bGVzRm9yU3R5bGUsIHRvQ3NzVGV4dCwgZ2F0aGVyU3R5bGVUZXh0fSBmcm9tICcuL3N0eWxlLXV0aWwuanMnO1xuaW1wb3J0IHtNSVhJTl9NQVRDSCwgVkFSX0FTU0lHTn0gZnJvbSAnLi9jb21tb24tcmVnZXguanMnO1xuaW1wb3J0IHtkZXRlY3RNaXhpbn0gZnJvbSAnLi9jb21tb24tdXRpbHMuanMnO1xuaW1wb3J0IHtTdHlsZU5vZGV9IGZyb20gJy4vY3NzLXBhcnNlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG5jb25zdCBBUFBMWV9OQU1FX0NMRUFOID0gLztcXHMqL207XG5jb25zdCBJTklUSUFMX0lOSEVSSVQgPSAvXlxccyooaW5pdGlhbCl8KGluaGVyaXQpXFxzKiQvO1xuY29uc3QgSU1QT1JUQU5UID0gL1xccyohaW1wb3J0YW50LztcblxuLy8gc2VwYXJhdG9yIHVzZWQgYmV0d2VlbiBtaXhpbi1uYW1lIGFuZCBtaXhpbi1wcm9wZXJ0eS1uYW1lIHdoZW4gcHJvZHVjaW5nIHByb3BlcnRpZXNcbi8vIE5PVEU6IHBsYWluICctJyBtYXkgY2F1c2UgY29sbGlzaW9ucyBpbiB1c2VyIHN0eWxlc1xuY29uc3QgTUlYSU5fVkFSX1NFUCA9ICdfLV8nO1xuXG4vKipcbiAqIEB0eXBlZGVmIHshT2JqZWN0PHN0cmluZywgc3RyaW5nPn1cbiAqL1xubGV0IFByb3BlcnR5RW50cnk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLyoqXG4gKiBAdHlwZWRlZiB7IU9iamVjdDxzdHJpbmcsIGJvb2xlYW4+fVxuICovXG5sZXQgRGVwZW5kYW50c0VudHJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qKiBAdHlwZWRlZiB7e1xuICogICAgcHJvcGVydGllczogUHJvcGVydHlFbnRyeSxcbiAqICAgIGRlcGVuZGFudHM6IERlcGVuZGFudHNFbnRyeVxuICogfX1cbiAqL1xubGV0IE1peGluTWFwRW50cnk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuLy8gbWFwIG9mIG1peGluIHRvIHByb3BlcnR5IG5hbWVzXG4vLyAtLWZvbzoge2JvcmRlcjogMnB4fSAtPiB7cHJvcGVydGllczogeygtLWZvbywgWydib3JkZXInXSl9LCBkZXBlbmRhbnRzOiB7J2VsZW1lbnQtbmFtZSc6IHByb3RvfX1cbmNsYXNzIE1peGluTWFwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHshT2JqZWN0PHN0cmluZywgIU1peGluTWFwRW50cnk+fSAqL1xuICAgIHRoaXMuX21hcCA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0geyFQcm9wZXJ0eUVudHJ5fSBwcm9wc1xuICAgKi9cbiAgc2V0KG5hbWUsIHByb3BzKSB7XG4gICAgbmFtZSA9IG5hbWUudHJpbSgpO1xuICAgIHRoaXMuX21hcFtuYW1lXSA9IHtcbiAgICAgIHByb3BlcnRpZXM6IHByb3BzLFxuICAgICAgZGVwZW5kYW50czoge31cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge01peGluTWFwRW50cnl9XG4gICAqL1xuICBnZXQobmFtZSkge1xuICAgIG5hbWUgPSBuYW1lLnRyaW0oKTtcbiAgICByZXR1cm4gdGhpcy5fbWFwW25hbWVdIHx8IG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBDYWxsYmFjayBmb3Igd2hlbiBhbiBlbGVtZW50IGlzIG1hcmtlZCBpbnZhbGlkXG4gKiBAdHlwZSB7P2Z1bmN0aW9uKHN0cmluZyl9XG4gKi9cbmxldCBpbnZhbGlkQ2FsbGJhY2sgPSBudWxsO1xuXG4vKiogQHVucmVzdHJpY3RlZCAqL1xuY2xhc3MgQXBwbHlTaGltIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIEB0eXBlIHs/c3RyaW5nfSAqL1xuICAgIHRoaXMuX2N1cnJlbnRFbGVtZW50ID0gbnVsbDtcbiAgICAvKiogQHR5cGUge0hUTUxNZXRhRWxlbWVudH0gKi9cbiAgICB0aGlzLl9tZWFzdXJlRWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5fbWFwID0gbmV3IE1peGluTWFwKCk7XG4gIH1cbiAgLyoqXG4gICAqIHJldHVybiB0cnVlIGlmIGBjc3NUZXh0YCBjb250YWlucyBhIG1peGluIGRlZmluaXRpb24gb3IgY29uc3VtcHRpb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNzc1RleHRcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGRldGVjdE1peGluKGNzc1RleHQpIHtcbiAgICByZXR1cm4gZGV0ZWN0TWl4aW4oY3NzVGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogR2F0aGVyIHN0eWxlcyBpbnRvIG9uZSBzdHlsZSBmb3IgZWFzaWVyIHByb2Nlc3NpbmdcbiAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICogQHJldHVybiB7SFRNTFN0eWxlRWxlbWVudH1cbiAgICovXG4gIGdhdGhlclN0eWxlcyh0ZW1wbGF0ZSkge1xuICAgIGNvbnN0IHN0eWxlVGV4dCA9IGdhdGhlclN0eWxlVGV4dCh0ZW1wbGF0ZS5jb250ZW50KTtcbiAgICBpZiAoc3R5bGVUZXh0KSB7XG4gICAgICBjb25zdCBzdHlsZSA9IC8qKiBAdHlwZSB7IUhUTUxTdHlsZUVsZW1lbnR9ICovKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJykpO1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZVRleHQ7XG4gICAgICB0ZW1wbGF0ZS5jb250ZW50Lmluc2VydEJlZm9yZShzdHlsZSwgdGVtcGxhdGUuY29udGVudC5maXJzdENoaWxkKTtcbiAgICAgIHJldHVybiBzdHlsZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gICAqL1xuICB0cmFuc2Zvcm1UZW1wbGF0ZSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHtcbiAgICBpZiAodGVtcGxhdGUuX2dhdGhlcmVkU3R5bGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGVtcGxhdGUuX2dhdGhlcmVkU3R5bGUgPSB0aGlzLmdhdGhlclN0eWxlcyh0ZW1wbGF0ZSk7XG4gICAgfVxuICAgIC8qKiBAdHlwZSB7SFRNTFN0eWxlRWxlbWVudH0gKi9cbiAgICBjb25zdCBzdHlsZSA9IHRlbXBsYXRlLl9nYXRoZXJlZFN0eWxlO1xuICAgIHJldHVybiBzdHlsZSA/IHRoaXMudHJhbnNmb3JtU3R5bGUoc3R5bGUsIGVsZW1lbnROYW1lKSA6IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IUhUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKiBAcmV0dXJuIHtTdHlsZU5vZGV9XG4gICAqL1xuICB0cmFuc2Zvcm1TdHlsZShzdHlsZSwgZWxlbWVudE5hbWUgPSAnJykge1xuICAgIGxldCBhc3QgPSBydWxlc0ZvclN0eWxlKHN0eWxlKTtcbiAgICB0aGlzLnRyYW5zZm9ybVJ1bGVzKGFzdCwgZWxlbWVudE5hbWUpO1xuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdG9Dc3NUZXh0KGFzdCk7XG4gICAgcmV0dXJuIGFzdDtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHshSFRNTFN0eWxlRWxlbWVudH0gc3R5bGVcbiAgICogQHJldHVybiB7U3R5bGVOb2RlfVxuICAgKi9cbiAgdHJhbnNmb3JtQ3VzdG9tU3R5bGUoc3R5bGUpIHtcbiAgICBsZXQgYXN0ID0gcnVsZXNGb3JTdHlsZShzdHlsZSk7XG4gICAgZm9yRWFjaFJ1bGUoYXN0LCAocnVsZSkgPT4ge1xuICAgICAgaWYgKHJ1bGVbJ3NlbGVjdG9yJ10gPT09ICc6cm9vdCcpIHtcbiAgICAgICAgcnVsZVsnc2VsZWN0b3InXSA9ICdodG1sJztcbiAgICAgIH1cbiAgICAgIHRoaXMudHJhbnNmb3JtUnVsZShydWxlKTtcbiAgICB9KVxuICAgIHN0eWxlLnRleHRDb250ZW50ID0gdG9Dc3NUZXh0KGFzdCk7XG4gICAgcmV0dXJuIGFzdDtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtTdHlsZU5vZGV9IHJ1bGVzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgKi9cbiAgdHJhbnNmb3JtUnVsZXMocnVsZXMsIGVsZW1lbnROYW1lKSB7XG4gICAgdGhpcy5fY3VycmVudEVsZW1lbnQgPSBlbGVtZW50TmFtZTtcbiAgICBmb3JFYWNoUnVsZShydWxlcywgKHIpID0+IHtcbiAgICAgIHRoaXMudHJhbnNmb3JtUnVsZShyKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jdXJyZW50RWxlbWVudCA9IG51bGw7XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7IVN0eWxlTm9kZX0gcnVsZVxuICAgKi9cbiAgdHJhbnNmb3JtUnVsZShydWxlKSB7XG4gICAgcnVsZVsnY3NzVGV4dCddID0gdGhpcy50cmFuc2Zvcm1Dc3NUZXh0KHJ1bGVbJ3BhcnNlZENzc1RleHQnXSwgcnVsZSk7XG4gICAgLy8gOnJvb3Qgd2FzIG9ubHkgdXNlZCBmb3IgdmFyaWFibGUgYXNzaWdubWVudCBpbiBwcm9wZXJ0eSBzaGltLFxuICAgIC8vIGJ1dCBnZW5lcmF0ZXMgaW52YWxpZCBzZWxlY3RvcnMgd2l0aCByZWFsIHByb3BlcnRpZXMuXG4gICAgLy8gcmVwbGFjZSB3aXRoIGA6aG9zdCA+ICpgLCB3aGljaCBzZXJ2ZXMgdGhlIHNhbWUgZWZmZWN0XG4gICAgaWYgKHJ1bGVbJ3NlbGVjdG9yJ10gPT09ICc6cm9vdCcpIHtcbiAgICAgIHJ1bGVbJ3NlbGVjdG9yJ10gPSAnOmhvc3QgPiAqJztcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjc3NUZXh0XG4gICAqIEBwYXJhbSB7IVN0eWxlTm9kZX0gcnVsZVxuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICB0cmFuc2Zvcm1Dc3NUZXh0KGNzc1RleHQsIHJ1bGUpIHtcbiAgICAvLyBwcm9kdWNlIHZhcmlhYmxlc1xuICAgIGNzc1RleHQgPSBjc3NUZXh0LnJlcGxhY2UoVkFSX0FTU0lHTiwgKG1hdGNoVGV4dCwgcHJvcGVydHlOYW1lLCB2YWx1ZVByb3BlcnR5LCB2YWx1ZU1peGluKSA9PlxuICAgICAgdGhpcy5fcHJvZHVjZUNzc1Byb3BlcnRpZXMobWF0Y2hUZXh0LCBwcm9wZXJ0eU5hbWUsIHZhbHVlUHJvcGVydHksIHZhbHVlTWl4aW4sIHJ1bGUpKTtcbiAgICAvLyBjb25zdW1lIG1peGluc1xuICAgIHJldHVybiB0aGlzLl9jb25zdW1lQ3NzUHJvcGVydGllcyhjc3NUZXh0LCBydWxlKTtcbiAgfVxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5XG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9nZXRJbml0aWFsVmFsdWVGb3JQcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgIGlmICghdGhpcy5fbWVhc3VyZUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX21lYXN1cmVFbGVtZW50ID0gLyoqIEB0eXBlIHtIVE1MTWV0YUVsZW1lbnR9ICovKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ21ldGEnKSk7XG4gICAgICB0aGlzLl9tZWFzdXJlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FwcGx5LXNoaW0tbWVhc3VyZScsICcnKTtcbiAgICAgIHRoaXMuX21lYXN1cmVFbGVtZW50LnN0eWxlLmFsbCA9ICdpbml0aWFsJztcbiAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fbWVhc3VyZUVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWVhc3VyZUVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUocHJvcGVydHkpO1xuICB9XG4gIC8qKlxuICAgKiBXYWxrIG92ZXIgYWxsIHJ1bGVzIGJlZm9yZSB0aGlzIHJ1bGUgdG8gZmluZCBmYWxsYmFja3MgZm9yIG1peGluc1xuICAgKlxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGV9IHN0YXJ0UnVsZVxuICAgKiBAcmV0dXJuIHshT2JqZWN0fVxuICAgKi9cbiAgX2ZhbGxiYWNrc0Zyb21QcmV2aW91c1J1bGVzKHN0YXJ0UnVsZSkge1xuICAgIC8vIGZpbmQgdGhlIFwidG9wXCIgcnVsZVxuICAgIGxldCB0b3BSdWxlID0gc3RhcnRSdWxlO1xuICAgIHdoaWxlICh0b3BSdWxlWydwYXJlbnQnXSkge1xuICAgICAgdG9wUnVsZSA9IHRvcFJ1bGVbJ3BhcmVudCddO1xuICAgIH1cbiAgICBjb25zdCBmYWxsYmFja3MgPSB7fTtcbiAgICBsZXQgc2VlblN0YXJ0UnVsZSA9IGZhbHNlO1xuICAgIGZvckVhY2hSdWxlKHRvcFJ1bGUsIChyKSA9PiB7XG4gICAgICAvLyBzdG9wIHdoZW4gd2UgaGl0IHRoZSBpbnB1dCBydWxlXG4gICAgICBzZWVuU3RhcnRSdWxlID0gc2VlblN0YXJ0UnVsZSB8fCByID09PSBzdGFydFJ1bGU7XG4gICAgICBpZiAoc2VlblN0YXJ0UnVsZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBOT1RFOiBPbmx5IG1hdGNoaW5nIHNlbGVjdG9ycyBhcmUgXCJzYWZlXCIgZm9yIHRoaXMgZmFsbGJhY2sgcHJvY2Vzc2luZ1xuICAgICAgLy8gSXQgd291bGQgYmUgcHJvaGliaXRpdmUgdG8gcnVuIGBtYXRjaGVzU2VsZWN0b3IoKWAgb24gZWFjaCBzZWxlY3RvcixcbiAgICAgIC8vIHNvIHdlIGNoZWF0IGFuZCBvbmx5IGNoZWNrIGlmIHRoZSBzYW1lIHNlbGVjdG9yIHN0cmluZyBpcyB1c2VkLCB3aGljaFxuICAgICAgLy8gZ3VhcmFudGVlcyB0aGluZ3MgbGlrZSBzcGVjaWZpY2l0eSBtYXRjaGluZ1xuICAgICAgaWYgKHJbJ3NlbGVjdG9yJ10gPT09IHN0YXJ0UnVsZVsnc2VsZWN0b3InXSkge1xuICAgICAgICBPYmplY3QuYXNzaWduKGZhbGxiYWNrcywgdGhpcy5fY3NzVGV4dFRvTWFwKHJbJ3BhcnNlZENzc1RleHQnXSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmYWxsYmFja3M7XG4gIH1cbiAgLyoqXG4gICAqIHJlcGxhY2UgbWl4aW4gY29uc3VtcHRpb24gd2l0aCB2YXJpYWJsZSBjb25zdW1wdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dFxuICAgKiBAcGFyYW0geyFTdHlsZU5vZGU9fSBydWxlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9jb25zdW1lQ3NzUHJvcGVydGllcyh0ZXh0LCBydWxlKSB7XG4gICAgLyoqIEB0eXBlIHtBcnJheX0gKi9cbiAgICBsZXQgbSA9IG51bGw7XG4gICAgLy8gbG9vcCBvdmVyIHRleHQgdW50aWwgYWxsIG1peGlucyB3aXRoIGRlZmludGlvbnMgaGF2ZSBiZWVuIGFwcGxpZWRcbiAgICB3aGlsZSgobSA9IE1JWElOX01BVENILmV4ZWModGV4dCkpKSB7XG4gICAgICBsZXQgbWF0Y2hUZXh0ID0gbVswXTtcbiAgICAgIGxldCBtaXhpbk5hbWUgPSBtWzFdO1xuICAgICAgbGV0IGlkeCA9IG0uaW5kZXg7XG4gICAgICAvLyBjb2xsZWN0IHByb3BlcnRpZXMgYmVmb3JlIGFwcGx5IHRvIGJlIFwiZGVmYXVsdHNcIiBpZiBtaXhpbiBtaWdodCBvdmVycmlkZSB0aGVtXG4gICAgICAvLyBtYXRjaCBpbmNsdWRlcyBhIFwicHJlZml4XCIsIHNvIGZpbmQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIG9mIEBhcHBseVxuICAgICAgbGV0IGFwcGx5UG9zID0gaWR4ICsgbWF0Y2hUZXh0LmluZGV4T2YoJ0BhcHBseScpO1xuICAgICAgbGV0IGFmdGVyQXBwbHlQb3MgPSBpZHggKyBtYXRjaFRleHQubGVuZ3RoO1xuICAgICAgLy8gZmluZCBwcm9wcyBkZWZpbmVkIGJlZm9yZSB0aGlzIEBhcHBseVxuICAgICAgbGV0IHRleHRCZWZvcmVBcHBseSA9IHRleHQuc2xpY2UoMCwgYXBwbHlQb3MpO1xuICAgICAgbGV0IHRleHRBZnRlckFwcGx5ID0gdGV4dC5zbGljZShhZnRlckFwcGx5UG9zKTtcbiAgICAgIGxldCBkZWZhdWx0cyA9IHJ1bGUgPyB0aGlzLl9mYWxsYmFja3NGcm9tUHJldmlvdXNSdWxlcyhydWxlKSA6IHt9O1xuICAgICAgT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgdGhpcy5fY3NzVGV4dFRvTWFwKHRleHRCZWZvcmVBcHBseSkpO1xuICAgICAgbGV0IHJlcGxhY2VtZW50ID0gdGhpcy5fYXRBcHBseVRvQ3NzUHJvcGVydGllcyhtaXhpbk5hbWUsIGRlZmF1bHRzKTtcbiAgICAgIC8vIHVzZSByZWdleCBtYXRjaCBwb3NpdGlvbiB0byByZXBsYWNlIG1peGluLCBrZWVwIGxpbmVhciBwcm9jZXNzaW5nIHRpbWVcbiAgICAgIHRleHQgPSBgJHt0ZXh0QmVmb3JlQXBwbHl9JHtyZXBsYWNlbWVudH0ke3RleHRBZnRlckFwcGx5fWA7XG4gICAgICAvLyBtb3ZlIHJlZ2V4IHNlYXJjaCB0byBfYWZ0ZXJfIHJlcGxhY2VtZW50XG4gICAgICBNSVhJTl9NQVRDSC5sYXN0SW5kZXggPSBpZHggKyByZXBsYWNlbWVudC5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIC8qKlxuICAgKiBwcm9kdWNlIHZhcmlhYmxlIGNvbnN1bXB0aW9uIGF0IHRoZSBzaXRlIG9mIG1peGluIGNvbnN1bXB0aW9uXG4gICAqIGBAYXBwbHlgIC0tZm9vOyAtPiBmb3IgYWxsIHByb3BzICgke3Byb3BuYW1lfTogdmFyKC0tZm9vXy1fJHtwcm9wbmFtZX0sICR7ZmFsbGJhY2tbcHJvcG5hbWVdfX0pKVxuICAgKiBFeGFtcGxlOlxuICAgKiAgYm9yZGVyOiB2YXIoLS1mb29fLV9ib3JkZXIpOyBwYWRkaW5nOiB2YXIoLS1mb29fLV9wYWRkaW5nLCAycHgpXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtaXhpbk5hbWVcbiAgICogQHBhcmFtIHtPYmplY3R9IGZhbGxiYWNrc1xuICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAqL1xuICBfYXRBcHBseVRvQ3NzUHJvcGVydGllcyhtaXhpbk5hbWUsIGZhbGxiYWNrcykge1xuICAgIG1peGluTmFtZSA9IG1peGluTmFtZS5yZXBsYWNlKEFQUExZX05BTUVfQ0xFQU4sICcnKTtcbiAgICBsZXQgdmFycyA9IFtdO1xuICAgIGxldCBtaXhpbkVudHJ5ID0gdGhpcy5fbWFwLmdldChtaXhpbk5hbWUpO1xuICAgIC8vIGlmIHdlIGRlcGVuZCBvbiBhIG1peGluIGJlZm9yZSBpdCBpcyBjcmVhdGVkXG4gICAgLy8gbWFrZSBhIHNlbnRpbmVsIGVudHJ5IGluIHRoZSBtYXAgdG8gYWRkIHRoaXMgZWxlbWVudCBhcyBhIGRlcGVuZGVuY3kgZm9yIHdoZW4gaXQgaXMgZGVmaW5lZC5cbiAgICBpZiAoIW1peGluRW50cnkpIHtcbiAgICAgIHRoaXMuX21hcC5zZXQobWl4aW5OYW1lLCB7fSk7XG4gICAgICBtaXhpbkVudHJ5ID0gdGhpcy5fbWFwLmdldChtaXhpbk5hbWUpO1xuICAgIH1cbiAgICBpZiAobWl4aW5FbnRyeSkge1xuICAgICAgaWYgKHRoaXMuX2N1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgIG1peGluRW50cnkuZGVwZW5kYW50c1t0aGlzLl9jdXJyZW50RWxlbWVudF0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgbGV0IHAsIHBhcnRzLCBmO1xuICAgICAgY29uc3QgcHJvcGVydGllcyA9IG1peGluRW50cnkucHJvcGVydGllcztcbiAgICAgIGZvciAocCBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGYgPSBmYWxsYmFja3MgJiYgZmFsbGJhY2tzW3BdO1xuICAgICAgICBwYXJ0cyA9IFtwLCAnOiB2YXIoJywgbWl4aW5OYW1lLCBNSVhJTl9WQVJfU0VQLCBwXTtcbiAgICAgICAgaWYgKGYpIHtcbiAgICAgICAgICBwYXJ0cy5wdXNoKCcsJywgZi5yZXBsYWNlKElNUE9SVEFOVCwgJycpKTtcbiAgICAgICAgfVxuICAgICAgICBwYXJ0cy5wdXNoKCcpJyk7XG4gICAgICAgIGlmIChJTVBPUlRBTlQudGVzdChwcm9wZXJ0aWVzW3BdKSkge1xuICAgICAgICAgIHBhcnRzLnB1c2goJyAhaW1wb3J0YW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFycy5wdXNoKHBhcnRzLmpvaW4oJycpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhcnMuam9pbignOyAnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9yZXBsYWNlSW5pdGlhbE9ySW5oZXJpdChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBsZXQgbWF0Y2ggPSBJTklUSUFMX0lOSEVSSVQuZXhlYyh2YWx1ZSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICBpZiAobWF0Y2hbMV0pIHtcbiAgICAgICAgLy8gaW5pdGlhbFxuICAgICAgICAvLyByZXBsYWNlIGBpbml0aWFsYCB3aXRoIHRoZSBjb25jcmV0ZSBpbml0aWFsIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5XG4gICAgICAgIHZhbHVlID0gdGhpcy5fZ2V0SW5pdGlhbFZhbHVlRm9yUHJvcGVydHkocHJvcGVydHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW5oZXJpdFxuICAgICAgICAvLyB3aXRoIHRoaXMgcHVycG9zZnVsbHkgaWxsZWdhbCB2YWx1ZSwgdGhlIHZhcmlhYmxlIHdpbGwgYmUgaW52YWxpZCBhdFxuICAgICAgICAvLyBjb21wdXRlIHRpbWUgKGh0dHBzOi8vd3d3LnczLm9yZy9UUi9jc3MtdmFyaWFibGVzLyNpbnZhbGlkLWF0LWNvbXB1dGVkLXZhbHVlLXRpbWUpXG4gICAgICAgIC8vIGFuZCBmb3IgaW5oZXJpdGluZyB2YWx1ZXMsIHdpbGwgYmVoYXZlIHNpbWlsYXJseVxuICAgICAgICAvLyB3ZSBjYW5ub3Qgc3VwcG9ydCB0aGUgc2FtZSBiZWhhdmlvciBmb3Igbm9uIGluaGVyaXRpbmcgdmFsdWVzIGxpa2UgJ2JvcmRlcidcbiAgICAgICAgdmFsdWUgPSAnYXBwbHktc2hpbS1pbmhlcml0JztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFwicGFyc2VcIiBhIG1peGluIGRlZmluaXRpb24gaW50byBhIG1hcCBvZiBwcm9wZXJ0aWVzIGFuZCB2YWx1ZXNcbiAgICogY3NzVGV4dFRvTWFwKCdib3JkZXI6IDJweCBzb2xpZCBibGFjaycpIC0+ICgnYm9yZGVyJywgJzJweCBzb2xpZCBibGFjaycpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0XG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlcGxhY2VJbml0aWFsT3JJbmhlcml0XG4gICAqIEByZXR1cm4geyFPYmplY3Q8c3RyaW5nLCBzdHJpbmc+fVxuICAgKi9cbiAgX2Nzc1RleHRUb01hcCh0ZXh0LCByZXBsYWNlSW5pdGlhbE9ySW5oZXJpdCA9IGZhbHNlKSB7XG4gICAgbGV0IHByb3BzID0gdGV4dC5zcGxpdCgnOycpO1xuICAgIGxldCBwcm9wZXJ0eSwgdmFsdWU7XG4gICAgbGV0IG91dCA9IHt9O1xuICAgIGZvciAobGV0IGkgPSAwLCBwLCBzcDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwID0gcHJvcHNbaV07XG4gICAgICBpZiAocCkge1xuICAgICAgICBzcCA9IHAuc3BsaXQoJzonKTtcbiAgICAgICAgLy8gaWdub3JlIGxpbmVzIHRoYXQgYXJlbid0IGRlZmluaXRpb25zIGxpa2UgQG1lZGlhXG4gICAgICAgIGlmIChzcC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcHJvcGVydHkgPSBzcFswXS50cmltKCk7XG4gICAgICAgICAgLy8gc29tZSBwcm9wZXJ0aWVzIG1heSBoYXZlICc6JyBpbiB0aGUgdmFsdWUsIGxpa2UgZGF0YSB1cmxzXG4gICAgICAgICAgdmFsdWUgPSBzcC5zbGljZSgxKS5qb2luKCc6Jyk7XG4gICAgICAgICAgaWYgKHJlcGxhY2VJbml0aWFsT3JJbmhlcml0KSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX3JlcGxhY2VJbml0aWFsT3JJbmhlcml0KHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG91dFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7TWl4aW5NYXBFbnRyeX0gbWl4aW5FbnRyeVxuICAgKi9cbiAgX2ludmFsaWRhdGVNaXhpbkVudHJ5KG1peGluRW50cnkpIHtcbiAgICBpZiAoIWludmFsaWRDYWxsYmFjaykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBlbGVtZW50TmFtZSBpbiBtaXhpbkVudHJ5LmRlcGVuZGFudHMpIHtcbiAgICAgIGlmIChlbGVtZW50TmFtZSAhPT0gdGhpcy5fY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgaW52YWxpZENhbGxiYWNrKGVsZW1lbnROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1hdGNoVGV4dFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlOYW1lXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWVQcm9wZXJ0eVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IHZhbHVlTWl4aW5cbiAgICogQHBhcmFtIHshU3R5bGVOb2RlfSBydWxlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIF9wcm9kdWNlQ3NzUHJvcGVydGllcyhtYXRjaFRleHQsIHByb3BlcnR5TmFtZSwgdmFsdWVQcm9wZXJ0eSwgdmFsdWVNaXhpbiwgcnVsZSkge1xuICAgIC8vIGhhbmRsZSBjYXNlIHdoZXJlIHByb3BlcnR5IHZhbHVlIGlzIGEgbWl4aW5cbiAgICBpZiAodmFsdWVQcm9wZXJ0eSkge1xuICAgICAgLy8gZm9ybTogLS1taXhpbjI6IHZhcigtLW1peGluMSksIHdoZXJlIC0tbWl4aW4xIGlzIGluIHRoZSBtYXBcbiAgICAgIHByb2Nlc3NWYXJpYWJsZUFuZEZhbGxiYWNrKHZhbHVlUHJvcGVydHksIChwcmVmaXgsIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiB0aGlzLl9tYXAuZ2V0KHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlTWl4aW4gPSBgQGFwcGx5ICR7dmFsdWV9O2BcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghdmFsdWVNaXhpbikge1xuICAgICAgcmV0dXJuIG1hdGNoVGV4dDtcbiAgICB9XG4gICAgbGV0IG1peGluQXNQcm9wZXJ0aWVzID0gdGhpcy5fY29uc3VtZUNzc1Byb3BlcnRpZXMoJycgKyB2YWx1ZU1peGluLCBydWxlKTtcbiAgICBsZXQgcHJlZml4ID0gbWF0Y2hUZXh0LnNsaWNlKDAsIG1hdGNoVGV4dC5pbmRleE9mKCctLScpKTtcbiAgICAvLyBgaW5pdGlhbGAgYW5kIGBpbmhlcml0YCBhcyBwcm9wZXJ0aWVzIGluIGEgbWFwIHNob3VsZCBiZSByZXBsYWNlZCBiZWNhdXNlXG4gICAgLy8gdGhlc2Uga2V5d29yZHMgYXJlIGVhZ2VybHkgZXZhbHVhdGVkIHdoZW4gdGhlIG1peGluIGJlY29tZXMgQ1NTIEN1c3RvbSBQcm9wZXJ0aWVzLFxuICAgIC8vIGFuZCB3b3VsZCBzZXQgdGhlIHZhcmlhYmxlIHZhbHVlLCByYXRoZXIgdGhhbiBjYXJyeSB0aGUga2V5d29yZCB0byB0aGUgYHZhcigpYCB1c2FnZS5cbiAgICBsZXQgbWl4aW5WYWx1ZXMgPSB0aGlzLl9jc3NUZXh0VG9NYXAobWl4aW5Bc1Byb3BlcnRpZXMsIHRydWUpO1xuICAgIGxldCBjb21iaW5lZFByb3BzID0gbWl4aW5WYWx1ZXM7XG4gICAgbGV0IG1peGluRW50cnkgPSB0aGlzLl9tYXAuZ2V0KHByb3BlcnR5TmFtZSk7XG4gICAgbGV0IG9sZFByb3BzID0gbWl4aW5FbnRyeSAmJiBtaXhpbkVudHJ5LnByb3BlcnRpZXM7XG4gICAgaWYgKG9sZFByb3BzKSB7XG4gICAgICAvLyBOT1RFOiBzaW5jZSB3ZSB1c2UgbWl4aW4sIHRoZSBtYXAgb2YgcHJvcGVydGllcyBpcyB1cGRhdGVkIGhlcmVcbiAgICAgIC8vIGFuZCB0aGlzIGlzIHdoYXQgd2Ugd2FudC5cbiAgICAgIGNvbWJpbmVkUHJvcHMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5jcmVhdGUob2xkUHJvcHMpLCBtaXhpblZhbHVlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21hcC5zZXQocHJvcGVydHlOYW1lLCBjb21iaW5lZFByb3BzKTtcbiAgICB9XG4gICAgbGV0IG91dCA9IFtdO1xuICAgIGxldCBwLCB2O1xuICAgIC8vIHNldCB2YXJpYWJsZXMgZGVmaW5lZCBieSBjdXJyZW50IG1peGluXG4gICAgbGV0IG5lZWRUb0ludmFsaWRhdGUgPSBmYWxzZTtcbiAgICBmb3IgKHAgaW4gY29tYmluZWRQcm9wcykge1xuICAgICAgdiA9IG1peGluVmFsdWVzW3BdO1xuICAgICAgLy8gaWYgcHJvcGVydHkgbm90IGRlZmluZWQgYnkgY3VycmVudCBtaXhpbiwgc2V0IGluaXRpYWxcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdiA9ICdpbml0aWFsJztcbiAgICAgIH1cbiAgICAgIGlmIChvbGRQcm9wcyAmJiAhKHAgaW4gb2xkUHJvcHMpKSB7XG4gICAgICAgIG5lZWRUb0ludmFsaWRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgb3V0LnB1c2goYCR7cHJvcGVydHlOYW1lfSR7TUlYSU5fVkFSX1NFUH0ke3B9OiAke3Z9YCk7XG4gICAgfVxuICAgIGlmIChuZWVkVG9JbnZhbGlkYXRlKSB7XG4gICAgICB0aGlzLl9pbnZhbGlkYXRlTWl4aW5FbnRyeShtaXhpbkVudHJ5KTtcbiAgICB9XG4gICAgaWYgKG1peGluRW50cnkpIHtcbiAgICAgIG1peGluRW50cnkucHJvcGVydGllcyA9IGNvbWJpbmVkUHJvcHM7XG4gICAgfVxuICAgIC8vIGJlY2F1c2UgdGhlIG1peGluTWFwIGlzIGdsb2JhbCwgdGhlIG1peGluIG1pZ2h0IGNvbmZsaWN0IHdpdGhcbiAgICAvLyBhIGRpZmZlcmVudCBzY29wZSdzIHNpbXBsZSB2YXJpYWJsZSBkZWZpbml0aW9uOlxuICAgIC8vIEV4YW1wbGU6XG4gICAgLy8gc29tZSBzdHlsZSBzb21ld2hlcmU6XG4gICAgLy8gLS1taXhpbjE6eyAuLi4gfVxuICAgIC8vIC0tbWl4aW4yOiB2YXIoLS1taXhpbjEpO1xuICAgIC8vIHNvbWUgb3RoZXIgZWxlbWVudDpcbiAgICAvLyAtLW1peGluMTogMTBweCBzb2xpZCByZWQ7XG4gICAgLy8gLS1mb286IHZhcigtLW1peGluMSk7XG4gICAgLy8gSW4gdGhpcyBjYXNlLCB3ZSBsZWF2ZSB0aGUgb3JpZ2luYWwgdmFyaWFibGUgZGVmaW5pdGlvbiBpbiBwbGFjZS5cbiAgICBpZiAodmFsdWVQcm9wZXJ0eSkge1xuICAgICAgcHJlZml4ID0gYCR7bWF0Y2hUZXh0fTske3ByZWZpeH1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7cHJlZml4fSR7b3V0LmpvaW4oJzsgJyl9O2A7XG4gIH1cbn1cblxuLyogZXhwb3J0cyAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tc2VsZi1hc3NpZ24gKi9cbkFwcGx5U2hpbS5wcm90b3R5cGVbJ2RldGVjdE1peGluJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLmRldGVjdE1peGluO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtU3R5bGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtU3R5bGU7XG5BcHBseVNoaW0ucHJvdG90eXBlWyd0cmFuc2Zvcm1DdXN0b21TdHlsZSddID0gQXBwbHlTaGltLnByb3RvdHlwZS50cmFuc2Zvcm1DdXN0b21TdHlsZTtcbkFwcGx5U2hpbS5wcm90b3R5cGVbJ3RyYW5zZm9ybVJ1bGVzJ10gPSBBcHBseVNoaW0ucHJvdG90eXBlLnRyYW5zZm9ybVJ1bGVzO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtUnVsZSddID0gQXBwbHlTaGltLnByb3RvdHlwZS50cmFuc2Zvcm1SdWxlO1xuQXBwbHlTaGltLnByb3RvdHlwZVsndHJhbnNmb3JtVGVtcGxhdGUnXSA9IEFwcGx5U2hpbS5wcm90b3R5cGUudHJhbnNmb3JtVGVtcGxhdGU7XG5BcHBseVNoaW0ucHJvdG90eXBlWydfc2VwYXJhdG9yJ10gPSBNSVhJTl9WQVJfU0VQO1xuLyogZXNsaW50LWVuYWJsZSBuby1zZWxmLWFzc2lnbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcGx5U2hpbS5wcm90b3R5cGUsICdpbnZhbGlkQ2FsbGJhY2snLCB7XG4gIC8qKiBAcmV0dXJuIHs/ZnVuY3Rpb24oc3RyaW5nKX0gKi9cbiAgZ2V0KCkge1xuICAgIHJldHVybiBpbnZhbGlkQ2FsbGJhY2s7XG4gIH0sXG4gIC8qKiBAcGFyYW0gez9mdW5jdGlvbihzdHJpbmcpfSBjYiAqL1xuICBzZXQoY2IpIHtcbiAgICBpbnZhbGlkQ2FsbGJhY2sgPSBjYjtcbiAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEFwcGx5U2hpbTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAY29uc3QgeyFPYmplY3Q8c3RyaW5nLCAhSFRNTFRlbXBsYXRlRWxlbWVudD59XG4gKi9cbmNvbnN0IHRlbXBsYXRlTWFwID0ge307XG5leHBvcnQgZGVmYXVsdCB0ZW1wbGF0ZU1hcDtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB0ZW1wbGF0ZU1hcCBmcm9tICcuL3RlbXBsYXRlLW1hcC5qcyc7XG5pbXBvcnQge1N0eWxlTm9kZX0gZnJvbSAnLi9jc3MtcGFyc2UuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cbi8qXG4gKiBVdGlsaXRpZXMgZm9yIGhhbmRsaW5nIGludmFsaWRhdGluZyBhcHBseS1zaGltIG1peGlucyBmb3IgYSBnaXZlbiB0ZW1wbGF0ZS5cbiAqXG4gKiBUaGUgaW52YWxpZGF0aW9uIHN0cmF0ZWd5IGludm9sdmVzIGtlZXBpbmcgdHJhY2sgb2YgdGhlIFwiY3VycmVudFwiIHZlcnNpb24gb2YgYSB0ZW1wbGF0ZSdzIG1peGlucywgYW5kIHVwZGF0aW5nIHRoYXQgY291bnQgd2hlbiBhIG1peGluIGlzIGludmFsaWRhdGVkLlxuICogVGhlIHRlbXBsYXRlXG4gKi9cblxuLyoqIEBjb25zdCB7c3RyaW5nfSAqL1xuY29uc3QgQ1VSUkVOVF9WRVJTSU9OID0gJ19hcHBseVNoaW1DdXJyZW50VmVyc2lvbic7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbmNvbnN0IE5FWFRfVkVSU0lPTiA9ICdfYXBwbHlTaGltTmV4dFZlcnNpb24nO1xuXG4vKiogQGNvbnN0IHtzdHJpbmd9ICovXG5jb25zdCBWQUxJREFUSU5HX1ZFUlNJT04gPSAnX2FwcGx5U2hpbVZhbGlkYXRpbmdWZXJzaW9uJztcblxuLyoqXG4gKiBAY29uc3Qge1Byb21pc2U8dm9pZD59XG4gKi9cbmNvbnN0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGUoZWxlbWVudE5hbWUpe1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIGlmICh0ZW1wbGF0ZSkge1xuICAgIGludmFsaWRhdGVUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMgdG8gbWFyayBhIHRlbXBsYXRlIGludmFsaWRcbiAqIGFuZCBzaWduYWwgdGhhdCB0aGUgc3R5bGUgaW5zaWRlIG11c3QgYmUgcmVnZW5lcmF0ZWQuXG4gKlxuICogVXNlIGBzdGFydFZhbGlkYXRpbmdUZW1wbGF0ZWAgdG8gYmVnaW4gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gY3ljbGUuXG4gKiBEdXJpbmcgdGhhdCBjeWNsZSwgY2FsbCBgdGVtcGxhdGVJc1ZhbGlkYXRpbmdgIHRvIHNlZSBpZiB0aGUgdGVtcGxhdGUgbXVzdFxuICogYmUgcmV2YWxpZGF0ZWRcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludmFsaWRhdGVUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAvLyBkZWZhdWx0IHRoZSBjdXJyZW50IHZlcnNpb24gdG8gMFxuICB0ZW1wbGF0ZVtDVVJSRU5UX1ZFUlNJT05dID0gdGVtcGxhdGVbQ1VSUkVOVF9WRVJTSU9OXSB8fCAwO1xuICAvLyBlbnN1cmUgdGhlIFwidmFsaWRhdGluZyBmb3JcIiBmbGFnIGV4aXN0c1xuICB0ZW1wbGF0ZVtWQUxJREFUSU5HX1ZFUlNJT05dID0gdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSB8fCAwO1xuICAvLyBpbmNyZW1lbnQgdGhlIG5leHQgdmVyc2lvblxuICB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dID0gKHRlbXBsYXRlW05FWFRfVkVSU0lPTl0gfHwgMCkgKyAxO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWQoZWxlbWVudE5hbWUpIHtcbiAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICBpZiAodGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSB7XG4gIHJldHVybiB0ZW1wbGF0ZVtDVVJSRU5UX1ZFUlNJT05dID09PSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRhdGluZyhlbGVtZW50TmFtZSkge1xuICBsZXQgdGVtcGxhdGUgPSB0ZW1wbGF0ZU1hcFtlbGVtZW50TmFtZV07XG4gIGlmICh0ZW1wbGF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUlzVmFsaWRhdGluZyh0ZW1wbGF0ZSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGVtcGxhdGUgaXMgY3VycmVudGx5IGludmFsaWQgYW5kIGBzdGFydFZhbGlkYXRpbmdgIGhhcyBiZWVuIGNhbGxlZCBzaW5jZSB0aGUgbGFzdCBpbnZhbGlkYXRpb24uXG4gKiBJZiBmYWxzZSwgdGhlIHRlbXBsYXRlIG11c3QgYmUgdmFsaWRhdGVkLlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRlbXBsYXRlSXNWYWxpZGF0aW5nKHRlbXBsYXRlKSB7XG4gIHJldHVybiAhdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSAmJiB0ZW1wbGF0ZVtWQUxJREFUSU5HX1ZFUlNJT05dID09PSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xufVxuXG4vKipcbiAqIHRoZSB0ZW1wbGF0ZSBpcyBtYXJrZWQgYXMgYHZhbGlkYXRpbmdgIGZvciBvbmUgbWljcm90YXNrIHNvIHRoYXQgYWxsIGluc3RhbmNlc1xuICogZm91bmQgaW4gdGhlIHRyZWUgY3Jhd2wgb2YgYGFwcGx5U3R5bGVgIHdpbGwgdXBkYXRlIHRoZW1zZWx2ZXMsXG4gKiBidXQgdGhlIHRlbXBsYXRlIHdpbGwgb25seSBiZSB1cGRhdGVkIG9uY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRWYWxpZGF0aW5nKGVsZW1lbnROYW1lKSB7XG4gIGxldCB0ZW1wbGF0ZSA9IHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXTtcbiAgc3RhcnRWYWxpZGF0aW5nVGVtcGxhdGUodGVtcGxhdGUpO1xufVxuXG4vKipcbiAqIEJlZ2luIGFuIGFzeW5jaHJvbm91cyBpbnZhbGlkYXRpb24gY3ljbGUuXG4gKiBUaGlzIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgZXZlcnkgdmFsaWRhdGlvbiBvZiBhIHRlbXBsYXRlXG4gKlxuICogQWZ0ZXIgb25lIG1pY3JvdGFzaywgdGhlIHRlbXBsYXRlIHdpbGwgYmUgbWFya2VkIGFzIHZhbGlkIHVudGlsIHRoZSBuZXh0IGNhbGwgdG8gYGludmFsaWRhdGVUZW1wbGF0ZWBcbiAqIEBwYXJhbSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKSB7XG4gIC8vIHJlbWVtYmVyIHRoYXQgdGhlIGN1cnJlbnQgXCJuZXh0IHZlcnNpb25cIiBpcyB0aGUgcmVhc29uIGZvciB0aGlzIHZhbGlkYXRpb24gY3ljbGVcbiAgdGVtcGxhdGVbVkFMSURBVElOR19WRVJTSU9OXSA9IHRlbXBsYXRlW05FWFRfVkVSU0lPTl07XG4gIC8vIGhvd2V2ZXIsIHRoZXJlIG9ubHkgbmVlZHMgdG8gYmUgb25lIGFzeW5jIHRhc2sgdG8gY2xlYXIgdGhlIGNvdW50ZXJzXG4gIGlmICghdGVtcGxhdGUuX3ZhbGlkYXRpbmcpIHtcbiAgICB0ZW1wbGF0ZS5fdmFsaWRhdGluZyA9IHRydWU7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gc3luYyB0aGUgY3VycmVudCB2ZXJzaW9uIHRvIGxldCBmdXR1cmUgaW52YWxpZGF0aW9ucyBjYXVzZSBhIHJlZnJlc2ggY3ljbGVcbiAgICAgIHRlbXBsYXRlW0NVUlJFTlRfVkVSU0lPTl0gPSB0ZW1wbGF0ZVtORVhUX1ZFUlNJT05dO1xuICAgICAgdGVtcGxhdGUuX3ZhbGlkYXRpbmcgPSBmYWxzZTtcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50c0FyZUludmFsaWQoKSB7XG4gIGZvciAobGV0IGVsZW1lbnROYW1lIGluIHRlbXBsYXRlTWFwKSB7XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbZWxlbWVudE5hbWVdO1xuICAgIGlmICghdGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEFwcGx5U2hpbSBmcm9tICcuLi9zcmMvYXBwbHktc2hpbS5qcyc7XG5pbXBvcnQgdGVtcGxhdGVNYXAgZnJvbSAnLi4vc3JjL3RlbXBsYXRlLW1hcC5qcyc7XG5pbXBvcnQge2dldElzRXh0ZW5kcywgdG9Dc3NUZXh0LCBlbGVtZW50SGFzQnVpbHRDc3N9IGZyb20gJy4uL3NyYy9zdHlsZS11dGlsLmpzJztcbmltcG9ydCAqIGFzIEFwcGx5U2hpbVV0aWxzIGZyb20gJy4uL3NyYy9hcHBseS1zaGltLXV0aWxzLmpzJztcbmltcG9ydCB7Z2V0Q29tcHV0ZWRTdHlsZVZhbHVlLCB1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzfSBmcm9tICcuLi9zcmMvY29tbW9uLXV0aWxzLmpzJztcbmltcG9ydCB7Q3VzdG9tU3R5bGVJbnRlcmZhY2VJbnRlcmZhY2V9IGZyb20gJy4uL3NyYy9jdXN0b20tc3R5bGUtaW50ZXJmYWNlLmpzJzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuaW1wb3J0IHtuYXRpdmVDc3NWYXJpYWJsZXMsIG5hdGl2ZVNoYWRvdywgY3NzQnVpbGQsIGRpc2FibGVSdW50aW1lfSBmcm9tICcuLi9zcmMvc3R5bGUtc2V0dGluZ3MuanMnO1xuXG4vKiogQGNvbnN0IHtBcHBseVNoaW19ICovXG5jb25zdCBhcHBseVNoaW0gPSBuZXcgQXBwbHlTaGltKCk7XG5cbmNsYXNzIEFwcGx5U2hpbUludGVyZmFjZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIC8qKiBAdHlwZSB7P0N1c3RvbVN0eWxlSW50ZXJmYWNlSW50ZXJmYWNlfSAqL1xuICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2UgPSBudWxsO1xuICAgIGFwcGx5U2hpbVsnaW52YWxpZENhbGxiYWNrJ10gPSBBcHBseVNoaW1VdGlscy5pbnZhbGlkYXRlO1xuICB9XG4gIGVuc3VyZSgpIHtcbiAgICBpZiAodGhpcy5jdXN0b21TdHlsZUludGVyZmFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAod2luZG93LlNoYWR5Q1NTLkN1c3RvbVN0eWxlSW50ZXJmYWNlKSB7XG4gICAgICB0aGlzLmN1c3RvbVN0eWxlSW50ZXJmYWNlID1cbiAgICAgICAgICAvKiogQHR5cGUgeyFDdXN0b21TdHlsZUludGVyZmFjZUludGVyZmFjZX0gKi8gKFxuICAgICAgICAgICAgICB3aW5kb3cuU2hhZHlDU1MuQ3VzdG9tU3R5bGVJbnRlcmZhY2UpO1xuICAgICAgdGhpcy5jdXN0b21TdHlsZUludGVyZmFjZVsndHJhbnNmb3JtQ2FsbGJhY2snXSA9IChzdHlsZSkgPT4ge1xuICAgICAgICBhcHBseVNoaW0udHJhbnNmb3JtQ3VzdG9tU3R5bGUoc3R5bGUpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ3ZhbGlkYXRlQ2FsbGJhY2snXSA9ICgpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5jdXN0b21TdHlsZUludGVyZmFjZVsnZW5xdWV1ZWQnXSkge1xuICAgICAgICAgICAgdGhpcy5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICovXG4gIHByZXBhcmVUZW1wbGF0ZSh0ZW1wbGF0ZSwgZWxlbWVudE5hbWUpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIGlmIChlbGVtZW50SGFzQnVpbHRDc3ModGVtcGxhdGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRlbXBsYXRlTWFwW2VsZW1lbnROYW1lXSA9IHRlbXBsYXRlO1xuICAgIGxldCBhc3QgPSBhcHBseVNoaW0udHJhbnNmb3JtVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKTtcbiAgICAvLyBzYXZlIG9yaWdpbmFsIHN0eWxlIGFzdCB0byB1c2UgZm9yIHJldmFsaWRhdGluZyBpbnN0YW5jZXNcbiAgICB0ZW1wbGF0ZVsnX3N0eWxlQXN0J10gPSBhc3Q7XG4gIH1cbiAgZmx1c2hDdXN0b21TdHlsZXMoKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICBpZiAoIXRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHN0eWxlcyA9IHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ3Byb2Nlc3NTdHlsZXMnXSgpO1xuICAgIGlmICghdGhpcy5jdXN0b21TdHlsZUludGVyZmFjZVsnZW5xdWV1ZWQnXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKyApIHtcbiAgICAgIGxldCBjcyA9IHN0eWxlc1tpXTtcbiAgICAgIGxldCBzdHlsZSA9IHRoaXMuY3VzdG9tU3R5bGVJbnRlcmZhY2VbJ2dldFN0eWxlRm9yQ3VzdG9tU3R5bGUnXShjcyk7XG4gICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgYXBwbHlTaGltLnRyYW5zZm9ybUN1c3RvbVN0eWxlKHN0eWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5jdXN0b21TdHlsZUludGVyZmFjZVsnZW5xdWV1ZWQnXSA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgKi9cbiAgc3R5bGVTdWJ0cmVlKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgICB0aGlzLmVuc3VyZSgpO1xuICAgIGlmIChwcm9wZXJ0aWVzKSB7XG4gICAgICB1cGRhdGVOYXRpdmVQcm9wZXJ0aWVzKGVsZW1lbnQsIHByb3BlcnRpZXMpO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5zaGFkb3dSb290KSB7XG4gICAgICB0aGlzLnN0eWxlRWxlbWVudChlbGVtZW50KTtcbiAgICAgIGxldCBzaGFkb3dDaGlsZHJlbiA9XG4gICAgICAgICAgLyoqIEB0eXBlIHshUGFyZW50Tm9kZX0gKi8gKGVsZW1lbnQuc2hhZG93Um9vdCkuY2hpbGRyZW4gfHxcbiAgICAgICAgICBlbGVtZW50LnNoYWRvd1Jvb3QuY2hpbGROb2RlcztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hhZG93Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5zdHlsZVN1YnRyZWUoLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi8oc2hhZG93Q2hpbGRyZW5baV0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbiB8fCBlbGVtZW50LmNoaWxkTm9kZXM7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMuc3R5bGVTdWJ0cmVlKC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovKGNoaWxkcmVuW2ldKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqL1xuICBzdHlsZUVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuZW5zdXJlKCk7XG4gICAgbGV0IHtpc30gPSBnZXRJc0V4dGVuZHMoZWxlbWVudCk7XG4gICAgbGV0IHRlbXBsYXRlID0gdGVtcGxhdGVNYXBbaXNdO1xuICAgIGlmICh0ZW1wbGF0ZSAmJiBlbGVtZW50SGFzQnVpbHRDc3ModGVtcGxhdGUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZSAmJiAhQXBwbHlTaGltVXRpbHMudGVtcGxhdGVJc1ZhbGlkKHRlbXBsYXRlKSkge1xuICAgICAgLy8gb25seSByZXZhbGlkYXRlIHRlbXBsYXRlIG9uY2VcbiAgICAgIGlmICghQXBwbHlTaGltVXRpbHMudGVtcGxhdGVJc1ZhbGlkYXRpbmcodGVtcGxhdGUpKSB7XG4gICAgICAgIHRoaXMucHJlcGFyZVRlbXBsYXRlKHRlbXBsYXRlLCBpcyk7XG4gICAgICAgIEFwcGx5U2hpbVV0aWxzLnN0YXJ0VmFsaWRhdGluZ1RlbXBsYXRlKHRlbXBsYXRlKTtcbiAgICAgIH1cbiAgICAgIC8vIHVwZGF0ZSB0aGlzIGVsZW1lbnQgaW5zdGFuY2VcbiAgICAgIGxldCByb290ID0gZWxlbWVudC5zaGFkb3dSb290O1xuICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgbGV0IHN0eWxlID0gLyoqIEB0eXBlIHtIVE1MU3R5bGVFbGVtZW50fSAqLyhyb290LnF1ZXJ5U2VsZWN0b3IoJ3N0eWxlJykpO1xuICAgICAgICBpZiAoc3R5bGUpIHtcbiAgICAgICAgICAvLyByZXVzZSB0aGUgdGVtcGxhdGUncyBzdHlsZSBhc3QsIGl0IGhhcyBhbGwgdGhlIG9yaWdpbmFsIGNzcyB0ZXh0XG4gICAgICAgICAgc3R5bGVbJ19fY3NzUnVsZXMnXSA9IHRlbXBsYXRlWydfc3R5bGVBc3QnXTtcbiAgICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRvQ3NzVGV4dCh0ZW1wbGF0ZVsnX3N0eWxlQXN0J10pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcGVydGllc1xuICAgKi9cbiAgc3R5bGVEb2N1bWVudChwcm9wZXJ0aWVzKSB7XG4gICAgdGhpcy5lbnN1cmUoKTtcbiAgICB0aGlzLnN0eWxlU3VidHJlZShkb2N1bWVudC5ib2R5LCBwcm9wZXJ0aWVzKTtcbiAgfVxufVxuXG5pZiAoIXdpbmRvdy5TaGFkeUNTUyB8fCAhd2luZG93LlNoYWR5Q1NTLlNjb3BpbmdTaGltKSB7XG4gIGNvbnN0IGFwcGx5U2hpbUludGVyZmFjZSA9IG5ldyBBcHBseVNoaW1JbnRlcmZhY2UoKTtcbiAgbGV0IEN1c3RvbVN0eWxlSW50ZXJmYWNlID0gd2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZTtcblxuICAvKiogQHN1cHByZXNzIHtkdXBsaWNhdGV9ICovXG4gIHdpbmRvdy5TaGFkeUNTUyA9IHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50TmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gZWxlbWVudEV4dGVuZHNcbiAgICAgKi9cbiAgICBwcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lLCBlbGVtZW50RXh0ZW5kcykgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2UuZmx1c2hDdXN0b21TdHlsZXMoKTtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5wcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTFRlbXBsYXRlRWxlbWVudH0gdGVtcGxhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudE5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGVsZW1lbnRFeHRlbmRzXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlU3R5bGVzKHRlbXBsYXRlLCBlbGVtZW50TmFtZSwgZWxlbWVudEV4dGVuZHMpIHtcbiAgICAgIHdpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodGVtcGxhdGUsIGVsZW1lbnROYW1lLCBlbGVtZW50RXh0ZW5kcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxUZW1wbGF0ZUVsZW1lbnR9IHRlbXBsYXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnROYW1lXG4gICAgICovXG4gICAgcHJlcGFyZVRlbXBsYXRlRG9tKHRlbXBsYXRlLCBlbGVtZW50TmFtZSkge30sIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgc3R5bGVTdWJ0cmVlKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLnN0eWxlU3VidHJlZShlbGVtZW50LCBwcm9wZXJ0aWVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshSFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBzdHlsZUVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLmZsdXNoQ3VzdG9tU3R5bGVzKCk7XG4gICAgICBhcHBseVNoaW1JbnRlcmZhY2Uuc3R5bGVFbGVtZW50KGVsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBzdHlsZURvY3VtZW50KHByb3BlcnRpZXMpIHtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgICAgYXBwbHlTaGltSW50ZXJmYWNlLnN0eWxlRG9jdW1lbnQocHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRDb21wdXRlZFN0eWxlVmFsdWUoZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlVmFsdWUoZWxlbWVudCwgcHJvcGVydHkpO1xuICAgIH0sXG5cbiAgICBmbHVzaEN1c3RvbVN0eWxlcygpIHtcbiAgICAgIGFwcGx5U2hpbUludGVyZmFjZS5mbHVzaEN1c3RvbVN0eWxlcygpO1xuICAgIH0sXG5cbiAgICBuYXRpdmVDc3M6IG5hdGl2ZUNzc1ZhcmlhYmxlcyxcbiAgICBuYXRpdmVTaGFkb3c6IG5hdGl2ZVNoYWRvdyxcbiAgICBjc3NCdWlsZDogY3NzQnVpbGQsXG4gICAgZGlzYWJsZVJ1bnRpbWU6IGRpc2FibGVSdW50aW1lLFxuICB9O1xuXG4gIGlmIChDdXN0b21TdHlsZUludGVyZmFjZSkge1xuICAgIHdpbmRvdy5TaGFkeUNTUy5DdXN0b21TdHlsZUludGVyZmFjZSA9IEN1c3RvbVN0eWxlSW50ZXJmYWNlO1xuICB9XG59XG5cbndpbmRvdy5TaGFkeUNTUy5BcHBseVNoaW0gPSBhcHBseVNoaW07XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIEBzdXBwcmVzcyB7Y2hlY2tQcm90b3R5cGFsVHlwZXN9XG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG4gKiBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZFxuICogYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heVxuICogYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieVxuICogR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUFxuICogcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuICovXG5pbXBvcnQgeyBQcm9wZXJ0eUFjY2Vzc29ycyB9IGZyb20gJy4vcHJvcGVydHktYWNjZXNzb3JzLmpzJztcblxuaW1wb3J0IHsgZGVkdXBpbmdNaXhpbiB9IGZyb20gJy4uL3V0aWxzL21peGluLmpzJztcblxuY29uc3QgSE9TVF9ESVIgPSAvOmhvc3RcXCg6ZGlyXFwoKGx0cnxydGwpXFwpXFwpL2c7XG5jb25zdCBIT1NUX0RJUl9SRVBMQUNNRU5UID0gJzpob3N0KFtkaXI9XCIkMVwiXSknO1xuXG5jb25zdCBFTF9ESVIgPSAvKFtcXHNcXHctI1xcLlxcW1xcXVxcKl0qKTpkaXJcXCgobHRyfHJ0bClcXCkvZztcbmNvbnN0IEVMX0RJUl9SRVBMQUNNRU5UID0gJzpob3N0KFtkaXI9XCIkMlwiXSkgJDEnO1xuXG5jb25zdCBESVJfQ0hFQ0sgPSAvOmRpclxcKCg/Omx0cnxydGwpXFwpLztcblxuY29uc3QgU0hJTV9TSEFET1cgPSBCb29sZWFuKHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ2luVXNlJ10pO1xuXG4vKipcbiAqIEB0eXBlIHshQXJyYXk8IVBvbHltZXJfRGlyTWl4aW4+fVxuICovXG5jb25zdCBESVJfSU5TVEFOQ0VTID0gW107XG5cbi8qKiBAdHlwZSB7P011dGF0aW9uT2JzZXJ2ZXJ9ICovXG5sZXQgb2JzZXJ2ZXIgPSBudWxsO1xuXG5sZXQgZG9jdW1lbnREaXIgPSAnJztcblxuZnVuY3Rpb24gZ2V0UlRMKCkge1xuICBkb2N1bWVudERpciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7IVBvbHltZXJfRGlyTWl4aW59IGluc3RhbmNlIEluc3RhbmNlIHRvIHNldCBSVEwgc3RhdHVzIG9uXG4gKi9cbmZ1bmN0aW9uIHNldFJUTChpbnN0YW5jZSkge1xuICBpZiAoIWluc3RhbmNlLl9fYXV0b0Rpck9wdE91dCkge1xuICAgIGNvbnN0IGVsID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKGluc3RhbmNlKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RpcicsIGRvY3VtZW50RGlyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVEaXJlY3Rpb24oKSB7XG4gIGdldFJUTCgpO1xuICBkb2N1bWVudERpciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IERJUl9JTlNUQU5DRVMubGVuZ3RoOyBpKyspIHtcbiAgICBzZXRSVEwoRElSX0lOU1RBTkNFU1tpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGFrZVJlY29yZHMoKSB7XG4gIGlmIChvYnNlcnZlciAmJiBvYnNlcnZlci50YWtlUmVjb3JkcygpLmxlbmd0aCkge1xuICAgIHVwZGF0ZURpcmVjdGlvbigpO1xuICB9XG59XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IGFsbG93cyBlbGVtZW50cyB0byB1c2UgdGhlIGA6ZGlyYCBDU1MgU2VsZWN0b3IgdG9cbiAqIGhhdmUgdGV4dCBkaXJlY3Rpb24gc3BlY2lmaWMgc3R5bGluZy5cbiAqXG4gKiBXaXRoIHRoaXMgbWl4aW4sIGFueSBzdHlsZXNoZWV0IHByb3ZpZGVkIGluIHRoZSB0ZW1wbGF0ZSB3aWxsIHRyYW5zZm9ybVxuICogYDpkaXJgIGludG8gYDpob3N0KFtkaXJdKWAgYW5kIHN5bmMgZGlyZWN0aW9uIHdpdGggdGhlIHBhZ2UgdmlhIHRoZVxuICogZWxlbWVudCdzIGBkaXJgIGF0dHJpYnV0ZS5cbiAqXG4gKiBFbGVtZW50cyBjYW4gb3B0IG91dCBvZiB0aGUgZ2xvYmFsIHBhZ2UgdGV4dCBkaXJlY3Rpb24gYnkgc2V0dGluZyB0aGUgYGRpcmBcbiAqIGF0dHJpYnV0ZSBkaXJlY3RseSBpbiBgcmVhZHkoKWAgb3IgaW4gSFRNTC5cbiAqXG4gKiBDYXZlYXRzOlxuICogLSBBcHBsaWNhdGlvbnMgbXVzdCBzZXQgYDxodG1sIGRpcj1cImx0clwiPmAgb3IgYDxodG1sIGRpcj1cInJ0bFwiPmAgdG8gc3luY1xuICogICBkaXJlY3Rpb25cbiAqIC0gQXV0b21hdGljIGxlZnQtdG8tcmlnaHQgb3IgcmlnaHQtdG8tbGVmdCBzdHlsaW5nIGlzIHN5bmMnZCB3aXRoIHRoZVxuICogICBgPGh0bWw+YCBlbGVtZW50IG9ubHkuXG4gKiAtIENoYW5naW5nIGBkaXJgIGF0IHJ1bnRpbWUgaXMgc3VwcG9ydGVkLlxuICogLSBPcHRpbmcgb3V0IG9mIHRoZSBnbG9iYWwgZGlyZWN0aW9uIHN0eWxpbmcgaXMgcGVybWFuZW50XG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAYXBwbGllc01peGluIFByb3BlcnR5QWNjZXNzb3JzXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3MgQ2xhc3MgdG8gYXBwbHkgbWl4aW4gdG8uXG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6VCl9IHN1cGVyQ2xhc3Mgd2l0aCBtaXhpbiBhcHBsaWVkLlxuICovXG5leHBvcnQgY29uc3QgRGlyTWl4aW4gPSBkZWR1cGluZ01peGluKChiYXNlKSA9PiB7XG5cbiAgaWYgKCFTSElNX1NIQURPVykge1xuICAgIGlmICghb2JzZXJ2ZXIpIHtcbiAgICAgIGdldFJUTCgpO1xuICAgICAgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcih1cGRhdGVEaXJlY3Rpb24pO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHthdHRyaWJ1dGVzOiB0cnVlLCBhdHRyaWJ1dGVGaWx0ZXI6IFsnZGlyJ119KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5QWNjZXNzb3JzfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgY29uc3QgZWxlbWVudEJhc2UgPSBQcm9wZXJ0eUFjY2Vzc29ycyhiYXNlKTtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfRGlyTWl4aW59XG4gICAqL1xuICBjbGFzcyBEaXIgZXh0ZW5kcyBlbGVtZW50QmFzZSB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY3NzVGV4dCAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkkgLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gLlxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IEludGVyZmFjZXMgaW4gY2xvc3VyZSBkbyBub3QgaW5oZXJpdCBzdGF0aWNzLCBidXQgY2xhc3NlcyBkb1xuICAgICAqIEBub2NvbGxhcHNlXG4gICAgICovXG4gICAgc3RhdGljIF9wcm9jZXNzU3R5bGVUZXh0KGNzc1RleHQsIGJhc2VVUkkpIHtcbiAgICAgIC8vIFRPRE8oaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWNvbXBpbGVyL2lzc3Vlcy8zMjQwKTpcbiAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgY3NzVGV4dCA9IGVsZW1lbnRCYXNlLl9wcm9jZXNzU3R5bGVUZXh0LmNhbGwodGhpcywgY3NzVGV4dCwgYmFzZVVSSSk7XG4gICAgICBpZiAoIVNISU1fU0hBRE9XICYmIERJUl9DSEVDSy50ZXN0KGNzc1RleHQpKSB7XG4gICAgICAgIGNzc1RleHQgPSB0aGlzLl9yZXBsYWNlRGlySW5Dc3NUZXh0KGNzc1RleHQpO1xuICAgICAgICB0aGlzLl9fYWN0aXZhdGVEaXIgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNzc1RleHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZSBgOmRpcmAgaW4gdGhlIGdpdmVuIENTUyB0ZXh0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBDU1MgdGV4dCB0byByZXBsYWNlIERJUlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTW9kaWZpZWQgQ1NTXG4gICAgICogQG5vY29sbGFwc2VcbiAgICAgKi9cbiAgICBzdGF0aWMgX3JlcGxhY2VEaXJJbkNzc1RleHQodGV4dCkge1xuICAgICAgbGV0IHJlcGxhY2VkVGV4dCA9IHRleHQ7XG4gICAgICByZXBsYWNlZFRleHQgPSByZXBsYWNlZFRleHQucmVwbGFjZShIT1NUX0RJUiwgSE9TVF9ESVJfUkVQTEFDTUVOVCk7XG4gICAgICByZXBsYWNlZFRleHQgPSByZXBsYWNlZFRleHQucmVwbGFjZShFTF9ESVIsIEVMX0RJUl9SRVBMQUNNRU5UKTtcbiAgICAgIHJldHVybiByZXBsYWNlZFRleHQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fX2F1dG9EaXJPcHRPdXQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gQ2xvc3VyZSBkb2Vzbid0IHVuZGVyc3RhbmQgdGhhdCBgdGhpc2AgaXMgYW5cbiAgICAgKiAgICAgSFRNTEVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIHJlYWR5KCkge1xuICAgICAgc3VwZXIucmVhZHkoKTtcbiAgICAgIHRoaXMuX19hdXRvRGlyT3B0T3V0ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKHRoaXMpLmhhc0F0dHJpYnV0ZSgnZGlyJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHttaXNzaW5nUHJvcGVydGllc30gSWYgaXQgZXhpc3RzIG9uIGVsZW1lbnRCYXNlLCBpdCBjYW4gYmVcbiAgICAgKiAgIHN1cGVyJ2RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgaWYgKGVsZW1lbnRCYXNlLnByb3RvdHlwZS5jb25uZWN0ZWRDYWxsYmFjaykge1xuICAgICAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuX19hY3RpdmF0ZURpcikge1xuICAgICAgICB0YWtlUmVjb3JkcygpO1xuICAgICAgICBESVJfSU5TVEFOQ0VTLnB1c2godGhpcyk7XG4gICAgICAgIHNldFJUTCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBJZiBpdCBleGlzdHMgb24gZWxlbWVudEJhc2UsIGl0IGNhbiBiZVxuICAgICAqICAgc3VwZXInZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBpZiAoZWxlbWVudEJhc2UucHJvdG90eXBlLmRpc2Nvbm5lY3RlZENhbGxiYWNrKSB7XG4gICAgICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5fX2FjdGl2YXRlRGlyKSB7XG4gICAgICAgIGNvbnN0IGlkeCA9IERJUl9JTlNUQU5DRVMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgRElSX0lOU1RBTkNFUy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIERpci5fX2FjdGl2YXRlRGlyID0gZmFsc2U7XG5cbiAgcmV0dXJuIERpcjtcbn0pO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBNb2R1bGUgZm9yIHNjaGVkdWxpbmcgZmx1c2hhYmxlIHByZS1yZW5kZXIgYW5kIHBvc3QtcmVuZGVyIHRhc2tzLlxuICpcbiAqIEBzdW1tYXJ5IE1vZHVsZSBmb3Igc2NoZWR1bGluZyBmbHVzaGFibGUgcHJlLXJlbmRlciBhbmQgcG9zdC1yZW5kZXIgdGFza3MuXG4gKi9cblxuaW1wb3J0ICcuL2Jvb3QuanMnO1xuXG5sZXQgc2NoZWR1bGVkID0gZmFsc2U7XG5sZXQgYmVmb3JlUmVuZGVyUXVldWUgPSBbXTtcbmxldCBhZnRlclJlbmRlclF1ZXVlID0gW107XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuICBzY2hlZHVsZWQgPSB0cnVlO1xuICAvLyBiZWZvcmUgbmV4dCByZW5kZXJcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgIHNjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGZsdXNoUXVldWUoYmVmb3JlUmVuZGVyUXVldWUpO1xuICAgIC8vIGFmdGVyIHRoZSByZW5kZXJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgcnVuUXVldWUoYWZ0ZXJSZW5kZXJRdWV1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmbHVzaFF1ZXVlKHF1ZXVlKSB7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBjYWxsTWV0aG9kKHF1ZXVlLnNoaWZ0KCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJ1blF1ZXVlKHF1ZXVlKSB7XG4gIGZvciAobGV0IGk9MCwgbD1xdWV1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBjYWxsTWV0aG9kKHF1ZXVlLnNoaWZ0KCkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGxNZXRob2QoaW5mbykge1xuICBjb25zdCBjb250ZXh0ID0gaW5mb1swXTtcbiAgY29uc3QgY2FsbGJhY2sgPSBpbmZvWzFdO1xuICBjb25zdCBhcmdzID0gaW5mb1syXTtcbiAgdHJ5IHtcbiAgICBjYWxsYmFjay5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgfSBjYXRjaChlKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aHJvdyBlO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogRmx1c2hlcyBhbGwgYGJlZm9yZU5leHRSZW5kZXJgIHRhc2tzLCBmb2xsb3dlZCBieSBhbGwgYGFmdGVyTmV4dFJlbmRlcmBcbiAqIHRhc2tzLlxuICpcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgd2hpbGUgKGJlZm9yZVJlbmRlclF1ZXVlLmxlbmd0aCB8fCBhZnRlclJlbmRlclF1ZXVlLmxlbmd0aCkge1xuICAgIGZsdXNoUXVldWUoYmVmb3JlUmVuZGVyUXVldWUpO1xuICAgIGZsdXNoUXVldWUoYWZ0ZXJSZW5kZXJRdWV1ZSk7XG4gIH1cbiAgc2NoZWR1bGVkID0gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBFbnF1ZXVlcyBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgcnVuIGJlZm9yZSB0aGUgbmV4dCByZW5kZXIsIGF0XG4gKiBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB0aW1pbmcuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIGZvciBlbnF1ZXVpbmcgd29yayB0aGF0IHJlcXVpcmVzIERPTSBtZWFzdXJlbWVudCxcbiAqIHNpbmNlIG1lYXN1cmVtZW50IG1heSBub3QgYmUgcmVsaWFibGUgaW4gY3VzdG9tIGVsZW1lbnQgY2FsbGJhY2tzIGJlZm9yZVxuICogdGhlIGZpcnN0IHJlbmRlciwgYXMgd2VsbCBhcyBmb3IgYmF0Y2hpbmcgbWVhc3VyZW1lbnQgdGFza3MgaW4gZ2VuZXJhbC5cbiAqXG4gKiBUYXNrcyBpbiB0aGlzIHF1ZXVlIG1heSBiZSBmbHVzaGVkIGJ5IGNhbGxpbmcgYGZsdXNoKClgLlxuICpcbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBDb250ZXh0IG9iamVjdCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBib3VuZCB0b1xuICogQHBhcmFtIHtmdW5jdGlvbiguLi4qKTp2b2lkfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHBhcmFtIHshQXJyYXk9fSBhcmdzIEFuIGFycmF5IG9mIGFyZ3VtZW50cyB0byBjYWxsIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aXRoXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlTmV4dFJlbmRlcihjb250ZXh0LCBjYWxsYmFjaywgYXJncykge1xuICBpZiAoIXNjaGVkdWxlZCkge1xuICAgIHNjaGVkdWxlKCk7XG4gIH1cbiAgYmVmb3JlUmVuZGVyUXVldWUucHVzaChbY29udGV4dCwgY2FsbGJhY2ssIGFyZ3NdKTtcbn1cblxuLyoqXG4gKiBFbnF1ZXVlcyBhIGNhbGxiYWNrIHdoaWNoIHdpbGwgYmUgcnVuIGFmdGVyIHRoZSBuZXh0IHJlbmRlciwgZXF1aXZhbGVudFxuICogdG8gb25lIHRhc2sgKGBzZXRUaW1lb3V0YCkgYWZ0ZXIgdGhlIG5leHQgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAuXG4gKlxuICogVGhpcyBtZXRob2QgaXMgdXNlZnVsIGZvciB0dW5pbmcgdGhlIGZpcnN0LXJlbmRlciBwZXJmb3JtYW5jZSBvZiBhblxuICogZWxlbWVudCBvciBhcHBsaWNhdGlvbiBieSBkZWZlcnJpbmcgbm9uLWNyaXRpY2FsIHdvcmsgdW50aWwgYWZ0ZXIgdGhlXG4gKiBmaXJzdCBwYWludC4gIFR5cGljYWwgbm9uLXJlbmRlci1jcml0aWNhbCB3b3JrIG1heSBpbmNsdWRlIGFkZGluZyBVSVxuICogZXZlbnQgbGlzdGVuZXJzIGFuZCBhcmlhIGF0dHJpYnV0ZXMuXG4gKlxuICogQHBhcmFtIHsqfSBjb250ZXh0IENvbnRleHQgb2JqZWN0IHRoZSBjYWxsYmFjayBmdW5jdGlvbiB3aWxsIGJlIGJvdW5kIHRvXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopOnZvaWR9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFBcnJheT19IGFyZ3MgQW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIGNhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpdGhcbiAqIEByZXR1cm4ge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZnRlck5leHRSZW5kZXIoY29udGV4dCwgY2FsbGJhY2ssIGFyZ3MpIHtcbiAgaWYgKCFzY2hlZHVsZWQpIHtcbiAgICBzY2hlZHVsZSgpO1xuICB9XG4gIGFmdGVyUmVuZGVyUXVldWUucHVzaChbY29udGV4dCwgY2FsbGJhY2ssIGFyZ3NdKTtcbn1cblxuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoJ3VucmVzb2x2ZWQnKTtcbn1cblxuaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdpbnRlcmFjdGl2ZScgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICByZXNvbHZlKCk7XG59IGVsc2Uge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHJlc29sdmUpO1xufVxuXG5leHBvcnQge307XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuaW1wb3J0ICcuL2Jvb3QuanMnO1xuaW1wb3J0IHtlbnF1ZXVlRGVib3VuY2VyLCBmbHVzaERlYm91bmNlcnN9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlLmpzJztcbmV4cG9ydCB7ZW5xdWV1ZURlYm91bmNlcn07XG5cbi8qKlxuICogRm9yY2VzIHNldmVyYWwgY2xhc3NlcyBvZiBhc3luY2hyb25vdXNseSBxdWV1ZWQgdGFza3MgdG8gZmx1c2g6XG4gKiAtIERlYm91bmNlcnMgYWRkZWQgdmlhIGBlbnF1ZXVlRGVib3VuY2VyYFxuICogLSBTaGFkeURPTSBkaXN0cmlidXRpb25cbiAqXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5leHBvcnQgY29uc3QgZmx1c2ggPSBmdW5jdGlvbigpIHtcbiAgbGV0IHNoYWR5RE9NLCBkZWJvdW5jZXJzO1xuICBkbyB7XG4gICAgc2hhZHlET00gPSB3aW5kb3cuU2hhZHlET00gJiYgU2hhZHlET00uZmx1c2goKTtcbiAgICBpZiAod2luZG93LlNoYWR5Q1NTICYmIHdpbmRvdy5TaGFkeUNTUy5TY29waW5nU2hpbSkge1xuICAgICAgd2luZG93LlNoYWR5Q1NTLlNjb3BpbmdTaGltLmZsdXNoKCk7XG4gICAgfVxuICAgIGRlYm91bmNlcnMgPSBmbHVzaERlYm91bmNlcnMoKTtcbiAgfSB3aGlsZSAoc2hhZHlET00gfHwgZGVib3VuY2Vycyk7XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnLi4vdXRpbHMvYm9vdC5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcbmltcG9ydCB7IEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIgfSBmcm9tICcuLi91dGlscy9mbGF0dGVuZWQtbm9kZXMtb2JzZXJ2ZXIuanMnO1xuZXhwb3J0IHsgZmx1c2gsIGVucXVldWVEZWJvdW5jZXIgYXMgYWRkRGVib3VuY2VyIH0gZnJvbSAnLi4vdXRpbHMvZmx1c2guanMnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlLmpzJzsgIC8vIHVzZWQgaW4gdHlwZSBhbm5vdGF0aW9uc1xuLyogZXNsaW50LWVuYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXG5jb25zdCBwID0gRWxlbWVudC5wcm90b3R5cGU7XG4vKipcbiAqIEBjb25zdCB7ZnVuY3Rpb24odGhpczpOb2RlLCBzdHJpbmcpOiBib29sZWFufVxuICovXG5jb25zdCBub3JtYWxpemVkTWF0Y2hlc1NlbGVjdG9yID0gcC5tYXRjaGVzIHx8IHAubWF0Y2hlc1NlbGVjdG9yIHx8XG4gIHAubW96TWF0Y2hlc1NlbGVjdG9yIHx8IHAubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgcC5vTWF0Y2hlc1NlbGVjdG9yIHx8IHAud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXG4vKipcbiAqIENyb3NzLXBsYXRmb3JtIGBlbGVtZW50Lm1hdGNoZXNgIHNoaW0uXG4gKlxuICogQGZ1bmN0aW9uIG1hdGNoZXNTZWxlY3RvclxuICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIHRvIGNoZWNrIHNlbGVjdG9yIGFnYWluc3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBTZWxlY3RvciB0byBtYXRjaFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBub2RlIG1hdGNoZWQgc2VsZWN0b3JcbiAqL1xuZXhwb3J0IGNvbnN0IG1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKG5vZGUsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBub3JtYWxpemVkTWF0Y2hlc1NlbGVjdG9yLmNhbGwobm9kZSwgc2VsZWN0b3IpO1xufTtcblxuLyoqXG4gKiBOb2RlIEFQSSB3cmFwcGVyIGNsYXNzIHJldHVybmVkIGZyb20gYFBvbHltZXIuZG9tLih0YXJnZXQpYCB3aGVuXG4gKiBgdGFyZ2V0YCBpcyBhIGBOb2RlYC5cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyRG9tQXBpfVxuICogQHVucmVzdHJpY3RlZFxuICovXG5jbGFzcyBEb21BcGlOYXRpdmUge1xuXG4gIC8qKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIE5vZGUgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIFBvbHltZXIuZG9tIGhlbHBlciBvYmplY3QuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihub2RlKSB7XG4gICAgaWYgKHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ2luVXNlJ10pIHtcbiAgICAgIHdpbmRvd1snU2hhZHlET00nXVsncGF0Y2gnXShub2RlKTtcbiAgICB9XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGluc3RhbmNlIG9mIGBGbGF0dGVuZWROb2Rlc09ic2VydmVyYCB0aGF0XG4gICAqIGxpc3RlbnMgZm9yIG5vZGUgY2hhbmdlcyBvbiB0aGlzIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpIVE1MRWxlbWVudCwgeyB0YXJnZXQ6ICFIVE1MRWxlbWVudCwgYWRkZWROb2RlczogIUFycmF5PCFFbGVtZW50PiwgcmVtb3ZlZE5vZGVzOiAhQXJyYXk8IUVsZW1lbnQ+IH0pOnZvaWR9IGNhbGxiYWNrIENhbGxlZCB3aGVuIGRpcmVjdCBvciBkaXN0cmlidXRlZCBjaGlsZHJlblxuICAgKiAgIG9mIHRoaXMgZWxlbWVudCBjaGFuZ2VzXG4gICAqIEByZXR1cm4geyFQb2x5bWVyRG9tQXBpLk9ic2VydmVIYW5kbGV9IE9ic2VydmVyIGluc3RhbmNlXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgb2JzZXJ2ZU5vZGVzKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5ldyBGbGF0dGVuZWROb2Rlc09ic2VydmVyKFxuICAgICAgICAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi8odGhpcy5ub2RlKSwgY2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3RzIGFuIG9ic2VydmVyIHByZXZpb3VzbHkgY3JlYXRlZCB2aWEgYG9ic2VydmVOb2Rlc2BcbiAgICpcbiAgICogQHBhcmFtIHshUG9seW1lckRvbUFwaS5PYnNlcnZlSGFuZGxlfSBvYnNlcnZlckhhbmRsZSBPYnNlcnZlciBpbnN0YW5jZVxuICAgKiAgIHRvIGRpc2Nvbm5lY3QuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgdW5vYnNlcnZlTm9kZXMob2JzZXJ2ZXJIYW5kbGUpIHtcbiAgICBvYnNlcnZlckhhbmRsZS5kaXNjb25uZWN0KCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZWQgYXMgYSBiYWNrd2FyZHMtY29tcGF0aWJsZSBBUEkgb25seS4gIFRoaXMgbWV0aG9kIGRvZXMgbm90aGluZy5cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIG5vdGlmeU9ic2VydmVyKCkge31cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBub2RlIGlzIGNvbnRhaW5lZCB3aXRoIHRoaXMgZWxlbWVudCdzXG4gICAqIGxpZ2h0LURPTSBjaGlsZHJlbiBvciBzaGFkb3cgcm9vdCwgaW5jbHVkaW5nIGFueSBuZXN0ZWQgc2hhZG93IHJvb3RzXG4gICAqIG9mIGNoaWxkcmVuIHRoZXJlaW4uXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZSBOb2RlIHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBgbm9kZWAgaXMgY29udGFpbmVkIHdpdGhpblxuICAgKiAgIHRoaXMgZWxlbWVudCdzIGxpZ2h0IG9yIHNoYWRvdyBET00uXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZGVlcENvbnRhaW5zKG5vZGUpIHtcbiAgICBpZiAod3JhcCh0aGlzLm5vZGUpLmNvbnRhaW5zKG5vZGUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IG4gPSBub2RlO1xuICAgIGxldCBkb2MgPSBub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgLy8gd2FsayBmcm9tIG5vZGUgdG8gYHRoaXNgIG9yIGBkb2N1bWVudGBcbiAgICB3aGlsZSAobiAmJiBuICE9PSBkb2MgJiYgbiAhPT0gdGhpcy5ub2RlKSB7XG4gICAgICAvLyB1c2UgbG9naWNhbCBwYXJlbnRub2RlLCBvciBuYXRpdmUgU2hhZG93Um9vdCBob3N0XG4gICAgICBuID0gd3JhcChuKS5wYXJlbnROb2RlIHx8IHdyYXAobikuaG9zdDtcbiAgICB9XG4gICAgcmV0dXJuIG4gPT09IHRoaXMubm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgb2YgdGhpcyBub2RlLiAgRXF1aXZhbGVudCB0byBgZ2V0Um9vdE5vZGUoKWAuXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9IFRvcCBtb3N0IGVsZW1lbnQgaW4gdGhlIGRvbSB0cmVlIGluIHdoaWNoIHRoZSBub2RlXG4gICAqIGV4aXN0cy4gSWYgdGhlIG5vZGUgaXMgY29ubmVjdGVkIHRvIGEgZG9jdW1lbnQgdGhpcyBpcyBlaXRoZXIgYVxuICAgKiBzaGFkb3dSb290IG9yIHRoZSBkb2N1bWVudDsgb3RoZXJ3aXNlLCBpdCBtYXkgYmUgdGhlIG5vZGVcbiAgICogaXRzZWxmIG9yIGEgbm9kZSBvciBkb2N1bWVudCBmcmFnbWVudCBjb250YWluaW5nIGl0LlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldE93bmVyUm9vdCgpIHtcbiAgICByZXR1cm4gd3JhcCh0aGlzLm5vZGUpLmdldFJvb3ROb2RlKCk7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHNsb3QgZWxlbWVudHMsIHJldHVybnMgdGhlIG5vZGVzIGFzc2lnbmVkIHRvIHRoZSBzbG90OyBvdGhlcndpc2VcbiAgICogYW4gZW1wdHkgYXJyYXkuIEl0IGlzIGVxdWl2YWxlbnQgdG8gYDxzbG90Pi5hZGRpZ25lZE5vZGVzKHtmbGF0dGVuOnRydWV9KWAuXG4gICAqXG4gICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IEFycmF5IG9mIGFzc2lnbmVkIG5vZGVzXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0RGlzdHJpYnV0ZWROb2RlcygpIHtcbiAgICByZXR1cm4gKHRoaXMubm9kZS5sb2NhbE5hbWUgPT09ICdzbG90JykgP1xuICAgICAgd3JhcCh0aGlzLm5vZGUpLmFzc2lnbmVkTm9kZXMoe2ZsYXR0ZW46IHRydWV9KSA6XG4gICAgICBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBzbG90cyB0aGlzIGVsZW1lbnQgd2FzIGRpc3RyaWJ1dGVkIHRvLlxuICAgKlxuICAgKiBAcmV0dXJuIHshQXJyYXk8IUhUTUxTbG90RWxlbWVudD59IERlc2NyaXB0aW9uXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgZ2V0RGVzdGluYXRpb25JbnNlcnRpb25Qb2ludHMoKSB7XG4gICAgbGV0IGlwJCA9IFtdO1xuICAgIGxldCBuID0gd3JhcCh0aGlzLm5vZGUpLmFzc2lnbmVkU2xvdDtcbiAgICB3aGlsZSAobikge1xuICAgICAgaXAkLnB1c2gobik7XG4gICAgICBuID0gd3JhcChuKS5hc3NpZ25lZFNsb3Q7XG4gICAgfVxuICAgIHJldHVybiBpcCQ7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgYGltcG9ydE5vZGVgIG9uIHRoZSBgb3duZXJEb2N1bWVudGAgZm9yIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBOb2RlIHRvIGltcG9ydFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRlZXAgVHJ1ZSBpZiB0aGUgbm9kZSBzaG91bGQgYmUgY2xvbmVkIGRlZXBseSBkdXJpbmdcbiAgICogICBpbXBvcnRcbiAgICogQHJldHVybiB7Tm9kZX0gQ2xvbmUgb2YgZ2l2ZW4gbm9kZSBpbXBvcnRlZCB0byB0aGlzIG93bmVyIGRvY3VtZW50XG4gICAqL1xuICBpbXBvcnROb2RlKG5vZGUsIGRlZXApIHtcbiAgICBsZXQgZG9jID0gdGhpcy5ub2RlIGluc3RhbmNlb2YgRG9jdW1lbnQgPyB0aGlzLm5vZGUgOlxuICAgICAgdGhpcy5ub2RlLm93bmVyRG9jdW1lbnQ7XG4gICAgcmV0dXJuIHdyYXAoZG9jKS5pbXBvcnROb2RlKG5vZGUsIGRlZXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IFJldHVybnMgYSBmbGF0dGVuZWQgbGlzdCBvZiBhbGwgY2hpbGQgbm9kZXMgYW5kXG4gICAqIG5vZGVzIGFzc2lnbmVkIHRvIGNoaWxkIHNsb3RzLlxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKSB7XG4gICAgcmV0dXJuIEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIuZ2V0RmxhdHRlbmVkTm9kZXMoXG4gICAgICAgIC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqLyAodGhpcy5ub2RlKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIGZpbHRlcmVkIGxpc3Qgb2YgZmxhdHRlbmVkIGNoaWxkIGVsZW1lbnRzIGZvciB0aGlzIGVsZW1lbnQgYmFzZWRcbiAgICogb24gdGhlIGdpdmVuIHNlbGVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gZmlsdGVyIG5vZGVzIGFnYWluc3RcbiAgICogQHJldHVybiB7IUFycmF5PCFIVE1MRWxlbWVudD59IExpc3Qgb2YgZmxhdHRlbmVkIGNoaWxkIGVsZW1lbnRzXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgcXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgbGV0IGMkID0gdGhpcy5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCk7XG4gICAgbGV0IGxpc3QgPSBbXTtcbiAgICBmb3IgKGxldCBpPTAsIGw9YyQubGVuZ3RoLCBjOyAoaTxsKSAmJiAoYz1jJFtpXSk7IGkrKykge1xuICAgICAgaWYgKChjLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkgJiZcbiAgICAgICAgICBtYXRjaGVzU2VsZWN0b3IoYywgc2VsZWN0b3IpKSB7XG4gICAgICAgIGxpc3QucHVzaChjKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICAvKipcbiAgICogRm9yIHNoYWRvdyByb290cywgcmV0dXJucyB0aGUgY3VycmVudGx5IGZvY3VzZWQgZWxlbWVudCB3aXRoaW4gdGhpc1xuICAgKiBzaGFkb3cgcm9vdC5cbiAgICpcbiAgICogcmV0dXJuIHtOb2RlfHVuZGVmaW5lZH0gQ3VycmVudGx5IGZvY3VzZWQgZWxlbWVudFxuICAgKiBAb3ZlcnJpZGVcbiAgICovXG4gIGdldCBhY3RpdmVFbGVtZW50KCkge1xuICAgIGxldCBub2RlID0gdGhpcy5ub2RlO1xuICAgIHJldHVybiBub2RlLl9hY3RpdmVFbGVtZW50ICE9PSB1bmRlZmluZWQgPyBub2RlLl9hY3RpdmVFbGVtZW50IDogbm9kZS5hY3RpdmVFbGVtZW50O1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRNZXRob2RzKHByb3RvLCBtZXRob2RzKSB7XG4gIGZvciAobGV0IGk9MDsgaSA8IG1ldGhvZHMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbWV0aG9kID0gbWV0aG9kc1tpXTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuICAgIHByb3RvW21ldGhvZF0gPSAvKiogQHRoaXMge0RvbUFwaU5hdGl2ZX0gKi8gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2RlW21ldGhvZF0uYXBwbHkodGhpcy5ub2RlLCBhcmd1bWVudHMpO1xuICAgIH07XG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRSZWFkT25seVByb3BlcnRpZXMocHJvdG8sIHByb3BlcnRpZXMpIHtcbiAgZm9yIChsZXQgaT0wOyBpIDwgcHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBuYW1lID0gcHJvcGVydGllc1tpXTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG8sIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IGRvbUFwaSA9IC8qKiBAdHlwZSB7RG9tQXBpTmF0aXZlfSAqLyh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGRvbUFwaS5ub2RlW25hbWVdO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcndhcmRQcm9wZXJ0aWVzKHByb3RvLCBwcm9wZXJ0aWVzKSB7XG4gIGZvciAobGV0IGk9MDsgaSA8IHByb3BlcnRpZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgbmFtZSA9IHByb3BlcnRpZXNbaV07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvLCBuYW1lLCB7XG4gICAgICAvKipcbiAgICAgICAqIEB0aGlzIHtEb21BcGlOYXRpdmV9XG4gICAgICAgKiBAcmV0dXJuIHsqfSAuXG4gICAgICAgKi9cbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVbbmFtZV07XG4gICAgICB9LFxuICAgICAgLyoqXG4gICAgICAgKiBAdGhpcyB7RG9tQXBpTmF0aXZlfVxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSAuXG4gICAgICAgKi9cbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5ub2RlW25hbWVdID0gdmFsdWU7XG4gICAgICB9LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuXG4vKipcbiAqIEV2ZW50IEFQSSB3cmFwcGVyIGNsYXNzIHJldHVybmVkIGZyb20gYGRvbS4odGFyZ2V0KWAgd2hlblxuICogYHRhcmdldGAgaXMgYW4gYEV2ZW50YC5cbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50QXBpIHtcbiAgY29uc3RydWN0b3IoZXZlbnQpIHtcbiAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZmlyc3Qgbm9kZSBvbiB0aGUgYGNvbXBvc2VkUGF0aGAgb2YgdGhpcyBldmVudC5cbiAgICpcbiAgICogQHJldHVybiB7IUV2ZW50VGFyZ2V0fSBUaGUgbm9kZSB0aGlzIGV2ZW50IHdhcyBkaXNwYXRjaGVkIHRvXG4gICAqL1xuICBnZXQgcm9vdFRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXRoWzBdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGxvY2FsIChyZS10YXJnZXRlZCkgdGFyZ2V0IGZvciB0aGlzIGV2ZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHshRXZlbnRUYXJnZXR9IFRoZSBsb2NhbCAocmUtdGFyZ2V0ZWQpIHRhcmdldCBmb3IgdGhpcyBldmVudC5cbiAgICovXG4gIGdldCBsb2NhbFRhcmdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5ldmVudC50YXJnZXQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYGNvbXBvc2VkUGF0aGAgZm9yIHRoaXMgZXZlbnQuXG4gICAqIEByZXR1cm4geyFBcnJheTwhRXZlbnRUYXJnZXQ+fSBUaGUgbm9kZXMgdGhpcyBldmVudCBwcm9wYWdhdGVkIHRocm91Z2hcbiAgICovXG4gIGdldCBwYXRoKCkge1xuICAgIHJldHVybiB0aGlzLmV2ZW50LmNvbXBvc2VkUGF0aCgpO1xuICB9XG59XG5cbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkZWVwXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5jbG9uZU5vZGU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICogQHJldHVybiB7IU5vZGV9XG4gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQ7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHshTm9kZX0gbmV3Q2hpbGRcbiAqIEBwYXJhbSB7Tm9kZX0gcmVmQ2hpbGRcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmluc2VydEJlZm9yZTtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gKiBAcmV0dXJuIHshTm9kZX1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5yZW1vdmVDaGlsZDtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyFOb2RlfSBvbGRDaGlsZFxuICogQHBhcmFtIHshTm9kZX0gbmV3Q2hpbGRcbiAqIEByZXR1cm4geyFOb2RlfVxuICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnJlcGxhY2VDaGlsZDtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gKiBAcmV0dXJuIHt2b2lkfVxuICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnNldEF0dHJpYnV0ZTtcbi8qKlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHJldHVybiB7dm9pZH1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGU7XG4vKipcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yXG4gKiBAcmV0dXJuIHs/RWxlbWVudH1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yO1xuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHJldHVybiB7IU5vZGVMaXN0PCFFbGVtZW50Pn1cbiAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5xdWVyeVNlbGVjdG9yQWxsO1xuXG4vKiogQHR5cGUgez9Ob2RlfSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5wYXJlbnROb2RlO1xuLyoqIEB0eXBlIHs/Tm9kZX0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuZmlyc3RDaGlsZDtcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmxhc3RDaGlsZDtcbi8qKiBAdHlwZSB7P05vZGV9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLm5leHRTaWJsaW5nO1xuLyoqIEB0eXBlIHs/Tm9kZX0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUucHJldmlvdXNTaWJsaW5nO1xuLyoqIEB0eXBlIHs/SFRNTEVsZW1lbnR9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmZpcnN0RWxlbWVudENoaWxkO1xuLyoqIEB0eXBlIHs/SFRNTEVsZW1lbnR9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmxhc3RFbGVtZW50Q2hpbGQ7XG4vKiogQHR5cGUgez9IVE1MRWxlbWVudH0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUubmV4dEVsZW1lbnRTaWJsaW5nO1xuLyoqIEB0eXBlIHs/SFRNTEVsZW1lbnR9ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4vKiogQHR5cGUgeyFBcnJheTwhTm9kZT59ICovXG5Eb21BcGlOYXRpdmUucHJvdG90eXBlLmNoaWxkTm9kZXM7XG4vKiogQHR5cGUgeyFBcnJheTwhSFRNTEVsZW1lbnQ+fSAqL1xuRG9tQXBpTmF0aXZlLnByb3RvdHlwZS5jaGlsZHJlbjtcbi8qKiBAdHlwZSB7P0RPTVRva2VuTGlzdH0gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuY2xhc3NMaXN0O1xuXG4vKiogQHR5cGUge3N0cmluZ30gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUudGV4dENvbnRlbnQ7XG4vKiogQHR5cGUge3N0cmluZ30gKi9cbkRvbUFwaU5hdGl2ZS5wcm90b3R5cGUuaW5uZXJIVE1MO1xuXG5sZXQgRG9tQXBpSW1wbCA9IERvbUFwaU5hdGl2ZTtcblxuaWYgKHdpbmRvd1snU2hhZHlET00nXSAmJiB3aW5kb3dbJ1NoYWR5RE9NJ11bJ2luVXNlJ10gJiYgd2luZG93WydTaGFkeURPTSddWydub1BhdGNoJ10gJiYgd2luZG93WydTaGFkeURPTSddWydXcmFwcGVyJ10pIHtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICAgKi9cbiAgY2xhc3MgV3JhcHBlciBleHRlbmRzIHdpbmRvd1snU2hhZHlET00nXVsnV3JhcHBlciddIHt9XG5cbiAgLy8gY29weSBiZXNwb2tlIEFQSSBvbnRvIHdyYXBwZXJcbiAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSkuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgIGlmIChwcm9wICE9ICdhY3RpdmVFbGVtZW50Jykge1xuICAgICAgV3JhcHBlci5wcm90b3R5cGVbcHJvcF0gPSBEb21BcGlOYXRpdmUucHJvdG90eXBlW3Byb3BdO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gTm90ZSwgYGNsYXNzTGlzdGAgaXMgaGVyZSBvbmx5IGZvciBsZWdhY3kgY29tcGF0aWJpbGl0eSBzaW5jZSBpdCBkb2VzIG5vdFxuICAvLyB0cmlnZ2VyIGRpc3RyaWJ1dGlvbiBpbiB2MSBTaGFkb3cgRE9NLlxuICBmb3J3YXJkUmVhZE9ubHlQcm9wZXJ0aWVzKFdyYXBwZXIucHJvdG90eXBlLCBbXG4gICAgJ2NsYXNzTGlzdCdcbiAgXSk7XG5cbiAgRG9tQXBpSW1wbCA9IFdyYXBwZXI7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoRXZlbnRBcGkucHJvdG90eXBlLCB7XG5cbiAgICAvLyBSZXR1cm5zIHRoZSBcImxvd2VzdFwiIG5vZGUgaW4gdGhlIHNhbWUgcm9vdCBhcyB0aGUgZXZlbnQncyBjdXJyZW50VGFyZ2V0LlxuICAgIC8vIFdoZW4gaW4gYG5vUGF0Y2hgIG1vZGUsIHRoaXMgbXVzdCBiZSBjYWxjdWxhdGVkIGJ5IHdhbGtpbmcgdGhlIGV2ZW50J3NcbiAgICAvLyBwYXRoLlxuICAgIGxvY2FsVGFyZ2V0OiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRSb290ID0gY3VycmVudCAmJiBkb20oY3VycmVudCkuZ2V0T3duZXJSb290KCk7XG4gICAgICAgIGNvbnN0IHAkID0gdGhpcy5wYXRoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHAkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgZSA9IHAkW2ldO1xuICAgICAgICAgIGlmIChkb20oZSkuZ2V0T3duZXJSb290KCkgPT09IGN1cnJlbnRSb290KSB7XG4gICAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9LFxuXG4gICAgcGF0aDoge1xuICAgICAgZ2V0KCkge1xuICAgICAgICByZXR1cm4gd2luZG93WydTaGFkeURPTSddWydjb21wb3NlZFBhdGgnXSh0aGlzLmV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9XG4gIH0pO1xuXG59IGVsc2Uge1xuXG4gIC8vIE1ldGhvZHMgdGhhdCBjYW4gcHJvdm9rZSBkaXN0cmlidXRpb24gb3IgbXVzdCByZXR1cm4gdGhlIGxvZ2ljYWwsIG5vdFxuICAvLyBjb21wb3NlZCB0cmVlLlxuICBmb3J3YXJkTWV0aG9kcyhEb21BcGlOYXRpdmUucHJvdG90eXBlLCBbXG4gICAgJ2Nsb25lTm9kZScsICdhcHBlbmRDaGlsZCcsICdpbnNlcnRCZWZvcmUnLCAncmVtb3ZlQ2hpbGQnLFxuICAgICdyZXBsYWNlQ2hpbGQnLCAnc2V0QXR0cmlidXRlJywgJ3JlbW92ZUF0dHJpYnV0ZScsXG4gICAgJ3F1ZXJ5U2VsZWN0b3InLCAncXVlcnlTZWxlY3RvckFsbCdcbiAgXSk7XG5cbiAgLy8gUHJvcGVydGllcyB0aGF0IHNob3VsZCByZXR1cm4gdGhlIGxvZ2ljYWwsIG5vdCBjb21wb3NlZCB0cmVlLiBOb3RlLCBgY2xhc3NMaXN0YFxuICAvLyBpcyBoZXJlIG9ubHkgZm9yIGxlZ2FjeSBjb21wYXRpYmlsaXR5IHNpbmNlIGl0IGRvZXMgbm90IHRyaWdnZXIgZGlzdHJpYnV0aW9uXG4gIC8vIGluIHYxIFNoYWRvdyBET00uXG4gIGZvcndhcmRSZWFkT25seVByb3BlcnRpZXMoRG9tQXBpTmF0aXZlLnByb3RvdHlwZSwgW1xuICAgICdwYXJlbnROb2RlJywgJ2ZpcnN0Q2hpbGQnLCAnbGFzdENoaWxkJyxcbiAgICAnbmV4dFNpYmxpbmcnLCAncHJldmlvdXNTaWJsaW5nJywgJ2ZpcnN0RWxlbWVudENoaWxkJyxcbiAgICAnbGFzdEVsZW1lbnRDaGlsZCcsICduZXh0RWxlbWVudFNpYmxpbmcnLCAncHJldmlvdXNFbGVtZW50U2libGluZycsXG4gICAgJ2NoaWxkTm9kZXMnLCAnY2hpbGRyZW4nLCAnY2xhc3NMaXN0J1xuICBdKTtcblxuICBmb3J3YXJkUHJvcGVydGllcyhEb21BcGlOYXRpdmUucHJvdG90eXBlLCBbXG4gICAgJ3RleHRDb250ZW50JywgJ2lubmVySFRNTCcsICdjbGFzc05hbWUnXG4gIF0pO1xufVxuXG5leHBvcnQgY29uc3QgRG9tQXBpID0gRG9tQXBpSW1wbDtcblxuLyoqXG4gKiBMZWdhY3kgRE9NIGFuZCBFdmVudCBtYW5pcHVsYXRpb24gQVBJIHdyYXBwZXIgZmFjdG9yeSB1c2VkIHRvIGFic3RyYWN0XG4gKiBkaWZmZXJlbmNlcyBiZXR3ZWVuIG5hdGl2ZSBTaGFkb3cgRE9NIGFuZCBcIlNoYWR5IERPTVwiIHdoZW4gcG9seWZpbGxpbmcgb25cbiAqIG9sZGVyIGJyb3dzZXJzLlxuICpcbiAqIE5vdGUgdGhhdCBpbiBQb2x5bWVyIDIueCB1c2Ugb2YgYFBvbHltZXIuZG9tYCBpcyBubyBsb25nZXIgcmVxdWlyZWQgYW5kXG4gKiBpbiB0aGUgbWFqb3JpdHkgb2YgY2FzZXMgc2ltcGx5IGZhY2FkZXMgZGlyZWN0bHkgdG8gdGhlIHN0YW5kYXJkIG5hdGl2ZVxuICogQVBJLlxuICpcbiAqIEBzdW1tYXJ5IExlZ2FjeSBET00gYW5kIEV2ZW50IG1hbmlwdWxhdGlvbiBBUEkgd3JhcHBlciBmYWN0b3J5IHVzZWQgdG9cbiAqIGFic3RyYWN0IGRpZmZlcmVuY2VzIGJldHdlZW4gbmF0aXZlIFNoYWRvdyBET00gYW5kIFwiU2hhZHkgRE9NLlwiXG4gKiBAcGFyYW0geyhOb2RlfEV2ZW50fERvbUFwaU5hdGl2ZXxFdmVudEFwaSk9fSBvYmogTm9kZSBvciBldmVudCB0byBvcGVyYXRlIG9uXG4gKiBAcmV0dXJuIHshRG9tQXBpTmF0aXZlfCFFdmVudEFwaX0gV3JhcHBlciBwcm92aWRpbmcgZWl0aGVyIG5vZGUgQVBJIG9yIGV2ZW50IEFQSVxuICovXG5leHBvcnQgY29uc3QgZG9tID0gZnVuY3Rpb24ob2JqKSB7XG4gIG9iaiA9IG9iaiB8fCBkb2N1bWVudDtcbiAgaWYgKG9iaiBpbnN0YW5jZW9mIERvbUFwaUltcGwpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHshRG9tQXBpfSAqLyhvYmopO1xuICB9XG4gIGlmIChvYmogaW5zdGFuY2VvZiBFdmVudEFwaSkge1xuICAgIHJldHVybiAvKiogQHR5cGUgeyFFdmVudEFwaX0gKi8ob2JqKTtcbiAgfVxuICBsZXQgaGVscGVyID0gb2JqWydfX2RvbUFwaSddO1xuICBpZiAoIWhlbHBlcikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBFdmVudCkge1xuICAgICAgaGVscGVyID0gbmV3IEV2ZW50QXBpKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlbHBlciA9IG5ldyBEb21BcGlJbXBsKC8qKiBAdHlwZSB7Tm9kZX0gKi8ob2JqKSk7XG4gICAgfVxuICAgIG9ialsnX19kb21BcGknXSA9IGhlbHBlcjtcbiAgfVxuICByZXR1cm4gaGVscGVyO1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxOSBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCAnLi9ib290LmpzJztcbmltcG9ydCB7d3JhcH0gZnJvbSAnLi93cmFwLmpzJztcblxuY29uc3QgU2hhZHlET00gPSB3aW5kb3cuU2hhZHlET007XG5jb25zdCBTaGFkeUNTUyA9IHdpbmRvdy5TaGFkeUNTUztcblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiBub2RlIHNjb3BlIGlzIGNvcnJlY3QuXG4gKlxuICogQHBhcmFtIHshRWxlbWVudH0gbm9kZSBOb2RlIHRvIGNoZWNrIHNjb3BlXG4gKiBAcGFyYW0geyFOb2RlfSBzY29wZSBTY29wZSByZWZlcmVuY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbm9kZSBpcyBpbiBzY29wZVxuICovXG5mdW5jdGlvbiBzYW1lU2NvcGUobm9kZSwgc2NvcGUpIHtcbiAgcmV0dXJuIHdyYXAobm9kZSkuZ2V0Um9vdE5vZGUoKSA9PT0gc2NvcGU7XG59XG5cbi8qKlxuICogRW5zdXJlIHRoYXQgZWxlbWVudHMgaW4gYSBTaGFkb3dET00gY29udGFpbmVyIGFyZSBzY29wZWQgY29ycmVjdGx5LlxuICogVGhpcyBmdW5jdGlvbiBpcyBvbmx5IG5lZWRlZCB3aGVuIFNoYWR5RE9NIGlzIHVzZWQgYW5kIHVucGF0Y2hlZCBET00gQVBJcyBhcmUgdXNlZCBpbiB0aGlyZCBwYXJ0eSBjb2RlLlxuICogVGhpcyBjYW4gaGFwcGVuIGluIG5vUGF0Y2ggbW9kZSBvciB3aGVuIHNwZWNpYWxpemVkIEFQSXMgbGlrZSByYW5nZXMgb3IgdGFibGVzIGFyZSB1c2VkIHRvIG11dGF0ZSBET00uXG4gKlxuICogQHBhcmFtICB7IUVsZW1lbnR9IGNvbnRhaW5lciBDb250YWluZXIgZWxlbWVudCB0byBzY29wZVxuICogQHBhcmFtICB7Ym9vbGVhbj19IHNob3VsZE9ic2VydmUgaWYgdHJ1ZSwgc3RhcnQgYSBtdXRhdGlvbiBvYnNlcnZlciBmb3IgYWRkZWQgbm9kZXMgdG8gdGhlIGNvbnRhaW5lclxuICogQHJldHVybiB7P011dGF0aW9uT2JzZXJ2ZXJ9IFJldHVybnMgYSBuZXcgTXV0YXRpb25PYnNlcnZlciBvbiBgY29udGFpbmVyYCBpZiBgc2hvdWxkT2JzZXJ2ZWAgaXMgdHJ1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNjb3BlU3VidHJlZShjb250YWluZXIsIHNob3VsZE9ic2VydmUgPSBmYWxzZSkge1xuICAvLyBJZiB1c2luZyBuYXRpdmUgU2hhZG93RE9NLCBhYm9ydFxuICBpZiAoIVNoYWR5RE9NIHx8ICFTaGFkeUNTUykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIC8vIFNoYWR5Q1NTIGhhbmRsZXMgRE9NIG11dGF0aW9ucyB3aGVuIFNoYWR5RE9NIGRvZXMgbm90IGhhbmRsZSBzY29waW5nIGl0c2VsZlxuICBpZiAoIVNoYWR5RE9NWydoYW5kbGVzRHluYW1pY1Njb3BpbmcnXSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IFNjb3BpbmdTaGltID0gU2hhZHlDU1NbJ1Njb3BpbmdTaGltJ107XG4gIC8vIGlmIFNjb3BpbmdTaGltIGlzIG5vdCBhdmFpbGFibGUsIGFib3J0XG4gIGlmICghU2NvcGluZ1NoaW0pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICAvLyBjYXB0dXJlIGNvcnJlY3Qgc2NvcGUgZm9yIGNvbnRhaW5lclxuICBjb25zdCBjb250YWluZXJTY29wZSA9IFNjb3BpbmdTaGltWydzY29wZUZvck5vZGUnXShjb250YWluZXIpO1xuICBjb25zdCByb290ID0gd3JhcChjb250YWluZXIpLmdldFJvb3ROb2RlKCk7XG5cbiAgY29uc3Qgc2NvcGlmeSA9IChub2RlKSA9PiB7XG4gICAgaWYgKCFzYW1lU2NvcGUobm9kZSwgcm9vdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTk9URTogbmF0aXZlIHFTQSBkb2VzIG5vdCBob25vciBzY29wZWQgRE9NLCBidXQgaXQgaXMgZmFzdGVyLCBhbmQgdGhlIHNhbWUgYmVoYXZpb3IgYXMgUG9seW1lciB2MVxuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShTaGFkeURPTVsnbmF0aXZlTWV0aG9kcyddWydxdWVyeVNlbGVjdG9yQWxsJ10uY2FsbChub2RlLCAnKicpKTtcbiAgICBlbGVtZW50cy5wdXNoKG5vZGUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGVsID0gZWxlbWVudHNbaV07XG4gICAgICBpZiAoIXNhbWVTY29wZShlbCwgcm9vdCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb25zdCBjdXJyZW50U2NvcGUgPSBTY29waW5nU2hpbVsnY3VycmVudFNjb3BlRm9yTm9kZSddKGVsKTtcbiAgICAgIGlmIChjdXJyZW50U2NvcGUgIT09IGNvbnRhaW5lclNjb3BlKSB7XG4gICAgICAgIGlmIChjdXJyZW50U2NvcGUgIT09ICcnKSB7XG4gICAgICAgICAgU2NvcGluZ1NoaW1bJ3Vuc2NvcGVOb2RlJ10oZWwsIGN1cnJlbnRTY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgU2NvcGluZ1NoaW1bJ3Njb3BlTm9kZSddKGVsLCBjb250YWluZXJTY29wZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIHNjb3BlIGV2ZXJ5dGhpbmcgaW4gY29udGFpbmVyXG4gIHNjb3BpZnkoY29udGFpbmVyKTtcblxuICBpZiAoc2hvdWxkT2JzZXJ2ZSkge1xuICAgIGNvbnN0IG1vID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG14bnMpID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXhucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBteG4gPSBteG5zW2ldO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG14bi5hZGRlZE5vZGVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgY29uc3QgYWRkZWROb2RlID0gbXhuLmFkZGVkTm9kZXNbal07XG4gICAgICAgICAgaWYgKGFkZGVkTm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgIHNjb3BpZnkoYWRkZWROb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBtby5vYnNlcnZlKGNvbnRhaW5lciwge2NoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZX0pO1xuICAgIHJldHVybiBtbztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0B3ZWJjb21wb25lbnRzL3NoYWR5Y3NzL2VudHJ5cG9pbnRzL2FwcGx5LXNoaW0uanMnO1xuaW1wb3J0IHsgRWxlbWVudE1peGluIH0gZnJvbSAnLi4vbWl4aW5zL2VsZW1lbnQtbWl4aW4uanMnO1xuaW1wb3J0IHsgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnLi4vbWl4aW5zL2dlc3R1cmUtZXZlbnQtbGlzdGVuZXJzLmpzJztcbmltcG9ydCB7IERpck1peGluIH0gZnJvbSAnLi4vbWl4aW5zL2Rpci1taXhpbi5qcyc7XG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuaW1wb3J0ICcuLi91dGlscy9yZW5kZXItc3RhdHVzLmpzJztcbmltcG9ydCAnLi4vdXRpbHMvdW5yZXNvbHZlZC5qcyc7XG5pbXBvcnQgeyBkb20sIG1hdGNoZXNTZWxlY3RvciB9IGZyb20gJy4vcG9seW1lci5kb20uanMnO1xuaW1wb3J0IHsgc2V0VG91Y2hBY3Rpb24gfSBmcm9tICcuLi91dGlscy9nZXN0dXJlcy5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyB0aW1lT3V0LCBtaWNyb1Rhc2sgfSBmcm9tICcuLi91dGlscy9hc3luYy5qcyc7XG5pbXBvcnQgeyBnZXQgfSBmcm9tICcuLi91dGlscy9wYXRoLmpzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi91dGlscy93cmFwLmpzJztcbmltcG9ydCB7IHNjb3BlU3VidHJlZSB9IGZyb20gJy4uL3V0aWxzL3Njb3BlLXN1YnRyZWUuanMnO1xuXG5sZXQgc3R5bGVJbnRlcmZhY2UgPSB3aW5kb3cuU2hhZHlDU1M7XG5cbi8qKlxuICogRWxlbWVudCBjbGFzcyBtaXhpbiB0aGF0IHByb3ZpZGVzIFBvbHltZXIncyBcImxlZ2FjeVwiIEFQSSBpbnRlbmRlZCB0byBiZVxuICogYmFja3dhcmQtY29tcGF0aWJsZSB0byB0aGUgZ3JlYXRlc3QgZXh0ZW50IHBvc3NpYmxlIHdpdGggdGhlIEFQSVxuICogZm91bmQgb24gdGhlIFBvbHltZXIgMS54IGBQb2x5bWVyLkJhc2VgIHByb3RvdHlwZSBhcHBsaWVkIHRvIGFsbCBlbGVtZW50c1xuICogZGVmaW5lZCB1c2luZyB0aGUgYFBvbHltZXIoey4uLn0pYCBmdW5jdGlvbi5cbiAqXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQHBvbHltZXJcbiAqIEBhcHBsaWVzTWl4aW4gRWxlbWVudE1peGluXG4gKiBAYXBwbGllc01peGluIEdlc3R1cmVFdmVudExpc3RlbmVyc1xuICogQHByb3BlcnR5IGlzQXR0YWNoZWQge2Jvb2xlYW59IFNldCB0byBgdHJ1ZWAgaW4gdGhpcyBlbGVtZW50J3NcbiAqICAgYGNvbm5lY3RlZENhbGxiYWNrYCBhbmQgYGZhbHNlYCBpbiBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRoYXQgcHJvdmlkZXMgUG9seW1lcidzIFwibGVnYWN5XCIgQVBJXG4gKi9cbmV4cG9ydCBjb25zdCBMZWdhY3lFbGVtZW50TWl4aW4gPSBkZWR1cGluZ01peGluKChiYXNlKSA9PiB7XG4gIC8qKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfRWxlbWVudE1peGlufVxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9HZXN0dXJlRXZlbnRMaXN0ZW5lcnN9XG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0Rpck1peGlufVxuICAgKiBAZXh0ZW5kcyB7SFRNTEVsZW1lbnR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBjb25zdCBsZWdhY3lFbGVtZW50QmFzZSA9IERpck1peGluKEdlc3R1cmVFdmVudExpc3RlbmVycyhFbGVtZW50TWl4aW4oYmFzZSkpKTtcblxuICAvKipcbiAgICogTWFwIG9mIHNpbXBsZSBuYW1lcyB0byB0b3VjaCBhY3Rpb24gbmFtZXNcbiAgICogQGRpY3RcbiAgICovXG4gIGNvbnN0IERJUkVDVElPTl9NQVAgPSB7XG4gICAgJ3gnOiAncGFuLXgnLFxuICAgICd5JzogJ3Bhbi15JyxcbiAgICAnbm9uZSc6ICdub25lJyxcbiAgICAnYWxsJzogJ2F1dG8nXG4gIH07XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBleHRlbmRzIHtsZWdhY3lFbGVtZW50QmFzZX1cbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfTGVnYWN5RWxlbWVudE1peGlufVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqL1xuICBjbGFzcyBMZWdhY3lFbGVtZW50IGV4dGVuZHMgbGVnYWN5RWxlbWVudEJhc2Uge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5pc0F0dGFjaGVkO1xuICAgICAgLyoqIEB0eXBlIHs/V2Vha01hcDwhRWxlbWVudCwgIU9iamVjdDxzdHJpbmcsICFGdW5jdGlvbj4+fSAqL1xuICAgICAgdGhpcy5fX2JvdW5kTGlzdGVuZXJzO1xuICAgICAgLyoqIEB0eXBlIHs/T2JqZWN0PHN0cmluZywgP0Z1bmN0aW9uPn0gKi9cbiAgICAgIHRoaXMuX2RlYm91bmNlcnM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yd2FyZHMgYGltcG9ydE1ldGFgIGZyb20gdGhlIHByb3RvdHlwZSAoaS5lLiBmcm9tIHRoZSBpbmZvIG9iamVjdFxuICAgICAqIHBhc3NlZCB0byBgUG9seW1lcih7Li4ufSlgKSB0byB0aGUgc3RhdGljIEFQSS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4geyFPYmplY3R9IFRoZSBgaW1wb3J0Lm1ldGFgIG9iamVjdCBzZXQgb24gdGhlIHByb3RvdHlwZVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IGB0aGlzYCBpcyBhbHdheXMgaW4gdGhlIGluc3RhbmNlIGluXG4gICAgICogIGNsb3N1cmUgZm9yIHNvbWUgcmVhc29uIGV2ZW4gaW4gYSBzdGF0aWMgbWV0aG9kLCByYXRoZXIgdGhhbiB0aGUgY2xhc3NcbiAgICAgKiBAbm9jb2xsYXBzZVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXQgaW1wb3J0TWV0YSgpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3RvdHlwZS5pbXBvcnRNZXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExlZ2FjeSBjYWxsYmFjayBjYWxsZWQgZHVyaW5nIHRoZSBgY29uc3RydWN0b3JgLCBmb3Igb3ZlcnJpZGluZ1xuICAgICAqIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgY3JlYXRlZCgpIHt9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiBgY29ubmVjdGVkQ2FsbGJhY2tgXG4gICAgICogd2hpY2ggYWRkcyBQb2x5bWVyIGxlZ2FjeSBBUEkncyBgYXR0YWNoZWRgIG1ldGhvZC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICAgIHRoaXMuaXNBdHRhY2hlZCA9IHRydWU7XG4gICAgICB0aGlzLmF0dGFjaGVkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVnYWN5IGNhbGxiYWNrIGNhbGxlZCBkdXJpbmcgYGNvbm5lY3RlZENhbGxiYWNrYCwgZm9yIG92ZXJyaWRpbmdcbiAgICAgKiBieSB0aGUgdXNlci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGF0dGFjaGVkKCkge31cblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGFuIGltcGxlbWVudGF0aW9uIG9mIGBkaXNjb25uZWN0ZWRDYWxsYmFja2BcbiAgICAgKiB3aGljaCBhZGRzIFBvbHltZXIgbGVnYWN5IEFQSSdzIGBkZXRhY2hlZGAgbWV0aG9kLlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgICAgdGhpcy5pc0F0dGFjaGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmRldGFjaGVkKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVnYWN5IGNhbGxiYWNrIGNhbGxlZCBkdXJpbmcgYGRpc2Nvbm5lY3RlZENhbGxiYWNrYCwgZm9yIG92ZXJyaWRpbmdcbiAgICAgKiBieSB0aGUgdXNlci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRldGFjaGVkKCkge31cblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGFuIG92ZXJyaWRlIGltcGxlbWVudGF0aW9uIG9mIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgXG4gICAgICogd2hpY2ggYWRkcyB0aGUgUG9seW1lciBsZWdhY3kgQVBJJ3MgYGF0dHJpYnV0ZUNoYW5nZWRgIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcGFyYW0gez9zdHJpbmd9IG9sZCBPbGQgdmFsdWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgQ3VycmVudCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBuYW1lc3BhY2UgQXR0cmlidXRlIG5hbWVzcGFjZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpIHtcbiAgICAgIGlmIChvbGQgIT09IHZhbHVlKSB7XG4gICAgICAgIHN1cGVyLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhuYW1lLCBvbGQsIHZhbHVlLCBuYW1lc3BhY2UpO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZUNoYW5nZWQobmFtZSwgb2xkLCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGVnYWN5IGNhbGxiYWNrIGNhbGxlZCBkdXJpbmcgYGF0dHJpYnV0ZUNoYW5nZWRDaGFsbGJhY2tgLCBmb3Igb3ZlcnJpZGluZ1xuICAgICAqIGJ5IHRoZSB1c2VyLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlLlxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gb2xkIE9sZCB2YWx1ZSBvZiBhdHRyaWJ1dGUuXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSB2YWx1ZSBDdXJyZW50IHZhbHVlIG9mIGF0dHJpYnV0ZS5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZUNoYW5nZWQobmFtZSwgb2xkLCB2YWx1ZSkge30gLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGBQb2x5bWVyLlByb3BlcnR5RWZmZWN0c2AgaW1wbGVtZW50YXRpb24gdG9cbiAgICAgKiBhZGQgc3VwcG9ydCBmb3IgY2xhc3MgaW5pdGlhbGl6YXRpb24gdmlhIHRoZSBgX3JlZ2lzdGVyZWRgIGNhbGxiYWNrLlxuICAgICAqIFRoaXMgaXMgY2FsbGVkIG9ubHkgd2hlbiB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgdGhlIGVsZW1lbnQgaXMgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9XG4gICAgICovXG4gICAgX2luaXRpYWxpemVQcm9wZXJ0aWVzKCkge1xuICAgICAgbGV0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpO1xuICAgICAgaWYgKCFwcm90by5oYXNPd25Qcm9wZXJ0eShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdfX2hhc1JlZ2lzdGVyRmluaXNoZWQnLCBwcm90bykpKSB7XG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyZWQoKTtcbiAgICAgICAgLy8gYmFja3N0b3AgaW4gY2FzZSB0aGUgYF9yZWdpc3RlcmVkYCBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdCBzZXQgdGhpc1xuICAgICAgICBwcm90by5fX2hhc1JlZ2lzdGVyRmluaXNoZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3VwZXIuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCk7XG4gICAgICB0aGlzLnJvb3QgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyh0aGlzKTtcbiAgICAgIHRoaXMuY3JlYXRlZCgpO1xuICAgICAgLy8gRW5zdXJlIGxpc3RlbmVycyBhcmUgYXBwbGllZCBpbW1lZGlhdGVseSBzbyB0aGF0IHRoZXkgYXJlXG4gICAgICAvLyBhZGRlZCBiZWZvcmUgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzLiBUaGlzIGFsbG93cyBhbiBlbGVtZW50IHRvXG4gICAgICAvLyBkZWNvcmF0ZSBpdHNlbGYgdmlhIGFuIGV2ZW50IHByaW9yIHRvIGFueSBkZWNsYXJhdGl2ZSBsaXN0ZW5lcnNcbiAgICAgIC8vIHNlZWluZyB0aGUgZXZlbnQuIE5vdGUsIHRoaXMgZW5zdXJlcyBjb21wYXRpYmlsaXR5IHdpdGggMS54IG9yZGVyaW5nLlxuICAgICAgdGhpcy5fYXBwbHlMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYXV0b21hdGljYWxseSB3aGVuIGFuIGVsZW1lbnQgaXMgaW5pdGlhbGl6aW5nLlxuICAgICAqIFVzZXJzIG1heSBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwZXJmb3JtIGNsYXNzIHJlZ2lzdHJhdGlvbiB0aW1lXG4gICAgICogd29yay4gVGhlIGltcGxlbWVudGF0aW9uIHNob3VsZCBlbnN1cmUgdGhlIHdvcmsgaXMgcGVyZm9ybWVkXG4gICAgICogb25seSBvbmNlIGZvciB0aGUgY2xhc3MuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3JlZ2lzdGVyZWQoKSB7fVxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGBQb2x5bWVyLlByb3BlcnR5RWZmZWN0c2AgaW1wbGVtZW50YXRpb24gdG9cbiAgICAgKiBhZGQgc3VwcG9ydCBmb3IgaW5zdGFsbGluZyBgaG9zdEF0dHJpYnV0ZXNgIGFuZCBgbGlzdGVuZXJzYC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcmVhZHkoKSB7XG4gICAgICB0aGlzLl9lbnN1cmVBdHRyaWJ1dGVzKCk7XG4gICAgICBzdXBlci5yZWFkeSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuc3VyZXMgYW4gZWxlbWVudCBoYXMgcmVxdWlyZWQgYXR0cmlidXRlcy4gQ2FsbGVkIHdoZW4gdGhlIGVsZW1lbnRcbiAgICAgKiBpcyBiZWluZyByZWFkaWVkIHZpYSBgcmVhZHlgLiBVc2VycyBzaG91bGQgb3ZlcnJpZGUgdG8gc2V0IHRoZVxuICAgICAqIGVsZW1lbnQncyByZXF1aXJlZCBhdHRyaWJ1dGVzLiBUaGUgaW1wbGVtZW50YXRpb24gc2hvdWxkIGJlIHN1cmVcbiAgICAgKiB0byBjaGVjayBhbmQgbm90IG92ZXJyaWRlIGV4aXN0aW5nIGF0dHJpYnV0ZXMgYWRkZWQgYnlcbiAgICAgKiB0aGUgdXNlciBvZiB0aGUgZWxlbWVudC4gVHlwaWNhbGx5LCBzZXR0aW5nIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGxlZnRcbiAgICAgKiB0byB0aGUgZWxlbWVudCB1c2VyIGFuZCBub3QgZG9uZSBoZXJlOyByZWFzb25hYmxlIGV4Y2VwdGlvbnMgaW5jbHVkZVxuICAgICAqIHNldHRpbmcgYXJpYSByb2xlcyBhbmQgZm9jdXNhYmlsaXR5LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIF9lbnN1cmVBdHRyaWJ1dGVzKCkge31cblxuICAgIC8qKlxuICAgICAqIEFkZHMgZWxlbWVudCBldmVudCBsaXN0ZW5lcnMuIENhbGxlZCB3aGVuIHRoZSBlbGVtZW50XG4gICAgICogaXMgYmVpbmcgcmVhZGllZCB2aWEgYHJlYWR5YC4gVXNlcnMgc2hvdWxkIG92ZXJyaWRlIHRvXG4gICAgICogYWRkIGFueSByZXF1aXJlZCBlbGVtZW50IGV2ZW50IGxpc3RlbmVycy5cbiAgICAgKiBJbiBwZXJmb3JtYW5jZSBjcml0aWNhbCBlbGVtZW50cywgdGhlIHdvcmsgZG9uZSBoZXJlIHNob3VsZCBiZSBrZXB0XG4gICAgICogdG8gYSBtaW5pbXVtIHNpbmNlIGl0IGlzIGRvbmUgYmVmb3JlIHRoZSBlbGVtZW50IGlzIHJlbmRlcmVkLiBJblxuICAgICAqIHRoZXNlIGVsZW1lbnRzLCBjb25zaWRlciBhZGRpbmcgbGlzdGVuZXJzIGFzeW5jaHJvbm91c2x5IHNvIGFzIG5vdCB0b1xuICAgICAqIGJsb2NrIHJlbmRlci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfYXBwbHlMaXN0ZW5lcnMoKSB7fVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlIHRvIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogTm90ZSB0aGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBiYWNrd2FyZC1jb21wYXRpYmxlIGxlZ2FjeSBBUElcbiAgICAgKiBvbmx5LiAgSXQgaXMgbm90IGRpcmVjdGx5IGNhbGxlZCBieSBhbnkgUG9seW1lciBmZWF0dXJlcy4gVG8gY3VzdG9taXplXG4gICAgICogaG93IHByb3BlcnRpZXMgYXJlIHNlcmlhbGl6ZWQgdG8gYXR0cmlidXRlcyBmb3IgYXR0cmlidXRlIGJpbmRpbmdzIGFuZFxuICAgICAqIGByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWVgIHByb3BlcnRpZXMgYXMgd2VsbCBhcyB0aGlzIG1ldGhvZCwgb3ZlcnJpZGVcbiAgICAgKiB0aGUgYF9zZXJpYWxpemVWYWx1ZWAgbWV0aG9kIHByb3ZpZGVkIGJ5IGBQb2x5bWVyLlByb3BlcnR5QWNjZXNzb3JzYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gZGVzZXJpYWxpemVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmcgfCB1bmRlZmluZWR9IFNlcmlhbGl6ZWQgdmFsdWVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBzZXJpYWxpemUodmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zZXJpYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBzdHJpbmcgdG8gYSB0eXBlZCBKYXZhU2NyaXB0IHZhbHVlLlxuICAgICAqXG4gICAgICogTm90ZSB0aGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBiYWNrd2FyZC1jb21wYXRpYmxlIGxlZ2FjeSBBUElcbiAgICAgKiBvbmx5LiAgSXQgaXMgbm90IGRpcmVjdGx5IGNhbGxlZCBieSBhbnkgUG9seW1lciBmZWF0dXJlcy4gIFRvIGN1c3RvbWl6ZVxuICAgICAqIGhvdyBhdHRyaWJ1dGVzIGFyZSBkZXNlcmlhbGl6ZWQgdG8gcHJvcGVydGllcyBmb3IgaW5cbiAgICAgKiBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCwgb3ZlcnJpZGUgYF9kZXNlcmlhbGl6ZVZhbHVlYCBtZXRob2RcbiAgICAgKiBwcm92aWRlZCBieSBgUG9seW1lci5Qcm9wZXJ0eUFjY2Vzc29yc2AuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgU3RyaW5nIHRvIGRlc2VyaWFsaXplXG4gICAgICogQHBhcmFtIHsqfSB0eXBlIFR5cGUgdG8gZGVzZXJpYWxpemUgdGhlIHN0cmluZyB0b1xuICAgICAqIEByZXR1cm4geyp9IFJldHVybnMgdGhlIGRlc2VyaWFsaXplZCB2YWx1ZSBpbiB0aGUgYHR5cGVgIGdpdmVuLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGRlc2VyaWFsaXplKHZhbHVlLCB0eXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZGVzZXJpYWxpemVWYWx1ZSh2YWx1ZSwgdHlwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplcyBhIHByb3BlcnR5IHRvIGl0cyBhc3NvY2lhdGVkIGF0dHJpYnV0ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZSB0byByZWZsZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYXR0cmlidXRlIEF0dHJpYnV0ZSBuYW1lIHRvIHJlZmxlY3QuXG4gICAgICogQHBhcmFtIHsqPX0gdmFsdWUgUHJvcGVydHkgdmFsdWUgdG8gcmVmbGVjdC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHJlZmxlY3RQcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgICB0aGlzLl9wcm9wZXJ0eVRvQXR0cmlidXRlKHByb3BlcnR5LCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgdHlwZWQgdmFsdWUgdG8gYW4gSFRNTCBhdHRyaWJ1dGUgb24gYSBub2RlLlxuICAgICAqXG4gICAgICogTm90ZSB0aGlzIG1ldGhvZCBpcyBwcm92aWRlZCBhcyBiYWNrd2FyZC1jb21wYXRpYmxlIGxlZ2FjeSBBUElcbiAgICAgKiBvbmx5LiAgSXQgaXMgbm90IGRpcmVjdGx5IGNhbGxlZCBieSBhbnkgUG9seW1lciBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2VyaWFsaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgQXR0cmlidXRlIG5hbWUgdG8gc2VyaWFsaXplIHRvLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZSBFbGVtZW50IHRvIHNldCBhdHRyaWJ1dGUgdG8uXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBzZXJpYWxpemVWYWx1ZVRvQXR0cmlidXRlKHZhbHVlLCBhdHRyaWJ1dGUsIG5vZGUpIHtcbiAgICAgIHRoaXMuX3ZhbHVlVG9Ob2RlQXR0cmlidXRlKC8qKiBAdHlwZSB7RWxlbWVudH0gKi8gKG5vZGUgfHwgdGhpcyksIHZhbHVlLCBhdHRyaWJ1dGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvcGllcyBvd24gcHJvcGVydGllcyAoaW5jbHVkaW5nIGFjY2Vzc29yIGRlc2NyaXB0b3JzKSBmcm9tIGEgc291cmNlXG4gICAgICogb2JqZWN0IHRvIGEgdGFyZ2V0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFwaSBTb3VyY2Ugb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gcHJvdG90eXBlIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgYXMgZmlyc3QgYXJndW1lbnQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZXh0ZW5kKHByb3RvdHlwZSwgYXBpKSB7XG4gICAgICBpZiAoIShwcm90b3R5cGUgJiYgYXBpKSkge1xuICAgICAgICByZXR1cm4gcHJvdG90eXBlIHx8IGFwaTtcbiAgICAgIH1cbiAgICAgIGxldCBuJCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGFwaSk7XG4gICAgICBmb3IgKGxldCBpPTAsIG47IChpPG4kLmxlbmd0aCkgJiYgKG49biRbaV0pOyBpKyspIHtcbiAgICAgICAgbGV0IHBkID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhcGksIG4pO1xuICAgICAgICBpZiAocGQpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCBuLCBwZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm90b3R5cGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BzIGZyb20gYSBzb3VyY2Ugb2JqZWN0IHRvIGEgdGFyZ2V0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIE5vdGUsIHRoaXMgbWV0aG9kIHVzZXMgYSBzaW1wbGUgYGZvci4uLmluYCBzdHJhdGVneSBmb3IgZW51bWVyYXRpbmdcbiAgICAgKiBwcm9wZXJ0aWVzLiAgVG8gZW5zdXJlIG9ubHkgYG93blByb3BlcnRpZXNgIGFyZSBjb3BpZWQgZnJvbSBzb3VyY2VcbiAgICAgKiB0byB0YXJnZXQgYW5kIHRoYXQgYWNjZXNzb3IgaW1wbGVtZW50YXRpb25zIGFyZSBjb3BpZWQsIHVzZSBgZXh0ZW5kYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvLlxuICAgICAqIEBwYXJhbSB7IU9iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb20uXG4gICAgICogQHJldHVybiB7IU9iamVjdH0gVGFyZ2V0IG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgYXMgZmlyc3QgYXJndW1lbnQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgbWl4aW4odGFyZ2V0LCBzb3VyY2UpIHtcbiAgICAgIGZvciAobGV0IGkgaW4gc291cmNlKSB7XG4gICAgICAgIHRhcmdldFtpXSA9IHNvdXJjZVtpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJvdG90eXBlIG9mIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhpcyBtZXRob2QgaXMgcHJvdmlkZWQgYXMgYmFja3dhcmQtY29tcGF0aWJsZSBsZWdhY3kgQVBJXG4gICAgICogb25seS4gIEl0IGlzIG5vdCBkaXJlY3RseSBjYWxsZWQgYnkgYW55IFBvbHltZXIgZmVhdHVyZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IG9uIHdoaWNoIHRvIHNldCB0aGUgcHJvdG90eXBlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGhlIHByb3RvdHlwZSB0aGF0IHdpbGwgYmUgc2V0IG9uIHRoZSBnaXZlblxuICAgICAqIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyB0aGUgZ2l2ZW4gYG9iamVjdGAgd2l0aCBpdHMgcHJvdG90eXBlIHNldFxuICAgICAqIHRvIHRoZSBnaXZlbiBgcHJvdG90eXBlYCBvYmplY3QuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgY2hhaW5PYmplY3Qob2JqZWN0LCBwcm90b3R5cGUpIHtcbiAgICAgIGlmIChvYmplY3QgJiYgcHJvdG90eXBlICYmIG9iamVjdCAhPT0gcHJvdG90eXBlKSB7XG4gICAgICAgIG9iamVjdC5fX3Byb3RvX18gPSBwcm90b3R5cGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH1cblxuICAgIC8qICoqKiogQmVnaW4gVGVtcGxhdGUgKioqKiAqL1xuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgYGltcG9ydE5vZGVgIG9uIHRoZSBgY29udGVudGAgb2YgdGhlIGB0ZW1wbGF0ZWAgc3BlY2lmaWVkIGFuZFxuICAgICAqIHJldHVybnMgYSBkb2N1bWVudCBmcmFnbWVudCBjb250YWluaW5nIHRoZSBpbXBvcnRlZCBjb250ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBIVE1MIHRlbXBsYXRlIGVsZW1lbnQgdG8gaW5zdGFuY2UuXG4gICAgICogQHJldHVybiB7IURvY3VtZW50RnJhZ21lbnR9IERvY3VtZW50IGZyYWdtZW50IGNvbnRhaW5pbmcgdGhlIGltcG9ydGVkXG4gICAgICogICB0ZW1wbGF0ZSBjb250ZW50LlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9IGdvL21pc3NpbmdmbnByb3BzXG4gICAgICovXG4gICAgaW5zdGFuY2VUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICAgICAgbGV0IGNvbnRlbnQgPSB0aGlzLmNvbnN0cnVjdG9yLl9jb250ZW50Rm9yVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgbGV0IGRvbSA9IC8qKiBAdHlwZSB7IURvY3VtZW50RnJhZ21lbnR9ICovXG4gICAgICAgIChkb2N1bWVudC5pbXBvcnROb2RlKGNvbnRlbnQsIHRydWUpKTtcbiAgICAgIHJldHVybiBkb207XG4gICAgfVxuXG4gICAgLyogKioqKiBCZWdpbiBFdmVudHMgKioqKiAqL1xuXG5cblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYSBjdXN0b20gZXZlbnQgd2l0aCBhbiBvcHRpb25hbCBkZXRhaWwgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBOYW1lIG9mIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHsqPX0gZGV0YWlsIERldGFpbCB2YWx1ZSBjb250YWluaW5nIGV2ZW50LXNwZWNpZmljXG4gICAgICogICBwYXlsb2FkLlxuICAgICAqIEBwYXJhbSB7eyBidWJibGVzOiAoYm9vbGVhbnx1bmRlZmluZWQpLCBjYW5jZWxhYmxlOiAoYm9vbGVhbnx1bmRlZmluZWQpLFxuICAgICAqICAgICBjb21wb3NlZDogKGJvb2xlYW58dW5kZWZpbmVkKSB9PX1cbiAgICAgKiAgb3B0aW9ucyBPYmplY3Qgc3BlY2lmeWluZyBvcHRpb25zLiAgVGhlc2UgbWF5IGluY2x1ZGU6XG4gICAgICogIGBidWJibGVzYCAoYm9vbGVhbiwgZGVmYXVsdHMgdG8gYHRydWVgKSxcbiAgICAgKiAgYGNhbmNlbGFibGVgIChib29sZWFuLCBkZWZhdWx0cyB0byBmYWxzZSksIGFuZFxuICAgICAqICBgbm9kZWAgb24gd2hpY2ggdG8gZmlyZSB0aGUgZXZlbnQgKEhUTUxFbGVtZW50LCBkZWZhdWx0cyB0byBgdGhpc2ApLlxuICAgICAqIEByZXR1cm4geyFFdmVudH0gVGhlIG5ldyBldmVudCB0aGF0IHdhcyBmaXJlZC5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBmaXJlKHR5cGUsIGRldGFpbCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICBkZXRhaWwgPSAoZGV0YWlsID09PSBudWxsIHx8IGRldGFpbCA9PT0gdW5kZWZpbmVkKSA/IHt9IDogZGV0YWlsO1xuICAgICAgbGV0IGV2ZW50ID0gbmV3IEV2ZW50KHR5cGUsIHtcbiAgICAgICAgYnViYmxlczogb3B0aW9ucy5idWJibGVzID09PSB1bmRlZmluZWQgPyB0cnVlIDogb3B0aW9ucy5idWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBCb29sZWFuKG9wdGlvbnMuY2FuY2VsYWJsZSksXG4gICAgICAgIGNvbXBvc2VkOiBvcHRpb25zLmNvbXBvc2VkID09PSB1bmRlZmluZWQgPyB0cnVlOiBvcHRpb25zLmNvbXBvc2VkXG4gICAgICB9KTtcbiAgICAgIGV2ZW50LmRldGFpbCA9IGRldGFpbDtcbiAgICAgIGxldCBub2RlID0gb3B0aW9ucy5ub2RlIHx8IHRoaXM7XG4gICAgICB3cmFwKG5vZGUpLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgb24gYSBnaXZlbiBlbGVtZW50LFxuICAgICAqIGxhdGUgYm91bmQgdG8gYSBuYW1lZCBtZXRob2Qgb24gdGhpcyBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHs/RXZlbnRUYXJnZXR9IG5vZGUgRWxlbWVudCB0byBhZGQgZXZlbnQgbGlzdGVuZXIgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50IHRvIGxpc3RlbiBmb3IuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgTmFtZSBvZiBoYW5kbGVyIG1ldGhvZCBvbiBgdGhpc2AgdG8gY2FsbC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGxpc3Rlbihub2RlLCBldmVudE5hbWUsIG1ldGhvZE5hbWUpIHtcbiAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFFdmVudFRhcmdldH0gKi8gKG5vZGUgfHwgdGhpcyk7XG4gICAgICBsZXQgaGJsID0gdGhpcy5fX2JvdW5kTGlzdGVuZXJzIHx8XG4gICAgICAgICh0aGlzLl9fYm91bmRMaXN0ZW5lcnMgPSBuZXcgV2Vha01hcCgpKTtcbiAgICAgIGxldCBibCA9IGhibC5nZXQobm9kZSk7XG4gICAgICBpZiAoIWJsKSB7XG4gICAgICAgIGJsID0ge307XG4gICAgICAgIGhibC5zZXQobm9kZSwgYmwpO1xuICAgICAgfVxuICAgICAgbGV0IGtleSA9IGV2ZW50TmFtZSArIG1ldGhvZE5hbWU7XG4gICAgICBpZiAoIWJsW2tleV0pIHtcbiAgICAgICAgYmxba2V5XSA9IHRoaXMuX2FkZE1ldGhvZEV2ZW50TGlzdGVuZXJUb05vZGUoXG4gICAgICAgICAgICAvKiogQHR5cGUgeyFOb2RlfSAqLyAobm9kZSksIGV2ZW50TmFtZSwgbWV0aG9kTmFtZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIHJlbW92ZSBhbiBldmVudCBsaXN0ZW5lciBmcm9tIGEgZ2l2ZW4gZWxlbWVudCxcbiAgICAgKiBsYXRlIGJvdW5kIHRvIGEgbmFtZWQgbWV0aG9kIG9uIHRoaXMgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P0V2ZW50VGFyZ2V0fSBub2RlIEVsZW1lbnQgdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGZyb20uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSBOYW1lIG9mIGV2ZW50IHRvIHN0b3AgbGlzdGVuaW5nIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIE5hbWUgb2YgaGFuZGxlciBtZXRob2Qgb24gYHRoaXNgIHRvIG5vdCBjYWxsXG4gICAgIGFueW1vcmUuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB1bmxpc3Rlbihub2RlLCBldmVudE5hbWUsIG1ldGhvZE5hbWUpIHtcbiAgICAgIG5vZGUgPSAvKiogQHR5cGUgeyFFdmVudFRhcmdldH0gKi8gKG5vZGUgfHwgdGhpcyk7XG4gICAgICBsZXQgYmwgPSB0aGlzLl9fYm91bmRMaXN0ZW5lcnMgJiZcbiAgICAgICAgICB0aGlzLl9fYm91bmRMaXN0ZW5lcnMuZ2V0KC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovIChub2RlKSk7XG4gICAgICBsZXQga2V5ID0gZXZlbnROYW1lICsgbWV0aG9kTmFtZTtcbiAgICAgIGxldCBoYW5kbGVyID0gYmwgJiYgYmxba2V5XTtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX3JlbW92ZUV2ZW50TGlzdGVuZXJGcm9tTm9kZShcbiAgICAgICAgICAgIC8qKiBAdHlwZSB7IU5vZGV9ICovIChub2RlKSwgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgYmxba2V5XSA9IC8qKiBAdHlwZSB7P30gKi8gKG51bGwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHNjcm9sbGluZyBiZWhhdmlvciB0byBhbGwgZGlyZWN0aW9uLCBvbmUgZGlyZWN0aW9uLCBvciBub25lLlxuICAgICAqXG4gICAgICogVmFsaWQgc2Nyb2xsIGRpcmVjdGlvbnM6XG4gICAgICogICAtICdhbGwnOiBzY3JvbGwgaW4gYW55IGRpcmVjdGlvblxuICAgICAqICAgLSAneCc6IHNjcm9sbCBvbmx5IGluIHRoZSAneCcgZGlyZWN0aW9uXG4gICAgICogICAtICd5Jzogc2Nyb2xsIG9ubHkgaW4gdGhlICd5JyBkaXJlY3Rpb25cbiAgICAgKiAgIC0gJ25vbmUnOiBkaXNhYmxlIHNjcm9sbGluZyBmb3IgdGhpcyBub2RlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IGRpcmVjdGlvbiBEaXJlY3Rpb24gdG8gYWxsb3cgc2Nyb2xsaW5nXG4gICAgICogRGVmYXVsdHMgdG8gYGFsbGAuXG4gICAgICogQHBhcmFtIHtFbGVtZW50PX0gbm9kZSBFbGVtZW50IHRvIGFwcGx5IHNjcm9sbCBkaXJlY3Rpb24gc2V0dGluZy5cbiAgICAgKiBEZWZhdWx0cyB0byBgdGhpc2AuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBzZXRTY3JvbGxEaXJlY3Rpb24oZGlyZWN0aW9uLCBub2RlKSB7XG4gICAgICBzZXRUb3VjaEFjdGlvbihcbiAgICAgICAgICAvKiogQHR5cGUgeyFFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKSxcbiAgICAgICAgICBESVJFQ1RJT05fTUFQW2RpcmVjdGlvbl0gfHwgJ2F1dG8nKTtcbiAgICB9XG4gICAgLyogKioqKiBFbmQgRXZlbnRzICoqKiogKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCB0byBydW4gYHF1ZXJ5U2VsZWN0b3JgIG9uIHRoaXMgbG9jYWwgRE9NIHNjb3BlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYWxscyBgUG9seW1lci5kb20odGhpcy5yb290KS5xdWVyeVNlbGVjdG9yKHNsY3RyKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2xjdHIgU2VsZWN0b3IgdG8gcnVuIG9uIHRoaXMgbG9jYWwgRE9NIHNjb3BlXG4gICAgICogQHJldHVybiB7RWxlbWVudH0gRWxlbWVudCBmb3VuZCBieSB0aGUgc2VsZWN0b3IsIG9yIG51bGwgaWYgbm90IGZvdW5kLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgICQkKHNsY3RyKSB7XG4gICAgICAvLyBOb3RlLCBubyBuZWVkIHRvIGB3cmFwYCB0aGlzIGJlY2F1c2Ugcm9vdCBpcyBhbHdheXMgcGF0Y2hlZFxuICAgICAgcmV0dXJuIHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yKHNsY3RyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVsZW1lbnQgd2hvc2UgbG9jYWwgZG9tIHdpdGhpbiB3aGljaCB0aGlzIGVsZW1lbnRcbiAgICAgKiBpcyBjb250YWluZWQuIFRoaXMgaXMgYSBzaG9ydGhhbmQgZm9yXG4gICAgICogYHRoaXMuZ2V0Um9vdE5vZGUoKS5ob3N0YC5cbiAgICAgKiBAdGhpcyB7RWxlbWVudH1cbiAgICAgKiBAcmV0dXJuIHs/Tm9kZX0gVGhlIGVsZW1lbnQgd2hvc2UgbG9jYWwgZG9tIHdpdGhpbiB3aGljaCB0aGlzIGVsZW1lbnQgaXNcbiAgICAgKiBjb250YWluZWQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0IGRvbUhvc3QoKSB7XG4gICAgICBsZXQgcm9vdCA9IHdyYXAodGhpcykuZ2V0Um9vdE5vZGUoKTtcbiAgICAgIHJldHVybiAocm9vdCBpbnN0YW5jZW9mIERvY3VtZW50RnJhZ21lbnQpID8gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCkuaG9zdCA6IHJvb3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9yY2UgdGhpcyBlbGVtZW50IHRvIGRpc3RyaWJ1dGUgaXRzIGNoaWxkcmVuIHRvIGl0cyBsb2NhbCBkb20uXG4gICAgICogVGhpcyBzaG91bGQgbm90IGJlIG5lY2Vzc2FyeSBhcyBvZiBQb2x5bWVyIDIuMC4yIGFuZCBpcyBwcm92aWRlZCBvbmx5XG4gICAgICogZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGlzdHJpYnV0ZUNvbnRlbnQoKSB7XG4gICAgICBjb25zdCB0aGlzRWwgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovICh0aGlzKTtcbiAgICAgIGNvbnN0IGRvbUFwaSA9IC8qKiBAdHlwZSB7UG9seW1lckRvbUFwaX0gKi8oZG9tKHRoaXNFbCkpO1xuICAgICAgaWYgKHdpbmRvdy5TaGFkeURPTSAmJiBkb21BcGkuc2hhZG93Um9vdCkge1xuICAgICAgICBTaGFkeURPTS5mbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIG5vZGVzIHRoYXQgYXJlIHRoZSBlZmZlY3RpdmUgY2hpbGROb2Rlcy4gVGhlIGVmZmVjdGl2ZVxuICAgICAqIGNoaWxkTm9kZXMgbGlzdCBpcyB0aGUgc2FtZSBhcyB0aGUgZWxlbWVudCdzIGNoaWxkTm9kZXMgZXhjZXB0IHRoYXRcbiAgICAgKiBhbnkgYDxjb250ZW50PmAgZWxlbWVudHMgYXJlIHJlcGxhY2VkIHdpdGggdGhlIGxpc3Qgb2Ygbm9kZXMgZGlzdHJpYnV0ZWRcbiAgICAgKiB0byB0aGUgYDxjb250ZW50PmAsIHRoZSByZXN1bHQgb2YgaXRzIGBnZXREaXN0cmlidXRlZE5vZGVzYCBtZXRob2QuXG4gICAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gTGlzdCBvZiBlZmZlY3RpdmUgY2hpbGQgbm9kZXMuXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IExlZ2FjeUVsZW1lbnRNaXhpbiBtdXN0IGJlIGFwcGxpZWQgdG8gYW5cbiAgICAgKiAgICAgSFRNTEVsZW1lbnRcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBnZXRFZmZlY3RpdmVDaGlsZE5vZGVzKCkge1xuICAgICAgY29uc3QgdGhpc0VsID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAodGhpcyk7XG4gICAgICBjb25zdCBkb21BcGkgPSAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovIChkb20odGhpc0VsKSk7XG4gICAgICByZXR1cm4gZG9tQXBpLmdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBub2RlcyBkaXN0cmlidXRlZCB3aXRoaW4gdGhpcyBlbGVtZW50IHRoYXQgbWF0Y2hcbiAgICAgKiBgc2VsZWN0b3JgLiBUaGVzZSBjYW4gYmUgZG9tIGNoaWxkcmVuIG9yIGVsZW1lbnRzIGRpc3RyaWJ1dGVkIHRvXG4gICAgICogY2hpbGRyZW4gdGhhdCBhcmUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gcnVuLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZGlzdHJpYnV0ZWQgZWxlbWVudHMgdGhhdCBtYXRjaCBzZWxlY3Rvci5cbiAgICAgKiBAc3VwcHJlc3Mge2ludmFsaWRDYXN0c30gTGVnYWN5RWxlbWVudE1peGluIG11c3QgYmUgYXBwbGllZCB0byBhblxuICAgICAqIEhUTUxFbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKSB7XG4gICAgICBjb25zdCB0aGlzRWwgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovICh0aGlzKTtcbiAgICAgIGNvbnN0IGRvbUFwaSA9IC8qKiBAdHlwZSB7UG9seW1lckRvbUFwaX0gKi8gKGRvbSh0aGlzRWwpKTtcbiAgICAgIHJldHVybiBkb21BcGkucXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBlbGVtZW50cyB0aGF0IGFyZSB0aGUgZWZmZWN0aXZlIGNoaWxkcmVuLiBUaGUgZWZmZWN0aXZlXG4gICAgICogY2hpbGRyZW4gbGlzdCBpcyB0aGUgc2FtZSBhcyB0aGUgZWxlbWVudCdzIGNoaWxkcmVuIGV4Y2VwdCB0aGF0XG4gICAgICogYW55IGA8Y29udGVudD5gIGVsZW1lbnRzIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBsaXN0IG9mIGVsZW1lbnRzXG4gICAgICogZGlzdHJpYnV0ZWQgdG8gdGhlIGA8Y29udGVudD5gLlxuICAgICAqXG4gICAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gTGlzdCBvZiBlZmZlY3RpdmUgY2hpbGRyZW4uXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0RWZmZWN0aXZlQ2hpbGRyZW4oKSB7XG4gICAgICBsZXQgbGlzdCA9IHRoaXMuZ2V0RWZmZWN0aXZlQ2hpbGROb2RlcygpO1xuICAgICAgcmV0dXJuIGxpc3QuZmlsdGVyKGZ1bmN0aW9uKC8qKiBAdHlwZSB7IU5vZGV9ICovIG4pIHtcbiAgICAgICAgcmV0dXJuIChuLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIG9mIHRleHQgY29udGVudCB0aGF0IGlzIHRoZSBjb25jYXRlbmF0aW9uIG9mIHRoZVxuICAgICAqIHRleHQgY29udGVudCdzIG9mIHRoZSBlbGVtZW50J3MgZWZmZWN0aXZlIGNoaWxkTm9kZXMgKHRoZSBlbGVtZW50c1xuICAgICAqIHJldHVybmVkIGJ5IDxhIGhyZWY9XCIjZ2V0RWZmZWN0aXZlQ2hpbGROb2Rlcz5nZXRFZmZlY3RpdmVDaGlsZE5vZGVzPC9hPi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gTGlzdCBvZiBlZmZlY3RpdmUgY2hpbGRyZW4uXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0RWZmZWN0aXZlVGV4dENvbnRlbnQoKSB7XG4gICAgICBsZXQgY24gPSB0aGlzLmdldEVmZmVjdGl2ZUNoaWxkTm9kZXMoKTtcbiAgICAgIGxldCB0YyA9IFtdO1xuICAgICAgZm9yIChsZXQgaT0wLCBjOyAoYyA9IGNuW2ldKTsgaSsrKSB7XG4gICAgICAgIGlmIChjLm5vZGVUeXBlICE9PSBOb2RlLkNPTU1FTlRfTk9ERSkge1xuICAgICAgICAgIHRjLnB1c2goYy50ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0Yy5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBlZmZlY3RpdmUgY2hpbGROb2RlIHdpdGhpbiB0aGlzIGVsZW1lbnQgdGhhdFxuICAgICAqIG1hdGNoIGBzZWxlY3RvcmAuIFRoZXNlIGNhbiBiZSBkb20gY2hpbGQgbm9kZXMgb3IgZWxlbWVudHMgZGlzdHJpYnV0ZWRcbiAgICAgKiB0byBjaGlsZHJlbiB0aGF0IGFyZSBpbnNlcnRpb24gcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBTZWxlY3RvciB0byBydW4uXG4gICAgICogQHJldHVybiB7Tm9kZX0gRmlyc3QgZWZmZWN0aXZlIGNoaWxkIG5vZGUgdGhhdCBtYXRjaGVzIHNlbGVjdG9yLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHF1ZXJ5RWZmZWN0aXZlQ2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgICAgIGxldCBlJCA9IHRoaXMucXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICAgIHJldHVybiBlJCAmJiBlJFswXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBlZmZlY3RpdmUgY2hpbGROb2RlcyB3aXRoaW4gdGhpcyBlbGVtZW50IHRoYXRcbiAgICAgKiBtYXRjaCBgc2VsZWN0b3JgLiBUaGVzZSBjYW4gYmUgZG9tIGNoaWxkIG5vZGVzIG9yIGVsZW1lbnRzIGRpc3RyaWJ1dGVkXG4gICAgICogdG8gY2hpbGRyZW4gdGhhdCBhcmUgaW5zZXJ0aW9uIHBvaW50cy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gcnVuLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhTm9kZT59IExpc3Qgb2YgZWZmZWN0aXZlIGNoaWxkIG5vZGVzIHRoYXQgbWF0Y2hcbiAgICAgKiAgICAgc2VsZWN0b3IuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgcXVlcnlBbGxFZmZlY3RpdmVDaGlsZHJlbihzZWxlY3Rvcikge1xuICAgICAgcmV0dXJuIHRoaXMucXVlcnlEaXN0cmlidXRlZEVsZW1lbnRzKHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBub2RlcyBkaXN0cmlidXRlZCB0byB0aGlzIGVsZW1lbnQncyBgPHNsb3Q+YC5cbiAgICAgKlxuICAgICAqIElmIHRoaXMgZWxlbWVudCBjb250YWlucyBtb3JlIHRoYW4gb25lIGA8c2xvdD5gIGluIGl0cyBsb2NhbCBET00sXG4gICAgICogYW4gb3B0aW9uYWwgc2VsZWN0b3IgbWF5IGJlIHBhc3NlZCB0byBjaG9vc2UgdGhlIGRlc2lyZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gc2xjdHIgQ1NTIHNlbGVjdG9yIHRvIGNob29zZSB0aGUgZGVzaXJlZFxuICAgICAqICAgYDxzbG90PmAuICBEZWZhdWx0cyB0byBgY29udGVudGAuXG4gICAgICogQHJldHVybiB7IUFycmF5PCFOb2RlPn0gTGlzdCBvZiBkaXN0cmlidXRlZCBub2RlcyBmb3IgdGhlIGA8c2xvdD5gLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbnRlbnRDaGlsZE5vZGVzKHNsY3RyKSB7XG4gICAgICAvLyBOb3RlLCBubyBuZWVkIHRvIGB3cmFwYCB0aGlzIGJlY2F1c2Ugcm9vdCBpcyBhbHdheXNcbiAgICAgIGxldCBjb250ZW50ID0gdGhpcy5yb290LnF1ZXJ5U2VsZWN0b3Ioc2xjdHIgfHwgJ3Nsb3QnKTtcbiAgICAgIHJldHVybiBjb250ZW50ID9cbiAgICAgICAgICAvKiogQHR5cGUge1BvbHltZXJEb21BcGl9ICovIChkb20oY29udGVudCkpLmdldERpc3RyaWJ1dGVkTm9kZXMoKSA6XG4gICAgICAgICAgW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZWxlbWVudCBjaGlsZHJlbiBkaXN0cmlidXRlZCB0byB0aGlzIGVsZW1lbnQnc1xuICAgICAqIGA8c2xvdD5gLlxuICAgICAqXG4gICAgICogSWYgdGhpcyBlbGVtZW50IGNvbnRhaW5zIG1vcmUgdGhhbiBvbmUgYDxzbG90PmAgaW4gaXRzXG4gICAgICogbG9jYWwgRE9NLCBhbiBvcHRpb25hbCBzZWxlY3RvciBtYXkgYmUgcGFzc2VkIHRvIGNob29zZSB0aGUgZGVzaXJlZFxuICAgICAqIGNvbnRlbnQuICBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYGdldENvbnRlbnRDaGlsZE5vZGVzYCBpbiB0aGF0IG9ubHlcbiAgICAgKiBlbGVtZW50cyBhcmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHNsY3RyIENTUyBzZWxlY3RvciB0byBjaG9vc2UgdGhlIGRlc2lyZWRcbiAgICAgKiAgIGA8Y29udGVudD5gLiAgRGVmYXVsdHMgdG8gYGNvbnRlbnRgLlxuICAgICAqIEByZXR1cm4geyFBcnJheTwhSFRNTEVsZW1lbnQ+fSBMaXN0IG9mIGRpc3RyaWJ1dGVkIG5vZGVzIGZvciB0aGVcbiAgICAgKiAgIGA8c2xvdD5gLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGdldENvbnRlbnRDaGlsZHJlbihzbGN0cikge1xuICAgICAgbGV0IGNoaWxkcmVuID0gLyoqIEB0eXBlIHshQXJyYXk8IUhUTUxFbGVtZW50Pn0gKi8odGhpcy5nZXRDb250ZW50Q2hpbGROb2RlcyhzbGN0cikuZmlsdGVyKGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgcmV0dXJuIChuLm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSk7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBpbiB0aGlzIGVsZW1lbnQncyBsaWdodCBET00gdHJlZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7P05vZGV9IG5vZGUgVGhlIGVsZW1lbnQgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIG5vZGUgaXMgaW4gdGhpcyBlbGVtZW50J3MgbGlnaHQgRE9NIHRyZWUuXG4gICAgICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHN9IExlZ2FjeUVsZW1lbnRNaXhpbiBtdXN0IGJlIGFwcGxpZWQgdG8gYW5cbiAgICAgKiBIVE1MRWxlbWVudFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGlzTGlnaHREZXNjZW5kYW50KG5vZGUpIHtcbiAgICAgIGNvbnN0IHRoaXNOb2RlID0gLyoqIEB0eXBlIHtOb2RlfSAqLyAodGhpcyk7XG4gICAgICByZXR1cm4gdGhpc05vZGUgIT09IG5vZGUgJiYgd3JhcCh0aGlzTm9kZSkuY29udGFpbnMobm9kZSkgJiZcbiAgICAgICAgd3JhcCh0aGlzTm9kZSkuZ2V0Um9vdE5vZGUoKSA9PT0gd3JhcChub2RlKS5nZXRSb290Tm9kZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgaW4gdGhpcyBlbGVtZW50J3MgbG9jYWwgRE9NIHRyZWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyFFbGVtZW50fSBub2RlIFRoZSBlbGVtZW50IHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBub2RlIGlzIGluIHRoaXMgZWxlbWVudCdzIGxvY2FsIERPTSB0cmVlLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGlzTG9jYWxEZXNjZW5kYW50KG5vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJvb3QgPT09IHdyYXAobm9kZSkuZ2V0Um9vdE5vZGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOby1vcCBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuIFRoaXMgc2hvdWxkIG5vdyBiZSBoYW5kbGVkIGJ5XG4gICAgICogU2hhZHlDc3MgbGlicmFyeS5cbiAgICAgKiBAcGFyYW0gIHshRWxlbWVudH0gY29udGFpbmVyIENvbnRhaW5lciBlbGVtZW50IHRvIHNjb3BlXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbj19IHNob3VsZE9ic2VydmUgaWYgdHJ1ZSwgc3RhcnQgYSBtdXRhdGlvbiBvYnNlcnZlciBmb3IgYWRkZWQgbm9kZXMgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm4gez9NdXRhdGlvbk9ic2VydmVyfSBSZXR1cm5zIGEgbmV3IE11dGF0aW9uT2JzZXJ2ZXIgb24gYGNvbnRhaW5lcmAgaWYgYHNob3VsZE9ic2VydmVgIGlzIHRydWUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgc2NvcGVTdWJ0cmVlKGNvbnRhaW5lciwgc2hvdWxkT2JzZXJ2ZSA9IGZhbHNlKSB7XG4gICAgICByZXR1cm4gc2NvcGVTdWJ0cmVlKGNvbnRhaW5lciwgc2hvdWxkT2JzZXJ2ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29tcHV0ZWQgc3R5bGUgdmFsdWUgZm9yIHRoZSBnaXZlbiBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIGNzcyBwcm9wZXJ0eSBuYW1lLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gUmV0dXJucyB0aGUgY29tcHV0ZWQgY3NzIHByb3BlcnR5IHZhbHVlIGZvciB0aGUgZ2l2ZW5cbiAgICAgKiBgcHJvcGVydHlgLlxuICAgICAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSBMZWdhY3lFbGVtZW50TWl4aW4gbXVzdCBiZSBhcHBsaWVkIHRvIGFuXG4gICAgICogICAgIEhUTUxFbGVtZW50XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKHByb3BlcnR5KSB7XG4gICAgICByZXR1cm4gc3R5bGVJbnRlcmZhY2UuZ2V0Q29tcHV0ZWRTdHlsZVZhbHVlKC8qKiBAdHlwZSB7IUVsZW1lbnR9ICovKHRoaXMpLCBwcm9wZXJ0eSk7XG4gICAgfVxuXG4gICAgLy8gZGVib3VuY2VcblxuICAgIC8qKlxuICAgICAqIENhbGwgYGRlYm91bmNlYCB0byBjb2xsYXBzZSBtdWx0aXBsZSByZXF1ZXN0cyBmb3IgYSBuYW1lZCB0YXNrIGludG9cbiAgICAgKiBvbmUgaW52b2NhdGlvbiB3aGljaCBpcyBtYWRlIGFmdGVyIHRoZSB3YWl0IHRpbWUgaGFzIGVsYXBzZWQgd2l0aFxuICAgICAqIG5vIG5ldyByZXF1ZXN0LiAgSWYgbm8gd2FpdCB0aW1lIGlzIGdpdmVuLCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWRcbiAgICAgKiBhdCBtaWNyb3Rhc2sgdGltaW5nIChndWFyYW50ZWVkIGJlZm9yZSBwYWludCkuXG4gICAgICpcbiAgICAgKiAgICAgZGVib3VuY2VkQ2xpY2tBY3Rpb24oZSkge1xuICAgICAqICAgICAgIC8vIHdpbGwgbm90IGNhbGwgYHByb2Nlc3NDbGlja2AgbW9yZSB0aGFuIG9uY2UgcGVyIDEwMG1zXG4gICAgICogICAgICAgdGhpcy5kZWJvdW5jZSgnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgICAgdGhpcy5wcm9jZXNzQ2xpY2soKTtcbiAgICAgKiAgICAgICB9IDEwMCk7XG4gICAgICogICAgIH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBqb2JOYW1lIFN0cmluZyB0byBpZGVudGlmeSB0aGUgZGVib3VuY2Ugam9iLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKTp2b2lkfSBjYWxsYmFjayBGdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCAod2l0aCBgdGhpc2BcbiAgICAgKiAgIGNvbnRleHQpIHdoZW4gdGhlIHdhaXQgdGltZSBlbGFwc2VzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gd2FpdCBPcHRpb25hbCB3YWl0IHRpbWUgaW4gbWlsbGlzZWNvbmRzIChtcykgYWZ0ZXIgdGhlXG4gICAgICogICBsYXN0IHNpZ25hbCB0aGF0IG11c3QgZWxhcHNlIGJlZm9yZSBpbnZva2luZyBgY2FsbGJhY2tgXG4gICAgICogQHJldHVybiB7IU9iamVjdH0gUmV0dXJucyBhIGRlYm91bmNlciBvYmplY3Qgb24gd2hpY2ggZXhpc3RzIHRoZVxuICAgICAqIGZvbGxvd2luZyBtZXRob2RzOiBgaXNBY3RpdmUoKWAgcmV0dXJucyB0cnVlIGlmIHRoZSBkZWJvdW5jZXIgaXNcbiAgICAgKiBhY3RpdmU7IGBjYW5jZWwoKWAgY2FuY2VscyB0aGUgZGVib3VuY2VyIGlmIGl0IGlzIGFjdGl2ZTtcbiAgICAgKiBgZmx1c2goKWAgaW1tZWRpYXRlbHkgaW52b2tlcyB0aGUgZGVib3VuY2VkIGNhbGxiYWNrIGlmIHRoZSBkZWJvdW5jZXJcbiAgICAgKiBpcyBhY3RpdmUuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZGVib3VuY2Uoam9iTmFtZSwgY2FsbGJhY2ssIHdhaXQpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlcnMgPSB0aGlzLl9kZWJvdW5jZXJzIHx8IHt9O1xuICAgICAgcmV0dXJuIHRoaXMuX2RlYm91bmNlcnNbam9iTmFtZV0gPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgICAgICB0aGlzLl9kZWJvdW5jZXJzW2pvYk5hbWVdXG4gICAgICAgICAgLCB3YWl0ID4gMCA/IHRpbWVPdXQuYWZ0ZXIod2FpdCkgOiBtaWNyb1Rhc2tcbiAgICAgICAgICAsIGNhbGxiYWNrLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBhIG5hbWVkIGRlYm91bmNlciBpcyBhY3RpdmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gam9iTmFtZSBUaGUgbmFtZSBvZiB0aGUgZGVib3VuY2VyIHN0YXJ0ZWQgd2l0aCBgZGVib3VuY2VgXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZGVib3VuY2VyIGlzIGFjdGl2ZSAoaGFzIG5vdCB5ZXQgZmlyZWQpLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGlzRGVib3VuY2VyQWN0aXZlKGpvYk5hbWUpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlcnMgPSB0aGlzLl9kZWJvdW5jZXJzIHx8IHt9O1xuICAgICAgbGV0IGRlYm91bmNlciA9IHRoaXMuX2RlYm91bmNlcnNbam9iTmFtZV07XG4gICAgICByZXR1cm4gISEoZGVib3VuY2VyICYmIGRlYm91bmNlci5pc0FjdGl2ZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbW1lZGlhdGVseSBjYWxscyB0aGUgZGVib3VuY2VyIGBjYWxsYmFja2AgYW5kIGluYWN0aXZhdGVzIGl0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGpvYk5hbWUgVGhlIG5hbWUgb2YgdGhlIGRlYm91bmNlciBzdGFydGVkIHdpdGggYGRlYm91bmNlYFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgZmx1c2hEZWJvdW5jZXIoam9iTmFtZSkge1xuICAgICAgdGhpcy5fZGVib3VuY2VycyA9IHRoaXMuX2RlYm91bmNlcnMgfHwge307XG4gICAgICBsZXQgZGVib3VuY2VyID0gdGhpcy5fZGVib3VuY2Vyc1tqb2JOYW1lXTtcbiAgICAgIGlmIChkZWJvdW5jZXIpIHtcbiAgICAgICAgZGVib3VuY2VyLmZsdXNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbiBhY3RpdmUgZGVib3VuY2VyLiAgVGhlIGBjYWxsYmFja2Agd2lsbCBub3QgYmUgY2FsbGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGpvYk5hbWUgVGhlIG5hbWUgb2YgdGhlIGRlYm91bmNlciBzdGFydGVkIHdpdGggYGRlYm91bmNlYFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgY2FuY2VsRGVib3VuY2VyKGpvYk5hbWUpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlcnMgPSB0aGlzLl9kZWJvdW5jZXJzIHx8IHt9O1xuICAgICAgbGV0IGRlYm91bmNlciA9IHRoaXMuX2RlYm91bmNlcnNbam9iTmFtZV07XG4gICAgICBpZiAoZGVib3VuY2VyKSB7XG4gICAgICAgIGRlYm91bmNlci5jYW5jZWwoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSdW5zIGEgY2FsbGJhY2sgZnVuY3Rpb24gYXN5bmNocm9ub3VzbHkuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0IChpZiBubyB3YWl0VGltZSBpcyBzcGVjaWZpZWQpLCBhc3luYyBjYWxsYmFja3MgYXJlIHJ1biBhdFxuICAgICAqIG1pY3JvdGFzayB0aW1pbmcsIHdoaWNoIHdpbGwgb2NjdXIgYmVmb3JlIHBhaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byBydW4sIGJvdW5kIHRvXG4gICAgICogICAgIGB0aGlzYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcj19IHdhaXRUaW1lIFRpbWUgdG8gd2FpdCBiZWZvcmUgY2FsbGluZyB0aGVcbiAgICAgKiAgIGBjYWxsYmFja2AuICBJZiB1bnNwZWNpZmllZCBvciAwLCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBydW4gYXQgbWljcm90YXNrXG4gICAgICogICB0aW1pbmcgKGJlZm9yZSBwYWludCkuXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBIYW5kbGUgdGhhdCBtYXkgYmUgdXNlZCB0byBjYW5jZWwgdGhlIGFzeW5jIGpvYi5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBhc3luYyhjYWxsYmFjaywgd2FpdFRpbWUpIHtcbiAgICAgIHJldHVybiB3YWl0VGltZSA+IDAgPyB0aW1lT3V0LnJ1bihjYWxsYmFjay5iaW5kKHRoaXMpLCB3YWl0VGltZSkgOlxuICAgICAgICAgIH5taWNyb1Rhc2sucnVuKGNhbGxiYWNrLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYW4gYXN5bmMgb3BlcmF0aW9uIHN0YXJ0ZWQgd2l0aCBgYXN5bmNgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhhbmRsZSBIYW5kbGUgcmV0dXJuZWQgZnJvbSBvcmlnaW5hbCBgYXN5bmNgIGNhbGwgdG9cbiAgICAgKiAgIGNhbmNlbC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGNhbmNlbEFzeW5jKGhhbmRsZSkge1xuICAgICAgaGFuZGxlIDwgMCA/IG1pY3JvVGFzay5jYW5jZWwofmhhbmRsZSkgOlxuICAgICAgICAgIHRpbWVPdXQuY2FuY2VsKGhhbmRsZSk7XG4gICAgfVxuXG4gICAgLy8gb3RoZXJcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3IgY3JlYXRpbmcgYW4gZWxlbWVudCBhbmQgY29uZmlndXJpbmcgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIEhUTUwgZWxlbWVudCB0YWcgdG8gY3JlYXRlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gcHJvcHMgT2JqZWN0IG9mIHByb3BlcnRpZXMgdG8gY29uZmlndXJlIG9uIHRoZVxuICAgICAqICAgIGluc3RhbmNlLlxuICAgICAqIEByZXR1cm4geyFFbGVtZW50fSBOZXdseSBjcmVhdGVkIGFuZCBjb25maWd1cmVkIGVsZW1lbnQuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgY3JlYXRlKHRhZywgcHJvcHMpIHtcbiAgICAgIGxldCBlbHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgaWYgKGVsdC5zZXRQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgZWx0LnNldFByb3BlcnRpZXMocHJvcHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAobGV0IG4gaW4gcHJvcHMpIHtcbiAgICAgICAgICAgIGVsdFtuXSA9IHByb3BzW25dO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGVsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQb2x5ZmlsbCBmb3IgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcywgd2hpY2ggaXMgc29tZXRpbWVzIHN0aWxsXG4gICAgICogcHJlZml4ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgU2VsZWN0b3IgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0geyFFbGVtZW50PX0gbm9kZSBFbGVtZW50IHRvIHRlc3QgdGhlIHNlbGVjdG9yIGFnYWluc3QuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZWxlbWVudCBtYXRjaGVzIHRoZSBzZWxlY3Rvci5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBlbGVtZW50TWF0Y2hlcyhzZWxlY3Rvciwgbm9kZSkge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3RvciggKG5vZGUgfHwgdGhpcyksIHNlbGVjdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGFuIEhUTUwgYXR0cmlidXRlIG9uIG9yIG9mZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEhUTUwgYXR0cmlidXRlIG5hbWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBib29sIEJvb2xlYW4gdG8gZm9yY2UgdGhlIGF0dHJpYnV0ZSBvbiBvciBvZmYuXG4gICAgICogICAgV2hlbiB1bnNwZWNpZmllZCwgdGhlIHN0YXRlIG9mIHRoZSBhdHRyaWJ1dGUgd2lsbCBiZSByZXZlcnNlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBhdHRyaWJ1dGUgbm93IGV4aXN0c1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHRvZ2dsZUF0dHJpYnV0ZShuYW1lLCBib29sKSB7XG4gICAgICBsZXQgbm9kZSA9IC8qKiBAdHlwZSB7RWxlbWVudH0gKi8odGhpcyk7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyhhcmd1bWVudHNbMl0pO1xuICAgICAgfVxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICBib29sID0gIW5vZGUuaGFzQXR0cmlidXRlKG5hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgd3JhcChub2RlKS5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyYXAobm9kZSkucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIGEgQ1NTIGNsYXNzIG9uIG9yIG9mZi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIENTUyBjbGFzcyBuYW1lXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gYm9vbCBCb29sZWFuIHRvIGZvcmNlIHRoZSBjbGFzcyBvbiBvciBvZmYuXG4gICAgICogICAgV2hlbiB1bnNwZWNpZmllZCwgdGhlIHN0YXRlIG9mIHRoZSBjbGFzcyB3aWxsIGJlIHJldmVyc2VkLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IG5vZGUgTm9kZSB0byB0YXJnZXQuICBEZWZhdWx0cyB0byBgdGhpc2AuXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICB0b2dnbGVDbGFzcyhuYW1lLCBib29sLCBub2RlKSB7XG4gICAgICBub2RlID0gLyoqIEB0eXBlIHtFbGVtZW50fSAqLyAobm9kZSB8fCB0aGlzKTtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgYm9vbCA9ICFub2RlLmNsYXNzTGlzdC5jb250YWlucyhuYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChib29sKSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGUuY2xhc3NMaXN0LnJlbW92ZShuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcm9zcy1wbGF0Zm9ybSBoZWxwZXIgZm9yIHNldHRpbmcgYW4gZWxlbWVudCdzIENTUyBgdHJhbnNmb3JtYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2Zvcm1UZXh0IFRyYW5zZm9ybSBzZXR0aW5nLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IG5vZGUgRWxlbWVudCB0byBhcHBseSB0aGUgdHJhbnNmb3JtIHRvLlxuICAgICAqIERlZmF1bHRzIHRvIGB0aGlzYFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgdHJhbnNmb3JtKHRyYW5zZm9ybVRleHQsIG5vZGUpIHtcbiAgICAgIG5vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgbm9kZS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZXh0O1xuICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1UZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyb3NzLXBsYXRmb3JtIGhlbHBlciBmb3Igc2V0dGluZyBhbiBlbGVtZW50J3MgQ1NTIGB0cmFuc2xhdGUzZGBcbiAgICAgKiBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30geCBYIG9mZnNldC5cbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHkgWSBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB6IFogb2Zmc2V0LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudD19IG5vZGUgRWxlbWVudCB0byBhcHBseSB0aGUgdHJhbnNmb3JtIHRvLlxuICAgICAqIERlZmF1bHRzIHRvIGB0aGlzYC5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZTNkKHgsIHksIHosIG5vZGUpIHtcbiAgICAgIG5vZGUgPSAvKiogQHR5cGUge0VsZW1lbnR9ICovIChub2RlIHx8IHRoaXMpO1xuICAgICAgdGhpcy50cmFuc2Zvcm0oJ3RyYW5zbGF0ZTNkKCcgKyB4ICsgJywnICsgeSArICcsJyArIHogKyAnKScsIG5vZGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYW4gaXRlbSBmcm9tIGFuIGFycmF5LCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgYXJyYXkgaXMgc3BlY2lmaWVkIGJ5IHBhdGgsIGEgY2hhbmdlIG5vdGlmaWNhdGlvbiBpc1xuICAgICAqIGdlbmVyYXRlZCwgc28gdGhhdCBvYnNlcnZlcnMsIGRhdGEgYmluZGluZ3MgYW5kIGNvbXB1dGVkXG4gICAgICogcHJvcGVydGllcyB3YXRjaGluZyB0aGF0IHBhdGggY2FuIHVwZGF0ZS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBhcnJheSBpcyBwYXNzZWQgZGlyZWN0bHksICoqbm8gY2hhbmdlXG4gICAgICogbm90aWZpY2F0aW9uIGlzIGdlbmVyYXRlZCoqLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCAhQXJyYXk8bnVtYmVyfHN0cmluZz59IGFycmF5T3JQYXRoIFBhdGggdG8gYXJyYXkgZnJvbVxuICAgICAqICAgICB3aGljaCB0byByZW1vdmUgdGhlIGl0ZW1cbiAgICAgKiAgIChvciB0aGUgYXJyYXkgaXRzZWxmKS5cbiAgICAgKiBAcGFyYW0geyp9IGl0ZW0gSXRlbSB0byByZW1vdmUuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFycmF5IGNvbnRhaW5pbmcgaXRlbSByZW1vdmVkLlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIGFycmF5RGVsZXRlKGFycmF5T3JQYXRoLCBpdGVtKSB7XG4gICAgICBsZXQgaW5kZXg7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShhcnJheU9yUGF0aCkpIHtcbiAgICAgICAgaW5kZXggPSBhcnJheU9yUGF0aC5pbmRleE9mKGl0ZW0pO1xuICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgIHJldHVybiBhcnJheU9yUGF0aC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYXJyID0gZ2V0KHRoaXMsIGFycmF5T3JQYXRoKTtcbiAgICAgICAgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5zcGxpY2UoYXJyYXlPclBhdGgsIGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gbG9nZ2luZ1xuXG4gICAgLyoqXG4gICAgICogRmFjYWRlcyBgY29uc29sZS5sb2dgL2B3YXJuYC9gZXJyb3JgIGFzIG92ZXJyaWRlIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxldmVsIE9uZSBvZiAnbG9nJywgJ3dhcm4nLCAnZXJyb3InXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBBcnJheSBvZiBzdHJpbmdzIG9yIG9iamVjdHMgdG8gbG9nXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBfbG9nZ2VyKGxldmVsLCBhcmdzKSB7XG4gICAgICAvLyBhY2NlcHQgWydmb28nLCAnYmFyJ10gYW5kIFtbJ2ZvbycsICdiYXInXV1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3MpICYmIGFyZ3MubGVuZ3RoID09PSAxICYmIEFycmF5LmlzQXJyYXkoYXJnc1swXSkpIHtcbiAgICAgICAgYXJncyA9IGFyZ3NbMF07XG4gICAgICB9XG4gICAgICBzd2l0Y2gobGV2ZWwpIHtcbiAgICAgICAgY2FzZSAnbG9nJzpcbiAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICBjb25zb2xlW2xldmVsXSguLi5hcmdzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGYWNhZGVzIGBjb25zb2xlLmxvZ2AgYXMgYW4gb3ZlcnJpZGUgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHRvIGxvZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2xvZyguLi5hcmdzKSB7XG4gICAgICB0aGlzLl9sb2dnZXIoJ2xvZycsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZhY2FkZXMgYGNvbnNvbGUud2FybmAgYXMgYW4gb3ZlcnJpZGUgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHRvIGxvZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX3dhcm4oLi4uYXJncykge1xuICAgICAgdGhpcy5fbG9nZ2VyKCd3YXJuJywgYXJncyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmFjYWRlcyBgY29uc29sZS5lcnJvcmAgYXMgYW4gb3ZlcnJpZGUgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJyYXkgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHRvIGxvZ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2Vycm9yKC4uLmFyZ3MpIHtcbiAgICAgIHRoaXMuX2xvZ2dlcignZXJyb3InLCBhcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3JtYXRzIGEgbWVzc2FnZSB1c2luZyB0aGUgZWxlbWVudCB0eXBlIGFuIGEgbWV0aG9kIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBNZXRob2QgbmFtZSB0byBhc3NvY2lhdGUgd2l0aCBtZXNzYWdlXG4gICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIEFycmF5IG9mIHN0cmluZ3Mgb3Igb2JqZWN0cyB0byBsb2dcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQXJyYXkgd2l0aCBmb3JtYXR0aW5nIGluZm9ybWF0aW9uIGZvciBgY29uc29sZWBcbiAgICAgKiAgIGxvZ2dpbmcuXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgX2xvZ2YobWV0aG9kTmFtZSwgLi4uYXJncykge1xuICAgICAgcmV0dXJuIFsnWyVzOjolc10nLCB0aGlzLmlzLCBtZXRob2ROYW1lLCAuLi5hcmdzXTtcbiAgICB9XG5cbiAgfVxuXG4gIExlZ2FjeUVsZW1lbnQucHJvdG90eXBlLmlzID0gJyc7XG5cbiAgcmV0dXJuIExlZ2FjeUVsZW1lbnQ7XG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5cbmltcG9ydCB7IExlZ2FjeUVsZW1lbnRNaXhpbiB9IGZyb20gJy4vbGVnYWN5LWVsZW1lbnQtbWl4aW4uanMnO1xuaW1wb3J0IHsgbGVnYWN5T3B0aW1pemF0aW9ucyB9IGZyb20gJy4uL3V0aWxzL3NldHRpbmdzLmpzJztcblxuY29uc3QgbGlmZWN5Y2xlUHJvcHMgPSB7XG4gIGF0dGFjaGVkOiB0cnVlLFxuICBkZXRhY2hlZDogdHJ1ZSxcbiAgcmVhZHk6IHRydWUsXG4gIGNyZWF0ZWQ6IHRydWUsXG4gIGJlZm9yZVJlZ2lzdGVyOiB0cnVlLFxuICByZWdpc3RlcmVkOiB0cnVlLFxuICBhdHRyaWJ1dGVDaGFuZ2VkOiB0cnVlLFxuICBsaXN0ZW5lcnM6IHRydWUsXG4gIGhvc3RBdHRyaWJ1dGVzOiB0cnVlXG59O1xuXG5jb25zdCBleGNsdWRlT25JbmZvID0ge1xuICBhdHRhY2hlZDogdHJ1ZSxcbiAgZGV0YWNoZWQ6IHRydWUsXG4gIHJlYWR5OiB0cnVlLFxuICBjcmVhdGVkOiB0cnVlLFxuICBiZWZvcmVSZWdpc3RlcjogdHJ1ZSxcbiAgcmVnaXN0ZXJlZDogdHJ1ZSxcbiAgYXR0cmlidXRlQ2hhbmdlZDogdHJ1ZSxcbiAgYmVoYXZpb3JzOiB0cnVlLFxuICBfbm9BY2Nlc3NvcnM6IHRydWVcbn07XG5cbmNvbnN0IGV4Y2x1ZGVPbkJlaGF2aW9ycyA9IE9iamVjdC5hc3NpZ24oe1xuICBsaXN0ZW5lcnM6IHRydWUsXG4gIGhvc3RBdHRyaWJ1dGVzOiB0cnVlLFxuICBwcm9wZXJ0aWVzOiB0cnVlLFxuICBvYnNlcnZlcnM6IHRydWUsXG59LCBleGNsdWRlT25JbmZvKTtcblxuZnVuY3Rpb24gY29weVByb3BlcnRpZXMoc291cmNlLCB0YXJnZXQsIGV4Y2x1ZGVQcm9wcykge1xuICBjb25zdCBub0FjY2Vzc29ycyA9IHNvdXJjZS5fbm9BY2Nlc3NvcnM7XG4gIGNvbnN0IHByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2UpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnR5TmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgcCA9IHByb3BlcnR5TmFtZXNbaV07XG4gICAgaWYgKHAgaW4gZXhjbHVkZVByb3BzKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG5vQWNjZXNzb3JzKSB7XG4gICAgICB0YXJnZXRbcF0gPSBzb3VyY2VbcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwKTtcbiAgICAgIGlmIChwZCkge1xuICAgICAgICAvLyBlbnN1cmUgcHJvcGVydHkgaXMgY29uZmlndXJhYmxlIHNvIHRoYXQgYSBsYXRlciBiZWhhdmlvciBjYW5cbiAgICAgICAgLy8gcmUtY29uZmlndXJlIGl0LlxuICAgICAgICBwZC5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwLCBwZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQXBwbGllcyBhIFwibGVnYWN5XCIgYmVoYXZpb3Igb3IgYXJyYXkgb2YgYmVoYXZpb3JzIHRvIHRoZSBwcm92aWRlZCBjbGFzcy5cbiAqXG4gKiBOb3RlOiB0aGlzIG1ldGhvZCB3aWxsIGF1dG9tYXRpY2FsbHkgYWxzbyBhcHBseSB0aGUgYExlZ2FjeUVsZW1lbnRNaXhpbmBcbiAqIHRvIGVuc3VyZSB0aGF0IGFueSBsZWdhY3kgYmVoYXZpb3JzIGNhbiByZWx5IG9uIGxlZ2FjeSBQb2x5bWVyIEFQSSBvblxuICogdGhlIHVuZGVybHlpbmcgZWxlbWVudC5cbiAqXG4gKiBAZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0geyFPYmplY3R8IUFycmF5PCFPYmplY3Q+fSBiZWhhdmlvcnMgQmVoYXZpb3Igb2JqZWN0IG9yIGFycmF5IG9mIGJlaGF2aW9ycy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlQpfSBrbGFzcyBFbGVtZW50IGNsYXNzLlxuICogQHJldHVybiB7P30gUmV0dXJucyBhIG5ldyBFbGVtZW50IGNsYXNzIGV4dGVuZGVkIGJ5IHRoZVxuICogcGFzc2VkIGluIGBiZWhhdmlvcnNgIGFuZCBhbHNvIGJ5IGBMZWdhY3lFbGVtZW50TWl4aW5gLlxuICogQHN1cHByZXNzIHtpbnZhbGlkQ2FzdHMsIGNoZWNrVHlwZXN9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXhpbkJlaGF2aW9ycyhiZWhhdmlvcnMsIGtsYXNzKSB7XG4gIHJldHVybiBHZW5lcmF0ZUNsYXNzRnJvbUluZm8oe30sIExlZ2FjeUVsZW1lbnRNaXhpbihrbGFzcyksIGJlaGF2aW9ycyk7XG59XG5cbi8vIE5PVEU6XG4vLyAxLnhcbi8vIEJlaGF2aW9ycyB3ZXJlIG1peGVkIGluICppbiByZXZlcnNlIG9yZGVyKiBhbmQgZGUtZHVwZWQgb24gdGhlIGZseS5cbi8vIFRoZSBydWxlIHdhcyB0aGF0IGJlaGF2aW9yIHByb3BlcnRpZXMgd2VyZSBjb3BpZWQgb250byB0aGUgZWxlbWVudFxuLy8gcHJvdG90eXBlIGlmIGFuZCBvbmx5IGlmIHRoZSBwcm9wZXJ0eSBkaWQgbm90IGFscmVhZHkgZXhpc3QuXG4vLyBHaXZlbjogUG9seW1lcnsgYmVoYXZpb3JzOiBbQSwgQiwgQywgQSwgQl19LCBwcm9wZXJ0eSBjb3B5IG9yZGVyIHdhczpcbi8vICgxKSwgQiwgKDIpLCBBLCAoMykgQy4gVGhpcyBtZWFucyBwcm90b3R5cGUgcHJvcGVydGllcyB3aW4gb3ZlclxuLy8gQiBwcm9wZXJ0aWVzIHdpbiBvdmVyIEEgd2luIG92ZXIgQy4gVGhpcyBtaXJyb3JzIHdoYXQgd291bGQgaGFwcGVuXG4vLyB3aXRoIGluaGVyaXRhbmNlIGlmIGVsZW1lbnQgZXh0ZW5kZWQgQiBleHRlbmRlZCBBIGV4dGVuZGVkIEMuXG4vL1xuLy8gQWdhaW4gZ2l2ZW4sIFBvbHltZXJ7IGJlaGF2aW9yczogW0EsIEIsIEMsIEEsIEJdfSwgdGhlIHJlc3VsdGluZ1xuLy8gYGJlaGF2aW9yc2AgYXJyYXkgd2FzIFtDLCBBLCBCXS5cbi8vIEJlaGF2aW9yIGxpZmVjeWNsZSBtZXRob2RzIHdlcmUgY2FsbGVkIGluIGJlaGF2aW9yIGFycmF5IG9yZGVyXG4vLyBmb2xsb3dlZCBieSB0aGUgZWxlbWVudCwgZS5nLiAoMSkgQy5jcmVhdGVkLCAoMikgQS5jcmVhdGVkLFxuLy8gKDMpIEIuY3JlYXRlZCwgKDQpIGVsZW1lbnQuY3JlYXRlZC4gVGhlcmUgd2FzIG5vIHN1cHBvcnQgZm9yXG4vLyBzdXBlciwgYW5kIFwic3VwZXItYmVoYXZpb3JcIiBtZXRob2RzIHdlcmUgY2FsbGFibGUgb25seSBieSBuYW1lKS5cbi8vXG4vLyAyLnhcbi8vIEJlaGF2aW9ycyBhcmUgbWFkZSBpbnRvIHByb3BlciBtaXhpbnMgd2hpY2ggbGl2ZSBpbiB0aGVcbi8vIGVsZW1lbnQncyBwcm90b3R5cGUgY2hhaW4uIEJlaGF2aW9ycyBhcmUgcGxhY2VkIGluIHRoZSBlbGVtZW50IHByb3RvdHlwZVxuLy8gZWxkZXN0IHRvIHlvdW5nZXN0IGFuZCBkZS1kdXBlZCB5b3VuZ2VzdCB0byBvbGRlc3Q6XG4vLyBTbywgZmlyc3QgW0EsIEIsIEMsIEEsIEJdIGJlY29tZXMgW0MsIEEsIEJdIHRoZW4sXG4vLyB0aGUgZWxlbWVudCBwcm90b3R5cGUgYmVjb21lcyAob2xkZXN0KSAoMSkgUG9seW1lckVsZW1lbnQsICgyKSBjbGFzcyhDKSxcbi8vICgzKSBjbGFzcyhBKSwgKDQpIGNsYXNzKEIpLCAoNSkgY2xhc3MoUG9seW1lcih7Li4ufSkpLlxuLy8gUmVzdWx0OlxuLy8gVGhpcyBtZWFucyBlbGVtZW50IHByb3BlcnRpZXMgd2luIG92ZXIgQiBwcm9wZXJ0aWVzIHdpbiBvdmVyIEEgd2luXG4vLyBvdmVyIEMuIChzYW1lIGFzIDEueClcbi8vIElmIGxpZmVjeWNsZSBpcyBjYWxsZWQgKHN1cGVyIHRoZW4gbWUpLCBvcmRlciBpc1xuLy8gKDEpIEMuY3JlYXRlZCwgKDIpIEEuY3JlYXRlZCwgKDMpIEIuY3JlYXRlZCwgKDQpIGVsZW1lbnQuY3JlYXRlZFxuLy8gKGFnYWluIHNhbWUgYXMgMS54KVxuZnVuY3Rpb24gYXBwbHlCZWhhdmlvcnMocHJvdG8sIGJlaGF2aW9ycywgbGlmZWN5Y2xlKSB7XG4gIGZvciAobGV0IGk9MDsgaTxiZWhhdmlvcnMubGVuZ3RoOyBpKyspIHtcbiAgICBhcHBseUluZm8ocHJvdG8sIGJlaGF2aW9yc1tpXSwgbGlmZWN5Y2xlLCBleGNsdWRlT25CZWhhdmlvcnMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5SW5mbyhwcm90bywgaW5mbywgbGlmZWN5Y2xlLCBleGNsdWRlUHJvcHMpIHtcbiAgY29weVByb3BlcnRpZXMoaW5mbywgcHJvdG8sIGV4Y2x1ZGVQcm9wcyk7XG4gIGZvciAobGV0IHAgaW4gbGlmZWN5Y2xlUHJvcHMpIHtcbiAgICBpZiAoaW5mb1twXSkge1xuICAgICAgbGlmZWN5Y2xlW3BdID0gbGlmZWN5Y2xlW3BdIHx8IFtdO1xuICAgICAgbGlmZWN5Y2xlW3BdLnB1c2goaW5mb1twXSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gYmVoYXZpb3JzIExpc3Qgb2YgYmVoYXZpb3JzIHRvIGZsYXR0ZW4uXG4gKiBAcGFyYW0ge0FycmF5PX0gbGlzdCBUYXJnZXQgbGlzdCB0byBmbGF0dGVuIGJlaGF2aW9ycyBpbnRvLlxuICogQHBhcmFtIHtBcnJheT19IGV4Y2x1ZGUgTGlzdCBvZiBiZWhhdmlvcnMgdG8gZXhjbHVkZSBmcm9tIHRoZSBsaXN0LlxuICogQHJldHVybiB7IUFycmF5fSBSZXR1cm5zIHRoZSBsaXN0IG9mIGZsYXR0ZW5lZCBiZWhhdmlvcnMuXG4gKi9cbmZ1bmN0aW9uIGZsYXR0ZW5CZWhhdmlvcnMoYmVoYXZpb3JzLCBsaXN0LCBleGNsdWRlKSB7XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICBmb3IgKGxldCBpPWJlaGF2aW9ycy5sZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgYiA9IGJlaGF2aW9yc1tpXTtcbiAgICBpZiAoYikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgZmxhdHRlbkJlaGF2aW9ycyhiLCBsaXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlZHVwXG4gICAgICAgIGlmIChsaXN0LmluZGV4T2YoYikgPCAwICYmICghZXhjbHVkZSB8fCBleGNsdWRlLmluZGV4T2YoYikgPCAwKSkge1xuICAgICAgICAgIGxpc3QudW5zaGlmdChiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2JlaGF2aW9yIGlzIG51bGwsIGNoZWNrIGZvciBtaXNzaW5nIG9yIDQwNCBpbXBvcnQnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnR5IGRlc2NyaXB0b3JzIGZyb20gc291cmNlIHRvIHRhcmdldCwgb3ZlcndyaXRpbmcgYWxsIGZpZWxkc1xuICogb2YgYW55IHByZXZpb3VzIGRlc2NyaXB0b3IgZm9yIGEgcHJvcGVydHkgKmV4Y2VwdCogZm9yIGB2YWx1ZWAsIHdoaWNoIGlzXG4gKiBtZXJnZWQgaW4gZnJvbSB0aGUgdGFyZ2V0IGlmIGl0IGRvZXMgbm90IGV4aXN0IG9uIHRoZSBzb3VyY2UuXG4gKlxuICogQHBhcmFtIHsqfSB0YXJnZXQgVGFyZ2V0IHByb3BlcnRpZXMgb2JqZWN0XG4gKiBAcGFyYW0geyp9IHNvdXJjZSBTb3VyY2UgcHJvcGVydGllcyBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWVyZ2VQcm9wZXJ0aWVzKHRhcmdldCwgc291cmNlKSB7XG4gIGZvciAoY29uc3QgcCBpbiBzb3VyY2UpIHtcbiAgICBjb25zdCB0YXJnZXRJbmZvID0gdGFyZ2V0W3BdO1xuICAgIGNvbnN0IHNvdXJjZUluZm8gPSBzb3VyY2VbcF07XG4gICAgaWYgKCEoJ3ZhbHVlJyBpbiBzb3VyY2VJbmZvKSAmJiB0YXJnZXRJbmZvICYmICgndmFsdWUnIGluIHRhcmdldEluZm8pKSB7XG4gICAgICB0YXJnZXRbcF0gPSBPYmplY3QuYXNzaWduKHt2YWx1ZTogdGFyZ2V0SW5mby52YWx1ZX0sIHNvdXJjZUluZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRbcF0gPSBzb3VyY2VJbmZvO1xuICAgIH1cbiAgfVxufVxuXG4vKiBOb3RlIGFib3V0IGNvbnN0cnVjdGlvbiBhbmQgZXh0ZW5zaW9uIG9mIGxlZ2FjeSBjbGFzc2VzLlxuICBbQ2hhbmdlZCBpbiBRNCAyMDE4IHRvIG9wdGltaXplIHBlcmZvcm1hbmNlLl1cblxuICBXaGVuIGNhbGxpbmcgYFBvbHltZXJgIG9yIGBtaXhpbkJlaGF2aW9yc2AsIHRoZSBnZW5lcmF0ZWQgY2xhc3MgYmVsb3cgaXNcbiAgbWFkZS4gVGhlIGxpc3Qgb2YgYmVoYXZpb3JzIHdhcyBwcmV2aW91c2x5IG1hZGUgaW50byBvbmUgZ2VuZXJhdGVkIGNsYXNzIHBlclxuICBiZWhhdmlvciwgYnV0IHRoaXMgaXMgbm8gbG9uZ2VyIHRoZSBjYXNlIGFzIGJlaGF2aW9ycyBhcmUgbm93IGNhbGxlZFxuICBtYW51YWxseS4gTm90ZSwgdGhlcmUgbWF5ICpzdGlsbCogYmUgbXVsdGlwbGUgZ2VuZXJhdGVkIGNsYXNzZXMgaW4gdGhlXG4gIGVsZW1lbnQncyBwcm90b3R5cGUgY2hhaW4gaWYgZXh0ZW5zaW9uIGlzIHVzZWQgd2l0aCBgbWl4aW5CZWhhdmlvcnNgLlxuXG4gIFRoZSBnZW5lcmF0ZWQgY2xhc3MgaXMgZGlyZWN0bHkgdGllZCB0byB0aGUgaW5mbyBvYmplY3QgYW5kIGJlaGF2aW9yc1xuICB1c2VkIHRvIGNyZWF0ZSBpdC4gVGhhdCBsaXN0IG9mIGJlaGF2aW9ycyBpcyBmaWx0ZXJlZCBzbyBpdCdzIG9ubHkgdGhlXG4gIGJlaGF2aW9ycyBub3QgYWN0aXZlIG9uIHRoZSBzdXBlcmNsYXNzLiBJbiBvcmRlciB0byBjYWxsIHRocm91Z2ggdG8gdGhlXG4gIGVudGlyZSBsaXN0IG9mIGxpZmVjeWNsZSBtZXRob2RzLCBpdCdzIGltcG9ydGFudCB0byBjYWxsIGBzdXBlcmAuXG5cbiAgVGhlIGVsZW1lbnQncyBgcHJvcGVydGllc2AgYW5kIGBvYnNlcnZlcnNgIGFyZSBjb250cm9sbGVkIHZpYSB0aGUgZmluYWxpemF0aW9uXG4gIG1lY2hhbmlzbSBwcm92aWRlZCBieSBgUHJvcGVydGllc01peGluYC4gYFByb3BlcnRpZXNgIGFuZCBgb2JzZXJ2ZXJzYCBhcmVcbiAgY29sbGVjdGVkIGJ5IG1hbnVhbGx5IHRyYXZlcnNpbmcgdGhlIHByb3RvdHlwZSBjaGFpbiBhbmQgbWVyZ2luZy5cblxuICBUbyBsaW1pdCBjaGFuZ2VzLCB0aGUgYF9yZWdpc3RlcmVkYCBtZXRob2QgaXMgY2FsbGVkIHZpYSBgX2luaXRpYWxpemVQcm9wZXJ0aWVzYFxuICBhbmQgbm90IGBfZmluYWxpemVDbGFzc2AuXG5cbiovXG4vKipcbiAqIEBwYXJhbSB7IVBvbHltZXJJbml0fSBpbmZvIFBvbHltZXIgaW5mbyBvYmplY3RcbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OkhUTUxFbGVtZW50KX0gQmFzZSBiYXNlIGNsYXNzIHRvIGV4dGVuZCB3aXRoIGluZm8gb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdD19IGJlaGF2aW9ycyBiZWhhdmlvcnMgdG8gY29weSBpbnRvIHRoZSBlbGVtZW50XG4gKiBAcmV0dXJuIHtmdW5jdGlvbihuZXc6SFRNTEVsZW1lbnQpfSBHZW5lcmF0ZWQgY2xhc3NcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc31cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEdlbmVyYXRlQ2xhc3NGcm9tSW5mbyhpbmZvLCBCYXNlLCBiZWhhdmlvcnMpIHtcblxuICAvLyBtYW5hZ2VzIGJlaGF2aW9yIGFuZCBsaWZlY3ljbGUgcHJvY2Vzc2luZyAoZmlsbGVkIGluIGFmdGVyIGNsYXNzIGRlZmluaXRpb24pXG4gIGxldCBiZWhhdmlvckxpc3Q7XG4gIGNvbnN0IGxpZmVjeWNsZSA9IHt9O1xuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBjbGFzcyBQb2x5bWVyR2VuZXJhdGVkIGV4dGVuZHMgQmFzZSB7XG5cbiAgICAvLyBleHBsaWNpdGx5IG5vdCBjYWxsaW5nIHN1cGVyLl9maW5hbGl6ZUNsYXNzXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIF9maW5hbGl6ZUNsYXNzKCkge1xuICAgICAgLy8gaWYgY2FsbGluZyB2aWEgYSBzdWJjbGFzcyB0aGF0IGhhc24ndCBiZWVuIGdlbmVyYXRlZCwgcGFzcyB0aHJvdWdoIHRvIHN1cGVyXG4gICAgICBpZiAoIXRoaXMuaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnZ2VuZXJhdGVkRnJvbScsIHRoaXMpKSkge1xuICAgICAgICAvLyBUT0RPKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1jb21waWxlci9pc3N1ZXMvMzI0MCk6XG4gICAgICAgIC8vICAgICBDaGFuZ2UgYmFjayB0byBqdXN0IHN1cGVyLm1ldGhvZENhbGwoKVxuICAgICAgICBCYXNlLl9maW5hbGl6ZUNsYXNzLmNhbGwodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBpbnRlcmxlYXZlIHByb3BlcnRpZXMgYW5kIG9ic2VydmVycyBwZXIgYmVoYXZpb3IgYW5kIGBpbmZvYFxuICAgICAgICBpZiAoYmVoYXZpb3JMaXN0KSB7XG4gICAgICAgICAgZm9yIChsZXQgaT0wLCBiOyBpIDwgYmVoYXZpb3JMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBiID0gYmVoYXZpb3JMaXN0W2ldO1xuICAgICAgICAgICAgaWYgKGIucHJvcGVydGllcykge1xuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVByb3BlcnRpZXMoYi5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiLm9ic2VydmVycykge1xuICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU9ic2VydmVycyhiLm9ic2VydmVycywgYi5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZm8ucHJvcGVydGllcykge1xuICAgICAgICAgIHRoaXMuY3JlYXRlUHJvcGVydGllcyhpbmZvLnByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvLm9ic2VydmVycykge1xuICAgICAgICAgIHRoaXMuY3JlYXRlT2JzZXJ2ZXJzKGluZm8ub2JzZXJ2ZXJzLCBpbmZvLnByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byBwcmVwYXJlIHRoZSBlbGVtZW50IHRlbXBsYXRlXG4gICAgICAgIHRoaXMuX3ByZXBhcmVUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBAbm9jb2xsYXBzZSAqL1xuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcbiAgICAgIGlmIChiZWhhdmlvckxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgYmVoYXZpb3JMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWVyZ2VQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIGJlaGF2aW9yTGlzdFtpXS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWVyZ2VQcm9wZXJ0aWVzKHByb3BlcnRpZXMsIGluZm8ucHJvcGVydGllcyk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG5cbiAgICAvKiogQG5vY29sbGFwc2UgKi9cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICAgIGxldCBvYnNlcnZlcnMgPSBbXTtcbiAgICAgIGlmIChiZWhhdmlvckxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wLCBiOyBpIDwgYmVoYXZpb3JMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgYiA9IGJlaGF2aW9yTGlzdFtpXTtcbiAgICAgICAgICBpZiAoYi5vYnNlcnZlcnMpIHtcbiAgICAgICAgICAgIG9ic2VydmVycyA9IG9ic2VydmVycy5jb25jYXQoYi5vYnNlcnZlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGluZm8ub2JzZXJ2ZXJzKSB7XG4gICAgICAgIG9ic2VydmVycyA9IG9ic2VydmVycy5jb25jYXQoaW5mby5vYnNlcnZlcnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ic2VydmVycztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNyZWF0ZWQoKSB7XG4gICAgICBzdXBlci5jcmVhdGVkKCk7XG4gICAgICBjb25zdCBsaXN0ID0gbGlmZWN5Y2xlLmNyZWF0ZWQ7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdFtpXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfcmVnaXN0ZXJlZCgpIHtcbiAgICAgIC8qIE5PVEU6IGBiZWZvcmVSZWdpc3RlcmAgaXMgY2FsbGVkIGhlcmUgZm9yIGJjLCBidXQgdGhlIGJlaGF2aW9yXG4gICAgICAgIGlzIGRpZmZlcmVudCB0aGFuIGluIDEueC4gSW4gMS4wLCB0aGUgbWV0aG9kIHdhcyBjYWxsZWQgKmFmdGVyKlxuICAgICAgICBtaXhpbmcgcHJvdG90eXBlcyB0b2dldGhlciBidXQgKmJlZm9yZSogcHJvY2Vzc2luZyBvZiBtZXRhLW9iamVjdHMuXG4gICAgICAgIEhvd2V2ZXIsIGR5bmFtaWMgZWZmZWN0cyBjYW4gc3RpbGwgYmUgc2V0IGhlcmUgYW5kIGNhbiBiZSBkb25lIGVpdGhlclxuICAgICAgICBpbiBgYmVmb3JlUmVnaXN0ZXJgIG9yIGByZWdpc3RlcmVkYC4gSXQgaXMgbm8gbG9uZ2VyIHBvc3NpYmxlIHRvIHNldFxuICAgICAgICBgaXNgIGluIGBiZWZvcmVSZWdpc3RlcmAgYXMgeW91IGNvdWxkIGluIDEueC5cbiAgICAgICovXG4gICAgICAvLyBvbmx5IHByb2NlZWQgaWYgdGhlIGdlbmVyYXRlZCBjbGFzcycgcHJvdG90eXBlIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkLlxuICAgICAgY29uc3QgZ2VuZXJhdGVkUHJvdG8gPSBQb2x5bWVyR2VuZXJhdGVkLnByb3RvdHlwZTtcbiAgICAgIGlmICghZ2VuZXJhdGVkUHJvdG8uaGFzT3duUHJvcGVydHkoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnX19oYXNSZWdpc3RlckZpbmlzaGVkJywgZ2VuZXJhdGVkUHJvdG8pKSkge1xuICAgICAgICBnZW5lcmF0ZWRQcm90by5fX2hhc1JlZ2lzdGVyRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAvLyBlbnN1cmUgc3VwZXJjbGFzcyBpcyByZWdpc3RlcmVkIGZpcnN0LlxuICAgICAgICBzdXBlci5fcmVnaXN0ZXJlZCgpO1xuICAgICAgICAvLyBjb3B5IHByb3BlcnRpZXMgb250byB0aGUgZ2VuZXJhdGVkIGNsYXNzIGxhemlseSBpZiB3ZSdyZSBvcHRpbWl6aW5nLFxuICAgICAgICBpZiAobGVnYWN5T3B0aW1pemF0aW9ucykge1xuICAgICAgICAgIGNvcHlQcm9wZXJ0aWVzVG9Qcm90byhnZW5lcmF0ZWRQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbWFrZSBzdXJlIGxlZ2FjeSBsaWZlY3ljbGUgaXMgY2FsbGVkIG9uIHRoZSAqZWxlbWVudConcyBwcm90b3R5cGVcbiAgICAgICAgLy8gYW5kIG5vdCB0aGUgZ2VuZXJhdGVkIGNsYXNzIHByb3RvdHlwZTsgaWYgdGhlIGVsZW1lbnQgaGFzIGJlZW5cbiAgICAgICAgLy8gZXh0ZW5kZWQsIHRoZXNlIGFyZSAqbm90KiB0aGUgc2FtZS5cbiAgICAgICAgY29uc3QgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgICAgIGxldCBsaXN0ID0gbGlmZWN5Y2xlLmJlZm9yZVJlZ2lzdGVyO1xuICAgICAgICBpZiAobGlzdCkge1xuICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxpc3RbaV0uY2FsbChwcm90byk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpc3QgPSBsaWZlY3ljbGUucmVnaXN0ZXJlZDtcbiAgICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsaXN0W2ldLmNhbGwocHJvdG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2FwcGx5TGlzdGVuZXJzKCkge1xuICAgICAgc3VwZXIuX2FwcGx5TGlzdGVuZXJzKCk7XG4gICAgICBjb25zdCBsaXN0ID0gbGlmZWN5Y2xlLmxpc3RlbmVycztcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBsaXN0W2ldO1xuICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGwgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2FkZE1ldGhvZEV2ZW50TGlzdGVuZXJUb05vZGUodGhpcywgbCwgbGlzdGVuZXJzW2xdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBub3RlOiBleGNlcHRpb24gdG8gXCJzdXBlciB0aGVuIG1lXCIgcnVsZTtcbiAgICAvLyBkbyB3b3JrIGJlZm9yZSBjYWxsaW5nIHN1cGVyIHNvIHRoYXQgc3VwZXIgYXR0cmlidXRlc1xuICAgIC8vIG9ubHkgYXBwbHkgaWYgbm90IGFscmVhZHkgc2V0LlxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgX2Vuc3VyZUF0dHJpYnV0ZXMoKSB7XG4gICAgICBjb25zdCBsaXN0ID0gbGlmZWN5Y2xlLmhvc3RBdHRyaWJ1dGVzO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT1saXN0Lmxlbmd0aC0xOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGNvbnN0IGhvc3RBdHRyaWJ1dGVzID0gbGlzdFtpXTtcbiAgICAgICAgICBmb3IgKGxldCBhIGluIGhvc3RBdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2Vuc3VyZUF0dHJpYnV0ZShhLCBob3N0QXR0cmlidXRlc1thXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN1cGVyLl9lbnN1cmVBdHRyaWJ1dGVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICByZWFkeSgpIHtcbiAgICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5yZWFkeTtcbiAgICAgIGlmIChsaXN0KSB7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsaXN0W2ldLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGF0dGFjaGVkKCkge1xuICAgICAgc3VwZXIuYXR0YWNoZWQoKTtcbiAgICAgIGxldCBsaXN0ID0gbGlmZWN5Y2xlLmF0dGFjaGVkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgZGV0YWNoZWQoKSB7XG4gICAgICBzdXBlci5kZXRhY2hlZCgpO1xuICAgICAgbGV0IGxpc3QgPSBsaWZlY3ljbGUuZGV0YWNoZWQ7XG4gICAgICBpZiAobGlzdCkge1xuICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdFtpXS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyBuYXRpdmUgQ3VzdG9tIEVsZW1lbnRzIGBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tgIHRvXG4gICAgICogc2V0IGFuIGF0dHJpYnV0ZSB2YWx1ZSB0byBhIHByb3BlcnR5IHZpYSBgX2F0dHJpYnV0ZVRvUHJvcGVydHlgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHs/c3RyaW5nfSBvbGQgT2xkIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgTmV3IGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgYXR0cmlidXRlQ2hhbmdlZChuYW1lLCBvbGQsIHZhbHVlKSB7XG4gICAgICBzdXBlci5hdHRyaWJ1dGVDaGFuZ2VkKCk7XG4gICAgICBsZXQgbGlzdCA9IGxpZmVjeWNsZS5hdHRyaWJ1dGVDaGFuZ2VkO1xuICAgICAgaWYgKGxpc3QpIHtcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3RbaV0uY2FsbCh0aGlzLCBuYW1lLCBvbGQsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGFwcGx5IGJlaGF2aW9ycywgbm90ZSBhY3R1YWwgY29weWluZyBpcyBkb25lIGxhemlseSBhdCBmaXJzdCBpbnN0YW5jZSBjcmVhdGlvblxuICBpZiAoYmVoYXZpb3JzKSB7XG4gICAgLy8gTk9URTogZW5zdXJlIHRoZSBiZWhhdmlvciBpcyBleHRlbmRpbmcgYSBjbGFzcyB3aXRoXG4gICAgLy8gbGVnYWN5IGVsZW1lbnQgYXBpLiBUaGlzIGlzIG5lY2Vzc2FyeSBzaW5jZSBiZWhhdmlvcnMgZXhwZWN0IHRvIGJlIGFibGVcbiAgICAvLyB0byBhY2Nlc3MgMS54IGxlZ2FjeSBhcGkuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGJlaGF2aW9ycykpIHtcbiAgICAgIGJlaGF2aW9ycyA9IFtiZWhhdmlvcnNdO1xuICAgIH1cbiAgICBsZXQgc3VwZXJCZWhhdmlvcnMgPSBCYXNlLnByb3RvdHlwZS5iZWhhdmlvcnM7XG4gICAgLy8gZ2V0IGZsYXR0ZW5lZCwgZGVkdXBlZCBsaXN0IG9mIGJlaGF2aW9ycyAqbm90KiBhbHJlYWR5IG9uIHN1cGVyIGNsYXNzXG4gICAgYmVoYXZpb3JMaXN0ID0gZmxhdHRlbkJlaGF2aW9ycyhiZWhhdmlvcnMsIG51bGwsIHN1cGVyQmVoYXZpb3JzKTtcbiAgICBQb2x5bWVyR2VuZXJhdGVkLnByb3RvdHlwZS5iZWhhdmlvcnMgPSBzdXBlckJlaGF2aW9ycyA/XG4gICAgICBzdXBlckJlaGF2aW9ycy5jb25jYXQoYmVoYXZpb3JzKSA6IGJlaGF2aW9yTGlzdDtcbiAgfVxuXG4gIGNvbnN0IGNvcHlQcm9wZXJ0aWVzVG9Qcm90byA9IChwcm90bykgPT4ge1xuICAgIGlmIChiZWhhdmlvckxpc3QpIHtcbiAgICAgIGFwcGx5QmVoYXZpb3JzKHByb3RvLCBiZWhhdmlvckxpc3QsIGxpZmVjeWNsZSk7XG4gICAgfVxuICAgIGFwcGx5SW5mbyhwcm90bywgaW5mbywgbGlmZWN5Y2xlLCBleGNsdWRlT25JbmZvKTtcbiAgfTtcblxuICAvLyBjb3B5IHByb3BlcnRpZXMgaWYgd2UncmUgbm90IG9wdGltaXppbmdcbiAgaWYgKCFsZWdhY3lPcHRpbWl6YXRpb25zKSB7XG4gICAgY29weVByb3BlcnRpZXNUb1Byb3RvKFBvbHltZXJHZW5lcmF0ZWQucHJvdG90eXBlKTtcbiAgfVxuXG4gIFBvbHltZXJHZW5lcmF0ZWQuZ2VuZXJhdGVkRnJvbSA9IGluZm87XG5cbiAgcmV0dXJuIFBvbHltZXJHZW5lcmF0ZWQ7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgY2xhc3MgdGhhdCBleHRlbmRzIGBMZWdhY3lFbGVtZW50YCBiYXNlZCBvbiB0aGVcbiAqIHByb3ZpZGVkIGluZm8gb2JqZWN0LiAgTWV0YWRhdGEgb2JqZWN0cyBvbiB0aGUgYGluZm9gIG9iamVjdFxuICogKGBwcm9wZXJ0aWVzYCwgYG9ic2VydmVyc2AsIGBsaXN0ZW5lcnNgLCBgYmVoYXZpb3JzYCwgYGlzYCkgYXJlIHVzZWRcbiAqIGZvciBQb2x5bWVyJ3MgbWV0YS1wcm9ncmFtbWluZyBzeXN0ZW1zLCBhbmQgYW55IGZ1bmN0aW9ucyBhcmUgY29waWVkXG4gKiB0byB0aGUgZ2VuZXJhdGVkIGNsYXNzLlxuICpcbiAqIFZhbGlkIFwibWV0YWRhdGFcIiB2YWx1ZXMgYXJlIGFzIGZvbGxvd3M6XG4gKlxuICogYGlzYDogU3RyaW5nIHByb3ZpZGluZyB0aGUgdGFnIG5hbWUgdG8gcmVnaXN0ZXIgdGhlIGVsZW1lbnQgdW5kZXIuIEluXG4gKiBhZGRpdGlvbiwgaWYgYSBgZG9tLW1vZHVsZWAgd2l0aCB0aGUgc2FtZSBpZCBleGlzdHMsIHRoZSBmaXJzdCB0ZW1wbGF0ZVxuICogaW4gdGhhdCBgZG9tLW1vZHVsZWAgd2lsbCBiZSBzdGFtcGVkIGludG8gdGhlIHNoYWRvdyByb290IG9mIHRoaXMgZWxlbWVudCxcbiAqIHdpdGggc3VwcG9ydCBmb3IgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXJzIChgb24tLi4uYCksIFBvbHltZXIgZGF0YVxuICogYmluZGluZ3MgKGBbWy4uLl1dYCBhbmQgYHt7Li4ufX1gKSwgYW5kIGlkLWJhc2VkIG5vZGUgZmluZGluZyBpbnRvXG4gKiBgdGhpcy4kYC5cbiAqXG4gKiBgcHJvcGVydGllc2A6IE9iamVjdCBkZXNjcmliaW5nIHByb3BlcnR5LXJlbGF0ZWQgbWV0YWRhdGEgdXNlZCBieSBQb2x5bWVyXG4gKiBmZWF0dXJlcyAoa2V5OiBwcm9wZXJ0eSBuYW1lcywgdmFsdWU6IG9iamVjdCBjb250YWluaW5nIHByb3BlcnR5IG1ldGFkYXRhKS5cbiAqIFZhbGlkIGtleXMgaW4gcGVyLXByb3BlcnR5IG1ldGFkYXRhIGluY2x1ZGU6XG4gKiAtIGB0eXBlYCAoU3RyaW5nfE51bWJlcnxPYmplY3R8QXJyYXl8Li4uKTogVXNlZCBieVxuICogICBgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrYCB0byBkZXRlcm1pbmUgaG93IHN0cmluZy1iYXNlZCBhdHRyaWJ1dGVzXG4gKiAgIGFyZSBkZXNlcmlhbGl6ZWQgdG8gSmF2YVNjcmlwdCBwcm9wZXJ0eSB2YWx1ZXMuXG4gKiAtIGBub3RpZnlgIChib29sZWFuKTogQ2F1c2VzIGEgY2hhbmdlIGluIHRoZSBwcm9wZXJ0eSB0byBmaXJlIGFcbiAqICAgbm9uLWJ1YmJsaW5nIGV2ZW50IGNhbGxlZCBgPHByb3BlcnR5Pi1jaGFuZ2VkYC4gRWxlbWVudHMgdGhhdCBoYXZlXG4gKiAgIGVuYWJsZWQgdHdvLXdheSBiaW5kaW5nIHRvIHRoZSBwcm9wZXJ0eSB1c2UgdGhpcyBldmVudCB0byBvYnNlcnZlIGNoYW5nZXMuXG4gKiAtIGByZWFkT25seWAgKGJvb2xlYW4pOiBDcmVhdGVzIGEgZ2V0dGVyIGZvciB0aGUgcHJvcGVydHksIGJ1dCBubyBzZXR0ZXIuXG4gKiAgIFRvIHNldCBhIHJlYWQtb25seSBwcm9wZXJ0eSwgdXNlIHRoZSBwcml2YXRlIHNldHRlciBtZXRob2RcbiAqICAgYF9zZXRQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpYC5cbiAqIC0gYG9ic2VydmVyYCAoc3RyaW5nKTogT2JzZXJ2ZXIgbWV0aG9kIG5hbWUgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuXG4gKiAgIHRoZSBwcm9wZXJ0eSBjaGFuZ2VzLiBUaGUgYXJndW1lbnRzIG9mIHRoZSBtZXRob2QgYXJlXG4gKiAgIGAodmFsdWUsIHByZXZpb3VzVmFsdWUpYC5cbiAqIC0gYGNvbXB1dGVkYCAoc3RyaW5nKTogU3RyaW5nIGRlc2NyaWJpbmcgbWV0aG9kIGFuZCBkZXBlbmRlbnQgcHJvcGVydGllc1xuICogICBmb3IgY29tcHV0aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IChlLmcuIGAnY29tcHV0ZUZvbyhiYXIsIHpvdCknYCkuXG4gKiAgIENvbXB1dGVkIHByb3BlcnRpZXMgYXJlIHJlYWQtb25seSBieSBkZWZhdWx0IGFuZCBjYW4gb25seSBiZSBjaGFuZ2VkXG4gKiAgIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjb21wdXRpbmcgbWV0aG9kLlxuICpcbiAqIGBvYnNlcnZlcnNgOiBBcnJheSBvZiBzdHJpbmdzIGRlc2NyaWJpbmcgbXVsdGktcHJvcGVydHkgb2JzZXJ2ZXIgbWV0aG9kc1xuICogIGFuZCB0aGVpciBkZXBlbmRlbnQgcHJvcGVydGllcyAoZS5nLiBgJ29ic2VydmVBQkMoYSwgYiwgYyknYCkuXG4gKlxuICogYGxpc3RlbmVyc2A6IE9iamVjdCBkZXNjcmliaW5nIGV2ZW50IGxpc3RlbmVycyB0byBiZSBhZGRlZCB0byBlYWNoXG4gKiAgaW5zdGFuY2Ugb2YgdGhpcyBlbGVtZW50IChrZXk6IGV2ZW50IG5hbWUsIHZhbHVlOiBtZXRob2QgbmFtZSkuXG4gKlxuICogYGJlaGF2aW9yc2A6IEFycmF5IG9mIGFkZGl0aW9uYWwgYGluZm9gIG9iamVjdHMgY29udGFpbmluZyBtZXRhZGF0YVxuICogYW5kIGNhbGxiYWNrcyBpbiB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBpbmZvYCBvYmplY3QgaGVyZSB3aGljaCBhcmVcbiAqIG1lcmdlZCBpbnRvIHRoaXMgZWxlbWVudC5cbiAqXG4gKiBgaG9zdEF0dHJpYnV0ZXNgOiBPYmplY3QgbGlzdGluZyBhdHRyaWJ1dGVzIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGhvc3RcbiAqICBvbmNlIGNyZWF0ZWQgKGtleTogYXR0cmlidXRlIG5hbWUsIHZhbHVlOiBhdHRyaWJ1dGUgdmFsdWUpLiAgVmFsdWVzXG4gKiAgYXJlIHNlcmlhbGl6ZWQgYmFzZWQgb24gdGhlIHR5cGUgb2YgdGhlIHZhbHVlLiAgSG9zdCBhdHRyaWJ1dGVzIHNob3VsZFxuICogIGdlbmVyYWxseSBiZSBsaW1pdGVkIHRvIGF0dHJpYnV0ZXMgc3VjaCBhcyBgdGFiSW5kZXhgIGFuZCBgYXJpYS0uLi5gLlxuICogIEF0dHJpYnV0ZXMgaW4gYGhvc3RBdHRyaWJ1dGVzYCBhcmUgb25seSBhcHBsaWVkIGlmIGEgdXNlci1zdXBwbGllZFxuICogIGF0dHJpYnV0ZSBpcyBub3QgYWxyZWFkeSBwcmVzZW50IChhdHRyaWJ1dGVzIGluIG1hcmt1cCBvdmVycmlkZVxuICogIGBob3N0QXR0cmlidXRlc2ApLlxuICpcbiAqIEluIGFkZGl0aW9uLCB0aGUgZm9sbG93aW5nIFBvbHltZXItc3BlY2lmaWMgY2FsbGJhY2tzIG1heSBiZSBwcm92aWRlZDpcbiAqIC0gYHJlZ2lzdGVyZWRgOiBjYWxsZWQgYWZ0ZXIgZmlyc3QgaW5zdGFuY2Ugb2YgdGhpcyBlbGVtZW50LFxuICogLSBgY3JlYXRlZGA6IGNhbGxlZCBkdXJpbmcgYGNvbnN0cnVjdG9yYFxuICogLSBgYXR0YWNoZWRgOiBjYWxsZWQgZHVyaW5nIGBjb25uZWN0ZWRDYWxsYmFja2BcbiAqIC0gYGRldGFjaGVkYDogY2FsbGVkIGR1cmluZyBgZGlzY29ubmVjdGVkQ2FsbGJhY2tgXG4gKiAtIGByZWFkeWA6IGNhbGxlZCBiZWZvcmUgZmlyc3QgYGF0dGFjaGVkYCwgYWZ0ZXIgYWxsIHByb3BlcnRpZXMgb2ZcbiAqICAgdGhpcyBlbGVtZW50IGhhdmUgYmVlbiBwcm9wYWdhdGVkIHRvIGl0cyB0ZW1wbGF0ZSBhbmQgYWxsIG9ic2VydmVyc1xuICogICBoYXZlIHJ1blxuICpcbiAqIEBwYXJhbSB7IVBvbHltZXJJbml0fSBpbmZvIE9iamVjdCBjb250YWluaW5nIFBvbHltZXIgbWV0YWRhdGEgYW5kIGZ1bmN0aW9uc1xuICogICB0byBiZWNvbWUgY2xhc3MgbWV0aG9kcy5cbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFQpOlR9IG1peGluIE9wdGlvbmFsIG1peGluIHRvIGFwcGx5IHRvIGxlZ2FjeSBiYXNlIGNsYXNzXG4gKiAgIGJlZm9yZSBleHRlbmRpbmcgd2l0aCBQb2x5bWVyIG1ldGFwcm9ncmFtbWluZy5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpIVE1MRWxlbWVudCl9IEdlbmVyYXRlZCBjbGFzc1xuICovXG5leHBvcnQgY29uc3QgQ2xhc3MgPSBmdW5jdGlvbihpbmZvLCBtaXhpbikge1xuICBpZiAoIWluZm8pIHtcbiAgICBjb25zb2xlLndhcm4oJ1BvbHltZXIuQ2xhc3MgcmVxdWlyZXMgYGluZm9gIGFyZ3VtZW50Jyk7XG4gIH1cbiAgbGV0IGtsYXNzID0gbWl4aW4gPyBtaXhpbihMZWdhY3lFbGVtZW50TWl4aW4oSFRNTEVsZW1lbnQpKSA6XG4gICAgICBMZWdhY3lFbGVtZW50TWl4aW4oSFRNTEVsZW1lbnQpO1xuICBrbGFzcyA9IEdlbmVyYXRlQ2xhc3NGcm9tSW5mbyhpbmZvLCBrbGFzcywgaW5mby5iZWhhdmlvcnMpO1xuICAvLyBkZWNvcmF0ZSBrbGFzcyB3aXRoIHJlZ2lzdHJhdGlvbiBpbmZvXG4gIGtsYXNzLmlzID0ga2xhc3MucHJvdG90eXBlLmlzID0gaW5mby5pcztcbiAgcmV0dXJuIGtsYXNzO1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBDbGFzcyB9IGZyb20gJy4vY2xhc3MuanMnO1xuXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG4vKipcbiAqIExlZ2FjeSBjbGFzcyBmYWN0b3J5IGFuZCByZWdpc3RyYXRpb24gaGVscGVyIGZvciBkZWZpbmluZyBQb2x5bWVyXG4gKiBlbGVtZW50cy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvXG4gKlxuICogICAgIGltcG9ydCB7Q2xhc3N9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2xlZ2FjeS9jbGFzcy5qcyc7XG4gKiAgICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKGluZm8uaXMsIENsYXNzKGluZm8pKTtcbiAqXG4gKiBTZWUgYENsYXNzYCBmb3IgZGV0YWlscyBvbiB2YWxpZCBsZWdhY3kgbWV0YWRhdGEgZm9ybWF0IGZvciBgaW5mb2AuXG4gKlxuICogQGdsb2JhbFxuICogQG92ZXJyaWRlXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7IVBvbHltZXJJbml0fSBpbmZvIE9iamVjdCBjb250YWluaW5nIFBvbHltZXIgbWV0YWRhdGEgYW5kIGZ1bmN0aW9uc1xuICogICB0byBiZWNvbWUgY2xhc3MgbWV0aG9kcy5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzogSFRNTEVsZW1lbnQpfSBHZW5lcmF0ZWQgY2xhc3NcbiAqIEBzdXBwcmVzcyB7ZHVwbGljYXRlLCBpbnZhbGlkQ2FzdHMsIGNoZWNrVHlwZXN9XG4gKi9cbmNvbnN0IFBvbHltZXIgPSBmdW5jdGlvbihpbmZvKSB7XG4gIC8vIGlmIGlucHV0IGlzIGEgYGNsYXNzYCAoYWthIGEgZnVuY3Rpb24gd2l0aCBhIHByb3RvdHlwZSksIHVzZSB0aGUgcHJvdG90eXBlXG4gIC8vIHJlbWVtYmVyIHRoYXQgdGhlIGBjb25zdHJ1Y3RvcmAgd2lsbCBuZXZlciBiZSBjYWxsZWRcbiAgbGV0IGtsYXNzO1xuICBpZiAodHlwZW9mIGluZm8gPT09ICdmdW5jdGlvbicpIHtcbiAgICBrbGFzcyA9IGluZm87XG4gIH0gZWxzZSB7XG4gICAga2xhc3MgPSBQb2x5bWVyLkNsYXNzKGluZm8pO1xuICB9XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShrbGFzcy5pcywgLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovKGtsYXNzKSk7XG4gIHJldHVybiBrbGFzcztcbn07XG5cblBvbHltZXIuQ2xhc3MgPSBDbGFzcztcblxuZXhwb3J0IHsgUG9seW1lciB9OyIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBkZWR1cGluZ01peGluIH0gZnJvbSAnLi4vdXRpbHMvbWl4aW4uanMnO1xuXG4vLyBDb21tb24gaW1wbGVtZW50YXRpb24gZm9yIG1peGluICYgYmVoYXZpb3JcbmZ1bmN0aW9uIG11dGFibGVQcm9wZXJ0eUNoYW5nZShpbnN0LCBwcm9wZXJ0eSwgdmFsdWUsIG9sZCwgbXV0YWJsZURhdGEpIHtcbiAgbGV0IGlzT2JqZWN0O1xuICBpZiAobXV0YWJsZURhdGEpIHtcbiAgICBpc09iamVjdCA9ICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKTtcbiAgICAvLyBQdWxsIGBvbGRgIGZvciBPYmplY3RzIGZyb20gdGVtcCBjYWNoZSwgYnV0IHRyZWF0IGBudWxsYCBhcyBhIHByaW1pdGl2ZVxuICAgIGlmIChpc09iamVjdCkge1xuICAgICAgb2xkID0gaW5zdC5fX2RhdGFUZW1wW3Byb3BlcnR5XTtcbiAgICB9XG4gIH1cbiAgLy8gU3RyaWN0IGVxdWFsaXR5IGNoZWNrLCBidXQgcmV0dXJuIGZhbHNlIGZvciBOYU49PT1OYU5cbiAgbGV0IHNob3VsZENoYW5nZSA9IChvbGQgIT09IHZhbHVlICYmIChvbGQgPT09IG9sZCB8fCB2YWx1ZSA9PT0gdmFsdWUpKTtcbiAgLy8gT2JqZWN0cyBhcmUgc3RvcmVkIGluIHRlbXBvcmFyeSBjYWNoZSAoY2xlYXJlZCBhdCBlbmQgb2ZcbiAgLy8gdHVybiksIHdoaWNoIGlzIHVzZWQgZm9yIGRpcnR5LWNoZWNraW5nXG4gIGlmIChpc09iamVjdCAmJiBzaG91bGRDaGFuZ2UpIHtcbiAgICBpbnN0Ll9fZGF0YVRlbXBbcHJvcGVydHldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHNob3VsZENoYW5nZTtcbn1cblxuLyoqXG4gKiBFbGVtZW50IGNsYXNzIG1peGluIHRvIHNraXAgc3RyaWN0IGRpcnR5LWNoZWNraW5nIGZvciBvYmplY3RzIGFuZCBhcnJheXNcbiAqIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpLCBmb3IgdXNlIG9uIGVsZW1lbnRzIHV0aWxpemluZ1xuICogYFByb3BlcnR5RWZmZWN0c2BcbiAqXG4gKiBCeSBkZWZhdWx0LCBgUHJvcGVydHlFZmZlY3RzYCBwZXJmb3JtcyBzdHJpY3QgZGlydHkgY2hlY2tpbmcgb25cbiAqIG9iamVjdHMsIHdoaWNoIG1lYW5zIHRoYXQgYW55IGRlZXAgbW9kaWZpY2F0aW9ucyB0byBhbiBvYmplY3Qgb3IgYXJyYXkgd2lsbFxuICogbm90IGJlIHByb3BhZ2F0ZWQgdW5sZXNzIFwiaW1tdXRhYmxlXCIgZGF0YSBwYXR0ZXJucyBhcmUgdXNlZCAoaS5lLiBhbGwgb2JqZWN0XG4gKiByZWZlcmVuY2VzIGZyb20gdGhlIHJvb3QgdG8gdGhlIG11dGF0aW9uIHdlcmUgY2hhbmdlZCkuXG4gKlxuICogUG9seW1lciBhbHNvIHByb3ZpZGVzIGEgcHJvcHJpZXRhcnkgZGF0YSBtdXRhdGlvbiBhbmQgcGF0aCBub3RpZmljYXRpb24gQVBJXG4gKiAoZS5nLiBgbm90aWZ5UGF0aGAsIGBzZXRgLCBhbmQgYXJyYXkgbXV0YXRpb24gQVBJJ3MpIHRoYXQgYWxsb3cgZWZmaWNpZW50XG4gKiBtdXRhdGlvbiBhbmQgbm90aWZpY2F0aW9uIG9mIGRlZXAgY2hhbmdlcyBpbiBhbiBvYmplY3QgZ3JhcGggdG8gYWxsIGVsZW1lbnRzXG4gKiBib3VuZCB0byB0aGUgc2FtZSBvYmplY3QgZ3JhcGguXG4gKlxuICogSW4gY2FzZXMgd2hlcmUgbmVpdGhlciBpbW11dGFibGUgcGF0dGVybnMgbm9yIHRoZSBkYXRhIG11dGF0aW9uIEFQSSBjYW4gYmVcbiAqIHVzZWQsIGFwcGx5aW5nIHRoaXMgbWl4aW4gd2lsbCBjYXVzZSBQb2x5bWVyIHRvIHNraXAgZGlydHkgY2hlY2tpbmcgZm9yXG4gKiBvYmplY3RzIGFuZCBhcnJheXMgKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIikuICBUaGlzIGFsbG93cyBhXG4gKiB1c2VyIHRvIG1ha2UgYSBkZWVwIG1vZGlmaWNhdGlvbiB0byBhIGJvdW5kIG9iamVjdCBncmFwaCwgYW5kIHRoZW4gZWl0aGVyXG4gKiBzaW1wbHkgcmUtc2V0IHRoZSBvYmplY3QgKGUuZy4gYHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zYCkgb3IgY2FsbCBgbm90aWZ5UGF0aGBcbiAqIChlLmcuIGB0aGlzLm5vdGlmeVBhdGgoJ2l0ZW1zJylgKSB0byB1cGRhdGUgdGhlIHRyZWUuICBOb3RlIHRoYXQgYWxsXG4gKiBlbGVtZW50cyB0aGF0IHdpc2ggdG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBkZWVwIG11dGF0aW9ucyBtdXN0IGFwcGx5IHRoaXNcbiAqIG1peGluIG9yIG90aGVyd2lzZSBza2lwIHN0cmljdCBkaXJ0eSBjaGVja2luZyBmb3Igb2JqZWN0cy9hcnJheXMuXG4gKiBTcGVjaWZpY2FsbHksIGFueSBlbGVtZW50cyBpbiB0aGUgYmluZGluZyB0cmVlIGJldHdlZW4gdGhlIHNvdXJjZSBvZiBhXG4gKiBtdXRhdGlvbiBhbmQgdGhlIGNvbnN1bXB0aW9uIG9mIGl0IG11c3QgYXBwbHkgdGhpcyBtaXhpbiBvciBlbmFibGUgdGhlXG4gKiBgT3B0aW9uYWxNdXRhYmxlRGF0YWAgbWl4aW4uXG4gKlxuICogSW4gb3JkZXIgdG8gbWFrZSB0aGUgZGlydHkgY2hlY2sgc3RyYXRlZ3kgY29uZmlndXJhYmxlLCBzZWVcbiAqIGBPcHRpb25hbE11dGFibGVEYXRhYC5cbiAqXG4gKiBOb3RlLCB0aGUgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzIG9mIHByb3BhZ2F0aW5nIGxhcmdlIG9iamVjdCBncmFwaHNcbiAqIHdpbGwgYmUgd29yc2UgYXMgb3Bwb3NlZCB0byB1c2luZyBzdHJpY3QgZGlydHkgY2hlY2tpbmcgd2l0aCBpbW11dGFibGVcbiAqIHBhdHRlcm5zIG9yIFBvbHltZXIncyBwYXRoIG5vdGlmaWNhdGlvbiBBUEkuXG4gKlxuICogQG1peGluRnVuY3Rpb25cbiAqIEBwb2x5bWVyXG4gKiBAc3VtbWFyeSBFbGVtZW50IGNsYXNzIG1peGluIHRvIHNraXAgc3RyaWN0IGRpcnR5LWNoZWNraW5nIGZvciBvYmplY3RzXG4gKiAgIGFuZCBhcnJheXNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyBDbGFzcyB0byBhcHBseSBtaXhpbiB0by5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUKX0gc3VwZXJDbGFzcyB3aXRoIG1peGluIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBNdXRhYmxlRGF0YSA9IGRlZHVwaW5nTWl4aW4oc3VwZXJDbGFzcyA9PiB7XG5cbiAgLyoqXG4gICAqIEBwb2x5bWVyXG4gICAqIEBtaXhpbkNsYXNzXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX011dGFibGVEYXRhfVxuICAgKi9cbiAgY2xhc3MgTXV0YWJsZURhdGEgZXh0ZW5kcyBzdXBlckNsYXNzIHtcbiAgICAvKipcbiAgICAgKiBPdmVycmlkZXMgYFByb3BlcnR5RWZmZWN0c2AgdG8gcHJvdmlkZSBvcHRpb24gZm9yIHNraXBwaW5nXG4gICAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBwdWxscyB0aGUgdmFsdWUgdG8gZGlydHkgY2hlY2sgYWdhaW5zdCBmcm9tIHRoZSBgX19kYXRhVGVtcGBcbiAgICAgKiBjYWNoZSAocmF0aGVyIHRoYW4gdGhlIG5vcm1hbCBgX19kYXRhYCBjYWNoZSkgZm9yIE9iamVjdHMuICBTaW5jZSB0aGUgdGVtcFxuICAgICAqIGNhY2hlIGlzIGNsZWFyZWQgYXQgdGhlIGVuZCBvZiBhIHR1cm4sIHRoaXMgaW1wbGVtZW50YXRpb24gYWxsb3dzXG4gICAgICogc2lkZS1lZmZlY3RzIG9mIGRlZXAgb2JqZWN0IGNoYW5nZXMgdG8gYmUgcHJvY2Vzc2VkIGJ5IHJlLXNldHRpbmcgdGhlXG4gICAgICogc2FtZSBvYmplY3QgKHVzaW5nIHRoZSB0ZW1wIGNhY2hlIGFzIGFuIGluLXR1cm4gYmFja3N0b3AgdG8gcHJldmVudFxuICAgICAqIGN5Y2xlcyBkdWUgdG8gMi13YXkgbm90aWZpY2F0aW9uKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBOZXcgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcGFyYW0geyp9IG9sZCBQcmV2aW91cyBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgICAgcmV0dXJuIG11dGFibGVQcm9wZXJ0eUNoYW5nZSh0aGlzLCBwcm9wZXJ0eSwgdmFsdWUsIG9sZCwgdHJ1ZSk7XG4gICAgfVxuXG4gIH1cblxuICByZXR1cm4gTXV0YWJsZURhdGE7XG5cbn0pO1xuXG4vKipcbiAqIEVsZW1lbnQgY2xhc3MgbWl4aW4gdG8gYWRkIHRoZSBvcHRpb25hbCBhYmlsaXR5IHRvIHNraXAgc3RyaWN0XG4gKiBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZVxuICogXCJkaXJ0eVwiKSBieSBzZXR0aW5nIGEgYG11dGFibGUtZGF0YWAgYXR0cmlidXRlIG9uIGFuIGVsZW1lbnQgaW5zdGFuY2UuXG4gKlxuICogQnkgZGVmYXVsdCwgYFByb3BlcnR5RWZmZWN0c2AgcGVyZm9ybXMgc3RyaWN0IGRpcnR5IGNoZWNraW5nIG9uXG4gKiBvYmplY3RzLCB3aGljaCBtZWFucyB0aGF0IGFueSBkZWVwIG1vZGlmaWNhdGlvbnMgdG8gYW4gb2JqZWN0IG9yIGFycmF5IHdpbGxcbiAqIG5vdCBiZSBwcm9wYWdhdGVkIHVubGVzcyBcImltbXV0YWJsZVwiIGRhdGEgcGF0dGVybnMgYXJlIHVzZWQgKGkuZS4gYWxsIG9iamVjdFxuICogcmVmZXJlbmNlcyBmcm9tIHRoZSByb290IHRvIHRoZSBtdXRhdGlvbiB3ZXJlIGNoYW5nZWQpLlxuICpcbiAqIFBvbHltZXIgYWxzbyBwcm92aWRlcyBhIHByb3ByaWV0YXJ5IGRhdGEgbXV0YXRpb24gYW5kIHBhdGggbm90aWZpY2F0aW9uIEFQSVxuICogKGUuZy4gYG5vdGlmeVBhdGhgLCBgc2V0YCwgYW5kIGFycmF5IG11dGF0aW9uIEFQSSdzKSB0aGF0IGFsbG93IGVmZmljaWVudFxuICogbXV0YXRpb24gYW5kIG5vdGlmaWNhdGlvbiBvZiBkZWVwIGNoYW5nZXMgaW4gYW4gb2JqZWN0IGdyYXBoIHRvIGFsbCBlbGVtZW50c1xuICogYm91bmQgdG8gdGhlIHNhbWUgb2JqZWN0IGdyYXBoLlxuICpcbiAqIEluIGNhc2VzIHdoZXJlIG5laXRoZXIgaW1tdXRhYmxlIHBhdHRlcm5zIG5vciB0aGUgZGF0YSBtdXRhdGlvbiBBUEkgY2FuIGJlXG4gKiB1c2VkLCBhcHBseWluZyB0aGlzIG1peGluIHdpbGwgYWxsb3cgUG9seW1lciB0byBza2lwIGRpcnR5IGNoZWNraW5nIGZvclxuICogb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZSBcImRpcnR5XCIpLiAgVGhpcyBhbGxvd3MgYVxuICogdXNlciB0byBtYWtlIGEgZGVlcCBtb2RpZmljYXRpb24gdG8gYSBib3VuZCBvYmplY3QgZ3JhcGgsIGFuZCB0aGVuIGVpdGhlclxuICogc2ltcGx5IHJlLXNldCB0aGUgb2JqZWN0IChlLmcuIGB0aGlzLml0ZW1zID0gdGhpcy5pdGVtc2ApIG9yIGNhbGwgYG5vdGlmeVBhdGhgXG4gKiAoZS5nLiBgdGhpcy5ub3RpZnlQYXRoKCdpdGVtcycpYCkgdG8gdXBkYXRlIHRoZSB0cmVlLiAgTm90ZSB0aGF0IGFsbFxuICogZWxlbWVudHMgdGhhdCB3aXNoIHRvIGJlIHVwZGF0ZWQgYmFzZWQgb24gZGVlcCBtdXRhdGlvbnMgbXVzdCBhcHBseSB0aGlzXG4gKiBtaXhpbiBvciBvdGhlcndpc2Ugc2tpcCBzdHJpY3QgZGlydHkgY2hlY2tpbmcgZm9yIG9iamVjdHMvYXJyYXlzLlxuICogU3BlY2lmaWNhbGx5LCBhbnkgZWxlbWVudHMgaW4gdGhlIGJpbmRpbmcgdHJlZSBiZXR3ZWVuIHRoZSBzb3VyY2Ugb2YgYVxuICogbXV0YXRpb24gYW5kIHRoZSBjb25zdW1wdGlvbiBvZiBpdCBtdXN0IGVuYWJsZSB0aGlzIG1peGluIG9yIGFwcGx5IHRoZVxuICogYE11dGFibGVEYXRhYCBtaXhpbi5cbiAqXG4gKiBXaGlsZSB0aGlzIG1peGluIGFkZHMgdGhlIGFiaWxpdHkgdG8gZm9yZ28gT2JqZWN0L0FycmF5IGRpcnR5IGNoZWNraW5nLFxuICogdGhlIGBtdXRhYmxlRGF0YWAgZmxhZyBkZWZhdWx0cyB0byBmYWxzZSBhbmQgbXVzdCBiZSBzZXQgb24gdGhlIGluc3RhbmNlLlxuICpcbiAqIE5vdGUsIHRoZSBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3Mgb2YgcHJvcGFnYXRpbmcgbGFyZ2Ugb2JqZWN0IGdyYXBoc1xuICogd2lsbCBiZSB3b3JzZSBieSByZWx5aW5nIG9uIGBtdXRhYmxlRGF0YTogdHJ1ZWAgYXMgb3Bwb3NlZCB0byB1c2luZ1xuICogc3RyaWN0IGRpcnR5IGNoZWNraW5nIHdpdGggaW1tdXRhYmxlIHBhdHRlcm5zIG9yIFBvbHltZXIncyBwYXRoIG5vdGlmaWNhdGlvblxuICogQVBJLlxuICpcbiAqIEBtaXhpbkZ1bmN0aW9uXG4gKiBAcG9seW1lclxuICogQHN1bW1hcnkgRWxlbWVudCBjbGFzcyBtaXhpbiB0byBvcHRpb25hbGx5IHNraXAgc3RyaWN0IGRpcnR5LWNoZWNraW5nXG4gKiAgIGZvciBvYmplY3RzIGFuZCBhcnJheXNcbiAqL1xuZXhwb3J0IGNvbnN0IE9wdGlvbmFsTXV0YWJsZURhdGEgPSBkZWR1cGluZ01peGluKHN1cGVyQ2xhc3MgPT4ge1xuXG4gIC8qKlxuICAgKiBAbWl4aW5DbGFzc1xuICAgKiBAcG9seW1lclxuICAgKiBAaW1wbGVtZW50cyB7UG9seW1lcl9PcHRpb25hbE11dGFibGVEYXRhfVxuICAgKi9cbiAgY2xhc3MgT3B0aW9uYWxNdXRhYmxlRGF0YSBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXG4gICAgLyoqIEBub2NvbGxhcHNlICovXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluc3RhbmNlLWxldmVsIGZsYWcgZm9yIGNvbmZpZ3VyaW5nIHRoZSBkaXJ0eS1jaGVja2luZyBzdHJhdGVneVxuICAgICAgICAgKiBmb3IgdGhpcyBlbGVtZW50LiAgV2hlbiB0cnVlLCBPYmplY3RzIGFuZCBBcnJheXMgd2lsbCBza2lwIGRpcnR5XG4gICAgICAgICAqIGNoZWNraW5nLCBvdGhlcndpc2Ugc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIHdpbGwgYmUgdXNlZC5cbiAgICAgICAgICovXG4gICAgICAgIG11dGFibGVEYXRhOiBCb29sZWFuXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBgUHJvcGVydHlFZmZlY3RzYCB0byBwcm92aWRlIG9wdGlvbiBmb3Igc2tpcHBpbmdcbiAgICAgKiBzdHJpY3QgZXF1YWxpdHkgY2hlY2tpbmcgZm9yIE9iamVjdHMgYW5kIEFycmF5cy5cbiAgICAgKlxuICAgICAqIFdoZW4gYHRoaXMubXV0YWJsZURhdGFgIGlzIHRydWUgb24gdGhpcyBpbnN0YW5jZSwgdGhpcyBtZXRob2RcbiAgICAgKiBwdWxscyB0aGUgdmFsdWUgdG8gZGlydHkgY2hlY2sgYWdhaW5zdCBmcm9tIHRoZSBgX19kYXRhVGVtcGAgY2FjaGVcbiAgICAgKiAocmF0aGVyIHRoYW4gdGhlIG5vcm1hbCBgX19kYXRhYCBjYWNoZSkgZm9yIE9iamVjdHMuICBTaW5jZSB0aGUgdGVtcFxuICAgICAqIGNhY2hlIGlzIGNsZWFyZWQgYXQgdGhlIGVuZCBvZiBhIHR1cm4sIHRoaXMgaW1wbGVtZW50YXRpb24gYWxsb3dzXG4gICAgICogc2lkZS1lZmZlY3RzIG9mIGRlZXAgb2JqZWN0IGNoYW5nZXMgdG8gYmUgcHJvY2Vzc2VkIGJ5IHJlLXNldHRpbmcgdGhlXG4gICAgICogc2FtZSBvYmplY3QgKHVzaW5nIHRoZSB0ZW1wIGNhY2hlIGFzIGFuIGluLXR1cm4gYmFja3N0b3AgdG8gcHJldmVudFxuICAgICAqIGN5Y2xlcyBkdWUgdG8gMi13YXkgbm90aWZpY2F0aW9uKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBOZXcgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcGFyYW0geyp9IG9sZCBQcmV2aW91cyBwcm9wZXJ0eSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zaG91bGRQcm9wZXJ0eUNoYW5nZShwcm9wZXJ0eSwgdmFsdWUsIG9sZCkge1xuICAgICAgcmV0dXJuIG11dGFibGVQcm9wZXJ0eUNoYW5nZSh0aGlzLCBwcm9wZXJ0eSwgdmFsdWUsIG9sZCwgdGhpcy5tdXRhYmxlRGF0YSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIE9wdGlvbmFsTXV0YWJsZURhdGE7XG5cbn0pO1xuXG4vLyBFeHBvcnQgZm9yIHVzZSBieSBsZWdhY3kgYmVoYXZpb3Jcbk11dGFibGVEYXRhLl9tdXRhYmxlUHJvcGVydHlDaGFuZ2UgPSBtdXRhYmxlUHJvcGVydHlDaGFuZ2U7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG4vKipcbiAqIE1vZHVsZSBmb3IgcHJlcGFyaW5nIGFuZCBzdGFtcGluZyBpbnN0YW5jZXMgb2YgdGVtcGxhdGVzIHRoYXQgdXRpbGl6ZVxuICogUG9seW1lcidzIGRhdGEtYmluZGluZyBhbmQgZGVjbGFyYXRpdmUgZXZlbnQgbGlzdGVuZXIgZmVhdHVyZXMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICAgLy8gR2V0IGEgdGVtcGxhdGUgZnJvbSBzb21ld2hlcmUsIGUuZy4gbGlnaHQgRE9NXG4gKiAgICAgbGV0IHRlbXBsYXRlID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpO1xuICogICAgIC8vIFByZXBhcmUgdGhlIHRlbXBsYXRlXG4gKiAgICAgbGV0IFRlbXBsYXRlQ2xhc3MgPSBUZW1wbGF0aXplLnRlbXBsYXRpemUodGVtcGxhdGUpO1xuICogICAgIC8vIEluc3RhbmNlIHRoZSB0ZW1wbGF0ZSB3aXRoIGFuIGluaXRpYWwgZGF0YSBtb2RlbFxuICogICAgIGxldCBpbnN0YW5jZSA9IG5ldyBUZW1wbGF0ZUNsYXNzKHtteVByb3A6ICdpbml0aWFsJ30pO1xuICogICAgIC8vIEluc2VydCB0aGUgaW5zdGFuY2UncyBET00gc29tZXdoZXJlLCBlLmcuIGVsZW1lbnQncyBzaGFkb3cgRE9NXG4gKiAgICAgdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKGluc3RhbmNlLnJvb3QpO1xuICogICAgIC8vIENoYW5naW5nIGEgcHJvcGVydHkgb24gdGhlIGluc3RhbmNlIHdpbGwgcHJvcGFnYXRlIHRvIGJpbmRpbmdzXG4gKiAgICAgLy8gaW4gdGhlIHRlbXBsYXRlXG4gKiAgICAgaW5zdGFuY2UubXlQcm9wID0gJ25ldyB2YWx1ZSc7XG4gKlxuICogVGhlIGBvcHRpb25zYCBkaWN0aW9uYXJ5IHBhc3NlZCB0byBgdGVtcGxhdGl6ZWAgYWxsb3dzIGZvciBjdXN0b21pemluZ1xuICogZmVhdHVyZXMgb2YgdGhlIGdlbmVyYXRlZCB0ZW1wbGF0ZSBjbGFzcywgaW5jbHVkaW5nIGhvdyBvdXRlci1zY29wZSBob3N0XG4gKiBwcm9wZXJ0aWVzIHNob3VsZCBiZSBmb3J3YXJkZWQgaW50byB0ZW1wbGF0ZSBpbnN0YW5jZXMsIGhvdyBhbnkgaW5zdGFuY2VcbiAqIHByb3BlcnRpZXMgYWRkZWQgaW50byB0aGUgdGVtcGxhdGUncyBzY29wZSBzaG91bGQgYmUgbm90aWZpZWQgb3V0IHRvXG4gKiB0aGUgaG9zdCwgYW5kIHdoZXRoZXIgdGhlIGluc3RhbmNlIHNob3VsZCBiZSBkZWNvcmF0ZWQgYXMgYSBcInBhcmVudCBtb2RlbFwiXG4gKiBvZiBhbnkgZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogICAgIC8vIEN1c3RvbWl6ZSBwcm9wZXJ0eSBmb3J3YXJkaW5nIGFuZCBldmVudCBtb2RlbCBkZWNvcmF0aW9uXG4gKiAgICAgbGV0IFRlbXBsYXRlQ2xhc3MgPSBUZW1wbGF0aXplLnRlbXBsYXRpemUodGVtcGxhdGUsIHRoaXMsIHtcbiAqICAgICAgIHBhcmVudE1vZGVsOiB0cnVlLFxuICogICAgICAgZm9yd2FyZEhvc3RQcm9wKHByb3BlcnR5LCB2YWx1ZSkgey4uLn0sXG4gKiAgICAgICBpbnN0YW5jZVByb3BzOiB7Li4ufSxcbiAqICAgICAgIG5vdGlmeUluc3RhbmNlUHJvcChpbnN0YW5jZSwgcHJvcGVydHksIHZhbHVlKSB7Li4ufSxcbiAqICAgICB9KTtcbiAqXG4gKiBAc3VtbWFyeSBNb2R1bGUgZm9yIHByZXBhcmluZyBhbmQgc3RhbXBpbmcgaW5zdGFuY2VzIG9mIHRlbXBsYXRlc1xuICogICB1dGlsaXppbmcgUG9seW1lciB0ZW1wbGF0aW5nIGZlYXR1cmVzLlxuICovXG5cbmltcG9ydCAnLi9ib290LmpzJztcblxuaW1wb3J0IHsgUHJvcGVydHlFZmZlY3RzIH0gZnJvbSAnLi4vbWl4aW5zL3Byb3BlcnR5LWVmZmVjdHMuanMnO1xuaW1wb3J0IHsgTXV0YWJsZURhdGEgfSBmcm9tICcuLi9taXhpbnMvbXV0YWJsZS1kYXRhLmpzJztcbmltcG9ydCB7IHN0cmljdFRlbXBsYXRlUG9saWN5IH0gZnJvbSAnLi9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi93cmFwLmpzJztcblxuLy8gQmFzZSBjbGFzcyBmb3IgSFRNTFRlbXBsYXRlRWxlbWVudCBleHRlbnNpb24gdGhhdCBoYXMgcHJvcGVydHkgZWZmZWN0c1xuLy8gbWFjaGluZXJ5IGZvciBwcm9wYWdhdGluZyBob3N0IHByb3BlcnRpZXMgdG8gY2hpbGRyZW4uIFRoaXMgaXMgYW4gRVM1XG4vLyBjbGFzcyBvbmx5IGJlY2F1c2UgQmFiZWwgKGluY29ycmVjdGx5KSByZXF1aXJlcyBzdXBlcigpIGluIHRoZSBjbGFzc1xuLy8gY29uc3RydWN0b3IgZXZlbiB0aG91Z2ggbm8gYHRoaXNgIGlzIHVzZWQgYW5kIGl0IHJldHVybnMgYW4gaW5zdGFuY2UuXG5sZXQgbmV3SW5zdGFuY2UgPSBudWxsO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge0hUTUxUZW1wbGF0ZUVsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBIVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9uKCkgeyByZXR1cm4gbmV3SW5zdGFuY2U7IH1cbkhUTUxUZW1wbGF0ZUVsZW1lbnRFeHRlbnNpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShIVE1MVGVtcGxhdGVFbGVtZW50LnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3Rvcjoge1xuICAgIHZhbHVlOiBIVE1MVGVtcGxhdGVFbGVtZW50RXh0ZW5zaW9uLFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH1cbn0pO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfVxuICogQGV4dGVuZHMge0hUTUxUZW1wbGF0ZUVsZW1lbnRFeHRlbnNpb259XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBEYXRhVGVtcGxhdGUgPSBQcm9wZXJ0eUVmZmVjdHMoSFRNTFRlbXBsYXRlRWxlbWVudEV4dGVuc2lvbik7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyB7UG9seW1lcl9NdXRhYmxlRGF0YX1cbiAqIEBleHRlbmRzIHtEYXRhVGVtcGxhdGV9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBNdXRhYmxlRGF0YVRlbXBsYXRlID0gTXV0YWJsZURhdGEoRGF0YVRlbXBsYXRlKTtcblxuLy8gQXBwbGllcyBhIERhdGFUZW1wbGF0ZSBzdWJjbGFzcyB0byBhIDx0ZW1wbGF0ZT4gaW5zdGFuY2VcbmZ1bmN0aW9uIHVwZ3JhZGVUZW1wbGF0ZSh0ZW1wbGF0ZSwgY29uc3RydWN0b3IpIHtcbiAgbmV3SW5zdGFuY2UgPSB0ZW1wbGF0ZTtcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRlbXBsYXRlLCBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpO1xuICBuZXcgY29uc3RydWN0b3IoKTtcbiAgbmV3SW5zdGFuY2UgPSBudWxsO1xufVxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFRlbXBsYXRlSW5zdGFuY2UuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIHtIVE1MRWxlbWVudH1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IHRlbXBsYXRlSW5zdGFuY2VCYXNlID0gUHJvcGVydHlFZmZlY3RzKFxuICAgIC8vIFRoaXMgY2FzdCBzaG91bGRuJ3QgYmUgbmVjY2Vzc2FyeSwgYnV0IENsb3N1cmUgZG9lc24ndCB1bmRlcnN0YW5kIHRoYXRcbiAgICAvLyBcImNsYXNzIHt9XCIgaXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICAvKiogQHR5cGUge2Z1bmN0aW9uKG5ldzpPYmplY3QpfSAqLyhjbGFzcyB7fSkpO1xuXG4vKipcbiAqIEBwb2x5bWVyXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUVmZmVjdHNcbiAqIEB1bnJlc3RyaWN0ZWRcbiAqL1xuY2xhc3MgVGVtcGxhdGVJbnN0YW5jZUJhc2UgZXh0ZW5kcyB0ZW1wbGF0ZUluc3RhbmNlQmFzZSB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9jb25maWd1cmVQcm9wZXJ0aWVzKHByb3BzKTtcbiAgICAvKiogQHR5cGUgeyFTdGFtcGVkVGVtcGxhdGV9ICovXG4gICAgdGhpcy5yb290ID0gdGhpcy5fc3RhbXBUZW1wbGF0ZSh0aGlzLl9fZGF0YUhvc3QpO1xuICAgIC8vIFNhdmUgbGlzdCBvZiBzdGFtcGVkIGNoaWxkcmVuXG4gICAgbGV0IGNoaWxkcmVuID0gW107XG4gICAgLyoqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfSAqL1xuICAgIHRoaXMuY2hpbGRyZW4gPSAvKiogQHR5cGUgeyFOb2RlTGlzdH0gKi8gKGNoaWxkcmVuKTtcbiAgICAvLyBQb2x5bWVyIDEueCBkaWQgbm90IHVzZSBgUG9seW1lci5kb21gIGhlcmUgc28gbm90IGJvdGhlcmluZy5cbiAgICBmb3IgKGxldCBuID0gdGhpcy5yb290LmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgY2hpbGRyZW4ucHVzaChuKTtcbiAgICAgIG4uX190ZW1wbGF0aXplSW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5fX3RlbXBsYXRpemVPd25lciAmJlxuICAgICAgdGhpcy5fX3RlbXBsYXRpemVPd25lci5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18pIHtcbiAgICAgIHRoaXMuX3Nob3dIaWRlQ2hpbGRyZW4odHJ1ZSk7XG4gICAgfVxuICAgIC8vIEZsdXNoIHByb3BzIG9ubHkgd2hlbiBwcm9wcyBhcmUgcGFzc2VkIGlmIGluc3RhbmNlIHByb3BzIGV4aXN0XG4gICAgLy8gb3Igd2hlbiB0aGVyZSBpc24ndCBpbnN0YW5jZSBwcm9wcy5cbiAgICBsZXQgb3B0aW9ucyA9IHRoaXMuX190ZW1wbGF0aXplT3B0aW9ucztcbiAgICBpZiAoKHByb3BzICYmIG9wdGlvbnMuaW5zdGFuY2VQcm9wcykgfHwgIW9wdGlvbnMuaW5zdGFuY2VQcm9wcykge1xuICAgICAgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQ29uZmlndXJlIHRoZSBnaXZlbiBgcHJvcHNgIGJ5IGNhbGxpbmcgYF9zZXRQZW5kaW5nUHJvcGVydHlgLiBBbHNvXG4gICAqIHNldHMgYW55IHByb3BlcnRpZXMgc3RvcmVkIGluIGBfX2hvc3RQcm9wc2AuXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wcyBPYmplY3Qgb2YgcHJvcGVydHkgbmFtZS12YWx1ZSBwYWlycyB0byBzZXQuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBfY29uZmlndXJlUHJvcGVydGllcyhwcm9wcykge1xuICAgIGxldCBvcHRpb25zID0gdGhpcy5fX3RlbXBsYXRpemVPcHRpb25zO1xuICAgIGlmIChvcHRpb25zLmZvcndhcmRIb3N0UHJvcCkge1xuICAgICAgZm9yIChsZXQgaHByb3AgaW4gdGhpcy5fX2hvc3RQcm9wcykge1xuICAgICAgICB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkoaHByb3AsIHRoaXMuX19kYXRhSG9zdFsnX2hvc3RfJyArIGhwcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIEFueSBpbnN0YW5jZSBwcm9wcyBwYXNzZWQgaW4gdGhlIGNvbnN0cnVjdG9yIHdpbGwgb3ZlcndyaXRlIGhvc3QgcHJvcHM7XG4gICAgLy8gbm9ybWFsbHkgdGhpcyB3b3VsZCBiZSBhIHVzZXIgZXJyb3IgYnV0IHdlIGRvbid0IHNwZWNpZmljYWxseSBmaWx0ZXIgdGhlbVxuICAgIGZvciAobGV0IGlwcm9wIGluIHByb3BzKSB7XG4gICAgICB0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHkoaXByb3AsIHByb3BzW2lwcm9wXSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBGb3J3YXJkcyBhIGhvc3QgcHJvcGVydHkgdG8gdGhpcyBpbnN0YW5jZS4gIFRoaXMgbWV0aG9kIHNob3VsZCBiZVxuICAgKiBjYWxsZWQgb24gaW5zdGFuY2VzIGZyb20gdGhlIGBvcHRpb25zLmZvcndhcmRIb3N0UHJvcGAgY2FsbGJhY2tcbiAgICogdG8gcHJvcGFnYXRlIGNoYW5nZXMgb2YgaG9zdCBwcm9wZXJ0aWVzIHRvIGVhY2ggaW5zdGFuY2UuXG4gICAqXG4gICAqIE5vdGUgdGhpcyBtZXRob2QgZW5xdWV1ZXMgdGhlIGNoYW5nZSwgd2hpY2ggYXJlIGZsdXNoZWQgYXMgYSBiYXRjaC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgb3IgcGF0aCBuYW1lXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb2YgdGhlIHByb3BlcnR5IHRvIGZvcndhcmRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGZvcndhcmRIb3N0UHJvcChwcm9wLCB2YWx1ZSkge1xuICAgIGlmICh0aGlzLl9zZXRQZW5kaW5nUHJvcGVydHlPclBhdGgocHJvcCwgdmFsdWUsIGZhbHNlLCB0cnVlKSkge1xuICAgICAgdGhpcy5fX2RhdGFIb3N0Ll9lbnF1ZXVlQ2xpZW50KHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBwb2ludCBmb3IgYWRkaW5nIGN1c3RvbSBvciBzaW11bGF0ZWQgZXZlbnQgaGFuZGxpbmcuXG4gICAqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlIE5vZGUgdG8gYWRkIGV2ZW50IGxpc3RlbmVyIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgTmFtZSBvZiBldmVudFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFFdmVudCk6dm9pZH0gaGFuZGxlciBMaXN0ZW5lciBmdW5jdGlvbiB0byBhZGRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIF9hZGRFdmVudExpc3RlbmVyVG9Ob2RlKG5vZGUsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIGlmICh0aGlzLl9tZXRob2RIb3N0ICYmIHRoaXMuX190ZW1wbGF0aXplT3B0aW9ucy5wYXJlbnRNb2RlbCkge1xuICAgICAgLy8gSWYgdGhpcyBpbnN0YW5jZSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIHBhcmVudCBtb2RlbCwgZGVjb3JhdGVcbiAgICAgIC8vIGV2ZW50cyB0aGlzIHRlbXBsYXRlIGluc3RhbmNlIGFzIGBtb2RlbGBcbiAgICAgIHRoaXMuX21ldGhvZEhvc3QuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUobm9kZSwgZXZlbnROYW1lLCAoZSkgPT4ge1xuICAgICAgICBlLm1vZGVsID0gdGhpcztcbiAgICAgICAgaGFuZGxlcihlKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgZGVsZWdhdGUgdG8gdGhlIHRlbXBsYXRlJ3MgaG9zdCAod2hpY2ggY291bGQgYmUpXG4gICAgICAvLyBhbm90aGVyIHRlbXBsYXRlIGluc3RhbmNlXG4gICAgICBsZXQgdGVtcGxhdGVIb3N0ID0gdGhpcy5fX2RhdGFIb3N0Ll9fZGF0YUhvc3Q7XG4gICAgICBpZiAodGVtcGxhdGVIb3N0KSB7XG4gICAgICAgIHRlbXBsYXRlSG9zdC5fYWRkRXZlbnRMaXN0ZW5lclRvTm9kZShub2RlLCBldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2hvd3Mgb3IgaGlkZXMgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRvcCBsZXZlbCBjaGlsZCBlbGVtZW50cy4gRm9yXG4gICAqIHRleHQgbm9kZXMsIGB0ZXh0Q29udGVudGAgaXMgcmVtb3ZlZCB3aGlsZSBcImhpZGRlblwiIGFuZCByZXBsYWNlZCB3aGVuXG4gICAqIFwic2hvd24uXCJcbiAgICogQHBhcmFtIHtib29sZWFufSBoaWRlIFNldCB0byB0cnVlIHRvIGhpZGUgdGhlIGNoaWxkcmVuO1xuICAgKiBzZXQgdG8gZmFsc2UgdG8gc2hvdyB0aGVtLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqL1xuICBfc2hvd0hpZGVDaGlsZHJlbihoaWRlKSB7XG4gICAgbGV0IGMgPSB0aGlzLmNoaWxkcmVuO1xuICAgIGZvciAobGV0IGk9MDsgaTxjLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbiA9IGNbaV07XG4gICAgICAvLyBJZ25vcmUgbm9uLWNoYW5nZXNcbiAgICAgIGlmIChCb29sZWFuKGhpZGUpICE9IEJvb2xlYW4obi5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18pKSB7XG4gICAgICAgIGlmIChuLm5vZGVUeXBlID09PSBOb2RlLlRFWFRfTk9ERSkge1xuICAgICAgICAgIGlmIChoaWRlKSB7XG4gICAgICAgICAgICBuLl9fcG9seW1lclRleHRDb250ZW50X18gPSBuLnRleHRDb250ZW50O1xuICAgICAgICAgICAgbi50ZXh0Q29udGVudCA9ICcnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuLnRleHRDb250ZW50ID0gbi5fX3BvbHltZXJUZXh0Q29udGVudF9fO1xuICAgICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIGFuZCByZXBsYWNlIHNsb3RcbiAgICAgICAgfSBlbHNlIGlmIChuLmxvY2FsTmFtZSA9PT0gJ3Nsb3QnKSB7XG4gICAgICAgICAgaWYgKGhpZGUpIHtcbiAgICAgICAgICAgIG4uX19wb2x5bWVyUmVwbGFjZWRfXyA9IGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJ2hpZGRlbi1zbG90Jyk7XG4gICAgICAgICAgICB3cmFwKHdyYXAobikucGFyZW50Tm9kZSkucmVwbGFjZUNoaWxkKG4uX19wb2x5bWVyUmVwbGFjZWRfXywgbik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcGxhY2UgPSBuLl9fcG9seW1lclJlcGxhY2VkX187XG4gICAgICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgICAgICB3cmFwKHdyYXAocmVwbGFjZSkucGFyZW50Tm9kZSkucmVwbGFjZUNoaWxkKG4sIHJlcGxhY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKG4uc3R5bGUpIHtcbiAgICAgICAgICBpZiAoaGlkZSkge1xuICAgICAgICAgICAgbi5fX3BvbHltZXJEaXNwbGF5X18gPSBuLnN0eWxlLmRpc3BsYXk7XG4gICAgICAgICAgICBuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG4uc3R5bGUuZGlzcGxheSA9IG4uX19wb2x5bWVyRGlzcGxheV9fO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbi5fX2hpZGVUZW1wbGF0ZUNoaWxkcmVuX18gPSBoaWRlO1xuICAgICAgaWYgKG4uX3Nob3dIaWRlQ2hpbGRyZW4pIHtcbiAgICAgICAgbi5fc2hvd0hpZGVDaGlsZHJlbihoaWRlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyBkZWZhdWx0IHByb3BlcnR5LWVmZmVjdHMgaW1wbGVtZW50YXRpb24gdG8gaW50ZXJjZXB0XG4gICAqIHRleHRDb250ZW50IGJpbmRpbmdzIHdoaWxlIGNoaWxkcmVuIGFyZSBcImhpZGRlblwiIGFuZCBjYWNoZSBpblxuICAgKiBwcml2YXRlIHN0b3JhZ2UgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICpcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7IU5vZGV9IG5vZGUgVGhlIG5vZGUgdG8gc2V0IGEgcHJvcGVydHkgb25cbiAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgVGhlIHByb3BlcnR5IHRvIHNldFxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXRcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKG5vZGUuX19oaWRlVGVtcGxhdGVDaGlsZHJlbl9fICYmXG4gICAgICAgIG5vZGUubm9kZVR5cGUgPT0gTm9kZS5URVhUX05PREUgJiYgcHJvcCA9PSAndGV4dENvbnRlbnQnKSB7XG4gICAgICBub2RlLl9fcG9seW1lclRleHRDb250ZW50X18gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIuX3NldFVubWFuYWdlZFByb3BlcnR5VG9Ob2RlKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIEZpbmQgdGhlIHBhcmVudCBtb2RlbCBvZiB0aGlzIHRlbXBsYXRlIGluc3RhbmNlLiAgVGhlIHBhcmVudCBtb2RlbFxuICAgKiBpcyBlaXRoZXIgYW5vdGhlciB0ZW1wbGF0aXplIGluc3RhbmNlIHRoYXQgaGFkIG9wdGlvbiBgcGFyZW50TW9kZWw6IHRydWVgLFxuICAgKiBvciBlbHNlIHRoZSBob3N0IGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm4geyFQb2x5bWVyX1Byb3BlcnR5RWZmZWN0c30gVGhlIHBhcmVudCBtb2RlbCBvZiB0aGlzIGluc3RhbmNlXG4gICAqL1xuICBnZXQgcGFyZW50TW9kZWwoKSB7XG4gICAgbGV0IG1vZGVsID0gdGhpcy5fX3BhcmVudE1vZGVsO1xuICAgIGlmICghbW9kZWwpIHtcbiAgICAgIGxldCBvcHRpb25zO1xuICAgICAgbW9kZWwgPSB0aGlzO1xuICAgICAgZG8ge1xuICAgICAgICAvLyBBIHRlbXBsYXRlIGluc3RhbmNlJ3MgYF9fZGF0YUhvc3RgIGlzIGEgPHRlbXBsYXRlPlxuICAgICAgICAvLyBgbW9kZWwuX19kYXRhSG9zdC5fX2RhdGFIb3N0YCBpcyB0aGUgdGVtcGxhdGUncyBob3N0XG4gICAgICAgIG1vZGVsID0gbW9kZWwuX19kYXRhSG9zdC5fX2RhdGFIb3N0O1xuICAgICAgfSB3aGlsZSAoKG9wdGlvbnMgPSBtb2RlbC5fX3RlbXBsYXRpemVPcHRpb25zKSAmJiAhb3B0aW9ucy5wYXJlbnRNb2RlbCk7XG4gICAgICB0aGlzLl9fcGFyZW50TW9kZWwgPSBtb2RlbDtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0dWIgb2YgSFRNTEVsZW1lbnQncyBgZGlzcGF0Y2hFdmVudGAsIHNvIHRoYXQgZWZmZWN0cyB0aGF0IG1heVxuICAgKiBkaXNwYXRjaCBldmVudHMgc2FmZWx5IG5vLW9wLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCB0byBkaXNwYXRjaFxuICAgKiBAcmV0dXJuIHtib29sZWFufSBBbHdheXMgdHJ1ZS5cbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICAgZGlzcGF0Y2hFdmVudChldmVudCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKiBAdHlwZSB7IURhdGFUZW1wbGF0ZX0gKi9cblRlbXBsYXRlSW5zdGFuY2VCYXNlLnByb3RvdHlwZS5fX2RhdGFIb3N0O1xuLyoqIEB0eXBlIHshVGVtcGxhdGl6ZU9wdGlvbnN9ICovXG5UZW1wbGF0ZUluc3RhbmNlQmFzZS5wcm90b3R5cGUuX190ZW1wbGF0aXplT3B0aW9ucztcbi8qKiBAdHlwZSB7IVBvbHltZXJfUHJvcGVydHlFZmZlY3RzfSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9tZXRob2RIb3N0O1xuLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9fdGVtcGxhdGl6ZU93bmVyO1xuLyoqIEB0eXBlIHshT2JqZWN0fSAqL1xuVGVtcGxhdGVJbnN0YW5jZUJhc2UucHJvdG90eXBlLl9faG9zdFByb3BzO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge1RlbXBsYXRlSW5zdGFuY2VCYXNlfVxuICogQGltcGxlbWVudHMge1BvbHltZXJfTXV0YWJsZURhdGF9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBNdXRhYmxlVGVtcGxhdGVJbnN0YW5jZUJhc2UgPSBNdXRhYmxlRGF0YShcbiAgICAvLyBUaGlzIGNhc3Qgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeSwgYnV0IENsb3N1cmUgZG9lc24ndCBzZWVtIHRvIHVuZGVyc3RhbmRcbiAgICAvLyB0aGlzIGNvbnN0cnVjdG9yLlxuICAgIC8qKiBAdHlwZSB7ZnVuY3Rpb24obmV3OlRlbXBsYXRlSW5zdGFuY2VCYXNlKX0gKi8oVGVtcGxhdGVJbnN0YW5jZUJhc2UpKTtcblxuZnVuY3Rpb24gZmluZE1ldGhvZEhvc3QodGVtcGxhdGUpIHtcbiAgLy8gVGVjaG5pY2FsbHkgdGhpcyBzaG91bGQgYmUgdGhlIG93bmVyIG9mIHRoZSBvdXRlcm1vc3QgdGVtcGxhdGUuXG4gIC8vIEluIHNoYWRvdyBkb20sIHRoaXMgaXMgYWx3YXlzIGdldFJvb3ROb2RlKCkuaG9zdCwgYnV0IHdlIGNhblxuICAvLyBhcHByb3hpbWF0ZSB0aGlzIHZpYSBjb29wZXJhdGlvbiB3aXRoIG91ciBkYXRhSG9zdCBhbHdheXMgc2V0dGluZ1xuICAvLyBgX21ldGhvZEhvc3RgIGFzIGxvbmcgYXMgdGhlcmUgd2VyZSBiaW5kaW5ncyAob3IgaWQncykgb24gdGhpc1xuICAvLyBpbnN0YW5jZSBjYXVzaW5nIGl0IHRvIGdldCBhIGRhdGFIb3N0LlxuICBsZXQgdGVtcGxhdGVIb3N0ID0gdGVtcGxhdGUuX19kYXRhSG9zdDtcbiAgcmV0dXJuIHRlbXBsYXRlSG9zdCAmJiB0ZW1wbGF0ZUhvc3QuX21ldGhvZEhvc3QgfHwgdGVtcGxhdGVIb3N0O1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyAqL1xuLyoqXG4gKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBjbGFzcy5wcm90b3R5cGUgaXMgbm90IGRlZmluZWQgZm9yIHNvbWUgcmVhc29uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRlbXBsYXRpemVyQ2xhc3ModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucykge1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX1cbiAgICovXG4gIGxldCB0ZW1wbGF0aXplckJhc2UgPSBvcHRpb25zLm11dGFibGVEYXRhID9cbiAgICBNdXRhYmxlVGVtcGxhdGVJbnN0YW5jZUJhc2UgOiBUZW1wbGF0ZUluc3RhbmNlQmFzZTtcblxuICAvLyBBZmZvcmRhbmNlIGZvciBnbG9iYWwgbWl4aW5zIG9udG8gVGVtcGxhdGl6ZUluc3RhbmNlXG4gIGlmICh0ZW1wbGF0aXplLm1peGluKSB7XG4gICAgdGVtcGxhdGl6ZXJCYXNlID0gdGVtcGxhdGl6ZS5taXhpbih0ZW1wbGF0aXplckJhc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFub255bW91cyBjbGFzcyBjcmVhdGVkIGJ5IHRoZSB0ZW1wbGF0aXplXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbGV0IGtsYXNzID0gY2xhc3MgZXh0ZW5kcyB0ZW1wbGF0aXplckJhc2UgeyB9O1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX3RlbXBsYXRpemVPcHRpb25zID0gb3B0aW9ucztcbiAga2xhc3MucHJvdG90eXBlLl9iaW5kVGVtcGxhdGUodGVtcGxhdGUpO1xuICBhZGROb3RpZnlFZmZlY3RzKGtsYXNzLCB0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKTtcbiAgcmV0dXJuIGtsYXNzO1xufVxuXG4vKipcbiAqIEFkZHMgcHJvcGFnYXRlIGVmZmVjdHMgZnJvbSB0aGUgdGVtcGxhdGUgdG8gdGhlIHRlbXBsYXRlIGluc3RhbmNlIGZvclxuICogcHJvcGVydGllcyB0aGF0IHRoZSBob3N0IGJpbmRzIHRvIHRoZSB0ZW1wbGF0ZSB1c2luZyB0aGUgYF9ob3N0X2AgcHJlZml4LlxuICogXG4gKiBAc3VwcHJlc3Mge21pc3NpbmdQcm9wZXJ0aWVzfSBjbGFzcy5wcm90b3R5cGUgaXMgbm90IGRlZmluZWQgZm9yIHNvbWUgcmVhc29uXG4gKi9cbmZ1bmN0aW9uIGFkZFByb3BhZ2F0ZUVmZmVjdHModGVtcGxhdGUsIHRlbXBsYXRlSW5mbywgb3B0aW9ucykge1xuICBsZXQgdXNlckZvcndhcmRIb3N0UHJvcCA9IG9wdGlvbnMuZm9yd2FyZEhvc3RQcm9wO1xuICBpZiAodXNlckZvcndhcmRIb3N0UHJvcCAmJiB0ZW1wbGF0ZUluZm8uaGFzSG9zdFByb3BzKSB7XG4gICAgLy8gUHJvdmlkZSBkYXRhIEFQSSBhbmQgcHJvcGVydHkgZWZmZWN0cyBvbiBtZW1vaXplZCB0ZW1wbGF0ZSBjbGFzc1xuICAgIGxldCBrbGFzcyA9IHRlbXBsYXRlSW5mby50ZW1wbGF0aXplVGVtcGxhdGVDbGFzcztcbiAgICBpZiAoIWtsYXNzKSB7XG4gICAgICAvKipcbiAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICogQGV4dGVuZHMge0RhdGFUZW1wbGF0ZX1cbiAgICAgICAqL1xuICAgICAgbGV0IHRlbXBsYXRpemVkQmFzZSA9IG9wdGlvbnMubXV0YWJsZURhdGEgPyBNdXRhYmxlRGF0YVRlbXBsYXRlIDogRGF0YVRlbXBsYXRlO1xuICAgICAgLyoqIEBwcml2YXRlICovXG4gICAgICBrbGFzcyA9IHRlbXBsYXRlSW5mby50ZW1wbGF0aXplVGVtcGxhdGVDbGFzcyA9XG4gICAgICAgIGNsYXNzIFRlbXBsYXRpemVkVGVtcGxhdGUgZXh0ZW5kcyB0ZW1wbGF0aXplZEJhc2Uge307XG4gICAgICAvLyBBZGQgdGVtcGxhdGUgLSA+aW5zdGFuY2VzIGVmZmVjdHNcbiAgICAgIC8vIGFuZCBob3N0IDwtIHRlbXBsYXRlIGVmZmVjdHNcbiAgICAgIGxldCBob3N0UHJvcHMgPSB0ZW1wbGF0ZUluZm8uaG9zdFByb3BzO1xuICAgICAgZm9yIChsZXQgcHJvcCBpbiBob3N0UHJvcHMpIHtcbiAgICAgICAga2xhc3MucHJvdG90eXBlLl9hZGRQcm9wZXJ0eUVmZmVjdCgnX2hvc3RfJyArIHByb3AsXG4gICAgICAgICAga2xhc3MucHJvdG90eXBlLlBST1BFUlRZX0VGRkVDVF9UWVBFUy5QUk9QQUdBVEUsXG4gICAgICAgICAge2ZuOiBjcmVhdGVGb3J3YXJkSG9zdFByb3BFZmZlY3QocHJvcCwgdXNlckZvcndhcmRIb3N0UHJvcCl9KTtcbiAgICAgICAga2xhc3MucHJvdG90eXBlLl9jcmVhdGVOb3RpZnlpbmdQcm9wZXJ0eSgnX2hvc3RfJyArIHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgICB1cGdyYWRlVGVtcGxhdGUodGVtcGxhdGUsIGtsYXNzKTtcbiAgICAvLyBNaXggYW55IHByZS1ib3VuZCBkYXRhIGludG8gX19kYXRhOyBubyBuZWVkIHRvIGZsdXNoIHRoaXMgdG9cbiAgICAvLyBpbnN0YW5jZXMgc2luY2UgdGhleSBwdWxsIGZyb20gdGhlIHRlbXBsYXRlIGF0IGluc3RhbmNlLXRpbWVcbiAgICBpZiAodGVtcGxhdGUuX19kYXRhUHJvdG8pIHtcbiAgICAgIC8vIE5vdGUsIGdlbmVyYWxseSBgX19kYXRhUHJvdG9gIGNvdWxkIGJlIGNoYWluZWQsIGJ1dCBpdCdzIGd1YXJhbnRlZWRcbiAgICAgIC8vIHRvIG5vdCBiZSBzaW5jZSB0aGlzIGlzIGEgdmFuaWxsYSB0ZW1wbGF0ZSB3ZSBqdXN0IGFkZGVkIGVmZmVjdHMgdG9cbiAgICAgIE9iamVjdC5hc3NpZ24odGVtcGxhdGUuX19kYXRhLCB0ZW1wbGF0ZS5fX2RhdGFQcm90byk7XG4gICAgfVxuICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIGRhdGEgZm9yIHBlcmZvcm1hbmNlXG4gICAgdGVtcGxhdGUuX19kYXRhVGVtcCA9IHt9O1xuICAgIHRlbXBsYXRlLl9fZGF0YVBlbmRpbmcgPSBudWxsO1xuICAgIHRlbXBsYXRlLl9fZGF0YU9sZCA9IG51bGw7XG4gICAgdGVtcGxhdGUuX2VuYWJsZVByb3BlcnRpZXMoKTtcbiAgfVxufVxuLyogZXNsaW50LWVuYWJsZSB2YWxpZC1qc2RvYyAqL1xuXG5mdW5jdGlvbiBjcmVhdGVGb3J3YXJkSG9zdFByb3BFZmZlY3QoaG9zdFByb3AsIHVzZXJGb3J3YXJkSG9zdFByb3ApIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGZvcndhcmRIb3N0UHJvcCh0ZW1wbGF0ZSwgcHJvcCwgcHJvcHMpIHtcbiAgICB1c2VyRm9yd2FyZEhvc3RQcm9wLmNhbGwodGVtcGxhdGUuX190ZW1wbGF0aXplT3duZXIsXG4gICAgICBwcm9wLnN1YnN0cmluZygnX2hvc3RfJy5sZW5ndGgpLCBwcm9wc1twcm9wXSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGFkZE5vdGlmeUVmZmVjdHMoa2xhc3MsIHRlbXBsYXRlLCB0ZW1wbGF0ZUluZm8sIG9wdGlvbnMpIHtcbiAgbGV0IGhvc3RQcm9wcyA9IHRlbXBsYXRlSW5mby5ob3N0UHJvcHMgfHwge307XG4gIGZvciAobGV0IGlwcm9wIGluIG9wdGlvbnMuaW5zdGFuY2VQcm9wcykge1xuICAgIGRlbGV0ZSBob3N0UHJvcHNbaXByb3BdO1xuICAgIGxldCB1c2VyTm90aWZ5SW5zdGFuY2VQcm9wID0gb3B0aW9ucy5ub3RpZnlJbnN0YW5jZVByb3A7XG4gICAgaWYgKHVzZXJOb3RpZnlJbnN0YW5jZVByb3ApIHtcbiAgICAgIGtsYXNzLnByb3RvdHlwZS5fYWRkUHJvcGVydHlFZmZlY3QoaXByb3AsXG4gICAgICAgIGtsYXNzLnByb3RvdHlwZS5QUk9QRVJUWV9FRkZFQ1RfVFlQRVMuTk9USUZZLFxuICAgICAgICB7Zm46IGNyZWF0ZU5vdGlmeUluc3RhbmNlUHJvcEVmZmVjdChpcHJvcCwgdXNlck5vdGlmeUluc3RhbmNlUHJvcCl9KTtcbiAgICB9XG4gIH1cbiAgaWYgKG9wdGlvbnMuZm9yd2FyZEhvc3RQcm9wICYmIHRlbXBsYXRlLl9fZGF0YUhvc3QpIHtcbiAgICBmb3IgKGxldCBocHJvcCBpbiBob3N0UHJvcHMpIHtcbiAgICAgIC8vIEFzIHdlJ3JlIGl0ZXJhdGluZyBob3N0UHJvcHMgaW4gdGhpcyBmdW5jdGlvbiwgbm90ZSB3aGV0aGVyXG4gICAgICAvLyB0aGVyZSB3ZXJlIGFueSwgZm9yIGFuIG9wdGltaXphdGlvbiBpbiBhZGRQcm9wYWdhdGVFZmZlY3RzXG4gICAgICBpZiAoIXRlbXBsYXRlSW5mby5oYXNIb3N0UHJvcHMpIHtcbiAgICAgICAgdGVtcGxhdGVJbmZvLmhhc0hvc3RQcm9wcyA9IHRydWU7XG4gICAgICB9XG4gICAgICBrbGFzcy5wcm90b3R5cGUuX2FkZFByb3BlcnR5RWZmZWN0KGhwcm9wLFxuICAgICAgICBrbGFzcy5wcm90b3R5cGUuUFJPUEVSVFlfRUZGRUNUX1RZUEVTLk5PVElGWSxcbiAgICAgICAge2ZuOiBjcmVhdGVOb3RpZnlIb3N0UHJvcEVmZmVjdCgpfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vdGlmeUluc3RhbmNlUHJvcEVmZmVjdChpbnN0UHJvcCwgdXNlck5vdGlmeUluc3RhbmNlUHJvcCkge1xuICByZXR1cm4gZnVuY3Rpb24gbm90aWZ5SW5zdGFuY2VQcm9wKGluc3QsIHByb3AsIHByb3BzKSB7XG4gICAgdXNlck5vdGlmeUluc3RhbmNlUHJvcC5jYWxsKGluc3QuX190ZW1wbGF0aXplT3duZXIsXG4gICAgICBpbnN0LCBwcm9wLCBwcm9wc1twcm9wXSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU5vdGlmeUhvc3RQcm9wRWZmZWN0KCkge1xuICByZXR1cm4gZnVuY3Rpb24gbm90aWZ5SG9zdFByb3AoaW5zdCwgcHJvcCwgcHJvcHMpIHtcbiAgICBpbnN0Ll9fZGF0YUhvc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aCgnX2hvc3RfJyArIHByb3AsIHByb3BzW3Byb3BdLCB0cnVlLCB0cnVlKTtcbiAgfTtcbn1cblxuXG4vKipcbiAqIFJldHVybnMgYW4gYW5vbnltb3VzIGBQcm9wZXJ0eUVmZmVjdHNgIGNsYXNzIGJvdW5kIHRvIHRoZVxuICogYDx0ZW1wbGF0ZT5gIHByb3ZpZGVkLiAgSW5zdGFuY2luZyB0aGUgY2xhc3Mgd2lsbCByZXN1bHQgaW4gdGhlXG4gKiB0ZW1wbGF0ZSBiZWluZyBzdGFtcGVkIGludG8gYSBkb2N1bWVudCBmcmFnbWVudCBzdG9yZWQgYXMgdGhlIGluc3RhbmNlJ3NcbiAqIGByb290YCBwcm9wZXJ0eSwgYWZ0ZXIgd2hpY2ggaXQgY2FuIGJlIGFwcGVuZGVkIHRvIHRoZSBET00uXG4gKlxuICogVGVtcGxhdGVzIG1heSB1dGlsaXplIGFsbCBQb2x5bWVyIGRhdGEtYmluZGluZyBmZWF0dXJlcyBhcyB3ZWxsIGFzXG4gKiBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMuICBFdmVudCBsaXN0ZW5lcnMgYW5kIGlubGluZSBjb21wdXRpbmdcbiAqIGZ1bmN0aW9ucyBpbiB0aGUgdGVtcGxhdGUgd2lsbCBiZSBjYWxsZWQgb24gdGhlIGhvc3Qgb2YgdGhlIHRlbXBsYXRlLlxuICpcbiAqIFRoZSBjb25zdHJ1Y3RvciByZXR1cm5lZCB0YWtlcyBhIHNpbmdsZSBhcmd1bWVudCBkaWN0aW9uYXJ5IG9mIGluaXRpYWxcbiAqIHByb3BlcnR5IHZhbHVlcyB0byBwcm9wYWdhdGUgaW50byB0ZW1wbGF0ZSBiaW5kaW5ncy4gIEFkZGl0aW9uYWxseVxuICogaG9zdCBwcm9wZXJ0aWVzIGNhbiBiZSBmb3J3YXJkZWQgaW4sIGFuZCBpbnN0YW5jZSBwcm9wZXJ0aWVzIGNhbiBiZVxuICogbm90aWZpZWQgb3V0IGJ5IHByb3ZpZGluZyBvcHRpb25hbCBjYWxsYmFja3MgaW4gdGhlIGBvcHRpb25zYCBkaWN0aW9uYXJ5LlxuICpcbiAqIFZhbGlkIGNvbmZpZ3VyYXRpb24gaW4gYG9wdGlvbnNgIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIC0gYGZvcndhcmRIb3N0UHJvcChwcm9wZXJ0eSwgdmFsdWUpYDogQ2FsbGVkIHdoZW4gYSBwcm9wZXJ0eSByZWZlcmVuY2VkXG4gKiAgIGluIHRoZSB0ZW1wbGF0ZSBjaGFuZ2VkIG9uIHRoZSB0ZW1wbGF0ZSdzIGhvc3QuIEFzIHRoaXMgbGlicmFyeSBkb2VzXG4gKiAgIG5vdCByZXRhaW4gcmVmZXJlbmNlcyB0byB0ZW1wbGF0ZXMgaW5zdGFuY2VkIGJ5IHRoZSB1c2VyLCBpdCBpcyB0aGVcbiAqICAgdGVtcGxhdGl6ZSBvd25lcidzIHJlc3BvbnNpYmlsaXR5IHRvIGZvcndhcmQgaG9zdCBwcm9wZXJ0eSBjaGFuZ2VzIGludG9cbiAqICAgdXNlci1zdGFtcGVkIGluc3RhbmNlcy4gIFRoZSBgaW5zdGFuY2UuZm9yd2FyZEhvc3RQcm9wKHByb3BlcnR5LCB2YWx1ZSlgXG4gKiAgICBtZXRob2Qgb24gdGhlIGdlbmVyYXRlZCBjbGFzcyBzaG91bGQgYmUgY2FsbGVkIHRvIGZvcndhcmQgaG9zdFxuICogICBwcm9wZXJ0aWVzIGludG8gdGhlIHRlbXBsYXRlIHRvIHByZXZlbnQgdW5uZWNlc3NhcnkgcHJvcGVydHktY2hhbmdlZFxuICogICBub3RpZmljYXRpb25zLiBBbnkgcHJvcGVydGllcyByZWZlcmVuY2VkIGluIHRoZSB0ZW1wbGF0ZSB0aGF0IGFyZSBub3RcbiAqICAgZGVmaW5lZCBpbiBgaW5zdGFuY2VQcm9wc2Agd2lsbCBiZSBub3RpZmllZCB1cCB0byB0aGUgdGVtcGxhdGUncyBob3N0XG4gKiAgIGF1dG9tYXRpY2FsbHkuXG4gKiAtIGBpbnN0YW5jZVByb3BzYDogRGljdGlvbmFyeSBvZiBwcm9wZXJ0eSBuYW1lcyB0aGF0IHdpbGwgYmUgYWRkZWRcbiAqICAgdG8gdGhlIGluc3RhbmNlIGJ5IHRoZSB0ZW1wbGF0aXplIG93bmVyLiAgVGhlc2UgcHJvcGVydGllcyBzaGFkb3cgYW55XG4gKiAgIGhvc3QgcHJvcGVydGllcywgYW5kIGNoYW5nZXMgd2l0aGluIHRoZSB0ZW1wbGF0ZSB0byB0aGVzZSBwcm9wZXJ0aWVzXG4gKiAgIHdpbGwgcmVzdWx0IGluIGBub3RpZnlJbnN0YW5jZVByb3BgIGJlaW5nIGNhbGxlZC5cbiAqIC0gYG11dGFibGVEYXRhYDogV2hlbiBgdHJ1ZWAsIHRoZSBnZW5lcmF0ZWQgY2xhc3Mgd2lsbCBza2lwIHN0cmljdFxuICogICBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzIChhbHdheXMgY29uc2lkZXIgdGhlbSB0byBiZVxuICogICBcImRpcnR5XCIpLlxuICogLSBgbm90aWZ5SW5zdGFuY2VQcm9wKGluc3RhbmNlLCBwcm9wZXJ0eSwgdmFsdWUpYDogQ2FsbGVkIHdoZW5cbiAqICAgYW4gaW5zdGFuY2UgcHJvcGVydHkgY2hhbmdlcy4gIFVzZXJzIG1heSBjaG9vc2UgdG8gY2FsbCBgbm90aWZ5UGF0aGBcbiAqICAgb24gZS5nLiB0aGUgb3duZXIgdG8gbm90aWZ5IHRoZSBjaGFuZ2UuXG4gKiAtIGBwYXJlbnRNb2RlbGA6IFdoZW4gYHRydWVgLCBldmVudHMgaGFuZGxlZCBieSBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnNcbiAqICAgKGBvbi1ldmVudD1cImhhbmRsZXJcImApIHdpbGwgYmUgZGVjb3JhdGVkIHdpdGggYSBgbW9kZWxgIHByb3BlcnR5IHBvaW50aW5nXG4gKiAgIHRvIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0aGF0IHN0YW1wZWQgaXQuICBJdCB3aWxsIGFsc28gYmUgcmV0dXJuZWRcbiAqICAgZnJvbSBgaW5zdGFuY2UucGFyZW50TW9kZWxgIGluIGNhc2VzIHdoZXJlIHRlbXBsYXRlIGluc3RhbmNlIG5lc3RpbmdcbiAqICAgY2F1c2VzIGFuIGlubmVyIG1vZGVsIHRvIHNoYWRvdyBhbiBvdXRlciBtb2RlbC5cbiAqXG4gKiBBbGwgY2FsbGJhY2tzIGFyZSBjYWxsZWQgYm91bmQgdG8gdGhlIGBvd25lcmAuIEFueSBjb250ZXh0XG4gKiBuZWVkZWQgZm9yIHRoZSBjYWxsYmFja3MgKHN1Y2ggYXMgcmVmZXJlbmNlcyB0byBgaW5zdGFuY2VzYCBzdGFtcGVkKVxuICogc2hvdWxkIGJlIHN0b3JlZCBvbiB0aGUgYG93bmVyYCBzdWNoIHRoYXQgdGhleSBjYW4gYmUgcmV0cmlldmVkIHZpYVxuICogYHRoaXNgLlxuICpcbiAqIFdoZW4gYG9wdGlvbnMuZm9yd2FyZEhvc3RQcm9wYCBpcyBkZWNsYXJlZCBhcyBhbiBvcHRpb24sIGFueSBwcm9wZXJ0aWVzXG4gKiByZWZlcmVuY2VkIGluIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZm9yd2FyZGVkIGZyb20gdGhlIGhvc3Qgb2ZcbiAqIHRoZSBgPHRlbXBsYXRlPmAgdG8gaW5zdGFuY2VzLCB3aXRoIHRoZSBleGNlcHRpb24gb2YgYW55IHByb3BlcnRpZXMgbGlzdGVkIGluXG4gKiB0aGUgYG9wdGlvbnMuaW5zdGFuY2VQcm9wc2Agb2JqZWN0LiAgYGluc3RhbmNlUHJvcHNgIGFyZSBhc3N1bWVkIHRvIGJlXG4gKiBtYW5hZ2VkIGJ5IHRoZSBvd25lciBvZiB0aGUgaW5zdGFuY2VzLCBlaXRoZXIgcGFzc2VkIGludG8gdGhlIGNvbnN0cnVjdG9yXG4gKiBvciBzZXQgYWZ0ZXIgdGhlIGZhY3QuICBOb3RlLCBhbnkgcHJvcGVydGllcyBwYXNzZWQgaW50byB0aGUgY29uc3RydWN0b3Igd2lsbFxuICogYWx3YXlzIGJlIHNldCB0byB0aGUgaW5zdGFuY2UgKHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGV5IHdvdWxkIG5vcm1hbGx5XG4gKiBiZSBmb3J3YXJkZWQgZnJvbSB0aGUgaG9zdCkuXG4gKlxuICogTm90ZSB0aGF0IGB0ZW1wbGF0aXplKClgIGNhbiBiZSBydW4gb25seSBvbmNlIGZvciBhIGdpdmVuIGA8dGVtcGxhdGU+YC5cbiAqIEZ1cnRoZXIgY2FsbHMgd2lsbCByZXN1bHQgaW4gYW4gZXJyb3IuIEFsc28sIHRoZXJlIGlzIGEgc3BlY2lhbFxuICogYmVoYXZpb3IgaWYgdGhlIHRlbXBsYXRlIHdhcyBkdXBsaWNhdGVkIHRocm91Z2ggYSBtZWNoYW5pc20gc3VjaCBhc1xuICogYDxkb20tcmVwZWF0PmAgb3IgYDx0ZXN0LWZpeHR1cmU+YC4gSW4gdGhpcyBjYXNlLCBhbGwgY2FsbHMgdG9cbiAqIGB0ZW1wbGF0aXplKClgIHJldHVybiB0aGUgc2FtZSBjbGFzcyBmb3IgYWxsIGR1cGxpY2F0ZXMgb2YgYSB0ZW1wbGF0ZS5cbiAqIFRoZSBjbGFzcyByZXR1cm5lZCBmcm9tIGB0ZW1wbGF0aXplKClgIGlzIGdlbmVyYXRlZCBvbmx5IG9uY2UgdXNpbmdcbiAqIHRoZSBgb3B0aW9uc2AgZnJvbSB0aGUgZmlyc3QgY2FsbC4gVGhpcyBtZWFucyB0aGF0IGFueSBgb3B0aW9uc2BcbiAqIHByb3ZpZGVkIHRvIHN1YnNlcXVlbnQgY2FsbHMgd2lsbCBiZSBpZ25vcmVkLiBUaGVyZWZvcmUsIGl0IGlzIHZlcnlcbiAqIGltcG9ydGFudCBub3QgdG8gY2xvc2Ugb3ZlciBhbnkgdmFyaWFibGVzIGluc2lkZSB0aGUgY2FsbGJhY2tzLiBBbHNvLFxuICogYXJyb3cgZnVuY3Rpb25zIG11c3QgYmUgYXZvaWRlZCBiZWNhdXNlIHRoZXkgYmluZCB0aGUgb3V0ZXIgYHRoaXNgLlxuICogSW5zaWRlIHRoZSBjYWxsYmFja3MsIGFueSBjb250ZXh0dWFsIGluZm9ybWF0aW9uIGNhbiBiZSBhY2Nlc3NlZFxuICogdGhyb3VnaCBgdGhpc2AsIHdoaWNoIHBvaW50cyB0byB0aGUgYG93bmVyYC5cbiAqXG4gKiBAcGFyYW0geyFIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUZW1wbGF0ZSB0byB0ZW1wbGF0aXplXG4gKiBAcGFyYW0ge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzPX0gb3duZXIgT3duZXIgb2YgdGhlIHRlbXBsYXRlIGluc3RhbmNlcztcbiAqICAgYW55IG9wdGlvbmFsIGNhbGxiYWNrcyB3aWxsIGJlIGJvdW5kIHRvIHRoaXMgb3duZXIuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBkaWN0aW9uYXJ5IChzZWUgc3VtbWFyeSBmb3IgZGV0YWlscylcbiAqIEByZXR1cm4ge2Z1bmN0aW9uKG5ldzpUZW1wbGF0ZUluc3RhbmNlQmFzZSwgT2JqZWN0PSl9IEdlbmVyYXRlZCBjbGFzcyBib3VuZFxuICogICB0byB0aGUgdGVtcGxhdGUgcHJvdmlkZWRcbiAqIEBzdXBwcmVzcyB7aW52YWxpZENhc3RzfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGl6ZSh0ZW1wbGF0ZSwgb3duZXIsIG9wdGlvbnMpIHtcbiAgLy8gVW5kZXIgc3RyaWN0VGVtcGxhdGVQb2xpY3ksIHRoZSB0ZW1wbGF0aXplZCBlbGVtZW50IG11c3QgYmUgb3duZWRcbiAgLy8gYnkgYSAodHJ1c3RlZCkgUG9seW1lciBlbGVtZW50LCBpbmRpY2F0ZWQgYnkgZXhpc3RlbmNlIG9mIF9tZXRob2RIb3N0O1xuICAvLyBlLmcuIGZvciBkb20taWYgJiBkb20tcmVwZWF0IGluIG1haW4gZG9jdW1lbnQsIF9tZXRob2RIb3N0IGlzIG51bGxcbiAgaWYgKHN0cmljdFRlbXBsYXRlUG9saWN5ICYmICFmaW5kTWV0aG9kSG9zdCh0ZW1wbGF0ZSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmljdFRlbXBsYXRlUG9saWN5OiB0ZW1wbGF0ZSBvd25lciBub3QgdHJ1c3RlZCcpO1xuICB9XG4gIG9wdGlvbnMgPSAvKiogQHR5cGUgeyFUZW1wbGF0aXplT3B0aW9uc30gKi8ob3B0aW9ucyB8fCB7fSk7XG4gIGlmICh0ZW1wbGF0ZS5fX3RlbXBsYXRpemVPd25lcikge1xuICAgIHRocm93IG5ldyBFcnJvcignQSA8dGVtcGxhdGU+IGNhbiBvbmx5IGJlIHRlbXBsYXRpemVkIG9uY2UnKTtcbiAgfVxuICB0ZW1wbGF0ZS5fX3RlbXBsYXRpemVPd25lciA9IG93bmVyO1xuICBjb25zdCBjdG9yID0gb3duZXIgPyBvd25lci5jb25zdHJ1Y3RvciA6IFRlbXBsYXRlSW5zdGFuY2VCYXNlO1xuICBsZXQgdGVtcGxhdGVJbmZvID0gY3Rvci5fcGFyc2VUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG4gIC8vIEdldCBtZW1vaXplZCBiYXNlIGNsYXNzIGZvciB0aGUgcHJvdG90eXBpY2FsIHRlbXBsYXRlLCB3aGljaFxuICAvLyBpbmNsdWRlcyBwcm9wZXJ0eSBlZmZlY3RzIGZvciBiaW5kaW5nIHRlbXBsYXRlICYgZm9yd2FyZGluZ1xuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBleHRlbmRzIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX1cbiAgICovXG4gIGxldCBiYXNlQ2xhc3MgPSB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZUluc3RhbmNlQ2xhc3M7XG4gIGlmICghYmFzZUNsYXNzKSB7XG4gICAgYmFzZUNsYXNzID0gY3JlYXRlVGVtcGxhdGl6ZXJDbGFzcyh0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKTtcbiAgICB0ZW1wbGF0ZUluZm8udGVtcGxhdGl6ZUluc3RhbmNlQ2xhc3MgPSBiYXNlQ2xhc3M7XG4gIH1cbiAgLy8gSG9zdCBwcm9wZXJ0eSBmb3J3YXJkaW5nIG11c3QgYmUgaW5zdGFsbGVkIG9udG8gdGVtcGxhdGUgaW5zdGFuY2VcbiAgYWRkUHJvcGFnYXRlRWZmZWN0cyh0ZW1wbGF0ZSwgdGVtcGxhdGVJbmZvLCBvcHRpb25zKTtcbiAgLy8gU3ViY2xhc3MgYmFzZSBjbGFzcyBhbmQgYWRkIHJlZmVyZW5jZSBmb3IgdGhpcyBzcGVjaWZpYyB0ZW1wbGF0ZVxuICAvKiogQHByaXZhdGUgKi9cbiAgbGV0IGtsYXNzID0gY2xhc3MgVGVtcGxhdGVJbnN0YW5jZSBleHRlbmRzIGJhc2VDbGFzcyB7fTtcbiAgLyoqIEBvdmVycmlkZSAqL1xuICBrbGFzcy5wcm90b3R5cGUuX21ldGhvZEhvc3QgPSBmaW5kTWV0aG9kSG9zdCh0ZW1wbGF0ZSk7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAga2xhc3MucHJvdG90eXBlLl9fZGF0YUhvc3QgPSAvKiogQHR5cGUgeyFEYXRhVGVtcGxhdGV9ICovICh0ZW1wbGF0ZSk7XG4gIC8qKiBAb3ZlcnJpZGUgKi9cbiAga2xhc3MucHJvdG90eXBlLl9fdGVtcGxhdGl6ZU93bmVyID0gLyoqIEB0eXBlIHshT2JqZWN0fSAqLyAob3duZXIpO1xuICAvKiogQG92ZXJyaWRlICovXG4gIGtsYXNzLnByb3RvdHlwZS5fX2hvc3RQcm9wcyA9IHRlbXBsYXRlSW5mby5ob3N0UHJvcHM7XG4gIGtsYXNzID0gLyoqIEB0eXBlIHtmdW5jdGlvbihuZXc6VGVtcGxhdGVJbnN0YW5jZUJhc2UpfSAqLyhrbGFzcyk7IC8vZXNsaW50LWRpc2FibGUtbGluZSBuby1zZWxmLWFzc2lnblxuICByZXR1cm4ga2xhc3M7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdGVtcGxhdGUgXCJtb2RlbFwiIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGVsZW1lbnQsIHdoaWNoXG4gKiBzZXJ2ZXMgYXMgdGhlIGJpbmRpbmcgc2NvcGUgZm9yIHRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSB0aGUgZWxlbWVudCBpc1xuICogY29udGFpbmVkIGluLiBBIHRlbXBsYXRlIG1vZGVsIGlzIGFuIGluc3RhbmNlIG9mXG4gKiBgVGVtcGxhdGVJbnN0YW5jZUJhc2VgLCBhbmQgc2hvdWxkIGJlIHVzZWQgdG8gbWFuaXB1bGF0ZSBkYXRhXG4gKiBhc3NvY2lhdGVkIHdpdGggdGhpcyB0ZW1wbGF0ZSBpbnN0YW5jZS5cbiAqXG4gKiBFeGFtcGxlOlxuICpcbiAqICAgbGV0IG1vZGVsID0gbW9kZWxGb3JFbGVtZW50KGVsKTtcbiAqICAgaWYgKG1vZGVsLmluZGV4IDwgMTApIHtcbiAqICAgICBtb2RlbC5zZXQoJ2l0ZW0uY2hlY2tlZCcsIHRydWUpO1xuICogICB9XG4gKlxuICogQHBhcmFtIHtIVE1MVGVtcGxhdGVFbGVtZW50fSB0ZW1wbGF0ZSBUaGUgbW9kZWwgd2lsbCBiZSByZXR1cm5lZCBmb3JcbiAqICAgZWxlbWVudHMgc3RhbXBlZCBmcm9tIHRoaXMgdGVtcGxhdGVcbiAqIEBwYXJhbSB7Tm9kZT19IG5vZGUgTm9kZSBmb3Igd2hpY2ggdG8gcmV0dXJuIGEgdGVtcGxhdGUgbW9kZWwuXG4gKiBAcmV0dXJuIHtUZW1wbGF0ZUluc3RhbmNlQmFzZX0gVGVtcGxhdGUgaW5zdGFuY2UgcmVwcmVzZW50aW5nIHRoZVxuICogICBiaW5kaW5nIHNjb3BlIGZvciB0aGUgZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gbW9kZWxGb3JFbGVtZW50KHRlbXBsYXRlLCBub2RlKSB7XG4gIGxldCBtb2RlbDtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICAvLyBBbiBlbGVtZW50IHdpdGggYSBfX3RlbXBsYXRpemVJbnN0YW5jZSBtYXJrcyB0aGUgdG9wIGJvdW5kYXJ5XG4gICAgLy8gb2YgYSBzY29wZTsgd2FsayB1cCB1bnRpbCB3ZSBmaW5kIG9uZSwgYW5kIHRoZW4gZW5zdXJlIHRoYXRcbiAgICAvLyBpdHMgX19kYXRhSG9zdCBtYXRjaGVzIGB0aGlzYCwgbWVhbmluZyB0aGlzIGRvbS1yZXBlYXQgc3RhbXBlZCBpdFxuICAgIGlmICgobW9kZWwgPSBub2RlLl9fdGVtcGxhdGl6ZUluc3RhbmNlKSkge1xuICAgICAgLy8gRm91bmQgYW4gZWxlbWVudCBzdGFtcGVkIGJ5IGFub3RoZXIgdGVtcGxhdGU7IGtlZXAgd2Fsa2luZyB1cFxuICAgICAgLy8gZnJvbSBpdHMgX19kYXRhSG9zdFxuICAgICAgaWYgKG1vZGVsLl9fZGF0YUhvc3QgIT0gdGVtcGxhdGUpIHtcbiAgICAgICAgbm9kZSA9IG1vZGVsLl9fZGF0YUhvc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbW9kZWw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0aWxsIGluIGEgdGVtcGxhdGUgc2NvcGUsIGtlZXAgZ29pbmcgdXAgdW50aWxcbiAgICAgIC8vIGEgX190ZW1wbGF0aXplSW5zdGFuY2UgaXMgZm91bmRcbiAgICAgIG5vZGUgPSB3cmFwKG5vZGUpLnBhcmVudE5vZGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5leHBvcnQgeyBUZW1wbGF0ZUluc3RhbmNlQmFzZSB9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKlxuICogTW9kdWxlIHRvIGhpZGUgYDxkb20tYmluZD5gLCBgPGRvbS1pZj5gLCBhbmQgYDxkb20tcmVwZWF0PmAgZWxlbWVudHNcbiAqIG9wdGltYWxseSBpbiBTaGFkeURPTVxuICovXG5cbmltcG9ydCB7bGVnYWN5T3B0aW1pemF0aW9ucywgdXNlU2hhZG93fSBmcm9tICcuL3NldHRpbmdzLmpzJztcblxubGV0IGVsZW1lbnRzSGlkZGVuID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbGVtZW50cyB3aWxsIGJlIGhpZGRlbiBnbG9iYWxseVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnRzR2xvYmFsbHkoKSB7XG4gIGlmIChsZWdhY3lPcHRpbWl6YXRpb25zICYmICF1c2VTaGFkb3cpIHtcbiAgICBpZiAoIWVsZW1lbnRzSGlkZGVuKSB7XG4gICAgICBlbGVtZW50c0hpZGRlbiA9IHRydWU7XG4gICAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZS50ZXh0Q29udGVudCA9ICdkb20tYmluZCxkb20taWYsZG9tLXJlcGVhdHtkaXNwbGF5Om5vbmU7fSc7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufSIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJy4uL3V0aWxzL2Jvb3QuanMnO1xuXG5pbXBvcnQgeyBQcm9wZXJ0eUVmZmVjdHMgfSBmcm9tICcuLi9taXhpbnMvcHJvcGVydHktZWZmZWN0cy5qcyc7XG5pbXBvcnQgeyBPcHRpb25hbE11dGFibGVEYXRhIH0gZnJvbSAnLi4vbWl4aW5zL211dGFibGUtZGF0YS5qcyc7XG5pbXBvcnQgeyBHZXN0dXJlRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICcuLi9taXhpbnMvZ2VzdHVyZS1ldmVudC1saXN0ZW5lcnMuanMnO1xuaW1wb3J0IHsgc3RyaWN0VGVtcGxhdGVQb2xpY3kgfSBmcm9tICcuLi91dGlscy9zZXR0aW5ncy5qcyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vdXRpbHMvd3JhcC5qcyc7XG5pbXBvcnQgeyBoaWRlRWxlbWVudHNHbG9iYWxseSB9IGZyb20gJy4uL3V0aWxzL2hpZGUtdGVtcGxhdGUtY29udHJvbHMuanMnO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge0hUTUxFbGVtZW50fVxuICogQGltcGxlbWVudHMge1BvbHltZXJfUHJvcGVydHlFZmZlY3RzfVxuICogQGltcGxlbWVudHMge1BvbHltZXJfT3B0aW9uYWxNdXRhYmxlRGF0YX1cbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0dlc3R1cmVFdmVudExpc3RlbmVyc31cbiAqIEBwcml2YXRlXG4gKi9cbmNvbnN0IGRvbUJpbmRCYXNlID1cbiAgR2VzdHVyZUV2ZW50TGlzdGVuZXJzKFxuICAgIE9wdGlvbmFsTXV0YWJsZURhdGEoXG4gICAgICBQcm9wZXJ0eUVmZmVjdHMoSFRNTEVsZW1lbnQpKSk7XG5cbi8qKlxuICogQ3VzdG9tIGVsZW1lbnQgdG8gYWxsb3cgdXNpbmcgUG9seW1lcidzIHRlbXBsYXRlIGZlYXR1cmVzIChkYXRhIGJpbmRpbmcsXG4gKiBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMsIGV0Yy4pIGluIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQgZGVmaW5pbmdcbiAqIGEgbmV3IGN1c3RvbSBlbGVtZW50LlxuICpcbiAqIGA8dGVtcGxhdGU+YCB0YWdzIHV0aWxpemluZyBiaW5kaW5ncyBtYXkgYmUgd3JhcHBlZCB3aXRoIHRoZSBgPGRvbS1iaW5kPmBcbiAqIGVsZW1lbnQsIHdoaWNoIHdpbGwgaW1tZWRpYXRlbHkgc3RhbXAgdGhlIHdyYXBwZWQgdGVtcGxhdGUgaW50byB0aGUgbWFpblxuICogZG9jdW1lbnQgYW5kIGJpbmQgZWxlbWVudHMgdG8gdGhlIGBkb20tYmluZGAgZWxlbWVudCBpdHNlbGYgYXMgdGhlXG4gKiBiaW5kaW5nIHNjb3BlLlxuICpcbiAqIEBwb2x5bWVyXG4gKiBAY3VzdG9tRWxlbWVudFxuICogQGFwcGxpZXNNaXhpbiBQcm9wZXJ0eUVmZmVjdHNcbiAqIEBhcHBsaWVzTWl4aW4gT3B0aW9uYWxNdXRhYmxlRGF0YVxuICogQGFwcGxpZXNNaXhpbiBHZXN0dXJlRXZlbnRMaXN0ZW5lcnNcbiAqIEBleHRlbmRzIHtkb21CaW5kQmFzZX1cbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IHRvIGFsbG93IHVzaW5nIFBvbHltZXIncyB0ZW1wbGF0ZSBmZWF0dXJlcyAoZGF0YVxuICogICBiaW5kaW5nLCBkZWNsYXJhdGl2ZSBldmVudCBsaXN0ZW5lcnMsIGV0Yy4pIGluIHRoZSBtYWluIGRvY3VtZW50LlxuICovXG5leHBvcnQgY2xhc3MgRG9tQmluZCBleHRlbmRzIGRvbUJpbmRCYXNlIHtcblxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHsgcmV0dXJuIFsnbXV0YWJsZS1kYXRhJ107IH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIGlmIChzdHJpY3RUZW1wbGF0ZVBvbGljeSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBzdHJpY3RUZW1wbGF0ZVBvbGljeTogZG9tLWJpbmQgbm90IGFsbG93ZWRgKTtcbiAgICB9XG4gICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB0aGlzLiQgPSBudWxsO1xuICAgIHRoaXMuX19jaGlsZHJlbiA9IG51bGw7XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRoYXQgY2hhbmdlZFxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG9sZCBPbGQgYXR0cmlidXRlIHZhbHVlXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gdmFsdWUgTmV3IGF0dHJpYnV0ZSB2YWx1ZVxuICAgKiBAcGFyYW0gez9zdHJpbmd9IG5hbWVzcGFjZSBBdHRyaWJ1dGUgbmFtZXNwYWNlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZCwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICAgIC8vIGFzc3VtZXMgb25seSBvbmUgb2JzZXJ2ZWQgYXR0cmlidXRlXG4gICAgdGhpcy5tdXRhYmxlRGF0YSA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAoIWhpZGVFbGVtZW50c0dsb2JhbGx5KCkpIHtcbiAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHRoaXMuX19yZW1vdmVDaGlsZHJlbigpO1xuICB9XG5cbiAgX19pbnNlcnRDaGlsZHJlbigpIHtcbiAgICB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHRoaXMucm9vdCwgdGhpcyk7XG4gIH1cblxuICBfX3JlbW92ZUNoaWxkcmVuKCkge1xuICAgIGlmICh0aGlzLl9fY2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5yb290LmFwcGVuZENoaWxkKHRoaXMuX19jaGlsZHJlbltpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlcyB0aGUgZWxlbWVudCB0byByZW5kZXIgaXRzIGNvbnRlbnQuIFRoaXMgaXMgdHlwaWNhbGx5IG9ubHlcbiAgICogbmVjZXNzYXJ5IHRvIGNhbGwgaWYgSFRNTEltcG9ydHMgd2l0aCB0aGUgYXN5bmMgYXR0cmlidXRlIGFyZSB1c2VkLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIGxldCB0ZW1wbGF0ZTtcbiAgICBpZiAoIXRoaXMuX19jaGlsZHJlbikge1xuICAgICAgdGVtcGxhdGUgPSAvKiogQHR5cGUgez9IVE1MVGVtcGxhdGVFbGVtZW50fSAqLyh0ZW1wbGF0ZSB8fCB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgICAgaWYgKCF0ZW1wbGF0ZSkge1xuICAgICAgICAvLyBXYWl0IHVudGlsIGNoaWxkTGlzdCBjaGFuZ2VzIGFuZCB0ZW1wbGF0ZSBzaG91bGQgYmUgdGhlcmUgYnkgdGhlblxuICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgdGVtcGxhdGUgPSAvKiogQHR5cGUge0hUTUxUZW1wbGF0ZUVsZW1lbnR9ICovKHRoaXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKSk7XG4gICAgICAgICAgaWYgKHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RvbS1iaW5kIHJlcXVpcmVzIGEgPHRlbXBsYXRlPiBjaGlsZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcywge2NoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLnJvb3QgPSB0aGlzLl9zdGFtcFRlbXBsYXRlKFxuICAgICAgICAvKiogQHR5cGUgeyFIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyh0ZW1wbGF0ZSkpO1xuICAgICAgdGhpcy4kID0gdGhpcy5yb290LiQ7XG4gICAgICB0aGlzLl9fY2hpbGRyZW4gPSBbXTtcbiAgICAgIGZvciAobGV0IG49dGhpcy5yb290LmZpcnN0Q2hpbGQ7IG47IG49bi5uZXh0U2libGluZykge1xuICAgICAgICB0aGlzLl9fY2hpbGRyZW5bdGhpcy5fX2NoaWxkcmVuLmxlbmd0aF0gPSBuO1xuICAgICAgfVxuICAgICAgdGhpcy5fZW5hYmxlUHJvcGVydGllcygpO1xuICAgIH1cbiAgICB0aGlzLl9faW5zZXJ0Q2hpbGRyZW4oKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb20tY2hhbmdlJywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSkpO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdkb20tYmluZCcsIERvbUJpbmQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnLi4vLi4vcG9seW1lci1lbGVtZW50LmpzJztcblxuaW1wb3J0IHsgVGVtcGxhdGVJbnN0YW5jZUJhc2UsIHRlbXBsYXRpemUsIG1vZGVsRm9yRWxlbWVudCB9IGZyb20gJy4uL3V0aWxzL3RlbXBsYXRpemUuanMnOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICcuLi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyBlbnF1ZXVlRGVib3VuY2VyLCBmbHVzaCB9IGZyb20gJy4uL3V0aWxzL2ZsdXNoLmpzJztcbmltcG9ydCB7IE9wdGlvbmFsTXV0YWJsZURhdGEgfSBmcm9tICcuLi9taXhpbnMvbXV0YWJsZS1kYXRhLmpzJztcbmltcG9ydCB7IG1hdGNoZXMsIHRyYW5zbGF0ZSB9IGZyb20gJy4uL3V0aWxzL3BhdGguanMnO1xuaW1wb3J0IHsgdGltZU91dCwgbWljcm9UYXNrIH0gZnJvbSAnLi4vdXRpbHMvYXN5bmMuanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuaW1wb3J0IHsgaGlkZUVsZW1lbnRzR2xvYmFsbHkgfSBmcm9tICcuLi91dGlscy9oaWRlLXRlbXBsYXRlLWNvbnRyb2xzLmpzJztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX09wdGlvbmFsTXV0YWJsZURhdGF9XG4gKiBAZXh0ZW5kcyB7UG9seW1lckVsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5jb25zdCBkb21SZXBlYXRCYXNlID0gT3B0aW9uYWxNdXRhYmxlRGF0YShQb2x5bWVyRWxlbWVudCk7XG5cbi8qKlxuICogVGhlIGA8ZG9tLXJlcGVhdD5gIGVsZW1lbnQgd2lsbCBhdXRvbWF0aWNhbGx5IHN0YW1wIGFuZCBiaW5kcyBvbmUgaW5zdGFuY2VcbiAqIG9mIHRlbXBsYXRlIGNvbnRlbnQgdG8gZWFjaCBvYmplY3QgaW4gYSB1c2VyLXByb3ZpZGVkIGFycmF5LlxuICogYGRvbS1yZXBlYXRgIGFjY2VwdHMgYW4gYGl0ZW1zYCBwcm9wZXJ0eSwgYW5kIG9uZSBpbnN0YW5jZSBvZiB0aGUgdGVtcGxhdGVcbiAqIGlzIHN0YW1wZWQgZm9yIGVhY2ggaXRlbSBpbnRvIHRoZSBET00gYXQgdGhlIGxvY2F0aW9uIG9mIHRoZSBgZG9tLXJlcGVhdGBcbiAqIGVsZW1lbnQuICBUaGUgYGl0ZW1gIHByb3BlcnR5IHdpbGwgYmUgc2V0IG9uIGVhY2ggaW5zdGFuY2UncyBiaW5kaW5nXG4gKiBzY29wZSwgdGh1cyB0ZW1wbGF0ZXMgc2hvdWxkIGJpbmQgdG8gc3ViLXByb3BlcnRpZXMgb2YgYGl0ZW1gLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgaHRtbFxuICogPGRvbS1tb2R1bGUgaWQ9XCJlbXBsb3llZS1saXN0XCI+XG4gKlxuICogICA8dGVtcGxhdGU+XG4gKlxuICogICAgIDxkaXY+IEVtcGxveWVlIGxpc3Q6IDwvZGl2PlxuICogICAgIDxkb20tcmVwZWF0IGl0ZW1zPVwie3tlbXBsb3llZXN9fVwiPlxuICogICAgICAgPHRlbXBsYXRlPlxuICogICAgICAgICA8ZGl2PkZpcnN0IG5hbWU6IDxzcGFuPnt7aXRlbS5maXJzdH19PC9zcGFuPjwvZGl2PlxuICogICAgICAgICA8ZGl2Pkxhc3QgbmFtZTogPHNwYW4+e3tpdGVtLmxhc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgIDwvdGVtcGxhdGU+XG4gKiAgICAgPC9kb20tcmVwZWF0PlxuICpcbiAqICAgPC90ZW1wbGF0ZT5cbiAqXG4gKiA8L2RvbS1tb2R1bGU+XG4gKiBgYGBcbiAqXG4gKiBXaXRoIHRoZSBmb2xsb3dpbmcgY3VzdG9tIGVsZW1lbnQgZGVmaW5pdGlvbjpcbiAqXG4gKiBgYGBqc1xuICogY2xhc3MgRW1wbG95ZWVMaXN0IGV4dGVuZHMgUG9seW1lckVsZW1lbnQge1xuICogICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ2VtcGxveWVlLWxpc3QnOyB9XG4gKiAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgZW1wbG95ZWVzOiB7XG4gKiAgICAgICAgIHZhbHVlKCkge1xuICogICAgICAgICAgIHJldHVybiBbXG4gKiAgICAgICAgICAgICB7Zmlyc3Q6ICdCb2InLCBsYXN0OiAnU21pdGgnfSxcbiAqICAgICAgICAgICAgIHtmaXJzdDogJ1NhbGx5JywgbGFzdDogJ0pvaG5zb24nfSxcbiAqICAgICAgICAgICAgIC4uLlxuICogICAgICAgICAgIF07XG4gKiAgICAgICAgIH1cbiAqICAgICAgIH1cbiAqICAgICB9O1xuICogICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBOb3RpZmljYXRpb25zIGZvciBjaGFuZ2VzIHRvIGl0ZW1zIHN1Yi1wcm9wZXJ0aWVzIHdpbGwgYmUgZm9yd2FyZGVkIHRvIHRlbXBsYXRlXG4gKiBpbnN0YW5jZXMsIHdoaWNoIHdpbGwgdXBkYXRlIHZpYSB0aGUgbm9ybWFsIHN0cnVjdHVyZWQgZGF0YSBub3RpZmljYXRpb24gc3lzdGVtLlxuICpcbiAqIE11dGF0aW9ucyB0byB0aGUgYGl0ZW1zYCBhcnJheSBpdHNlbGYgc2hvdWxkIGJlIG1hZGUgdXNpbmcgdGhlIEFycmF5XG4gKiBtdXRhdGlvbiBBUEkncyBvbiB0aGUgUHJvcGVydHlFZmZlY3RzIG1peGluIChgcHVzaGAsIGBwb3BgLCBgc3BsaWNlYCxcbiAqIGBzaGlmdGAsIGB1bnNoaWZ0YCksIGFuZCB0ZW1wbGF0ZSBpbnN0YW5jZXMgd2lsbCBiZSBrZXB0IGluIHN5bmMgd2l0aCB0aGVcbiAqIGRhdGEgaW4gdGhlIGFycmF5LlxuICpcbiAqIEV2ZW50cyBjYXVnaHQgYnkgZXZlbnQgaGFuZGxlcnMgd2l0aGluIHRoZSBgZG9tLXJlcGVhdGAgdGVtcGxhdGUgd2lsbCBiZVxuICogZGVjb3JhdGVkIHdpdGggYSBgbW9kZWxgIHByb3BlcnR5LCB3aGljaCByZXByZXNlbnRzIHRoZSBiaW5kaW5nIHNjb3BlIGZvclxuICogZWFjaCB0ZW1wbGF0ZSBpbnN0YW5jZS4gIFRoZSBtb2RlbCBzaG91bGQgYmUgdXNlZCB0byBtYW5pcHVsYXRlIGRhdGEgb24gdGhlXG4gKiBpbnN0YW5jZSwgZm9yIGV4YW1wbGUgYGV2ZW50Lm1vZGVsLnNldCgnaXRlbS5jaGVja2VkJywgdHJ1ZSk7YC5cbiAqXG4gKiBBbHRlcm5hdGl2ZWx5LCB0aGUgbW9kZWwgZm9yIGEgdGVtcGxhdGUgaW5zdGFuY2UgZm9yIGFuIGVsZW1lbnQgc3RhbXBlZCBieVxuICogYSBgZG9tLXJlcGVhdGAgY2FuIGJlIG9idGFpbmVkIHVzaW5nIHRoZSBgbW9kZWxGb3JFbGVtZW50YCBBUEkgb24gdGhlXG4gKiBgZG9tLXJlcGVhdGAgdGhhdCBzdGFtcGVkIGl0LCBmb3IgZXhhbXBsZVxuICogYHRoaXMuJC5kb21SZXBlYXQubW9kZWxGb3JFbGVtZW50KGV2ZW50LnRhcmdldCkuc2V0KCdpdGVtLmNoZWNrZWQnLCB0cnVlKTtgLlxuICogVGhpcyBtYXkgYmUgdXNlZnVsIGZvciBtYW5pcHVsYXRpbmcgaW5zdGFuY2UgZGF0YSBvZiBldmVudCB0YXJnZXRzIG9idGFpbmVkXG4gKiBieSBldmVudCBoYW5kbGVycyBvbiBwYXJlbnRzIG9mIHRoZSBgZG9tLXJlcGVhdGAgKGV2ZW50IGRlbGVnYXRpb24pLlxuICpcbiAqIEEgdmlldy1zcGVjaWZpYyBmaWx0ZXIvc29ydCBtYXkgYmUgYXBwbGllZCB0byBlYWNoIGBkb20tcmVwZWF0YCBieSBzdXBwbHlpbmcgYVxuICogYGZpbHRlcmAgYW5kL29yIGBzb3J0YCBwcm9wZXJ0eS4gIFRoaXMgbWF5IGJlIGEgc3RyaW5nIHRoYXQgbmFtZXMgYSBmdW5jdGlvbiBvblxuICogdGhlIGhvc3QsIG9yIGEgZnVuY3Rpb24gbWF5IGJlIGFzc2lnbmVkIHRvIHRoZSBwcm9wZXJ0eSBkaXJlY3RseS4gIFRoZSBmdW5jdGlvbnNcbiAqIHNob3VsZCBpbXBsZW1lbnRlZCBmb2xsb3dpbmcgdGhlIHN0YW5kYXJkIGBBcnJheWAgZmlsdGVyL3NvcnQgQVBJLlxuICpcbiAqIEluIG9yZGVyIHRvIHJlLXJ1biB0aGUgZmlsdGVyIG9yIHNvcnQgZnVuY3Rpb25zIGJhc2VkIG9uIGNoYW5nZXMgdG8gc3ViLWZpZWxkc1xuICogb2YgYGl0ZW1zYCwgdGhlIGBvYnNlcnZlYCBwcm9wZXJ0eSBtYXkgYmUgc2V0IGFzIGEgc3BhY2Utc2VwYXJhdGVkIGxpc3Qgb2ZcbiAqIGBpdGVtYCBzdWItZmllbGRzIHRoYXQgc2hvdWxkIGNhdXNlIGEgcmUtZmlsdGVyL3NvcnQgd2hlbiBtb2RpZmllZC4gIElmXG4gKiB0aGUgZmlsdGVyIG9yIHNvcnQgZnVuY3Rpb24gZGVwZW5kcyBvbiBwcm9wZXJ0aWVzIG5vdCBjb250YWluZWQgaW4gYGl0ZW1zYCxcbiAqIHRoZSB1c2VyIHNob3VsZCBvYnNlcnZlIGNoYW5nZXMgdG8gdGhvc2UgcHJvcGVydGllcyBhbmQgY2FsbCBgcmVuZGVyYCB0byB1cGRhdGVcbiAqIHRoZSB2aWV3IGJhc2VkIG9uIHRoZSBkZXBlbmRlbmN5IGNoYW5nZS5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgZm9yIGFuIGBkb20tcmVwZWF0YCB3aXRoIGEgZmlsdGVyIG9mIHRoZSBmb2xsb3dpbmc6XG4gKlxuICogYGBganNcbiAqIGlzRW5naW5lZXIoaXRlbSkge1xuICogICByZXR1cm4gaXRlbS50eXBlID09ICdlbmdpbmVlcicgfHwgaXRlbS5tYW5hZ2VyLnR5cGUgPT0gJ2VuZ2luZWVyJztcbiAqIH1cbiAqIGBgYFxuICpcbiAqIFRoZW4gdGhlIGBvYnNlcnZlYCBwcm9wZXJ0eSBzaG91bGQgYmUgY29uZmlndXJlZCBhcyBmb2xsb3dzOlxuICpcbiAqIGBgYGh0bWxcbiAqIDxkb20tcmVwZWF0IGl0ZW1zPVwie3tlbXBsb3llZXN9fVwiIGZpbHRlcj1cImlzRW5naW5lZXJcIiBvYnNlcnZlPVwidHlwZSBtYW5hZ2VyLnR5cGVcIj5cbiAqIGBgYFxuICpcbiAqIEBjdXN0b21FbGVtZW50XG4gKiBAcG9seW1lclxuICogQGV4dGVuZHMge2RvbVJlcGVhdEJhc2V9XG4gKiBAYXBwbGllc01peGluIE9wdGlvbmFsTXV0YWJsZURhdGFcbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IGZvciBzdGFtcGluZyBpbnN0YW5jZSBvZiBhIHRlbXBsYXRlIGJvdW5kIHRvXG4gKiAgIGl0ZW1zIGluIGFuIGFycmF5LlxuICovXG5leHBvcnQgY2xhc3MgRG9tUmVwZWF0IGV4dGVuZHMgZG9tUmVwZWF0QmFzZSB7XG5cbiAgLy8gTm90IG5lZWRlZCB0byBmaW5kIHRlbXBsYXRlOyBjYW4gYmUgcmVtb3ZlZCBvbmNlIHRoZSBhbmFseXplclxuICAvLyBjYW4gZmluZCB0aGUgdGFnIG5hbWUgZnJvbSBjdXN0b21FbGVtZW50cy5kZWZpbmUgY2FsbFxuICBzdGF0aWMgZ2V0IGlzKCkgeyByZXR1cm4gJ2RvbS1yZXBlYXQnOyB9XG5cbiAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHsgcmV0dXJuIG51bGw7IH1cblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuZXZlciBET00gaXMgYWRkZWQgb3IgcmVtb3ZlZCBieSB0aGlzIHRlbXBsYXRlIChieVxuICAgICAqIGRlZmF1bHQsIHJlbmRlcmluZyBvY2N1cnMgbGF6aWx5KS4gIFRvIGZvcmNlIGltbWVkaWF0ZSByZW5kZXJpbmcsIGNhbGxcbiAgICAgKiBgcmVuZGVyYC5cbiAgICAgKlxuICAgICAqIEBldmVudCBkb20tY2hhbmdlXG4gICAgICovXG4gICAgcmV0dXJuIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIGl0ZW1zIGRldGVybWluaW5nIGhvdyBtYW55IGluc3RhbmNlcyBvZiB0aGUgdGVtcGxhdGVcbiAgICAgICAqIHRvIHN0YW1wIGFuZCB0aGF0IHRoYXQgZWFjaCB0ZW1wbGF0ZSBpbnN0YW5jZSBzaG91bGQgYmluZCB0by5cbiAgICAgICAqL1xuICAgICAgaXRlbXM6IHtcbiAgICAgICAgdHlwZTogQXJyYXlcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlIHRvIGFkZCB0byB0aGUgYmluZGluZyBzY29wZSBmb3IgdGhlIGFycmF5XG4gICAgICAgKiBlbGVtZW50IGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIHRlbXBsYXRlIGluc3RhbmNlLlxuICAgICAgICovXG4gICAgICBhczoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHZhbHVlOiAnaXRlbSdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIHZhcmlhYmxlIHRvIGFkZCB0byB0aGUgYmluZGluZyBzY29wZSB3aXRoIHRoZSBpbmRleFxuICAgICAgICogb2YgdGhlIGluc3RhbmNlIGluIHRoZSBzb3J0ZWQgYW5kIGZpbHRlcmVkIGxpc3Qgb2YgcmVuZGVyZWQgaXRlbXMuXG4gICAgICAgKiBOb3RlLCBmb3IgdGhlIGluZGV4IGluIHRoZSBgdGhpcy5pdGVtc2AgYXJyYXksIHVzZSB0aGUgdmFsdWUgb2YgdGhlXG4gICAgICAgKiBgaXRlbXNJbmRleEFzYCBwcm9wZXJ0eS5cbiAgICAgICAqL1xuICAgICAgaW5kZXhBczoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHZhbHVlOiAnaW5kZXgnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSB0byBhZGQgdG8gdGhlIGJpbmRpbmcgc2NvcGUgd2l0aCB0aGUgaW5kZXhcbiAgICAgICAqIG9mIHRoZSBpbnN0YW5jZSBpbiB0aGUgYHRoaXMuaXRlbXNgIGFycmF5LiBOb3RlLCBmb3IgdGhlIGluZGV4IG9mXG4gICAgICAgKiB0aGlzIGluc3RhbmNlIGluIHRoZSBzb3J0ZWQgYW5kIGZpbHRlcmVkIGxpc3Qgb2YgcmVuZGVyZWQgaXRlbXMsXG4gICAgICAgKiB1c2UgdGhlIHZhbHVlIG9mIHRoZSBgaW5kZXhBc2AgcHJvcGVydHkuXG4gICAgICAgKi9cbiAgICAgIGl0ZW1zSW5kZXhBczoge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHZhbHVlOiAnaXRlbXNJbmRleCdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBkZXRlcm1pbmUgdGhlIHNvcnQgb3JkZXIgb2YgdGhlIGl0ZW1zLiAgVGhpc1xuICAgICAgICogcHJvcGVydHkgc2hvdWxkIGVpdGhlciBiZSBwcm92aWRlZCBhcyBhIHN0cmluZywgaW5kaWNhdGluZyBhIG1ldGhvZFxuICAgICAgICogbmFtZSBvbiB0aGUgZWxlbWVudCdzIGhvc3QsIG9yIGVsc2UgYmUgYW4gYWN0dWFsIGZ1bmN0aW9uLiAgVGhlXG4gICAgICAgKiBmdW5jdGlvbiBzaG91bGQgbWF0Y2ggdGhlIHNvcnQgZnVuY3Rpb24gcGFzc2VkIHRvIGBBcnJheS5zb3J0YC5cbiAgICAgICAqIFVzaW5nIGEgc29ydCBmdW5jdGlvbiBoYXMgbm8gZWZmZWN0IG9uIHRoZSB1bmRlcmx5aW5nIGBpdGVtc2AgYXJyYXkuXG4gICAgICAgKi9cbiAgICAgIHNvcnQ6IHtcbiAgICAgICAgdHlwZTogRnVuY3Rpb24sXG4gICAgICAgIG9ic2VydmVyOiAnX19zb3J0Q2hhbmdlZCdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQSBmdW5jdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBpdGVtcyBvdXQgb2YgdGhlIHZpZXcuICBUaGlzXG4gICAgICAgKiBwcm9wZXJ0eSBzaG91bGQgZWl0aGVyIGJlIHByb3ZpZGVkIGFzIGEgc3RyaW5nLCBpbmRpY2F0aW5nIGEgbWV0aG9kXG4gICAgICAgKiBuYW1lIG9uIHRoZSBlbGVtZW50J3MgaG9zdCwgb3IgZWxzZSBiZSBhbiBhY3R1YWwgZnVuY3Rpb24uICBUaGVcbiAgICAgICAqIGZ1bmN0aW9uIHNob3VsZCBtYXRjaCB0aGUgc29ydCBmdW5jdGlvbiBwYXNzZWQgdG8gYEFycmF5LmZpbHRlcmAuXG4gICAgICAgKiBVc2luZyBhIGZpbHRlciBmdW5jdGlvbiBoYXMgbm8gZWZmZWN0IG9uIHRoZSB1bmRlcmx5aW5nIGBpdGVtc2AgYXJyYXkuXG4gICAgICAgKi9cbiAgICAgIGZpbHRlcjoge1xuICAgICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX2ZpbHRlckNoYW5nZWQnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gdXNpbmcgYSBgZmlsdGVyYCBvciBgc29ydGAgZnVuY3Rpb24sIHRoZSBgb2JzZXJ2ZWAgcHJvcGVydHlcbiAgICAgICAqIHNob3VsZCBiZSBzZXQgdG8gYSBzcGFjZS1zZXBhcmF0ZWQgbGlzdCBvZiB0aGUgbmFtZXMgb2YgaXRlbVxuICAgICAgICogc3ViLWZpZWxkcyB0aGF0IHNob3VsZCB0cmlnZ2VyIGEgcmUtc29ydCBvciByZS1maWx0ZXIgd2hlbiBjaGFuZ2VkLlxuICAgICAgICogVGhlc2Ugc2hvdWxkIGdlbmVyYWxseSBiZSBmaWVsZHMgb2YgYGl0ZW1gIHRoYXQgdGhlIHNvcnQgb3IgZmlsdGVyXG4gICAgICAgKiBmdW5jdGlvbiBkZXBlbmRzIG9uLlxuICAgICAgICovXG4gICAgICBvYnNlcnZlOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX29ic2VydmVDaGFuZ2VkJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHVzaW5nIGEgYGZpbHRlcmAgb3IgYHNvcnRgIGZ1bmN0aW9uLCB0aGUgYGRlbGF5YCBwcm9wZXJ0eVxuICAgICAgICogZGV0ZXJtaW5lcyBhIGRlYm91bmNlIHRpbWUgaW4gbXMgYWZ0ZXIgYSBjaGFuZ2UgdG8gb2JzZXJ2ZWQgaXRlbVxuICAgICAgICogcHJvcGVydGllcyB0aGF0IG11c3QgcGFzcyBiZWZvcmUgdGhlIGZpbHRlciBvciBzb3J0IGlzIHJlLXJ1bi5cbiAgICAgICAqIFRoaXMgaXMgdXNlZnVsIGluIHJhdGUtbGltaXRpbmcgc2h1ZmZsaW5nIG9mIHRoZSB2aWV3IHdoZW5cbiAgICAgICAqIGl0ZW0gY2hhbmdlcyBtYXkgYmUgZnJlcXVlbnQuXG4gICAgICAgKi9cbiAgICAgIGRlbGF5OiBOdW1iZXIsXG5cbiAgICAgIC8qKlxuICAgICAgICogQ291bnQgb2YgY3VycmVudGx5IHJlbmRlcmVkIGl0ZW1zIGFmdGVyIGBmaWx0ZXJgIChpZiBhbnkpIGhhcyBiZWVuIGFwcGxpZWQuXG4gICAgICAgKiBJZiBcImNodW5raW5nIG1vZGVcIiBpcyBlbmFibGVkLCBgcmVuZGVyZWRJdGVtQ291bnRgIGlzIHVwZGF0ZWQgZWFjaCB0aW1lIGFcbiAgICAgICAqIHNldCBvZiB0ZW1wbGF0ZSBpbnN0YW5jZXMgaXMgcmVuZGVyZWQuXG4gICAgICAgKlxuICAgICAgICovXG4gICAgICByZW5kZXJlZEl0ZW1Db3VudDoge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgcmVhZE9ubHk6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRGVmaW5lcyBhbiBpbml0aWFsIGNvdW50IG9mIHRlbXBsYXRlIGluc3RhbmNlcyB0byByZW5kZXIgYWZ0ZXIgc2V0dGluZ1xuICAgICAgICogdGhlIGBpdGVtc2AgYXJyYXksIGJlZm9yZSB0aGUgbmV4dCBwYWludCwgYW5kIHB1dHMgdGhlIGBkb20tcmVwZWF0YFxuICAgICAgICogaW50byBcImNodW5raW5nIG1vZGVcIi4gIFRoZSByZW1haW5pbmcgaXRlbXMgd2lsbCBiZSBjcmVhdGVkIGFuZCByZW5kZXJlZFxuICAgICAgICogaW5jcmVtZW50YWxseSBhdCBlYWNoIGFuaW1hdGlvbiBmcmFtZSB0aGVyb2YgdW50aWwgYWxsIGluc3RhbmNlcyBoYXZlXG4gICAgICAgKiBiZWVuIHJlbmRlcmVkLlxuICAgICAgICovXG4gICAgICBpbml0aWFsQ291bnQ6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBvYnNlcnZlcjogJ19faW5pdGlhbGl6ZUNodW5raW5nJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIGBpbml0aWFsQ291bnRgIGlzIHVzZWQsIHRoaXMgcHJvcGVydHkgZGVmaW5lcyBhIGZyYW1lIHJhdGUgKGluXG4gICAgICAgKiBmcHMpIHRvIHRhcmdldCBieSB0aHJvdHRsaW5nIHRoZSBudW1iZXIgb2YgaW5zdGFuY2VzIHJlbmRlcmVkIGVhY2hcbiAgICAgICAqIGZyYW1lIHRvIG5vdCBleGNlZWQgdGhlIGJ1ZGdldCBmb3IgdGhlIHRhcmdldCBmcmFtZSByYXRlLiAgVGhlXG4gICAgICAgKiBmcmFtZXJhdGUgaXMgZWZmZWN0aXZlbHkgdGhlIG51bWJlciBvZiBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYHMgdGhhdFxuICAgICAgICogaXQgdHJpZXMgdG8gYWxsb3cgdG8gYWN0dWFsbHkgZmlyZSBpbiBhIGdpdmVuIHNlY29uZC4gSXQgZG9lcyB0aGlzXG4gICAgICAgKiBieSBtZWFzdXJpbmcgdGhlIHRpbWUgYmV0d2VlbiBgckFGYHMgYW5kIGNvbnRpbnVvdXNseSBhZGp1c3RpbmcgdGhlXG4gICAgICAgKiBudW1iZXIgb2YgaXRlbXMgY3JlYXRlZCBlYWNoIGByQUZgIHRvIG1haW50YWluIHRoZSB0YXJnZXQgZnJhbWVyYXRlLlxuICAgICAgICogU2V0dGluZyB0aGlzIHRvIGEgaGlnaGVyIG51bWJlciBhbGxvd3MgbG93ZXIgbGF0ZW5jeSBhbmQgaGlnaGVyXG4gICAgICAgKiB0aHJvdWdocHV0IGZvciBldmVudCBoYW5kbGVycyBhbmQgb3RoZXIgdGFza3MsIGJ1dCByZXN1bHRzIGluIGFcbiAgICAgICAqIGxvbmdlciB0aW1lIGZvciB0aGUgcmVtYWluaW5nIGl0ZW1zIHRvIGNvbXBsZXRlIHJlbmRlcmluZy5cbiAgICAgICAqL1xuICAgICAgdGFyZ2V0RnJhbWVyYXRlOiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgdmFsdWU6IDIwXG4gICAgICB9LFxuXG4gICAgICBfdGFyZ2V0RnJhbWVUaW1lOiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgY29tcHV0ZWQ6ICdfX2NvbXB1dGVGcmFtZVRpbWUodGFyZ2V0RnJhbWVyYXRlKSdcbiAgICAgIH1cblxuICAgIH07XG5cbiAgfVxuXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZXJzKCkge1xuICAgIHJldHVybiBbICdfX2l0ZW1zQ2hhbmdlZChpdGVtcy4qKScgXTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fX2luc3RhbmNlcyA9IFtdO1xuICAgIHRoaXMuX19saW1pdCA9IEluZmluaXR5O1xuICAgIHRoaXMuX19wb29sID0gW107XG4gICAgdGhpcy5fX3JlbmRlckRlYm91bmNlciA9IG51bGw7XG4gICAgdGhpcy5fX2l0ZW1zSWR4VG9JbnN0SWR4ID0ge307XG4gICAgdGhpcy5fX2NodW5rQ291bnQgPSBudWxsO1xuICAgIHRoaXMuX19sYXN0Q2h1bmtUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9fc29ydEZuID0gbnVsbDtcbiAgICB0aGlzLl9fZmlsdGVyRm4gPSBudWxsO1xuICAgIHRoaXMuX19vYnNlcnZlUGF0aHMgPSBudWxsO1xuICAgIC8qKiBAdHlwZSB7P2Z1bmN0aW9uKG5ldzpUZW1wbGF0ZUluc3RhbmNlQmFzZSwgT2JqZWN0PSl9ICovXG4gICAgdGhpcy5fX2N0b3IgPSBudWxsO1xuICAgIHRoaXMuX19pc0RldGFjaGVkID0gdHJ1ZTtcbiAgICB0aGlzLnRlbXBsYXRlID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmRpc2Nvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fX2lzRGV0YWNoZWQgPSB0cnVlO1xuICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9faW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9fZGV0YWNoSW5zdGFuY2UoaSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBpZiAoIWhpZGVFbGVtZW50c0dsb2JhbGx5KCkpIHtcbiAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9XG4gICAgLy8gb25seSBwZXJmb3JtIGF0dGFjaG1lbnQgaWYgdGhlIGVsZW1lbnQgd2FzIHByZXZpb3VzbHkgZGV0YWNoZWQuXG4gICAgaWYgKHRoaXMuX19pc0RldGFjaGVkKSB7XG4gICAgICB0aGlzLl9faXNEZXRhY2hlZCA9IGZhbHNlO1xuICAgICAgbGV0IHdyYXBwZWRQYXJlbnQgPSB3cmFwKHdyYXAodGhpcykucGFyZW50Tm9kZSk7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8dGhpcy5fX2luc3RhbmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLl9fYXR0YWNoSW5zdGFuY2UoaSwgd3JhcHBlZFBhcmVudCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX19lbnN1cmVUZW1wbGF0aXplZCgpIHtcbiAgICAvLyBUZW1wbGF0aXppbmcgKGdlbmVyYXRpbmcgdGhlIGluc3RhbmNlIGNvbnN0cnVjdG9yKSBuZWVkcyB0byB3YWl0XG4gICAgLy8gdW50aWwgcmVhZHksIHNpbmNlIHdvbid0IGhhdmUgaXRzIHRlbXBsYXRlIGNvbnRlbnQgaGFuZGVkIGJhY2sgdG9cbiAgICAvLyBpdCB1bnRpbCB0aGVuXG4gICAgaWYgKCF0aGlzLl9fY3Rvcikge1xuICAgICAgbGV0IHRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZSA9IC8qKiBAdHlwZSB7SFRNTFRlbXBsYXRlRWxlbWVudH0gKi8odGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKTtcbiAgICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgICAgLy8gLy8gV2FpdCB1bnRpbCBjaGlsZExpc3QgY2hhbmdlcyBhbmQgdGVtcGxhdGUgc2hvdWxkIGJlIHRoZXJlIGJ5IHRoZW5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHRoaXMuX19yZW5kZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb20tcmVwZWF0IHJlcXVpcmVzIGEgPHRlbXBsYXRlPiBjaGlsZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGhpcywge2NoaWxkTGlzdDogdHJ1ZX0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUZW1wbGF0ZSBpbnN0YW5jZSBwcm9wcyB0aGF0IHNob3VsZCBiZSBleGNsdWRlZCBmcm9tIGZvcndhcmRpbmdcbiAgICAgIGxldCBpbnN0YW5jZVByb3BzID0ge307XG4gICAgICBpbnN0YW5jZVByb3BzW3RoaXMuYXNdID0gdHJ1ZTtcbiAgICAgIGluc3RhbmNlUHJvcHNbdGhpcy5pbmRleEFzXSA9IHRydWU7XG4gICAgICBpbnN0YW5jZVByb3BzW3RoaXMuaXRlbXNJbmRleEFzXSA9IHRydWU7XG4gICAgICB0aGlzLl9fY3RvciA9IHRlbXBsYXRpemUodGVtcGxhdGUsIHRoaXMsIHtcbiAgICAgICAgbXV0YWJsZURhdGE6IHRoaXMubXV0YWJsZURhdGEsXG4gICAgICAgIHBhcmVudE1vZGVsOiB0cnVlLFxuICAgICAgICBpbnN0YW5jZVByb3BzOiBpbnN0YW5jZVByb3BzLFxuICAgICAgICAvKipcbiAgICAgICAgICogQHRoaXMge0RvbVJlcGVhdH1cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdG8gc2V0XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gc2V0IHByb3BlcnR5IHRvXG4gICAgICAgICAqL1xuICAgICAgICBmb3J3YXJkSG9zdFByb3A6IGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgbGV0IGkkID0gdGhpcy5fX2luc3RhbmNlcztcbiAgICAgICAgICBmb3IgKGxldCBpPTAsIGluc3Q7IChpPGkkLmxlbmd0aCkgJiYgKGluc3Q9aSRbaV0pOyBpKyspIHtcbiAgICAgICAgICAgIGluc3QuZm9yd2FyZEhvc3RQcm9wKHByb3AsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdGhpcyB7RG9tUmVwZWF0fVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gaW5zdCBJbnN0YW5jZSB0byBub3RpZnlcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgdG8gbm90aWZ5XG4gICAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gbm90aWZ5XG4gICAgICAgICAqL1xuICAgICAgICBub3RpZnlJbnN0YW5jZVByb3A6IGZ1bmN0aW9uKGluc3QsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKG1hdGNoZXModGhpcy5hcywgcHJvcCkpIHtcbiAgICAgICAgICAgIGxldCBpZHggPSBpbnN0W3RoaXMuaXRlbXNJbmRleEFzXTtcbiAgICAgICAgICAgIGlmIChwcm9wID09IHRoaXMuYXMpIHtcbiAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpZHhdID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcGF0aCA9IHRyYW5zbGF0ZSh0aGlzLmFzLCBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gLCBwcm9wKTtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5UGF0aChwYXRoLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBfX2dldE1ldGhvZEhvc3QoKSB7XG4gICAgLy8gVGVjaG5pY2FsbHkgdGhpcyBzaG91bGQgYmUgdGhlIG93bmVyIG9mIHRoZSBvdXRlcm1vc3QgdGVtcGxhdGUuXG4gICAgLy8gSW4gc2hhZG93IGRvbSwgdGhpcyBpcyBhbHdheXMgZ2V0Um9vdE5vZGUoKS5ob3N0LCBidXQgd2UgY2FuXG4gICAgLy8gYXBwcm94aW1hdGUgdGhpcyB2aWEgY29vcGVyYXRpb24gd2l0aCBvdXIgZGF0YUhvc3QgYWx3YXlzIHNldHRpbmdcbiAgICAvLyBgX21ldGhvZEhvc3RgIGFzIGxvbmcgYXMgdGhlcmUgd2VyZSBiaW5kaW5ncyAob3IgaWQncykgb24gdGhpc1xuICAgIC8vIGluc3RhbmNlIGNhdXNpbmcgaXQgdG8gZ2V0IGEgZGF0YUhvc3QuXG4gICAgcmV0dXJuIHRoaXMuX19kYXRhSG9zdC5fbWV0aG9kSG9zdCB8fCB0aGlzLl9fZGF0YUhvc3Q7XG4gIH1cblxuICBfX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUoZnVuY3Rpb25Pck1ldGhvZE5hbWUpIHtcbiAgICBpZiAodHlwZW9mIGZ1bmN0aW9uT3JNZXRob2ROYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgbGV0IG1ldGhvZE5hbWUgPSBmdW5jdGlvbk9yTWV0aG9kTmFtZTtcbiAgICAgIGxldCBvYmogPSB0aGlzLl9fZ2V0TWV0aG9kSG9zdCgpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkgeyByZXR1cm4gb2JqW21ldGhvZE5hbWVdLmFwcGx5KG9iaiwgYXJndW1lbnRzKTsgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb25Pck1ldGhvZE5hbWU7XG4gIH1cblxuICBfX3NvcnRDaGFuZ2VkKHNvcnQpIHtcbiAgICB0aGlzLl9fc29ydEZuID0gdGhpcy5fX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUoc29ydCk7XG4gICAgaWYgKHRoaXMuaXRlbXMpIHsgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpOyB9XG4gIH1cblxuICBfX2ZpbHRlckNoYW5nZWQoZmlsdGVyKSB7XG4gICAgdGhpcy5fX2ZpbHRlckZuID0gdGhpcy5fX2Z1bmN0aW9uRnJvbVByb3BlcnR5VmFsdWUoZmlsdGVyKTtcbiAgICBpZiAodGhpcy5pdGVtcykgeyB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlbmRlcik7IH1cbiAgfVxuXG4gIF9fY29tcHV0ZUZyYW1lVGltZShyYXRlKSB7XG4gICAgcmV0dXJuIE1hdGguY2VpbCgxMDAwL3JhdGUpO1xuICB9XG5cbiAgX19pbml0aWFsaXplQ2h1bmtpbmcoKSB7XG4gICAgaWYgKHRoaXMuaW5pdGlhbENvdW50KSB7XG4gICAgICB0aGlzLl9fbGltaXQgPSB0aGlzLmluaXRpYWxDb3VudDtcbiAgICAgIHRoaXMuX19jaHVua0NvdW50ID0gdGhpcy5pbml0aWFsQ291bnQ7XG4gICAgICB0aGlzLl9fbGFzdENodW5rVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIH1cbiAgfVxuXG4gIF9fdHJ5UmVuZGVyQ2h1bmsoKSB7XG4gICAgLy8gRGVib3VuY2VkIHNvIHRoYXQgbXVsdGlwbGUgY2FsbHMgdGhyb3VnaCBgX3JlbmRlcmAgYmV0d2VlbiBhbmltYXRpb25cbiAgICAvLyBmcmFtZXMgb25seSBxdWV1ZSBvbmUgbmV3IHJBRiAoZS5nLiBhcnJheSBtdXRhdGlvbiAmIGNodW5rZWQgcmVuZGVyKVxuICAgIGlmICh0aGlzLml0ZW1zICYmIHRoaXMuX19saW1pdCA8IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlcXVlc3RSZW5kZXJDaHVuayk7XG4gICAgfVxuICB9XG5cbiAgX19yZXF1ZXN0UmVuZGVyQ2h1bmsoKSB7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT50aGlzLl9fcmVuZGVyQ2h1bmsoKSk7XG4gIH1cblxuICBfX3JlbmRlckNodW5rKCkge1xuICAgIC8vIFNpbXBsZSBhdXRvIGNodW5rU2l6ZSB0aHJvdHRsaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBmZWVkYmFjayBsb29wOlxuICAgIC8vIG1lYXN1cmUgYWN0dWFsIHRpbWUgYmV0d2VlbiBmcmFtZXMgYW5kIHNjYWxlIGNodW5rIGNvdW50IGJ5IHJhdGlvXG4gICAgLy8gb2YgdGFyZ2V0L2FjdHVhbCBmcmFtZSB0aW1lXG4gICAgbGV0IGN1cnJDaHVua1RpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBsZXQgcmF0aW8gPSB0aGlzLl90YXJnZXRGcmFtZVRpbWUgLyAoY3VyckNodW5rVGltZSAtIHRoaXMuX19sYXN0Q2h1bmtUaW1lKTtcbiAgICB0aGlzLl9fY2h1bmtDb3VudCA9IE1hdGgucm91bmQodGhpcy5fX2NodW5rQ291bnQgKiByYXRpbykgfHwgMTtcbiAgICB0aGlzLl9fbGltaXQgKz0gdGhpcy5fX2NodW5rQ291bnQ7XG4gICAgdGhpcy5fX2xhc3RDaHVua1RpbWUgPSBjdXJyQ2h1bmtUaW1lO1xuICAgIHRoaXMuX19kZWJvdW5jZVJlbmRlcih0aGlzLl9fcmVuZGVyKTtcbiAgfVxuXG4gIF9fb2JzZXJ2ZUNoYW5nZWQoKSB7XG4gICAgdGhpcy5fX29ic2VydmVQYXRocyA9IHRoaXMub2JzZXJ2ZSAmJlxuICAgICAgdGhpcy5vYnNlcnZlLnJlcGxhY2UoJy4qJywgJy4nKS5zcGxpdCgnICcpO1xuICB9XG5cbiAgX19pdGVtc0NoYW5nZWQoY2hhbmdlKSB7XG4gICAgaWYgKHRoaXMuaXRlbXMgJiYgIUFycmF5LmlzQXJyYXkodGhpcy5pdGVtcykpIHtcbiAgICAgIGNvbnNvbGUud2FybignZG9tLXJlcGVhdCBleHBlY3RlZCBhcnJheSBmb3IgYGl0ZW1zYCwgZm91bmQnLCB0aGlzLml0ZW1zKTtcbiAgICB9XG4gICAgLy8gSWYgcGF0aCB3YXMgdG8gYW4gaXRlbSAoZS5nLiAnaXRlbXMuMycgb3IgJ2l0ZW1zLjMuZm9vJyksIGZvcndhcmQgdGhlXG4gICAgLy8gcGF0aCB0byB0aGF0IGluc3RhbmNlIHN5bmNocm9ub3VzbHkgKHJldHVybnMgZmFsc2UgZm9yIG5vbi1pdGVtIHBhdGhzKVxuICAgIGlmICghdGhpcy5fX2hhbmRsZUl0ZW1QYXRoKGNoYW5nZS5wYXRoLCBjaGFuZ2UudmFsdWUpKSB7XG4gICAgICAvLyBPdGhlcndpc2UsIHRoZSBhcnJheSB3YXMgcmVzZXQgKCdpdGVtcycpIG9yIHNwbGljZWQgKCdpdGVtcy5zcGxpY2VzJyksXG4gICAgICAvLyBzbyBxdWV1ZSBhIGZ1bGwgcmVmcmVzaFxuICAgICAgdGhpcy5fX2luaXRpYWxpemVDaHVua2luZygpO1xuICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpO1xuICAgIH1cbiAgfVxuXG4gIF9faGFuZGxlT2JzZXJ2ZWRQYXRocyhwYXRoKSB7XG4gICAgLy8gSGFuZGxlIGNhc2VzIHdoZXJlIHBhdGggY2hhbmdlcyBzaG91bGQgY2F1c2UgYSByZS1zb3J0L2ZpbHRlclxuICAgIGlmICh0aGlzLl9fc29ydEZuIHx8IHRoaXMuX19maWx0ZXJGbikge1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIC8vIEFsd2F5cyByZS1yZW5kZXIgaWYgdGhlIGl0ZW0gaXRzZWxmIGNoYW5nZWRcbiAgICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIsIHRoaXMuZGVsYXkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLl9fb2JzZXJ2ZVBhdGhzKSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgcmUtcmVuZGVyIGlmIHRoZSBwYXRoIGNoYW5nZWQgbWF0Y2hlcyBhbiBvYnNlcnZlZCBwYXRoXG4gICAgICAgIGxldCBwYXRocyA9IHRoaXMuX19vYnNlcnZlUGF0aHM7XG4gICAgICAgIGZvciAobGV0IGk9MDsgaTxwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChwYXRoLmluZGV4T2YocGF0aHNbaV0pID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9fZGVib3VuY2VSZW5kZXIodGhpcy5fX3JlbmRlciwgdGhpcy5kZWxheSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpEb21SZXBlYXQpfSBmbiBGdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICogQHBhcmFtIHtudW1iZXI9fSBkZWxheSBEZWxheSBpbiBtcyB0byBkZWJvdW5jZSBieS5cbiAgICovXG4gIF9fZGVib3VuY2VSZW5kZXIoZm4sIGRlbGF5ID0gMCkge1xuICAgIHRoaXMuX19yZW5kZXJEZWJvdW5jZXIgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgICAgdGhpcy5fX3JlbmRlckRlYm91bmNlclxuICAgICAgICAsIGRlbGF5ID4gMCA/IHRpbWVPdXQuYWZ0ZXIoZGVsYXkpIDogbWljcm9UYXNrXG4gICAgICAgICwgZm4uYmluZCh0aGlzKSk7XG4gICAgZW5xdWV1ZURlYm91bmNlcih0aGlzLl9fcmVuZGVyRGVib3VuY2VyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JjZXMgdGhlIGVsZW1lbnQgdG8gcmVuZGVyIGl0cyBjb250ZW50LiBOb3JtYWxseSByZW5kZXJpbmcgaXNcbiAgICogYXN5bmNocm9ub3VzIHRvIGEgcHJvdm9raW5nIGNoYW5nZS4gVGhpcyBpcyBkb25lIGZvciBlZmZpY2llbmN5IHNvXG4gICAqIHRoYXQgbXVsdGlwbGUgY2hhbmdlcyB0cmlnZ2VyIG9ubHkgYSBzaW5nbGUgcmVuZGVyLiBUaGUgcmVuZGVyIG1ldGhvZFxuICAgKiBzaG91bGQgYmUgY2FsbGVkIGlmLCBmb3IgZXhhbXBsZSwgdGVtcGxhdGUgcmVuZGVyaW5nIGlzIHJlcXVpcmVkIHRvXG4gICAqIHZhbGlkYXRlIGFwcGxpY2F0aW9uIHN0YXRlLlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgcmVuZGVyKCkge1xuICAgIC8vIFF1ZXVlIHRoaXMgcmVwZWF0ZXIsIHRoZW4gZmx1c2ggYWxsIGluIG9yZGVyXG4gICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKHRoaXMuX19yZW5kZXIpO1xuICAgIGZsdXNoKCk7XG4gIH1cblxuICBfX3JlbmRlcigpIHtcbiAgICBpZiAoIXRoaXMuX19lbnN1cmVUZW1wbGF0aXplZCgpKSB7XG4gICAgICAvLyBObyB0ZW1wbGF0ZSBmb3VuZCB5ZXRcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fX2FwcGx5RnVsbFJlZnJlc2goKTtcbiAgICAvLyBSZXNldCB0aGUgcG9vbFxuICAgIC8vIFRPRE8oa3NjaGFhZik6IFJldXNlIHBvb2wgYWNyb3NzIHR1cm5zIGFuZCBuZXN0ZWQgdGVtcGxhdGVzXG4gICAgLy8gTm93IHRoYXQgb2JqZWN0cy9hcnJheXMgYXJlIHJlLWV2YWx1YXRlZCB3aGVuIHNldCwgd2UgY2FuIHNhZmVseVxuICAgIC8vIHJldXNlIHBvb2xlZCBpbnN0YW5jZXMgYWNyb3NzIHR1cm5zLCBob3dldmVyIHdlIHN0aWxsIG5lZWQgdG8gZGVjaWRlXG4gICAgLy8gc2VtYW50aWNzIHJlZ2FyZGluZyBob3cgbG9uZyB0byBob2xkLCBob3cgbWFueSB0byBob2xkLCBldGMuXG4gICAgdGhpcy5fX3Bvb2wubGVuZ3RoID0gMDtcbiAgICAvLyBTZXQgcmVuZGVyZWQgaXRlbSBjb3VudFxuICAgIHRoaXMuX3NldFJlbmRlcmVkSXRlbUNvdW50KHRoaXMuX19pbnN0YW5jZXMubGVuZ3RoKTtcbiAgICAvLyBOb3RpZnkgdXNlcnNcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdkb20tY2hhbmdlJywge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgfSkpO1xuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBuZWVkIHRvIHJlbmRlciBtb3JlIGl0ZW1zXG4gICAgdGhpcy5fX3RyeVJlbmRlckNodW5rKCk7XG4gIH1cblxuICBfX2FwcGx5RnVsbFJlZnJlc2goKSB7XG4gICAgbGV0IGl0ZW1zID0gdGhpcy5pdGVtcyB8fCBbXTtcbiAgICBsZXQgaXNudElkeFRvSXRlbXNJZHggPSBuZXcgQXJyYXkoaXRlbXMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpPTA7IGk8aXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlzbnRJZHhUb0l0ZW1zSWR4W2ldID0gaTtcbiAgICB9XG4gICAgLy8gQXBwbHkgdXNlciBmaWx0ZXJcbiAgICBpZiAodGhpcy5fX2ZpbHRlckZuKSB7XG4gICAgICBpc250SWR4VG9JdGVtc0lkeCA9IGlzbnRJZHhUb0l0ZW1zSWR4LmZpbHRlcigoaSwgaWR4LCBhcnJheSkgPT5cbiAgICAgICAgdGhpcy5fX2ZpbHRlckZuKGl0ZW1zW2ldLCBpZHgsIGFycmF5KSk7XG4gICAgfVxuICAgIC8vIEFwcGx5IHVzZXIgc29ydFxuICAgIGlmICh0aGlzLl9fc29ydEZuKSB7XG4gICAgICBpc250SWR4VG9JdGVtc0lkeC5zb3J0KChhLCBiKSA9PiB0aGlzLl9fc29ydEZuKGl0ZW1zW2FdLCBpdGVtc1tiXSkpO1xuICAgIH1cbiAgICAvLyBpdGVtcy0+aW5zdCBtYXAga2VwdCBmb3IgaXRlbSBwYXRoIGZvcndhcmRpbmdcbiAgICBjb25zdCBpdGVtc0lkeFRvSW5zdElkeCA9IHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeCA9IHt9O1xuICAgIGxldCBpbnN0SWR4ID0gMDtcbiAgICAvLyBHZW5lcmF0ZSBpbnN0YW5jZXMgYW5kIGFzc2lnbiBpdGVtc1xuICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4oaXNudElkeFRvSXRlbXNJZHgubGVuZ3RoLCB0aGlzLl9fbGltaXQpO1xuICAgIGZvciAoOyBpbnN0SWR4PGxpbWl0OyBpbnN0SWR4KyspIHtcbiAgICAgIGxldCBpbnN0ID0gdGhpcy5fX2luc3RhbmNlc1tpbnN0SWR4XTtcbiAgICAgIGxldCBpdGVtSWR4ID0gaXNudElkeFRvSXRlbXNJZHhbaW5zdElkeF07XG4gICAgICBsZXQgaXRlbSA9IGl0ZW1zW2l0ZW1JZHhdO1xuICAgICAgaXRlbXNJZHhUb0luc3RJZHhbaXRlbUlkeF0gPSBpbnN0SWR4O1xuICAgICAgaWYgKGluc3QpIHtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuYXMsIGl0ZW0pO1xuICAgICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5pbmRleEFzLCBpbnN0SWR4KTtcbiAgICAgICAgaW5zdC5fc2V0UGVuZGluZ1Byb3BlcnR5KHRoaXMuaXRlbXNJbmRleEFzLCBpdGVtSWR4KTtcbiAgICAgICAgaW5zdC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9faW5zZXJ0SW5zdGFuY2UoaXRlbSwgaW5zdElkeCwgaXRlbUlkeCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFJlbW92ZSBhbnkgZXh0cmEgaW5zdGFuY2VzIGZyb20gcHJldmlvdXMgc3RhdGVcbiAgICBmb3IgKGxldCBpPXRoaXMuX19pbnN0YW5jZXMubGVuZ3RoLTE7IGk+PWluc3RJZHg7IGktLSkge1xuICAgICAgdGhpcy5fX2RldGFjaEFuZFJlbW92ZUluc3RhbmNlKGkpO1xuICAgIH1cbiAgfVxuXG4gIF9fZGV0YWNoSW5zdGFuY2UoaWR4KSB7XG4gICAgbGV0IGluc3QgPSB0aGlzLl9faW5zdGFuY2VzW2lkeF07XG4gICAgY29uc3Qgd3JhcHBlZFJvb3QgPSB3cmFwKGluc3Qucm9vdCk7XG4gICAgZm9yIChsZXQgaT0wOyBpPGluc3QuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBlbCA9IGluc3QuY2hpbGRyZW5baV07XG4gICAgICB3cmFwcGVkUm9vdC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0O1xuICB9XG5cbiAgX19hdHRhY2hJbnN0YW5jZShpZHgsIHBhcmVudCkge1xuICAgIGxldCBpbnN0ID0gdGhpcy5fX2luc3RhbmNlc1tpZHhdO1xuICAgIC8vIE5vdGUsIHRoaXMgaXMgcHJlLXdyYXBwZWQgYXMgYW4gb3B0aW1pemF0aW9uXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShpbnN0LnJvb3QsIHRoaXMpO1xuICB9XG5cbiAgX19kZXRhY2hBbmRSZW1vdmVJbnN0YW5jZShpZHgpIHtcbiAgICBsZXQgaW5zdCA9IHRoaXMuX19kZXRhY2hJbnN0YW5jZShpZHgpO1xuICAgIGlmIChpbnN0KSB7XG4gICAgICB0aGlzLl9fcG9vbC5wdXNoKGluc3QpO1xuICAgIH1cbiAgICB0aGlzLl9faW5zdGFuY2VzLnNwbGljZShpZHgsIDEpO1xuICB9XG5cbiAgX19zdGFtcEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpIHtcbiAgICBsZXQgbW9kZWwgPSB7fTtcbiAgICBtb2RlbFt0aGlzLmFzXSA9IGl0ZW07XG4gICAgbW9kZWxbdGhpcy5pbmRleEFzXSA9IGluc3RJZHg7XG4gICAgbW9kZWxbdGhpcy5pdGVtc0luZGV4QXNdID0gaXRlbUlkeDtcbiAgICByZXR1cm4gbmV3IHRoaXMuX19jdG9yKG1vZGVsKTtcbiAgfVxuXG4gIF9faW5zZXJ0SW5zdGFuY2UoaXRlbSwgaW5zdElkeCwgaXRlbUlkeCkge1xuICAgIGxldCBpbnN0ID0gdGhpcy5fX3Bvb2wucG9wKCk7XG4gICAgaWYgKGluc3QpIHtcbiAgICAgIC8vIFRPRE8oa3NjaGFhZik6IElmIHRoZSBwb29sIGlzIHNoYXJlZCBhY3Jvc3MgdHVybnMsIGhvc3RQcm9wc1xuICAgICAgLy8gbmVlZCB0byBiZSByZS1zZXQgdG8gcmV1c2VkIGluc3RhbmNlcyBpbiBhZGRpdGlvbiB0byBpdGVtXG4gICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5hcywgaXRlbSk7XG4gICAgICBpbnN0Ll9zZXRQZW5kaW5nUHJvcGVydHkodGhpcy5pbmRleEFzLCBpbnN0SWR4KTtcbiAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eSh0aGlzLml0ZW1zSW5kZXhBcywgaXRlbUlkeCk7XG4gICAgICBpbnN0Ll9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdCA9IHRoaXMuX19zdGFtcEluc3RhbmNlKGl0ZW0sIGluc3RJZHgsIGl0ZW1JZHgpO1xuICAgIH1cbiAgICBsZXQgYmVmb3JlUm93ID0gdGhpcy5fX2luc3RhbmNlc1tpbnN0SWR4ICsgMV07XG4gICAgbGV0IGJlZm9yZU5vZGUgPSBiZWZvcmVSb3cgPyBiZWZvcmVSb3cuY2hpbGRyZW5bMF0gOiB0aGlzO1xuICAgIHdyYXAod3JhcCh0aGlzKS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoaW5zdC5yb290LCBiZWZvcmVOb2RlKTtcbiAgICB0aGlzLl9faW5zdGFuY2VzW2luc3RJZHhdID0gaW5zdDtcbiAgICByZXR1cm4gaW5zdDtcbiAgfVxuXG4gIC8vIEltcGxlbWVudHMgZXh0ZW5zaW9uIHBvaW50IGZyb20gVGVtcGxhdGl6ZSBtaXhpblxuICAvKipcbiAgICogU2hvd3Mgb3IgaGlkZXMgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRvcCBsZXZlbCBjaGlsZCBlbGVtZW50cy4gRm9yXG4gICAqIHRleHQgbm9kZXMsIGB0ZXh0Q29udGVudGAgaXMgcmVtb3ZlZCB3aGlsZSBcImhpZGRlblwiIGFuZCByZXBsYWNlZCB3aGVuXG4gICAqIFwic2hvd24uXCJcbiAgICogQHBhcmFtIHtib29sZWFufSBoaWRkZW4gU2V0IHRvIHRydWUgdG8gaGlkZSB0aGUgY2hpbGRyZW47XG4gICAqIHNldCB0byBmYWxzZSB0byBzaG93IHRoZW0uXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIF9zaG93SGlkZUNoaWxkcmVuKGhpZGRlbikge1xuICAgIGZvciAobGV0IGk9MDsgaTx0aGlzLl9faW5zdGFuY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9faW5zdGFuY2VzW2ldLl9zaG93SGlkZUNoaWxkcmVuKGhpZGRlbik7XG4gICAgfVxuICB9XG5cbiAgLy8gQ2FsbGVkIGFzIGEgc2lkZSBlZmZlY3Qgb2YgYSBob3N0IGl0ZW1zLjxrZXk+LjxwYXRoPiBwYXRoIGNoYW5nZSxcbiAgLy8gcmVzcG9uc2libGUgZm9yIG5vdGlmeWluZyBpdGVtLjxwYXRoPiBjaGFuZ2VzIHRvIGluc3QgZm9yIGtleVxuICBfX2hhbmRsZUl0ZW1QYXRoKHBhdGgsIHZhbHVlKSB7XG4gICAgbGV0IGl0ZW1zUGF0aCA9IHBhdGguc2xpY2UoNik7IC8vICdpdGVtcy4nLmxlbmd0aCA9PSA2XG4gICAgbGV0IGRvdCA9IGl0ZW1zUGF0aC5pbmRleE9mKCcuJyk7XG4gICAgbGV0IGl0ZW1zSWR4ID0gZG90IDwgMCA/IGl0ZW1zUGF0aCA6IGl0ZW1zUGF0aC5zdWJzdHJpbmcoMCwgZG90KTtcbiAgICAvLyBJZiBwYXRoIHdhcyBpbmRleCBpbnRvIGFycmF5Li4uXG4gICAgaWYgKGl0ZW1zSWR4ID09IHBhcnNlSW50KGl0ZW1zSWR4LCAxMCkpIHtcbiAgICAgIGxldCBpdGVtU3ViUGF0aCA9IGRvdCA8IDAgPyAnJyA6IGl0ZW1zUGF0aC5zdWJzdHJpbmcoZG90KzEpO1xuICAgICAgLy8gSWYgdGhlIHBhdGggaXMgb2JzZXJ2ZWQsIGl0IHdpbGwgdHJpZ2dlciBhIGZ1bGwgcmVmcmVzaFxuICAgICAgdGhpcy5fX2hhbmRsZU9ic2VydmVkUGF0aHMoaXRlbVN1YlBhdGgpO1xuICAgICAgLy8gTm90ZSwgZXZlbiBpZiBhIHJ1bGwgcmVmcmVzaCBpcyB0cmlnZ2VyZWQsIGFsd2F5cyBkbyB0aGUgcGF0aFxuICAgICAgLy8gbm90aWZpY2F0aW9uIGJlY2F1c2UgdW5sZXNzIG11dGFibGVEYXRhIGlzIHVzZWQgZm9yIGRvbS1yZXBlYXRcbiAgICAgIC8vIGFuZCBhbGwgZWxlbWVudHMgaW4gdGhlIGluc3RhbmNlIHN1YnRyZWUsIGEgZnVsbCByZWZyZXNoIG1heVxuICAgICAgLy8gbm90IHRyaWdnZXIgdGhlIHByb3BlciB1cGRhdGUuXG4gICAgICBsZXQgaW5zdElkeCA9IHRoaXMuX19pdGVtc0lkeFRvSW5zdElkeFtpdGVtc0lkeF07XG4gICAgICBsZXQgaW5zdCA9IHRoaXMuX19pbnN0YW5jZXNbaW5zdElkeF07XG4gICAgICBpZiAoaW5zdCkge1xuICAgICAgICBsZXQgaXRlbVBhdGggPSB0aGlzLmFzICsgKGl0ZW1TdWJQYXRoID8gJy4nICsgaXRlbVN1YlBhdGggOiAnJyk7XG4gICAgICAgIC8vIFRoaXMgaXMgZWZmZWN0aXZlbHkgYG5vdGlmeVBhdGhgLCBidXQgYXZvaWRzIHNvbWUgb2YgdGhlIG92ZXJoZWFkXG4gICAgICAgIC8vIG9mIHRoZSBwdWJsaWMgQVBJXG4gICAgICAgIGluc3QuX3NldFBlbmRpbmdQcm9wZXJ0eU9yUGF0aChpdGVtUGF0aCwgdmFsdWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgaW5zdC5fZmx1c2hQcm9wZXJ0aWVzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlbSBhc3NvY2lhdGVkIHdpdGggYSBnaXZlbiBlbGVtZW50IHN0YW1wZWQgYnlcbiAgICogdGhpcyBgZG9tLXJlcGVhdGAuXG4gICAqXG4gICAqIE5vdGUsIHRvIG1vZGlmeSBzdWItcHJvcGVydGllcyBvZiB0aGUgaXRlbSxcbiAgICogYG1vZGVsRm9yRWxlbWVudChlbCkuc2V0KCdpdGVtLjxzdWItcHJvcD4nLCB2YWx1ZSlgXG4gICAqIHNob3VsZCBiZSB1c2VkLlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gZWwgRWxlbWVudCBmb3Igd2hpY2ggdG8gcmV0dXJuIHRoZSBpdGVtLlxuICAgKiBAcmV0dXJuIHsqfSBJdGVtIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudC5cbiAgICovXG4gIGl0ZW1Gb3JFbGVtZW50KGVsKSB7XG4gICAgbGV0IGluc3RhbmNlID0gdGhpcy5tb2RlbEZvckVsZW1lbnQoZWwpO1xuICAgIHJldHVybiBpbnN0YW5jZSAmJiBpbnN0YW5jZVt0aGlzLmFzXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbnN0IGluZGV4IGZvciBhIGdpdmVuIGVsZW1lbnQgc3RhbXBlZCBieSB0aGlzIGBkb20tcmVwZWF0YC5cbiAgICogSWYgYHNvcnRgIGlzIHByb3ZpZGVkLCB0aGUgaW5kZXggd2lsbCByZWZsZWN0IHRoZSBzb3J0ZWQgb3JkZXIgKHJhdGhlclxuICAgKiB0aGFuIHRoZSBvcmlnaW5hbCBhcnJheSBvcmRlcikuXG4gICAqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbCBFbGVtZW50IGZvciB3aGljaCB0byByZXR1cm4gdGhlIGluZGV4LlxuICAgKiBAcmV0dXJuIHs/bnVtYmVyfSBSb3cgaW5kZXggYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50IChub3RlIHRoaXMgbWF5XG4gICAqICAgbm90IGNvcnJlc3BvbmQgdG8gdGhlIGFycmF5IGluZGV4IGlmIGEgdXNlciBgc29ydGAgaXMgYXBwbGllZCkuXG4gICAqL1xuICBpbmRleEZvckVsZW1lbnQoZWwpIHtcbiAgICBsZXQgaW5zdGFuY2UgPSB0aGlzLm1vZGVsRm9yRWxlbWVudChlbCk7XG4gICAgcmV0dXJuIGluc3RhbmNlICYmIGluc3RhbmNlW3RoaXMuaW5kZXhBc107XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgdGVtcGxhdGUgXCJtb2RlbFwiIGFzc29jaWF0ZWQgd2l0aCBhIGdpdmVuIGVsZW1lbnQsIHdoaWNoXG4gICAqIHNlcnZlcyBhcyB0aGUgYmluZGluZyBzY29wZSBmb3IgdGhlIHRlbXBsYXRlIGluc3RhbmNlIHRoZSBlbGVtZW50IGlzXG4gICAqIGNvbnRhaW5lZCBpbi4gQSB0ZW1wbGF0ZSBtb2RlbFxuICAgKiBzaG91bGQgYmUgdXNlZCB0byBtYW5pcHVsYXRlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGVtcGxhdGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEV4YW1wbGU6XG4gICAqXG4gICAqICAgbGV0IG1vZGVsID0gbW9kZWxGb3JFbGVtZW50KGVsKTtcbiAgICogICBpZiAobW9kZWwuaW5kZXggPCAxMCkge1xuICAgKiAgICAgbW9kZWwuc2V0KCdpdGVtLmNoZWNrZWQnLCB0cnVlKTtcbiAgICogICB9XG4gICAqXG4gICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSBlbCBFbGVtZW50IGZvciB3aGljaCB0byByZXR1cm4gYSB0ZW1wbGF0ZSBtb2RlbC5cbiAgICogQHJldHVybiB7VGVtcGxhdGVJbnN0YW5jZUJhc2V9IE1vZGVsIHJlcHJlc2VudGluZyB0aGUgYmluZGluZyBzY29wZSBmb3JcbiAgICogICB0aGUgZWxlbWVudC5cbiAgICovXG4gIG1vZGVsRm9yRWxlbWVudChlbCkge1xuICAgIHJldHVybiBtb2RlbEZvckVsZW1lbnQodGhpcy50ZW1wbGF0ZSwgZWwpO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKERvbVJlcGVhdC5pcywgRG9tUmVwZWF0KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJy4uLy4uL3BvbHltZXItZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7IHRlbXBsYXRpemUgfSBmcm9tICcuLi91dGlscy90ZW1wbGF0aXplLmpzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJy4uL3V0aWxzL2RlYm91bmNlLmpzJztcbmltcG9ydCB7IGVucXVldWVEZWJvdW5jZXIsIGZsdXNoIH0gZnJvbSAnLi4vdXRpbHMvZmx1c2guanMnO1xuaW1wb3J0IHsgbWljcm9UYXNrIH0gZnJvbSAnLi4vdXRpbHMvYXN5bmMuanMnO1xuaW1wb3J0IHsgcm9vdCB9IGZyb20gJy4uL3V0aWxzL3BhdGguanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4uL3V0aWxzL3dyYXAuanMnO1xuaW1wb3J0IHsgaGlkZUVsZW1lbnRzR2xvYmFsbHkgfSBmcm9tICcuLi91dGlscy9oaWRlLXRlbXBsYXRlLWNvbnRyb2xzLmpzJztcblxuLyoqXG4gKiBUaGUgYDxkb20taWY+YCBlbGVtZW50IHdpbGwgc3RhbXAgYSBsaWdodC1kb20gYDx0ZW1wbGF0ZT5gIGNoaWxkIHdoZW5cbiAqIHRoZSBgaWZgIHByb3BlcnR5IGJlY29tZXMgdHJ1dGh5LCBhbmQgdGhlIHRlbXBsYXRlIGNhbiB1c2UgUG9seW1lclxuICogZGF0YS1iaW5kaW5nIGFuZCBkZWNsYXJhdGl2ZSBldmVudCBmZWF0dXJlcyB3aGVuIHVzZWQgaW4gdGhlIGNvbnRleHQgb2ZcbiAqIGEgUG9seW1lciBlbGVtZW50J3MgdGVtcGxhdGUuXG4gKlxuICogV2hlbiBgaWZgIGJlY29tZXMgZmFsc3ksIHRoZSBzdGFtcGVkIGNvbnRlbnQgaXMgaGlkZGVuIGJ1dCBub3RcbiAqIHJlbW92ZWQgZnJvbSBkb20uIFdoZW4gYGlmYCBzdWJzZXF1ZW50bHkgYmVjb21lcyB0cnV0aHkgYWdhaW4sIHRoZSBjb250ZW50XG4gKiBpcyBzaW1wbHkgcmUtc2hvd24uIFRoaXMgYXBwcm9hY2ggaXMgdXNlZCBkdWUgdG8gaXRzIGZhdm9yYWJsZSBwZXJmb3JtYW5jZVxuICogY2hhcmFjdGVyaXN0aWNzOiB0aGUgZXhwZW5zZSBvZiBjcmVhdGluZyB0ZW1wbGF0ZSBjb250ZW50IGlzIHBhaWQgb25seVxuICogb25jZSBhbmQgbGF6aWx5LlxuICpcbiAqIFNldCB0aGUgYHJlc3RhbXBgIHByb3BlcnR5IHRvIHRydWUgdG8gZm9yY2UgdGhlIHN0YW1wZWQgY29udGVudCB0byBiZVxuICogY3JlYXRlZCAvIGRlc3Ryb3llZCB3aGVuIHRoZSBgaWZgIGNvbmRpdGlvbiBjaGFuZ2VzLlxuICpcbiAqIEBjdXN0b21FbGVtZW50XG4gKiBAcG9seW1lclxuICogQGV4dGVuZHMgUG9seW1lckVsZW1lbnRcbiAqIEBzdW1tYXJ5IEN1c3RvbSBlbGVtZW50IHRoYXQgY29uZGl0aW9uYWxseSBzdGFtcHMgYW5kIGhpZGVzIG9yIHJlbW92ZXNcbiAqICAgdGVtcGxhdGUgY29udGVudCBiYXNlZCBvbiBhIGJvb2xlYW4gZmxhZy5cbiAqL1xuZXhwb3J0IGNsYXNzIERvbUlmIGV4dGVuZHMgUG9seW1lckVsZW1lbnQge1xuXG4gIC8vIE5vdCBuZWVkZWQgdG8gZmluZCB0ZW1wbGF0ZTsgY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgYW5hbHl6ZXJcbiAgLy8gY2FuIGZpbmQgdGhlIHRhZyBuYW1lIGZyb20gY3VzdG9tRWxlbWVudHMuZGVmaW5lIGNhbGxcbiAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdkb20taWYnOyB9XG5cbiAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHsgcmV0dXJuIG51bGw7IH1cblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG5cbiAgICByZXR1cm4ge1xuXG4gICAgICAvKipcbiAgICAgICAqIEZpcmVkIHdoZW5ldmVyIERPTSBpcyBhZGRlZCBvciByZW1vdmVkL2hpZGRlbiBieSB0aGlzIHRlbXBsYXRlIChieVxuICAgICAgICogZGVmYXVsdCwgcmVuZGVyaW5nIG9jY3VycyBsYXppbHkpLiAgVG8gZm9yY2UgaW1tZWRpYXRlIHJlbmRlcmluZywgY2FsbFxuICAgICAgICogYHJlbmRlcmAuXG4gICAgICAgKlxuICAgICAgICogQGV2ZW50IGRvbS1jaGFuZ2VcbiAgICAgICAqL1xuXG4gICAgICAvKipcbiAgICAgICAqIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyB0ZW1wbGF0ZSBzaG91bGQgc3RhbXAuXG4gICAgICAgKi9cbiAgICAgIGlmOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG9ic2VydmVyOiAnX19kZWJvdW5jZVJlbmRlcidcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB0cnVlLCBlbGVtZW50cyB3aWxsIGJlIHJlbW92ZWQgZnJvbSBET00gYW5kIGRpc2NhcmRlZCB3aGVuIGBpZmBcbiAgICAgICAqIGJlY29tZXMgZmFsc2UgYW5kIHJlLWNyZWF0ZWQgYW5kIGFkZGVkIGJhY2sgdG8gdGhlIERPTSB3aGVuIGBpZmBcbiAgICAgICAqIGJlY29tZXMgdHJ1ZS4gIEJ5IGRlZmF1bHQsIHN0YW1wZWQgZWxlbWVudHMgd2lsbCBiZSBoaWRkZW4gYnV0IGxlZnRcbiAgICAgICAqIGluIHRoZSBET00gd2hlbiBgaWZgIGJlY29tZXMgZmFsc2UsIHdoaWNoIGlzIGdlbmVyYWxseSByZXN1bHRzXG4gICAgICAgKiBpbiBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICAgKi9cbiAgICAgIHJlc3RhbXA6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgb2JzZXJ2ZXI6ICdfX2RlYm91bmNlUmVuZGVyJ1xuICAgICAgfVxuXG4gICAgfTtcblxuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9fcmVuZGVyRGVib3VuY2VyID0gbnVsbDtcbiAgICB0aGlzLl9faW52YWxpZFByb3BzID0gbnVsbDtcbiAgICB0aGlzLl9faW5zdGFuY2UgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RJZiA9IGZhbHNlO1xuICAgIHRoaXMuX19jdG9yID0gbnVsbDtcbiAgICB0aGlzLl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyA9IGZhbHNlO1xuICB9XG5cbiAgX19kZWJvdW5jZVJlbmRlcigpIHtcbiAgICAvLyBSZW5kZXIgaXMgYXN5bmMgZm9yIDIgcmVhc29uczpcbiAgICAvLyAxLiBUbyBlbGltaW5hdGUgZG9tIGNyZWF0aW9uIHRyYXNoaW5nIGlmIHVzZXIgY29kZSB0aHJhc2hlcyBgaWZgIGluIHRoZVxuICAgIC8vICAgIHNhbWUgdHVybi4gVGhpcyB3YXMgbW9yZSBjb21tb24gaW4gMS54IHdoZXJlIGEgY29tcG91bmQgY29tcHV0ZWRcbiAgICAvLyAgICBwcm9wZXJ0eSBjb3VsZCByZXN1bHQgaW4gdGhlIHJlc3VsdCBjaGFuZ2luZyBtdWx0aXBsZSB0aW1lcywgYnV0IGlzXG4gICAgLy8gICAgbWl0aWdhdGVkIHRvIGEgbGFyZ2UgZXh0ZW50IGJ5IGJhdGNoZWQgcHJvcGVydHkgcHJvY2Vzc2luZyBpbiAyLnguXG4gICAgLy8gMi4gVG8gYXZvaWQgZG91YmxlIG9iamVjdCBwcm9wYWdhdGlvbiB3aGVuIGEgYmFnIGluY2x1ZGluZyB2YWx1ZXMgYm91bmRcbiAgICAvLyAgICB0byB0aGUgYGlmYCBwcm9wZXJ0eSBhcyB3ZWxsIGFzIG9uZSBvciBtb3JlIGhvc3RQcm9wcyBjb3VsZCBlbnF1ZXVlXG4gICAgLy8gICAgdGhlIDxkb20taWY+IHRvIGZsdXNoIGJlZm9yZSB0aGUgPHRlbXBsYXRlPidzIGhvc3QgcHJvcGVydHlcbiAgICAvLyAgICBmb3J3YXJkaW5nLiBJbiB0aGF0IHNjZW5hcmlvIGNyZWF0aW5nIGFuIGluc3RhbmNlIHdvdWxkIHJlc3VsdCBpblxuICAgIC8vICAgIHRoZSBob3N0IHByb3BzIGJlaW5nIHNldCBvbmNlLCBhbmQgdGhlbiB0aGUgZW5xdWV1ZWQgY2hhbmdlcyBvbiB0aGVcbiAgICAvLyAgICB0ZW1wbGF0ZSB3b3VsZCBzZXQgcHJvcGVydGllcyBhIHNlY29uZCB0aW1lLCBwb3RlbnRpYWxseSBjYXVzaW5nIGFuXG4gICAgLy8gICAgb2JqZWN0IHRvIGJlIHNldCB0byBhbiBpbnN0YW5jZSBtb3JlIHRoYW4gb25jZS4gIENyZWF0aW5nIHRoZVxuICAgIC8vICAgIGluc3RhbmNlIGFzeW5jIGZyb20gZmx1c2hpbmcgZGF0YSBlbnN1cmVzIHRoaXMgZG9lc24ndCBoYXBwZW4uIElmXG4gICAgLy8gICAgd2Ugd2FudGVkIGEgc3luYyBvcHRpb24gaW4gdGhlIGZ1dHVyZSwgc2ltcGx5IGhhdmluZyA8ZG9tLWlmPiBmbHVzaFxuICAgIC8vICAgIChvciBjbGVhcikgaXRzIHRlbXBsYXRlJ3MgcGVuZGluZyBob3N0IHByb3BlcnRpZXMgYmVmb3JlIGNyZWF0aW5nXG4gICAgLy8gICAgdGhlIGluc3RhbmNlIHdvdWxkIGFsc28gYXZvaWQgdGhlIHByb2JsZW0uXG4gICAgdGhpcy5fX3JlbmRlckRlYm91bmNlciA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgICAgICB0aGlzLl9fcmVuZGVyRGVib3VuY2VyXG4gICAgICAgICwgbWljcm9UYXNrXG4gICAgICAgICwgKCkgPT4gdGhpcy5fX3JlbmRlcigpKTtcbiAgICBlbnF1ZXVlRGVib3VuY2VyKHRoaXMuX19yZW5kZXJEZWJvdW5jZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBvdmVycmlkZVxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcbiAgICBjb25zdCBwYXJlbnQgPSB3cmFwKHRoaXMpLnBhcmVudE5vZGU7XG4gICAgaWYgKCFwYXJlbnQgfHwgKHBhcmVudC5ub2RlVHlwZSA9PSBOb2RlLkRPQ1VNRU5UX0ZSQUdNRU5UX05PREUgJiZcbiAgICAgICAgIXdyYXAocGFyZW50KS5ob3N0KSkge1xuICAgICAgdGhpcy5fX3RlYXJkb3duSW5zdGFuY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQG92ZXJyaWRlXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5jb25uZWN0ZWRDYWxsYmFjaygpO1xuICAgIGlmICghaGlkZUVsZW1lbnRzR2xvYmFsbHkoKSkge1xuICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZikge1xuICAgICAgdGhpcy5fX2RlYm91bmNlUmVuZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlcyB0aGUgZWxlbWVudCB0byByZW5kZXIgaXRzIGNvbnRlbnQuIE5vcm1hbGx5IHJlbmRlcmluZyBpc1xuICAgKiBhc3luY2hyb25vdXMgdG8gYSBwcm92b2tpbmcgY2hhbmdlLiBUaGlzIGlzIGRvbmUgZm9yIGVmZmljaWVuY3kgc29cbiAgICogdGhhdCBtdWx0aXBsZSBjaGFuZ2VzIHRyaWdnZXIgb25seSBhIHNpbmdsZSByZW5kZXIuIFRoZSByZW5kZXIgbWV0aG9kXG4gICAqIHNob3VsZCBiZSBjYWxsZWQgaWYsIGZvciBleGFtcGxlLCB0ZW1wbGF0ZSByZW5kZXJpbmcgaXMgcmVxdWlyZWQgdG9cbiAgICogdmFsaWRhdGUgYXBwbGljYXRpb24gc3RhdGUuXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgZmx1c2goKTtcbiAgfVxuXG4gIF9fcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLmlmKSB7XG4gICAgICBpZiAoIXRoaXMuX19lbnN1cmVJbnN0YW5jZSgpKSB7XG4gICAgICAgIC8vIE5vIHRlbXBsYXRlIGZvdW5kIHlldFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9zaG93SGlkZUNoaWxkcmVuKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnJlc3RhbXApIHtcbiAgICAgIHRoaXMuX190ZWFyZG93bkluc3RhbmNlKCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5yZXN0YW1wICYmIHRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgdGhpcy5fc2hvd0hpZGVDaGlsZHJlbigpO1xuICAgIH1cbiAgICBpZiAodGhpcy5pZiAhPSB0aGlzLl9sYXN0SWYpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2RvbS1jaGFuZ2UnLCB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlXG4gICAgICB9KSk7XG4gICAgICB0aGlzLl9sYXN0SWYgPSB0aGlzLmlmO1xuICAgIH1cbiAgfVxuXG4gIF9fZW5zdXJlSW5zdGFuY2UoKSB7XG4gICAgbGV0IHBhcmVudE5vZGUgPSB3cmFwKHRoaXMpLnBhcmVudE5vZGU7XG4gICAgLy8gR3VhcmQgYWdhaW5zdCBlbGVtZW50IGJlaW5nIGRldGFjaGVkIHdoaWxlIHJlbmRlciB3YXMgcXVldWVkXG4gICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgIGlmICghdGhpcy5fX2N0b3IpIHtcbiAgICAgICAgbGV0IHRlbXBsYXRlID0gLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyh3cmFwKHRoaXMpLnF1ZXJ5U2VsZWN0b3IoJ3RlbXBsYXRlJykpO1xuICAgICAgICBpZiAoIXRlbXBsYXRlKSB7XG4gICAgICAgICAgLy8gV2FpdCB1bnRpbCBjaGlsZExpc3QgY2hhbmdlcyBhbmQgdGVtcGxhdGUgc2hvdWxkIGJlIHRoZXJlIGJ5IHRoZW5cbiAgICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgICBpZiAod3JhcCh0aGlzKS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgICAgdGhpcy5fX3JlbmRlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb20taWYgcmVxdWlyZXMgYSA8dGVtcGxhdGU+IGNoaWxkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLCB7Y2hpbGRMaXN0OiB0cnVlfSk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19jdG9yID0gdGVtcGxhdGl6ZSh0ZW1wbGF0ZSwgdGhpcywge1xuICAgICAgICAgIC8vIGRvbS1pZiB0ZW1wbGF0aXplciBpbnN0YW5jZXMgcmVxdWlyZSBgbXV0YWJsZTogdHJ1ZWAsIGFzXG4gICAgICAgICAgLy8gYF9fc3luY0hvc3RQcm9wZXJ0aWVzYCByZWxpZXMgb24gdGhhdCBiZWhhdmlvciB0byBzeW5jIG9iamVjdHNcbiAgICAgICAgICBtdXRhYmxlRGF0YTogdHJ1ZSxcbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSB0byBmb3J3YXJkXG4gICAgICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvZiBwcm9wZXJ0eVxuICAgICAgICAgICAqIEB0aGlzIHtEb21JZn1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBmb3J3YXJkSG9zdFByb3A6IGZ1bmN0aW9uKHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fX2luc3RhbmNlKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLmlmKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2luc3RhbmNlLmZvcndhcmRIb3N0UHJvcChwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhbiBpbnN0YW5jZSBidXQgYXJlIHNxdWVsY2hpbmcgaG9zdCBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIC8vIGZvcndhcmRpbmcgZHVlIHRvIGlmIGJlaW5nIGZhbHNlLCBub3RlIHRoZSBpbnZhbGlkYXRlZFxuICAgICAgICAgICAgICAgIC8vIHByb3BlcnRpZXMgc28gYF9fc3luY0hvc3RQcm9wZXJ0aWVzYCBjYW4gc3luYyB0aGVtIHRoZSBuZXh0XG4gICAgICAgICAgICAgICAgLy8gdGltZSBgaWZgIGJlY29tZXMgdHJ1ZVxuICAgICAgICAgICAgICAgIHRoaXMuX19pbnZhbGlkUHJvcHMgPSB0aGlzLl9faW52YWxpZFByb3BzIHx8IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fX2ludmFsaWRQcm9wc1tyb290KHByb3ApXSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLl9faW5zdGFuY2UpIHtcbiAgICAgICAgdGhpcy5fX2luc3RhbmNlID0gbmV3IHRoaXMuX19jdG9yKCk7XG4gICAgICAgIHdyYXAocGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHRoaXMuX19pbnN0YW5jZS5yb290LCB0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX19zeW5jSG9zdFByb3BlcnRpZXMoKTtcbiAgICAgICAgbGV0IGMkID0gdGhpcy5fX2luc3RhbmNlLmNoaWxkcmVuO1xuICAgICAgICBpZiAoYyQgJiYgYyQubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gRGV0ZWN0IGNhc2Ugd2hlcmUgZG9tLWlmIHdhcyByZS1hdHRhY2hlZCBpbiBuZXcgcG9zaXRpb25cbiAgICAgICAgICBsZXQgbGFzdENoaWxkID0gd3JhcCh0aGlzKS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgaWYgKGxhc3RDaGlsZCAhPT0gYyRbYyQubGVuZ3RoLTFdKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpPTAsIG47IChpPGMkLmxlbmd0aCkgJiYgKG49YyRbaV0pOyBpKyspIHtcbiAgICAgICAgICAgICAgd3JhcChwYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUobiwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgX19zeW5jSG9zdFByb3BlcnRpZXMoKSB7XG4gICAgbGV0IHByb3BzID0gdGhpcy5fX2ludmFsaWRQcm9wcztcbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGZvciAobGV0IHByb3AgaW4gcHJvcHMpIHtcbiAgICAgICAgdGhpcy5fX2luc3RhbmNlLl9zZXRQZW5kaW5nUHJvcGVydHkocHJvcCwgdGhpcy5fX2RhdGFIb3N0W3Byb3BdKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19pbnZhbGlkUHJvcHMgPSBudWxsO1xuICAgICAgdGhpcy5fX2luc3RhbmNlLl9mbHVzaFByb3BlcnRpZXMoKTtcbiAgICB9XG4gIH1cblxuICBfX3RlYXJkb3duSW5zdGFuY2UoKSB7XG4gICAgaWYgKHRoaXMuX19pbnN0YW5jZSkge1xuICAgICAgbGV0IGMkID0gdGhpcy5fX2luc3RhbmNlLmNoaWxkcmVuO1xuICAgICAgaWYgKGMkICYmIGMkLmxlbmd0aCkge1xuICAgICAgICAvLyB1c2UgZmlyc3QgY2hpbGQgcGFyZW50LCBmb3IgY2FzZSB3aGVuIGRvbS1pZiBtYXkgaGF2ZSBiZWVuIGRldGFjaGVkXG4gICAgICAgIGxldCBwYXJlbnQgPSB3cmFwKGMkWzBdKS5wYXJlbnROb2RlO1xuICAgICAgICAvLyBJbnN0YW5jZSBjaGlsZHJlbiBtYXkgYmUgZGlzY29ubmVjdGVkIGZyb20gcGFyZW50cyB3aGVuIGRvbS1pZlxuICAgICAgICAvLyBkZXRhY2hlcyBpZiBhIHRyZWUgd2FzIGlubmVySFRNTCdlZFxuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgcGFyZW50ID0gd3JhcChwYXJlbnQpO1xuICAgICAgICAgIGZvciAobGV0IGk9MCwgbjsgKGk8YyQubGVuZ3RoKSAmJiAobj1jJFtpXSk7IGkrKykge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5fX2luc3RhbmNlID0gbnVsbDtcbiAgICAgIHRoaXMuX19pbnZhbGlkUHJvcHMgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93cyBvciBoaWRlcyB0aGUgdGVtcGxhdGUgaW5zdGFuY2UgdG9wIGxldmVsIGNoaWxkIGVsZW1lbnRzLiBGb3JcbiAgICogdGV4dCBub2RlcywgYHRleHRDb250ZW50YCBpcyByZW1vdmVkIHdoaWxlIFwiaGlkZGVuXCIgYW5kIHJlcGxhY2VkIHdoZW5cbiAgICogXCJzaG93bi5cIlxuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBzdXBwcmVzcyB7dmlzaWJpbGl0eX1cbiAgICovXG4gIF9zaG93SGlkZUNoaWxkcmVuKCkge1xuICAgIGxldCBoaWRkZW4gPSB0aGlzLl9faGlkZVRlbXBsYXRlQ2hpbGRyZW5fXyB8fCAhdGhpcy5pZjtcbiAgICBpZiAodGhpcy5fX2luc3RhbmNlKSB7XG4gICAgICB0aGlzLl9faW5zdGFuY2UuX3Nob3dIaWRlQ2hpbGRyZW4oaGlkZGVuKTtcbiAgICB9XG4gIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoRG9tSWYuaXMsIERvbUlmKTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJy4uLy4uL3BvbHltZXItZWxlbWVudC5qcyc7XG5cbmltcG9ydCB7IGRlZHVwaW5nTWl4aW4gfSBmcm9tICcuLi91dGlscy9taXhpbi5qcyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVTcGxpY2VzIH0gZnJvbSAnLi4vdXRpbHMvYXJyYXktc3BsaWNlLmpzJztcbmltcG9ydCB7IEVsZW1lbnRNaXhpbiB9IGZyb20gJy4uL21peGlucy9lbGVtZW50LW1peGluLmpzJztcblxuLyoqXG4gKiBFbGVtZW50IG1peGluIGZvciByZWNvcmRpbmcgZHluYW1pYyBhc3NvY2lhdGlvbnMgYmV0d2VlbiBpdGVtIHBhdGhzIGluIGFcbiAqIG1hc3RlciBgaXRlbXNgIGFycmF5IGFuZCBhIGBzZWxlY3RlZGAgYXJyYXkgc3VjaCB0aGF0IHBhdGggY2hhbmdlcyB0byB0aGVcbiAqIG1hc3RlciBhcnJheSAoYXQgdGhlIGhvc3QpIGVsZW1lbnQgb3IgZWxzZXdoZXJlIHZpYSBkYXRhLWJpbmRpbmcpIGFyZVxuICogY29ycmVjdGx5IHByb3BhZ2F0ZWQgdG8gaXRlbXMgaW4gdGhlIHNlbGVjdGVkIGFycmF5IGFuZCB2aWNlLXZlcnNhLlxuICpcbiAqIFRoZSBgaXRlbXNgIHByb3BlcnR5IGFjY2VwdHMgYW4gYXJyYXkgb2YgdXNlciBkYXRhLCBhbmQgdmlhIHRoZVxuICogYHNlbGVjdChpdGVtKWAgYW5kIGBkZXNlbGVjdChpdGVtKWAgQVBJLCB1cGRhdGVzIHRoZSBgc2VsZWN0ZWRgIHByb3BlcnR5XG4gKiB3aGljaCBtYXkgYmUgYm91bmQgdG8gb3RoZXIgcGFydHMgb2YgdGhlIGFwcGxpY2F0aW9uLCBhbmQgYW55IGNoYW5nZXMgdG9cbiAqIHN1Yi1maWVsZHMgb2YgYHNlbGVjdGVkYCBpdGVtKHMpIHdpbGwgYmUga2VwdCBpbiBzeW5jIHdpdGggaXRlbXMgaW4gdGhlXG4gKiBgaXRlbXNgIGFycmF5LiAgV2hlbiBgbXVsdGlgIGlzIGZhbHNlLCBgc2VsZWN0ZWRgIGlzIGEgcHJvcGVydHlcbiAqIHJlcHJlc2VudGluZyB0aGUgbGFzdCBzZWxlY3RlZCBpdGVtLiAgV2hlbiBgbXVsdGlgIGlzIHRydWUsIGBzZWxlY3RlZGBcbiAqIGlzIGFuIGFycmF5IG9mIG11bHRpcGx5IHNlbGVjdGVkIGl0ZW1zLlxuICpcbiAqIEBwb2x5bWVyXG4gKiBAbWl4aW5GdW5jdGlvblxuICogQGFwcGxpZXNNaXhpbiBFbGVtZW50TWl4aW5cbiAqIEBzdW1tYXJ5IEVsZW1lbnQgbWl4aW4gZm9yIHJlY29yZGluZyBkeW5hbWljIGFzc29jaWF0aW9ucyBiZXR3ZWVuIGl0ZW0gcGF0aHMgaW4gYVxuICogbWFzdGVyIGBpdGVtc2AgYXJyYXkgYW5kIGEgYHNlbGVjdGVkYCBhcnJheVxuICovXG5sZXQgQXJyYXlTZWxlY3Rvck1peGluID0gZGVkdXBpbmdNaXhpbihzdXBlckNsYXNzID0+IHtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBpbXBsZW1lbnRzIHtQb2x5bWVyX0VsZW1lbnRNaXhpbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGxldCBlbGVtZW50QmFzZSA9IEVsZW1lbnRNaXhpbihzdXBlckNsYXNzKTtcblxuICAvKipcbiAgICogQHBvbHltZXJcbiAgICogQG1peGluQ2xhc3NcbiAgICogQGltcGxlbWVudHMge1BvbHltZXJfQXJyYXlTZWxlY3Rvck1peGlufVxuICAgKiBAdW5yZXN0cmljdGVkXG4gICAqL1xuICBjbGFzcyBBcnJheVNlbGVjdG9yTWl4aW4gZXh0ZW5kcyBlbGVtZW50QmFzZSB7XG5cbiAgICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICByZXR1cm4ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIGl0ZW1zIGZyb20gd2hpY2ggc2VsZWN0aW9uIHdpbGwgYmUgbWFkZS5cbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYHRydWVgLCBtdWx0aXBsZSBpdGVtcyBtYXkgYmUgc2VsZWN0ZWQgYXQgb25jZSAoaW4gdGhpcyBjYXNlLFxuICAgICAgICAgKiBgc2VsZWN0ZWRgIGlzIGFuIGFycmF5IG9mIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtcykuICBXaGVuIGBmYWxzZWAsXG4gICAgICAgICAqIG9ubHkgb25lIGl0ZW0gbWF5IGJlIHNlbGVjdGVkIGF0IGEgdGltZS5cbiAgICAgICAgICovXG4gICAgICAgIG11bHRpOiB7XG4gICAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYG11bHRpYCBpcyB0cnVlLCB0aGlzIGlzIGFuIGFycmF5IHRoYXQgY29udGFpbnMgYW55IHNlbGVjdGVkLlxuICAgICAgICAgKiBXaGVuIGBtdWx0aWAgaXMgZmFsc2UsIHRoaXMgaXMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBpdGVtLCBvciBgbnVsbGBcbiAgICAgICAgICogaWYgbm8gaXRlbSBpcyBzZWxlY3RlZC5cbiAgICAgICAgICogQHR5cGUgez9PYmplY3R8P0FycmF5PCFPYmplY3Q+fVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0ZWQ6IHt0eXBlOiBPYmplY3QsIG5vdGlmeTogdHJ1ZX0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYG11bHRpYCBpcyBmYWxzZSwgdGhpcyBpcyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGl0ZW0sIG9yIGBudWxsYFxuICAgICAgICAgKiBpZiBubyBpdGVtIGlzIHNlbGVjdGVkLlxuICAgICAgICAgKiBAdHlwZSB7P09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGVkSXRlbToge3R5cGU6IE9iamVjdCwgbm90aWZ5OiB0cnVlfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiBgdHJ1ZWAsIGNhbGxpbmcgYHNlbGVjdGAgb24gYW4gaXRlbSB0aGF0IGlzIGFscmVhZHkgc2VsZWN0ZWRcbiAgICAgICAgICogd2lsbCBkZXNlbGVjdCB0aGUgaXRlbS5cbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZToge3R5cGU6IEJvb2xlYW4sIHZhbHVlOiBmYWxzZX1cblxuICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICAgIHJldHVybiBbJ19fdXBkYXRlU2VsZWN0aW9uKG11bHRpLCBpdGVtcy4qKSddO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgc3VwZXIoKTtcbiAgICAgIHRoaXMuX19sYXN0SXRlbXMgPSBudWxsO1xuICAgICAgdGhpcy5fX2xhc3RNdWx0aSA9IG51bGw7XG4gICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAgPSBudWxsO1xuICAgIH1cblxuICAgIF9fdXBkYXRlU2VsZWN0aW9uKG11bHRpLCBpdGVtc0luZm8pIHtcbiAgICAgIGxldCBwYXRoID0gaXRlbXNJbmZvLnBhdGg7XG4gICAgICBpZiAocGF0aCA9PSBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpKSB7XG4gICAgICAgIC8vIENhc2UgMSAtIGl0ZW1zIGFycmF5IGNoYW5nZWQsIHNvIGRpZmYgYWdhaW5zdCBwcmV2aW91cyBhcnJheSBhbmRcbiAgICAgICAgLy8gZGVzZWxlY3QgYW55IHJlbW92ZWQgaXRlbXMgYW5kIGFkanVzdCBzZWxlY3RlZCBpbmRpY2VzXG4gICAgICAgIGxldCBuZXdJdGVtcyA9IGl0ZW1zSW5mby5iYXNlIHx8IFtdO1xuICAgICAgICBsZXQgbGFzdEl0ZW1zID0gdGhpcy5fX2xhc3RJdGVtcztcbiAgICAgICAgbGV0IGxhc3RNdWx0aSA9IHRoaXMuX19sYXN0TXVsdGk7XG4gICAgICAgIGlmIChtdWx0aSAhPT0gbGFzdE11bHRpKSB7XG4gICAgICAgICAgdGhpcy5jbGVhclNlbGVjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0SXRlbXMpIHtcbiAgICAgICAgICBsZXQgc3BsaWNlcyA9IGNhbGN1bGF0ZVNwbGljZXMobmV3SXRlbXMsIGxhc3RJdGVtcyk7XG4gICAgICAgICAgdGhpcy5fX2FwcGx5U3BsaWNlcyhzcGxpY2VzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fbGFzdEl0ZW1zID0gbmV3SXRlbXM7XG4gICAgICAgIHRoaXMuX19sYXN0TXVsdGkgPSBtdWx0aTtcbiAgICAgIH0gZWxzZSBpZiAoaXRlbXNJbmZvLnBhdGggPT0gYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uc3BsaWNlc2ApIHtcbiAgICAgICAgLy8gQ2FzZSAyIC0gZ290IHNwZWNpZmljIHNwbGljZSBpbmZvcm1hdGlvbiBkZXNjcmliaW5nIHRoZSBhcnJheSBtdXRhdGlvbjpcbiAgICAgICAgLy8gZGVzZWxlY3QgYW55IHJlbW92ZWQgaXRlbXMgYW5kIGFkanVzdCBzZWxlY3RlZCBpbmRpY2VzXG4gICAgICAgIHRoaXMuX19hcHBseVNwbGljZXMoaXRlbXNJbmZvLnZhbHVlLmluZGV4U3BsaWNlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBDYXNlIDMgLSBhbiBhcnJheSBlbGVtZW50IHdhcyBjaGFuZ2VkLCBzbyBkZXNlbGVjdCB0aGUgcHJldmlvdXNcbiAgICAgICAgLy8gaXRlbSBmb3IgdGhhdCBpbmRleCBpZiBpdCB3YXMgcHJldmlvdXNseSBzZWxlY3RlZFxuICAgICAgICBsZXQgcGFydCA9IHBhdGguc2xpY2UoYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uYC5sZW5ndGgpO1xuICAgICAgICBsZXQgaWR4ID0gcGFyc2VJbnQocGFydCwgMTApO1xuICAgICAgICBpZiAoKHBhcnQuaW5kZXhPZignLicpIDwgMCkgJiYgcGFydCA9PSBpZHgpIHtcbiAgICAgICAgICB0aGlzLl9fZGVzZWxlY3RDaGFuZ2VkSWR4KGlkeCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX2FwcGx5U3BsaWNlcyhzcGxpY2VzKSB7XG4gICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLl9fc2VsZWN0ZWRNYXA7XG4gICAgICAvLyBBZGp1c3Qgc2VsZWN0ZWQgaW5kaWNlcyBhbmQgbWFyayByZW1vdmFsc1xuICAgICAgZm9yIChsZXQgaT0wOyBpPHNwbGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHMgPSBzcGxpY2VzW2ldO1xuICAgICAgICBzZWxlY3RlZC5mb3JFYWNoKChpZHgsIGl0ZW0pID0+IHtcbiAgICAgICAgICBpZiAoaWR4IDwgcy5pbmRleCkge1xuICAgICAgICAgICAgLy8gbm8gY2hhbmdlXG4gICAgICAgICAgfSBlbHNlIGlmIChpZHggPj0gcy5pbmRleCArIHMucmVtb3ZlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGFkanVzdCBpbmRleFxuICAgICAgICAgICAgc2VsZWN0ZWQuc2V0KGl0ZW0sIGlkeCArIHMuYWRkZWRDb3VudCAtIHMucmVtb3ZlZC5sZW5ndGgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgaW5kZXhcbiAgICAgICAgICAgIHNlbGVjdGVkLnNldChpdGVtLCAtMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgaj0wOyBqPHMuYWRkZWRDb3VudDsgaisrKSB7XG4gICAgICAgICAgbGV0IGlkeCA9IHMuaW5kZXggKyBqO1xuICAgICAgICAgIGlmIChzZWxlY3RlZC5oYXModGhpcy5pdGVtc1tpZHhdKSkge1xuICAgICAgICAgICAgc2VsZWN0ZWQuc2V0KHRoaXMuaXRlbXNbaWR4XSwgaWR4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIFVwZGF0ZSBsaW5rZWQgcGF0aHNcbiAgICAgIHRoaXMuX191cGRhdGVMaW5rcygpO1xuICAgICAgLy8gUmVtb3ZlIHNlbGVjdGVkIGl0ZW1zIHRoYXQgd2VyZSByZW1vdmVkIGZyb20gdGhlIGl0ZW1zIGFycmF5XG4gICAgICBsZXQgc2lkeCA9IDA7XG4gICAgICBzZWxlY3RlZC5mb3JFYWNoKChpZHgsIGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5tdWx0aSkge1xuICAgICAgICAgICAgdGhpcy5zcGxpY2UoSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKSwgc2lkeCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkSXRlbSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGVjdGVkLmRlbGV0ZShpdGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzaWR4Kys7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIF9fdXBkYXRlTGlua3MoKSB7XG4gICAgICB0aGlzLl9fZGF0YUxpbmtlZFBhdGhzID0ge307XG4gICAgICBpZiAodGhpcy5tdWx0aSkge1xuICAgICAgICBsZXQgc2lkeCA9IDA7XG4gICAgICAgIHRoaXMuX19zZWxlY3RlZE1hcC5mb3JFYWNoKGlkeCA9PiB7XG4gICAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmtQYXRocyhcbiAgICAgICAgICAgICAgICBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gLFxuICAgICAgICAgICAgICAgIGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyl9LiR7c2lkeCsrfWApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuZm9yRWFjaChpZHggPT4ge1xuICAgICAgICAgIHRoaXMubGlua1BhdGhzKFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpLFxuICAgICAgICAgICAgICBgJHtKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdpdGVtcycsIHRoaXMpfS4ke2lkeH1gKTtcbiAgICAgICAgICB0aGlzLmxpbmtQYXRocyhcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWRJdGVtJywgdGhpcyksXG4gICAgICAgICAgICAgIGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ2l0ZW1zJywgdGhpcyl9LiR7aWR4fWApO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIHNlbGVjdGlvbiBzdGF0ZS5cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGNsZWFyU2VsZWN0aW9uKCkge1xuICAgICAgLy8gVW5iaW5kIHByZXZpb3VzIHNlbGVjdGlvblxuICAgICAgdGhpcy5fX2RhdGFMaW5rZWRQYXRocyA9IHt9O1xuICAgICAgLy8gVGhlIHNlbGVjdGVkIG1hcCBzdG9yZXMgMyBwaWVjZXMgb2YgaW5mb3JtYXRpb246XG4gICAgICAvLyBrZXk6IGl0ZW1zIGFycmF5IG9iamVjdFxuICAgICAgLy8gdmFsdWU6IGl0ZW1zIGFycmF5IGluZGV4XG4gICAgICAvLyBvcmRlcjogc2VsZWN0ZWQgYXJyYXkgaW5kZXhcbiAgICAgIHRoaXMuX19zZWxlY3RlZE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgIC8vIEluaXRpYWxpemUgc2VsZWN0aW9uXG4gICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5tdWx0aSA/IFtdIDogbnVsbDtcbiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGl0ZW0gaXMgY3VycmVudGx5IHNlbGVjdGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIEl0ZW0gZnJvbSBgaXRlbXNgIGFycmF5IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBpdGVtIGlzIHNlbGVjdGVkXG4gICAgICovXG4gICAgaXNTZWxlY3RlZChpdGVtKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NlbGVjdGVkTWFwLmhhcyhpdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGl0ZW0gaXMgY3VycmVudGx5IHNlbGVjdGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkeCBJbmRleCBmcm9tIGBpdGVtc2AgYXJyYXkgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGl0ZW0gaXMgc2VsZWN0ZWRcbiAgICAgKi9cbiAgICBpc0luZGV4U2VsZWN0ZWQoaWR4KSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1NlbGVjdGVkKHRoaXMuaXRlbXNbaWR4XSk7XG4gICAgfVxuXG4gICAgX19kZXNlbGVjdENoYW5nZWRJZHgoaWR4KSB7XG4gICAgICBsZXQgc2lkeCA9IHRoaXMuX19zZWxlY3RlZEluZGV4Rm9ySXRlbUluZGV4KGlkeCk7XG4gICAgICBpZiAoc2lkeCA+PSAwKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmZvckVhY2goKGlkeCwgaXRlbSkgPT4ge1xuICAgICAgICAgIGlmIChzaWR4ID09IGkrKykge1xuICAgICAgICAgICAgdGhpcy5kZXNlbGVjdChpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9fc2VsZWN0ZWRJbmRleEZvckl0ZW1JbmRleChpZHgpIHtcbiAgICAgIGxldCBzZWxlY3RlZCA9IHRoaXMuX19kYXRhTGlua2VkUGF0aHNbYCR7SlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnaXRlbXMnLCB0aGlzKX0uJHtpZHh9YF07XG4gICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHNlbGVjdGVkLnNsaWNlKGAke0pTQ29tcGlsZXJfcmVuYW1lUHJvcGVydHkoJ3NlbGVjdGVkJywgdGhpcyl9LmAubGVuZ3RoKSwgMTApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc2VsZWN0cyB0aGUgZ2l2ZW4gaXRlbSBpZiBpdCBpcyBhbHJlYWR5IHNlbGVjdGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIEl0ZW0gZnJvbSBgaXRlbXNgIGFycmF5IHRvIGRlc2VsZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBkZXNlbGVjdChpdGVtKSB7XG4gICAgICBsZXQgaWR4ID0gdGhpcy5fX3NlbGVjdGVkTWFwLmdldChpdGVtKTtcbiAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICB0aGlzLl9fc2VsZWN0ZWRNYXAuZGVsZXRlKGl0ZW0pO1xuICAgICAgICBsZXQgc2lkeDtcbiAgICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgICBzaWR4ID0gdGhpcy5fX3NlbGVjdGVkSW5kZXhGb3JJdGVtSW5kZXgoaWR4KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fdXBkYXRlTGlua3MoKTtcbiAgICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgICB0aGlzLnNwbGljZShKU0NvbXBpbGVyX3JlbmFtZVByb3BlcnR5KCdzZWxlY3RlZCcsIHRoaXMpLCBzaWR4LCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZEl0ZW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVzZWxlY3RzIHRoZSBnaXZlbiBpbmRleCBpZiBpdCBpcyBhbHJlYWR5IHNlbGVjdGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkeCBJbmRleCBmcm9tIGBpdGVtc2AgYXJyYXkgdG8gZGVzZWxlY3RcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGRlc2VsZWN0SW5kZXgoaWR4KSB7XG4gICAgICB0aGlzLmRlc2VsZWN0KHRoaXMuaXRlbXNbaWR4XSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyB0aGUgZ2l2ZW4gaXRlbS4gIFdoZW4gYHRvZ2dsZWAgaXMgdHJ1ZSwgdGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBkZXNlbGVjdCB0aGUgaXRlbSBpZiBhbHJlYWR5IHNlbGVjdGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHsqfSBpdGVtIEl0ZW0gZnJvbSBgaXRlbXNgIGFycmF5IHRvIHNlbGVjdFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2VsZWN0KGl0ZW0pIHtcbiAgICAgIHRoaXMuc2VsZWN0SW5kZXgodGhpcy5pdGVtcy5pbmRleE9mKGl0ZW0pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBnaXZlbiBpbmRleC4gIFdoZW4gYHRvZ2dsZWAgaXMgdHJ1ZSwgdGhpcyB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgKiBkZXNlbGVjdCB0aGUgaXRlbSBpZiBhbHJlYWR5IHNlbGVjdGVkLlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGlkeCBJbmRleCBmcm9tIGBpdGVtc2AgYXJyYXkgdG8gc2VsZWN0XG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBzZWxlY3RJbmRleChpZHgpIHtcbiAgICAgIGxldCBpdGVtID0gdGhpcy5pdGVtc1tpZHhdO1xuICAgICAgaWYgKCF0aGlzLmlzU2VsZWN0ZWQoaXRlbSkpIHtcbiAgICAgICAgaWYgKCF0aGlzLm11bHRpKSB7XG4gICAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX3NlbGVjdGVkTWFwLnNldChpdGVtLCBpZHgpO1xuICAgICAgICB0aGlzLl9fdXBkYXRlTGlua3MoKTtcbiAgICAgICAgaWYgKHRoaXMubXVsdGkpIHtcbiAgICAgICAgICB0aGlzLnB1c2goSlNDb21waWxlcl9yZW5hbWVQcm9wZXJ0eSgnc2VsZWN0ZWQnLCB0aGlzKSwgaXRlbSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRoaXMuc2VsZWN0ZWRJdGVtID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnRvZ2dsZSkge1xuICAgICAgICB0aGlzLmRlc2VsZWN0SW5kZXgoaWR4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgfVxuXG4gIHJldHVybiBBcnJheVNlbGVjdG9yTWl4aW47XG5cbn0pO1xuXG4vLyBleHBvcnQgbWl4aW5cbmV4cG9ydCB7IEFycmF5U2VsZWN0b3JNaXhpbiB9O1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge1BvbHltZXJFbGVtZW50fVxuICogQGltcGxlbWVudHMge1BvbHltZXJfQXJyYXlTZWxlY3Rvck1peGlufVxuICogQHByaXZhdGVcbiAqL1xubGV0IGJhc2VBcnJheVNlbGVjdG9yID0gQXJyYXlTZWxlY3Rvck1peGluKFBvbHltZXJFbGVtZW50KTtcblxuLyoqXG4gKiBFbGVtZW50IGltcGxlbWVudGluZyB0aGUgYEFycmF5U2VsZWN0b3JgIG1peGluLCB3aGljaCByZWNvcmRzXG4gKiBkeW5hbWljIGFzc29jaWF0aW9ucyBiZXR3ZWVuIGl0ZW0gcGF0aHMgaW4gYSBtYXN0ZXIgYGl0ZW1zYCBhcnJheSBhbmQgYVxuICogYHNlbGVjdGVkYCBhcnJheSBzdWNoIHRoYXQgcGF0aCBjaGFuZ2VzIHRvIHRoZSBtYXN0ZXIgYXJyYXkgKGF0IHRoZSBob3N0KVxuICogZWxlbWVudCBvciBlbHNld2hlcmUgdmlhIGRhdGEtYmluZGluZykgYXJlIGNvcnJlY3RseSBwcm9wYWdhdGVkIHRvIGl0ZW1zXG4gKiBpbiB0aGUgc2VsZWN0ZWQgYXJyYXkgYW5kIHZpY2UtdmVyc2EuXG4gKlxuICogVGhlIGBpdGVtc2AgcHJvcGVydHkgYWNjZXB0cyBhbiBhcnJheSBvZiB1c2VyIGRhdGEsIGFuZCB2aWEgdGhlXG4gKiBgc2VsZWN0KGl0ZW0pYCBhbmQgYGRlc2VsZWN0KGl0ZW0pYCBBUEksIHVwZGF0ZXMgdGhlIGBzZWxlY3RlZGAgcHJvcGVydHlcbiAqIHdoaWNoIG1heSBiZSBib3VuZCB0byBvdGhlciBwYXJ0cyBvZiB0aGUgYXBwbGljYXRpb24sIGFuZCBhbnkgY2hhbmdlcyB0b1xuICogc3ViLWZpZWxkcyBvZiBgc2VsZWN0ZWRgIGl0ZW0ocykgd2lsbCBiZSBrZXB0IGluIHN5bmMgd2l0aCBpdGVtcyBpbiB0aGVcbiAqIGBpdGVtc2AgYXJyYXkuICBXaGVuIGBtdWx0aWAgaXMgZmFsc2UsIGBzZWxlY3RlZGAgaXMgYSBwcm9wZXJ0eVxuICogcmVwcmVzZW50aW5nIHRoZSBsYXN0IHNlbGVjdGVkIGl0ZW0uICBXaGVuIGBtdWx0aWAgaXMgdHJ1ZSwgYHNlbGVjdGVkYFxuICogaXMgYW4gYXJyYXkgb2YgbXVsdGlwbHkgc2VsZWN0ZWQgaXRlbXMuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogaW1wb3J0IHtQb2x5bWVyRWxlbWVudH0gZnJvbSAnQHBvbHltZXIvcG9seW1lcic7XG4gKiBpbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2FycmF5LXNlbGVjdG9yLmpzJztcbiAqXG4gKiBjbGFzcyBFbXBsb3llZUxpc3QgZXh0ZW5kcyBQb2x5bWVyRWxlbWVudCB7XG4gKiAgIHN0YXRpYyBnZXQgX3RlbXBsYXRlKCkge1xuICogICAgIHJldHVybiBodG1sYFxuICogICAgICAgICA8ZGl2PiBFbXBsb3llZSBsaXN0OiA8L2Rpdj5cbiAqICAgICAgICAgPGRvbS1yZXBlYXQgaWQ9XCJlbXBsb3llZUxpc3RcIiBpdGVtcz1cInt7ZW1wbG95ZWVzfX1cIj5cbiAqICAgICAgICAgICA8dGVtcGxhdGU+XG4gKiAgICAgICAgICAgICA8ZGl2PkZpcnN0IG5hbWU6IDxzcGFuPnt7aXRlbS5maXJzdH19PC9zcGFuPjwvZGl2PlxuICogICAgICAgICAgICAgICA8ZGl2Pkxhc3QgbmFtZTogPHNwYW4+e3tpdGVtLmxhc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgICAgICAgPGJ1dHRvbiBvbi1jbGljaz1cInRvZ2dsZVNlbGVjdGlvblwiPlNlbGVjdDwvYnV0dG9uPlxuICogICAgICAgICAgIDwvdGVtcGxhdGU+XG4gKiAgICAgICAgIDwvZG9tLXJlcGVhdD5cbiAqXG4gKiAgICAgICAgIDxhcnJheS1zZWxlY3RvciBpZD1cInNlbGVjdG9yXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zPVwie3tlbXBsb3llZXN9fVwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD1cInt7c2VsZWN0ZWR9fVwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aSB0b2dnbGU+PC9hcnJheS1zZWxlY3Rvcj5cbiAqXG4gKiAgICAgICAgIDxkaXY+IFNlbGVjdGVkIGVtcGxveWVlczogPC9kaXY+XG4gKiAgICAgICAgIDxkb20tcmVwZWF0IGl0ZW1zPVwie3tzZWxlY3RlZH19XCI+XG4gKiAgICAgICAgICAgPHRlbXBsYXRlPlxuICogICAgICAgICAgICAgPGRpdj5GaXJzdCBuYW1lOiA8c3Bhbj57e2l0ZW0uZmlyc3R9fTwvc3Bhbj48L2Rpdj5cbiAqICAgICAgICAgICAgIDxkaXY+TGFzdCBuYW1lOiA8c3Bhbj57e2l0ZW0ubGFzdH19PC9zcGFuPjwvZGl2PlxuICogICAgICAgICAgIDwvdGVtcGxhdGU+XG4gKiAgICAgICAgIDwvZG9tLXJlcGVhdD5gO1xuICogICB9XG4gKiAgIHN0YXRpYyBnZXQgaXMoKSB7IHJldHVybiAnZW1wbG95ZWUtbGlzdCc7IH1cbiAqICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICBlbXBsb3llZXM6IHtcbiAqICAgICAgICAgdmFsdWUoKSB7XG4gKiAgICAgICAgICAgcmV0dXJuIFtcbiAqICAgICAgICAgICAgIHtmaXJzdDogJ0JvYicsIGxhc3Q6ICdTbWl0aCd9LFxuICogICAgICAgICAgICAge2ZpcnN0OiAnU2FsbHknLCBsYXN0OiAnSm9obnNvbid9LFxuICogICAgICAgICAgICAgLi4uXG4gKiAgICAgICAgICAgXTtcbiAqICAgICAgICAgfVxuICogICAgICAgfVxuICogICAgIH07XG4gKiAgIH1cbiAqICAgdG9nZ2xlU2VsZWN0aW9uKGUpIHtcbiAqICAgICBjb25zdCBpdGVtID0gdGhpcy4kLmVtcGxveWVlTGlzdC5pdGVtRm9yRWxlbWVudChlLnRhcmdldCk7XG4gKiAgICAgdGhpcy4kLnNlbGVjdG9yLnNlbGVjdChpdGVtKTtcbiAqICAgfVxuICogfVxuICogYGBgXG4gKlxuICogQHBvbHltZXJcbiAqIEBjdXN0b21FbGVtZW50XG4gKiBAZXh0ZW5kcyB7YmFzZUFycmF5U2VsZWN0b3J9XG4gKiBAYXBwbGllc01peGluIEFycmF5U2VsZWN0b3JNaXhpblxuICogQHN1bW1hcnkgQ3VzdG9tIGVsZW1lbnQgdGhhdCBsaW5rcyBwYXRocyBiZXR3ZWVuIGFuIGlucHV0IGBpdGVtc2AgYXJyYXkgYW5kXG4gKiAgIGFuIG91dHB1dCBgc2VsZWN0ZWRgIGl0ZW0gb3IgYXJyYXkgYmFzZWQgb24gY2FsbHMgdG8gaXRzIHNlbGVjdGlvbiBBUEkuXG4gKi9cbmNsYXNzIEFycmF5U2VsZWN0b3IgZXh0ZW5kcyBiYXNlQXJyYXlTZWxlY3RvciB7XG4gIC8vIE5vdCBuZWVkZWQgdG8gZmluZCB0ZW1wbGF0ZTsgY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgYW5hbHl6ZXJcbiAgLy8gY2FuIGZpbmQgdGhlIHRhZyBuYW1lIGZyb20gY3VzdG9tRWxlbWVudHMuZGVmaW5lIGNhbGxcbiAgc3RhdGljIGdldCBpcygpIHsgcmV0dXJuICdhcnJheS1zZWxlY3Rvcic7IH1cbiAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHsgcmV0dXJuIG51bGw7IH1cbn1cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShBcnJheVNlbGVjdG9yLmlzLCBBcnJheVNlbGVjdG9yKTtcbmV4cG9ydCB7IEFycmF5U2VsZWN0b3IgfTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5UaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG5Db2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgeyBNdXRhYmxlRGF0YSB9IGZyb20gJy4uL21peGlucy9tdXRhYmxlLWRhdGEuanMnO1xuXG5sZXQgbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xuLyoqIEBzdXBwcmVzcyB7bWlzc2luZ1Byb3BlcnRpZXN9ICovXG4oKCkgPT4ge1xuICBtdXRhYmxlUHJvcGVydHlDaGFuZ2UgPSBNdXRhYmxlRGF0YS5fbXV0YWJsZVByb3BlcnR5Q2hhbmdlO1xufSkoKTtcblxuLyoqXG4gKiBMZWdhY3kgZWxlbWVudCBiZWhhdmlvciB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmQgYXJyYXlzLFxuICogKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIikgZm9yIHVzZSBvbiBsZWdhY3kgQVBJIFBvbHltZXIgZWxlbWVudHMuXG4gKlxuICogQnkgZGVmYXVsdCwgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCBwZXJmb3JtcyBzdHJpY3QgZGlydHkgY2hlY2tpbmcgb25cbiAqIG9iamVjdHMsIHdoaWNoIG1lYW5zIHRoYXQgYW55IGRlZXAgbW9kaWZpY2F0aW9ucyB0byBhbiBvYmplY3Qgb3IgYXJyYXkgd2lsbFxuICogbm90IGJlIHByb3BhZ2F0ZWQgdW5sZXNzIFwiaW1tdXRhYmxlXCIgZGF0YSBwYXR0ZXJucyBhcmUgdXNlZCAoaS5lLiBhbGwgb2JqZWN0XG4gKiByZWZlcmVuY2VzIGZyb20gdGhlIHJvb3QgdG8gdGhlIG11dGF0aW9uIHdlcmUgY2hhbmdlZCkuXG4gKlxuICogUG9seW1lciBhbHNvIHByb3ZpZGVzIGEgcHJvcHJpZXRhcnkgZGF0YSBtdXRhdGlvbiBhbmQgcGF0aCBub3RpZmljYXRpb24gQVBJXG4gKiAoZS5nLiBgbm90aWZ5UGF0aGAsIGBzZXRgLCBhbmQgYXJyYXkgbXV0YXRpb24gQVBJJ3MpIHRoYXQgYWxsb3cgZWZmaWNpZW50XG4gKiBtdXRhdGlvbiBhbmQgbm90aWZpY2F0aW9uIG9mIGRlZXAgY2hhbmdlcyBpbiBhbiBvYmplY3QgZ3JhcGggdG8gYWxsIGVsZW1lbnRzXG4gKiBib3VuZCB0byB0aGUgc2FtZSBvYmplY3QgZ3JhcGguXG4gKlxuICogSW4gY2FzZXMgd2hlcmUgbmVpdGhlciBpbW11dGFibGUgcGF0dGVybnMgbm9yIHRoZSBkYXRhIG11dGF0aW9uIEFQSSBjYW4gYmVcbiAqIHVzZWQsIGFwcGx5aW5nIHRoaXMgbWl4aW4gd2lsbCBjYXVzZSBQb2x5bWVyIHRvIHNraXAgZGlydHkgY2hlY2tpbmcgZm9yXG4gKiBvYmplY3RzIGFuZCBhcnJheXMgKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlIFwiZGlydHlcIikuICBUaGlzIGFsbG93cyBhXG4gKiB1c2VyIHRvIG1ha2UgYSBkZWVwIG1vZGlmaWNhdGlvbiB0byBhIGJvdW5kIG9iamVjdCBncmFwaCwgYW5kIHRoZW4gZWl0aGVyXG4gKiBzaW1wbHkgcmUtc2V0IHRoZSBvYmplY3QgKGUuZy4gYHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zYCkgb3IgY2FsbCBgbm90aWZ5UGF0aGBcbiAqIChlLmcuIGB0aGlzLm5vdGlmeVBhdGgoJ2l0ZW1zJylgKSB0byB1cGRhdGUgdGhlIHRyZWUuICBOb3RlIHRoYXQgYWxsXG4gKiBlbGVtZW50cyB0aGF0IHdpc2ggdG8gYmUgdXBkYXRlZCBiYXNlZCBvbiBkZWVwIG11dGF0aW9ucyBtdXN0IGFwcGx5IHRoaXNcbiAqIG1peGluIG9yIG90aGVyd2lzZSBza2lwIHN0cmljdCBkaXJ0eSBjaGVja2luZyBmb3Igb2JqZWN0cy9hcnJheXMuXG4gKiBTcGVjaWZpY2FsbHksIGFueSBlbGVtZW50cyBpbiB0aGUgYmluZGluZyB0cmVlIGJldHdlZW4gdGhlIHNvdXJjZSBvZiBhXG4gKiBtdXRhdGlvbiBhbmQgdGhlIGNvbnN1bXB0aW9uIG9mIGl0IG11c3QgYXBwbHkgdGhpcyBiZWhhdmlvciBvciBlbmFibGUgdGhlXG4gKiBgUG9seW1lci5PcHRpb25hbE11dGFibGVEYXRhQmVoYXZpb3JgLlxuICpcbiAqIEluIG9yZGVyIHRvIG1ha2UgdGhlIGRpcnR5IGNoZWNrIHN0cmF0ZWd5IGNvbmZpZ3VyYWJsZSwgc2VlXG4gKiBgUG9seW1lci5PcHRpb25hbE11dGFibGVEYXRhQmVoYXZpb3JgLlxuICpcbiAqIE5vdGUsIHRoZSBwZXJmb3JtYW5jZSBjaGFyYWN0ZXJpc3RpY3Mgb2YgcHJvcGFnYXRpbmcgbGFyZ2Ugb2JqZWN0IGdyYXBoc1xuICogd2lsbCBiZSB3b3JzZSBhcyBvcHBvc2VkIHRvIHVzaW5nIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZVxuICogcGF0dGVybnMgb3IgUG9seW1lcidzIHBhdGggbm90aWZpY2F0aW9uIEFQSS5cbiAqXG4gKiBAcG9seW1lckJlaGF2aW9yXG4gKiBAc3VtbWFyeSBCZWhhdmlvciB0byBza2lwIHN0cmljdCBkaXJ0eS1jaGVja2luZyBmb3Igb2JqZWN0cyBhbmRcbiAqICAgYXJyYXlzXG4gKi9cbmV4cG9ydCBjb25zdCBNdXRhYmxlRGF0YUJlaGF2aW9yID0ge1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCB0byBwcm92aWRlIG9wdGlvbiBmb3Igc2tpcHBpbmdcbiAgICogc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIGZvciBPYmplY3RzIGFuZCBBcnJheXMuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHB1bGxzIHRoZSB2YWx1ZSB0byBkaXJ0eSBjaGVjayBhZ2FpbnN0IGZyb20gdGhlIGBfX2RhdGFUZW1wYFxuICAgKiBjYWNoZSAocmF0aGVyIHRoYW4gdGhlIG5vcm1hbCBgX19kYXRhYCBjYWNoZSkgZm9yIE9iamVjdHMuICBTaW5jZSB0aGUgdGVtcFxuICAgKiBjYWNoZSBpcyBjbGVhcmVkIGF0IHRoZSBlbmQgb2YgYSB0dXJuLCB0aGlzIGltcGxlbWVudGF0aW9uIGFsbG93c1xuICAgKiBzaWRlLWVmZmVjdHMgb2YgZGVlcCBvYmplY3QgY2hhbmdlcyB0byBiZSBwcm9jZXNzZWQgYnkgcmUtc2V0dGluZyB0aGVcbiAgICogc2FtZSBvYmplY3QgKHVzaW5nIHRoZSB0ZW1wIGNhY2hlIGFzIGFuIGluLXR1cm4gYmFja3N0b3AgdG8gcHJldmVudFxuICAgKiBjeWNsZXMgZHVlIHRvIDItd2F5IG5vdGlmaWNhdGlvbikuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgTmV3IHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSB7Kn0gb2xkIFByZXZpb3VzIHByb3BlcnR5IHZhbHVlXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHByb3BlcnR5IHNob3VsZCBiZSBjb25zaWRlcmVkIGEgY2hhbmdlXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQG92ZXJyaWRlXG4gICAqL1xuICBfc2hvdWxkUHJvcGVydHlDaGFuZ2UocHJvcGVydHksIHZhbHVlLCBvbGQpIHtcbiAgICByZXR1cm4gbXV0YWJsZVByb3BlcnR5Q2hhbmdlKHRoaXMsIHByb3BlcnR5LCB2YWx1ZSwgb2xkLCB0cnVlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBMZWdhY3kgZWxlbWVudCBiZWhhdmlvciB0byBhZGQgdGhlIG9wdGlvbmFsIGFiaWxpdHkgdG8gc2tpcCBzdHJpY3RcbiAqIGRpcnR5LWNoZWNraW5nIGZvciBvYmplY3RzIGFuZCBhcnJheXMgKGFsd2F5cyBjb25zaWRlciB0aGVtIHRvIGJlXG4gKiBcImRpcnR5XCIpIGJ5IHNldHRpbmcgYSBgbXV0YWJsZS1kYXRhYCBhdHRyaWJ1dGUgb24gYW4gZWxlbWVudCBpbnN0YW5jZS5cbiAqXG4gKiBCeSBkZWZhdWx0LCBgUG9seW1lci5Qcm9wZXJ0eUVmZmVjdHNgIHBlcmZvcm1zIHN0cmljdCBkaXJ0eSBjaGVja2luZyBvblxuICogb2JqZWN0cywgd2hpY2ggbWVhbnMgdGhhdCBhbnkgZGVlcCBtb2RpZmljYXRpb25zIHRvIGFuIG9iamVjdCBvciBhcnJheSB3aWxsXG4gKiBub3QgYmUgcHJvcGFnYXRlZCB1bmxlc3MgXCJpbW11dGFibGVcIiBkYXRhIHBhdHRlcm5zIGFyZSB1c2VkIChpLmUuIGFsbCBvYmplY3RcbiAqIHJlZmVyZW5jZXMgZnJvbSB0aGUgcm9vdCB0byB0aGUgbXV0YXRpb24gd2VyZSBjaGFuZ2VkKS5cbiAqXG4gKiBQb2x5bWVyIGFsc28gcHJvdmlkZXMgYSBwcm9wcmlldGFyeSBkYXRhIG11dGF0aW9uIGFuZCBwYXRoIG5vdGlmaWNhdGlvbiBBUElcbiAqIChlLmcuIGBub3RpZnlQYXRoYCwgYHNldGAsIGFuZCBhcnJheSBtdXRhdGlvbiBBUEkncykgdGhhdCBhbGxvdyBlZmZpY2llbnRcbiAqIG11dGF0aW9uIGFuZCBub3RpZmljYXRpb24gb2YgZGVlcCBjaGFuZ2VzIGluIGFuIG9iamVjdCBncmFwaCB0byBhbGwgZWxlbWVudHNcbiAqIGJvdW5kIHRvIHRoZSBzYW1lIG9iamVjdCBncmFwaC5cbiAqXG4gKiBJbiBjYXNlcyB3aGVyZSBuZWl0aGVyIGltbXV0YWJsZSBwYXR0ZXJucyBub3IgdGhlIGRhdGEgbXV0YXRpb24gQVBJIGNhbiBiZVxuICogdXNlZCwgYXBwbHlpbmcgdGhpcyBtaXhpbiB3aWxsIGFsbG93IFBvbHltZXIgdG8gc2tpcCBkaXJ0eSBjaGVja2luZyBmb3JcbiAqIG9iamVjdHMgYW5kIGFycmF5cyAoYWx3YXlzIGNvbnNpZGVyIHRoZW0gdG8gYmUgXCJkaXJ0eVwiKS4gIFRoaXMgYWxsb3dzIGFcbiAqIHVzZXIgdG8gbWFrZSBhIGRlZXAgbW9kaWZpY2F0aW9uIHRvIGEgYm91bmQgb2JqZWN0IGdyYXBoLCBhbmQgdGhlbiBlaXRoZXJcbiAqIHNpbXBseSByZS1zZXQgdGhlIG9iamVjdCAoZS5nLiBgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXNgKSBvciBjYWxsIGBub3RpZnlQYXRoYFxuICogKGUuZy4gYHRoaXMubm90aWZ5UGF0aCgnaXRlbXMnKWApIHRvIHVwZGF0ZSB0aGUgdHJlZS4gIE5vdGUgdGhhdCBhbGxcbiAqIGVsZW1lbnRzIHRoYXQgd2lzaCB0byBiZSB1cGRhdGVkIGJhc2VkIG9uIGRlZXAgbXV0YXRpb25zIG11c3QgYXBwbHkgdGhpc1xuICogbWl4aW4gb3Igb3RoZXJ3aXNlIHNraXAgc3RyaWN0IGRpcnR5IGNoZWNraW5nIGZvciBvYmplY3RzL2FycmF5cy5cbiAqIFNwZWNpZmljYWxseSwgYW55IGVsZW1lbnRzIGluIHRoZSBiaW5kaW5nIHRyZWUgYmV0d2VlbiB0aGUgc291cmNlIG9mIGFcbiAqIG11dGF0aW9uIGFuZCB0aGUgY29uc3VtcHRpb24gb2YgaXQgbXVzdCBlbmFibGUgdGhpcyBiZWhhdmlvciBvciBhcHBseSB0aGVcbiAqIGBQb2x5bWVyLk9wdGlvbmFsTXV0YWJsZURhdGFCZWhhdmlvcmAuXG4gKlxuICogV2hpbGUgdGhpcyBiZWhhdmlvciBhZGRzIHRoZSBhYmlsaXR5IHRvIGZvcmdvIE9iamVjdC9BcnJheSBkaXJ0eSBjaGVja2luZyxcbiAqIHRoZSBgbXV0YWJsZURhdGFgIGZsYWcgZGVmYXVsdHMgdG8gZmFsc2UgYW5kIG11c3QgYmUgc2V0IG9uIHRoZSBpbnN0YW5jZS5cbiAqXG4gKiBOb3RlLCB0aGUgcGVyZm9ybWFuY2UgY2hhcmFjdGVyaXN0aWNzIG9mIHByb3BhZ2F0aW5nIGxhcmdlIG9iamVjdCBncmFwaHNcbiAqIHdpbGwgYmUgd29yc2UgYnkgcmVseWluZyBvbiBgbXV0YWJsZURhdGE6IHRydWVgIGFzIG9wcG9zZWQgdG8gdXNpbmdcbiAqIHN0cmljdCBkaXJ0eSBjaGVja2luZyB3aXRoIGltbXV0YWJsZSBwYXR0ZXJucyBvciBQb2x5bWVyJ3MgcGF0aCBub3RpZmljYXRpb25cbiAqIEFQSS5cbiAqXG4gKiBAcG9seW1lckJlaGF2aW9yXG4gKiBAc3VtbWFyeSBCZWhhdmlvciB0byBvcHRpb25hbGx5IHNraXAgc3RyaWN0IGRpcnR5LWNoZWNraW5nIGZvciBvYmplY3RzIGFuZFxuICogICBhcnJheXNcbiAqL1xuZXhwb3J0IGNvbnN0IE9wdGlvbmFsTXV0YWJsZURhdGFCZWhhdmlvciA9IHtcblxuICBwcm9wZXJ0aWVzOiB7XG4gICAgLyoqXG4gICAgICogSW5zdGFuY2UtbGV2ZWwgZmxhZyBmb3IgY29uZmlndXJpbmcgdGhlIGRpcnR5LWNoZWNraW5nIHN0cmF0ZWd5XG4gICAgICogZm9yIHRoaXMgZWxlbWVudC4gIFdoZW4gdHJ1ZSwgT2JqZWN0cyBhbmQgQXJyYXlzIHdpbGwgc2tpcCBkaXJ0eVxuICAgICAqIGNoZWNraW5nLCBvdGhlcndpc2Ugc3RyaWN0IGVxdWFsaXR5IGNoZWNraW5nIHdpbGwgYmUgdXNlZC5cbiAgICAgKi9cbiAgICBtdXRhYmxlRGF0YTogQm9vbGVhblxuICB9LFxuXG4gIC8qKlxuICAgKiBPdmVycmlkZXMgYFBvbHltZXIuUHJvcGVydHlFZmZlY3RzYCB0byBza2lwIHN0cmljdCBlcXVhbGl0eSBjaGVja2luZ1xuICAgKiBmb3IgT2JqZWN0cyBhbmQgQXJyYXlzLlxuICAgKlxuICAgKiBQdWxscyB0aGUgdmFsdWUgdG8gZGlydHkgY2hlY2sgYWdhaW5zdCBmcm9tIHRoZSBgX19kYXRhVGVtcGAgY2FjaGVcbiAgICogKHJhdGhlciB0aGFuIHRoZSBub3JtYWwgYF9fZGF0YWAgY2FjaGUpIGZvciBPYmplY3RzLiAgU2luY2UgdGhlIHRlbXBcbiAgICogY2FjaGUgaXMgY2xlYXJlZCBhdCB0aGUgZW5kIG9mIGEgdHVybiwgdGhpcyBpbXBsZW1lbnRhdGlvbiBhbGxvd3NcbiAgICogc2lkZS1lZmZlY3RzIG9mIGRlZXAgb2JqZWN0IGNoYW5nZXMgdG8gYmUgcHJvY2Vzc2VkIGJ5IHJlLXNldHRpbmcgdGhlXG4gICAqIHNhbWUgb2JqZWN0ICh1c2luZyB0aGUgdGVtcCBjYWNoZSBhcyBhbiBpbi10dXJuIGJhY2tzdG9wIHRvIHByZXZlbnRcbiAgICogY3ljbGVzIGR1ZSB0byAyLXdheSBub3RpZmljYXRpb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgKiBAcGFyYW0geyp9IHZhbHVlIE5ldyBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0geyp9IG9sZCBQcmV2aW91cyBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSBwcm9wZXJ0eSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIGNoYW5nZVxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBvdmVycmlkZVxuICAgKi9cbiAgX3Nob3VsZFByb3BlcnR5Q2hhbmdlKHByb3BlcnR5LCB2YWx1ZSwgb2xkKSB7XG4gICAgcmV0dXJuIG11dGFibGVQcm9wZXJ0eUNoYW5nZSh0aGlzLCBwcm9wZXJ0eSwgdmFsdWUsIG9sZCwgdGhpcy5tdXRhYmxlRGF0YSk7XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuXG5pbXBvcnQgeyBMZWdhY3lFbGVtZW50TWl4aW4gfSBmcm9tICcuL2xpYi9sZWdhY3kvbGVnYWN5LWVsZW1lbnQtbWl4aW4uanMnO1xuZXhwb3J0IHsgUG9seW1lciB9IGZyb20gICcuL2xpYi9sZWdhY3kvcG9seW1lci1mbi5qcyc7XG4vKiB0ZW1wbGF0ZSBlbGVtZW50cyAqL1xuaW1wb3J0ICcuL2xpYi9sZWdhY3kvdGVtcGxhdGl6ZXItYmVoYXZpb3IuanMnO1xuaW1wb3J0ICcuL2xpYi9lbGVtZW50cy9kb20tYmluZC5qcyc7XG5pbXBvcnQgJy4vbGliL2VsZW1lbnRzL2RvbS1yZXBlYXQuanMnO1xuaW1wb3J0ICcuL2xpYi9lbGVtZW50cy9kb20taWYuanMnO1xuaW1wb3J0ICcuL2xpYi9lbGVtZW50cy9hcnJheS1zZWxlY3Rvci5qcyc7XG4vKiBjdXN0b20tc3R5bGUgKi9cbmltcG9ydCAnLi9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzJztcbi8qIGJjIGJlaGF2aW9ycyAqL1xuaW1wb3J0ICcuL2xpYi9sZWdhY3kvbXV0YWJsZS1kYXRhLWJlaGF2aW9yLmpzJztcbi8qIGltcG9ydCBodG1sLXRhZyB0byBleHBvcnQgaHRtbCAqL1xuZXhwb3J0IHsgaHRtbCB9IGZyb20gJy4vbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuLy8gYmNcbmV4cG9ydCBjb25zdCBCYXNlID0gTGVnYWN5RWxlbWVudE1peGluKEhUTUxFbGVtZW50KS5wcm90b3R5cGU7XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTUgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0XG5odHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHQgVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZVxuZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHQgQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXNcbnBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvIHN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnRcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWxlZ2FjeS5qcyc7XG5cbmltcG9ydCB7ZG9tfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvcG9seW1lci5kb20uanMnO1xuaW1wb3J0IHt1c2VTaGFkb3d9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3NldHRpbmdzLmpzJztcblxuLy8gQ29udGFpbnMgYWxsIGNvbm5lY3RlZCByZXNpemFibGVzIHRoYXQgZG8gbm90IGhhdmUgYSBwYXJlbnQuXG52YXIgT1JQSEFOUyA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBgSXJvblJlc2l6YWJsZUJlaGF2aW9yYCBpcyBhIGJlaGF2aW9yIHRoYXQgY2FuIGJlIHVzZWQgaW4gUG9seW1lciBlbGVtZW50cyB0b1xuICogY29vcmRpbmF0ZSB0aGUgZmxvdyBvZiByZXNpemUgZXZlbnRzIGJldHdlZW4gXCJyZXNpemVyc1wiIChlbGVtZW50cyB0aGF0XG4gKmNvbnRyb2wgdGhlIHNpemUgb3IgaGlkZGVuIHN0YXRlIG9mIHRoZWlyIGNoaWxkcmVuKSBhbmQgXCJyZXNpemFibGVzXCIgKGVsZW1lbnRzXG4gKnRoYXQgbmVlZCB0byBiZSBub3RpZmllZCB3aGVuIHRoZXkgYXJlIHJlc2l6ZWQgb3IgdW4taGlkZGVuIGJ5IHRoZWlyIHBhcmVudHNcbiAqaW4gb3JkZXIgdG8gdGFrZSBhY3Rpb24gb24gdGhlaXIgbmV3IG1lYXN1cmVtZW50cykuXG4gKlxuICogRWxlbWVudHMgdGhhdCBwZXJmb3JtIG1lYXN1cmVtZW50IHNob3VsZCBhZGQgdGhlIGBJcm9uUmVzaXphYmxlQmVoYXZpb3JgXG4gKmJlaGF2aW9yIHRvIHRoZWlyIGVsZW1lbnQgZGVmaW5pdGlvbiBhbmQgbGlzdGVuIGZvciB0aGUgYGlyb24tcmVzaXplYCBldmVudCBvblxuICp0aGVtc2VsdmVzLiBUaGlzIGV2ZW50IHdpbGwgYmUgZmlyZWQgd2hlbiB0aGV5IGJlY29tZSBzaG93aW5nIGFmdGVyIGhhdmluZ1xuICpiZWVuIGhpZGRlbiwgd2hlbiB0aGV5IGFyZSByZXNpemVkIGV4cGxpY2l0bHkgYnkgYW5vdGhlciByZXNpemFibGUsIG9yIHdoZW5cbiAqdGhlIHdpbmRvdyBoYXMgYmVlbiByZXNpemVkLlxuICpcbiAqIE5vdGUsIHRoZSBgaXJvbi1yZXNpemVgIGV2ZW50IGlzIG5vbi1idWJibGluZy5cbiAqXG4gKiBAcG9seW1lckJlaGF2aW9yXG4gKiBAZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiAqKi9cbmV4cG9ydCBjb25zdCBJcm9uUmVzaXphYmxlQmVoYXZpb3IgPSB7XG4gIHByb3BlcnRpZXM6IHtcbiAgICAvKipcbiAgICAgKiBUaGUgY2xvc2VzdCBhbmNlc3RvciBlbGVtZW50IHRoYXQgaW1wbGVtZW50cyBgSXJvblJlc2l6YWJsZUJlaGF2aW9yYC5cbiAgICAgKi9cbiAgICBfcGFyZW50UmVzaXphYmxlOiB7XG4gICAgICB0eXBlOiBPYmplY3QsXG4gICAgICBvYnNlcnZlcjogJ19wYXJlbnRSZXNpemFibGVDaGFuZ2VkJyxcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIGVsZW1lbnQgaXMgY3VycmVudGx5IG5vdGlmeWluZyBpdHMgZGVzY2VuZGFudCBlbGVtZW50cyBvZlxuICAgICAqIHJlc2l6ZS5cbiAgICAgKi9cbiAgICBfbm90aWZ5aW5nRGVzY2VuZGFudDoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICB9XG4gIH0sXG5cbiAgbGlzdGVuZXJzOiB7XG4gICAgJ2lyb24tcmVxdWVzdC1yZXNpemUtbm90aWZpY2F0aW9ucyc6ICdfb25Jcm9uUmVxdWVzdFJlc2l6ZU5vdGlmaWNhdGlvbnMnXG4gIH0sXG5cbiAgY3JlYXRlZDogZnVuY3Rpb24oKSB7XG4gICAgLy8gV2UgZG9uJ3QgcmVhbGx5IG5lZWQgcHJvcGVydHkgZWZmZWN0cyBvbiB0aGVzZSwgYW5kIGFsc28gd2Ugd2FudCB0aGVtXG4gICAgLy8gdG8gYmUgY3JlYXRlZCBiZWZvcmUgdGhlIGBfcGFyZW50UmVzaXphYmxlYCBvYnNlcnZlciBmaXJlczpcbiAgICB0aGlzLl9pbnRlcmVzdGVkUmVzaXphYmxlcyA9IFtdO1xuICAgIHRoaXMuX2JvdW5kTm90aWZ5UmVzaXplID0gdGhpcy5ub3RpZnlSZXNpemUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZE9uRGVzY2VuZGFudElyb25SZXNpemUgPSB0aGlzLl9vbkRlc2NlbmRhbnRJcm9uUmVzaXplLmJpbmQodGhpcyk7XG4gIH0sXG5cbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zKCk7XG4gIH0sXG5cbiAgZGV0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl9wYXJlbnRSZXNpemFibGUpIHtcbiAgICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZS5zdG9wUmVzaXplTm90aWZpY2F0aW9uc0Zvcih0aGlzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgT1JQSEFOUy5kZWxldGUodGhpcyk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYm91bmROb3RpZnlSZXNpemUpO1xuICAgIH1cblxuICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZSA9IG51bGw7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbiBiZSBjYWxsZWQgdG8gbWFudWFsbHkgbm90aWZ5IGEgcmVzaXphYmxlIGFuZCBpdHMgZGVzY2VuZGFudFxuICAgKiByZXNpemFibGVzIG9mIGEgcmVzaXplIGNoYW5nZS5cbiAgICovXG4gIG5vdGlmeVJlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmlzQXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbnRlcmVzdGVkUmVzaXphYmxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJlc2l6YWJsZSkge1xuICAgICAgaWYgKHRoaXMucmVzaXplclNob3VsZE5vdGlmeShyZXNpemFibGUpKSB7XG4gICAgICAgIHRoaXMuX25vdGlmeURlc2NlbmRhbnQocmVzaXphYmxlKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzKTtcblxuICAgIHRoaXMuX2ZpcmVSZXNpemUoKTtcbiAgfSxcblxuICAvKipcbiAgICogVXNlZCB0byBhc3NpZ24gdGhlIGNsb3Nlc3QgcmVzaXphYmxlIGFuY2VzdG9yIHRvIHRoaXMgcmVzaXphYmxlXG4gICAqIGlmIHRoZSBhbmNlc3RvciBkZXRlY3RzIGEgcmVxdWVzdCBmb3Igbm90aWZpY2F0aW9ucy5cbiAgICovXG4gIGFzc2lnblBhcmVudFJlc2l6YWJsZTogZnVuY3Rpb24ocGFyZW50UmVzaXphYmxlKSB7XG4gICAgaWYgKHRoaXMuX3BhcmVudFJlc2l6YWJsZSkge1xuICAgICAgdGhpcy5fcGFyZW50UmVzaXphYmxlLnN0b3BSZXNpemVOb3RpZmljYXRpb25zRm9yKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuX3BhcmVudFJlc2l6YWJsZSA9IHBhcmVudFJlc2l6YWJsZTtcblxuICAgIGlmIChwYXJlbnRSZXNpemFibGUgJiZcbiAgICAgICAgcGFyZW50UmVzaXphYmxlLl9pbnRlcmVzdGVkUmVzaXphYmxlcy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgcGFyZW50UmVzaXphYmxlLl9pbnRlcmVzdGVkUmVzaXphYmxlcy5wdXNoKHRoaXMpO1xuICAgICAgcGFyZW50UmVzaXphYmxlLl9zdWJzY3JpYmVJcm9uUmVzaXplKHRoaXMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogVXNlZCB0byByZW1vdmUgYSByZXNpemFibGUgZGVzY2VuZGFudCBmcm9tIHRoZSBsaXN0IG9mIGRlc2NlbmRhbnRzXG4gICAqIHRoYXQgc2hvdWxkIGJlIG5vdGlmaWVkIG9mIGEgcmVzaXplIGNoYW5nZS5cbiAgICovXG4gIHN0b3BSZXNpemVOb3RpZmljYXRpb25zRm9yOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB2YXIgaW5kZXggPSB0aGlzLl9pbnRlcmVzdGVkUmVzaXphYmxlcy5pbmRleE9mKHRhcmdldCk7XG5cbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5faW50ZXJlc3RlZFJlc2l6YWJsZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlSXJvblJlc2l6ZSh0YXJnZXQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU3Vic2NyaWJlIHRoaXMgZWxlbWVudCB0byBsaXN0ZW4gdG8gaXJvbi1yZXNpemUgZXZlbnRzIG9uIHRoZSBnaXZlbiB0YXJnZXQuXG4gICAqXG4gICAqIFByZWZlcnJlZCBvdmVyIHRhcmdldC5saXN0ZW4gYmVjYXVzZSB0aGUgcHJvcGVydHkgcmVuYW1lciBkb2VzIG5vdFxuICAgKiB1bmRlcnN0YW5kIHRvIHJlbmFtZSB3aGVuIHRoZSB0YXJnZXQgaXMgbm90IHNwZWNpZmljYWxseSBcInRoaXNcIlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gdGFyZ2V0IEVsZW1lbnQgdG8gbGlzdGVuIHRvIGZvciBpcm9uLXJlc2l6ZSBldmVudHMuXG4gICAqL1xuICBfc3Vic2NyaWJlSXJvblJlc2l6ZTogZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ2lyb24tcmVzaXplJywgdGhpcy5fYm91bmRPbkRlc2NlbmRhbnRJcm9uUmVzaXplKTtcbiAgfSxcblxuICAvKipcbiAgICogVW5zdWJzY3JpYmUgdGhpcyBlbGVtZW50IGZyb20gbGlzdGVuaW5nIHRvIHRvIGlyb24tcmVzaXplIGV2ZW50cyBvbiB0aGVcbiAgICogZ2l2ZW4gdGFyZ2V0LlxuICAgKlxuICAgKiBQcmVmZXJyZWQgb3ZlciB0YXJnZXQudW5saXN0ZW4gYmVjYXVzZSB0aGUgcHJvcGVydHkgcmVuYW1lciBkb2VzIG5vdFxuICAgKiB1bmRlcnN0YW5kIHRvIHJlbmFtZSB3aGVuIHRoZSB0YXJnZXQgaXMgbm90IHNwZWNpZmljYWxseSBcInRoaXNcIlxuICAgKlxuICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gdGFyZ2V0IEVsZW1lbnQgdG8gbGlzdGVuIHRvIGZvciBpcm9uLXJlc2l6ZSBldmVudHMuXG4gICAqL1xuICBfdW5zdWJzY3JpYmVJcm9uUmVzaXplOiBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2lyb24tcmVzaXplJywgdGhpcy5fYm91bmRPbkRlc2NlbmRhbnRJcm9uUmVzaXplKTtcbiAgfSxcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIG92ZXJyaWRkZW4gdG8gZmlsdGVyIG5lc3RlZCBlbGVtZW50cyB0aGF0IHNob3VsZCBvclxuICAgKiBzaG91bGQgbm90IGJlIG5vdGlmaWVkIGJ5IHRoZSBjdXJyZW50IGVsZW1lbnQuIFJldHVybiB0cnVlIGlmIGFuIGVsZW1lbnRcbiAgICogc2hvdWxkIGJlIG5vdGlmaWVkLCBvciBmYWxzZSBpZiBpdCBzaG91bGQgbm90IGJlIG5vdGlmaWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEEgY2FuZGlkYXRlIGRlc2NlbmRhbnQgZWxlbWVudCB0aGF0XG4gICAqIGltcGxlbWVudHMgYElyb25SZXNpemFibGVCZWhhdmlvcmAuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGBlbGVtZW50YCBzaG91bGQgYmUgbm90aWZpZWQgb2YgcmVzaXplLlxuICAgKi9cbiAgcmVzaXplclNob3VsZE5vdGlmeTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIF9vbkRlc2NlbmRhbnRJcm9uUmVzaXplOiBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICh0aGlzLl9ub3RpZnlpbmdEZXNjZW5kYW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBubyBuZWVkIHRvIHVzZSB0aGlzIGR1cmluZyBzaGFkb3cgZG9tIGJlY2F1c2Ugb2YgZXZlbnQgcmV0YXJnZXRpbmdcbiAgICBpZiAoIXVzZVNoYWRvdykge1xuICAgICAgdGhpcy5fZmlyZVJlc2l6ZSgpO1xuICAgIH1cbiAgfSxcblxuICBfZmlyZVJlc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5maXJlKCdpcm9uLXJlc2l6ZScsIG51bGwsIHtub2RlOiB0aGlzLCBidWJibGVzOiBmYWxzZX0pO1xuICB9LFxuXG4gIF9vbklyb25SZXF1ZXN0UmVzaXplTm90aWZpY2F0aW9uczogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgdGFyZ2V0ID0gLyoqIEB0eXBlIHshRXZlbnRUYXJnZXR9ICovIChkb20oZXZlbnQpLnJvb3RUYXJnZXQpO1xuICAgIGlmICh0YXJnZXQgPT09IHRoaXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXNzaWduUGFyZW50UmVzaXphYmxlKHRoaXMpO1xuICAgIHRoaXMuX25vdGlmeURlc2NlbmRhbnQodGFyZ2V0KTtcblxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9LFxuXG4gIF9wYXJlbnRSZXNpemFibGVDaGFuZ2VkOiBmdW5jdGlvbihwYXJlbnRSZXNpemFibGUpIHtcbiAgICBpZiAocGFyZW50UmVzaXphYmxlKSB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5fYm91bmROb3RpZnlSZXNpemUpO1xuICAgIH1cbiAgfSxcblxuICBfbm90aWZ5RGVzY2VuZGFudDogZnVuY3Rpb24oZGVzY2VuZGFudCkge1xuICAgIC8vIE5PVEUoY2RhdGEpOiBJbiBJRTEwLCBhdHRhY2hlZCBpcyBmaXJlZCBvbiBjaGlsZHJlbiBmaXJzdCwgc28gaXQnc1xuICAgIC8vIGltcG9ydGFudCBub3QgdG8gbm90aWZ5IHRoZW0gaWYgdGhlIHBhcmVudCBpcyBub3QgYXR0YWNoZWQgeWV0IChvclxuICAgIC8vIGVsc2UgdGhleSB3aWxsIGdldCByZWR1bmRhbnRseSBub3RpZmllZCB3aGVuIHRoZSBwYXJlbnQgYXR0YWNoZXMpLlxuICAgIGlmICghdGhpcy5pc0F0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbm90aWZ5aW5nRGVzY2VuZGFudCA9IHRydWU7XG4gICAgZGVzY2VuZGFudC5ub3RpZnlSZXNpemUoKTtcbiAgICB0aGlzLl9ub3RpZnlpbmdEZXNjZW5kYW50ID0gZmFsc2U7XG4gIH0sXG5cbiAgX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIXRoaXMuaXNBdHRhY2hlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgIHZhciBfcmVxdWVzdFJlc2l6ZU5vdGlmaWNhdGlvbnMgPVxuICAgICAgICAgIHRoaXMuX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zLmJpbmQodGhpcyk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gcmVhZHlzdGF0ZWNoYW5nZWQoKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgcmVhZHlzdGF0ZWNoYW5nZWQpO1xuICAgICAgICAgICAgX3JlcXVlc3RSZXNpemVOb3RpZmljYXRpb25zKCk7XG4gICAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZpbmRQYXJlbnQoKTtcblxuICAgICAgaWYgKCF0aGlzLl9wYXJlbnRSZXNpemFibGUpIHtcbiAgICAgICAgLy8gSWYgdGhpcyByZXNpemFibGUgaXMgYW4gb3JwaGFuLCB0ZWxsIG90aGVyIG9ycGhhbnMgdG8gdHJ5IHRvIGZpbmRcbiAgICAgICAgLy8gdGhlaXIgcGFyZW50IGFnYWluLCBpbiBjYXNlIGl0J3MgdGhpcyByZXNpemFibGUuXG4gICAgICAgIE9SUEhBTlMuZm9yRWFjaChmdW5jdGlvbihvcnBoYW4pIHtcbiAgICAgICAgICBpZiAob3JwaGFuICE9PSB0aGlzKSB7XG4gICAgICAgICAgICBvcnBoYW4uX2ZpbmRQYXJlbnQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLl9ib3VuZE5vdGlmeVJlc2l6ZSk7XG4gICAgICAgIHRoaXMubm90aWZ5UmVzaXplKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBJZiB0aGlzIHJlc2l6YWJsZSBoYXMgYSBwYXJlbnQsIHRlbGwgb3RoZXIgY2hpbGQgcmVzaXphYmxlcyBvZlxuICAgICAgICAvLyB0aGF0IHBhcmVudCB0byB0cnkgZmluZGluZyB0aGVpciBwYXJlbnQgYWdhaW4sIGluIGNhc2UgaXQncyB0aGlzXG4gICAgICAgIC8vIHJlc2l6YWJsZS5cbiAgICAgICAgdGhpcy5fcGFyZW50UmVzaXphYmxlLl9pbnRlcmVzdGVkUmVzaXphYmxlc1xuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24ocmVzaXphYmxlKSB7XG4gICAgICAgICAgICAgIGlmIChyZXNpemFibGUgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXNpemFibGUuX2ZpbmRQYXJlbnQoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIF9maW5kUGFyZW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmFzc2lnblBhcmVudFJlc2l6YWJsZShudWxsKTtcbiAgICB0aGlzLmZpcmUoXG4gICAgICAgICdpcm9uLXJlcXVlc3QtcmVzaXplLW5vdGlmaWNhdGlvbnMnLFxuICAgICAgICBudWxsLFxuICAgICAgICB7bm9kZTogdGhpcywgYnViYmxlczogdHJ1ZSwgY2FuY2VsYWJsZTogdHJ1ZX0pO1xuXG4gICAgaWYgKCF0aGlzLl9wYXJlbnRSZXNpemFibGUpIHtcbiAgICAgIE9SUEhBTlMuYWRkKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBPUlBIQU5TLmRlbGV0ZSh0aGlzKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqL1xuZXhwb3J0IGNvbnN0IFRoZW1lUHJvcGVydHlNaXhpbiA9IHN1cGVyQ2xhc3MgPT4gY2xhc3MgVmFhZGluVGhlbWVQcm9wZXJ0eU1peGluIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBIZWxwZXIgcHJvcGVydHkgd2l0aCB0aGVtZSBhdHRyaWJ1dGUgdmFsdWUgZmFjaWxpdGF0aW5nIHByb3BhZ2F0aW9uXG4gICAgICAgKiBpbiBzaGFkb3cgRE9NLlxuICAgICAgICpcbiAgICAgICAqIEVuYWJsZXMgdGhlIGNvbXBvbmVudCBpbXBsZW1lbnRhdGlvbiB0byBwcm9wYWdhdGUgdGhlIGB0aGVtZWBcbiAgICAgICAqIGF0dHJpYnV0ZSB2YWx1ZSB0byB0aGUgc3ViY29tcG9uZW50cyBpbiBTaGFkb3cgRE9NIGJ5IGJpbmRpbmdcbiAgICAgICAqIHRoZSBzdWJjb21wb25lbnTigJlzIFwidGhlbWVcIiBhdHRyaWJ1dGUgdG8gdGhlIGB0aGVtZWAgcHJvcGVydHkgb2ZcbiAgICAgICAqIHRoZSBob3N0LlxuICAgICAgICpcbiAgICAgICAqICoqTk9URToqKiBFeHRlbmRpbmcgdGhlIG1peGluIG9ubHkgcHJvdmlkZXMgdGhlIHByb3BlcnR5IGZvciBiaW5kaW5nLFxuICAgICAgICogYW5kIGRvZXMgbm90IG1ha2UgdGhlIHByb3BhZ2F0aW9uIGFsb25lLlxuICAgICAgICpcbiAgICAgICAqIFNlZSBbVGhlbWUgQXR0cmlidXRlIGFuZCBTdWJjb21wb25lbnRzXShodHRwczovL2dpdGh1Yi5jb20vdmFhZGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi93aWtpLzUuLVRoZW1lLUF0dHJpYnV0ZS1hbmQtU3ViY29tcG9uZW50cykuXG4gICAgICAgKiBwYWdlIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAqL1xuICAgICAgdGhlbWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZWFkT25seTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sobmFtZSwgb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgc3VwZXIuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKG5hbWUsIG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG5cbiAgICBpZiAobmFtZSA9PT0gJ3RoZW1lJykge1xuICAgICAgdGhpcy5fc2V0VGhlbWUobmV3VmFsdWUpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7IERvbU1vZHVsZSB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL2VsZW1lbnRzL2RvbS1tb2R1bGUuanMnO1xuaW1wb3J0IHsgVGhlbWVQcm9wZXJ0eU1peGluIH0gZnJvbSAnLi92YWFkaW4tdGhlbWUtcHJvcGVydHktbWl4aW4uanMnO1xuXG4vKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uVGhlbWVQcm9wZXJ0eU1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBUaGVtYWJsZU1peGluID0gc3VwZXJDbGFzcyA9PiBjbGFzcyBWYWFkaW5UaGVtYWJsZU1peGluIGV4dGVuZHMgVGhlbWVQcm9wZXJ0eU1peGluKHN1cGVyQ2xhc3MpIHtcblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgc3VwZXIuZmluYWxpemUoKTtcblxuICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5wcm90b3R5cGUuX3RlbXBsYXRlO1xuXG4gICAgY29uc3QgaGFzT3duVGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlICYmIHRoaXMudGVtcGxhdGUucGFyZW50RWxlbWVudCAmJiB0aGlzLnRlbXBsYXRlLnBhcmVudEVsZW1lbnQuaWQgPT09IHRoaXMuaXM7XG4gICAgY29uc3QgaW5oZXJpdGVkVGVtcGxhdGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcy5wcm90b3R5cGUpLl90ZW1wbGF0ZTtcbiAgICBpZiAoaW5oZXJpdGVkVGVtcGxhdGUgJiYgIWhhc093blRlbXBsYXRlKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBkb2Vzbid0IGRlZmluZSBpdHMgb3duIHRlbXBsYXRlIC0+IGluY2x1ZGUgdGhlIHRoZW1lIG1vZHVsZXMgZnJvbSB0aGUgaW5oZXJpdGVkIHRlbXBsYXRlXG4gICAgICBBcnJheS5mcm9tKGluaGVyaXRlZFRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3RvckFsbCgnc3R5bGVbaW5jbHVkZV0nKSkuZm9yRWFjaChzID0+IHtcbiAgICAgICAgdGhpcy5faW5jbHVkZVN0eWxlKHMuZ2V0QXR0cmlidXRlKCdpbmNsdWRlJyksIHRlbXBsYXRlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX2luY2x1ZGVNYXRjaGluZ1RoZW1lcyh0ZW1wbGF0ZSk7XG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBzdGF0aWMgX2luY2x1ZGVNYXRjaGluZ1RoZW1lcyh0ZW1wbGF0ZSkge1xuICAgIGNvbnN0IGRvbU1vZHVsZSA9IERvbU1vZHVsZTtcbiAgICBjb25zdCBtb2R1bGVzID0gZG9tTW9kdWxlLnByb3RvdHlwZS5tb2R1bGVzO1xuXG4gICAgbGV0IGhhc1RoZW1lcyA9IGZhbHNlO1xuICAgIGNvbnN0IGRlZmF1bHRNb2R1bGVOYW1lID0gdGhpcy5pcyArICctZGVmYXVsdC10aGVtZSc7XG5cbiAgICBPYmplY3Qua2V5cyhtb2R1bGVzKVxuICAgICAgLnNvcnQoKG1vZHVsZU5hbWVBLCBtb2R1bGVOYW1lQikgPT4ge1xuICAgICAgICBjb25zdCB2YWFkaW5BID0gbW9kdWxlTmFtZUEuaW5kZXhPZigndmFhZGluLScpID09PSAwO1xuICAgICAgICBjb25zdCB2YWFkaW5CID0gbW9kdWxlTmFtZUIuaW5kZXhPZigndmFhZGluLScpID09PSAwO1xuXG4gICAgICAgIGNvbnN0IHZhYWRpblRoZW1lUHJlZml4ZXMgPSBbJ2x1bW8tJywgJ21hdGVyaWFsLSddO1xuICAgICAgICBjb25zdCB2YWFkaW5UaGVtZUEgPSB2YWFkaW5UaGVtZVByZWZpeGVzLmZpbHRlcihwcmVmaXggPT4gbW9kdWxlTmFtZUEuaW5kZXhPZihwcmVmaXgpID09PSAwKS5sZW5ndGggPiAwO1xuICAgICAgICBjb25zdCB2YWFkaW5UaGVtZUIgPSB2YWFkaW5UaGVtZVByZWZpeGVzLmZpbHRlcihwcmVmaXggPT4gbW9kdWxlTmFtZUIuaW5kZXhPZihwcmVmaXgpID09PSAwKS5sZW5ndGggPiAwO1xuXG4gICAgICAgIGlmICh2YWFkaW5BICE9PSB2YWFkaW5CKSB7XG4gICAgICAgICAgLy8gSW5jbHVkZSB2YWFkaW4gY29yZSBzdHlsZXMgZmlyc3RcbiAgICAgICAgICByZXR1cm4gdmFhZGluQSA/IC0xIDogMTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWFkaW5UaGVtZUEgIT09IHZhYWRpblRoZW1lQikge1xuICAgICAgICAgIC8vIEluY2x1ZGUgdmFhZGluIHRoZW1lIHN0eWxlcyBhZnRlciB0aGF0XG4gICAgICAgICAgcmV0dXJuIHZhYWRpblRoZW1lQSA/IC0xIDogMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMYXN0bHkgaW5jbHVkZSBjdXN0b20gc3R5bGVzIHNvIHRoZXkgb3ZlcnJpZGUgYWxsIHZhYWRpbiBzdHlsZXNcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5mb3JFYWNoKG1vZHVsZU5hbWUgPT4ge1xuICAgICAgICBpZiAobW9kdWxlTmFtZSAhPT0gZGVmYXVsdE1vZHVsZU5hbWUpIHtcbiAgICAgICAgICBjb25zdCB0aGVtZUZvciA9IG1vZHVsZXNbbW9kdWxlTmFtZV0uZ2V0QXR0cmlidXRlKCd0aGVtZS1mb3InKTtcbiAgICAgICAgICBpZiAodGhlbWVGb3IpIHtcbiAgICAgICAgICAgIHRoZW1lRm9yLnNwbGl0KCcgJykuZm9yRWFjaCh0aGVtZUZvclRva2VuID0+IHtcbiAgICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoJ14nICsgdGhlbWVGb3JUb2tlbi5zcGxpdCgnKicpLmpvaW4oJy4qJykgKyAnJCcpLnRlc3QodGhpcy5pcykpIHtcbiAgICAgICAgICAgICAgICBoYXNUaGVtZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luY2x1ZGVTdHlsZShtb2R1bGVOYW1lLCB0ZW1wbGF0ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBpZiAoIWhhc1RoZW1lcyAmJiBtb2R1bGVzW2RlZmF1bHRNb2R1bGVOYW1lXSkge1xuICAgICAgLy8gTm8gdGhlbWUgbW9kdWxlcyBmb3VuZCwgaW5jbHVkZSB0aGUgZGVmYXVsdCBtb2R1bGUgaWYgaXQgZXhpc3RzXG4gICAgICB0aGlzLl9pbmNsdWRlU3R5bGUoZGVmYXVsdE1vZHVsZU5hbWUsIHRlbXBsYXRlKTtcbiAgICB9XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgc3RhdGljIF9pbmNsdWRlU3R5bGUobW9kdWxlTmFtZSwgdGVtcGxhdGUpIHtcbiAgICBpZiAodGVtcGxhdGUgJiYgIXRlbXBsYXRlLmNvbnRlbnQucXVlcnlTZWxlY3Rvcihgc3R5bGVbaW5jbHVkZT1cIiR7bW9kdWxlTmFtZX1cIl1gKSkge1xuICAgICAgY29uc3Qgc3R5bGVFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICBzdHlsZUVsLnNldEF0dHJpYnV0ZSgnaW5jbHVkZScsIG1vZHVsZU5hbWUpO1xuICAgICAgdGVtcGxhdGUuY29udGVudC5hcHBlbmRDaGlsZChzdHlsZUVsKTtcbiAgICB9XG4gIH1cblxufTtcbiIsImNvbnN0IERFVl9NT0RFX0NPREVfUkVHRVhQID1cbiAgL1xcL1xcKlxcKlxccyt2YWFkaW4tZGV2LW1vZGU6c3RhcnQoW1xcc1xcU10qKXZhYWRpbi1kZXYtbW9kZTplbmRcXHMrXFwqXFwqXFwvL2k7XG5cbmNvbnN0IEZsb3dDbGllbnRzID0gd2luZG93LlZhYWRpbiAmJiB3aW5kb3cuVmFhZGluLkZsb3cgJiYgd2luZG93LlZhYWRpbi5GbG93LmNsaWVudHM7XG5cbmZ1bmN0aW9uIGlzTWluaWZpZWQoKSB7XG4gIGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgLyoqIHZhYWRpbi1kZXYtbW9kZTpzdGFydFxuICAgIHJldHVybiBmYWxzZTtcbiAgICB2YWFkaW4tZGV2LW1vZGU6ZW5kICoqL1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiB1bmNvbW1lbnRBbmRSdW4odGVzdCk7XG59XG5cbmZ1bmN0aW9uIGlzRGV2ZWxvcG1lbnRNb2RlKCkge1xuICB0cnkge1xuICAgIGlmIChpc0ZvcmNlZERldmVsb3BtZW50TW9kZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIWlzTG9jYWxob3N0KCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoRmxvd0NsaWVudHMpIHtcbiAgICAgIHJldHVybiAhaXNGbG93UHJvZHVjdGlvbk1vZGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWlzTWluaWZpZWQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFNvbWUgZXJyb3IgaW4gdGhpcyBjb2RlLCBhc3N1bWUgcHJvZHVjdGlvbiBzbyBubyBmdXJ0aGVyIGFjdGlvbnMgd2lsbCBiZSB0YWtlblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0ZvcmNlZERldmVsb3BtZW50TW9kZSgpIHtcbiAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidmFhZGluLmRldmVsb3BtZW50bW9kZS5mb3JjZVwiKTtcbn1cblxuZnVuY3Rpb24gaXNMb2NhbGhvc3QoKSB7XG4gIHJldHVybiAoW1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0uaW5kZXhPZih3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpID49IDApO1xufVxuXG5mdW5jdGlvbiBpc0Zsb3dQcm9kdWN0aW9uTW9kZSgpIHtcbiAgaWYgKEZsb3dDbGllbnRzKSB7XG4gICAgY29uc3QgcHJvZHVjdGlvbk1vZGVBcHBzID0gT2JqZWN0LmtleXMoRmxvd0NsaWVudHMpXG4gICAgICAubWFwKGtleSA9PiBGbG93Q2xpZW50c1trZXldKVxuICAgICAgLmZpbHRlcihjbGllbnQgPT4gY2xpZW50LnByb2R1Y3Rpb25Nb2RlKTtcbiAgICBpZiAocHJvZHVjdGlvbk1vZGVBcHBzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHVuY29tbWVudEFuZFJ1bihjYWxsYmFjaywgYXJncykge1xuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgbWF0Y2ggPSBERVZfTU9ERV9DT0RFX1JFR0VYUC5leGVjKGNhbGxiYWNrLnRvU3RyaW5nKCkpO1xuICBpZiAobWF0Y2gpIHtcbiAgICB0cnkge1xuICAgICAgLy8gcmVxdWlyZXMgQ1NQOiBzY3JpcHQtc3JjICd1bnNhZmUtZXZhbCdcbiAgICAgIGNhbGxiYWNrID0gbmV3IEZ1bmN0aW9uKG1hdGNoWzFdKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlYXQgdGhlIGV4Y2VwdGlvblxuICAgICAgY29uc29sZS5sb2coJ3ZhYWRpbi1kZXZlbG9wbWVudC1tb2RlLWRldGVjdG9yOiB1bmNvbW1lbnRBbmRSdW4oKSBmYWlsZWQnLCBlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjYWxsYmFjayhhcmdzKTtcbn1cblxuLy8gQSBndWFyZCBhZ2FpbnN0IHBvbHltZXItbW9kdWxpemVyIHJlbW92aW5nIHRoZSB3aW5kb3cuVmFhZGluXG4vLyBpbml0aWFsaXphdGlvbiBhYm92ZS5cbndpbmRvd1snVmFhZGluJ10gPSB3aW5kb3dbJ1ZhYWRpbiddIHx8IHt9O1xuXG4vKipcbiAqIEluc3BlY3RzIHRoZSBzb3VyY2UgY29kZSBvZiB0aGUgZ2l2ZW4gYGNhbGxiYWNrYCBmdW5jdGlvbiBmb3JcbiAqIHNwZWNpYWxseS1tYXJrZWQgX2NvbW1lbnRlZF8gY29kZS4gSWYgc3VjaCBjb21tZW50ZWQgY29kZSBpcyBmb3VuZCBpbiB0aGVcbiAqIGNhbGxiYWNrIHNvdXJjZSwgdW5jb21tZW50cyBhbmQgcnVucyB0aGF0IGNvZGUgaW5zdGVhZCBvZiB0aGUgY2FsbGJhY2tcbiAqIGl0c2VsZi4gT3RoZXJ3aXNlIHJ1bnMgdGhlIGNhbGxiYWNrIGFzIGlzLlxuICpcbiAqIFRoZSBvcHRpb25hbCBhcmd1bWVudHMgYXJlIHBhc3NlZCBpbnRvIHRoZSBjYWxsYmFjayAvIHVuY29tbWVudGVkIGNvZGUsXG4gKiB0aGUgcmVzdWx0IGlzIHJldHVybmVkLlxuICpcbiAqIFNlZSB0aGUgYGlzTWluaWZpZWQoKWAgZnVuY3Rpb24gc291cmNlIGNvZGUgaW4gdGhpcyBmaWxlIGZvciBhbiBleGFtcGxlLlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IHJ1bklmRGV2ZWxvcG1lbnRNb2RlID0gZnVuY3Rpb24oY2FsbGJhY2ssIGFyZ3MpIHtcbiAgaWYgKHdpbmRvdy5WYWFkaW4uZGV2ZWxvcG1lbnRNb2RlKSB7XG4gICAgcmV0dXJuIHVuY29tbWVudEFuZFJ1bihjYWxsYmFjaywgYXJncyk7XG4gIH1cbn07XG5cbmlmICh3aW5kb3cuVmFhZGluLmRldmVsb3BtZW50TW9kZSA9PT0gdW5kZWZpbmVkKSB7XG4gIHdpbmRvdy5WYWFkaW4uZGV2ZWxvcG1lbnRNb2RlID0gaXNEZXZlbG9wbWVudE1vZGUoKTtcbn1cbiIsIi8qIFRoaXMgZmlsZSBpcyBhdXRvZ2VuZXJhdGVkIGZyb20gc3JjL3ZhYWRpbi11c2FnZS1zdGF0aXN0aWNzLnRwbC5odG1sICovXG4vKlxuXG5UaGlzIHNjcmlwdCBnYXRoZXJzIHVzYWdlIHN0YXRpc3RpY3MgZnJvbSB0aGUgYXBwbGljYXRpb24gcnVubmluZyBpbiBkZXZlbG9wbWVudCBtb2RlLlxuXG5TdGF0aXN0aWNzIGdhdGhlcmluZyBpcyBhdXRvbWF0aWNhbGx5IGRpc2FibGVkIGFuZCBleGNsdWRlZCBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzLlxuXG5Gb3IgZGV0YWlscyBhbmQgdG8gb3B0LW91dCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92YWFkaW4vdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MuXG5cbiovXG4vKlxuICBGSVhNRShwb2x5bWVyLW1vZHVsaXplcik6IHRoZSBhYm92ZSBjb21tZW50cyB3ZXJlIGV4dHJhY3RlZFxuICBmcm9tIEhUTUwgYW5kIG1heSBiZSBvdXQgb2YgcGxhY2UgaGVyZS4gUmV2aWV3IHRoZW0gYW5kXG4gIHRoZW4gZGVsZXRlIHRoaXMgY29tbWVudCFcbiovXG5pbXBvcnQgeyBydW5JZkRldmVsb3BtZW50TW9kZSB9IGZyb20gJ0B2YWFkaW4vdmFhZGluLWRldmVsb3BtZW50LW1vZGUtZGV0ZWN0b3IvdmFhZGluLWRldmVsb3BtZW50LW1vZGUtZGV0ZWN0b3IuanMnO1xuXG5mdW5jdGlvbiBtYXliZUdhdGhlckFuZFNlbmRTdGF0cygpIHtcbiAgLyoqIHZhYWRpbi1kZXYtbW9kZTpzdGFydFxuICAoZnVuY3Rpb24gKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxudmFyIGNsYXNzQ2FsbENoZWNrID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbnZhciBjcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgIGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfTtcbn0oKTtcblxudmFyIGdldFBvbHltZXJWZXJzaW9uID0gZnVuY3Rpb24gZ2V0UG9seW1lclZlcnNpb24oKSB7XG4gIHJldHVybiB3aW5kb3cuUG9seW1lciAmJiB3aW5kb3cuUG9seW1lci52ZXJzaW9uO1xufTtcblxudmFyIFN0YXRpc3RpY3NHYXRoZXJlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RhdGlzdGljc0dhdGhlcmVyKGxvZ2dlcikge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRpc3RpY3NHYXRoZXJlcik7XG5cbiAgICB0aGlzLm5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3RhdGlzdGljc0dhdGhlcmVyLCBbe1xuICAgIGtleTogJ2ZyYW1ld29ya1ZlcnNpb25EZXRlY3RvcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmcmFtZXdvcmtWZXJzaW9uRGV0ZWN0b3JzKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJ0Zsb3cnOiBmdW5jdGlvbiBGbG93KCkge1xuICAgICAgICAgIGlmICh3aW5kb3cuVmFhZGluICYmIHdpbmRvdy5WYWFkaW4uRmxvdyAmJiB3aW5kb3cuVmFhZGluLkZsb3cuY2xpZW50cykge1xuICAgICAgICAgICAgdmFyIGZsb3dWZXJzaW9ucyA9IE9iamVjdC5rZXlzKHdpbmRvdy5WYWFkaW4uRmxvdy5jbGllbnRzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4gd2luZG93LlZhYWRpbi5GbG93LmNsaWVudHNba2V5XTtcbiAgICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgICAgICAgIHJldHVybiBjbGllbnQuZ2V0VmVyc2lvbkluZm87XG4gICAgICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmdldFZlcnNpb25JbmZvKCkuZmxvdztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGZsb3dWZXJzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmbG93VmVyc2lvbnNbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnVmFhZGluIEZyYW1ld29yayc6IGZ1bmN0aW9uIFZhYWRpbkZyYW1ld29yaygpIHtcbiAgICAgICAgICBpZiAod2luZG93LnZhYWRpbiAmJiB3aW5kb3cudmFhZGluLmNsaWVudHMpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZXdvcmtWZXJzaW9ucyA9IE9iamVjdC52YWx1ZXMod2luZG93LnZhYWRpbi5jbGllbnRzKS5maWx0ZXIoZnVuY3Rpb24gKGNsaWVudCkge1xuICAgICAgICAgICAgICByZXR1cm4gY2xpZW50LmdldFZlcnNpb25JbmZvO1xuICAgICAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRWZXJzaW9uSW5mbygpLnZhYWRpblZlcnNpb247XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChmcmFtZXdvcmtWZXJzaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmcmFtZXdvcmtWZXJzaW9uc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdBbmd1bGFySnMnOiBmdW5jdGlvbiBBbmd1bGFySnMoKSB7XG4gICAgICAgICAgaWYgKHdpbmRvdy5hbmd1bGFyICYmIHdpbmRvdy5hbmd1bGFyLnZlcnNpb24gJiYgd2luZG93LmFuZ3VsYXIudmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5hbmd1bGFyLnZlcnNpb24uZnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdBbmd1bGFyJzogZnVuY3Rpb24gQW5ndWxhcigpIHtcbiAgICAgICAgICBpZiAod2luZG93Lm5nKSB7XG4gICAgICAgICAgICB2YXIgdGFncyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmctdmVyc2lvbl1cIik7XG4gICAgICAgICAgICBpZiAodGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0YWdzWzBdLmdldEF0dHJpYnV0ZShcIm5nLXZlcnNpb25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJVbmtub3duXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnQmFja2JvbmUuanMnOiBmdW5jdGlvbiBCYWNrYm9uZUpzKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cuQmFja2JvbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuQmFja2JvbmUuVkVSU0lPTjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdSZWFjdCc6IGZ1bmN0aW9uIFJlYWN0KCkge1xuICAgICAgICAgIHZhciByZWFjdFNlbGVjdG9yID0gJ1tkYXRhLXJlYWN0cm9vdF0sIFtkYXRhLXJlYWN0aWRdJztcbiAgICAgICAgICBpZiAoISFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHJlYWN0U2VsZWN0b3IpKSB7XG4gICAgICAgICAgICAvLyBSZWFjdCBkb2VzIG5vdCBwdWJsaXNoIHRoZSB2ZXJzaW9uIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHJldHVybiBcInVua25vd25cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdFbWJlcic6IGZ1bmN0aW9uIEVtYmVyKCkge1xuICAgICAgICAgIGlmICh3aW5kb3cuRW0gJiYgd2luZG93LkVtLlZFUlNJT04pIHtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuRW0uVkVSU0lPTjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5FbWJlciAmJiB3aW5kb3cuRW1iZXIuVkVSU0lPTikge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5FbWJlci5WRVJTSU9OO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ2pRdWVyeSc6IGZ1bmN0aW9uIChfalF1ZXJ5KSB7XG4gICAgICAgICAgZnVuY3Rpb24galF1ZXJ5KCkge1xuICAgICAgICAgICAgcmV0dXJuIF9qUXVlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBqUXVlcnkudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2pRdWVyeS50b1N0cmluZygpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4galF1ZXJ5O1xuICAgICAgICB9KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIGpRdWVyeSA9PT0gJ2Z1bmN0aW9uJyAmJiBqUXVlcnkucHJvdG90eXBlLmpxdWVyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4galF1ZXJ5LnByb3RvdHlwZS5qcXVlcnk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgJ1BvbHltZXInOiBmdW5jdGlvbiBQb2x5bWVyKCkge1xuICAgICAgICAgIHZhciB2ZXJzaW9uID0gZ2V0UG9seW1lclZlcnNpb24oKTtcbiAgICAgICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAnTGl0RWxlbWVudCc6IGZ1bmN0aW9uIExpdEVsZW1lbnQoKSB7XG4gICAgICAgICAgdmFyIHZlcnNpb24gPSB3aW5kb3cubGl0RWxlbWVudFZlcnNpb25zICYmIHdpbmRvdy5saXRFbGVtZW50VmVyc2lvbnNbMF07XG4gICAgICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgJ0xpdEh0bWwnOiBmdW5jdGlvbiBMaXRIdG1sKCkge1xuICAgICAgICAgIHZhciB2ZXJzaW9uID0gd2luZG93LmxpdEh0bWxWZXJzaW9ucyAmJiB3aW5kb3cubGl0SHRtbFZlcnNpb25zWzBdO1xuICAgICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICdWdWUuanMnOiBmdW5jdGlvbiBWdWVKcygpIHtcbiAgICAgICAgICBpZiAod2luZG93LlZ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5WdWUudmVyc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0VXNlZFZhYWRpbkVsZW1lbnRzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlZFZhYWRpbkVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICB2YXIgdmVyc2lvbiA9IGdldFBvbHltZXJWZXJzaW9uKCk7XG4gICAgICB2YXIgZWxlbWVudENsYXNzZXMgPSB2b2lkIDA7XG4gICAgICAvLyBOT1RFOiBJbiBjYXNlIHlvdSBlZGl0IHRoZSBjb2RlIGhlcmUsIFlPVSBNVVNUIFVQREFURSBhbnkgc3RhdGlzdGljcyByZXBvcnRpbmcgY29kZSBpbiBGbG93LlxuICAgICAgLy8gQ2hlY2sgYWxsIGxvY2F0aW9ucyBjYWxsaW5nIHRoZSBtZXRob2QgZ2V0RW50cmllcygpIGluXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmFhZGluL2Zsb3cvYmxvYi9tYXN0ZXIvZmxvdy1zZXJ2ZXIvc3JjL21haW4vamF2YS9jb20vdmFhZGluL2Zsb3cvaW50ZXJuYWwvVXNhZ2VTdGF0aXN0aWNzLmphdmEjTDEwNlxuICAgICAgLy8gQ3VycmVudGx5IGl0IGlzIG9ubHkgdXNlZCBieSBCb290c3RyYXBIYW5kbGVyLlxuICAgICAgaWYgKHZlcnNpb24gJiYgdmVyc2lvbi5pbmRleE9mKCcyJykgPT09IDApIHtcbiAgICAgICAgLy8gUG9seW1lciAyOiBjb21wb25lbnRzIGNsYXNzZXMgYXJlIHN0b3JlZCBpbiB3aW5kb3cuVmFhZGluXG4gICAgICAgIGVsZW1lbnRDbGFzc2VzID0gT2JqZWN0LmtleXMod2luZG93LlZhYWRpbikubWFwKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgcmV0dXJuIHdpbmRvdy5WYWFkaW5bY107XG4gICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICAgIHJldHVybiBjLmlzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFBvbHltZXIgMzogY29tcG9uZW50cyBjbGFzc2VzIGFyZSBzdG9yZWQgaW4gd2luZG93LlZhYWRpbi5yZWdpc3RyYXRpb25zXG4gICAgICAgIGVsZW1lbnRDbGFzc2VzID0gd2luZG93LlZhYWRpbi5yZWdpc3RyYXRpb25zIHx8IFtdO1xuICAgICAgfVxuICAgICAgZWxlbWVudENsYXNzZXMuZm9yRWFjaChmdW5jdGlvbiAoa2xhc3MpIHtcbiAgICAgICAgdmFyIHZlcnNpb24gPSBrbGFzcy52ZXJzaW9uID8ga2xhc3MudmVyc2lvbiA6IFwiMC4wLjBcIjtcbiAgICAgICAgZWxlbWVudHNba2xhc3MuaXNdID0geyB2ZXJzaW9uOiB2ZXJzaW9uIH07XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRVc2VkVmFhZGluVGhlbWVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlZFZhYWRpblRoZW1lcyh0aGVtZXMpIHtcbiAgICAgIFsnTHVtbycsICdNYXRlcmlhbCddLmZvckVhY2goZnVuY3Rpb24gKHRoZW1lTmFtZSkge1xuICAgICAgICB2YXIgdGhlbWU7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gZ2V0UG9seW1lclZlcnNpb24oKTtcbiAgICAgICAgaWYgKHZlcnNpb24gJiYgdmVyc2lvbi5pbmRleE9mKCcyJykgPT09IDApIHtcbiAgICAgICAgICAvLyBQb2x5bWVyIDI6IHRoZW1lcyBhcmUgc3RvcmVkIGluIHdpbmRvdy5WYWFkaW5cbiAgICAgICAgICB0aGVtZSA9IHdpbmRvdy5WYWFkaW5bdGhlbWVOYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBQb2x5bWVyIDM6IHRoZW1lcyBhcmUgc3RvcmVkIGluIGN1c3RvbSBlbGVtZW50IHJlZ2lzdHJ5XG4gICAgICAgICAgdGhlbWUgPSBjdXN0b21FbGVtZW50cy5nZXQoJ3ZhYWRpbi0nICsgdGhlbWVOYW1lLnRvTG93ZXJDYXNlKCkgKyAnLXN0eWxlcycpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGVtZSAmJiB0aGVtZS52ZXJzaW9uKSB7XG4gICAgICAgICAgdGhlbWVzW3RoZW1lTmFtZV0gPSB7IHZlcnNpb246IHRoZW1lLnZlcnNpb24gfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RnJhbWV3b3JrcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZyYW1ld29ya3MoZnJhbWV3b3Jrcykge1xuICAgICAgdmFyIGRldGVjdG9ycyA9IHRoaXMuZnJhbWV3b3JrVmVyc2lvbkRldGVjdG9ycygpO1xuICAgICAgT2JqZWN0LmtleXMoZGV0ZWN0b3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChmcmFtZXdvcmspIHtcbiAgICAgICAgdmFyIGRldGVjdG9yID0gZGV0ZWN0b3JzW2ZyYW1ld29ya107XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHZlcnNpb24gPSBkZXRlY3RvcigpO1xuICAgICAgICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICBmcmFtZXdvcmtzW2ZyYW1ld29ya10gPSB7IHZlcnNpb246IHZlcnNpb24gfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnYXRoZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnYXRoZXIoc3RvcmFnZSkge1xuICAgICAgdmFyIHN0b3JlZFN0YXRzID0gc3RvcmFnZS5yZWFkKCk7XG4gICAgICB2YXIgZ2F0aGVyZWRTdGF0cyA9IHt9O1xuICAgICAgdmFyIHR5cGVzID0gW1wiZWxlbWVudHNcIiwgXCJmcmFtZXdvcmtzXCIsIFwidGhlbWVzXCJdO1xuXG4gICAgICB0eXBlcy5mb3JFYWNoKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIGdhdGhlcmVkU3RhdHNbdHlwZV0gPSB7fTtcbiAgICAgICAgaWYgKCFzdG9yZWRTdGF0c1t0eXBlXSkge1xuICAgICAgICAgIHN0b3JlZFN0YXRzW3R5cGVdID0ge307XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcHJldmlvdXNTdGF0cyA9IEpTT04uc3RyaW5naWZ5KHN0b3JlZFN0YXRzKTtcblxuICAgICAgdGhpcy5nZXRVc2VkVmFhZGluRWxlbWVudHMoZ2F0aGVyZWRTdGF0cy5lbGVtZW50cyk7XG4gICAgICB0aGlzLmdldEZyYW1ld29ya3MoZ2F0aGVyZWRTdGF0cy5mcmFtZXdvcmtzKTtcbiAgICAgIHRoaXMuZ2V0VXNlZFZhYWRpblRoZW1lcyhnYXRoZXJlZFN0YXRzLnRoZW1lcyk7XG5cbiAgICAgIHZhciBub3cgPSB0aGlzLm5vdztcbiAgICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhnYXRoZXJlZFN0YXRzW3R5cGVdKTtcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICBpZiAoIXN0b3JlZFN0YXRzW3R5cGVdW2tleV0gfHwgX3R5cGVvZihzdG9yZWRTdGF0c1t0eXBlXVtrZXldKSAhPSBfdHlwZW9mKHt9KSkge1xuICAgICAgICAgICAgc3RvcmVkU3RhdHNbdHlwZV1ba2V5XSA9IHsgZmlyc3RVc2VkOiBub3cgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gRGlzY2FyZHMgYW55IHByZXZpb3VzbHkgbG9nZ2VkIHZlcnNpb24gbnVtYmVyXG4gICAgICAgICAgc3RvcmVkU3RhdHNbdHlwZV1ba2V5XS52ZXJzaW9uID0gZ2F0aGVyZWRTdGF0c1t0eXBlXVtrZXldLnZlcnNpb247XG4gICAgICAgICAgc3RvcmVkU3RhdHNbdHlwZV1ba2V5XS5sYXN0VXNlZCA9IG5vdztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIG5ld1N0YXRzID0gSlNPTi5zdHJpbmdpZnkoc3RvcmVkU3RhdHMpO1xuICAgICAgc3RvcmFnZS53cml0ZShuZXdTdGF0cyk7XG4gICAgICBpZiAobmV3U3RhdHMgIT0gcHJldmlvdXNTdGF0cyAmJiBPYmplY3Qua2V5cyhzdG9yZWRTdGF0cykubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIk5ldyBzdGF0czogXCIgKyBuZXdTdGF0cyk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTdGF0aXN0aWNzR2F0aGVyZXI7XG59KCk7XG5cbnZhciBTdGF0aXN0aWNzU3RvcmFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RhdGlzdGljc1N0b3JhZ2Uoa2V5KSB7XG4gICAgY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhdGlzdGljc1N0b3JhZ2UpO1xuXG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhTdGF0aXN0aWNzU3RvcmFnZSwgW3tcbiAgICBrZXk6ICdyZWFkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVhZCgpIHtcbiAgICAgIHZhciBsb2NhbFN0b3JhZ2VTdGF0c1N0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVN0YXRzU3RyaW5nID8gbG9jYWxTdG9yYWdlU3RhdHNTdHJpbmcgOiAne30nKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3dyaXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JpdGUoZGF0YSkge1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5rZXksIGRhdGEpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmtleSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNFbXB0eScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRW1wdHkoKSB7XG4gICAgICB2YXIgc3RvcmVkU3RhdHMgPSB0aGlzLnJlYWQoKTtcbiAgICAgIHZhciBlbXB0eSA9IHRydWU7XG4gICAgICBPYmplY3Qua2V5cyhzdG9yZWRTdGF0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzdG9yZWRTdGF0c1trZXldKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZW1wdHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBlbXB0eTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFN0YXRpc3RpY3NTdG9yYWdlO1xufSgpO1xuXG52YXIgU3RhdGlzdGljc1NlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RhdGlzdGljc1NlbmRlcih1cmwsIGxvZ2dlcikge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRpc3RpY3NTZW5kZXIpO1xuXG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhTdGF0aXN0aWNzU2VuZGVyLCBbe1xuICAgIGtleTogJ3NlbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kKGRhdGEsIGVycm9ySGFuZGxlcikge1xuICAgICAgdmFyIGxvZ2dlciA9IHRoaXMubG9nZ2VyO1xuXG4gICAgICBpZiAobmF2aWdhdG9yLm9uTGluZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiT2ZmbGluZSwgY2FuJ3Qgc2VuZFwiKTtcbiAgICAgICAgZXJyb3JIYW5kbGVyKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5kZWJ1ZyhcIlNlbmRpbmcgZGF0YSB0byBcIiArIHRoaXMudXJsKTtcblxuICAgICAgdmFyIHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgcmVxLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICByZXEuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBTdGF0cyBzZW50LCBub3RoaW5nIG1vcmUgdG8gZG9cbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiUmVzcG9uc2U6IFwiICsgcmVxLnJlc3BvbnNlVGV4dCk7XG4gICAgICB9KTtcbiAgICAgIHJlcS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJTZW5kIGZhaWxlZFwiKTtcbiAgICAgICAgZXJyb3JIYW5kbGVyKCk7XG4gICAgICB9KTtcbiAgICAgIHJlcS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIuZGVidWcoXCJTZW5kIGFib3J0ZWRcIik7XG4gICAgICAgIGVycm9ySGFuZGxlcigpO1xuICAgICAgfSk7XG4gICAgICByZXEub3BlbihcIlBPU1RcIiwgdGhpcy51cmwpO1xuICAgICAgcmVxLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgcmVxLnNlbmQoZGF0YSk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBTdGF0aXN0aWNzU2VuZGVyO1xufSgpO1xuXG52YXIgU3RhdGlzdGljc0xvZ2dlciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gU3RhdGlzdGljc0xvZ2dlcihpZCkge1xuICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRpc3RpY3NMb2dnZXIpO1xuXG4gICAgdGhpcy5pZCA9IGlkO1xuICB9XG5cbiAgY3JlYXRlQ2xhc3MoU3RhdGlzdGljc0xvZ2dlciwgW3tcbiAgICBrZXk6ICdfaXNEZWJ1ZycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9pc0RlYnVnKCkge1xuICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidmFhZGluLlwiICsgdGhpcy5pZCArIFwiLmRlYnVnXCIpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RlYnVnJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVidWcobXNnKSB7XG4gICAgICBpZiAodGhpcy5faXNEZWJ1ZygpKSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLmlkICsgXCI6IFwiICsgbXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFN0YXRpc3RpY3NMb2dnZXI7XG59KCk7XG5cbnZhciBVc2FnZVN0YXRpc3RpY3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFVzYWdlU3RhdGlzdGljcygpIHtcbiAgICBjbGFzc0NhbGxDaGVjayh0aGlzLCBVc2FnZVN0YXRpc3RpY3MpO1xuXG4gICAgdGhpcy5ub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMudGltZU5vdyA9IHRoaXMubm93LmdldFRpbWUoKTtcbiAgICB0aGlzLmdhdGhlckRlbGF5ID0gMTA7IC8vIERlbGF5IGJldHdlZW4gbG9hZGluZyB0aGlzIGZpbGUgYW5kIGdhdGhlcmluZyBzdGF0c1xuICAgIHRoaXMuaW5pdGlhbERlbGF5ID0gMjQgKiA2MCAqIDYwO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBuZXcgU3RhdGlzdGljc0xvZ2dlcihcInN0YXRpc3RpY3NcIik7XG4gICAgdGhpcy5zdG9yYWdlID0gbmV3IFN0YXRpc3RpY3NTdG9yYWdlKFwidmFhZGluLnN0YXRpc3RpY3MuYmFza2V0XCIpO1xuICAgIHRoaXMuZ2F0aGVyZXIgPSBuZXcgU3RhdGlzdGljc0dhdGhlcmVyKHRoaXMubG9nZ2VyKTtcbiAgICB0aGlzLnNlbmRlciA9IG5ldyBTdGF0aXN0aWNzU2VuZGVyKFwiaHR0cHM6Ly90b29scy52YWFkaW4uY29tL3VzYWdlLXN0YXRzL3N1Ym1pdFwiLCB0aGlzLmxvZ2dlcik7XG4gIH1cblxuICBjcmVhdGVDbGFzcyhVc2FnZVN0YXRpc3RpY3MsIFt7XG4gICAga2V5OiAnbWF5YmVHYXRoZXJBbmRTZW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWF5YmVHYXRoZXJBbmRTZW5kKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVzYWdlU3RhdGlzdGljcy5vcHRPdXRLZXkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZ2F0aGVyZXIuZ2F0aGVyKHRoaXMuc3RvcmFnZSk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMubWF5YmVTZW5kKCk7XG4gICAgICB9LCB0aGlzLmdhdGhlckRlbGF5ICogMTAwMCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbG90dGVyeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGxvdHRlcnkoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjdXJyZW50TW9udGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjdXJyZW50TW9udGgoKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub3cuZ2V0WWVhcigpICogMTIgKyB0aGlzLm5vdy5nZXRNb250aCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21heWJlU2VuZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG1heWJlU2VuZCgpIHtcbiAgICAgIHZhciBmaXJzdFVzZSA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVc2FnZVN0YXRpc3RpY3MuZmlyc3RVc2VLZXkpKTtcbiAgICAgIHZhciBtb250aFByb2Nlc3NlZCA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShVc2FnZVN0YXRpc3RpY3MubW9udGhQcm9jZXNzZWRLZXkpKTtcblxuICAgICAgaWYgKCFmaXJzdFVzZSkge1xuICAgICAgICAvLyBVc2UgYSBncmFjZSBwZXJpb2QgdG8gYXZvaWQgaW50ZXJmZXJpbmcgd2l0aCB0ZXN0cywgaW5jb2duaXRvIG1vZGUgZXRjXG4gICAgICAgIGZpcnN0VXNlID0gdGhpcy50aW1lTm93O1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVc2FnZVN0YXRpc3RpY3MuZmlyc3RVc2VLZXksIGZpcnN0VXNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMudGltZU5vdyA8IGZpcnN0VXNlICsgdGhpcy5pbml0aWFsRGVsYXkgKiAxMDAwKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiTm8gc3RhdGlzdGljcyB3aWxsIGJlIHNlbnQgdW50aWwgdGhlIGluaXRpYWwgZGVsYXkgb2YgXCIgKyB0aGlzLmluaXRpYWxEZWxheSArIFwicyBoYXMgcGFzc2VkXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jdXJyZW50TW9udGgoKSA8PSBtb250aFByb2Nlc3NlZCkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlRoaXMgbW9udGggaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFVzYWdlU3RhdGlzdGljcy5tb250aFByb2Nlc3NlZEtleSwgdGhpcy5jdXJyZW50TW9udGgoKSk7XG4gICAgICAvLyBVc2UgcmFuZG9tIHNhbXBsaW5nXG4gICAgICBpZiAodGhpcy5sb3R0ZXJ5KCkpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJDb25ncmF0dWxhdGlvbnMsIHdlIGhhdmUgYSB3aW5uZXIhXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJTb3JyeSwgbm8gc3RhdHMgZnJvbSB5b3UgdGhpcyB0aW1lXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2VuZCgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NlbmQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kKCkge1xuICAgICAgLy8gRW5zdXJlIHdlIGhhdmUgdGhlIGxhdGVzdCBkYXRhXG4gICAgICB0aGlzLmdhdGhlcmVyLmdhdGhlcih0aGlzLnN0b3JhZ2UpO1xuXG4gICAgICAvLyBSZWFkLCBzZW5kIGFuZCBjbGVhbiB1cFxuICAgICAgdmFyIGRhdGEgPSB0aGlzLnN0b3JhZ2UucmVhZCgpO1xuICAgICAgZGF0YVtcImZpcnN0VXNlXCJdID0gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVzYWdlU3RhdGlzdGljcy5maXJzdFVzZUtleSkpO1xuICAgICAgZGF0YVtcInVzYWdlU3RhdGlzdGljc1ZlcnNpb25cIl0gPSBVc2FnZVN0YXRpc3RpY3MudmVyc2lvbjtcbiAgICAgIHZhciBpbmZvID0gJ1RoaXMgcmVxdWVzdCBjb250YWlucyB1c2FnZSBzdGF0aXN0aWNzIGdhdGhlcmVkIGZyb20gdGhlIGFwcGxpY2F0aW9uIHJ1bm5pbmcgaW4gZGV2ZWxvcG1lbnQgbW9kZS4gXFxuXFxuU3RhdGlzdGljcyBnYXRoZXJpbmcgaXMgYXV0b21hdGljYWxseSBkaXNhYmxlZCBhbmQgZXhjbHVkZWQgZnJvbSBwcm9kdWN0aW9uIGJ1aWxkcy5cXG5cXG5Gb3IgZGV0YWlscyBhbmQgdG8gb3B0LW91dCwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS92YWFkaW4vdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MuXFxuXFxuXFxuXFxuJztcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHRoaXMuc2VuZGVyLnNlbmQoaW5mbyArIEpTT04uc3RyaW5naWZ5KGRhdGEpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJldmVydCB0aGUgJ21vbnRoIHByb2Nlc3NlZCcgZmxhZ1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVc2FnZVN0YXRpc3RpY3MubW9udGhQcm9jZXNzZWRLZXksIHNlbGYuY3VycmVudE1vbnRoKCkgLSAxKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAndmVyc2lvbicsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQkMSgpIHtcbiAgICAgIHJldHVybiAnMi4xLjAnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2ZpcnN0VXNlS2V5JyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCQxKCkge1xuICAgICAgcmV0dXJuICd2YWFkaW4uc3RhdGlzdGljcy5maXJzdHVzZSc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbW9udGhQcm9jZXNzZWRLZXknLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JDEoKSB7XG4gICAgICByZXR1cm4gJ3ZhYWRpbi5zdGF0aXN0aWNzLm1vbnRoUHJvY2Vzc2VkJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvcHRPdXRLZXknLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0JDEoKSB7XG4gICAgICByZXR1cm4gJ3ZhYWRpbi5zdGF0aXN0aWNzLm9wdG91dCc7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBVc2FnZVN0YXRpc3RpY3M7XG59KCk7XG5cbnRyeSB7XG4gIHdpbmRvdy5WYWFkaW4gPSB3aW5kb3cuVmFhZGluIHx8IHt9O1xuICB3aW5kb3cuVmFhZGluLnVzYWdlU3RhdHNDaGVja2VyID0gd2luZG93LlZhYWRpbi51c2FnZVN0YXRzQ2hlY2tlciB8fCBuZXcgVXNhZ2VTdGF0aXN0aWNzKCk7XG4gIHdpbmRvdy5WYWFkaW4udXNhZ2VTdGF0c0NoZWNrZXIubWF5YmVHYXRoZXJBbmRTZW5kKCk7XG59IGNhdGNoIChlKSB7XG4gIC8vIEludGVudGlvbmFsbHkgaWdub3JlZCBhcyB0aGlzIGlzIG5vdCBhIHByb2JsZW0gaW4gdGhlIGFwcCBiZWluZyBkZXZlbG9wZWRcbn1cblxufSgpKTtcblxuICB2YWFkaW4tZGV2LW1vZGU6ZW5kICoqL1xufVxuXG5leHBvcnQgY29uc3QgdXNhZ2VTdGF0aXN0aWNzID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0eXBlb2YgcnVuSWZEZXZlbG9wbWVudE1vZGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcnVuSWZEZXZlbG9wbWVudE1vZGUobWF5YmVHYXRoZXJBbmRTZW5kU3RhdHMpO1xuICB9XG59O1xuIiwiaW1wb3J0IHsgaWRsZVBlcmlvZCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2RlYm91bmNlLmpzJztcbmltcG9ydCB7IGVucXVldWVEZWJvdW5jZXIgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbHVzaC5qcyc7XG5cbmltcG9ydCB7IHVzYWdlU3RhdGlzdGljcyB9IGZyb20gJ0B2YWFkaW4vdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MvdmFhZGluLXVzYWdlLXN0YXRpc3RpY3MuanMnO1xuaWYgKCF3aW5kb3cuVmFhZGluKSB7XG4gIHdpbmRvd1snVmFhZGluJ10gPSB7fTtcbn1cblxuLyoqXG4gKiBBcnJheSBvZiBWYWFkaW4gY3VzdG9tIGVsZW1lbnQgY2xhc3NlcyB0aGF0IGhhdmUgYmVlbiBmaW5hbGl6ZWQuXG4gKi9cbndpbmRvd1snVmFhZGluJ10ucmVnaXN0cmF0aW9ucyA9IHdpbmRvdy5WYWFkaW4ucmVnaXN0cmF0aW9ucyB8fCBbXTtcblxuLy8gVXNlIHRoZSBoYWNrIHRvIHByZXZlbnQgcG9seW1lci1tb2R1bGl6ZXIgZnJvbSBjb252ZXJ0aW5nIHRvIGV4cG9ydHNcbndpbmRvd1snVmFhZGluJ10uZGV2ZWxvcG1lbnRNb2RlQ2FsbGJhY2sgPSB3aW5kb3cuVmFhZGluLmRldmVsb3BtZW50TW9kZUNhbGxiYWNrIHx8IHt9O1xud2luZG93WydWYWFkaW4nXS5kZXZlbG9wbWVudE1vZGVDYWxsYmFja1sndmFhZGluLXVzYWdlLXN0YXRpc3RpY3MnXSA9IGZ1bmN0aW9uKCkge1xuICBpZiAodXNhZ2VTdGF0aXN0aWNzKSB7XG4gICAgdXNhZ2VTdGF0aXN0aWNzKCk7XG4gIH1cbn07XG5cbmxldCBzdGF0c0pvYjtcblxuY29uc3QgcmVnaXN0ZXJlZCA9IG5ldyBTZXQoKTtcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBFbGVtZW50TWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFZhYWRpbkVsZW1lbnRNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuICAvKiogQHByb3RlY3RlZCAqL1xuICBzdGF0aWMgZmluYWxpemUoKSB7XG4gICAgc3VwZXIuZmluYWxpemUoKTtcblxuICAgIGNvbnN0IHtpc30gPSB0aGlzO1xuXG4gICAgLy8gUmVnaXN0ZXJzIGEgY2xhc3MgcHJvdG90eXBlIGZvciB0ZWxlbWV0cnkgcHVycG9zZXMuXG4gICAgaWYgKGlzICYmICFyZWdpc3RlcmVkLmhhcyhpcykpIHtcbiAgICAgIHdpbmRvdy5WYWFkaW4ucmVnaXN0cmF0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgcmVnaXN0ZXJlZC5hZGQoaXMpO1xuXG4gICAgICBpZiAod2luZG93LlZhYWRpbi5kZXZlbG9wbWVudE1vZGVDYWxsYmFjaykge1xuICAgICAgICBzdGF0c0pvYiA9IERlYm91bmNlci5kZWJvdW5jZShzdGF0c0pvYixcbiAgICAgICAgICBpZGxlUGVyaW9kLCAoKSA9PiB7XG4gICAgICAgICAgICB3aW5kb3cuVmFhZGluLmRldmVsb3BtZW50TW9kZUNhbGxiYWNrWyd2YWFkaW4tdXNhZ2Utc3RhdGlzdGljcyddKCk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBlbnF1ZXVlRGVib3VuY2VyKHN0YXRzSm9iKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBpZiAoZG9jdW1lbnQuZG9jdHlwZSA9PT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnVmFhZGluIGNvbXBvbmVudHMgcmVxdWlyZSB0aGUgXCJzdGFuZGFyZHMgbW9kZVwiIGRlY2xhcmF0aW9uLiBQbGVhc2UgYWRkIDwhRE9DVFlQRSBodG1sPiB0byB0aGUgSFRNTCBkb2N1bWVudC4nXG4gICAgICApO1xuICAgIH1cbiAgfVxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNiBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyBHZXN0dXJlRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvZ2VzdHVyZS1ldmVudC1saXN0ZW5lcnMuanMnO1xuaW1wb3J0IHsgRmxhdHRlbmVkTm9kZXNPYnNlcnZlciB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2ZsYXR0ZW5lZC1ub2Rlcy1vYnNlcnZlci5qcyc7XG5pbXBvcnQgeyBJcm9uUmVzaXphYmxlQmVoYXZpb3IgfSBmcm9tICdAcG9seW1lci9pcm9uLXJlc2l6YWJsZS1iZWhhdmlvci9pcm9uLXJlc2l6YWJsZS1iZWhhdmlvci5qcyc7XG5pbXBvcnQgeyBUaGVtYWJsZU1peGluIH0gZnJvbSAnQHZhYWRpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4vdmFhZGluLXRoZW1hYmxlLW1peGluLmpzJztcbmltcG9ydCB7IEVsZW1lbnRNaXhpbiB9IGZyb20gJ0B2YWFkaW4vdmFhZGluLWVsZW1lbnQtbWl4aW4vdmFhZGluLWVsZW1lbnQtbWl4aW4uanMnO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcbmltcG9ydCB7IG1peGluQmVoYXZpb3JzIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L2NsYXNzLmpzJztcbi8qKlxuICogYDx2YWFkaW4tc3BsaXQtbGF5b3V0PmAgaXMgYSBXZWIgQ29tcG9uZW50IGltcGxlbWVudGluZyBhIHNwbGl0IGxheW91dCBmb3IgdHdvXG4gKiBjb250ZW50IGVsZW1lbnRzIHdpdGggYSBkcmFnZ2FibGUgc3BsaXR0ZXIgYmV0d2VlbiB0aGVtLlxuICpcbiAqIGBgYGh0bWxcbiAqIDx2YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogICA8ZGl2PkZpcnN0IGNvbnRlbnQgZWxlbWVudDwvZGl2PlxuICogICA8ZGl2PlNlY29uZCBjb250ZW50IGVsZW1lbnQ8L2Rpdj5cbiAqIDwvdmFhZGluLXNwbGl0LWxheW91dD5cbiAqIGBgYFxuICpcbiAqICMjIyBIb3Jpem9udGFsIGFuZCBWZXJ0aWNhbCBMYXlvdXRzXG4gKlxuICogQnkgZGVmYXVsdCwgdGhlIHNwbGl0J3Mgb3JpZW50YXRpb24gaXMgaG9yaXpvbnRhbCwgbWVhbmluZyB0aGF0IHRoZSBjb250ZW50IGVsZW1lbnRzIGFyZVxuICogcG9zaXRpb25lZCBzaWRlIGJ5IHNpZGUgaW4gYSBmbGV4IGNvbnRhaW5lciB3aXRoIGEgaG9yaXpvbnRhbCBsYXlvdXQuXG4gKlxuICogWW91IGNhbiBjaGFuZ2UgdGhlIHNwbGl0IG1vZGUgdG8gdmVydGljYWwgYnkgc2V0dGluZyB0aGUgYG9yaWVudGF0aW9uYCBhdHRyaWJ1dGUgdG8gYFwidmVydGljYWxcImA6XG4gKlxuICogYGBgaHRtbFxuICogPHZhYWRpbi1zcGxpdC1sYXlvdXQgb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiPlxuICogICA8ZGl2PkNvbnRlbnQgb24gdGhlIHRvcDwvZGl2PlxuICogICA8ZGl2PkNvbnRlbnQgb24gdGhlIGJvdHRvbTwvZGl2PlxuICogPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogYGBgXG4gKlxuICogIyMjIExheW91dHMgQ29tYmluYXRpb25cbiAqXG4gKiBGb3IgdGhlIGxheW91dCBjb250ZW50cywgd2UgdXN1YWxseSB1c2UgYDxkaXY+YCBlbGVtZW50cyBpbiB0aGUgZXhhbXBsZXMsXG4gKiBhbHRob3VnaCB5b3UgY2FuIHVzZSBhbnkgb3RoZXIgZWxlbWVudHMgYXMgd2VsbC5cbiAqXG4gKiBGb3IgaW5zdGFuY2UsIGluIG9yZGVyIHRvIGhhdmUgYSBuZXN0ZWQgdmVydGljYWwgc3BsaXQgbGF5b3V0IGluc2lkZSBhXG4gKiBob3Jpem9udGFsIG9uZSwgeW91IGNhbiBpbmNsdWRlIGA8dmFhZGluLXNwbGl0LWxheW91dD5gIGFzIGEgY29udGVudCBlbGVtZW50XG4gKiBpbnNpZGUgYW5vdGhlciBzcGxpdCBsYXlvdXQ6XG4gKlxuICogYGBgaHRtbFxuICogPHZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiAgIDxkaXY+Rmlyc3QgY29udGVudCBlbGVtZW50PC9kaXY+XG4gKiAgIDx2YWFkaW4tc3BsaXQtbGF5b3V0IG9yaWVudGF0aW9uPVwidmVydGljYWxcIj5cbiAqICAgICA8ZGl2PlNlY29uZCBjb250ZW50IGVsZW1lbnQ8L2Rpdj5cbiAqICAgICA8ZGl2PlRoaXJkIGNvbnRlbnQgZWxlbWVudDwvZGl2PlxuICogICA8L3ZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiA8L3ZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIGFsc28gdHJpZ2dlciB0aGUgdmVydGljYWwgbW9kZSBpbiBKYXZhU2NyaXB0IGJ5IHNldHRpbmcgdGhlIHByb3BlcnR5OlxuICogYHNwbGl0TGF5b3V0Lm9yaWVudGF0aW9uID0gXCJ2ZXJ0aWNhbFwiO2AuXG4gKlxuICogIyMjIFNwbGl0IExheW91dCBFbGVtZW50IEhlaWdodFxuICpcbiAqIGA8dmFhZGluLXNwbGl0LWxheW91dD5gIGVsZW1lbnQgaXRzZWxmIGlzIGEgZmxleCBjb250YWluZXIuIEl0IGRvZXMgbm90IGluaGVyaXRcbiAqIHRoZSBwYXJlbnQgaGVpZ2h0IGJ5IGRlZmF1bHQsIGJ1dCByYXRoZXIgc2V0cyBpdHMgaGVpZ2h0IGRlcGVuZGluZyBvbiB0aGVcbiAqIGNvbnRlbnQuXG4gKlxuICogWW91IGNhbiB1c2UgQ1NTIHRvIHNldCB0aGUgZml4ZWQgaGVpZ2h0IGZvciB0aGUgc3BsaXQgbGF5b3V0LCBhcyB1c3VhbCB3aXRoIGFueVxuICogYmxvY2sgZWxlbWVudDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8dmFhZGluLXNwbGl0LWxheW91dCBzdHlsZT1cImhlaWdodDogMjAwcHg7XCI+XG4gKiAgIDxkaXY+Rmlyc3QgY29udGVudCBlbGVtZW50PC9kaXY+XG4gKiAgIDxkaXY+U2Vjb25kIGNvbnRlbnQgZWxlbWVudDwvZGl2PlxuICogPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogYGBgXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gZGVmaW5lIHBlcmNlbnRhZ2UgaGVpZ2h0IGFzIHdlbGwuIE5vdGUgdGhhdCB5b3UgaGF2ZSB0byBzZXRcbiAqIHRoZSBwYXJlbnQgaGVpZ2h0IGluIG9yZGVyIHRvIG1ha2UgcGVyY2VudGFnZXMgd29yayBjb3JyZWN0bHkuIEluIHRoZSBmb2xsb3dpbmdcbiAqIGV4YW1wbGUsIHRoZSBgPGJvZHk+YCBpcyByZXNpemVkIHRvIGZpbGwgdGhlIGVudGlyZSB2aWV3cG9ydCwgYW5kIHRoZVxuICogYDx2YWFkaW4tc3BsaXQtbGF5b3V0PmAgZWxlbWVudCBpcyBzZXQgdG8gdGFrZSAxMDAlIGhlaWdodCBvZiB0aGUgYDxib2R5PmA6XG4gKlxuICogYGBgaHRtbFxuICogPGJvZHkgc3R5bGU9XCJoZWlnaHQ6IDEwMHZoOyBtYXJnaW46IDA7XCI+XG4gKiAgIDx2YWFkaW4tc3BsaXQtbGF5b3V0IHN0eWxlPVwiaGVpZ2h0OiAxMDAlO1wiPlxuICogICAgIDxkaXY+Rmlyc3Q8L2Rpdj5cbiAqICAgICA8ZGl2PlNlY29uZDwvZGl2PlxuICogICA8L3ZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiA8L2JvZHk+XG4gKiBgYGBcbiAqXG4gKiBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSBhIGZsZXhib3ggbGF5b3V0IHRvIG1ha2UgYDx2YWFkaW4tc3BsaXQtbGF5b3V0PmBcbiAqIGZpbGwgdXAgdGhlIHBhcmVudDpcbiAqXG4gKiBgYGBodG1sXG4gKiA8Ym9keSBzdHlsZT1cImhlaWdodDogMTAwdmg7IG1hcmdpbjogMDsgZGlzcGxheTogZmxleDtcIj5cbiAqICAgPHZhYWRpbi1zcGxpdC1sYXlvdXQgc3R5bGU9XCJmbGV4OiAxO1wiPlxuICogICAgIDxkaXY+Rmlyc3Q8L2Rpdj5cbiAqICAgICA8ZGl2PlNlY29uZDwvZGl2PlxuICogICA8L3ZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiA8L2JvZHk+XG4gKiBgYGBcbiAqXG4gKiAjIyMgSW5pdGlhbCBTcGxpdHRlciBQb3NpdGlvblxuICpcbiAqIFRoZSBpbml0aWFsIHNwbGl0dGVyIHBvc2l0aW9uIGlzIGRldGVybWluZWQgZnJvbSB0aGUgc2l6ZXMgb2YgdGhlIGNvbnRlbnQgZWxlbWVudHNcbiAqIGluc2lkZSB0aGUgc3BsaXQgbGF5b3V0LiBUaGVyZWZvcmUsIGNoYW5naW5nIGB3aWR0aGAgb24gdGhlIGNvbnRlbnQgZWxlbWVudHNcbiAqIGFmZmVjdHMgdGhlIGluaXRpYWwgc3BsaXR0ZXIgcG9zaXRpb24gZm9yIHRoZSBob3Jpem9udGFsIGxheW91dHMsIHdoaWxlIGBoZWlnaHRgXG4gKiBhZmZlY3RzIHRoZSB2ZXJ0aWNhbCBvbmVzLlxuICpcbiAqIE5vdGUgdGhhdCB3aGVuIHRoZSB0b3RhbCBzaXplIG9mIHRoZSBjb250ZW50IGVsZW1lbnRzIGRvZXMgbm90IGZpdCB0aGUgbGF5b3V0LFxuICogdGhlIGNvbnRlbnQgZWxlbWVudHMgYXJlIHNjYWxlZCBwcm9wb3J0aW9uYWxseS5cbiAqXG4gKiBXaGVuIHNldHRpbmcgaW5pdGlhbCBzaXplcyB3aXRoIHJlbGF0aXZlIHVuaXRzLCBzdWNoIGFzIHBlcmNlbnRhZ2VzLCBpdCBpc1xuICogcmVjb21tZW5kZWQgdG8gYXNzaWduIHRoZSBzaXplIGZvciBib3RoIGNvbnRlbnQgZWxlbWVudHM6XG4gKlxuICogYGBgaHRtbFxuICogPHZhYWRpbi1zcGxpdC1sYXlvdXQ+XG4gKiAgIDxkaXYgc3R5bGU9XCJ3aWR0aDogNzUlO1wiPlRocmVlIGZvdXJ0aHM8L2Rpdj5cbiAqICAgPGRpdiBzdHlsZT1cIndpZHRoOiAyNSU7XCI+T25lIGZvdXJ0aDwvZGl2PlxuICogPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogYGBgXG4gKlxuICogIyMjIFNpemUgTGltaXRzXG4gKlxuICogVGhlIGBtaW4td2lkdGhgL2BtaW4taGVpZ2h0YCwgYW5kIGBtYXgtd2lkdGhgL2BtYXgtaGVpZ2h0YCBDU1Mgc2l6ZSB2YWx1ZXNcbiAqIGZvciB0aGUgY29udGVudCBlbGVtZW50cyBhcmUgcmVzcGVjdGVkIGFuZCB1c2VkIHRvIGxpbWl0IHRoZSBzcGxpdHRlciBwb3NpdGlvblxuICogd2hlbiBpdCBpcyBkcmFnZ2VkLlxuICpcbiAqIEl0IGlzIHByZWZlcnJlZCB0byBzZXQgdGhlIGxpbWl0cyBvbmx5IGZvciBhIHNpbmdsZSBjb250ZW50IGVsZW1lbnQsIGluIG9yZGVyXG4gKiB0byBhdm9pZCBzaXplIGNvbmZsaWN0czpcbiAqXG4gKiBgYGBodG1sXG4gKiA8dmFhZGluLXNwbGl0LWxheW91dD5cbiAqICAgPGRpdiBzdHlsZT1cIm1pbi13aWR0aDogNTBweDsgbWF4LXdpZHRoOiAxNTBweDtcIj5GaXJzdDwvZGl2PlxuICogICA8ZGl2PlNlY29uZDwvZGl2PlxuICogPC92YWFkaW4tc3BsaXQtbGF5b3V0PlxuICogYGBgXG4gKlxuICogIyMjIFJlc2l6ZSBOb3RpZmljYXRpb25cbiAqXG4gKiBUaGlzIGVsZW1lbnQgaW1wbGVtZW50cyBgSXJvblJlc2l6YWJsZUJlaGF2aW9yYCB0byBub3RpZnkgdGhlIG5lc3RlZCByZXNpemFibGVzXG4gKiB3aGVuIHRoZSBzcGxpdHRlciBpcyBkcmFnZ2VkLiBJbiBvcmRlciB0byBkZWZpbmUgYSByZXNpemFibGUgYW5kIHJlY2VpdmUgdGhhdFxuICogbm90aWZpY2F0aW9uIGluIGEgbmVzdGVkIGVsZW1lbnQsIGluY2x1ZGUgYElyb25SZXNpemFibGVCZWhhdmlvcmAgYW5kIGxpc3RlblxuICogZm9yIHRoZSBgaXJvbi1yZXNpemVgIGV2ZW50LlxuICpcbiAqICMjIyBTdHlsaW5nXG4gKlxuICogVGhlIGZvbGxvd2luZyBzaGFkb3cgRE9NIHBhcnRzIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG4gKlxuICogUGFydCBuYW1lIHwgRGVzY3JpcHRpb24gfCBUaGVtZSBmb3IgRWxlbWVudFxuICogLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS1cbiAqIGBzcGxpdHRlcmAgfCBTcGxpdCBlbGVtZW50IHwgdmFhZGluLXNwbGl0LWxheW91dFxuICogYGhhbmRsZWAgfCBUaGUgaGFuZGxlIG9mIHRoZSBzcGxpdHRlciB8IHZhYWRpbi1zcGxpdC1sYXlvdXRcbiAqXG4gKiBTZWUgW1RoZW1hYmxlTWl4aW4g4oCTIGhvdyB0byBhcHBseSBzdHlsZXMgZm9yIHNoYWRvdyBwYXJ0c10oaHR0cHM6Ly9naXRodWIuY29tL3ZhYWRpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4vd2lraSlcbiAqXG4gKiBAbWVtYmVyb2YgVmFhZGluXG4gKiBAbWl4ZXMgVmFhZGluLlRoZW1hYmxlTWl4aW5cbiAqIEBtaXhlcyBQb2x5bWVyLkdlc3R1cmVFdmVudExpc3RlbmVyc1xuICogQGRlbW8gZGVtby9pbmRleC5odG1sXG4gKi9cbmNsYXNzIFNwbGl0TGF5b3V0RWxlbWVudCBleHRlbmRzXG4gIEVsZW1lbnRNaXhpbihcbiAgICBUaGVtYWJsZU1peGluKFxuICAgICAgR2VzdHVyZUV2ZW50TGlzdGVuZXJzKFxuICAgICAgICBtaXhpbkJlaGF2aW9ycyhbSXJvblJlc2l6YWJsZUJlaGF2aW9yXSwgUG9seW1lckVsZW1lbnQpKSkpIHtcbiAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICA8c3R5bGU+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbaGlkZGVuXSkge1xuICAgICAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtvcmllbnRhdGlvbj1cInZlcnRpY2FsXCJdKSB7XG4gICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICB9XG5cbiAgICAgIDpob3N0IDo6c2xvdHRlZCgqKSB7XG4gICAgICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IHRvdWNoO1xuICAgICAgfVxuXG4gICAgICBbcGFydD1cInNwbGl0dGVyXCJdIHtcbiAgICAgICAgZmxleDogbm9uZTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICAgICAgbWluLXdpZHRoOiA4cHg7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDhweDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoOm5vdChbb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXSkpID4gW3BhcnQ9XCJzcGxpdHRlclwiXSB7XG4gICAgICAgIGN1cnNvcjogZXctcmVzaXplO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbb3JpZW50YXRpb249XCJ2ZXJ0aWNhbFwiXSkgPiBbcGFydD1cInNwbGl0dGVyXCJdIHtcbiAgICAgICAgY3Vyc29yOiBucy1yZXNpemU7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0PVwiaGFuZGxlXCJdIHtcbiAgICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICAgIGhlaWdodDogNDBweDtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC01MCUsIC01MCUsIDApO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gICAgPHNsb3QgaWQ9XCJwcmltYXJ5XCIgbmFtZT1cInByaW1hcnlcIj48L3Nsb3Q+XG4gICAgPGRpdiBwYXJ0PVwic3BsaXR0ZXJcIiBpZD1cInNwbGl0dGVyXCIgb24tdHJhY2s9XCJfb25IYW5kbGVUcmFja1wiIG9uLWRvd249XCJfc2V0UG9pbnRlckV2ZW50c05vbmVcIiBvbi11cD1cIl9yZXN0b3JlUG9pbnRlckV2ZW50c1wiPlxuICAgICAgPGRpdiBwYXJ0PVwiaGFuZGxlXCI+PC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPHNsb3QgaWQ9XCJzZWNvbmRhcnlcIiBuYW1lPVwic2Vjb25kYXJ5XCI+PC9zbG90PlxuXG4gICAgPGRpdiBoaWRkZW49XCJcIj5cbiAgICAgIDwhLS0gV29ya2Fyb3VuZCB0byBmaXggYSBTaGFkeSBzdHlsZSBzY29waW5nIGlzc3VlIGNhdXNlZCBieSBkeW5hbWljIHNsb3QgbmFtaW5nIG9mIHRoZSBjaGlsZCBlbGVtZW50cyAocHJpbWFyeS9zZWNvbmRhcnkpIC0tPlxuICAgICAgPHNsb3Q+PC9zbG90PlxuICAgIDwvZGl2PlxuYDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgaXMoKSB7XG4gICAgcmV0dXJuICd2YWFkaW4tc3BsaXQtbGF5b3V0JztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gJzQuMS4xJztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgc3BsaXQgbGF5b3V0J3Mgb3JpZW50YXRpb24uIFBvc3NpYmxlIHZhbHVlcyBhcmU6IGBob3Jpem9udGFsfHZlcnRpY2FsYC5cbiAgICAgICAqL1xuICAgICAgb3JpZW50YXRpb246IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAnaG9yaXpvbnRhbCdcbiAgICAgIH0sXG5cbiAgICAgIF9wcmV2aW91c1ByaW1hcnlQb2ludGVyRXZlbnRzOiBTdHJpbmcsXG4gICAgICBfcHJldmlvdXNTZWNvbmRhcnlQb2ludGVyRXZlbnRzOiBTdHJpbmdcbiAgICB9O1xuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgc3VwZXIucmVhZHkoKTtcbiAgICBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcih0aGlzLCB0aGlzLl9wcm9jZXNzQ2hpbGRyZW4pO1xuICB9XG5cbiAgX3Byb2Nlc3NDaGlsZHJlbigpIHtcbiAgICB0aGlzLmdldEVmZmVjdGl2ZUNoaWxkcmVuKCkuZm9yRWFjaCgoY2hpbGQsIGkpID0+IHtcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3ByaW1hcnlDaGlsZCA9IGNoaWxkO1xuICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3Nsb3QnLCAncHJpbWFyeScpO1xuICAgICAgfSBlbHNlIGlmIChpID09IDEpIHtcbiAgICAgICAgdGhpcy5fc2Vjb25kYXJ5Q2hpbGQgPSBjaGlsZDtcbiAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzbG90JywgJ3NlY29uZGFyeScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGQucmVtb3ZlQXR0cmlidXRlKCdzbG90Jyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RmxleEJhc2lzKGVsZW1lbnQsIGZsZXhCYXNpcywgY29udGFpbmVyU2l6ZSkge1xuICAgIGZsZXhCYXNpcyA9IE1hdGgubWF4KDAsIE1hdGgubWluKGZsZXhCYXNpcywgY29udGFpbmVyU2l6ZSkpO1xuICAgIGlmIChmbGV4QmFzaXMgPT09IDApIHtcbiAgICAgIC8vIFB1cmUgemVybyBkb2VzIG5vdCBwbGF5IHdlbGwgaW4gU2FmYXJpXG4gICAgICBmbGV4QmFzaXMgPSAwLjAwMDAwMTtcbiAgICB9XG4gICAgZWxlbWVudC5zdHlsZS5mbGV4ID0gJzEgMSAnICsgZmxleEJhc2lzICsgJ3B4JztcbiAgfVxuXG4gIF9zZXRQb2ludGVyRXZlbnRzTm9uZShldmVudCkge1xuICAgIGlmICghdGhpcy5fcHJpbWFyeUNoaWxkIHx8ICF0aGlzLl9zZWNvbmRhcnlDaGlsZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wcmV2aW91c1ByaW1hcnlQb2ludGVyRXZlbnRzID0gdGhpcy5fcHJpbWFyeUNoaWxkLnN0eWxlLnBvaW50ZXJFdmVudHM7XG4gICAgdGhpcy5fcHJldmlvdXNTZWNvbmRhcnlQb2ludGVyRXZlbnRzID0gdGhpcy5fc2Vjb25kYXJ5Q2hpbGQuc3R5bGUucG9pbnRlckV2ZW50cztcbiAgICB0aGlzLl9wcmltYXJ5Q2hpbGQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICB0aGlzLl9zZWNvbmRhcnlDaGlsZC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgfVxuXG4gIF9yZXN0b3JlUG9pbnRlckV2ZW50cygpIHtcbiAgICBpZiAoIXRoaXMuX3ByaW1hcnlDaGlsZCB8fCAhdGhpcy5fc2Vjb25kYXJ5Q2hpbGQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcHJpbWFyeUNoaWxkLnN0eWxlLnBvaW50ZXJFdmVudHMgPSB0aGlzLl9wcmV2aW91c1ByaW1hcnlQb2ludGVyRXZlbnRzO1xuICAgIHRoaXMuX3NlY29uZGFyeUNoaWxkLnN0eWxlLnBvaW50ZXJFdmVudHMgPSB0aGlzLl9wcmV2aW91c1NlY29uZGFyeVBvaW50ZXJFdmVudHM7XG4gIH1cblxuICBfb25IYW5kbGVUcmFjayhldmVudCkge1xuICAgIGlmICghdGhpcy5fcHJpbWFyeUNoaWxkIHx8ICF0aGlzLl9zZWNvbmRhcnlDaGlsZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzaXplID0gdGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICBpZiAoZXZlbnQuZGV0YWlsLnN0YXRlID09PSAnc3RhcnQnKSB7XG4gICAgICB0aGlzLl9zdGFydFNpemUgPSB7XG4gICAgICAgIGNvbnRhaW5lcjogdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtzaXplXSAtIHRoaXMuJC5zcGxpdHRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtzaXplXSxcbiAgICAgICAgcHJpbWFyeTogdGhpcy5fcHJpbWFyeUNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3NpemVdLFxuICAgICAgICBzZWNvbmRhcnk6IHRoaXMuX3NlY29uZGFyeUNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW3NpemVdXG4gICAgICB9O1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGRpc3RhbmNlID0gdGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJyA/IGV2ZW50LmRldGFpbC5keSA6IGV2ZW50LmRldGFpbC5keDtcbiAgICB0aGlzLl9zZXRGbGV4QmFzaXModGhpcy5fcHJpbWFyeUNoaWxkLCB0aGlzLl9zdGFydFNpemUucHJpbWFyeSArIGRpc3RhbmNlLCB0aGlzLl9zdGFydFNpemUuY29udGFpbmVyKTtcbiAgICB0aGlzLl9zZXRGbGV4QmFzaXModGhpcy5fc2Vjb25kYXJ5Q2hpbGQsIHRoaXMuX3N0YXJ0U2l6ZS5zZWNvbmRhcnkgLSBkaXN0YW5jZSwgdGhpcy5fc3RhcnRTaXplLmNvbnRhaW5lcik7XG5cbiAgICB0aGlzLm5vdGlmeVJlc2l6ZSgpO1xuXG4gICAgaWYgKGV2ZW50LmRldGFpbC5zdGF0ZSA9PT0gJ2VuZCcpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3NwbGl0dGVyLWRyYWdlbmQnKSk7XG5cbiAgICAgIGRlbGV0ZSB0aGlzLl9zdGFydFNpemU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIHNwbGl0dGVyIGlzIGRyYWdnZWQuIE5vbi1idWJibGluZy4gRmlyZWQgZm9yIHRoZSBzcGxpdHRlclxuICAgKiBlbGVtZW50IGFuZCBhbnkgbmVzdGVkIGVsZW1lbnRzIHdpdGggYElyb25SZXNpemFibGVCZWhhdmlvcmAuXG4gICAqXG4gICAqIEBldmVudCBpcm9uLXJlc2l6ZVxuICAgKi9cblxuICAvKipcbiAgICogRmlyZWQgYWZ0ZXIgZHJhZ2dpbmcgdGhlIHNwbGl0dGVyIGhhdmUgZW5kZWQuXG4gICAqXG4gICAqIEBldmVudCBzcGxpdHRlci1kcmFnZW5kXG4gICAqL1xufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoU3BsaXRMYXlvdXRFbGVtZW50LmlzLCBTcGxpdExheW91dEVsZW1lbnQpO1xuXG5leHBvcnQgeyBTcGxpdExheW91dEVsZW1lbnQgfTtcbiIsImltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzJztcbmltcG9ydCAnLi92ZXJzaW9uLmpzJztcbmNvbnN0ICRfZG9jdW1lbnRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG4kX2RvY3VtZW50Q29udGFpbmVyLmlubmVySFRNTCA9IGA8Y3VzdG9tLXN0eWxlPlxuICA8c3R5bGU+XG4gICAgQGZvbnQtZmFjZSB7XG4gICAgICBmb250LWZhbWlseTogJ2x1bW8taWNvbnMnO1xuICAgICAgc3JjOiB1cmwoZGF0YTphcHBsaWNhdGlvbi9mb250LXdvZmY7Y2hhcnNldD11dGYtODtiYXNlNjQsZDA5R1JnQUJBQUFBQUJFZ0FBc0FBQUFBSWl3QUFRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUJIVTFWQ0FBQUJDQUFBQURzQUFBQlVJSXNsZWs5VEx6SUFBQUZFQUFBQVF3QUFBRlpBSVV1S1kyMWhjQUFBQVlnQUFBRDRBQUFEcnNDVThkNW5iSGxtQUFBQ2dBQUFDMk1BQUJkNGg5VG8yV2hsWVdRQUFBM2tBQUFBTVFBQUFEWVNuQ2t1YUdobFlRQUFEaGdBQUFBZEFBQUFKQWJwQTM1b2JYUjRBQUFPT0FBQUFCQUFBQUNzcEJBQUFHeHZZMkVBQUE1SUFBQUFXQUFBQUZoNTVJQXNiV0Y0Y0FBQURxQUFBQUFmQUFBQUlBRktBWEJ1WVcxbEFBQU93QUFBQVRFQUFBSXVVVUpaQ0hCdmMzUUFBQS8wQUFBQkt3QUFBZWxtOFN6VmVKeGpZR1JnWU9CaU1HQ3dZMkJ5Y2ZNSlllRExTU3pKWTVCaVlHR0FBSkE4TXBzeEp6TTlrWUVEeGdQS3NZQnBEaUJtZzRnQ0FDWTdCVWdBZUp4allHUyt5RGlCZ1pXQmdhbUthUThEQTBNUGhHWjh3R0RJeUFRVVpXQmxac0FLQXRKY1V4Z2NYakcrMG1JTytwL0ZFTVVjeERBTktNd0lrZ01BQm44TUxRQjRuTzNTV1c2RE1BQkYwVXR3Q0VuSVBNL3poTEs4THFoZlhSeWJTUDE0WFVZdEhWOWhHWVF3UUJOSW8zY1VJUGtoUWVNN3JpYjFla3FuWGc5ODFYdUMxcXZ5ODRsem9qbGVoM3B1eEwwaFBqR2pSVTQ3M3RlbG9FZWZBVU5Hakprd1pjYWNCVXRXck5td1pjZWVBMGRPbkxsdzVjYWRCMDllbFBHaEdmK2owTlRJLzY1S2ZYZXJUNkpocUtucFJLdGdPcHVxYVRydEtqUFVscUhtaHRvMjFJN3BMNmk2aGxxWTNxN3FHV3JmVUFlR09qVFVrYUdPRFhWaXFGTkRuUm5xM0ZBWGhybzAxSldocmcxMVk2aGJROTBaNnQ1UUQ0WjZOTlNUb1o0TjlXS29WME85R2VyZFVCK0cralRVbDZHV1J2a0wyNEJrRVhpY3RWaDliRnZWRmIvbnh2YnorN1JmL042ekhjZDJiQ2ZQK1dnYzFaOU4wanBObkVMNmtiUlZTNkhBMmhRWUdoOVRHUjFDYkNxYTJyWHJXT2tRRS9zSE5KZ210WnZvVk5acUUxQjFETkh4elRReENlaFVUWWlKVFF5RU51aTBxU0xlenIzUGR1eVFmZ21SV09mZGU4Kzk1NTF6N3Jubi9PNGpMb0ovYlJQMFVhS1FNTEZKanBCQXZwaExaQzNEazBvazdXQnpSMi91cEpzN1J5dy9uZkZibG4vdXVOL2FwQ3Z3cktMclN2VXFSdWZibTVwbjBmczB3NGdZeG5HVlA2cUhuTzRiV2lEUUdRZ3d0UzZsbTNsQjNRb1gxTTJ2d0VtdXppckYzOXkrRXMyK0RKOGQxcGt5cUJJcW96ZTNEMStaejREckZvYXp4SThkV3dNckRsWjJETXFRQVI5QVJPc0pVKzJjbWxUUGF6VGNvNTJGMXhUYTJhMitLOHZ2cTkyZFZIbXRMb1BlUVgvQVpQUllHdGhEWU9lWmpCaktvRnNWR3VsUjNsV1U5NVdlQ0s0NHFIVTdNaFdVR1VLWkRUM29LVWNHMkdXdWgrRUREZlVZQS9qaEFobDBUT3NKTllTRXU3bVFtaTNVemZYd1pLQTRCc1ZzSExYUVlHZ1JXOTV1RXRwSjFWZm45WGlMcmlSQmxGRXF4c0RqQTA5eUNOVW9ReHh3ZDdLV1NUdDJ5M0dUS2lmbHFIUlNvV1pjM20xMVdhL2ZKZEZnWEQ0c1NZZmxlSkJLZDhHTXo3SjhkWm4vY0dSQ2NLR0RuQTJHZTNmS3pjdmxuVEROdGhHV0xYelgvV2FYdFVBbVJnZUxsSFNyMzByMEc5VVRYTWIwQXRtd3pPb3k3M2ZrU2xIWmtkdXcvVFl1VTljQUQ0WXV0UG94VFRzQTM3OTd3VnI0Wi8xTkM1ekFSSHI0dnR4Smp4SWZpWk1oTWtiV2srMTRCbkpaS3dxR1p3RGZzd0x5eFdEU2cxMXJGTEpGN05vcHhqZDFoMS9RT1Qrb2V6Z2Z1M1lxK0hrK2R1ZjV4KzQwbzFHVGthSWdpa0svSUVuQzZhWXhDVUJhWkpTTjRYVFlGalUvWU1OSUtxSndoREdPQ0NJOEZEWG5YbVhqdEdoR0p5U2hxakFPbkJPa1cySkc5UzdHZ1llTVdBVTVKemhuV21CT2FPTStDS0VQb3FTZkZEQzJVbnErRExsVWdVVlVGRkxaR0pnNmp0bG9qc2RzYThrUE9iUHVKZGk1ZG5CZEJzTEpNR1RXRGE0dDJKdnR3dVBvOXMrWTg2c3V2L1czM1FHMXJBYU9BVVYrdng0SzZmMkQwNFBWS2xDN1dMU3JaekFpNDVaVjZsSUM3V29YcW1SeXZVcW9Wd3J6VW9Wc0lqZVRYV1F2K1JINUdUbEJYaUIvSW44bG4wSWJCQ0FGT2FqQUpyZ1pZeU9IV3FPZlVlL2FIakkxMlI2T1FvMWpDZ3QyMTVsKzRmNlhQYiswTU5vdTBWKzQzbjJGNzd0U2ZSYjI0ZDd6aXRnbkttdllIczY5enVnYVB2Qnd2NmlvWGtiMkxkTDY1QXR3NTF1TGtYbHUxYmhNTVJjWFNQY1lvcUtJUmxoMzRsUVA4LzVKYnVVRnllNHZ4RDYvNk14RkYxMUMwdVZMcjlVbGd3NDR0UzNwTVZpTkxVRXhieWNGZ0xJY3QrUURNaWJSaW14MXlkVXo4RlhaaXVPSURCT01WWDJuVVpjK2h1TkU1WFVKODF1aUpvaWFid3FhVkYwdWFjS2JhdS9wbDRSMlZXMFhYbEpyYTZib1ZyWUc2NDZURjVOWXp3eTR2akVOVnJEbGNOcFpQbDhESDZYWDhYV0N4MG12V1ZaWTZLRkxydnNZNjYvelBpY3Q1Rm54YU5VUi9qdXZaQ00zVHZENjBFMlcxdFppemJYVFBEdWFiY20wbmJienBXS3BtQTFheUJROGdpZWRMVU0rQTBrTmpCalFqbXVZejdZcmdJWFl2bUY2M1pMQndTWHJwbjlUYjl3d2RkL1UxSDBQTVFLM1hjTzh1bDNXVDdQeVBQZHB5MFRlbUt4TlJjSk5hdWlYSm5uVURwVXBwUVdzNFNuVUl5MEVFU0dZcUpZUUxHSHh6YUdXd1ZJYVM2WTdtUUZNOFpqWURRM2F4amY2MVNXalUzM0p3T1pBMXB3YUcxTDltemY3MWFIUmRYMUpIdzZGcDBhWGhOd2JxeWVHTmc0TmJkekdDQnhvejRaWGp5NE51NjlacjZzRFk2dk1yTFU1bkExUDhKa2JkV1hKNkVSZk1yeXZOaDFKZlE5K1Q0ZEloR3ZLOXczZHhqQkJ6YXRzUS9NbE9IVklEbllwRHo2b2RBWGxRMDF0MlBhNUlhZmQ4TU1weEFlREtQMEM2Q2pnVkxUNW9zQjZpY1V4MDFsV2pYeHpUL0d5UkYyd2VsRU01Wi83akczVmpRMVNyTm41SWJ5ek9HNWRvYkIzL1FIeHladnNYY296OElvRXdTN3BsQ2crenhIUWs0MjRxOUJmRXBrRVNKYkZIUXVzREJTV0ZrdUJrb1BPMGtMS3dSVllqeEdYbEhUY1REUU1KL0g2VFg5YWZrTzdtbnJhVE8xZmVUblpBWEx1NGNwN0hBWE1tTkcxeWVGazlUZ1MvTkhoWlIvNFFvQlRyL1pCKzZoQ2d5bDE1TnExVWJONm5FMS9ablAxVTJjaXpDQnB2czhjSlFaSjRMa1l4NU4veVpQQVVaTlFRMFY0ZjNCUWxsV3JLM1lSemwzMGRPVDZSVm4ydXBOdXI2d29TYThDcXBkVC9hS25CTTRvM2pOdXI5ZDl4cXRVVDZ2ZUJFdDlDYTlhdCtFUnpFRWhVa1I4c2E1bVE0YVZ2Sm9WZUVBOHpJNGVpNW1VTFhGR3lVN3ovNlRBZVlMVmNwelNXWlk4UFlZRjV5clRWNjBzVDArWFYxNDF2WCsrV2YxNlYyYkZlR1ZQWlh4RnBrdnllS1RXTGx6ZlcwbW5LeHNZNlkzMjk0LzA5OThTQ2ZYMWJsbTVwYmN2RkdscS9yMDdNUkFNaFlJRGlXNUpGS1dXM3ZkckVwQ3NaU0pHK29tN1p1L1BTU2NaSmhOa0xibVc1V3NyMTJwV3FXNXpLdGx3UlM0YkZPeFV3MTdtQ3p5Nmxza0NEbDFXWU9HV0RZckFEck1BN0JERHdlV1dOZDVrb2lKblIxZHoreXRMUDJxMFNxUEIxbG5LMmNjQjdSWWU0RlNvUGtzM2lCM3Q0dHhUU0hjdGIyc3kxaXZrMHB2SHVDTm02dzFmNnd4djMrT0NnTjc4THFkUW5VVmg3UjBvVEFwMHpPZjJyYlc3NzBWdTVDMmRJeUdkVG5Ibzh6U2ppN2RwcGowVVNvVkN6K2xoUk1UaDUzVGVxOVZiR2ZianVTYkFvb1NkWGF5WTRQWUhnMzc0QzZmN2dsMUIvRFh1SjQvUVh4T0JkSkZKc3BGc0kzZWdwb1dVVUNqbFRJRm5OWU5sK1p5WkttQmVZS0dIa0QxUXlEbGhhS2JLd0tjSUpxSjRUTEoyT21kWS9KV1hhZTREZEdCdzhIWjdlWGNnRkYyenIyU29hbERyeTVpS3FvYTBQdWhlM2hQUTJzM2VsVFlNK01JK24zckswS2dMNy9MYTNHZU1MdDZtN3U5MTJ2R252dE9SaUlhMHFCbWhxVmkrWFc5WE5CbXFiOGVWZ0t6SUhmR0k1Yk5vRzdYMFVDemVJU21xSWNPL25ZOEZIN1U4YXZYOWZ4L1NUK2h4MHNlelB3OVF5OE11bTNHV2YyTjRVeS95SVlHVkJYYkpIV0lacDdkZlRjcHRkTVRyOVFtcTdEYWlLL3VrcUNMNGt0NFJVZlM1WFBuTXRtVDIyL21RRnFGN2VtU3F0cmx1OFNWRWx4RFJKclpPRGtwdXdlMFZmVGZqZEVwMWY3QTd2K2Zvek5CWFVKLzZXVHVLMlR0RmxwRlZaQVozTGNGdlVpMVoycDJZVCtFTUFrR0pWU3RPekxUQVBnNElxV0lBbHpSU2pPQmtsMnp4ajNUS3ljcHpUL01udlgzdWFTTVdNK2dVMHJrWGpvaGhlZlZSTWFwczMva0xNU0t2MjNsVDIzdXhRcmtRanlPSmxlTURzZGhBbkQ2WkdFbFdaNU1qQ1h6Q0UvaGtXWCtXRjRrbnpHaFZPeUsyZVFaZWtWM2V5bzB6TDhrdVlXQ25EQ3ZqamhBa2NUUE9CRFhWZG9hdjNIVmNGblFqTHZ0VjlTMnAwekE2SmVnUHdNUXh0K3lGYjNsbDl6R2xxLzVkUktiM2NFeVFZb2FOWXBoYXJKN3hDQjdBV3hzTFkzampaWFkwWHNaajBXandjOUk2UFAvZEtBQm5DWmFxSHBhWkVBQ3hrNFplTFpTS05nWkFCbCtsWVFYMXNKUU9TWDNuNnI0MTBldmNvdWQ1SmVBR1VYVlA5SDF0Wk9LZWpUcTRPbm8wejBlcnJvMUZybk9wb2h2YTFkL2hUZHRWc1FkS041VzlSbFQzTmpEMG56bnlLTlRnS0FNZldOV2N5b2RWMElHTFBJSE9GMG80SnlxdWZhSzR6NldJSXp1R2gzZDhjOGN3UWc4RVIrT1Z4eXJqZG04dk51aHRzNExvT2loR3hJTXVVZGd6d2lZTjd4aGgxK29abkpOdVRHN2dRWnZ1NFhXWjlHQVpaakdFdWJ3ZVBxWWh0S0RUSCs5VlFrbDE3L2lHeWJzbkorOCtzS3R5UHJjbGw5dHk2NVpzZHN0LzlpcXBFS2g3TTVWZEJ4aDNjc09kTmM2dFczSTF1eU0xUHpPWGVnU09yTEZzRk5JMk8yN00rVEYyQXBuTjlNVXY1dWQ2TGp4SXZFUW5IUnp4SXU0SXNBOU1MRmtKbjJ0Y1pvWjdPTjdkWGU3dWpyYzhIcnVzUEthbWxxWHdkNzdsUVV1THBpbGF1NFBVTWFwdWVCYjdpclU0Um9VWEVZWHVWdUlHbFJHbU9wKzJsTmthUlBWemlPcW1sYVp2YXFHNGRGZ1NqMGp4RUpXcnYxMklVV250bXcrcmZRYXJSRTBBcGg0b2NJNm5sVWxHcXMrdTMvK1QvZXRoVzYyUHBIcDJlSGJac3RuaC93T085NXlEQUhpY1kyQmtZR0FBWWkyTk9KOTRmcHV2RE56TUw0QWlETmMvZnpxRW9QKy9acDdLZEF2STVXQmdBb2tDQUdrY0RmZ0FBQUI0bkdOZ1pHQmdEdnFmQlNSZk1BQUI4MVFHUmdaVW9BMEFWdllEYndBQUFIaWNZMkJnWUdCK01UUXdBTThFSm84QUFBQUFBRTRBbWdEb0FRb0JMQUZPQVhBQm1nSEVBZTRDR2dLY0F1Z0VtZ1M4Qk5ZRThnVU9CU29GZWdYUUJmNEdSQVptQnJZSEdBZVFDQmdJVWdocUNQNEpSZ20rQ2RvS0JBbzhDb0lLdUFyd0MxQUxsZ3U4ZUp4allHUmdZTkJtVEdFUVpRQUJKaURtQWtJR2h2OWdQZ01BR0pRQnZBQjRuRzJSUFU3RE1CaUczL1FQMFVvSUJHSmg4UUlMYXZvemRtUm85dzdkMDlScFV6bHg1TGdWdlFNbjRCQWNnb0V6Y0FnT3dWdnpTWlZRYmNuZjQ4ZnZGeXNKZ0d0OEljSnhST2lHOVRnYXVPRHVqNXVrRytFVytVRzRqUjRlaFR2MFErRXVuakVSN3VFV21rK0lXcGMwZDNnVmJ1QUtiOEpOK25maEZ2bER1STE3ZkFwMzZMK0Z1MWpnUjdpSHArakY3QXJiejFOYjFuTzkzcG5FbmNTSkZ0clZ1UzNWS0I2ZTVFeVgyaVZlcjlUeW9PcjlldXg5cGpKbkN6VzFwZGZHV0ZVNXU5V3BqemZlVjVQQklCTWZwN2FBd1E0RkxQcklrYktXcURIbis2N3BEUks0czRsemJzRXV4NXFIdmNJSU1iL251ZVNNeVRLa0UzaldGZE5MSExqVzJQUG1NYTFIeG4zR2pHVy93alQwSHRPRzA5SlU0V3hMazlMSDJJU3Vpdjl0d0puOXk4Zmg5dUlYSStCa25BQUFBSGljYlk3WmJvTXdFRVc1Q1ZCQ1NMcnYrNzZrZkpSalR3SEZzZEdBRytYdnk1SlVmZWhJSHAwcm54bU5OL0Q2aXIzL2E0WUJodkFSSU1RT0lvd1FZNHdFRTB5eGl6M3M0d0NIT01JeFRuQ0tNNXpqQXBlNHdqVnVjSXM3M09NQmozakNNMTd3aWplODR3TXpmSHFKMEVWbVVrbW1Kbzc3b09tckh2ZklSWmJYc1RDWnBsVFpsZGxnYjNUWUdWSFByb3dGczExdDFBNTd0Y09OMnJFclIzUEJxY3dGMS82Y3RJNmswR1NVNEpITVNTNldnaGRKUTk5c1RiZnVON1FMSjl2UTM3ZE5yZ3lrdG5JeGxEWUxKTnVxaXRwUmJZV0tGTnV5RFQ2cG9nNm9PWUtIdEtha2Vha3FLakhYcFB3bEdSY3NDK09xeExJaUpwWHFvcXFETXJlRzJsNWJ2OVJpM1RSWCtjMjNEWm5hOVdGRmdtWHVPNlBzMUptL3c2RXJXOE4zRmJIbi9RQzQ0NGowQUE9PSkgZm9ybWF0KCd3b2ZmJyk7XG4gICAgICBmb250LXdlaWdodDogbm9ybWFsO1xuICAgICAgZm9udC1zdHlsZTogbm9ybWFsO1xuICAgIH1cblxuICAgIGh0bWwge1xuICAgICAgLS1sdW1vLWljb25zLWFsaWduLWNlbnRlcjogXCJcXFxcZWEwMVwiO1xuICAgICAgLS1sdW1vLWljb25zLWFsaWduLWxlZnQ6IFwiXFxcXGVhMDJcIjtcbiAgICAgIC0tbHVtby1pY29ucy1hbGlnbi1yaWdodDogXCJcXFxcZWEwM1wiO1xuICAgICAgLS1sdW1vLWljb25zLWFuZ2xlLWRvd246IFwiXFxcXGVhMDRcIjtcbiAgICAgIC0tbHVtby1pY29ucy1hbmdsZS1sZWZ0OiBcIlxcXFxlYTA1XCI7XG4gICAgICAtLWx1bW8taWNvbnMtYW5nbGUtcmlnaHQ6IFwiXFxcXGVhMDZcIjtcbiAgICAgIC0tbHVtby1pY29ucy1hbmdsZS11cDogXCJcXFxcZWEwN1wiO1xuICAgICAgLS1sdW1vLWljb25zLWFycm93LWRvd246IFwiXFxcXGVhMDhcIjtcbiAgICAgIC0tbHVtby1pY29ucy1hcnJvdy1sZWZ0OiBcIlxcXFxlYTA5XCI7XG4gICAgICAtLWx1bW8taWNvbnMtYXJyb3ctcmlnaHQ6IFwiXFxcXGVhMGFcIjtcbiAgICAgIC0tbHVtby1pY29ucy1hcnJvdy11cDogXCJcXFxcZWEwYlwiO1xuICAgICAgLS1sdW1vLWljb25zLWJhci1jaGFydDogXCJcXFxcZWEwY1wiO1xuICAgICAgLS1sdW1vLWljb25zLWJlbGw6IFwiXFxcXGVhMGRcIjtcbiAgICAgIC0tbHVtby1pY29ucy1jYWxlbmRhcjogXCJcXFxcZWEwZVwiO1xuICAgICAgLS1sdW1vLWljb25zLWNoZWNrbWFyazogXCJcXFxcZWEwZlwiO1xuICAgICAgLS1sdW1vLWljb25zLWNoZXZyb24tZG93bjogXCJcXFxcZWExMFwiO1xuICAgICAgLS1sdW1vLWljb25zLWNoZXZyb24tbGVmdDogXCJcXFxcZWExMVwiO1xuICAgICAgLS1sdW1vLWljb25zLWNoZXZyb24tcmlnaHQ6IFwiXFxcXGVhMTJcIjtcbiAgICAgIC0tbHVtby1pY29ucy1jaGV2cm9uLXVwOiBcIlxcXFxlYTEzXCI7XG4gICAgICAtLWx1bW8taWNvbnMtY2xvY2s6IFwiXFxcXGVhMTRcIjtcbiAgICAgIC0tbHVtby1pY29ucy1jb2c6IFwiXFxcXGVhMTVcIjtcbiAgICAgIC0tbHVtby1pY29ucy1jcm9zczogXCJcXFxcZWExNlwiO1xuICAgICAgLS1sdW1vLWljb25zLWRvd25sb2FkOiBcIlxcXFxlYTE3XCI7XG4gICAgICAtLWx1bW8taWNvbnMtZHJvcGRvd246IFwiXFxcXGVhMThcIjtcbiAgICAgIC0tbHVtby1pY29ucy1lZGl0OiBcIlxcXFxlYTE5XCI7XG4gICAgICAtLWx1bW8taWNvbnMtZXJyb3I6IFwiXFxcXGVhMWFcIjtcbiAgICAgIC0tbHVtby1pY29ucy1leWU6IFwiXFxcXGVhMWJcIjtcbiAgICAgIC0tbHVtby1pY29ucy1leWUtZGlzYWJsZWQ6IFwiXFxcXGVhMWNcIjtcbiAgICAgIC0tbHVtby1pY29ucy1tZW51OiBcIlxcXFxlYTFkXCI7XG4gICAgICAtLWx1bW8taWNvbnMtbWludXM6IFwiXFxcXGVhMWVcIjtcbiAgICAgIC0tbHVtby1pY29ucy1vcmRlcmVkLWxpc3Q6IFwiXFxcXGVhMWZcIjtcbiAgICAgIC0tbHVtby1pY29ucy1waG9uZTogXCJcXFxcZWEyMFwiO1xuICAgICAgLS1sdW1vLWljb25zLXBob3RvOiBcIlxcXFxlYTIxXCI7XG4gICAgICAtLWx1bW8taWNvbnMtcGxheTogXCJcXFxcZWEyMlwiO1xuICAgICAgLS1sdW1vLWljb25zLXBsdXM6IFwiXFxcXGVhMjNcIjtcbiAgICAgIC0tbHVtby1pY29ucy1yZWRvOiBcIlxcXFxlYTI0XCI7XG4gICAgICAtLWx1bW8taWNvbnMtcmVsb2FkOiBcIlxcXFxlYTI1XCI7XG4gICAgICAtLWx1bW8taWNvbnMtc2VhcmNoOiBcIlxcXFxlYTI2XCI7XG4gICAgICAtLWx1bW8taWNvbnMtdW5kbzogXCJcXFxcZWEyN1wiO1xuICAgICAgLS1sdW1vLWljb25zLXVub3JkZXJlZC1saXN0OiBcIlxcXFxlYTI4XCI7XG4gICAgICAtLWx1bW8taWNvbnMtdXBsb2FkOiBcIlxcXFxlYTI5XCI7XG4gICAgICAtLWx1bW8taWNvbnMtdXNlcjogXCJcXFxcZWEyYVwiO1xuICAgIH1cbiAgPC9zdHlsZT5cbjwvY3VzdG9tLXN0eWxlPmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJF9kb2N1bWVudENvbnRhaW5lci5jb250ZW50KTtcblxuLyogTk9USUNFOiBHZW5lcmF0ZWQgd2l0aCAnZ3VscCBpY29ucycgKi9cbi8qXG4gIEZJWE1FKHBvbHltZXItbW9kdWxpemVyKTogdGhlIGFib3ZlIGNvbW1lbnRzIHdlcmUgZXh0cmFjdGVkXG4gIGZyb20gSFRNTCBhbmQgbWF5IGJlIG91dCBvZiBwbGFjZSBoZXJlLiBSZXZpZXcgdGhlbSBhbmRcbiAgdGhlbiBkZWxldGUgdGhpcyBjb21tZW50IVxuKi9cbjtcbiIsImltcG9ydCAnLi92ZXJzaW9uLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvY3VzdG9tLXN0eWxlLmpzJztcbmltcG9ydCAnQHBvbHltZXIvcG9seW1lci9saWIvZWxlbWVudHMvZG9tLW1vZHVsZS5qcyc7XG5jb25zdCAkX2RvY3VtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxuJF9kb2N1bWVudENvbnRhaW5lci5pbm5lckhUTUwgPSBgPGN1c3RvbS1zdHlsZT5cbiAgPHN0eWxlPlxuICAgIGh0bWwge1xuICAgICAgLyogRm9udCBmYW1pbGllcyAqL1xuICAgICAgLS1sdW1vLWZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiUm9ib3RvXCIsIFwiU2Vnb2UgVUlcIiwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiwgXCJBcHBsZSBDb2xvciBFbW9qaVwiLCBcIlNlZ29lIFVJIEVtb2ppXCIsIFwiU2Vnb2UgVUkgU3ltYm9sXCI7XG5cbiAgICAgIC8qIEZvbnQgc2l6ZXMgKi9cbiAgICAgIC0tbHVtby1mb250LXNpemUteHhzOiAuNzVyZW07XG4gICAgICAtLWx1bW8tZm9udC1zaXplLXhzOiAuODEyNXJlbTtcbiAgICAgIC0tbHVtby1mb250LXNpemUtczogLjg3NXJlbTtcbiAgICAgIC0tbHVtby1mb250LXNpemUtbTogMXJlbTtcbiAgICAgIC0tbHVtby1mb250LXNpemUtbDogMS4xMjVyZW07XG4gICAgICAtLWx1bW8tZm9udC1zaXplLXhsOiAxLjM3NXJlbTtcbiAgICAgIC0tbHVtby1mb250LXNpemUteHhsOiAxLjc1cmVtO1xuICAgICAgLS1sdW1vLWZvbnQtc2l6ZS14eHhsOiAyLjVyZW07XG5cbiAgICAgIC8qIExpbmUgaGVpZ2h0cyAqL1xuICAgICAgLS1sdW1vLWxpbmUtaGVpZ2h0LXhzOiAxLjI1O1xuICAgICAgLS1sdW1vLWxpbmUtaGVpZ2h0LXM6IDEuMzc1O1xuICAgICAgLS1sdW1vLWxpbmUtaGVpZ2h0LW06IDEuNjI1O1xuICAgIH1cblxuICA8L3N0eWxlPlxuPC9jdXN0b20tc3R5bGU+PGRvbS1tb2R1bGUgaWQ9XCJsdW1vLXR5cG9ncmFwaHlcIj5cbiAgPHRlbXBsYXRlPlxuICAgIDxzdHlsZT5cbiAgICAgIGh0bWwge1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tbHVtby1mb250LWZhbWlseSk7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tbHVtby1mb250LXNpemUsIHZhcigtLWx1bW8tZm9udC1zaXplLW0pKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWx1bW8tbGluZS1oZWlnaHQtbSk7XG4gICAgICAgIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogMTAwJTtcbiAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gICAgICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gICAgICB9XG5cbiAgICAgIC8qIENhbuKAmXQgY29tYmluZSB3aXRoIHRoZSBhYm92ZSBzZWxlY3RvciBiZWNhdXNlIHRoYXQgZG9lc27igJl0IHdvcmsgaW4gYnJvd3NlcnMgd2l0aG91dCBuYXRpdmUgc2hhZG93IGRvbSAqL1xuICAgICAgOmhvc3Qge1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tbHVtby1mb250LWZhbWlseSk7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tbHVtby1mb250LXNpemUsIHZhcigtLWx1bW8tZm9udC1zaXplLW0pKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWx1bW8tbGluZS1oZWlnaHQtbSk7XG4gICAgICAgIC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogMTAwJTtcbiAgICAgICAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG4gICAgICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gICAgICB9XG5cbiAgICAgIHNtYWxsLFxuICAgICAgW3RoZW1lfj1cImZvbnQtc2l6ZS1zXCJdIHtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1sdW1vLWZvbnQtc2l6ZS1zKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWx1bW8tbGluZS1oZWlnaHQtcyk7XG4gICAgICB9XG5cbiAgICAgIFt0aGVtZX49XCJmb250LXNpemUteHNcIl0ge1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWx1bW8tZm9udC1zaXplLXhzKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IHZhcigtLWx1bW8tbGluZS1oZWlnaHQteHMpO1xuICAgICAgfVxuXG4gICAgICBoMSxcbiAgICAgIGgyLFxuICAgICAgaDMsXG4gICAgICBoNCxcbiAgICAgIGg1LFxuICAgICAgaDYge1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICBsaW5lLWhlaWdodDogdmFyKC0tbHVtby1saW5lLWhlaWdodC14cyk7XG4gICAgICAgIG1hcmdpbi10b3A6IDEuMjVlbTtcbiAgICAgIH1cblxuICAgICAgaDEge1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWx1bW8tZm9udC1zaXplLXh4eGwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjc1ZW07XG4gICAgICB9XG5cbiAgICAgIGgyIHtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1sdW1vLWZvbnQtc2l6ZS14eGwpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjVlbTtcbiAgICAgIH1cblxuICAgICAgaDMge1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWx1bW8tZm9udC1zaXplLXhsKTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gICAgICB9XG5cbiAgICAgIGg0IHtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1sdW1vLWZvbnQtc2l6ZS1sKTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC41ZW07XG4gICAgICB9XG5cbiAgICAgIGg1IHtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1sdW1vLWZvbnQtc2l6ZS1tKTtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMC4yNWVtO1xuICAgICAgfVxuXG4gICAgICBoNiB7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tbHVtby1mb250LXNpemUteHMpO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogMC4wM2VtO1xuICAgICAgfVxuXG4gICAgICBwLFxuICAgICAgYmxvY2txdW90ZSB7XG4gICAgICAgIG1hcmdpbi10b3A6IDAuNWVtO1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjc1ZW07XG4gICAgICB9XG5cbiAgICAgIGEge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIGE6aG92ZXIge1xuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgICAgIH1cblxuICAgICAgaHIge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcbiAgICAgICAgaGVpZ2h0OiAxcHg7XG4gICAgICAgIGJvcmRlcjogMDtcbiAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgbWFyZ2luOiB2YXIoLS1sdW1vLXNwYWNlLXMpIGNhbGModmFyKC0tbHVtby1ib3JkZXItcmFkaXVzLW0pIC8gMik7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtMTBwY3QpO1xuICAgICAgfVxuXG4gICAgICBibG9ja3F1b3RlIHtcbiAgICAgICAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCB2YXIoLS1sdW1vLWNvbnRyYXN0LTMwcGN0KTtcbiAgICAgIH1cblxuICAgICAgYixcbiAgICAgIHN0cm9uZyB7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC90ZW1wbGF0ZT5cbjwvZG9tLW1vZHVsZT5gO1xuXG5kb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCRfZG9jdW1lbnRDb250YWluZXIuY29udGVudCk7XG4iLCJpbXBvcnQgJ0B2YWFkaW4vdmFhZGluLWx1bW8tc3R5bGVzL2NvbG9yLmpzJztcbmltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3R5bGUuanMnO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcblxuY29uc3QgJF9kb2N1bWVudENvbnRhaW5lciA9IGh0bWxgPGRvbS1tb2R1bGUgaWQ9XCJsdW1vLWNoZWNrYm94XCIgdGhlbWUtZm9yPVwidmFhZGluLWNoZWNrYm94XCI+XG4gIDx0ZW1wbGF0ZT5cbiAgICA8c3R5bGUgaW5jbHVkZT1cImx1bW8tY2hlY2tib3gtc3R5bGUgbHVtby1jaGVja2JveC1lZmZlY3RzXCI+XG4gICAgICAvKiBJRTExIG9ubHkgKi9cbiAgICAgIDo6LW1zLWJhY2tkcm9wLFxuICAgICAgW3BhcnQ9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIGxpbmUtaGVpZ2h0OiAxO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG4gIDwvdGVtcGxhdGU+XG48L2RvbS1tb2R1bGU+PGRvbS1tb2R1bGUgaWQ9XCJsdW1vLWNoZWNrYm94LXN0eWxlXCI+XG4gIDx0ZW1wbGF0ZT5cbiAgICA8c3R5bGU+XG4gICAgICA6aG9zdCB7XG4gICAgICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJsYWJlbFwiXTpub3QoW2VtcHR5XSkge1xuICAgICAgICBtYXJnaW46IDAuMTg3NWVtIDAuODc1ZW0gMC4xODc1ZW0gMC4zNzVlbTtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIHdpZHRoOiBjYWxjKDFlbSArIDJweCk7XG4gICAgICAgIGhlaWdodDogY2FsYygxZW0gKyAycHgpO1xuICAgICAgICBtYXJnaW46IDAuMTg3NWVtO1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWx1bW8tYm9yZGVyLXJhZGl1cyk7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtMjBwY3QpO1xuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBjdWJpYy1iZXppZXIoLjEyLCAuMzIsIC41NCwgMiksIGJhY2tncm91bmQtY29sb3IgMC4xNXM7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICBsaW5lLWhlaWdodDogMS4yO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbaW5kZXRlcm1pbmF0ZV0pIFtwYXJ0PVwiY2hlY2tib3hcIl0sXG4gICAgICA6aG9zdChbY2hlY2tlZF0pIFtwYXJ0PVwiY2hlY2tib3hcIl0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLXByaW1hcnktY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAvKiBOZWVkZWQgdG8gYWxpZ24gdGhlIGNoZWNrYm94IG5pY2VseSBvbiB0aGUgYmFzZWxpbmUgKi9cbiAgICAgIFtwYXJ0PVwiY2hlY2tib3hcIl06OmJlZm9yZSB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXFxcXDIwMDNcIjtcbiAgICAgIH1cblxuICAgICAgLyogQ2hlY2ttYXJrICovXG4gICAgICBbcGFydD1cImNoZWNrYm94XCJdOjphZnRlciB7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgd2lkdGg6IDA7XG4gICAgICAgIGhlaWdodDogMDtcbiAgICAgICAgYm9yZGVyOiAwIHNvbGlkIHZhcigtLWx1bW8tcHJpbWFyeS1jb250cmFzdC1jb2xvcik7XG4gICAgICAgIGJvcmRlci13aWR0aDogMC4xODc1ZW0gMCAwIDAuMTg3NWVtO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwLjgxMjVlbTtcbiAgICAgICAgbGVmdDogMC41ZW07XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMC41NSkgcm90YXRlKC0xMzVkZWcpO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbY2hlY2tlZF0pIFtwYXJ0PVwiY2hlY2tib3hcIl06OmFmdGVyIHtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgd2lkdGg6IDAuNjI1ZW07XG4gICAgICAgIGhlaWdodDogMS4wNjI1ZW07XG4gICAgICB9XG5cbiAgICAgIC8qIEluZGV0ZXJtaW5hdGUgY2hlY2ttYXJrICovXG5cbiAgICAgIDpob3N0KFtpbmRldGVybWluYXRlXSkgW3BhcnQ9XCJjaGVja2JveFwiXTo6YWZ0ZXIge1xuICAgICAgICB0cmFuc2Zvcm06IG5vbmU7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHRvcDogNDUlO1xuICAgICAgICBoZWlnaHQ6IDEwJTtcbiAgICAgICAgbGVmdDogMjIlO1xuICAgICAgICByaWdodDogMjIlO1xuICAgICAgICB3aWR0aDogYXV0bztcbiAgICAgICAgYm9yZGVyOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLXByaW1hcnktY29udHJhc3QtY29sb3IpO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMjVzO1xuICAgICAgfVxuXG4gICAgICAvKiBGb2N1cyByaW5nICovXG5cbiAgICAgIDpob3N0KFtmb2N1cy1yaW5nXSkgW3BhcnQ9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgMCAwIDNweCB2YXIoLS1sdW1vLXByaW1hcnktY29sb3ItNTBwY3QpO1xuICAgICAgfVxuXG4gICAgICAvKiBEaXNhYmxlZCAqL1xuXG4gICAgICA6aG9zdChbZGlzYWJsZWRdKSB7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICBjb2xvcjogdmFyKC0tbHVtby1kaXNhYmxlZC10ZXh0LWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgW3BhcnQ9XCJsYWJlbFwiXSA6OnNsb3R0ZWQoKikge1xuICAgICAgICBjb2xvcjogaW5oZXJpdDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkgW3BhcnQ9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWx1bW8tY29udHJhc3QtMTBwY3QpO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbZGlzYWJsZWRdKSBbcGFydD1cImNoZWNrYm94XCJdOjphZnRlciB7XG4gICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0zMHBjdCk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtpbmRldGVybWluYXRlXVtkaXNhYmxlZF0pIFtwYXJ0PVwiY2hlY2tib3hcIl06OmFmdGVyIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0zMHBjdCk7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC90ZW1wbGF0ZT5cbjwvZG9tLW1vZHVsZT48ZG9tLW1vZHVsZSBpZD1cImx1bW8tY2hlY2tib3gtZWZmZWN0c1wiPlxuICA8dGVtcGxhdGU+XG4gICAgPHN0eWxlPlxuICAgICAgLyogVHJhbnNpdGlvbiB0aGUgY2hlY2ttYXJrIGlmIGFjdGl2YXRlZCB3aXRoIHRoZSBtb3VzZSAoZGlzYWJsZWQgZm9yIGdyaWQgc2VsZWN0LWFsbCB0aGlzIHdheSkgKi9cbiAgICAgIDpob3N0KDpob3ZlcikgW3BhcnQ9XCJjaGVja2JveFwiXTo6YWZ0ZXIge1xuICAgICAgICB0cmFuc2l0aW9uOiB3aWR0aCAwLjFzLCBoZWlnaHQgMC4yNXM7XG4gICAgICB9XG5cbiAgICAgIC8qIFVzZWQgZm9yIGFjdGl2YXRpb24gXCJoYWxvXCIgKi9cbiAgICAgIFtwYXJ0PVwiY2hlY2tib3hcIl06OmJlZm9yZSB7XG4gICAgICAgIGNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuNCk7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjFzLCBvcGFjaXR5IDAuOHM7XG4gICAgICB9XG5cbiAgICAgIC8qIEhvdmVyICovXG5cbiAgICAgIDpob3N0KDpub3QoW2NoZWNrZWRdKTpub3QoW2luZGV0ZXJtaW5hdGVdKTpub3QoW2Rpc2FibGVkXSk6aG92ZXIpIFtwYXJ0PVwiY2hlY2tib3hcIl0ge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTMwcGN0KTtcbiAgICAgIH1cblxuICAgICAgLyogRGlzYWJsZSBob3ZlciBmb3IgdG91Y2ggZGV2aWNlcyAqL1xuICAgICAgQG1lZGlhIChwb2ludGVyOiBjb2Fyc2UpIHtcbiAgICAgICAgOmhvc3QoOm5vdChbY2hlY2tlZF0pOm5vdChbaW5kZXRlcm1pbmF0ZV0pOm5vdChbZGlzYWJsZWRdKTpob3ZlcikgW3BhcnQ9XCJjaGVja2JveFwiXSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0yMHBjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogQWN0aXZlICovXG5cbiAgICAgIDpob3N0KFthY3RpdmVdKSBbcGFydD1cImNoZWNrYm94XCJdIHtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpO1xuICAgICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjA1cztcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2FjdGl2ZV1bY2hlY2tlZF0pIFtwYXJ0PVwiY2hlY2tib3hcIl0ge1xuICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFthY3RpdmVdOm5vdChbY2hlY2tlZF0pKSBbcGFydD1cImNoZWNrYm94XCJdOjpiZWZvcmUge1xuICAgICAgICB0cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjAxcywgMC4wMXM7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMCk7XG4gICAgICAgIG9wYWNpdHk6IDAuNDtcbiAgICAgIH1cbiAgICA8L3N0eWxlPlxuICA8L3RlbXBsYXRlPlxuPC9kb20tbW9kdWxlPmA7XG5cbmRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoJF9kb2N1bWVudENvbnRhaW5lci5jb250ZW50KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbi8qKlxuICogQSBwcml2YXRlIG1peGluIHRvIGF2b2lkIHByb2JsZW1zIHdpdGggZHluYW1pYyBwcm9wZXJ0aWVzIGFuZCBQb2x5bWVyIEFuYWx5emVyLlxuICogTm8gbmVlZCB0byBleHBvc2UgdGhlc2UgcHJvcGVydGllcyBpbiB0aGUgQVBJIGRvY3MuXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmNvbnN0IFRhYkluZGV4TWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFZhYWRpblRhYkluZGV4TWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBJbnRlcm5hbCBwcm9wZXJ0eSBuZWVkZWQgdG8gbGlzdGVuIHRvIGB0YWJpbmRleGAgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKlxuICAgICAgICogRm9yIGNoYW5naW5nIHRoZSB0YWJpbmRleCBvZiB0aGlzIGNvbXBvbmVudCB1c2UgdGhlIG5hdGl2ZSBgdGFiSW5kZXhgIHByb3BlcnR5LlxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqL1xuICAgICAgdGFiaW5kZXg6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLFxuICAgICAgICBvYnNlcnZlcjogJ190YWJpbmRleENoYW5nZWQnXG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmICh3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgIC8vIFNoYWR5RE9NIGJyb3dzZXJzIG5lZWQgdGhlIGB0YWJJbmRleGAgaW4gb3JkZXIgdG8gbm90aWZ5IHdoZW4gdGhlIHVzZXIgY2hhbmdlcyBpdCBwcm9ncmFtbWF0aWNhbGx5LlxuICAgICAgcHJvcGVydGllc1sndGFiSW5kZXgnXSA9IHByb3BlcnRpZXMudGFiaW5kZXg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gIH1cbn07XG5cbi8qKlxuICogUG9seW1lci5Jcm9uQ29udHJvbFN0YXRlIGlzIG5vdCBhIHByb3BlciAyLjAgY2xhc3MsIGFsc28sIGl0cyB0YWJpbmRleFxuICogaW1wbGVtZW50YXRpb24gZmFpbHMgaW4gdGhlIHNoYWRvdyBkb20sIHNvIHdlIGhhdmUgdGhpcyBmb3IgdmFhZGluIGVsZW1lbnRzLlxuICogQHBvbHltZXJNaXhpblxuICovXG5leHBvcnQgY29uc3QgQ29udHJvbFN0YXRlTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFZhYWRpbkNvbnRyb2xTdGF0ZU1peGluIGV4dGVuZHMgVGFiSW5kZXhNaXhpbihzdXBlckNsYXNzKSB7XG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBTcGVjaWZ5IHRoYXQgdGhpcyBjb250cm9sIHNob3VsZCBoYXZlIGlucHV0IGZvY3VzIHdoZW4gdGhlIHBhZ2UgbG9hZHMuXG4gICAgICAgKi9cbiAgICAgIGF1dG9mb2N1czoge1xuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFN0b3JlcyB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGFiaW5kZXggYXR0cmlidXRlIG9mIHRoZSBkaXNhYmxlZCBlbGVtZW50XG4gICAgICAgKi9cbiAgICAgIF9wcmV2aW91c1RhYkluZGV4OiB7XG4gICAgICAgIHR5cGU6IE51bWJlclxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBJZiB0cnVlLCB0aGUgdXNlciBjYW5ub3QgaW50ZXJhY3Qgd2l0aCB0aGlzIGVsZW1lbnQuXG4gICAgICAgKi9cbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG9ic2VydmVyOiAnX2Rpc2FibGVkQ2hhbmdlZCcsXG4gICAgICAgIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgX2lzU2hpZnRUYWJiaW5nOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgZSA9PiB7XG4gICAgICBpZiAoZS5jb21wb3NlZFBhdGgoKVswXSA9PT0gdGhpcykge1xuICAgICAgICB0aGlzLl9mb2N1cyhlKTtcbiAgICAgIH0gZWxzZSBpZiAoZS5jb21wb3NlZFBhdGgoKS5pbmRleE9mKHRoaXMuZm9jdXNFbGVtZW50KSAhPT0gLTEgJiYgIXRoaXMuZGlzYWJsZWQpIHtcbiAgICAgICAgdGhpcy5fc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgZSA9PiB0aGlzLl9zZXRGb2N1c2VkKGZhbHNlKSk7XG5cbiAgICAvLyBJbiBzdXBlci5yZWFkeSgpIG90aGVyICdmb2N1c2luJyBhbmQgJ2ZvY3Vzb3V0JyBsaXN0ZW5lcnMgbWlnaHQgYmVcbiAgICAvLyBhZGRlZCwgc28gd2UgY2FsbCBpdCBhZnRlciBvdXIgb3duIG9uZXMgdG8gZW5zdXJlIHRoZXkgZXhlY3V0ZSBmaXJzdC5cbiAgICAvLyBJc3N1ZSB0byB3YXRjaCBvdXQ6IHdoZW4gaW5jb3JyZWN0LCA8dmFhZGluLWNvbWJvLWJveD4gcmVmb2N1c2VzIHRoZVxuICAgIC8vIGlucHV0IGZpZWxkIG9uIGlPUyBhZnRlciDigJxEb25l4oCdIGlzIHByZXNzZWQuXG4gICAgc3VwZXIucmVhZHkoKTtcblxuICAgIC8vIFRoaXMgZml4ZXMgdGhlIGJ1ZyBpbiBGaXJlZm94IDYxIChodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNDcyODg3KVxuICAgIC8vIHdoZXJlIGZvY3Vzb3V0IGV2ZW50IGRvZXMgbm90IGdvIG91dCBvZiBzaGFkeSBET00gYmVjYXVzZSBjb21wb3NlZCBwcm9wZXJ0eSBpbiB0aGUgZXZlbnQgaXMgbm90IHRydWVcbiAgICBjb25zdCBlbnN1cmVFdmVudENvbXBvc2VkID0gZSA9PiB7XG4gICAgICBpZiAoIWUuY29tcG9zZWQpIHtcbiAgICAgICAgZS50YXJnZXQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoZS50eXBlLCB7XG4gICAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnNoYWRvd1Jvb3QuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIGVuc3VyZUV2ZW50Q29tcG9zZWQpO1xuICAgIHRoaXMuc2hhZG93Um9vdC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGVuc3VyZUV2ZW50Q29tcG9zZWQpO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB7XG4gICAgICBpZiAoIWUuZGVmYXVsdFByZXZlbnRlZCAmJiBlLmtleUNvZGUgPT09IDkpIHtcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICAvLyBGbGFnIGlzIGNoZWNrZWQgaW4gX2ZvY3VzIGV2ZW50IGhhbmRsZXIuXG4gICAgICAgICAgdGhpcy5faXNTaGlmdFRhYmJpbmcgPSB0cnVlO1xuICAgICAgICAgIEhUTUxFbGVtZW50LnByb3RvdHlwZS5mb2N1cy5hcHBseSh0aGlzKTtcbiAgICAgICAgICB0aGlzLl9zZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgICAvLyBFdmVudCBoYW5kbGluZyBpbiBJRSBpcyBhc3luY2hyb25vdXMgYW5kIHRoZSBmbGFnIGlzIHJlbW92ZWQgYXN5bmNocm9ub3VzbHkgYXMgd2VsbFxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5faXNTaGlmdFRhYmJpbmcgPSBmYWxzZSwgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gV29ya2Fyb3VuZCBmb3IgRkY2My02NSBidWcgdGhhdCBjYXVzZXMgdGhlIGZvY3VzIHRvIGdldCBsb3N0IHdoZW5cbiAgICAgICAgICAvLyBibHVycmluZyBhIHNsb3R0ZWQgY29tcG9uZW50IHdpdGggZm9jdXNhYmxlIHNoYWRvdyByb290IGNvbnRlbnRcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTI4Njg2XG4gICAgICAgICAgLy8gVE9ETzogUmVtb3ZlIHdoZW4gc2FmZVxuICAgICAgICAgIGNvbnN0IGZpcmVmb3ggPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhcXGRcXGRcXC5cXGQpLyk7XG4gICAgICAgICAgaWYgKGZpcmVmb3hcbiAgICAgICAgICAgICYmIHBhcnNlRmxvYXQoZmlyZWZveFsxXSkgPj0gNjNcbiAgICAgICAgICAgICYmIHBhcnNlRmxvYXQoZmlyZWZveFsxXSkgPCA2NlxuICAgICAgICAgICAgJiYgdGhpcy5wYXJlbnROb2RlXG4gICAgICAgICAgICAmJiB0aGlzLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBjb25zdCBmYWtlVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIGZha2VUYXJnZXQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgZmFrZVRhcmdldC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGZha2VUYXJnZXQudGFiSW5kZXggPSB0aGlzLnRhYkluZGV4O1xuXG4gICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZha2VUYXJnZXQsIHRoaXMubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgZmFrZVRhcmdldC5mb2N1cygpO1xuICAgICAgICAgICAgZmFrZVRhcmdldC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsICgpID0+IHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmYWtlVGFyZ2V0KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmF1dG9mb2N1cyAmJiAhdGhpcy5mb2N1c2VkICYmICF0aGlzLmRpc2FibGVkKSB7XG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgdGhpcy5fZm9jdXMoKTtcbiAgICAgICAgdGhpcy5fc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2ZvY3VzLXJpbmcnLCAnJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLl9ib3VuZEtleWRvd25MaXN0ZW5lciA9IHRoaXMuX2JvZHlLZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9ib3VuZEtleXVwTGlzdGVuZXIgPSB0aGlzLl9ib2R5S2V5dXBMaXN0ZW5lci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9ib3VuZEtleWRvd25MaXN0ZW5lciwgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuX2JvdW5kS2V5dXBMaXN0ZW5lciwgdHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgZGlzY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuZGlzY29ubmVjdGVkQ2FsbGJhY2soKTtcblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2JvdW5kS2V5ZG93bkxpc3RlbmVyLCB0cnVlKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5fYm91bmRLZXl1cExpc3RlbmVyLCB0cnVlKTtcblxuICAgIC8vIGluIG5vbi1DaHJvbWUgYnJvd3NlcnMsIGJsdXIgZG9lcyBub3QgZmlyZSBvbiB0aGUgZWxlbWVudCB3aGVuIGl0IGlzIGRpc2Nvbm5lY3RlZC5cbiAgICAvLyByZXByb2R1Y2libGUgaW4gYDx2YWFkaW4tZGF0ZS1waWNrZXI+YCB3aGVuIGNsb3Npbmcgb24gYENhbmNlbGAgb3IgYFRvZGF5YCBjbGljay5cbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2ZvY3VzZWQnKSkge1xuICAgICAgdGhpcy5fc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgX3NldEZvY3VzZWQoZm9jdXNlZCkge1xuICAgIGlmIChmb2N1c2VkKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnZm9jdXNlZCcsICcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ2ZvY3VzZWQnKTtcbiAgICB9XG5cbiAgICAvLyBmb2N1cy1yaW5nIGlzIHRydWUgd2hlbiB0aGUgZWxlbWVudCB3YXMgZm9jdXNlZCBmcm9tIHRoZSBrZXlib2FyZC5cbiAgICAvLyBGb2N1cyBSaW5nIFtBMTF5Y2FzdHNdOiBodHRwczovL3lvdXR1LmJlL2lsajJQNS01Q2pJXG4gICAgaWYgKGZvY3VzZWQgJiYgdGhpcy5fdGFiUHJlc3NlZCkge1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2ZvY3VzLXJpbmcnLCAnJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdmb2N1cy1yaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgX2JvZHlLZXlkb3duTGlzdGVuZXIoZSkge1xuICAgIHRoaXMuX3RhYlByZXNzZWQgPSBlLmtleUNvZGUgPT09IDk7XG4gIH1cblxuICBfYm9keUtleXVwTGlzdGVuZXIoKSB7XG4gICAgdGhpcy5fdGFiUHJlc3NlZCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFueSBlbGVtZW50IGV4dGVuZGluZyB0aGlzIG1peGluIGlzIHJlcXVpcmVkIHRvIGltcGxlbWVudCB0aGlzIGdldHRlci5cbiAgICogSXQgcmV0dXJucyB0aGUgYWN0dWFsIGZvY3VzYWJsZSBlbGVtZW50IGluIHRoZSBjb21wb25lbnQuXG4gICAqL1xuICBnZXQgZm9jdXNFbGVtZW50KCkge1xuICAgIHdpbmRvdy5jb25zb2xlLndhcm4oYFBsZWFzZSBpbXBsZW1lbnQgdGhlICdmb2N1c0VsZW1lbnQnIHByb3BlcnR5IGluIDwke3RoaXMubG9jYWxOYW1lfT5gKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIF9mb2N1cyhlKSB7XG4gICAgaWYgKHRoaXMuX2lzU2hpZnRUYWJiaW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5mb2N1c0VsZW1lbnQuZm9jdXMoKTtcbiAgICB0aGlzLl9zZXRGb2N1c2VkKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmluZyB0aGUgZm9jdXMgZnJvbSB0aGUgaG9zdCBlbGVtZW50IGNhdXNlcyBmaXJpbmcgb2YgdGhlIGJsdXIgZXZlbnQgd2hhdCBsZWFkcyB0byBwcm9ibGVtcyBpbiBJRS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZvY3VzKCkge1xuICAgIGlmICghdGhpcy5mb2N1c0VsZW1lbnQgfHwgdGhpcy5kaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZm9jdXNFbGVtZW50LmZvY3VzKCk7XG4gICAgdGhpcy5fc2V0Rm9jdXNlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOYXRpdmUgYmx1cmluZyBpbiB0aGUgaG9zdCBlbGVtZW50IGRvZXMgbm90aGluZyBiZWNhdXNlIGl0IGRvZXMgbm90IGhhdmUgdGhlIGZvY3VzLlxuICAgKiBJbiBjaHJvbWUgaXQgd29ya3MsIGJ1dCBub3QgaW4gRkYuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBibHVyKCkge1xuICAgIHRoaXMuZm9jdXNFbGVtZW50LmJsdXIoKTtcbiAgICB0aGlzLl9zZXRGb2N1c2VkKGZhbHNlKTtcbiAgfVxuXG4gIF9kaXNhYmxlZENoYW5nZWQoZGlzYWJsZWQpIHtcbiAgICB0aGlzLmZvY3VzRWxlbWVudC5kaXNhYmxlZCA9IGRpc2FibGVkO1xuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgdGhpcy5ibHVyKCk7XG4gICAgICB0aGlzLl9wcmV2aW91c1RhYkluZGV4ID0gdGhpcy50YWJpbmRleDtcbiAgICAgIHRoaXMudGFiaW5kZXggPSAtMTtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9wcmV2aW91c1RhYkluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnRhYmluZGV4ID0gdGhpcy5fcHJldmlvdXNUYWJJbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgX3RhYmluZGV4Q2hhbmdlZCh0YWJpbmRleCkge1xuICAgIGlmICh0YWJpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLmZvY3VzRWxlbWVudC50YWJJbmRleCA9IHRhYmluZGV4O1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRpc2FibGVkICYmIHRoaXMudGFiaW5kZXgpIHtcbiAgICAgIC8vIElmIHRhYmluZGV4IGF0dHJpYnV0ZSB3YXMgY2hhbmdlZCB3aGlsZSBjaGVja2JveCB3YXMgZGlzYWJsZWRcbiAgICAgIGlmICh0aGlzLnRhYmluZGV4ICE9PSAtMSkge1xuICAgICAgICB0aGlzLl9wcmV2aW91c1RhYkluZGV4ID0gdGhpcy50YWJpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMudGFiaW5kZXggPSB0YWJpbmRleCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAod2luZG93LlNoYWR5RE9NKSB7XG4gICAgICB0aGlzLnNldFByb3BlcnRpZXMoe3RhYkluZGV4OiB0YWJpbmRleCwgdGFiaW5kZXg6IHRhYmluZGV4fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICovXG4gIGNsaWNrKCkge1xuICAgIGlmICghdGhpcy5kaXNhYmxlZCkge1xuICAgICAgc3VwZXIuY2xpY2soKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzJztcblxuaW1wb3J0IHsgR2VzdHVyZUV2ZW50TGlzdGVuZXJzIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbWl4aW5zL2dlc3R1cmUtZXZlbnQtbGlzdGVuZXJzLmpzJztcbmltcG9ydCB7IFRoZW1hYmxlTWl4aW4gfSBmcm9tICdAdmFhZGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi92YWFkaW4tdGhlbWFibGUtbWl4aW4uanMnO1xuaW1wb3J0IHsgQ29udHJvbFN0YXRlTWl4aW4gfSBmcm9tICdAdmFhZGluL3ZhYWRpbi1jb250cm9sLXN0YXRlLW1peGluL3ZhYWRpbi1jb250cm9sLXN0YXRlLW1peGluLmpzJztcbmltcG9ydCB7IEVsZW1lbnRNaXhpbiB9IGZyb20gJ0B2YWFkaW4vdmFhZGluLWVsZW1lbnQtbWl4aW4vdmFhZGluLWVsZW1lbnQtbWl4aW4uanMnO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcbi8qKlxuICogYDx2YWFkaW4tY2hlY2tib3g+YCBpcyBhIFdlYiBDb21wb25lbnQgZm9yIGN1c3RvbWl6ZWQgY2hlY2tib3hlcy5cbiAqXG4gKiBgYGBodG1sXG4gKiA8dmFhZGluLWNoZWNrYm94PlxuICogICBNYWtlIG15IHByb2ZpbGUgdmlzaWJsZVxuICogPC92YWFkaW4tY2hlY2tib3g+XG4gKiBgYGBcbiAqXG4gKiAjIyMgU3R5bGluZ1xuICpcbiAqIFRoZSBmb2xsb3dpbmcgc2hhZG93IERPTSBwYXJ0cyBhcmUgYXZhaWxhYmxlIGZvciBzdHlsaW5nOlxuICpcbiAqIFBhcnQgbmFtZSAgICAgICAgIHwgRGVzY3JpcHRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tXG4gKiBgY2hlY2tib3hgICAgICAgICB8IFRoZSB3cmFwcGVyIGVsZW1lbnQgZm9yIHRoZSBuYXRpdmUgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiPlxuICogYGxhYmVsYCAgICAgICAgICAgfCBUaGUgd3JhcHBlciBlbGVtZW50IGluIHdoaWNoIHRoZSBjb21wb25lbnQncyBjaGlsZHJlbiwgbmFtZWx5IHRoZSBsYWJlbCwgaXMgc2xvdHRlZFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgc3RhdGUgYXR0cmlidXRlcyBhcmUgYXZhaWxhYmxlIGZvciBzdHlsaW5nOlxuICpcbiAqIEF0dHJpYnV0ZSAgICB8IERlc2NyaXB0aW9uIHwgUGFydCBuYW1lXG4gKiAtLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS1cbiAqIGBhY3RpdmVgICAgICB8IFNldCB3aGVuIHRoZSBjaGVja2JveCBpcyBwcmVzc2VkIGRvd24sIGVpdGhlciB3aXRoIG1vdXNlLCB0b3VjaCBvciB0aGUga2V5Ym9hcmQuIHwgYDpob3N0YFxuICogYGRpc2FibGVkYCAgIHwgU2V0IHdoZW4gdGhlIGNoZWNrYm94IGlzIGRpc2FibGVkLiB8IGA6aG9zdGBcbiAqIGBmb2N1cy1yaW5nYCB8IFNldCB3aGVuIHRoZSBjaGVja2JveCBpcyBmb2N1c2VkIHVzaW5nIHRoZSBrZXlib2FyZC4gfCBgOmhvc3RgXG4gKiBgZm9jdXNlZGAgICAgfCBTZXQgd2hlbiB0aGUgY2hlY2tib3ggaXMgZm9jdXNlZC4gfCBgOmhvc3RgXG4gKiBgaW5kZXRlcm1pbmF0ZWAgfCBTZXQgd2hlbiB0aGUgY2hlY2tib3ggaXMgaW4gaW5kZXRlcm1pbmF0ZSBtb2RlLiB8IGA6aG9zdGBcbiAqIGBjaGVja2VkYCB8IFNldCB3aGVuIHRoZSBjaGVja2JveCBpcyBjaGVja2VkLiB8IGA6aG9zdGBcbiAqIGBlbXB0eWAgfCBTZXQgd2hlbiB0aGVyZSBpcyBubyBsYWJlbCBwcm92aWRlZC4gfCBgbGFiZWxgXG4gKlxuICogU2VlIFtUaGVtYWJsZU1peGluIOKAkyBob3cgdG8gYXBwbHkgc3R5bGVzIGZvciBzaGFkb3cgcGFydHNdKGh0dHBzOi8vZ2l0aHViLmNvbS92YWFkaW4vdmFhZGluLXRoZW1hYmxlLW1peGluL3dpa2kpXG4gKlxuICogQG1lbWJlcm9mIFZhYWRpblxuICogQG1peGVzIFZhYWRpbi5FbGVtZW50TWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uQ29udHJvbFN0YXRlTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uVGhlbWFibGVNaXhpblxuICogQG1peGVzIFBvbHltZXIuR2VzdHVyZUV2ZW50TGlzdGVuZXJzXG4gKiBAZGVtbyBkZW1vL2luZGV4Lmh0bWxcbiAqL1xuY2xhc3MgQ2hlY2tib3hFbGVtZW50IGV4dGVuZHNcbiAgRWxlbWVudE1peGluKFxuICAgIENvbnRyb2xTdGF0ZU1peGluKFxuICAgICAgVGhlbWFibGVNaXhpbihcbiAgICAgICAgR2VzdHVyZUV2ZW50TGlzdGVuZXJzKFBvbHltZXJFbGVtZW50KSkpKSB7XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtoaWRkZW5dKSB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICAgIH1cblxuICAgICAgbGFiZWwge1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGJhc2VsaW5lO1xuICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgfVxuXG4gICAgICBbcGFydD1cImNoZWNrYm94XCJdIHtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgIGZsZXg6IG5vbmU7XG4gICAgICB9XG5cbiAgICAgIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgdG9wOiAwO1xuICAgICAgICBsZWZ0OiAwO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICBjdXJzb3I6IGluaGVyaXQ7XG4gICAgICAgIG1hcmdpbjogMDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW2Rpc2FibGVkXSkge1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG5cbiAgICA8bGFiZWw+XG4gICAgICA8c3BhbiBwYXJ0PVwiY2hlY2tib3hcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNoZWNrZWQ9XCJ7e2NoZWNrZWQ6OmNoYW5nZX19XCIgZGlzYWJsZWRcXCQ9XCJbW2Rpc2FibGVkXV1cIiBpbmRldGVybWluYXRlPVwie3tpbmRldGVybWluYXRlOjpjaGFuZ2V9fVwiIHJvbGU9XCJwcmVzZW50YXRpb25cIiB0YWJpbmRleD1cIi0xXCI+XG4gICAgICA8L3NwYW4+XG5cbiAgICAgIDxzcGFuIHBhcnQ9XCJsYWJlbFwiPlxuICAgICAgICA8c2xvdD48L3Nsb3Q+XG4gICAgICA8L3NwYW4+XG4gICAgPC9sYWJlbD5cbmA7XG4gIH1cblxuICBzdGF0aWMgZ2V0IGlzKCkge1xuICAgIHJldHVybiAndmFhZGluLWNoZWNrYm94JztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcbiAgICByZXR1cm4gJzIuMi4xMic7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogVHJ1ZSBpZiB0aGUgY2hlY2tib3ggaXMgY2hlY2tlZC5cbiAgICAgICAqL1xuICAgICAgY2hlY2tlZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgb2JzZXJ2ZXI6ICdfY2hlY2tlZENoYW5nZWQnLFxuICAgICAgICByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWVcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogSW5kZXRlcm1pbmF0ZSBzdGF0ZSBvZiB0aGUgY2hlY2tib3ggd2hlbiBpdCdzIG5laXRoZXIgY2hlY2tlZCBub3IgdW5jaGVja2VkLCBidXQgdW5kZXRlcm1pbmVkLlxuICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9FbGVtZW50L2lucHV0L2NoZWNrYm94I0luZGV0ZXJtaW5hdGVfc3RhdGVfY2hlY2tib3hlc1xuICAgICAgICovXG4gICAgICBpbmRldGVybWluYXRlOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgb2JzZXJ2ZXI6ICdfaW5kZXRlcm1pbmF0ZUNoYW5nZWQnLFxuICAgICAgICByZWZsZWN0VG9BdHRyaWJ1dGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUaGUgdmFsdWUgZ2l2ZW4gdG8gdGhlIGRhdGEgc3VibWl0dGVkIHdpdGggdGhlIGNoZWNrYm94J3MgbmFtZSB0byB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbnRyb2wgaXMgaW5zaWRlIGEgZm9ybS5cbiAgICAgICAqL1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogJ29uJ1xuICAgICAgfSxcblxuICAgICAgX25hdGl2ZUNoZWNrYm94OiB7XG4gICAgICAgIHR5cGU6IE9iamVjdFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICogTmFtZSBvZiB0aGUgZWxlbWVudC5cbiAgICAgKi9cbiAgICB0aGlzLm5hbWU7XG4gIH1cblxuICBnZXQgbmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jaGVja2VkID8gdGhpcy5fc3RvcmVkTmFtZSA6ICcnO1xuICB9XG5cbiAgc2V0IG5hbWUobmFtZSkge1xuICAgIHRoaXMuX3N0b3JlZE5hbWUgPSBuYW1lO1xuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgc3VwZXIucmVhZHkoKTtcblxuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2NoZWNrYm94Jyk7XG5cbiAgICB0aGlzLl9uYXRpdmVDaGVja2JveCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuX2FkZEFjdGl2ZUxpc3RlbmVycygpO1xuXG4gICAgY29uc3QgYXR0ck5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnbmFtZScpO1xuICAgIGlmIChhdHRyTmFtZSkge1xuICAgICAgdGhpcy5uYW1lID0gYXR0ck5hbWU7XG4gICAgfVxuXG4gICAgdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ1twYXJ0fj1cImxhYmVsXCJdJykucXVlcnlTZWxlY3Rvcignc2xvdCcpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignc2xvdGNoYW5nZScsIHRoaXMuX3VwZGF0ZUxhYmVsQXR0cmlidXRlLmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5fdXBkYXRlTGFiZWxBdHRyaWJ1dGUoKTtcbiAgfVxuXG4gIF91cGRhdGVMYWJlbEF0dHJpYnV0ZSgpIHtcbiAgICBjb25zdCBsYWJlbCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdbcGFydH49XCJsYWJlbFwiXScpO1xuICAgIGNvbnN0IGFzc2lnbmVkTm9kZXMgPSBsYWJlbC5maXJzdEVsZW1lbnRDaGlsZC5hc3NpZ25lZE5vZGVzKCk7XG4gICAgaWYgKHRoaXMuX2lzQXNzaWduZWROb2Rlc0VtcHR5KGFzc2lnbmVkTm9kZXMpKSB7XG4gICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2VtcHR5JywgJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYWJlbC5yZW1vdmVBdHRyaWJ1dGUoJ2VtcHR5Jyk7XG4gICAgfVxuICB9XG5cbiAgX2lzQXNzaWduZWROb2Rlc0VtcHR5KG5vZGVzKSB7XG4gICAgLy8gVGhlIGFzc2lnbmVkIG5vZGVzIGNvbnNpZGVyZWQgdG8gYmUgZW1wdHkgaWYgdGhlcmUgaXMgbm8gc2xvdHRlZCBjb250ZW50IG9yIG9ubHkgb25lIGVtcHR5IHRleHQgbm9kZVxuICAgIHJldHVybiBub2Rlcy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAobm9kZXMubGVuZ3RoID09IDFcbiAgICAgICAgICAmJiBub2Rlc1swXS5ub2RlVHlwZSA9PSBOb2RlLlRFWFRfTk9ERVxuICAgICAgICAgICYmIG5vZGVzWzBdLnRleHRDb250ZW50LnRyaW0oKSA9PT0gJycpO1xuICB9XG5cbiAgX2NoZWNrZWRDaGFuZ2VkKGNoZWNrZWQpIHtcbiAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ21peGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCBjaGVja2VkKTtcbiAgICB9XG4gIH1cblxuICBfaW5kZXRlcm1pbmF0ZUNoYW5nZWQoaW5kZXRlcm1pbmF0ZSkge1xuICAgIGlmIChpbmRldGVybWluYXRlKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1jaGVja2VkJywgJ21peGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWNoZWNrZWQnLCB0aGlzLmNoZWNrZWQpO1xuICAgIH1cbiAgfVxuXG4gIF9hZGRBY3RpdmVMaXN0ZW5lcnMoKSB7XG4gICAgLy8gRE9XTlxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUodGhpcywgJ2Rvd24nLCAoZSkgPT4ge1xuICAgICAgaWYgKHRoaXMuX19pbnRlcmFjdGlvbnNBbGxvd2VkKGUpKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhY3RpdmUnLCAnJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBVUFxuICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJUb05vZGUodGhpcywgJ3VwJywgKCkgPT4gdGhpcy5yZW1vdmVBdHRyaWJ1dGUoJ2FjdGl2ZScpKTtcblxuICAgIC8vIEtFWURPV05cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcbiAgICAgIGlmICh0aGlzLl9faW50ZXJhY3Rpb25zQWxsb3dlZChlKSAmJiBlLmtleUNvZGUgPT09IDMyKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2FjdGl2ZScsICcnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEtFWVVQXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGUgPT4ge1xuICAgICAgaWYgKHRoaXMuX19pbnRlcmFjdGlvbnNBbGxvd2VkKGUpICYmIGUua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLl90b2dnbGVDaGVja2VkKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdhY3RpdmUnKTtcblxuICAgICAgICBpZiAodGhpcy5pbmRldGVybWluYXRlKSB7XG4gICAgICAgICAgdGhpcy5pbmRldGVybWluYXRlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKiBAcHJvdGVjdGVkICovXG4gIGdldCBmb2N1c0VsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdXNlcnMnIGludGVyYWN0aW9ucyAobW91c2Ugb3Iga2V5Ym9hcmQpXG4gICAqIHNob3VsZCB0b2dnbGUgdGhlIGNoZWNrYm94XG4gICAqL1xuICBfX2ludGVyYWN0aW9uc0FsbG93ZWQoZSkge1xuICAgIGlmICh0aGlzLmRpc2FibGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZhYWRpbi92YWFkaW4tY2hlY2tib3gvaXNzdWVzLzYzXG4gICAgaWYgKGUudGFyZ2V0LmxvY2FsTmFtZSA9PT0gJ2EnKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBfaGFuZGxlQ2xpY2soZSkge1xuICAgIGlmICh0aGlzLl9faW50ZXJhY3Rpb25zQWxsb3dlZChlKSkge1xuICAgICAgaWYgKCF0aGlzLmluZGV0ZXJtaW5hdGUpIHtcbiAgICAgICAgaWYgKGUuY29tcG9zZWRQYXRoKClbMF0gIT09IHRoaXMuX25hdGl2ZUNoZWNrYm94KSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIHRoaXMuX3RvZ2dsZUNoZWNrZWQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLypcbiAgICAgICAgICogUmVxdWlyZWQgZm9yIElFIDExIGFuZCBFZGdlLlxuICAgICAgICAgKiBTZWUgaXNzdWUgaGVyZTogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvNzM0NDQxOC9cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kZXRlcm1pbmF0ZSA9IGZhbHNlO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUNoZWNrZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlQ2hlY2tlZCgpIHtcbiAgICB0aGlzLmNoZWNrZWQgPSAhdGhpcy5jaGVja2VkO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NoYW5nZScsIHtjb21wb3NlZDogZmFsc2UsIGJ1YmJsZXM6IHRydWV9KSk7XG4gIH1cblxuICAvKipcbiAgICogRmlyZWQgd2hlbiB0aGUgdXNlciBjb21taXRzIGEgdmFsdWUgY2hhbmdlLlxuICAgKlxuICAgKiBAZXZlbnQgY2hhbmdlXG4gICAqL1xufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoQ2hlY2tib3hFbGVtZW50LmlzLCBDaGVja2JveEVsZW1lbnQpO1xuXG5leHBvcnQgeyBDaGVja2JveEVsZW1lbnQgfTtcbiIsImltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvY29sb3IuanMnO1xuaW1wb3J0ICdAdmFhZGluL3ZhYWRpbi1sdW1vLXN0eWxlcy9mb250LWljb25zLmpzJztcbmltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc2l6aW5nLmpzJztcbmltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvc3BhY2luZy5qcyc7XG5pbXBvcnQgJ0B2YWFkaW4vdmFhZGluLWx1bW8tc3R5bGVzL3N0eWxlLmpzJztcbmltcG9ydCAnQHZhYWRpbi92YWFkaW4tbHVtby1zdHlsZXMvdHlwb2dyYXBoeS5qcyc7XG5pbXBvcnQgJ0B2YWFkaW4vdmFhZGluLWNoZWNrYm94L3RoZW1lL2x1bW8vdmFhZGluLWNoZWNrYm94LmpzJztcbmltcG9ydCB7IGh0bWwgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZy5qcyc7XG5cbmNvbnN0ICRfZG9jdW1lbnRDb250YWluZXIgPSBodG1sYDxkb20tbW9kdWxlIGlkPVwibHVtby1ncmlkXCIgdGhlbWUtZm9yPVwidmFhZGluLWdyaWRcIj5cbiAgPHRlbXBsYXRlPlxuICAgIDxzdHlsZT5cbiAgICAgIDpob3N0IHtcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWx1bW8tZm9udC1mYW1pbHkpO1xuICAgICAgICBmb250LXNpemU6IHZhcigtLWx1bW8tZm9udC1zaXplLW0pO1xuICAgICAgICBsaW5lLWhlaWdodDogdmFyKC0tbHVtby1saW5lLWhlaWdodC1zKTtcbiAgICAgICAgY29sb3I6IHZhcigtLWx1bW8tYm9keS10ZXh0LWNvbG9yKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1iYXNlLWNvbG9yKTtcbiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlO1xuICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgICAgICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbiAgICAgICAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcblxuICAgICAgICAvKiBGb3IgaW50ZXJuYWwgdXNlIG9ubHkgKi9cbiAgICAgICAgLS1fbHVtby1ncmlkLWJvcmRlci1jb2xvcjogdmFyKC0tbHVtby1jb250cmFzdC0yMHBjdCk7XG4gICAgICAgIC0tX2x1bW8tZ3JpZC1zZWNvbmRhcnktYm9yZGVyLWNvbG9yOiB2YXIoLS1sdW1vLWNvbnRyYXN0LTEwcGN0KTtcbiAgICAgICAgLS1fbHVtby1ncmlkLWJvcmRlci13aWR0aDogMXB4O1xuICAgICAgICAtLV9sdW1vLWdyaWQtc2VsZWN0ZWQtcm93LWNvbG9yOiB2YXIoLS1sdW1vLXByaW1hcnktY29sb3ItMTBwY3QpO1xuICAgICAgfVxuXG4gICAgICAvKiBObyAob3V0ZXIpIGJvcmRlciAqL1xuXG4gICAgICA6aG9zdCg6bm90KFt0aGVtZX49XCJuby1ib3JkZXJcIl0pKSB7XG4gICAgICAgIGJvcmRlcjogdmFyKC0tX2x1bW8tZ3JpZC1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLV9sdW1vLWdyaWQtYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLyogQ2VsbCBzdHlsZXMgKi9cblxuICAgICAgW3BhcnR+PVwiY2VsbFwiXSB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IHZhcigtLWx1bW8tc2l6ZS1tKTtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tbHVtby1iYXNlLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgW3BhcnR+PVwiY2VsbFwiXSA6OnNsb3R0ZWQodmFhZGluLWdyaWQtY2VsbC1jb250ZW50KSB7XG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tbHVtby1zcGFjZS14cykgdmFyKC0tbHVtby1zcGFjZS1tKTtcbiAgICAgIH1cblxuICAgICAgLyogQXBwbHkgcm93IGJvcmRlcnMgYnkgZGVmYXVsdCBhbmQgaW50cm9kdWNlIHRoZSBcIm5vLXJvdy1ib3JkZXJzXCIgdmFyaWFudCAqL1xuICAgICAgOmhvc3QoOm5vdChbdGhlbWV+PVwibm8tcm93LWJvcmRlcnNcIl0pKSBbcGFydH49XCJjZWxsXCJdOm5vdChbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0pIHtcbiAgICAgICAgYm9yZGVyLXRvcDogdmFyKC0tX2x1bW8tZ3JpZC1ib3JkZXItd2lkdGgpIHNvbGlkIHZhcigtLV9sdW1vLWdyaWQtc2Vjb25kYXJ5LWJvcmRlci1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC8qIEhpZGUgZmlyc3QgYm9keSByb3cgdG9wIGJvcmRlciAqL1xuICAgICAgOmhvc3QoOm5vdChbdGhlbWV+PVwibm8tcm93LWJvcmRlcnNcIl0pKSBbcGFydD1cInJvd1wiXVtmaXJzdF0gW3BhcnR+PVwiY2VsbFwiXTpub3QoW3BhcnR+PVwiZGV0YWlscy1jZWxsXCJdKSB7XG4gICAgICAgIGJvcmRlci10b3A6IDA7XG4gICAgICAgIG1pbi1oZWlnaHQ6IGNhbGModmFyKC0tbHVtby1zaXplLW0pIC0gdmFyKC0tX2x1bW8tZ3JpZC1ib3JkZXItd2lkdGgpKTtcbiAgICAgIH1cblxuICAgICAgLyogRm9jdXMtcmluZyAqL1xuXG4gICAgICBbcGFydH49XCJjZWxsXCJdOmZvY3VzIHtcbiAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hdmlnYXRpbmddKSBbcGFydH49XCJjZWxsXCJdOmZvY3VzOjpiZWZvcmUge1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDJweCB2YXIoLS1sdW1vLXByaW1hcnktY29sb3ItNTBwY3QpO1xuICAgICAgfVxuXG4gICAgICAvKiBEcmFnIGFuZCBEcm9wIHN0eWxlcyAqL1xuICAgICAgOmhvc3QoW2RyYWdvdmVyXSk6OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiAxMDA7XG4gICAgICAgIHRvcDogMDtcbiAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDJweCB2YXIoLS1sdW1vLXByaW1hcnktY29sb3ItNTBwY3QpO1xuICAgICAgfVxuXG4gICAgICBbcGFydH49XCJyb3dcIl1bZHJhZ292ZXJdIHtcbiAgICAgICAgei1pbmRleDogMTAwICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkcmFnb3Zlcl0gW3BhcnR+PVwiY2VsbFwiXSB7XG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgfVxuXG4gICAgICBbcGFydH49XCJyb3dcIl1bZHJhZ292ZXJdIFtwYXJ0fj1cImNlbGxcIl06OmFmdGVyIHtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICBib3R0b206IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIGhlaWdodDogY2FsYyh2YXIoLS1fbHVtby1ncmlkLWJvcmRlci13aWR0aCkgKyAycHgpO1xuICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbHVtby1wcmltYXJ5LWNvbG9yLTUwcGN0KTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW3RoZW1lfj1cIm5vLXJvdy1ib3JkZXJzXCJdKSBbZHJhZ292ZXJdIFtwYXJ0fj1cImNlbGxcIl06OmFmdGVyIHtcbiAgICAgICAgaGVpZ2h0OiAycHg7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkcmFnb3Zlcj1cImJlbG93XCJdIFtwYXJ0fj1cImNlbGxcIl06OmFmdGVyIHtcbiAgICAgICAgdG9wOiAxMDAlO1xuICAgICAgICBib3R0b206IGF1dG87XG4gICAgICAgIG1hcmdpbi10b3A6IC0xcHg7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkcmFnb3Zlcj1cImFib3ZlXCJdIFtwYXJ0fj1cImNlbGxcIl06OmFmdGVyIHtcbiAgICAgICAgdG9wOiBhdXRvO1xuICAgICAgICBib3R0b206IDEwMCU7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IC0xcHg7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkZXRhaWxzLW9wZW5lZF1bZHJhZ292ZXI9XCJiZWxvd1wiXSBbcGFydH49XCJjZWxsXCJdOm5vdChbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0pOjphZnRlcixcbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkZXRhaWxzLW9wZW5lZF1bZHJhZ292ZXI9XCJhYm92ZVwiXSBbcGFydH49XCJkZXRhaWxzLWNlbGxcIl06OmFmdGVyIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgIH1cblxuICAgICAgW3BhcnR+PVwicm93XCJdW2RyYWdvdmVyXVtkcmFnb3Zlcj1cIm9uLXRvcFwiXSBbcGFydH49XCJjZWxsXCJdOjphZnRlciB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgW3BhcnR+PVwicm93XCJdW2RyYWdzdGFydF0ge1xuICAgICAgICAvKiBBZGQgYm90dG9tLXNwYWNlIHRvIHRoZSByb3cgc28gdGhlIGRyYWcgbnVtYmVyIGRvZXNuJ3QgZ2V0IGNsaXBwZWQuIE5lZWRlZCBmb3IgSUUvRWRnZSAqL1xuICAgICAgICBib3JkZXItYm90dG9tOiAxMDBweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgei1pbmRleDogMTAwICFpbXBvcnRhbnQ7XG4gICAgICAgIG9wYWNpdHk6IDAuOTtcbiAgICAgIH1cblxuICAgICAgW3BhcnR+PVwicm93XCJdW2RyYWdzdGFydF0gW3BhcnR+PVwiY2VsbFwiXSB7XG4gICAgICAgIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkcmFnc3RhcnRdIFtwYXJ0fj1cImNlbGxcIl1bbGFzdC1jb2x1bW5dIHtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogMCB2YXIoLS1sdW1vLWJvcmRlci1yYWRpdXMtcykgdmFyKC0tbHVtby1ib3JkZXItcmFkaXVzLXMpIDA7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJvd1wiXVtkcmFnc3RhcnRdIFtwYXJ0fj1cImNlbGxcIl1bZmlyc3QtY29sdW1uXSB7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWx1bW8tYm9yZGVyLXJhZGl1cy1zKSAwIDAgdmFyKC0tbHVtby1ib3JkZXItcmFkaXVzLXMpO1xuICAgICAgfVxuXG4gICAgICBbaW9zXSBbcGFydH49XCJyb3dcIl1bZHJhZ3N0YXJ0XSBbcGFydH49XCJjZWxsXCJdIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tbHVtby1wcmltYXJ5LWNvbG9yLTUwcGN0KTtcbiAgICAgIH1cblxuICAgICAgI3Njcm9sbGVyOm5vdChbaW9zXSkgW3BhcnR+PVwicm93XCJdW2RyYWdzdGFydF06bm90KFtkcmFnc3RhcnQ9XCJcIl0pOjphZnRlciB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGxlZnQ6IHZhcigtLV9ncmlkLWRyYWctc3RhcnQteCk7XG4gICAgICAgIHRvcDogdmFyKC0tX2dyaWQtZHJhZy1zdGFydC15KTtcbiAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgICBjb250ZW50OiBhdHRyKGRyYWdzdGFydCk7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICBwYWRkaW5nOiBjYWxjKHZhcigtLWx1bW8tc3BhY2UteHMpICogMC44KTtcbiAgICAgICAgY29sb3I6IHZhcigtLWx1bW8tZXJyb3ItY29udHJhc3QtY29sb3IpO1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLWVycm9yLWNvbG9yKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tbHVtby1ib3JkZXItcmFkaXVzLW0pO1xuICAgICAgICBmb250LWZhbWlseTogdmFyKC0tbHVtby1mb250LWZhbWlseSk7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tbHVtby1mb250LXNpemUteHhzKTtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiBpbml0aWFsO1xuICAgICAgICBsZXR0ZXItc3BhY2luZzogaW5pdGlhbDtcbiAgICAgICAgbWluLXdpZHRoOiBjYWxjKHZhcigtLWx1bW8tc2l6ZS1zKSAqIDAuNyk7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgLyogSGVhZGVycyBhbmQgZm9vdGVycyAqL1xuXG4gICAgICBbcGFydH49XCJoZWFkZXItY2VsbFwiXSA6OnNsb3R0ZWQodmFhZGluLWdyaWQtY2VsbC1jb250ZW50KSxcbiAgICAgIFtwYXJ0fj1cImZvb3Rlci1jZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpLFxuICAgICAgW3BhcnR+PVwicmVvcmRlci1naG9zdFwiXSB7XG4gICAgICAgIGZvbnQtc2l6ZTogdmFyKC0tbHVtby1mb250LXNpemUtcyk7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cImZvb3Rlci1jZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpIHtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJyb3dcIl06b25seS1jaGlsZCBbcGFydH49XCJoZWFkZXItY2VsbFwiXSB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IHZhcigtLWx1bW8tc2l6ZS14bCk7XG4gICAgICB9XG5cbiAgICAgIC8qIEhlYWRlciBib3JkZXJzICovXG5cbiAgICAgIC8qIEhpZGUgZmlyc3QgaGVhZGVyIHJvdyB0b3AgYm9yZGVyICovXG4gICAgICA6aG9zdCg6bm90KFt0aGVtZX49XCJuby1yb3ctYm9yZGVyc1wiXSkpIFtwYXJ0PVwicm93XCJdOmZpcnN0LWNoaWxkIFtwYXJ0fj1cImhlYWRlci1jZWxsXCJdIHtcbiAgICAgICAgYm9yZGVyLXRvcDogMDtcbiAgICAgIH1cblxuICAgICAgW3BhcnQ9XCJyb3dcIl06bGFzdC1jaGlsZCBbcGFydH49XCJoZWFkZXItY2VsbFwiXSB7XG4gICAgICAgIGJvcmRlci1ib3R0b206IHZhcigtLV9sdW1vLWdyaWQtYm9yZGVyLXdpZHRoKSBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoOm5vdChbdGhlbWV+PVwibm8tcm93LWJvcmRlcnNcIl0pKSBbcGFydD1cInJvd1wiXTpsYXN0LWNoaWxkIFtwYXJ0fj1cImhlYWRlci1jZWxsXCJdIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tX2x1bW8tZ3JpZC1zZWNvbmRhcnktYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLyogT3ZlcmZsb3cgdXNlcyBhIHN0cm9uZ2VyIGJvcmRlciBjb2xvciAqL1xuICAgICAgOmhvc3QoW292ZXJmbG93fj1cInRvcFwiXSkgW3BhcnQ9XCJyb3dcIl06bGFzdC1jaGlsZCBbcGFydH49XCJoZWFkZXItY2VsbFwiXSB7XG4gICAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLV9sdW1vLWdyaWQtYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLyogRm9vdGVyIGJvcmRlcnMgKi9cblxuICAgICAgW3BhcnQ9XCJyb3dcIl06Zmlyc3QtY2hpbGQgW3BhcnR+PVwiZm9vdGVyLWNlbGxcIl0ge1xuICAgICAgICBib3JkZXItdG9wOiB2YXIoLS1fbHVtby1ncmlkLWJvcmRlci13aWR0aCkgc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KDpub3QoW3RoZW1lfj1cIm5vLXJvdy1ib3JkZXJzXCJdKSkgW3BhcnQ9XCJyb3dcIl06Zmlyc3QtY2hpbGQgW3BhcnR+PVwiZm9vdGVyLWNlbGxcIl0ge1xuICAgICAgICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1fbHVtby1ncmlkLXNlY29uZGFyeS1ib3JkZXItY29sb3IpO1xuICAgICAgfVxuXG4gICAgICAvKiBPdmVyZmxvdyB1c2VzIGEgc3Ryb25nZXIgYm9yZGVyIGNvbG9yICovXG4gICAgICA6aG9zdChbb3ZlcmZsb3d+PVwiYm90dG9tXCJdKSBbcGFydD1cInJvd1wiXTpmaXJzdC1jaGlsZCBbcGFydH49XCJmb290ZXItY2VsbFwiXSB7XG4gICAgICAgIGJvcmRlci10b3AtY29sb3I6IHZhcigtLV9sdW1vLWdyaWQtYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLyogQ29sdW1uIHJlb3JkZXJpbmcgKi9cblxuICAgICAgOmhvc3QoW3Jlb3JkZXJpbmddKSBbcGFydH49XCJjZWxsXCJdIHtcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHZhcigtLWx1bW8tc2hhZGUtMjBwY3QpLCB2YXIoLS1sdW1vLXNoYWRlLTIwcGN0KSkgdmFyKC0tbHVtby1iYXNlLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW3Jlb3JkZXJpbmddKSBbcGFydH49XCJjZWxsXCJdW3Jlb3JkZXItc3RhdHVzPVwiYWxsb3dlZFwiXSB7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWx1bW8tYmFzZS1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtyZW9yZGVyaW5nXSkgW3BhcnR+PVwiY2VsbFwiXVtyZW9yZGVyLXN0YXR1cz1cImRyYWdnaW5nXCJdIHtcbiAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHZhcigtLWx1bW8tY29udHJhc3QtNXBjdCksIHZhcigtLWx1bW8tY29udHJhc3QtNXBjdCkpIHZhcigtLWx1bW8tYmFzZS1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIFtwYXJ0fj1cInJlb3JkZXItZ2hvc3RcIl0ge1xuICAgICAgICBvcGFjaXR5OiAwLjg1O1xuICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1sdW1vLWJveC1zaGFkb3ctcyk7XG4gICAgICAgIC8qIFRPRE8gVXNlIHRoZSBzYW1lIHN0eWxlcyBhcyBmb3IgdGhlIGNlbGwgZWxlbWVudCAocmVvcmRlci1naG9zdCBjb3BpZXMgc3R5bGVzIGZyb20gdGhlIGNlbGwgZWxlbWVudCkgKi9cbiAgICAgICAgcGFkZGluZzogdmFyKC0tbHVtby1zcGFjZS1zKSB2YXIoLS1sdW1vLXNwYWNlLW0pICFpbXBvcnRhbnQ7XG4gICAgICB9XG5cbiAgICAgIC8qIENvbHVtbiByZXNpemluZyAqL1xuXG4gICAgICBbcGFydD1cInJlc2l6ZS1oYW5kbGVcIl0ge1xuICAgICAgICB3aWR0aDogM3B4O1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1sdW1vLXByaW1hcnktY29sb3ItNTBwY3QpO1xuICAgICAgICBvcGFjaXR5OiAwO1xuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuMnM7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KDpub3QoW3Jlb3JkZXJpbmddKSkgKjpub3QoW2NvbHVtbi1yZXNpemluZ10pIFtwYXJ0fj1cImNlbGxcIl06aG92ZXIgW3BhcnQ9XCJyZXNpemUtaGFuZGxlXCJdLFxuICAgICAgW3BhcnQ9XCJyZXNpemUtaGFuZGxlXCJdOmFjdGl2ZSB7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IDAuMTVzO1xuICAgICAgfVxuXG4gICAgICAvKiBDb2x1bW4gYm9yZGVycyAqL1xuXG4gICAgICA6aG9zdChbdGhlbWV+PVwiY29sdW1uLWJvcmRlcnNcIl0pIFtwYXJ0fj1cImNlbGxcIl06bm90KFtsYXN0LWNvbHVtbl0pOm5vdChbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0pIHtcbiAgICAgICAgYm9yZGVyLXJpZ2h0OiB2YXIoLS1fbHVtby1ncmlkLWJvcmRlci13aWR0aCkgc29saWQgdmFyKC0tX2x1bW8tZ3JpZC1zZWNvbmRhcnktYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLyogRnJvemVuIGNvbHVtbnMgKi9cblxuICAgICAgW2xhc3QtZnJvemVuXSB7XG4gICAgICAgIGJvcmRlci1yaWdodDogdmFyKC0tX2x1bW8tZ3JpZC1ib3JkZXItd2lkdGgpIHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbb3ZlcmZsb3d+PVwibGVmdFwiXSkgW3BhcnR+PVwiY2VsbFwiXVtsYXN0LWZyb3plbl06bm90KFtwYXJ0fj1cImRldGFpbHMtY2VsbFwiXSkge1xuICAgICAgICBib3JkZXItcmlnaHQtY29sb3I6IHZhcigtLV9sdW1vLWdyaWQtYm9yZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgLyogUm93IHN0cmlwZXMgKi9cblxuICAgICAgOmhvc3QoW3RoZW1lfj1cInJvdy1zdHJpcGVzXCJdKSBbcGFydH49XCJyb3dcIl06bm90KFtvZGRdKSBbcGFydH49XCJib2R5LWNlbGxcIl0sXG4gICAgICA6aG9zdChbdGhlbWV+PVwicm93LXN0cmlwZXNcIl0pIFtwYXJ0fj1cInJvd1wiXTpub3QoW29kZF0pIFtwYXJ0fj1cImRldGFpbHMtY2VsbFwiXSB7XG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh2YXIoLS1sdW1vLWNvbnRyYXN0LTVwY3QpLCB2YXIoLS1sdW1vLWNvbnRyYXN0LTVwY3QpKTtcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVhdC14O1xuICAgICAgfVxuXG4gICAgICAvKiBTZWxlY3RlZCByb3cgKi9cblxuICAgICAgLyogUmFpc2UgdGhlIHNlbGVjdGVkIHJvd3MgYWJvdmUgdW5zZWxlY3RlZCByb3dzIChzbyB0aGF0IGJveC1zaGFkb3cgY2FuIGNvdmVyIHVuc2VsZWN0ZWQgcm93cykgKi9cbiAgICAgIDpob3N0KDpub3QoW3Jlb3JkZXJpbmddKSkgW3BhcnR+PVwicm93XCJdW3NlbGVjdGVkXSB7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KDpub3QoW3Jlb3JkZXJpbmddKSkgW3BhcnR+PVwicm93XCJdW3NlbGVjdGVkXSBbcGFydH49XCJib2R5LWNlbGxcIl06bm90KFtwYXJ0fj1cImRldGFpbHMtY2VsbFwiXSkge1xuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQodmFyKC0tX2x1bW8tZ3JpZC1zZWxlY3RlZC1yb3ctY29sb3IpLCB2YXIoLS1fbHVtby1ncmlkLXNlbGVjdGVkLXJvdy1jb2xvcikpO1xuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0O1xuICAgICAgfVxuXG4gICAgICAvKiBDb3ZlciB0aGUgYm9yZGVyIG9mIGFuIHVuc2VsZWN0ZWQgcm93ICovXG4gICAgICA6aG9zdCg6bm90KFt0aGVtZX49XCJuby1yb3ctYm9yZGVyc1wiXSkpIFtwYXJ0fj1cInJvd1wiXVtzZWxlY3RlZF0gW3BhcnR+PVwiY2VsbFwiXTpub3QoW3BhcnR+PVwiZGV0YWlscy1jZWxsXCJdKSB7XG4gICAgICAgIGJveC1zaGFkb3c6IDAgdmFyKC0tX2x1bW8tZ3JpZC1ib3JkZXItd2lkdGgpIDAgMCB2YXIoLS1fbHVtby1ncmlkLXNlbGVjdGVkLXJvdy1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC8qIENvbXBhY3QgKi9cblxuICAgICAgOmhvc3QoW3RoZW1lfj1cImNvbXBhY3RcIl0pIFtwYXJ0PVwicm93XCJdOm9ubHktY2hpbGQgW3BhcnR+PVwiaGVhZGVyLWNlbGxcIl0ge1xuICAgICAgICBtaW4taGVpZ2h0OiB2YXIoLS1sdW1vLXNpemUtbSk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJjb21wYWN0XCJdKSBbcGFydH49XCJjZWxsXCJdIHtcbiAgICAgICAgbWluLWhlaWdodDogdmFyKC0tbHVtby1zaXplLXMpO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbdGhlbWV+PVwiY29tcGFjdFwiXSkgW3BhcnQ9XCJyb3dcIl1bZmlyc3RdIFtwYXJ0fj1cImNlbGxcIl06bm90KFtwYXJ0fj1cImRldGFpbHMtY2VsbFwiXSkge1xuICAgICAgICBtaW4taGVpZ2h0OiBjYWxjKHZhcigtLWx1bW8tc2l6ZS1zKSAtIHZhcigtLV9sdW1vLWdyaWQtYm9yZGVyLXdpZHRoKSk7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJjb21wYWN0XCJdKSBbcGFydH49XCJjZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpIHtcbiAgICAgICAgcGFkZGluZzogdmFyKC0tbHVtby1zcGFjZS14cykgdmFyKC0tbHVtby1zcGFjZS1zKTtcbiAgICAgIH1cblxuICAgICAgLyogV3JhcCBjZWxsIGNvbnRlbnRzICovXG5cbiAgICAgIDpob3N0KFt0aGVtZX49XCJ3cmFwLWNlbGwtY29udGVudFwiXSkgW3BhcnR+PVwiY2VsbFwiXSA6OnNsb3R0ZWQodmFhZGluLWdyaWQtY2VsbC1jb250ZW50KSB7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWw7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC90ZW1wbGF0ZT5cbjwvZG9tLW1vZHVsZT48ZG9tLW1vZHVsZSB0aGVtZS1mb3I9XCJ2YWFkaW4tY2hlY2tib3hcIiBpZD1cInZhYWRpbi1ncmlkLXNlbGVjdC1hbGwtY2hlY2tib3gtbHVtb1wiPlxuICA8dGVtcGxhdGU+XG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3QoLnZhYWRpbi1ncmlkLXNlbGVjdC1hbGwtY2hlY2tib3gpIHtcbiAgICAgICAgZm9udC1zaXplOiB2YXIoLS1sdW1vLWZvbnQtc2l6ZS1tKTtcbiAgICAgIH1cbiAgIDwvc3R5bGU+XG4gIDwvdGVtcGxhdGU+XG48L2RvbS1tb2R1bGU+YDtcblxuZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCgkX2RvY3VtZW50Q29udGFpbmVyLmNvbnRlbnQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE2IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdFxuaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0IFRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXRcbmh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dCBUaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmVcbmZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0IENvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzXG5wYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzbyBzdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50XG5mb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiovXG5pbXBvcnQgJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG5pbXBvcnQge2RvbX0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcblxuLyoqXG4gKiBgUG9seW1lci5Jcm9uU2Nyb2xsVGFyZ2V0QmVoYXZpb3JgIGFsbG93cyBhbiBlbGVtZW50IHRvIHJlc3BvbmQgdG8gc2Nyb2xsXG4gKiBldmVudHMgZnJvbSBhIGRlc2lnbmF0ZWQgc2Nyb2xsIHRhcmdldC5cbiAqXG4gKiBFbGVtZW50cyB0aGF0IGNvbnN1bWUgdGhpcyBiZWhhdmlvciBjYW4gb3ZlcnJpZGUgdGhlIGBfc2Nyb2xsSGFuZGxlcmBcbiAqIG1ldGhvZCB0byBhZGQgbG9naWMgb24gdGhlIHNjcm9sbCBldmVudC5cbiAqXG4gKiBAZGVtbyBkZW1vL3Njcm9sbGluZy1yZWdpb24uaHRtbCBTY3JvbGxpbmcgUmVnaW9uXG4gKiBAZGVtbyBkZW1vL2RvY3VtZW50Lmh0bWwgRG9jdW1lbnQgRWxlbWVudFxuICogQHBvbHltZXJCZWhhdmlvclxuICovXG5leHBvcnQgY29uc3QgSXJvblNjcm9sbFRhcmdldEJlaGF2aW9yID0ge1xuXG4gIHByb3BlcnRpZXM6IHtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZWxlbWVudCB0aGF0IHdpbGwgaGFuZGxlIHRoZSBzY3JvbGwgZXZlbnRcbiAgICAgKiBvbiB0aGUgYmVoYWxmIG9mIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRoaXMgaXMgdHlwaWNhbGx5IGEgcmVmZXJlbmNlIHRvIGFuXG4gICAgICplbGVtZW50LCBidXQgdGhlcmUgYXJlIGEgZmV3IG1vcmUgcG9zaWJpbGl0aWVzOlxuICAgICAqXG4gICAgICogIyMjIEVsZW1lbnRzIGlkXG4gICAgICpcbiAgICAgKmBgYGh0bWxcbiAgICAgKiA8ZGl2IGlkPVwic2Nyb2xsYWJsZS1lbGVtZW50XCIgc3R5bGU9XCJvdmVyZmxvdzogYXV0bztcIj5cbiAgICAgKiAgPHgtZWxlbWVudCBzY3JvbGwtdGFyZ2V0PVwic2Nyb2xsYWJsZS1lbGVtZW50XCI+XG4gICAgICogICAgPCEtLSBDb250ZW50LS0+XG4gICAgICogIDwveC1lbGVtZW50PlxuICAgICAqIDwvZGl2PlxuICAgICAqYGBgXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgYHNjcm9sbFRhcmdldGAgd2lsbCBwb2ludCB0byB0aGUgb3V0ZXIgZGl2IGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiAjIyMgRG9jdW1lbnQgc2Nyb2xsaW5nXG4gICAgICpcbiAgICAgKiBGb3IgZG9jdW1lbnQgc2Nyb2xsaW5nLCB5b3UgY2FuIHVzZSB0aGUgcmVzZXJ2ZWQgd29yZCBgZG9jdW1lbnRgOlxuICAgICAqXG4gICAgICpgYGBodG1sXG4gICAgICogPHgtZWxlbWVudCBzY3JvbGwtdGFyZ2V0PVwiZG9jdW1lbnRcIj5cbiAgICAgKiAgIDwhLS0gQ29udGVudCAtLT5cbiAgICAgKiA8L3gtZWxlbWVudD5cbiAgICAgKmBgYFxuICAgICAqXG4gICAgICogIyMjIEVsZW1lbnRzIHJlZmVyZW5jZVxuICAgICAqXG4gICAgICpgYGBqc1xuICAgICAqIGFwcEhlYWRlci5zY3JvbGxUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2Nyb2xsYWJsZS1lbGVtZW50Jyk7XG4gICAgICpgYGBcbiAgICAgKlxuICAgICAqIEB0eXBlIHtIVE1MRWxlbWVudH1cbiAgICAgKiBAZGVmYXVsdCBkb2N1bWVudFxuICAgICAqL1xuICAgIHNjcm9sbFRhcmdldDoge1xuICAgICAgdHlwZTogSFRNTEVsZW1lbnQsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0U2Nyb2xsVGFyZ2V0O1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBvYnNlcnZlcnM6IFsnX3Njcm9sbFRhcmdldENoYW5nZWQoc2Nyb2xsVGFyZ2V0LCBpc0F0dGFjaGVkKSddLFxuXG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoZSBldmVudCBsaXN0ZW5lciBzaG91bGQgYmUgaW5zdGFsbGVkLlxuICAgKi9cbiAgX3Nob3VsZEhhdmVMaXN0ZW5lcjogdHJ1ZSxcblxuICBfc2Nyb2xsVGFyZ2V0Q2hhbmdlZDogZnVuY3Rpb24oc2Nyb2xsVGFyZ2V0LCBpc0F0dGFjaGVkKSB7XG4gICAgdmFyIGV2ZW50VGFyZ2V0O1xuXG4gICAgaWYgKHRoaXMuX29sZFNjcm9sbFRhcmdldCkge1xuICAgICAgdGhpcy5fdG9nZ2xlU2Nyb2xsTGlzdGVuZXIoZmFsc2UsIHRoaXMuX29sZFNjcm9sbFRhcmdldCk7XG4gICAgICB0aGlzLl9vbGRTY3JvbGxUYXJnZXQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAoIWlzQXR0YWNoZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU3VwcG9ydCBlbGVtZW50IGlkIHJlZmVyZW5jZXNcbiAgICBpZiAoc2Nyb2xsVGFyZ2V0ID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IHRoaXMuX2RvYztcblxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNjcm9sbFRhcmdldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBkb21Ib3N0ID0gdGhpcy5kb21Ib3N0O1xuXG4gICAgICB0aGlzLnNjcm9sbFRhcmdldCA9IGRvbUhvc3QgJiYgZG9tSG9zdC4kID9cbiAgICAgICAgICBkb21Ib3N0LiRbc2Nyb2xsVGFyZ2V0XSA6XG4gICAgICAgICAgZG9tKHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvcignIycgKyBzY3JvbGxUYXJnZXQpO1xuXG4gICAgfSBlbHNlIGlmICh0aGlzLl9pc1ZhbGlkU2Nyb2xsVGFyZ2V0KCkpIHtcbiAgICAgIHRoaXMuX29sZFNjcm9sbFRhcmdldCA9IHNjcm9sbFRhcmdldDtcbiAgICAgIHRoaXMuX3RvZ2dsZVNjcm9sbExpc3RlbmVyKHRoaXMuX3Nob3VsZEhhdmVMaXN0ZW5lciwgc2Nyb2xsVGFyZ2V0KTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJ1bnMgb24gZXZlcnkgc2Nyb2xsIGV2ZW50LiBDb25zdW1lciBvZiB0aGlzIGJlaGF2aW9yIG1heSBvdmVycmlkZSB0aGlzXG4gICAqIG1ldGhvZC5cbiAgICpcbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgX3Njcm9sbEhhbmRsZXI6IGZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoKSB7fSxcblxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgc2Nyb2xsIHRhcmdldC4gQ29uc3VtZXJzIG9mIHRoaXMgYmVoYXZpb3IgbWF5IHdhbnQgdG8gY3VzdG9taXplXG4gICAqIHRoZSBkZWZhdWx0IHNjcm9sbCB0YXJnZXQuXG4gICAqXG4gICAqIEB0eXBlIHtFbGVtZW50fVxuICAgKi9cbiAgZ2V0IF9kZWZhdWx0U2Nyb2xsVGFyZ2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9kb2M7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNob3J0Y3V0IGZvciB0aGUgZG9jdW1lbnQgZWxlbWVudFxuICAgKlxuICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICovXG4gIGdldCBfZG9jKCkge1xuICAgIHJldHVybiB0aGlzLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRoYXQgdGhlIGNvbnRlbnQgb2YgYW4gZWxlbWVudCBpcyBzY3JvbGxlZFxuICAgKiB1cHdhcmQuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgX3Njcm9sbFRvcCgpIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdy5wYWdlWU9mZnNldCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IGlzIHNjcm9sbGVkIHRvIHRoZVxuICAgKiBsZWZ0LlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IF9zY3JvbGxMZWZ0KCkge1xuICAgIGlmICh0aGlzLl9pc1ZhbGlkU2Nyb2xsVGFyZ2V0KCkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjcm9sbFRhcmdldCA9PT0gdGhpcy5fZG9jID8gd2luZG93LnBhZ2VYT2Zmc2V0IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQuc2Nyb2xsTGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhhdCB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IGlzIHNjcm9sbGVkXG4gICAqIHVwd2FyZC5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHNldCBfc2Nyb2xsVG9wKHRvcCkge1xuICAgIGlmICh0aGlzLnNjcm9sbFRhcmdldCA9PT0gdGhpcy5fZG9jKSB7XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8od2luZG93LnBhZ2VYT2Zmc2V0LCB0b3ApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxUb3AgPSB0b3A7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHRoYXQgdGhlIGNvbnRlbnQgb2YgYW4gZWxlbWVudCBpcyBzY3JvbGxlZCB0byB0aGVcbiAgICogbGVmdC5cbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHNldCBfc2Nyb2xsTGVmdChsZWZ0KSB7XG4gICAgaWYgKHRoaXMuc2Nyb2xsVGFyZ2V0ID09PSB0aGlzLl9kb2MpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhsZWZ0LCB3aW5kb3cucGFnZVlPZmZzZXQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdGhlIGNvbnRlbnQgdG8gYSBwYXJ0aWN1bGFyIHBsYWNlLlxuICAgKlxuICAgKiBAbWV0aG9kIHNjcm9sbFxuICAgKiBAcGFyYW0ge251bWJlcnwhe2xlZnQ6IG51bWJlciwgdG9wOiBudW1iZXJ9fSBsZWZ0T3JPcHRpb25zIFRoZSBsZWZ0IHBvc2l0aW9uIG9yIHNjcm9sbCBvcHRpb25zXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gdG9wIFRoZSB0b3AgcG9zaXRpb25cbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIHNjcm9sbDogZnVuY3Rpb24obGVmdE9yT3B0aW9ucywgdG9wKSB7XG4gICAgdmFyIGxlZnQ7XG5cbiAgICBpZiAodHlwZW9mIGxlZnRPck9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICBsZWZ0ID0gbGVmdE9yT3B0aW9ucy5sZWZ0O1xuICAgICAgdG9wID0gbGVmdE9yT3B0aW9ucy50b3A7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxlZnQgPSBsZWZ0T3JPcHRpb25zO1xuICAgIH1cblxuICAgIGxlZnQgPSBsZWZ0IHx8IDA7XG4gICAgdG9wID0gdG9wIHx8IDA7XG4gICAgaWYgKHRoaXMuc2Nyb2xsVGFyZ2V0ID09PSB0aGlzLl9kb2MpIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhsZWZ0LCB0b3ApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbFRvcCA9IHRvcDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSBzY3JvbGwgdGFyZ2V0LlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IF9zY3JvbGxUYXJnZXRXaWR0aCgpIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdy5pbm5lcldpZHRoIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUYXJnZXQub2Zmc2V0V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBoZWlnaHQgb2YgdGhlIHNjcm9sbCB0YXJnZXQuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgX3Njcm9sbFRhcmdldEhlaWdodCgpIHtcbiAgICBpZiAodGhpcy5faXNWYWxpZFNjcm9sbFRhcmdldCgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdy5pbm5lckhlaWdodCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsVGFyZ2V0Lm9mZnNldEhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2Nyb2xsIHRhcmdldCBpcyBhIHZhbGlkIEhUTUxFbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgKi9cbiAgX2lzVmFsaWRTY3JvbGxUYXJnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnNjcm9sbFRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50O1xuICB9LFxuXG4gIF90b2dnbGVTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24oeWVzLCBzY3JvbGxUYXJnZXQpIHtcbiAgICB2YXIgZXZlbnRUYXJnZXQgPSBzY3JvbGxUYXJnZXQgPT09IHRoaXMuX2RvYyA/IHdpbmRvdyA6IHNjcm9sbFRhcmdldDtcbiAgICBpZiAoeWVzKSB7XG4gICAgICBpZiAoIXRoaXMuX2JvdW5kU2Nyb2xsSGFuZGxlcikge1xuICAgICAgICB0aGlzLl9ib3VuZFNjcm9sbEhhbmRsZXIgPSB0aGlzLl9zY3JvbGxIYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgICAgIGV2ZW50VGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2JvdW5kU2Nyb2xsSGFuZGxlcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLl9ib3VuZFNjcm9sbEhhbmRsZXIpIHtcbiAgICAgICAgZXZlbnRUYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5fYm91bmRTY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5fYm91bmRTY3JvbGxIYW5kbGVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgdGhlIHNjcm9sbCBldmVudCBsaXN0ZW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB5ZXMgVHJ1ZSB0byBhZGQgdGhlIGV2ZW50LCBGYWxzZSB0byByZW1vdmUgaXQuXG4gICAqL1xuICB0b2dnbGVTY3JvbGxMaXN0ZW5lcjogZnVuY3Rpb24oeWVzKSB7XG4gICAgdGhpcy5fc2hvdWxkSGF2ZUxpc3RlbmVyID0geWVzO1xuICAgIHRoaXMuX3RvZ2dsZVNjcm9sbExpc3RlbmVyKHllcywgdGhpcy5zY3JvbGxUYXJnZXQpO1xuICB9XG5cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTYgVGhlIFBvbHltZXIgUHJvamVjdCBBdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuVGhpcyBjb2RlIG1heSBvbmx5IGJlIHVzZWQgdW5kZXIgdGhlIEJTRCBzdHlsZSBsaWNlbnNlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9MSUNFTlNFLnR4dFxuVGhlIGNvbXBsZXRlIHNldCBvZiBhdXRob3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQVVUSE9SUy50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgY29udHJpYnV0b3JzIG1heSBiZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vQ09OVFJJQlVUT1JTLnR4dFxuQ29kZSBkaXN0cmlidXRlZCBieSBHb29nbGUgYXMgcGFydCBvZiB0aGUgcG9seW1lciBwcm9qZWN0IGlzIGFsc29cbnN1YmplY3QgdG8gYW4gYWRkaXRpb25hbCBJUCByaWdodHMgZ3JhbnQgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL1BBVEVOVFMudHh0XG4qL1xuLyoqXG5cblRoaXMgaXMgYSBmb3JrIG9mIDxpcm9uLWxpc3Q+IGZvciA8dmFhZGluLWdyaWQ+J3MgaW50ZXJuYWwgcHVycG9zZXMgb25seSFcblRvIHVwZGF0ZTpcbjEuIEdldCB0aGUgbW9zdCByZWNlbnQgY29kZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyRWxlbWVudHMvaXJvbi1saXN0L1xuMi4gUmVtb3ZlIHRoZSAgPGRvbS1tb2R1bGUgaWQ9XCJpcm9uLWxpc3RcIj4gdG8gYXZvaWQgY29sbGlzaW9ucyB3aXRoIGFjdHVhbCA8aXJvbi1saXN0PlxuMy4gQ2hhbmdlIFwiUG9seW1lcih7XCIgdG8gXCJ3aW5kb3cuUG9seW1lcklyb25MaXN0ID0gUG9seW1lci5DbGFzcyh7XCIgdG8gZXhwb3NlIHRoZSBjbGFzc1xuMy4xLiBBZGQgQG5hbWVzcGFjZVxuNC4gT3B0aW9uYWw6IFJlbW92ZSBhbGwgcHJvcGVydGllcyBhbmQgZnVuY3Rpb25zIG5vdCBuZWVkZWQgYnkgPHZhYWRpbi1ncmlkPlxuNS4gUHJvZml0IVxuXG4qL1xuLypcbiAgRklYTUUocG9seW1lci1tb2R1bGl6ZXIpOiB0aGUgYWJvdmUgY29tbWVudHMgd2VyZSBleHRyYWN0ZWRcbiAgZnJvbSBIVE1MIGFuZCBtYXkgYmUgb3V0IG9mIHBsYWNlIGhlcmUuIFJldmlldyB0aGVtIGFuZFxuICB0aGVuIGRlbGV0ZSB0aGlzIGNvbW1lbnQhXG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcblxuaW1wb3J0IHsgSXJvblJlc2l6YWJsZUJlaGF2aW9yIH0gZnJvbSAnQHBvbHltZXIvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IvaXJvbi1yZXNpemFibGUtYmVoYXZpb3IuanMnO1xuaW1wb3J0IHsgSXJvblNjcm9sbFRhcmdldEJlaGF2aW9yIH0gZnJvbSAnQHBvbHltZXIvaXJvbi1zY3JvbGwtdGFyZ2V0LWJlaGF2aW9yL2lyb24tc2Nyb2xsLXRhcmdldC1iZWhhdmlvci5qcyc7XG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZSwgaWRsZVBlcmlvZCwgbWljcm9UYXNrIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMnO1xuaW1wb3J0IHsgQ2xhc3MgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9sZWdhY3kvY2xhc3MuanMnO1xuaW1wb3J0IHsgZmx1c2gsIGVucXVldWVEZWJvdW5jZXIgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9mbHVzaC5qcyc7XG5pbXBvcnQgeyBmbHVzaCBhcyBmbHVzaCQwIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7IERlYm91bmNlciB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2RlYm91bmNlLmpzJztcbnZhciBJT1MgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUCg/OmhvbmV8YWQ7KD86IFU7KT8gQ1BVKSBPUyAoXFxkKykvKTtcbnZhciBJT1NfVE9VQ0hfU0NST0xMSU5HID0gSU9TICYmIElPU1sxXSA+PSA4O1xudmFyIERFRkFVTFRfUEhZU0lDQUxfQ09VTlQgPSAzO1xudmFyIEFOSU1BVElPTl9GUkFNRSA9IGFuaW1hdGlvbkZyYW1lO1xudmFyIElETEVfVElNRSA9IGlkbGVQZXJpb2Q7XG52YXIgTUlDUk9fVEFTSyA9IG1pY3JvVGFzaztcblxuZXhwb3J0IGNvbnN0IFBvbHltZXJJcm9uTGlzdCA9IENsYXNzKHtcblxuICBiZWhhdmlvcnM6IFtcbiAgICBJcm9uUmVzaXphYmxlQmVoYXZpb3IsXG4gICAgSXJvblNjcm9sbFRhcmdldEJlaGF2aW9yXG4gIF0sXG5cbiAgLyoqXG4gICAqIFRoZSByYXRpbyBvZiBoaWRkZW4gdGlsZXMgdGhhdCBzaG91bGQgcmVtYWluIGluIHRoZSBzY3JvbGwgZGlyZWN0aW9uLlxuICAgKiBSZWNvbW1lbmRlZCB2YWx1ZSB+MC41LCBzbyBpdCB3aWxsIGRpc3RyaWJ1dGUgdGlsZXMgZXZlbmx5IGluIGJvdGggZGlyZWN0aW9ucy5cbiAgICovXG4gIF9yYXRpbzogMC41LFxuXG4gIC8qKlxuICAgKiBUaGUgcGFkZGluZy10b3AgdmFsdWUgZm9yIHRoZSBsaXN0LlxuICAgKi9cbiAgX3Njcm9sbGVyUGFkZGluZ1RvcDogMCxcblxuICAvKipcbiAgICogVGhpcyB2YWx1ZSBpcyB0aGUgc2FtZSBhcyBgc2Nyb2xsVG9wYC5cbiAgICovXG4gIF9zY3JvbGxQb3NpdGlvbjogMCxcblxuICAvKipcbiAgICogVGhlIHN1bSBvZiB0aGUgaGVpZ2h0cyBvZiBhbGwgdGhlIHRpbGVzIGluIHRoZSBET00uXG4gICAqL1xuICBfcGh5c2ljYWxTaXplOiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgYXZlcmFnZSBgb2Zmc2V0SGVpZ2h0YCBvZiB0aGUgdGlsZXMgb2JzZXJ2ZWQgdGlsbCBub3cuXG4gICAqL1xuICBfcGh5c2ljYWxBdmVyYWdlOiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIHRpbGVzIHdoaWNoIGBvZmZzZXRIZWlnaHRgID4gMCBvYnNlcnZlZCB1bnRpbCBub3cuXG4gICAqL1xuICBfcGh5c2ljYWxBdmVyYWdlQ291bnQ6IDAsXG5cbiAgLyoqXG4gICAqIFRoZSBZIHBvc2l0aW9uIG9mIHRoZSBpdGVtIHJlbmRlcmVkIGluIHRoZSBgX3BoeXNpY2FsU3RhcnRgXG4gICAqIHRpbGUgcmVsYXRpdmUgdG8gdGhlIHNjcm9sbGluZyBsaXN0LlxuICAgKi9cbiAgX3BoeXNpY2FsVG9wOiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGl0ZW1zIGluIHRoZSBsaXN0LlxuICAgKi9cbiAgX3ZpcnR1YWxDb3VudDogMCxcblxuICAvKipcbiAgICogVGhlIGVzdGltYXRlZCBzY3JvbGwgaGVpZ2h0IGJhc2VkIG9uIGBfcGh5c2ljYWxBdmVyYWdlYFxuICAgKi9cbiAgX2VzdFNjcm9sbEhlaWdodDogMCxcblxuICAvKipcbiAgICogVGhlIHNjcm9sbCBoZWlnaHQgb2YgdGhlIGRvbSBub2RlXG4gICAqL1xuICBfc2Nyb2xsSGVpZ2h0OiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBsaXN0LiBUaGlzIGlzIHJlZmVycmVkIGFzIHRoZSB2aWV3cG9ydCBpbiB0aGUgY29udGV4dCBvZiBsaXN0LlxuICAgKi9cbiAgX3ZpZXdwb3J0SGVpZ2h0OiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgd2lkdGggb2YgdGhlIGxpc3QuIFRoaXMgaXMgcmVmZXJyZWQgYXMgdGhlIHZpZXdwb3J0IGluIHRoZSBjb250ZXh0IG9mIGxpc3QuXG4gICAqL1xuICBfdmlld3BvcnRXaWR0aDogMCxcblxuICAvKipcbiAgICogQW4gYXJyYXkgb2YgRE9NIG5vZGVzIHRoYXQgYXJlIGN1cnJlbnRseSBpbiB0aGUgdHJlZVxuICAgKiBAdHlwZSB7P0FycmF5PCFUZW1wbGF0aXplck5vZGU+fVxuICAgKi9cbiAgX3BoeXNpY2FsSXRlbXM6IG51bGwsXG5cbiAgLyoqXG4gICAqIEFuIGFycmF5IG9mIGhlaWdodHMgZm9yIGVhY2ggaXRlbSBpbiBgX3BoeXNpY2FsSXRlbXNgXG4gICAqIEB0eXBlIHs/QXJyYXk8bnVtYmVyPn1cbiAgICovXG4gIF9waHlzaWNhbFNpemVzOiBudWxsLFxuXG4gIC8qKlxuICAgKiBBIGNhY2hlZCB2YWx1ZSBmb3IgdGhlIGZpcnN0IHZpc2libGUgaW5kZXguXG4gICAqIFNlZSBgZmlyc3RWaXNpYmxlSW5kZXhgXG4gICAqIEB0eXBlIHs/bnVtYmVyfVxuICAgKi9cbiAgX2ZpcnN0VmlzaWJsZUluZGV4VmFsOiBudWxsLFxuXG4gIC8qKlxuICAgKiBBIFBvbHltZXIgY29sbGVjdGlvbiBmb3IgdGhlIGl0ZW1zLlxuICAgKiBAdHlwZSB7P1BvbHltZXIuQ29sbGVjdGlvbn1cbiAgICovXG4gIF9jb2xsZWN0aW9uOiBudWxsLFxuXG4gIC8qKlxuICAgKiBBIGNhY2hlZCB2YWx1ZSBmb3IgdGhlIGxhc3QgdmlzaWJsZSBpbmRleC5cbiAgICogU2VlIGBsYXN0VmlzaWJsZUluZGV4YFxuICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICovXG4gIF9sYXN0VmlzaWJsZUluZGV4VmFsOiBudWxsLFxuXG4gIC8qKlxuICAgKiBUaGUgbWF4IG51bWJlciBvZiBwYWdlcyB0byByZW5kZXIuIE9uZSBwYWdlIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGhlaWdodCBvZiB0aGUgbGlzdC5cbiAgICovXG4gIF9tYXhQYWdlczogMixcblxuICAvKipcbiAgICogVGhlIHZpcnR1YWwgaW5kZXggb2YgdGhlIGZvY3VzZWQgaXRlbS5cbiAgICovXG4gIF9mb2N1c2VkVmlydHVhbEluZGV4OiAtMSxcblxuICAvKipcbiAgICogVGhlIG1heGltdW0gaXRlbXMgcGVyIHJvd1xuICAgKi9cbiAgX2l0ZW1zUGVyUm93OiAxLFxuXG4gIC8qKlxuICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSByb3cgaW4gZ3JpZCBsYXlvdXQuXG4gICAqL1xuICBfcm93SGVpZ2h0OiAwLFxuXG4gIC8qKlxuICAgKiBUaGUgY29zdCBvZiBzdGFtcGluZyBhIHRlbXBsYXRlIGluIG1zLlxuICAgKi9cbiAgX3RlbXBsYXRlQ29zdDogMCxcblxuICAvKipcbiAgICogVGhlIGJvdHRvbSBvZiB0aGUgcGh5c2ljYWwgY29udGVudC5cbiAgICovXG4gIGdldCBfcGh5c2ljYWxCb3R0b20oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3BoeXNpY2FsVG9wICsgdGhpcy5fcGh5c2ljYWxTaXplO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgYm90dG9tIG9mIHRoZSBzY3JvbGwuXG4gICAqL1xuICBnZXQgX3Njcm9sbEJvdHRvbSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUG9zaXRpb24gKyB0aGlzLl92aWV3cG9ydEhlaWdodDtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIG4tdGggaXRlbSByZW5kZXJlZCBpbiB0aGUgbGFzdCBwaHlzaWNhbCBpdGVtLlxuICAgKi9cbiAgZ2V0IF92aXJ0dWFsRW5kKCkge1xuICAgIHJldHVybiB0aGlzLl92aXJ0dWFsU3RhcnQgKyB0aGlzLl9waHlzaWNhbENvdW50IC0gMTtcbiAgfSxcblxuICAvKipcbiAgICogVGhlIGhlaWdodCBvZiB0aGUgcGh5c2ljYWwgY29udGVudCB0aGF0IGlzbid0IG9uIHRoZSBzY3JlZW4uXG4gICAqL1xuICBnZXQgX2hpZGRlbkNvbnRlbnRTaXplKCkge1xuICAgIHZhciBzaXplID0gdGhpcy5ncmlkID8gdGhpcy5fcGh5c2ljYWxSb3dzICogdGhpcy5fcm93SGVpZ2h0IDogdGhpcy5fcGh5c2ljYWxTaXplO1xuICAgIHJldHVybiBzaXplIC0gdGhpcy5fdmlld3BvcnRIZWlnaHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIHNjcm9sbCB0b3AgdmFsdWUuXG4gICAqL1xuICBnZXQgX21heFNjcm9sbFRvcCgpIHtcbiAgICByZXR1cm4gdGhpcy5fZXN0U2Nyb2xsSGVpZ2h0IC0gdGhpcy5fdmlld3BvcnRIZWlnaHQgKyB0aGlzLl9zY3JvbGxPZmZzZXQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBsYXJnZXN0IG4tdGggdmFsdWUgZm9yIGFuIGl0ZW0gc3VjaCB0aGF0IGl0IGNhbiBiZSByZW5kZXJlZCBpbiBgX3BoeXNpY2FsU3RhcnRgLlxuICAgKi9cbiAgZ2V0IF9tYXhWaXJ0dWFsU3RhcnQoKSB7XG4gICAgdmFyIHZpcnR1YWxDb3VudCA9IHRoaXMuX2NvbnZlcnRJbmRleFRvQ29tcGxldGVSb3codGhpcy5fdmlydHVhbENvdW50KTtcbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgdmlydHVhbENvdW50IC0gdGhpcy5fcGh5c2ljYWxDb3VudCk7XG4gIH0sXG5cbiAgc2V0IF92aXJ0dWFsU3RhcnQodmFsKSB7XG4gICAgdmFsID0gdGhpcy5fY2xhbXAodmFsLCAwLCB0aGlzLl9tYXhWaXJ0dWFsU3RhcnQpO1xuICAgIGlmICh0aGlzLmdyaWQpIHtcbiAgICAgIHZhbCA9IHZhbCAtICh2YWwgJSB0aGlzLl9pdGVtc1BlclJvdyk7XG4gICAgfVxuICAgIHRoaXMuX3ZpcnR1YWxTdGFydFZhbCA9IHZhbDtcbiAgfSxcblxuICBnZXQgX3ZpcnR1YWxTdGFydCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlydHVhbFN0YXJ0VmFsIHx8IDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRoZSBrLXRoIHRpbGUgdGhhdCBpcyBhdCB0aGUgdG9wIG9mIHRoZSBzY3JvbGxpbmcgbGlzdC5cbiAgICovXG4gIHNldCBfcGh5c2ljYWxTdGFydCh2YWwpIHtcbiAgICB2YWwgPSB2YWwgJSB0aGlzLl9waHlzaWNhbENvdW50O1xuICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICB2YWwgPSB0aGlzLl9waHlzaWNhbENvdW50ICsgdmFsO1xuICAgIH1cbiAgICBpZiAodGhpcy5ncmlkKSB7XG4gICAgICB2YWwgPSB2YWwgLSAodmFsICUgdGhpcy5faXRlbXNQZXJSb3cpO1xuICAgIH1cbiAgICB0aGlzLl9waHlzaWNhbFN0YXJ0VmFsID0gdmFsO1xuICB9LFxuXG4gIGdldCBfcGh5c2ljYWxTdGFydCgpIHtcbiAgICByZXR1cm4gdGhpcy5fcGh5c2ljYWxTdGFydFZhbCB8fCAwO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUaGUgay10aCB0aWxlIHRoYXQgaXMgYXQgdGhlIGJvdHRvbSBvZiB0aGUgc2Nyb2xsaW5nIGxpc3QuXG4gICAqL1xuICBnZXQgX3BoeXNpY2FsRW5kKCkge1xuICAgIHJldHVybiAodGhpcy5fcGh5c2ljYWxTdGFydCArIHRoaXMuX3BoeXNpY2FsQ291bnQgLSAxKSAlIHRoaXMuX3BoeXNpY2FsQ291bnQ7XG4gIH0sXG5cbiAgc2V0IF9waHlzaWNhbENvdW50KHZhbCkge1xuICAgIHRoaXMuX3BoeXNpY2FsQ291bnRWYWwgPSB2YWw7XG4gIH0sXG5cbiAgZ2V0IF9waHlzaWNhbENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9waHlzaWNhbENvdW50VmFsIHx8IDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFuIG9wdGltYWwgcGh5c2ljYWwgc2l6ZSBzdWNoIHRoYXQgd2Ugd2lsbCBoYXZlIGVub3VnaCBwaHlzaWNhbCBpdGVtc1xuICAgKiB0byBmaWxsIHVwIHRoZSB2aWV3cG9ydCBhbmQgcmVjeWNsZSB3aGVuIHRoZSB1c2VyIHNjcm9sbHMuXG4gICAqXG4gICAqIFRoaXMgZGVmYXVsdCB2YWx1ZSBhc3N1bWVzIHRoYXQgd2Ugd2lsbCBhdCBsZWFzdCBoYXZlIHRoZSBlcXVpdmFsZW50XG4gICAqIHRvIGEgdmlld3BvcnQgb2YgcGh5c2ljYWwgaXRlbXMgYWJvdmUgYW5kIGJlbG93IHRoZSB1c2VyJ3Mgdmlld3BvcnQuXG4gICAqL1xuICBnZXQgX29wdFBoeXNpY2FsU2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmlld3BvcnRIZWlnaHQgPT09IDAgPyBJbmZpbml0eSA6IHRoaXMuX3ZpZXdwb3J0SGVpZ2h0ICogdGhpcy5fbWF4UGFnZXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIGN1cnJlbnQgbGlzdCBpcyB2aXNpYmxlLlxuICAgKi9cbiAgZ2V0IF9pc1Zpc2libGUoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odGhpcy5vZmZzZXRXaWR0aCB8fCB0aGlzLm9mZnNldEhlaWdodCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB2aXNpYmxlIGl0ZW0gaW4gdGhlIHZpZXdwb3J0LlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0IGZpcnN0VmlzaWJsZUluZGV4KCkge1xuICAgIHZhciBpZHggPSB0aGlzLl9maXJzdFZpc2libGVJbmRleFZhbDtcbiAgICBpZiAoaWR4ID09IG51bGwpIHtcbiAgICAgIHZhciBwaHlzaWNhbE9mZnNldCA9IHRoaXMuX3BoeXNpY2FsVG9wICsgdGhpcy5fc2Nyb2xsT2Zmc2V0O1xuXG4gICAgICBpZHggPSB0aGlzLl9pdGVyYXRlSXRlbXMoZnVuY3Rpb24ocGlkeCwgdmlkeCkge1xuICAgICAgICBwaHlzaWNhbE9mZnNldCArPSB0aGlzLl9nZXRQaHlzaWNhbFNpemVJbmNyZW1lbnQocGlkeCk7XG5cbiAgICAgICAgaWYgKHBoeXNpY2FsT2Zmc2V0ID4gdGhpcy5fc2Nyb2xsUG9zaXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ncmlkID8gdmlkeCAtICh2aWR4ICUgdGhpcy5faXRlbXNQZXJSb3cpIDogdmlkeDtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYW5kbGUgYSBwYXJ0aWFsbHkgcmVuZGVyZWQgZmluYWwgcm93IGluIGdyaWQgbW9kZVxuICAgICAgICBpZiAodGhpcy5ncmlkICYmIHRoaXMuX3ZpcnR1YWxDb3VudCAtIDEgPT09IHZpZHgpIHtcbiAgICAgICAgICByZXR1cm4gdmlkeCAtICh2aWR4ICUgdGhpcy5faXRlbXNQZXJSb3cpO1xuICAgICAgICB9XG4gICAgICB9KSB8fCAwO1xuICAgICAgdGhpcy5fZmlyc3RWaXNpYmxlSW5kZXhWYWwgPSBpZHg7XG4gICAgfVxuICAgIHJldHVybiBpZHg7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHZpc2libGUgaXRlbSBpbiB0aGUgdmlld3BvcnQuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICBnZXQgbGFzdFZpc2libGVJbmRleCgpIHtcbiAgICB2YXIgaWR4ID0gdGhpcy5fbGFzdFZpc2libGVJbmRleFZhbDtcbiAgICBpZiAoaWR4ID09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLmdyaWQpIHtcbiAgICAgICAgaWR4ID0gTWF0aC5taW4odGhpcy5fdmlydHVhbENvdW50LCB0aGlzLmZpcnN0VmlzaWJsZUluZGV4ICsgdGhpcy5fZXN0Um93c0luVmlldyAqIHRoaXMuX2l0ZW1zUGVyUm93IC0gMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcGh5c2ljYWxPZmZzZXQgPSB0aGlzLl9waHlzaWNhbFRvcCArIHRoaXMuX3Njcm9sbE9mZnNldDtcbiAgICAgICAgdGhpcy5faXRlcmF0ZUl0ZW1zKGZ1bmN0aW9uKHBpZHgsIHZpZHgpIHtcbiAgICAgICAgICBpZiAocGh5c2ljYWxPZmZzZXQgPCB0aGlzLl9zY3JvbGxCb3R0b20pIHtcbiAgICAgICAgICAgIGlkeCA9IHZpZHg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBoeXNpY2FsT2Zmc2V0ICs9IHRoaXMuX2dldFBoeXNpY2FsU2l6ZUluY3JlbWVudChwaWR4KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sYXN0VmlzaWJsZUluZGV4VmFsID0gaWR4O1xuICAgIH1cbiAgICByZXR1cm4gaWR4O1xuICB9LFxuXG4gIGdldCBfc2Nyb2xsT2Zmc2V0KCkge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxlclBhZGRpbmdUb3A7XG4gIH0sXG5cbiAgYXR0YWNoZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2RlYm91bmNlKCdfcmVuZGVyJywgdGhpcy5fcmVuZGVyLCBBTklNQVRJT05fRlJBTUUpO1xuICAgIC8vIGBpcm9uLXJlc2l6ZWAgaXMgZmlyZWQgd2hlbiB0aGUgbGlzdCBpcyBhdHRhY2hlZCBpZiB0aGUgZXZlbnQgaXMgYWRkZWRcbiAgICAvLyBiZWZvcmUgYXR0YWNoZWQgY2F1c2luZyB1bm5lY2Vzc2FyeSB3b3JrLlxuICAgIHRoaXMubGlzdGVuKHRoaXMsICdpcm9uLXJlc2l6ZScsICdfcmVzaXplSGFuZGxlcicpO1xuICB9LFxuXG4gIGRldGFjaGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnVubGlzdGVuKHRoaXMsICdpcm9uLXJlc2l6ZScsICdfcmVzaXplSGFuZGxlcicpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnZva2UgdGhpcyBtZXRob2QgaWYgeW91IGR5bmFtaWNhbGx5IHVwZGF0ZSB0aGUgdmlld3BvcnQnc1xuICAgKiBzaXplIG9yIENTUyBwYWRkaW5nLlxuICAgKlxuICAgKiBAbWV0aG9kIHVwZGF0ZVZpZXdwb3J0Qm91bmRhcmllc1xuICAgKi9cbiAgdXBkYXRlVmlld3BvcnRCb3VuZGFyaWVzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgdGhpcy5fc2Nyb2xsZXJQYWRkaW5nVG9wID0gdGhpcy5zY3JvbGxUYXJnZXQgPT09IHRoaXMgPyAwIDogcGFyc2VJbnQoc3R5bGVzWydwYWRkaW5nLXRvcCddLCAxMCk7XG4gICAgdGhpcy5faXNSVEwgPSBCb29sZWFuKHN0eWxlcy5kaXJlY3Rpb24gPT09ICdydGwnKTtcbiAgICB0aGlzLl92aWV3cG9ydFdpZHRoID0gdGhpcy4kLml0ZW1zLm9mZnNldFdpZHRoO1xuICAgIHRoaXMuX3ZpZXdwb3J0SGVpZ2h0ID0gdGhpcy5fc2Nyb2xsVGFyZ2V0SGVpZ2h0O1xuICAgIHRoaXMuZ3JpZCAmJiB0aGlzLl91cGRhdGVHcmlkTWV0cmljcygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWN5Y2xlcyB0aGUgcGh5c2ljYWwgaXRlbXMgd2hlbiBuZWVkZWQuXG4gICAqL1xuICBfc2Nyb2xsSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuX21heFNjcm9sbFRvcCwgdGhpcy5fc2Nyb2xsVG9wKSk7XG4gICAgdmFyIGRlbHRhID0gc2Nyb2xsVG9wIC0gdGhpcy5fc2Nyb2xsUG9zaXRpb247XG4gICAgdmFyIGlzU2Nyb2xsaW5nRG93biA9IGRlbHRhID49IDA7XG4gICAgLy8gVHJhY2sgdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uLlxuICAgIHRoaXMuX3Njcm9sbFBvc2l0aW9uID0gc2Nyb2xsVG9wO1xuICAgIC8vIENsZWFyIGluZGV4ZXMgZm9yIGZpcnN0IGFuZCBsYXN0IHZpc2libGUgaW5kZXhlcy5cbiAgICB0aGlzLl9maXJzdFZpc2libGVJbmRleFZhbCA9IG51bGw7XG4gICAgdGhpcy5fbGFzdFZpc2libGVJbmRleFZhbCA9IG51bGw7XG4gICAgLy8gUmFuZG9tIGFjY2Vzcy5cbiAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gdGhpcy5fcGh5c2ljYWxTaXplICYmIHRoaXMuX3BoeXNpY2FsU2l6ZSA+IDApIHtcbiAgICAgIGRlbHRhID0gZGVsdGEgLSB0aGlzLl9zY3JvbGxPZmZzZXQ7XG4gICAgICB2YXIgaWR4QWRqdXN0bWVudCA9IE1hdGgucm91bmQoZGVsdGEgLyB0aGlzLl9waHlzaWNhbEF2ZXJhZ2UpICogdGhpcy5faXRlbXNQZXJSb3c7XG4gICAgICB0aGlzLl92aXJ0dWFsU3RhcnQgPSB0aGlzLl92aXJ0dWFsU3RhcnQgKyBpZHhBZGp1c3RtZW50O1xuICAgICAgdGhpcy5fcGh5c2ljYWxTdGFydCA9IHRoaXMuX3BoeXNpY2FsU3RhcnQgKyBpZHhBZGp1c3RtZW50O1xuICAgICAgLy8gRXN0aW1hdGUgbmV3IHBoeXNpY2FsIG9mZnNldC5cbiAgICAgIHRoaXMuX3BoeXNpY2FsVG9wID0gTWF0aC5mbG9vcih0aGlzLl92aXJ0dWFsU3RhcnQgLyB0aGlzLl9pdGVtc1BlclJvdykgKiB0aGlzLl9waHlzaWNhbEF2ZXJhZ2U7XG4gICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3BoeXNpY2FsQ291bnQgPiAwKSB7XG4gICAgICB2YXIgcmV1c2FibGVzID0gdGhpcy5fZ2V0UmV1c2FibGVzKGlzU2Nyb2xsaW5nRG93bik7XG4gICAgICBpZiAoaXNTY3JvbGxpbmdEb3duKSB7XG4gICAgICAgIHRoaXMuX3BoeXNpY2FsVG9wID0gcmV1c2FibGVzLnBoeXNpY2FsVG9wO1xuICAgICAgICB0aGlzLl92aXJ0dWFsU3RhcnQgPSB0aGlzLl92aXJ0dWFsU3RhcnQgKyByZXVzYWJsZXMuaW5kZXhlcy5sZW5ndGg7XG4gICAgICAgIHRoaXMuX3BoeXNpY2FsU3RhcnQgPSB0aGlzLl9waHlzaWNhbFN0YXJ0ICsgcmV1c2FibGVzLmluZGV4ZXMubGVuZ3RoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fdmlydHVhbFN0YXJ0ID0gdGhpcy5fdmlydHVhbFN0YXJ0IC0gcmV1c2FibGVzLmluZGV4ZXMubGVuZ3RoO1xuICAgICAgICB0aGlzLl9waHlzaWNhbFN0YXJ0ID0gdGhpcy5fcGh5c2ljYWxTdGFydCAtIHJldXNhYmxlcy5pbmRleGVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3VwZGF0ZShyZXVzYWJsZXMuaW5kZXhlcywgaXNTY3JvbGxpbmdEb3duID8gbnVsbCA6IHJldXNhYmxlcy5pbmRleGVzKTtcbiAgICAgIHRoaXMuX2RlYm91bmNlKCdfaW5jcmVhc2VQb29sSWZOZWVkZWQnLCB0aGlzLl9pbmNyZWFzZVBvb2xJZk5lZWRlZC5iaW5kKHRoaXMsIDApLCBNSUNST19UQVNLKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGluZGV4ZXMgb2YgdGhlIHBoeXNpY2FsIGl0ZW1zXG4gICAqIHRoYXQgbWlnaHQgYmUgcmV1c2VkIGFuZCB0aGUgcGh5c2ljYWxUb3AuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZnJvbVRvcCBJZiB0aGUgcG90ZW50aWFsIHJldXNhYmxlIGl0ZW1zIGFyZSBhYm92ZSB0aGUgc2Nyb2xsaW5nIHJlZ2lvbi5cbiAgICovXG4gIF9nZXRSZXVzYWJsZXM6IGZ1bmN0aW9uKGZyb21Ub3ApIHtcbiAgICB2YXIgaXRoLCBvZmZzZXRDb250ZW50LCBwaHlzaWNhbEl0ZW1IZWlnaHQ7XG4gICAgdmFyIGlkeHMgPSBbXTtcbiAgICB2YXIgcHJvdGVjdGVkT2Zmc2V0Q29udGVudCA9IHRoaXMuX2hpZGRlbkNvbnRlbnRTaXplICogdGhpcy5fcmF0aW87XG4gICAgdmFyIHZpcnR1YWxTdGFydCA9IHRoaXMuX3ZpcnR1YWxTdGFydDtcbiAgICB2YXIgdmlydHVhbEVuZCA9IHRoaXMuX3ZpcnR1YWxFbmQ7XG4gICAgdmFyIHBoeXNpY2FsQ291bnQgPSB0aGlzLl9waHlzaWNhbENvdW50O1xuICAgIHZhciB0b3AgPSB0aGlzLl9waHlzaWNhbFRvcCArIHRoaXMuX3Njcm9sbE9mZnNldDtcbiAgICB2YXIgYm90dG9tID0gdGhpcy5fcGh5c2ljYWxCb3R0b20gKyB0aGlzLl9zY3JvbGxPZmZzZXQ7XG4gICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuX3Njcm9sbFRvcDtcbiAgICB2YXIgc2Nyb2xsQm90dG9tID0gdGhpcy5fc2Nyb2xsQm90dG9tO1xuXG4gICAgaWYgKGZyb21Ub3ApIHtcbiAgICAgIGl0aCA9IHRoaXMuX3BoeXNpY2FsU3RhcnQ7XG4gICAgICBvZmZzZXRDb250ZW50ID0gc2Nyb2xsVG9wIC0gdG9wO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGggPSB0aGlzLl9waHlzaWNhbEVuZDtcbiAgICAgIG9mZnNldENvbnRlbnQgPSBib3R0b20gLSBzY3JvbGxCb3R0b207XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgcGh5c2ljYWxJdGVtSGVpZ2h0ID0gdGhpcy5fZ2V0UGh5c2ljYWxTaXplSW5jcmVtZW50KGl0aCk7XG4gICAgICBvZmZzZXRDb250ZW50ID0gb2Zmc2V0Q29udGVudCAtIHBoeXNpY2FsSXRlbUhlaWdodDtcbiAgICAgIGlmIChpZHhzLmxlbmd0aCA+PSBwaHlzaWNhbENvdW50IHx8IG9mZnNldENvbnRlbnQgPD0gcHJvdGVjdGVkT2Zmc2V0Q29udGVudCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChmcm9tVG9wKSB7XG4gICAgICAgIC8vIENoZWNrIHRoYXQgaW5kZXggaXMgd2l0aGluIHRoZSB2YWxpZCByYW5nZS5cbiAgICAgICAgaWYgKHZpcnR1YWxFbmQgKyBpZHhzLmxlbmd0aCArIDEgPj0gdGhpcy5fdmlydHVhbENvdW50KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgaW5kZXggaXMgbm90IHZpc2libGUuXG4gICAgICAgIGlmICh0b3AgKyBwaHlzaWNhbEl0ZW1IZWlnaHQgPj0gc2Nyb2xsVG9wIC0gdGhpcy5fc2Nyb2xsT2Zmc2V0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWR4cy5wdXNoKGl0aCk7XG4gICAgICAgIHRvcCA9IHRvcCArIHBoeXNpY2FsSXRlbUhlaWdodDtcbiAgICAgICAgaXRoID0gKGl0aCArIDEpICUgcGh5c2ljYWxDb3VudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIHRoYXQgaW5kZXggaXMgd2l0aGluIHRoZSB2YWxpZCByYW5nZS5cbiAgICAgICAgaWYgKHZpcnR1YWxTdGFydCAtIGlkeHMubGVuZ3RoIDw9IDApIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBpbmRleCBpcyBub3QgdmlzaWJsZS5cbiAgICAgICAgaWYgKHRvcCArIHRoaXMuX3BoeXNpY2FsU2l6ZSAtIHBoeXNpY2FsSXRlbUhlaWdodCA8PSBzY3JvbGxCb3R0b20pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZHhzLnB1c2goaXRoKTtcbiAgICAgICAgdG9wID0gdG9wIC0gcGh5c2ljYWxJdGVtSGVpZ2h0O1xuICAgICAgICBpdGggPSAoaXRoID09PSAwKSA/IHBoeXNpY2FsQ291bnQgLSAxIDogaXRoIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtpbmRleGVzOiBpZHhzLCBwaHlzaWNhbFRvcDogdG9wIC0gdGhpcy5fc2Nyb2xsT2Zmc2V0fTtcbiAgfSxcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBsaXN0IG9mIGl0ZW1zLCBzdGFydGluZyBmcm9tIHRoZSBgX3ZpcnR1YWxTdGFydGAgaXRlbS5cbiAgICogQHBhcmFtIHshQXJyYXk8bnVtYmVyPj19IGl0ZW1TZXRcbiAgICogQHBhcmFtIHshQXJyYXk8bnVtYmVyPj19IG1vdmluZ1VwXG4gICAqL1xuICBfdXBkYXRlOiBmdW5jdGlvbihpdGVtU2V0LCBtb3ZpbmdVcCkge1xuICAgIGlmICgoaXRlbVNldCAmJiBpdGVtU2V0Lmxlbmd0aCA9PT0gMCkgfHwgdGhpcy5fcGh5c2ljYWxDb3VudCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tYW5hZ2VGb2N1cygpO1xuICAgIHRoaXMuX2Fzc2lnbk1vZGVscyhpdGVtU2V0KTtcbiAgICB0aGlzLl91cGRhdGVNZXRyaWNzKGl0ZW1TZXQpO1xuICAgIC8vIEFkanVzdCBvZmZzZXQgYWZ0ZXIgbWVhc3VyaW5nLlxuICAgIGlmIChtb3ZpbmdVcCkge1xuICAgICAgd2hpbGUgKG1vdmluZ1VwLmxlbmd0aCkge1xuICAgICAgICB2YXIgaWR4ID0gbW92aW5nVXAucG9wKCk7XG4gICAgICAgIHRoaXMuX3BoeXNpY2FsVG9wIC09IHRoaXMuX2dldFBoeXNpY2FsU2l6ZUluY3JlbWVudChpZHgpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9wb3NpdGlvbkl0ZW1zKCk7XG4gICAgdGhpcy5fdXBkYXRlU2Nyb2xsZXJTaXplKCk7XG4gIH0sXG5cbiAgX2lzQ2xpZW50RnVsbDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbEJvdHRvbSAhPSAwICYmIHRoaXMuX3BoeXNpY2FsQm90dG9tIC0gMSA+PSB0aGlzLl9zY3JvbGxCb3R0b20gJiZcbiAgICAgICAgdGhpcy5fcGh5c2ljYWxUb3AgPD0gdGhpcy5fc2Nyb2xsUG9zaXRpb247XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluY3JlYXNlcyB0aGUgcG9vbCBzaXplLlxuICAgKi9cbiAgX2luY3JlYXNlUG9vbElmTmVlZGVkOiBmdW5jdGlvbihjb3VudCkge1xuICAgIHZhciBuZXh0UGh5c2ljYWxDb3VudCA9IHRoaXMuX2NsYW1wKHRoaXMuX3BoeXNpY2FsQ291bnQgKyBjb3VudCxcbiAgICAgIERFRkFVTFRfUEhZU0lDQUxfQ09VTlQsIHRoaXMuX3ZpcnR1YWxDb3VudCAtIHRoaXMuX3ZpcnR1YWxTdGFydCk7XG4gICAgbmV4dFBoeXNpY2FsQ291bnQgPSB0aGlzLl9jb252ZXJ0SW5kZXhUb0NvbXBsZXRlUm93KG5leHRQaHlzaWNhbENvdW50KTtcbiAgICB2YXIgZGVsdGEgPSBuZXh0UGh5c2ljYWxDb3VudCAtIHRoaXMuX3BoeXNpY2FsQ291bnQ7XG4gICAgdmFyIG5leHRJbmNyZWFzZSA9IE1hdGgucm91bmQodGhpcy5fcGh5c2ljYWxDb3VudCAqIDAuNSk7XG5cbiAgICBpZiAoZGVsdGEgPCAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgIHZhciB0cyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIC8vIENvbmNhdCBhcnJheXMgaW4gcGxhY2UuXG4gICAgICBbXS5wdXNoLmFwcGx5KHRoaXMuX3BoeXNpY2FsSXRlbXMsIHRoaXMuX2NyZWF0ZVBvb2woZGVsdGEpKTtcbiAgICAgIC8vIFB1c2ggMHMgaW50byBwaHlzaWNhbFNpemVzLiBDYW4ndCB1c2UgQXJyYXkuZmlsbCBiZWNhdXNlIElFMTEgZG9lc24ndCBzdXBwb3J0IGl0LlxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YTsgaSsrKSB7XG4gICAgICAgIHRoaXMuX3BoeXNpY2FsU2l6ZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3BoeXNpY2FsQ291bnQgPSB0aGlzLl9waHlzaWNhbENvdW50ICsgZGVsdGE7XG4gICAgICAvLyBVcGRhdGUgdGhlIHBoeXNpY2FsIHN0YXJ0IGlmIGl0IG5lZWRzIHRvIHByZXNlcnZlIHRoZSBtb2RlbCBvZiB0aGUgZm9jdXNlZCBpdGVtLlxuICAgICAgLy8gSW4gdGhpcyBzaXR1YXRpb24sIHRoZSBmb2N1c2VkIGl0ZW0gaXMgY3VycmVudGx5IHJlbmRlcmVkIGFuZCBpdHMgbW9kZWwgd291bGRcbiAgICAgIC8vIGhhdmUgY2hhbmdlZCBhZnRlciBpbmNyZWFzaW5nIHRoZSBwb29sIGlmIHRoZSBwaHlzaWNhbCBzdGFydCByZW1haW5lZCB1bmNoYW5nZWQuXG4gICAgICBpZiAodGhpcy5fcGh5c2ljYWxTdGFydCA+IHRoaXMuX3BoeXNpY2FsRW5kICYmXG4gICAgICAgICAgdGhpcy5faXNJbmRleFJlbmRlcmVkKHRoaXMuX2ZvY3VzZWRWaXJ0dWFsSW5kZXgpICYmXG4gICAgICAgICAgdGhpcy5fZ2V0UGh5c2ljYWxJbmRleCh0aGlzLl9mb2N1c2VkVmlydHVhbEluZGV4KSA8IHRoaXMuX3BoeXNpY2FsRW5kKSB7XG4gICAgICAgIHRoaXMuX3BoeXNpY2FsU3RhcnQgPSB0aGlzLl9waHlzaWNhbFN0YXJ0ICsgZGVsdGE7XG4gICAgICB9XG4gICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIHRoaXMuX3RlbXBsYXRlQ29zdCA9ICh3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSB0cykgLyBkZWx0YTtcbiAgICAgIG5leHRJbmNyZWFzZSA9IE1hdGgucm91bmQodGhpcy5fcGh5c2ljYWxDb3VudCAqIDAuNSk7XG4gICAgfVxuICAgIC8vIFRoZSB1cHBlciBib3VuZHMgaXMgbm90IGZpeGVkIHdoZW4gZGVhbGluZyB3aXRoIGEgZ3JpZCB0aGF0IGRvZXNuJ3RcbiAgICAvLyBmaWxsIGl0J3MgbGFzdCByb3cgd2l0aCB0aGUgZXhhY3QgbnVtYmVyIG9mIGl0ZW1zIHBlciByb3cuXG4gICAgaWYgKHRoaXMuX3ZpcnR1YWxFbmQgPj0gdGhpcy5fdmlydHVhbENvdW50IC0gMSB8fCBuZXh0SW5jcmVhc2UgPT09IDApIHtcbiAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgfSBlbHNlIGlmICghdGhpcy5faXNDbGllbnRGdWxsKCkpIHtcbiAgICAgIHRoaXMuX2RlYm91bmNlKFxuICAgICAgICAnX2luY3JlYXNlUG9vbElmTmVlZGVkJyxcbiAgICAgICAgdGhpcy5faW5jcmVhc2VQb29sSWZOZWVkZWQuYmluZChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIG5leHRJbmNyZWFzZVxuICAgICAgICApLCBNSUNST19UQVNLKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3BoeXNpY2FsU2l6ZSA8IHRoaXMuX29wdFBoeXNpY2FsU2l6ZSkge1xuICAgICAgLy8gWWllbGQgYW5kIGluY3JlYXNlIHRoZSBwb29sIGR1cmluZyBpZGxlIHRpbWUgdW50aWwgdGhlIHBoeXNpY2FsIHNpemUgaXMgb3B0aW1hbC5cbiAgICAgIHRoaXMuX2RlYm91bmNlKFxuICAgICAgICAnX2luY3JlYXNlUG9vbElmTmVlZGVkJyxcbiAgICAgICAgdGhpcy5faW5jcmVhc2VQb29sSWZOZWVkZWQuYmluZChcbiAgICAgICAgICB0aGlzLFxuICAgICAgICAgIHRoaXMuX2NsYW1wKE1hdGgucm91bmQoNTAgLyB0aGlzLl90ZW1wbGF0ZUNvc3QpLCAxLCBuZXh0SW5jcmVhc2UpXG4gICAgICAgICksIElETEVfVElNRSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZW5kZXJzIHRoZSBhIG5ldyBsaXN0LlxuICAgKi9cbiAgX3JlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmlzQXR0YWNoZWQgfHwgIXRoaXMuX2lzVmlzaWJsZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fcGh5c2ljYWxDb3VudCAhPT0gMCkge1xuICAgICAgdmFyIHJldXNhYmxlcyA9IHRoaXMuX2dldFJldXNhYmxlcyh0cnVlKTtcbiAgICAgIHRoaXMuX3BoeXNpY2FsVG9wID0gcmV1c2FibGVzLnBoeXNpY2FsVG9wO1xuICAgICAgdGhpcy5fdmlydHVhbFN0YXJ0ID0gdGhpcy5fdmlydHVhbFN0YXJ0ICsgcmV1c2FibGVzLmluZGV4ZXMubGVuZ3RoO1xuICAgICAgdGhpcy5fcGh5c2ljYWxTdGFydCA9IHRoaXMuX3BoeXNpY2FsU3RhcnQgKyByZXVzYWJsZXMuaW5kZXhlcy5sZW5ndGg7XG4gICAgICB0aGlzLl91cGRhdGUocmV1c2FibGVzLmluZGV4ZXMpO1xuICAgICAgdGhpcy5fdXBkYXRlKCk7XG4gICAgICB0aGlzLl9pbmNyZWFzZVBvb2xJZk5lZWRlZCgwKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuX3ZpcnR1YWxDb3VudCA+IDApIHtcbiAgICAgIC8vIEluaXRpYWwgcmVuZGVyXG4gICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5faW5jcmVhc2VQb29sSWZOZWVkZWQoREVGQVVMVF9QSFlTSUNBTF9DT1VOVCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgaXRlbXMgaGF2ZSBjaGFuZ2VkLiBUaGF0IGlzLCByZWFzc2lnbm1lbnRzXG4gICAqIHRvIGBpdGVtc2AsIHNwbGljZXMgb3IgdXBkYXRlcyB0byBhIHNpbmdsZSBpdGVtLlxuICAgKi9cbiAgX2l0ZW1zQ2hhbmdlZDogZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS5wYXRoID09PSAnaXRlbXMnKSB7XG4gICAgICB0aGlzLl92aXJ0dWFsU3RhcnQgPSAwO1xuICAgICAgdGhpcy5fcGh5c2ljYWxUb3AgPSAwO1xuICAgICAgdGhpcy5fdmlydHVhbENvdW50ID0gdGhpcy5pdGVtcyA/IHRoaXMuaXRlbXMubGVuZ3RoIDogMDtcbiAgICAgIHRoaXMuX2NvbGxlY3Rpb24gPSB0aGlzLml0ZW1zICYmIHVuZGVmaW5lZCA/XG4gICAgICAgIHVuZGVmaW5lZC5nZXQodGhpcy5pdGVtcykgOiBudWxsO1xuICAgICAgdGhpcy5fcGh5c2ljYWxJbmRleEZvcktleSA9IHt9O1xuICAgICAgdGhpcy5fZmlyc3RWaXNpYmxlSW5kZXhWYWwgPSBudWxsO1xuICAgICAgdGhpcy5fbGFzdFZpc2libGVJbmRleFZhbCA9IG51bGw7XG4gICAgICB0aGlzLl9waHlzaWNhbENvdW50ID0gdGhpcy5fcGh5c2ljYWxDb3VudCB8fCAwO1xuICAgICAgdGhpcy5fcGh5c2ljYWxJdGVtcyA9IHRoaXMuX3BoeXNpY2FsSXRlbXMgfHwgW107XG4gICAgICB0aGlzLl9waHlzaWNhbFNpemVzID0gdGhpcy5fcGh5c2ljYWxTaXplcyB8fCBbXTtcbiAgICAgIHRoaXMuX3BoeXNpY2FsU3RhcnQgPSAwO1xuICAgICAgaWYgKHRoaXMuX3Njcm9sbFRvcCA+IHRoaXMuX3Njcm9sbE9mZnNldCkge1xuICAgICAgICB0aGlzLl9yZXNldFNjcm9sbFBvc2l0aW9uKDApO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVtb3ZlRm9jdXNlZEl0ZW0oKTtcbiAgICAgIHRoaXMuX2RlYm91bmNlKCdfcmVuZGVyJywgdGhpcy5fcmVuZGVyLCBBTklNQVRJT05fRlJBTUUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRXhlY3V0ZXMgYSBwcm92aWRlZCBmdW5jdGlvbiBwZXIgZXZlcnkgcGh5c2ljYWwgaW5kZXggaW4gYGl0ZW1TZXRgXG4gICAqIGBpdGVtU2V0YCBkZWZhdWx0IHZhbHVlIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGVudGlyZSBzZXQgb2YgcGh5c2ljYWwgaW5kZXhlcy5cbiAgICpcbiAgICogQHBhcmFtIHshZnVuY3Rpb24obnVtYmVyLCBudW1iZXIpfSBmblxuICAgKiBAcGFyYW0geyFBcnJheTxudW1iZXI+PX0gaXRlbVNldFxuICAgKi9cbiAgX2l0ZXJhdGVJdGVtczogZnVuY3Rpb24oZm4sIGl0ZW1TZXQpIHtcbiAgICB2YXIgcGlkeCwgdmlkeCwgcnRuLCBpO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIgJiYgaXRlbVNldCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IGl0ZW1TZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGlkeCA9IGl0ZW1TZXRbaV07XG4gICAgICAgIHZpZHggPSB0aGlzLl9jb21wdXRlVmlkeChwaWR4KTtcbiAgICAgICAgaWYgKChydG4gPSBmbi5jYWxsKHRoaXMsIHBpZHgsIHZpZHgpKSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHJ0bjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBwaWR4ID0gdGhpcy5fcGh5c2ljYWxTdGFydDtcbiAgICAgIHZpZHggPSB0aGlzLl92aXJ0dWFsU3RhcnQ7XG4gICAgICBmb3IgKDsgcGlkeCA8IHRoaXMuX3BoeXNpY2FsQ291bnQ7IHBpZHgrKywgdmlkeCsrKSB7XG4gICAgICAgIGlmICgocnRuID0gZm4uY2FsbCh0aGlzLCBwaWR4LCB2aWR4KSkgIT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBydG47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAocGlkeCA9IDA7IHBpZHggPCB0aGlzLl9waHlzaWNhbFN0YXJ0OyBwaWR4KyssIHZpZHgrKykge1xuICAgICAgICBpZiAoKHJ0biA9IGZuLmNhbGwodGhpcywgcGlkeCwgdmlkeCkpICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gcnRuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSB2aXJ0dWFsIGluZGV4IGZvciBhIGdpdmVuIHBoeXNpY2FsIGluZGV4XG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwaWR4IFBoeXNpY2FsIGluZGV4XG4gICAqIEByZXR1cm4ge251bWJlcn1cbiAgICovXG4gIF9jb21wdXRlVmlkeDogZnVuY3Rpb24ocGlkeCkge1xuICAgIGlmIChwaWR4ID49IHRoaXMuX3BoeXNpY2FsU3RhcnQpIHtcbiAgICAgIHJldHVybiB0aGlzLl92aXJ0dWFsU3RhcnQgKyAocGlkeCAtIHRoaXMuX3BoeXNpY2FsU3RhcnQpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fdmlydHVhbFN0YXJ0ICsgKHRoaXMuX3BoeXNpY2FsQ291bnQgLSB0aGlzLl9waHlzaWNhbFN0YXJ0KSArIHBpZHg7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGhlaWdodCBmb3IgYSBnaXZlbiBzZXQgb2YgaXRlbXMuXG4gICAqXG4gICAqIEBwYXJhbSB7IUFycmF5PG51bWJlcj49fSBpdGVtU2V0XG4gICAqL1xuICBfdXBkYXRlTWV0cmljczogZnVuY3Rpb24oaXRlbVNldCkge1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSBkaXN0cmlidXRlZCBhbGwgdGhlIHBoeXNpY2FsIGl0ZW1zXG4gICAgLy8gc28gd2UgY2FuIG1lYXN1cmUgdGhlbS5cbiAgICBmbHVzaCA/IGZsdXNoKCkgOiBmbHVzaCQwKCk7XG5cbiAgICB2YXIgbmV3UGh5c2ljYWxTaXplID0gMDtcbiAgICB2YXIgb2xkUGh5c2ljYWxTaXplID0gMDtcbiAgICB2YXIgcHJldkF2Z0NvdW50ID0gdGhpcy5fcGh5c2ljYWxBdmVyYWdlQ291bnQ7XG4gICAgdmFyIHByZXZQaHlzaWNhbEF2ZyA9IHRoaXMuX3BoeXNpY2FsQXZlcmFnZTtcblxuICAgIHRoaXMuX2l0ZXJhdGVJdGVtcyhmdW5jdGlvbihwaWR4LCB2aWR4KSB7XG4gICAgICBvbGRQaHlzaWNhbFNpemUgKz0gdGhpcy5fcGh5c2ljYWxTaXplc1twaWR4XTtcbiAgICAgIHRoaXMuX3BoeXNpY2FsU2l6ZXNbcGlkeF0gPSB0aGlzLl9waHlzaWNhbEl0ZW1zW3BpZHhdLm9mZnNldEhlaWdodDtcbiAgICAgIG5ld1BoeXNpY2FsU2l6ZSArPSB0aGlzLl9waHlzaWNhbFNpemVzW3BpZHhdO1xuICAgICAgdGhpcy5fcGh5c2ljYWxBdmVyYWdlQ291bnQgKz0gdGhpcy5fcGh5c2ljYWxTaXplc1twaWR4XSA/IDEgOiAwO1xuICAgIH0sIGl0ZW1TZXQpO1xuXG4gICAgaWYgKHRoaXMuZ3JpZCkge1xuICAgICAgdGhpcy5fdXBkYXRlR3JpZE1ldHJpY3MoKTtcbiAgICAgIHRoaXMuX3BoeXNpY2FsU2l6ZSA9IE1hdGguY2VpbCh0aGlzLl9waHlzaWNhbENvdW50IC8gdGhpcy5faXRlbXNQZXJSb3cpICogdGhpcy5fcm93SGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICBvbGRQaHlzaWNhbFNpemUgPSAodGhpcy5faXRlbXNQZXJSb3cgPT09IDEpID9cbiAgICAgICAgb2xkUGh5c2ljYWxTaXplIDpcbiAgICAgICAgTWF0aC5jZWlsKHRoaXMuX3BoeXNpY2FsQ291bnQgLyB0aGlzLl9pdGVtc1BlclJvdykgKiB0aGlzLl9yb3dIZWlnaHQ7XG4gICAgICB0aGlzLl9waHlzaWNhbFNpemUgPSB0aGlzLl9waHlzaWNhbFNpemUgKyBuZXdQaHlzaWNhbFNpemUgLSBvbGRQaHlzaWNhbFNpemU7XG4gICAgICB0aGlzLl9pdGVtc1BlclJvdyA9IDE7XG4gICAgfVxuICAgIC8vIFVwZGF0ZSB0aGUgYXZlcmFnZSBpZiBpdCBtZWFzdXJlZCBzb21ldGhpbmcuXG4gICAgaWYgKHRoaXMuX3BoeXNpY2FsQXZlcmFnZUNvdW50ICE9PSBwcmV2QXZnQ291bnQpIHtcbiAgICAgIHRoaXMuX3BoeXNpY2FsQXZlcmFnZSA9IE1hdGgucm91bmQoXG4gICAgICAgICgocHJldlBoeXNpY2FsQXZnICogcHJldkF2Z0NvdW50KSArIG5ld1BoeXNpY2FsU2l6ZSkgL1xuICAgICAgICB0aGlzLl9waHlzaWNhbEF2ZXJhZ2VDb3VudCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwb3NpdGlvbiBvZiB0aGUgcGh5c2ljYWwgaXRlbXMuXG4gICAqL1xuICBfcG9zaXRpb25JdGVtczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fYWRqdXN0U2Nyb2xsUG9zaXRpb24oKTtcblxuICAgIHZhciB5ID0gdGhpcy5fcGh5c2ljYWxUb3A7XG5cbiAgICB0aGlzLl9pdGVyYXRlSXRlbXMoZnVuY3Rpb24ocGlkeCwgdmlkeCkge1xuICAgICAgdGhpcy50cmFuc2xhdGUzZCgwLCB5ICsgJ3B4JywgMCwgdGhpcy5fcGh5c2ljYWxJdGVtc1twaWR4XSk7XG4gICAgICB5ICs9IHRoaXMuX3BoeXNpY2FsU2l6ZXNbcGlkeF07XG4gICAgfSk7XG4gIH0sXG5cbiAgX2dldFBoeXNpY2FsU2l6ZUluY3JlbWVudDogZnVuY3Rpb24ocGlkeCkge1xuICAgIGlmICghdGhpcy5ncmlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGh5c2ljYWxTaXplc1twaWR4XTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2NvbXB1dGVWaWR4KHBpZHgpICUgdGhpcy5faXRlbXNQZXJSb3cgIT09IHRoaXMuX2l0ZW1zUGVyUm93IC0gMSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9yb3dIZWlnaHQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkanVzdHMgdGhlIHNjcm9sbCBwb3NpdGlvbiB3aGVuIGl0IHdhcyBvdmVyZXN0aW1hdGVkLlxuICAgKi9cbiAgX2FkanVzdFNjcm9sbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVsdGFIZWlnaHQgPSB0aGlzLl92aXJ0dWFsU3RhcnQgPT09IDAgPyB0aGlzLl9waHlzaWNhbFRvcCA6IE1hdGgubWluKHRoaXMuX3Njcm9sbFBvc2l0aW9uICsgdGhpcy5fcGh5c2ljYWxUb3AsIDApO1xuICAgIC8vIE5vdGU6IHRoZSBkZWx0YSBjYW4gYmUgcG9zaXRpdmUgb3IgbmVnYXRpdmUuXG4gICAgaWYgKGRlbHRhSGVpZ2h0ICE9PSAwKSB7XG4gICAgICB0aGlzLl9waHlzaWNhbFRvcCA9IHRoaXMuX3BoeXNpY2FsVG9wIC0gZGVsdGFIZWlnaHQ7XG4gICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5fc2Nyb2xsVG9wO1xuICAgICAgLy8ganVraW5nIHNjcm9sbCBwb3NpdGlvbiBkdXJpbmcgaW50ZXJpYWwgc2Nyb2xsaW5nIG9uIGlPUyBpcyBubyBidWVub1xuICAgICAgaWYgKCFJT1NfVE9VQ0hfU0NST0xMSU5HICYmIHNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgdGhpcy5fcmVzZXRTY3JvbGxQb3NpdGlvbihzY3JvbGxUb3AgLSBkZWx0YUhlaWdodCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Nyb2xsLlxuICAgKi9cbiAgX3Jlc2V0U2Nyb2xsUG9zaXRpb246IGZ1bmN0aW9uKHBvcykge1xuICAgIGlmICh0aGlzLnNjcm9sbFRhcmdldCAmJiBwb3MgPj0gMCkge1xuICAgICAgdGhpcy5fc2Nyb2xsVG9wID0gcG9zO1xuICAgICAgdGhpcy5fc2Nyb2xsUG9zaXRpb24gPSB0aGlzLl9zY3JvbGxUb3A7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzY3JvbGwgaGVpZ2h0LCB0aGF0J3MgdGhlIGhlaWdodCBvZiB0aGUgY29udGVudCxcbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZm9yY2VVcGRhdGUgSWYgdHJ1ZSwgdXBkYXRlcyB0aGUgaGVpZ2h0IG5vIG1hdHRlciB3aGF0LlxuICAgKi9cbiAgX3VwZGF0ZVNjcm9sbGVyU2l6ZTogZnVuY3Rpb24oZm9yY2VVcGRhdGUpIHtcbiAgICBpZiAodGhpcy5ncmlkKSB7XG4gICAgICB0aGlzLl9lc3RTY3JvbGxIZWlnaHQgPSB0aGlzLl92aXJ0dWFsUm93Q291bnQgKiB0aGlzLl9yb3dIZWlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VzdFNjcm9sbEhlaWdodCA9ICh0aGlzLl9waHlzaWNhbEJvdHRvbSArXG4gICAgICAgICAgTWF0aC5tYXgodGhpcy5fdmlydHVhbENvdW50IC0gdGhpcy5fcGh5c2ljYWxDb3VudCAtIHRoaXMuX3ZpcnR1YWxTdGFydCwgMCkgKiB0aGlzLl9waHlzaWNhbEF2ZXJhZ2UpO1xuICAgIH1cbiAgICBmb3JjZVVwZGF0ZSA9IGZvcmNlVXBkYXRlIHx8IHRoaXMuX3Njcm9sbEhlaWdodCA9PT0gMDtcbiAgICBmb3JjZVVwZGF0ZSA9IGZvcmNlVXBkYXRlIHx8IHRoaXMuX3Njcm9sbFBvc2l0aW9uID49IHRoaXMuX2VzdFNjcm9sbEhlaWdodCAtIHRoaXMuX3BoeXNpY2FsU2l6ZTtcbiAgICBmb3JjZVVwZGF0ZSA9IGZvcmNlVXBkYXRlIHx8IHRoaXMuZ3JpZCAmJiB0aGlzLiQuaXRlbXMuc3R5bGUuaGVpZ2h0IDwgdGhpcy5fZXN0U2Nyb2xsSGVpZ2h0O1xuICAgIC8vIEFtb3J0aXplIGhlaWdodCBhZGp1c3RtZW50LCBzbyBpdCB3b24ndCB0cmlnZ2VyIGxhcmdlIHJlcGFpbnRzIHRvbyBvZnRlbi5cbiAgICBpZiAoZm9yY2VVcGRhdGUgfHwgTWF0aC5hYnModGhpcy5fZXN0U2Nyb2xsSGVpZ2h0IC0gdGhpcy5fc2Nyb2xsSGVpZ2h0KSA+PSB0aGlzLl92aWV3cG9ydEhlaWdodCkge1xuICAgICAgdGhpcy4kLml0ZW1zLnN0eWxlLmhlaWdodCA9IHRoaXMuX2VzdFNjcm9sbEhlaWdodCArICdweCc7XG4gICAgICB0aGlzLl9zY3JvbGxIZWlnaHQgPSB0aGlzLl9lc3RTY3JvbGxIZWlnaHQ7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBpbmRleCBpbiB0aGUgdmlydHVhbCBsaXN0IHJlZ2FyZGxlc3NcbiAgICogb2YgdGhlIHBoeXNpY2FsIGl0ZW1zIGluIHRoZSBET00gdHJlZS5cbiAgICpcbiAgICogQG1ldGhvZCBzY3JvbGxUb0luZGV4XG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZHggVGhlIGluZGV4IG9mIHRoZSBpdGVtXG4gICAqL1xuICBzY3JvbGxUb0luZGV4OiBmdW5jdGlvbihpZHgpIHtcbiAgICBpZiAodHlwZW9mIGlkeCAhPT0gJ251bWJlcicgfHwgaWR4IDwgMCB8fCBpZHggPiB0aGlzLml0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmx1c2ggPyBmbHVzaCgpIDogZmx1c2gkMCgpO1xuICAgIC8vIEl0ZW1zIHNob3VsZCBoYXZlIGJlZW4gcmVuZGVyZWQgcHJpb3Igc2Nyb2xsaW5nIHRvIGFuIGluZGV4LlxuICAgIGlmICh0aGlzLl9waHlzaWNhbENvdW50ID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlkeCA9IHRoaXMuX2NsYW1wKGlkeCwgMCwgdGhpcy5fdmlydHVhbENvdW50IC0gMSk7XG4gICAgLy8gVXBkYXRlIHRoZSB2aXJ0dWFsIHN0YXJ0IG9ubHkgd2hlbiBuZWVkZWQuXG4gICAgaWYgKCF0aGlzLl9pc0luZGV4UmVuZGVyZWQoaWR4KSB8fCBpZHggPj0gdGhpcy5fbWF4VmlydHVhbFN0YXJ0KSB7XG4gICAgICB0aGlzLl92aXJ0dWFsU3RhcnQgPSB0aGlzLmdyaWQgPyAoaWR4IC0gdGhpcy5faXRlbXNQZXJSb3cgKiAyKSA6IChpZHggLSAxKTtcbiAgICB9XG4gICAgdGhpcy5fbWFuYWdlRm9jdXMoKTtcbiAgICB0aGlzLl9hc3NpZ25Nb2RlbHMoKTtcbiAgICB0aGlzLl91cGRhdGVNZXRyaWNzKCk7XG4gICAgLy8gRXN0aW1hdGUgbmV3IHBoeXNpY2FsIG9mZnNldC5cbiAgICB0aGlzLl9waHlzaWNhbFRvcCA9IE1hdGguZmxvb3IodGhpcy5fdmlydHVhbFN0YXJ0IC8gdGhpcy5faXRlbXNQZXJSb3cpICogdGhpcy5fcGh5c2ljYWxBdmVyYWdlO1xuXG4gICAgdmFyIGN1cnJlbnRUb3BJdGVtID0gdGhpcy5fcGh5c2ljYWxTdGFydDtcbiAgICB2YXIgY3VycmVudFZpcnR1YWxJdGVtID0gdGhpcy5fdmlydHVhbFN0YXJ0O1xuICAgIHZhciB0YXJnZXRPZmZzZXRUb3AgPSAwO1xuICAgIHZhciBoaWRkZW5Db250ZW50U2l6ZSA9IHRoaXMuX2hpZGRlbkNvbnRlbnRTaXplO1xuICAgIC8vIHNjcm9sbCB0byB0aGUgaXRlbSBhcyBtdWNoIGFzIHdlIGNhbi5cbiAgICB3aGlsZSAoY3VycmVudFZpcnR1YWxJdGVtIDwgaWR4ICYmIHRhcmdldE9mZnNldFRvcCA8PSBoaWRkZW5Db250ZW50U2l6ZSkge1xuICAgICAgdGFyZ2V0T2Zmc2V0VG9wID0gdGFyZ2V0T2Zmc2V0VG9wICsgdGhpcy5fZ2V0UGh5c2ljYWxTaXplSW5jcmVtZW50KGN1cnJlbnRUb3BJdGVtKTtcbiAgICAgIGN1cnJlbnRUb3BJdGVtID0gKGN1cnJlbnRUb3BJdGVtICsgMSkgJSB0aGlzLl9waHlzaWNhbENvdW50O1xuICAgICAgY3VycmVudFZpcnR1YWxJdGVtKys7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZVNjcm9sbGVyU2l6ZSh0cnVlKTtcbiAgICB0aGlzLl9wb3NpdGlvbkl0ZW1zKCk7XG4gICAgdGhpcy5fcmVzZXRTY3JvbGxQb3NpdGlvbih0aGlzLl9waHlzaWNhbFRvcCArIHRoaXMuX3Njcm9sbE9mZnNldCArIHRhcmdldE9mZnNldFRvcCk7XG4gICAgdGhpcy5faW5jcmVhc2VQb29sSWZOZWVkZWQoMCk7XG4gICAgLy8gY2xlYXIgY2FjaGVkIHZpc2libGUgaW5kZXguXG4gICAgdGhpcy5fZmlyc3RWaXNpYmxlSW5kZXhWYWwgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RWaXNpYmxlSW5kZXhWYWwgPSBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgcGh5c2ljYWwgYXZlcmFnZSBhbmQgdGhlIGF2ZXJhZ2UgY291bnQuXG4gICAqL1xuICBfcmVzZXRBdmVyYWdlOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9waHlzaWNhbEF2ZXJhZ2UgPSAwO1xuICAgIHRoaXMuX3BoeXNpY2FsQXZlcmFnZUNvdW50ID0gMDtcbiAgfSxcblxuICAvKipcbiAgICogQSBoYW5kbGVyIGZvciB0aGUgYGlyb24tcmVzaXplYCBldmVudCB0cmlnZ2VyZWQgYnkgYElyb25SZXNpemFibGVCZWhhdmlvcmBcbiAgICogd2hlbiB0aGUgZWxlbWVudCBpcyByZXNpemVkLlxuICAgKi9cbiAgX3Jlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2RlYm91bmNlKCdfcmVuZGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAvLyBjbGVhciBjYWNoZWQgdmlzaWJsZSBpbmRleC5cbiAgICAgIHRoaXMuX2ZpcnN0VmlzaWJsZUluZGV4VmFsID0gbnVsbDtcbiAgICAgIHRoaXMuX2xhc3RWaXNpYmxlSW5kZXhWYWwgPSBudWxsO1xuICAgICAgLy8gU2tpcCB0aGUgcmVzaXplIGV2ZW50IG9uIHRvdWNoIGRldmljZXMgd2hlbiB0aGUgYWRkcmVzcyBiYXIgc2xpZGVzIHVwLlxuICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydEJvdW5kYXJpZXMoKTtcbiAgICAgIGlmICh0aGlzLl9pc1Zpc2libGUpIHtcbiAgICAgICAgLy8gUmVpbnN0YWxsIHRoZSBzY3JvbGwgZXZlbnQgbGlzdGVuZXIuXG4gICAgICAgIHRoaXMudG9nZ2xlU2Nyb2xsTGlzdGVuZXIodHJ1ZSk7XG4gICAgICAgIHRoaXMuX3Jlc2V0QXZlcmFnZSgpO1xuICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVuaW5zdGFsbCB0aGUgc2Nyb2xsIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgICB0aGlzLnRvZ2dsZVNjcm9sbExpc3RlbmVyKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9LCBBTklNQVRJT05fRlJBTUUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIHJhbmRvbSBpbmRleCB0byB0aGUgaW5kZXggb2YgdGhlIGl0ZW0gdGhhdCBjb21wbGV0ZXMgaXQncyByb3cuXG4gICAqIEFsbG93cyBmb3IgYmV0dGVyIG9yZGVyIGFuZCBmaWxsIGNvbXB1dGF0aW9uIHdoZW4gZ3JpZCA9PSB0cnVlLlxuICAgKi9cbiAgX2NvbnZlcnRJbmRleFRvQ29tcGxldGVSb3c6IGZ1bmN0aW9uKGlkeCkge1xuICAgIC8vIHdoZW4gZ3JpZCA9PSBmYWxzZSBfaXRlbVBlclJvdyBjYW4gYmUgdW5zZXQuXG4gICAgdGhpcy5faXRlbXNQZXJSb3cgPSB0aGlzLl9pdGVtc1BlclJvdyB8fCAxO1xuICAgIHJldHVybiB0aGlzLmdyaWQgPyBNYXRoLmNlaWwoaWR4IC8gdGhpcy5faXRlbXNQZXJSb3cpICogdGhpcy5faXRlbXNQZXJSb3cgOiBpZHg7XG4gIH0sXG5cbiAgX2lzSW5kZXhSZW5kZXJlZDogZnVuY3Rpb24oaWR4KSB7XG4gICAgcmV0dXJuIGlkeCA+PSB0aGlzLl92aXJ0dWFsU3RhcnQgJiYgaWR4IDw9IHRoaXMuX3ZpcnR1YWxFbmQ7XG4gIH0sXG5cbiAgX2dldFBoeXNpY2FsSW5kZXg6IGZ1bmN0aW9uKHZpZHgpIHtcbiAgICByZXR1cm4gKHRoaXMuX3BoeXNpY2FsU3RhcnQgKyAodmlkeCAtIHRoaXMuX3ZpcnR1YWxTdGFydCkpICUgdGhpcy5fcGh5c2ljYWxDb3VudDtcbiAgfSxcblxuICBfY2xhbXA6IGZ1bmN0aW9uKHYsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgubWluKG1heCwgTWF0aC5tYXgobWluLCB2KSk7XG4gIH0sXG5cbiAgX2RlYm91bmNlOiBmdW5jdGlvbihuYW1lLCBjYiwgYXN5bmNNb2R1bGUpIHtcbiAgICB0aGlzLl9kZWJvdW5jZXJzID0gdGhpcy5fZGVib3VuY2VycyB8fCB7fTtcbiAgICB0aGlzLl9kZWJvdW5jZXJzW25hbWVdID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgdGhpcy5fZGVib3VuY2Vyc1tuYW1lXSxcbiAgICAgIGFzeW5jTW9kdWxlLFxuICAgICAgY2IuYmluZCh0aGlzKSk7XG4gICAgZW5xdWV1ZURlYm91bmNlcih0aGlzLl9kZWJvdW5jZXJzW25hbWVdKTtcbiAgfVxuXG59KTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbmltcG9ydCB7IGFmdGVyTmV4dFJlbmRlciB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3JlbmRlci1zdGF0dXMuanMnO1xuXG5pbXBvcnQgeyBhbmltYXRpb25GcmFtZSB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IGZsdXNoIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZmx1c2guanMnO1xuaW1wb3J0IHsgUG9seW1lcklyb25MaXN0IH0gZnJvbSAnLi9pcm9uLWxpc3QuanMnO1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuLyoqXG4gKiBUaGlzIEVsZW1lbnQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHZhYWRpbi1ncmlkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEdyaWRTY3JvbGxlckVsZW1lbnQgZXh0ZW5kcyBQb2x5bWVySXJvbkxpc3Qge1xuXG4gIHN0YXRpYyBnZXQgaXMoKSB7XG4gICAgcmV0dXJuICd2YWFkaW4tZ3JpZC1zY3JvbGxlcic7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemU6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICBub3RpZnk6IHRydWVcbiAgICAgIH0sXG4gICAgICBfdmlkeE9mZnNldDoge1xuICAgICAgICB2YWx1ZTogMFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ19lZmZlY3RpdmVTaXplQ2hhbmdlZChfZWZmZWN0aXZlU2l6ZSknXG4gICAgXTtcbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG4gICAgdGhpcy5fc2Nyb2xsSGFuZGxlcigpO1xuICB9XG5cbiAgLyoqXG4gICogQHByb3RlY3RlZFxuICAqL1xuICBfdXBkYXRlU2Nyb2xsZXJJdGVtKGl0ZW0sIGluZGV4KSB7fVxuICAvKipcbiAgKiBAcHJvdGVjdGVkXG4gICovXG4gIF9hZnRlclNjcm9sbCgpIHt9XG4gIC8qKlxuICAqIEBwcm90ZWN0ZWRcbiAgKi9cbiAgX2dldFJvd1RhcmdldCgpIHt9XG4gIC8qKlxuICAqIEBwcm90ZWN0ZWRcbiAgKi9cbiAgX2NyZWF0ZVNjcm9sbGVyUm93cygpIHt9XG4gIC8qKlxuICAqIEBwcm90ZWN0ZWRcbiAgKi9cbiAgX2NhblBvcHVsYXRlKCkge31cblxuICAvKipcbiAgKiBAcHJpdmF0ZVxuICAqL1xuICBzY3JvbGxUb0luZGV4KGluZGV4KSB7XG4gICAgdGhpcy5fd2FyblByaXZhdGVBUElBY2Nlc3MoJ3Njcm9sbFRvSW5kZXgnKTtcblxuICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdTY3JvbGxUb0luZGV4ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKCFwYXJzZUludCh0aGlzLiQuaXRlbXMuc3R5bGUuYm9yZGVyVG9wV2lkdGgpICYmIGluZGV4ID4gMCkge1xuICAgICAgLy8gU2NoZWR1bGUgYW5vdGhlciBzY3JvbGwgdG8gYmUgaW52b2tlZCBvbmNlIGluaXQgaXMgY29tcGxldGVcbiAgICAgIHRoaXMuX3BlbmRpbmdTY3JvbGxUb0luZGV4ID0gaW5kZXg7XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsaW5nVG9JbmRleCA9IHRydWU7XG4gICAgaW5kZXggPSBNYXRoLm1pbihNYXRoLm1heChpbmRleCwgMCksIHRoaXMuX2VmZmVjdGl2ZVNpemUgLSAxKTtcbiAgICB0aGlzLiQudGFibGUuc2Nyb2xsVG9wID0gaW5kZXggLyB0aGlzLl9lZmZlY3RpdmVTaXplICogKHRoaXMuJC50YWJsZS5zY3JvbGxIZWlnaHQgLSB0aGlzLiQudGFibGUub2Zmc2V0SGVpZ2h0KTtcbiAgICB0aGlzLl9zY3JvbGxIYW5kbGVyKCk7XG5cbiAgICBpZiAodGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gdGhpcy5fbWF4U2Nyb2xsVG9wKSAmJiB0aGlzLl92aXJ0dWFsQ291bnQgPCB0aGlzLl9lZmZlY3RpdmVTaXplKSB7XG4gICAgICB0aGlzLl9hZGp1c3RWaXJ0dWFsSW5kZXhPZmZzZXQoMTAwMDAwMCk7XG4gICAgfVxuXG4gICAgdGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gc3VwZXIuc2Nyb2xsVG9JbmRleChpbmRleCAtIHRoaXMuX3ZpZHhPZmZzZXQpKTtcbiAgICB0aGlzLl9zY3JvbGxIYW5kbGVyKCk7XG5cbiAgICAvLyBFbnN1cmUgc2Nyb2xsIHBvc2l0aW9uXG4gICAgY29uc3Qgcm93ID0gQXJyYXkuZnJvbSh0aGlzLiQuaXRlbXMuY2hpbGRyZW4pLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5pbmRleCA9PT0gaW5kZXgpWzBdO1xuICAgIGlmIChyb3cpIHtcbiAgICAgIGNvbnN0IGhlYWRlck9mZnNldCA9IHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgLSB0aGlzLiQuaGVhZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgIGlmIChNYXRoLmFicyhoZWFkZXJPZmZzZXQpID4gMSkge1xuICAgICAgICB0aGlzLiQudGFibGUuc2Nyb2xsVG9wICs9IGhlYWRlck9mZnNldDtcbiAgICAgICAgdGhpcy5fc2Nyb2xsSGFuZGxlcigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbGluZ1RvSW5kZXggPSBmYWxzZTtcbiAgfVxuXG4gIF9lZmZlY3RpdmVTaXplQ2hhbmdlZChzaXplKSB7XG4gICAgbGV0IGZ2aTsgLy8gZmlyc3QgdmlzaWJsZSAoYWRqdXN0ZWQpIGluZGV4XG4gICAgbGV0IGZ2aU9mZnNldCA9IDA7XG4gICAgdGhpcy5faXRlcmF0ZUl0ZW1zKChwaWR4LCB2aWR4KSA9PiB7XG4gICAgICBpZiAodmlkeCA9PT0gdGhpcy5fZmlyc3RWaXNpYmxlSW5kZXgpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gdGhpcy5fcGh5c2ljYWxJdGVtc1twaWR4XTtcbiAgICAgICAgZnZpID0gcm93LmluZGV4O1xuICAgICAgICBmdmlPZmZzZXQgPSByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHRoaXMuaXRlbXMgJiYgc2l6ZSA8IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAvLyBTaXplIHdhcyByZWR1Y2VkLCBzY3JvbGwgdG8gMCBmaXJzdFxuICAgICAgdGhpcy5fc2Nyb2xsVG9wID0gMDtcbiAgICB9XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuaXRlbXMpKSB7XG4gICAgICAvLyBFZGdlL0lFIHNlZW1zIHRvIGhhdmUgdGhlIGxvd2VzdCBtYXhpbXVtXG4gICAgICBjb25zdCBtYXhWaXJ0dWFsSXRlbXMgPSB0aGlzLl9lZGdlIHx8IHRoaXMuX2llID8gMzAwMDAgOiAxMDAwMDA7XG4gICAgICB0aGlzLml0ZW1zID0ge2xlbmd0aDogTWF0aC5taW4oc2l6ZSwgbWF4VmlydHVhbEl0ZW1zKX07XG4gICAgfVxuXG4gICAgdGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gc3VwZXIuX2l0ZW1zQ2hhbmdlZCh7cGF0aDogJ2l0ZW1zJ30pKTtcblxuICAgIHRoaXMuX3ZpcnR1YWxDb3VudCA9IE1hdGgubWluKHRoaXMuaXRlbXMubGVuZ3RoLCBzaXplKSB8fCAwO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFRvcCA9PT0gMCkge1xuICAgICAgdGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gdGhpcy5fc2Nyb2xsVG9JbmRleChNYXRoLm1pbihzaXplIC0gMSwgZnZpKSkpO1xuICAgICAgdGhpcy5faXRlcmF0ZUl0ZW1zKChwaWR4LCB2aWR4KSA9PiB7XG4gICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuX3BoeXNpY2FsSXRlbXNbcGlkeF07XG4gICAgICAgIGlmIChyb3cuaW5kZXggPT09IGZ2aSkge1xuICAgICAgICAgIHRoaXMuJC50YWJsZS5zY3JvbGxUb3AgKz0gTWF0aC5yb3VuZChyb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gZnZpT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXN0b3JlIGtleWJvYXJkIGZvY3VzIHRvIHRoZSByaWdodCBjZWxsXG4gICAgICAgIGlmIChyb3cuaW5kZXggPT09IHRoaXMuX2ZvY3VzZWRJdGVtSW5kZXggJiYgdGhpcy5faXRlbXNGb2N1c2FibGUgJiYgdGhpcy4kLml0ZW1zLmNvbnRhaW5zKHRoaXMuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgIGNvbnN0IGNlbGxJbmRleCA9IEFycmF5LmZyb20odGhpcy5faXRlbXNGb2N1c2FibGUucGFyZW50RWxlbWVudC5jaGlsZHJlbikuaW5kZXhPZih0aGlzLl9pdGVtc0ZvY3VzYWJsZSk7XG4gICAgICAgICAgcm93LmNoaWxkcmVuW2NlbGxJbmRleF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX2Fzc2lnbk1vZGVscygpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLl91cGRhdGUoKSk7XG4gIH1cblxuICBfcG9zaXRpb25JdGVtcygpIHtcbiAgICB0aGlzLl9hZGp1c3RTY3JvbGxQb3NpdGlvbigpO1xuXG4gICAgbGV0IHJlUG9zaXRpb247XG4gICAgaWYgKGlzTmFOKHRoaXMuX3BoeXNpY2FsVG9wKSkge1xuICAgICAgcmVQb3NpdGlvbiA9IHRydWU7XG4gICAgICB0aGlzLl9waHlzaWNhbFRvcCA9IDA7XG4gICAgfVxuXG4gICAgbGV0IHkgPSB0aGlzLl9waHlzaWNhbFRvcDtcbiAgICB0aGlzLl9pdGVyYXRlSXRlbXMoKHBpZHgsIHZpZHgpID0+IHtcbiAgICAgIHRoaXMuX3BoeXNpY2FsSXRlbXNbcGlkeF0uc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHt5fXB4KWA7XG4gICAgICB5ICs9IHRoaXMuX3BoeXNpY2FsU2l6ZXNbcGlkeF07XG4gICAgfSk7XG5cbiAgICBpZiAocmVQb3NpdGlvbikge1xuICAgICAgdGhpcy5fc2Nyb2xsVG9JbmRleCgwKTtcbiAgICB9XG4gIH1cblxuICBfaW5jcmVhc2VQb29sSWZOZWVkZWQoY291bnQpIHtcbiAgICBpZiAoKGNvdW50ID09PSAwICYmIHRoaXMuX3Njcm9sbGluZ1RvSW5kZXgpIHx8ICF0aGlzLl9jYW5Qb3B1bGF0ZSgpIHx8ICF0aGlzLl9lZmZlY3RpdmVTaXplKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLl9pbml0aWFsUG9vbENyZWF0ZWQpIHtcbiAgICAgIHRoaXMuX2luaXRpYWxQb29sQ3JlYXRlZCA9IHRydWU7XG4gICAgICBzdXBlci5faW5jcmVhc2VQb29sSWZOZWVkZWQoMjUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fb3B0UGh5c2ljYWxTaXplICE9PSBJbmZpbml0eSkge1xuICAgICAgdGhpcy5fZGVib3VuY2VJbmNyZWFzZVBvb2wgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgIHRoaXMuX2RlYm91bmNlSW5jcmVhc2VQb29sLFxuICAgICAgICBhbmltYXRpb25GcmFtZSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZU1ldHJpY3MoKTtcbiAgICAgICAgICBjb25zdCByZW1haW5pbmdQaHlzaWNhbFNpemUgPSB0aGlzLl9vcHRQaHlzaWNhbFNpemUgLSB0aGlzLl9waHlzaWNhbFNpemU7XG4gICAgICAgICAgbGV0IGVzdGltYXRlZE1pc3NpbmdSb3dDb3VudCA9IE1hdGguY2VpbChyZW1haW5pbmdQaHlzaWNhbFNpemUgLyB0aGlzLl9waHlzaWNhbEF2ZXJhZ2UpO1xuXG4gICAgICAgICAgaWYgKHRoaXMuX3BoeXNpY2FsQ291bnQgKyBlc3RpbWF0ZWRNaXNzaW5nUm93Q291bnQgPiB0aGlzLl9lZmZlY3RpdmVTaXplKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgaW5jcmVhc2UgdGhlIHBoeXNpY2FsIGl0ZW0gY291bnQgYWJvdmUgdGhlIHRoaXMuX2VmZmVjdGl2ZVNpemVcbiAgICAgICAgICAgIGVzdGltYXRlZE1pc3NpbmdSb3dDb3VudCA9IE1hdGgubWF4KDAsIHRoaXMuX2VmZmVjdGl2ZVNpemUgLSB0aGlzLl9waHlzaWNhbENvdW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5fcGh5c2ljYWxTaXplICYmIGVzdGltYXRlZE1pc3NpbmdSb3dDb3VudCA+IDApIHtcbiAgICAgICAgICAgIHN1cGVyLl9pbmNyZWFzZVBvb2xJZk5lZWRlZChlc3RpbWF0ZWRNaXNzaW5nUm93Q291bnQpO1xuICAgICAgICAgICAgLy8gRW5zdXJlIHRoZSByb3dzIGFyZSBpbiBvcmRlciBhZnRlciBpbmNyZWFzaW5nIHBvb2xcbiAgICAgICAgICAgIHRoaXMuX19yZW9yZGVyQ2hpbGROb2RlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX19yZW9yZGVyQ2hpbGROb2RlcygpIHtcbiAgICBjb25zdCBjaGlsZE5vZGVzID0gQXJyYXkuZnJvbSh0aGlzLiQuaXRlbXMuY2hpbGROb2Rlcyk7XG4gICAgY29uc3Qgcm93c0luT3JkZXIgPSAhIWNoaWxkTm9kZXMucmVkdWNlKChpbk9yZGVyLCBjdXJyZW50LCBjdXJyZW50SW5kZXgsIGFycmF5KSA9PiB7XG4gICAgICBpZiAoY3VycmVudEluZGV4ID09PSAwIHx8IGFycmF5W2N1cnJlbnRJbmRleCAtIDFdLmluZGV4ID09PSBjdXJyZW50LmluZGV4IC0gMSkge1xuICAgICAgICByZXR1cm4gaW5PcmRlcjtcbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcblxuICAgIGlmICghcm93c0luT3JkZXIpIHtcbiAgICAgIGNoaWxkTm9kZXMuc29ydCgocm93MSwgcm93MikgPT4ge1xuICAgICAgICByZXR1cm4gcm93MS5pbmRleCAtIHJvdzIuaW5kZXg7XG4gICAgICB9KS5mb3JFYWNoKHJvdyA9PiB0aGlzLiQuaXRlbXMuYXBwZW5kQ2hpbGQocm93KSk7XG4gICAgfVxuICB9XG5cbiAgX2NyZWF0ZVBvb2woc2l6ZSkge1xuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGNvbnN0IHBoeXNpY2FsSXRlbXMgPSB0aGlzLl9jcmVhdGVTY3JvbGxlclJvd3Moc2l6ZSk7XG5cbiAgICBwaHlzaWNhbEl0ZW1zLmZvckVhY2goaW5zdCA9PiBmcmFnbWVudC5hcHBlbmRDaGlsZChpbnN0KSk7XG4gICAgdGhpcy5fZ2V0Um93VGFyZ2V0KCkuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgLy8gV2VpcmQgaGFjayBuZWVkZWQgdG8gZ2V0IFNhZmFyaSB0byBhY3R1YWxseSBkaXN0cmlidXRlIHNsb3RzXG4gICAgY29uc3QgY29udGVudCA9IHRoaXMucXVlcnlTZWxlY3RvcignW3Nsb3RdJyk7XG4gICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgIGNvbnN0IHNsb3QgPSBjb250ZW50LmdldEF0dHJpYnV0ZSgnc2xvdCcpO1xuICAgICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ3Nsb3QnLCAnZm9vLWJhcicpO1xuICAgICAgY29udGVudC5zZXRBdHRyaWJ1dGUoJ3Nsb3QnLCBzbG90KTtcbiAgICB9XG5cbiAgICB0aGlzLl91cGRhdGVIZWFkZXJGb290ZXJNZXRyaWNzKCk7XG5cbiAgICBhZnRlck5leHRSZW5kZXIodGhpcywgKCkgPT4gdGhpcy5ub3RpZnlSZXNpemUoKSk7XG4gICAgcmV0dXJuIHBoeXNpY2FsSXRlbXM7XG4gIH1cblxuICAvKipcbiAgICogQXNzaWducyB0aGUgZGF0YSBtb2RlbHMgdG8gYSBnaXZlbiBzZXQgb2YgaXRlbXMuXG4gICAqIEBwYXJhbSB7IUFycmF5PG51bWJlcj49fSBpdGVtU2V0XG4gICAqL1xuICBfYXNzaWduTW9kZWxzKGl0ZW1TZXQpIHtcbiAgICB0aGlzLl9pdGVyYXRlSXRlbXMoKHBpZHgsIHZpZHgpID0+IHtcbiAgICAgIGNvbnN0IGVsID0gdGhpcy5fcGh5c2ljYWxJdGVtc1twaWR4XTtcbiAgICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJywgdmlkeCA+PSB0aGlzLl9lZmZlY3RpdmVTaXplLCBlbCk7XG4gICAgICB0aGlzLl91cGRhdGVTY3JvbGxlckl0ZW0oZWwsIHZpZHggKyAodGhpcy5fdmlkeE9mZnNldCB8fCAwKSk7XG4gICAgfSwgaXRlbVNldCk7XG4gIH1cblxuICBfc2Nyb2xsSGFuZGxlcigpIHtcbiAgICBjb25zdCBkZWx0YSA9IHRoaXMuJC50YWJsZS5zY3JvbGxUb3AgLSB0aGlzLl9zY3JvbGxQb3NpdGlvbjtcbiAgICB0aGlzLl9hY2Nlc3NJcm9uTGlzdEFQSShzdXBlci5fc2Nyb2xsSGFuZGxlcik7XG4gICAgY29uc3Qgb2xkT2Zmc2V0ID0gdGhpcy5fdmlkeE9mZnNldDtcbiAgICBpZiAodGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gdGhpcy5fbWF4U2Nyb2xsVG9wKSAmJiB0aGlzLl92aXJ0dWFsQ291bnQgPCB0aGlzLl9lZmZlY3RpdmVTaXplKSB7XG4gICAgICB0aGlzLl9hZGp1c3RWaXJ0dWFsSW5kZXhPZmZzZXQoZGVsdGEpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fdmlkeE9mZnNldCAhPT0gb2xkT2Zmc2V0KSB7XG4gICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICB9XG4gICAgdGhpcy5fYWZ0ZXJTY3JvbGwoKTtcbiAgfVxuXG4gIF9hZGp1c3RWaXJ0dWFsSW5kZXhPZmZzZXQoZGVsdGEpIHtcbiAgICBpZiAoTWF0aC5hYnMoZGVsdGEpID4gMTAwMDApIHtcbiAgICAgIGlmICh0aGlzLl9ub1NjYWxlKSB7XG4gICAgICAgIHRoaXMuX25vU2NhbGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLiQudGFibGUuc2Nyb2xsVG9wIC8gKHRoaXMuJC50YWJsZS5zY3JvbGxIZWlnaHQgLSB0aGlzLiQudGFibGUub2Zmc2V0SGVpZ2h0KTtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHNjYWxlICogdGhpcy5fZWZmZWN0aXZlU2l6ZTtcbiAgICAgIHRoaXMuX3ZpZHhPZmZzZXQgPSBNYXRoLnJvdW5kKG9mZnNldCAtIHNjYWxlICogdGhpcy5fdmlydHVhbENvdW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFrZSBzdXJlIHVzZXIgY2FuIGFsd2F5cyBzd2lwZS93aGVlbCBzY3JvbGwgdG8gdGhlIHN0YXJ0IGFuZCBlbmRcbiAgICAgIGNvbnN0IG9sZE9mZnNldCA9IHRoaXMuX3ZpZHhPZmZzZXQgfHwgMDtcbiAgICAgIGNvbnN0IHRocmVzaG9sZCA9IDEwMDA7XG4gICAgICBjb25zdCBtYXhTaGlmdCA9IDEwMDtcbiAgICAgIC8vIEF0IHN0YXJ0XG4gICAgICBpZiAodGhpcy5fc2Nyb2xsVG9wID09PSAwKSB7XG4gICAgICAgIHRoaXMuX3ZpZHhPZmZzZXQgPSAwO1xuICAgICAgICBpZiAob2xkT2Zmc2V0ICE9PSB0aGlzLl92aWR4T2Zmc2V0KSB7XG4gICAgICAgICAgc3VwZXIuc2Nyb2xsVG9JbmRleCgwKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmZpcnN0VmlzaWJsZUluZGV4IDwgdGhyZXNob2xkICYmIHRoaXMuX3ZpZHhPZmZzZXQgPiAwKSB7XG4gICAgICAgIHRoaXMuX3ZpZHhPZmZzZXQgLT0gTWF0aC5taW4odGhpcy5fdmlkeE9mZnNldCwgbWF4U2hpZnQpO1xuICAgICAgICBpZiAob2xkT2Zmc2V0ICE9PSB0aGlzLl92aWR4T2Zmc2V0KSB7XG4gICAgICAgICAgc3VwZXIuc2Nyb2xsVG9JbmRleCh0aGlzLmZpcnN0VmlzaWJsZUluZGV4ICsgKG9sZE9mZnNldCAtIHRoaXMuX3ZpZHhPZmZzZXQpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub1NjYWxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIEF0IGVuZFxuICAgICAgY29uc3QgbWF4T2Zmc2V0ID0gdGhpcy5fZWZmZWN0aXZlU2l6ZSAtIHRoaXMuX3ZpcnR1YWxDb3VudDtcbiAgICAgIGlmICh0aGlzLl9zY3JvbGxUb3AgPj0gdGhpcy5fbWF4U2Nyb2xsVG9wICYmIHRoaXMuX21heFNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgdGhpcy5fdmlkeE9mZnNldCA9IG1heE9mZnNldDtcbiAgICAgICAgaWYgKG9sZE9mZnNldCAhPT0gdGhpcy5fdmlkeE9mZnNldCkge1xuICAgICAgICAgIHN1cGVyLnNjcm9sbFRvSW5kZXgodGhpcy5fdmlydHVhbENvdW50KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmZpcnN0VmlzaWJsZUluZGV4ID4gdGhpcy5fdmlydHVhbENvdW50IC0gdGhyZXNob2xkICYmIHRoaXMuX3ZpZHhPZmZzZXQgPCBtYXhPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5fdmlkeE9mZnNldCArPSBNYXRoLm1pbihtYXhPZmZzZXQgLSB0aGlzLl92aWR4T2Zmc2V0LCBtYXhTaGlmdCk7XG4gICAgICAgIGlmIChvbGRPZmZzZXQgIT09IHRoaXMuX3ZpZHhPZmZzZXQpIHtcbiAgICAgICAgICBzdXBlci5zY3JvbGxUb0luZGV4KHRoaXMuZmlyc3RWaXNpYmxlSW5kZXggLSAodGhpcy5fdmlkeE9mZnNldCAtIG9sZE9mZnNldCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vU2NhbGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9hY2Nlc3NJcm9uTGlzdEFQSShjYikge1xuICAgIHRoaXMuX3dhcm5Qcml2YXRlQVBJQWNjZXNzQXN5bmNFbmFibGVkID0gZmFsc2U7XG4gICAgY29uc3QgcmV0dXJuVmFsdWUgPSBjYi5hcHBseSh0aGlzKTtcbiAgICB0aGlzLl9kZWJvdW5jZXJXYXJuUHJpdmF0ZUFQSUFjY2VzcyA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgIHRoaXMuX2RlYm91bmNlcldhcm5Qcml2YXRlQVBJQWNjZXNzLFxuICAgICAgYW5pbWF0aW9uRnJhbWUsXG4gICAgICAoKSA9PiB0aGlzLl93YXJuUHJpdmF0ZUFQSUFjY2Vzc0FzeW5jRW5hYmxlZCA9IHRydWVcbiAgICApO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfVxuXG4gIC8qIEFsbG93IGlyb24tbGlzdCB0byBhY2Nlc3MgaXRzIEFQSXMgZnJvbSBkZWJvdW5jZWQgY2FsbGJhY2tzIHdpdGhvdXQgd2FybnMgKi9cbiAgX2RlYm91bmNlUmVuZGVyKGNiLCBhc3luY01vZHVsZSkge1xuICAgIHN1cGVyLl9kZWJvdW5jZVJlbmRlcigoKSA9PiB0aGlzLl9hY2Nlc3NJcm9uTGlzdEFQSShjYiksIGFzeW5jTW9kdWxlKTtcbiAgfVxuXG4gIC8qIFdhcm4gd2hlbiBpcm9uLWxpc3QgQVBJcyBhcmUgYmVpbmcgYWNjZXNzZWQgZGlyZWN0bHkgKi9cbiAgX3dhcm5Qcml2YXRlQVBJQWNjZXNzKGFwaU5hbWUpIHtcbiAgICBpZiAodGhpcy5fd2FyblByaXZhdGVBUElBY2Nlc3NBc3luY0VuYWJsZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybihgQWNjZXNzaW5nIHByaXZhdGUgQVBJICgke2FwaU5hbWV9KSFgKTtcbiAgICB9XG4gIH1cblxuICBfcmVuZGVyKCkge1xuICAgIHRoaXMuX2FjY2Vzc0lyb25MaXN0QVBJKHN1cGVyLl9yZW5kZXIpO1xuICB9XG5cbiAgX2NyZWF0ZUZvY3VzQmFja2ZpbGxJdGVtKCkgeyAvKiBJZ25vcmUgKi8gfVxuICBfbXVsdGlTZWxlY3Rpb25DaGFuZ2VkKCkgeyAvKiBJZ25vcmUgKi8gfVxuICBjbGVhclNlbGVjdGlvbigpIHsgLyogSWdub3JlICovIH1cbiAgX2l0ZW1zQ2hhbmdlZCgpIHsgLyogSWdub3JlICovIH1cbiAgX21hbmFnZUZvY3VzKCkgeyAvKiBJZ25vcmUgKi8gfVxuICBfcmVtb3ZlRm9jdXNlZEl0ZW0oKSB7IC8qIElnbm9yZSAqLyB9XG5cbiAgZ2V0IF9maXJzdFZpc2libGVJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gc3VwZXIuZmlyc3RWaXNpYmxlSW5kZXgpO1xuICB9XG4gIGdldCBfbGFzdFZpc2libGVJbmRleCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gc3VwZXIubGFzdFZpc2libGVJbmRleCk7XG4gIH1cbiAgX3Njcm9sbFRvSW5kZXgoaW5kZXgpIHtcbiAgICB0aGlzLl9hY2Nlc3NJcm9uTGlzdEFQSSgoKSA9PiB0aGlzLnNjcm9sbFRvSW5kZXgoaW5kZXgpKTtcbiAgfVxuICBnZXQgZmlyc3RWaXNpYmxlSW5kZXgoKSB7XG4gICAgdGhpcy5fd2FyblByaXZhdGVBUElBY2Nlc3MoJ2ZpcnN0VmlzaWJsZUluZGV4Jyk7IHJldHVybiBzdXBlci5maXJzdFZpc2libGVJbmRleDtcbiAgfVxuICBzZXQgZmlyc3RWaXNpYmxlSW5kZXgodmFsdWUpIHtcbiAgICB0aGlzLl93YXJuUHJpdmF0ZUFQSUFjY2VzcygnZmlyc3RWaXNpYmxlSW5kZXgnKTsgc3VwZXIuZmlyc3RWaXNpYmxlSW5kZXggPSB2YWx1ZTtcbiAgfVxuICBnZXQgbGFzdFZpc2libGVJbmRleCgpIHtcbiAgICB0aGlzLl93YXJuUHJpdmF0ZUFQSUFjY2VzcygnbGFzdFZpc2libGVJbmRleCcpOyByZXR1cm4gc3VwZXIubGFzdFZpc2libGVJbmRleDtcbiAgfVxuICBzZXQgbGFzdFZpc2libGVJbmRleCh2YWx1ZSkge1xuICAgIHRoaXMuX3dhcm5Qcml2YXRlQVBJQWNjZXNzKCdsYXN0VmlzaWJsZUluZGV4Jyk7IHN1cGVyLmxhc3RWaXNpYmxlSW5kZXggPSB2YWx1ZTtcbiAgfVxuICB1cGRhdGVWaWV3cG9ydEJvdW5kYXJpZXMoKSB7XG4gICAgdGhpcy5fd2FyblByaXZhdGVBUElBY2Nlc3MoJ3VwZGF0ZVZpZXdwb3J0Qm91bmRhcmllcycpOyBzdXBlci51cGRhdGVWaWV3cG9ydEJvdW5kYXJpZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfVxuICBfcmVzaXplSGFuZGxlcigpIHtcbiAgICBzdXBlci5fcmVzaXplSGFuZGxlcigpO1xuICAgIGZsdXNoKCk7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKEdyaWRTY3JvbGxlckVsZW1lbnQuaXMsIEdyaWRTY3JvbGxlckVsZW1lbnQpO1xuXG5leHBvcnQgeyBHcmlkU2Nyb2xsZXJFbGVtZW50IGFzIFNjcm9sbGVyRWxlbWVudCB9O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBBMTF5TWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIEExMXlNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ19hMTF5VXBkYXRlR3JpZFNpemUoc2l6ZSwgX2NvbHVtblRyZWUsIF9jb2x1bW5UcmVlLiopJ1xuICAgIF07XG4gIH1cblxuICBfYTExeUdldEhlYWRlclJvd0NvdW50KF9jb2x1bW5UcmVlKSB7XG4gICAgcmV0dXJuIF9jb2x1bW5UcmVlLmZpbHRlcihsZXZlbCA9PiBsZXZlbC5zb21lKGNvbCA9PiBjb2wuX2hlYWRlclRlbXBsYXRlIHx8IGNvbC5oZWFkZXJSZW5kZXJlciB8fCBjb2wucGF0aCB8fCBjb2wuaGVhZGVyKSkubGVuZ3RoO1xuICB9XG5cbiAgX2ExMXlHZXRGb290ZXJSb3dDb3VudChfY29sdW1uVHJlZSkge1xuICAgIHJldHVybiBfY29sdW1uVHJlZS5maWx0ZXIobGV2ZWwgPT4gbGV2ZWwuc29tZShjb2wgPT4gY29sLl9oZWFkZXJUZW1wbGF0ZSB8fCBjb2wuaGVhZGVyUmVuZGVyZXIpKS5sZW5ndGg7XG4gIH1cblxuICBfYTExeVVwZGF0ZUdyaWRTaXplKHNpemUsIF9jb2x1bW5UcmVlKSB7XG4gICAgaWYgKHNpemUgPT09IHVuZGVmaW5lZCB8fCBfY29sdW1uVHJlZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgYm9keUNvbHVtbnMgPSBfY29sdW1uVHJlZVtfY29sdW1uVHJlZS5sZW5ndGggLSAxXTtcbiAgICB0aGlzLiQudGFibGUuc2V0QXR0cmlidXRlKFxuICAgICAgJ2FyaWEtcm93Y291bnQnLFxuICAgICAgc2l6ZSArIHRoaXMuX2ExMXlHZXRIZWFkZXJSb3dDb3VudChfY29sdW1uVHJlZSkgKyB0aGlzLl9hMTF5R2V0Rm9vdGVyUm93Q291bnQoX2NvbHVtblRyZWUpXG4gICAgKTtcbiAgICB0aGlzLiQudGFibGUuc2V0QXR0cmlidXRlKCdhcmlhLWNvbGNvdW50JywgYm9keUNvbHVtbnMgJiYgYm9keUNvbHVtbnMubGVuZ3RoIHx8IDApO1xuXG4gICAgdGhpcy5fYTExeVVwZGF0ZUhlYWRlclJvd3MoKTtcbiAgICB0aGlzLl9hMTF5VXBkYXRlRm9vdGVyUm93cygpO1xuICB9XG5cbiAgX2ExMXlVcGRhdGVIZWFkZXJSb3dzKCkge1xuICAgIEFycmF5LmZyb20odGhpcy4kLmhlYWRlci5jaGlsZHJlbikuZm9yRWFjaCgoaGVhZGVyUm93LCBpbmRleCkgPT5cbiAgICAgIGhlYWRlclJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtcm93aW5kZXgnLCBpbmRleCArIDEpXG4gICAgKTtcbiAgfVxuXG4gIF9hMTF5VXBkYXRlRm9vdGVyUm93cygpIHtcbiAgICBBcnJheS5mcm9tKHRoaXMuJC5mb290ZXIuY2hpbGRyZW4pLmZvckVhY2goKGZvb3RlclJvdywgaW5kZXgpID0+XG4gICAgICBmb290ZXJSb3cuc2V0QXR0cmlidXRlKFxuICAgICAgICAnYXJpYS1yb3dpbmRleCcsXG4gICAgICAgIHRoaXMuX2ExMXlHZXRIZWFkZXJSb3dDb3VudCh0aGlzLl9jb2x1bW5UcmVlKSArIHRoaXMuc2l6ZSArIGluZGV4ICsgMVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBfYTExeVVwZGF0ZVJvd1Jvd2luZGV4KHJvdywgaW5kZXgpIHtcbiAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLXJvd2luZGV4JywgaW5kZXggKyB0aGlzLl9hMTF5R2V0SGVhZGVyUm93Q291bnQodGhpcy5fY29sdW1uVHJlZSkgKyAxKTtcbiAgfVxuXG4gIF9hMTF5VXBkYXRlUm93U2VsZWN0ZWQocm93LCBzZWxlY3RlZCkge1xuICAgIC8vIEphd3MgcmVhZHMgc2VsZWN0aW9uIG9ubHkgZm9yIHJvd3MsIE5WREEgb25seSBmb3IgY2VsbHNcbiAgICByb3cuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgQm9vbGVhbihzZWxlY3RlZCkpO1xuICAgIEFycmF5LmZyb20ocm93LmNoaWxkcmVuKS5mb3JFYWNoKGNlbGwgPT5cbiAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgQm9vbGVhbihzZWxlY3RlZCkpXG4gICAgKTtcbiAgfVxuXG4gIF9hMTF5VXBkYXRlUm93TGV2ZWwocm93LCBsZXZlbCkge1xuICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGV2ZWwnLCBsZXZlbCArIDEpO1xuICB9XG5cbiAgX2ExMXlVcGRhdGVSb3dEZXRhaWxzT3BlbmVkKHJvdywgZGV0YWlsc09wZW5lZCkge1xuICAgIEFycmF5LmZyb20ocm93LmNoaWxkcmVuKS5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBkZXRhaWxzT3BlbmVkID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBkZXRhaWxzT3BlbmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjZWxsLmhhc0F0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpKSB7XG4gICAgICAgICAgY2VsbC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2ExMXlTZXRSb3dEZXRhaWxzQ2VsbChyb3csIGRldGFpbHNDZWxsKSB7XG4gICAgQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBpZiAoY2VsbCAhPT0gZGV0YWlsc0NlbGwpIHtcbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ2FyaWEtY29udHJvbHMnLCBkZXRhaWxzQ2VsbC5pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfYTExeVVwZGF0ZUNlbGxDb2xzcGFuKGNlbGwsIGNvbHNwYW4pIHtcbiAgICBjZWxsLnNldEF0dHJpYnV0ZSgnYXJpYS1jb2xzcGFuJywgTnVtYmVyKGNvbHNwYW4pKTtcbiAgfVxuXG4gIF9hMTF5VXBkYXRlU29ydGVycygpIHtcbiAgICBBcnJheS5mcm9tKHRoaXMucXVlcnlTZWxlY3RvckFsbCgndmFhZGluLWdyaWQtc29ydGVyJykpLmZvckVhY2goc29ydGVyID0+IHtcbiAgICAgIGxldCBjZWxsQ29udGVudCA9IHNvcnRlci5wYXJlbnROb2RlO1xuICAgICAgd2hpbGUgKGNlbGxDb250ZW50ICYmIGNlbGxDb250ZW50LmxvY2FsTmFtZSAhPT0gJ3ZhYWRpbi1ncmlkLWNlbGwtY29udGVudCcpIHtcbiAgICAgICAgY2VsbENvbnRlbnQgPSBjZWxsQ29udGVudC5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgaWYgKGNlbGxDb250ZW50ICYmIGNlbGxDb250ZW50LmFzc2lnbmVkU2xvdCkge1xuICAgICAgICBjb25zdCBjZWxsID0gY2VsbENvbnRlbnQuYXNzaWduZWRTbG90LnBhcmVudE5vZGU7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdhcmlhLXNvcnQnLCB7XG4gICAgICAgICAgJ2FzYyc6ICdhc2NlbmRpbmcnLFxuICAgICAgICAgICdkZXNjJzogJ2Rlc2NlbmRpbmcnXG4gICAgICAgIH1bU3RyaW5nKHNvcnRlci5kaXJlY3Rpb24pXSB8fCAnbm9uZScpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBBY3RpdmVJdGVtTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIEFjdGl2ZUl0ZW1NaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgaXRlbSB1c2VyIGhhcyBsYXN0IGludGVyYWN0ZWQgd2l0aC4gVHVybnMgdG8gYG51bGxgIGFmdGVyIHVzZXIgZGVhY3RpdmF0ZXNcbiAgICAgICAqIHRoZSBpdGVtIGJ5IHJlLWludGVyYWN0aW5nIHdpdGggdGhlIGN1cnJlbnRseSBhY3RpdmUgaXRlbS5cbiAgICAgICAqL1xuICAgICAgYWN0aXZlSXRlbToge1xuICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgc3VwZXIucmVhZHkoKTtcblxuICAgIHRoaXMuJC5zY3JvbGxlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjZWxsLWFjdGl2YXRlJywgdGhpcy5fYWN0aXZhdGVJdGVtLmJpbmQodGhpcykpO1xuICB9XG5cbiAgX2FjdGl2YXRlSXRlbShlKSB7XG4gICAgY29uc3QgbW9kZWwgPSBlLmRldGFpbC5tb2RlbDtcbiAgICBjb25zdCBjbGlja2VkSXRlbSA9IG1vZGVsID8gbW9kZWwuaXRlbSA6IG51bGw7XG5cbiAgICBpZiAoY2xpY2tlZEl0ZW0pIHtcbiAgICAgIHRoaXMuYWN0aXZlSXRlbSA9ICF0aGlzLl9pdGVtc0VxdWFsKHRoaXMuYWN0aXZlSXRlbSwgY2xpY2tlZEl0ZW0pID8gY2xpY2tlZEl0ZW0gOiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIHdlIG5lZWQgdG8gbGlzdGVuIHRvIGNsaWNrIGluc3RlYWQgb2YgdGFwIGJlY2F1c2Ugb24gbW9iaWxlIHNhZmFyaSwgdGhlXG4gIC8vIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaGFzIG5vdCBiZWVuIHVwZGF0ZWQgKGZvY3VzIGhhcyBub3QgYmVlbiBzaGlmdGVkKVxuICAvLyB5ZXQgYXQgdGhlIHBvaW50IHdoZW4gdGFwIGV2ZW50IGlzIGJlaW5nIGV4ZWN1dGVkLlxuICBfb25DbGljayhlKSB7XG4gICAgaWYgKGUuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgLy8gU29tZXRoaW5nIGhhcyBoYW5kbGVkIHRoaXMgY2xpY2sgYWxyZWFkeSwgZS4gZy4sIDx2YWFkaW4tZ3JpZC1zb3J0ZXI+XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGF0aCA9IGUuY29tcG9zZWRQYXRoKCk7XG4gICAgY29uc3QgY2VsbCA9IHBhdGhbcGF0aC5pbmRleE9mKHRoaXMuJC50YWJsZSkgLSAzXTtcbiAgICBpZiAoIWNlbGwgfHwgY2VsbC5nZXRBdHRyaWJ1dGUoJ3BhcnQnKS5pbmRleE9mKCdkZXRhaWxzLWNlbGwnKSA+IC0xKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGNlbGxDb250ZW50ID0gY2VsbC5fY29udGVudDtcblxuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLmdldFJvb3ROb2RlKCkuYWN0aXZlRWxlbWVudDtcbiAgICBjb25zdCBjZWxsQ29udGVudEhhc0ZvY3VzID0gY2VsbENvbnRlbnQuY29udGFpbnMoYWN0aXZlRWxlbWVudCkgJiZcbiAgICAgIC8vIE1TSUUgYnVnOiBmbGV4IGNoaWxkcmVuIHJlY2VpdmUgZm9jdXMuIE1ha2UgdHlwZSAmIGF0dHJpYnV0ZXMgY2hlY2suXG4gICAgICAoIXRoaXMuX2llIHx8IHRoaXMuX2lzRm9jdXNhYmxlKGFjdGl2ZUVsZW1lbnQpKTtcbiAgICBpZiAoIWNlbGxDb250ZW50SGFzRm9jdXMgJiYgIXRoaXMuX2lzRm9jdXNhYmxlKGUudGFyZ2V0KSkge1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2VsbC1hY3RpdmF0ZScsIHtkZXRhaWw6IHtcbiAgICAgICAgbW9kZWw6IHRoaXMuX19nZXRSb3dNb2RlbChjZWxsLnBhcmVudEVsZW1lbnQpXG4gICAgICB9fSkpO1xuICAgIH1cbiAgfVxuXG4gIF9pc0ZvY3VzYWJsZSh0YXJnZXQpIHtcbiAgICBpZiAoIXRhcmdldC5wYXJlbnROb2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGZvY3VzYWJsZXMgPSBBcnJheS5mcm9tKHRhcmdldC5wYXJlbnROb2RlXG4gICAgICAucXVlcnlTZWxlY3RvckFsbCgnW3RhYmluZGV4XSwgYnV0dG9uLCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgb2JqZWN0LCBpZnJhbWUsIGxhYmVsLCBhW2hyZWZdLCBhcmVhW2hyZWZdJykpXG4gICAgICAuZmlsdGVyKGVsZW1lbnQgPT4gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BhcnQnKSAhPT0gJ2NlbGwgYm9keS1jZWxsJyk7XG5cbiAgICBjb25zdCBpc0ZvY3VzYWJsZUVsZW1lbnQgPSBmb2N1c2FibGVzLmluZGV4T2YodGFyZ2V0KSAhPT0gLTE7XG4gICAgcmV0dXJuICF0YXJnZXQuZGlzYWJsZWQgJiYgaXNGb2N1c2FibGVFbGVtZW50O1xuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuaW1wb3J0IHsgQmFzZSB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1sZWdhY3kuanMnO1xuXG4vKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqL1xuZXhwb3J0IGNvbnN0IEFycmF5RGF0YVByb3ZpZGVyTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIEFycmF5RGF0YVByb3ZpZGVyTWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBBbiBhcnJheSBjb250YWluaW5nIHRoZSBpdGVtcyB3aGljaCB3aWxsIGJlIHN0YW1wZWQgdG8gdGhlIGNvbHVtbiB0ZW1wbGF0ZVxuICAgICAgICogaW5zdGFuY2VzLlxuICAgICAgICovXG4gICAgICBpdGVtczogQXJyYXlcblxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ19pdGVtc0NoYW5nZWQoaXRlbXMsIGl0ZW1zLiosIGlzQXR0YWNoZWQpJ1xuICAgIF07XG4gIH1cblxuICBfaXRlbXNDaGFuZ2VkKGl0ZW1zLCBzcGxpY2VzLCBpc0F0dGFjaGVkKSB7XG4gICAgaWYgKCFpc0F0dGFjaGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICAgIGlmIChpdGVtcyA9PT0gdW5kZWZpbmVkIHx8IGl0ZW1zID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5kYXRhUHJvdmlkZXIgPT09IHRoaXMuX2FycmF5RGF0YVByb3ZpZGVyKSB7XG4gICAgICAgIHRoaXMuZGF0YVByb3ZpZGVyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2l6ZSA9IGl0ZW1zLmxlbmd0aDtcbiAgICB0aGlzLmRhdGFQcm92aWRlciA9IHRoaXMuZGF0YVByb3ZpZGVyIHx8IHRoaXMuX2FycmF5RGF0YVByb3ZpZGVyO1xuICAgIHRoaXMuY2xlYXJDYWNoZSgpO1xuICAgIHRoaXMuX2Vuc3VyZUZpcnN0UGFnZUxvYWRlZCgpO1xuICB9XG5cbiAgX2FycmF5RGF0YVByb3ZpZGVyKG9wdHMsIGNiKSB7XG4gICAgbGV0IGl0ZW1zID0gKEFycmF5LmlzQXJyYXkodGhpcy5pdGVtcykgPyB0aGlzLml0ZW1zIDogW10pLnNsaWNlKDApO1xuXG4gICAgaWYgKHRoaXMuX2ZpbHRlcnMgJiYgdGhpcy5fY2hlY2tQYXRocyh0aGlzLl9maWx0ZXJzLCAnZmlsdGVyaW5nJywgaXRlbXMpKSB7XG4gICAgICBpdGVtcyA9IHRoaXMuX2ZpbHRlcihpdGVtcyk7XG4gICAgfVxuXG4gICAgdGhpcy5zaXplID0gaXRlbXMubGVuZ3RoO1xuXG4gICAgaWYgKG9wdHMuc29ydE9yZGVycy5sZW5ndGggJiYgdGhpcy5fY2hlY2tQYXRocyh0aGlzLl9zb3J0ZXJzLCAnc29ydGluZycsIGl0ZW1zKSkge1xuICAgICAgaXRlbXMgPSBpdGVtcy5zb3J0KHRoaXMuX211bHRpU29ydC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGFydCA9IG9wdHMucGFnZSAqIG9wdHMucGFnZVNpemU7XG4gICAgY29uc3QgZW5kID0gc3RhcnQgKyBvcHRzLnBhZ2VTaXplO1xuICAgIGNvbnN0IHNsaWNlID0gaXRlbXMuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgY2Ioc2xpY2UsIGl0ZW1zLmxlbmd0aCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgYXJyYXkgb2YgZmlsdGVycy9zb3J0ZXJzIGZvciBwYXRocyB2YWxpZGl0eSwgY29uc29sZS53YXJuIGludmFsaWQgaXRlbXNcbiAgICogQHBhcmFtIHtBcnJheX0gIGFycmF5VG9DaGVjayBUaGUgYXJyYXkgb2YgZmlsdGVycy9zb3J0ZXJzIHRvIGNoZWNrXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhY3Rpb24gICAgICAgVGhlIG5hbWUgb2YgYWN0aW9uIHRvIGluY2x1ZGUgaW4gd2FybmluZyAoZmlsdGVyaW5nLCBzb3J0aW5nKVxuICAgKiBAcGFyYW0ge0FycmF5fSAgaXRlbXNcbiAgICovXG4gIF9jaGVja1BhdGhzKGFycmF5VG9DaGVjaywgYWN0aW9uLCBpdGVtcykge1xuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdCA9IHRydWU7XG5cbiAgICBmb3IgKHZhciBpIGluIGFycmF5VG9DaGVjaykge1xuICAgICAgY29uc3QgcGF0aCA9IGFycmF5VG9DaGVja1tpXS5wYXRoO1xuXG4gICAgICAvLyBza2lwIHNpbXBsZSBwYXRoc1xuICAgICAgaWYgKCFwYXRoIHx8IHBhdGguaW5kZXhPZignLicpID09PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFyZW50UHJvcGVydHkgPSBwYXRoLnJlcGxhY2UoL1xcLlteXFwuXSokLywgJycpOyAvLyBhLmIuYyAtPiBhLmJcbiAgICAgIGlmIChCYXNlLmdldChwYXJlbnRQcm9wZXJ0eSwgaXRlbXNbMF0pID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBQYXRoIFwiJHtwYXRofVwiIHVzZWQgZm9yICR7YWN0aW9ufSBkb2VzIG5vdCBleGlzdCBpbiBhbGwgb2YgdGhlIGl0ZW1zLCAke2FjdGlvbn0gaXMgZGlzYWJsZWQuYCk7XG4gICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBfbXVsdGlTb3J0KGEsIGIpIHtcbiAgICByZXR1cm4gdGhpcy5fc29ydGVycy5tYXAoc29ydCA9PiB7XG4gICAgICBpZiAoc29ydC5kaXJlY3Rpb24gPT09ICdhc2MnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wYXJlKEJhc2UuZ2V0KHNvcnQucGF0aCwgYSksIEJhc2UuZ2V0KHNvcnQucGF0aCwgYikpO1xuICAgICAgfSBlbHNlIGlmIChzb3J0LmRpcmVjdGlvbiA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb21wYXJlKEJhc2UuZ2V0KHNvcnQucGF0aCwgYiksIEJhc2UuZ2V0KHNvcnQucGF0aCwgYSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSkucmVkdWNlKChwLCBuKSA9PiB7XG4gICAgICByZXR1cm4gcCA/IHAgOiBuO1xuICAgIH0sIDApO1xuICB9XG5cbiAgX25vcm1hbGl6ZUVtcHR5VmFsdWUodmFsdWUpIHtcbiAgICBpZiAoW3VuZGVmaW5lZCwgbnVsbF0uaW5kZXhPZih2YWx1ZSkgPj0gMCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH0gZWxzZSBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIF9jb21wYXJlKGEsIGIpIHtcbiAgICBhID0gdGhpcy5fbm9ybWFsaXplRW1wdHlWYWx1ZShhKTtcbiAgICBiID0gdGhpcy5fbm9ybWFsaXplRW1wdHlWYWx1ZShiKTtcblxuICAgIGlmIChhIDwgYikge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoYSA+IGIpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIF9maWx0ZXIoaXRlbXMpIHtcbiAgICByZXR1cm4gaXRlbXMuZmlsdGVyKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX2ZpbHRlcnMuZmlsdGVyKGZpbHRlciA9PiB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fbm9ybWFsaXplRW1wdHlWYWx1ZShCYXNlLmdldChmaWx0ZXIucGF0aCwgaXRlbSkpO1xuICAgICAgICBjb25zdCBmaWx0ZXJWYWx1ZUxvd2VyY2FzZSA9IHRoaXMuX25vcm1hbGl6ZUVtcHR5VmFsdWUoZmlsdGVyLnZhbHVlKS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXJWYWx1ZUxvd2VyY2FzZSkgPT09IC0xO1xuICAgICAgfSkubGVuZ3RoID09PSAwO1xuICAgIH0pO1xuICB9XG5cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5pbXBvcnQgeyBHZXN0dXJlRXZlbnRMaXN0ZW5lcnMgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi9taXhpbnMvZ2VzdHVyZS1ldmVudC1saXN0ZW5lcnMuanMnO1xuXG5pbXBvcnQgeyBhZGRMaXN0ZW5lciB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2dlc3R1cmVzLmpzJztcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBDb2x1bW5SZXNpemluZ01peGluID0gc3VwZXJDbGFzcyA9PiBjbGFzcyBDb2x1bW5SZXNpemluZ01peGluIGV4dGVuZHMgR2VzdHVyZUV2ZW50TGlzdGVuZXJzKHN1cGVyQ2xhc3MpIHtcblxuICByZWFkeSgpIHtcbiAgICBzdXBlci5yZWFkeSgpO1xuICAgIGNvbnN0IHNjcm9sbGVyID0gdGhpcy4kLnNjcm9sbGVyO1xuICAgIGFkZExpc3RlbmVyKHNjcm9sbGVyLCAndHJhY2snLCB0aGlzLl9vbkhlYWRlclRyYWNrLmJpbmQodGhpcykpO1xuXG4gICAgLy8gRGlzYWxsb3cgc2Nyb2xsaW5nIHdoaWxlIHJlc2l6aW5nXG4gICAgc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZSA9PiBzY3JvbGxlci5oYXNBdHRyaWJ1dGUoJ2NvbHVtbi1yZXNpemluZycpICYmIGUucHJldmVudERlZmF1bHQoKSk7XG5cbiAgICAvLyBEaXNhYmxlIGNvbnRleHRtZW51IG9uIGFueSByZXNpemUgc2VwYXJhdG9yLlxuICAgIHNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZSA9PiBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ3BhcnQnKSA9PSAncmVzaXplLWhhbmRsZScgJiYgZS5wcmV2ZW50RGVmYXVsdCgpKTtcblxuICAgIC8vIERpc2FibGUgbmF0aXZlIGNlbGwgZm9jdXMgd2hlbiByZXNpemluZ1xuICAgIHNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGUgPT4gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdwYXJ0JykgPT09ICdyZXNpemUtaGFuZGxlJyAmJiBlLnByZXZlbnREZWZhdWx0KCkpO1xuICB9XG5cbiAgX29uSGVhZGVyVHJhY2soZSkge1xuICAgIGNvbnN0IGhhbmRsZSA9IGUudGFyZ2V0O1xuICAgIGlmIChoYW5kbGUuZ2V0QXR0cmlidXRlKCdwYXJ0JykgPT09ICdyZXNpemUtaGFuZGxlJykge1xuICAgICAgY29uc3QgY2VsbCA9IGhhbmRsZS5wYXJlbnRFbGVtZW50O1xuICAgICAgbGV0IGNvbHVtbiA9IGNlbGwuX2NvbHVtbjtcblxuICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdjb2x1bW4tcmVzaXppbmcnLCB0cnVlLCB0aGlzLiQuc2Nyb2xsZXIpO1xuXG4gICAgICAvLyBHZXQgdGhlIHRhcmdldCBjb2x1bW4gdG8gcmVzaXplXG4gICAgICB3aGlsZSAoY29sdW1uLmxvY2FsTmFtZSA9PT0gJ3ZhYWRpbi1ncmlkLWNvbHVtbi1ncm91cCcpIHtcbiAgICAgICAgY29sdW1uID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29sdW1uLl9jaGlsZENvbHVtbnMsIDApXG4gICAgICAgICAgLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEuX29yZGVyIC0gYi5fb3JkZXI7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuICFjb2x1bW4uaGlkZGVuO1xuICAgICAgICAgIH0pLnBvcCgpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjb2x1bW5Sb3dDZWxscyA9IEFycmF5LmZyb20odGhpcy4kLmhlYWRlci5xdWVyeVNlbGVjdG9yQWxsKCdbcGFydH49XCJyb3dcIl06bGFzdC1jaGlsZCBbcGFydH49XCJjZWxsXCJdJykpO1xuICAgICAgdmFyIHRhcmdldENlbGwgPSBjb2x1bW5Sb3dDZWxscy5maWx0ZXIoY2VsbCA9PiBjZWxsLl9jb2x1bW4gPT09IGNvbHVtbilbMF07XG4gICAgICAvLyBSZXNpemUgdGhlIHRhcmdldCBjb2x1bW5cbiAgICAgIGlmICh0YXJnZXRDZWxsLm9mZnNldFdpZHRoKSB7XG4gICAgICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRhcmdldENlbGwpO1xuICAgICAgICB2YXIgbWluV2lkdGggPSAxMCArIHBhcnNlSW50KHN0eWxlLnBhZGRpbmdMZWZ0KSArIHBhcnNlSW50KHN0eWxlLnBhZGRpbmdSaWdodCkgKyBwYXJzZUludChzdHlsZS5ib3JkZXJMZWZ0V2lkdGgpXG4gICAgICAgICAgKyBwYXJzZUludChzdHlsZS5ib3JkZXJSaWdodFdpZHRoKSArIHBhcnNlSW50KHN0eWxlLm1hcmdpbkxlZnQpICsgcGFyc2VJbnQoc3R5bGUubWFyZ2luUmlnaHQpO1xuICAgICAgICBjb2x1bW4ud2lkdGggPSBNYXRoLm1heChtaW5XaWR0aCwgdGFyZ2V0Q2VsbC5vZmZzZXRXaWR0aCArIGUuZGV0YWlsLnggLSB0YXJnZXRDZWxsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0KSArICdweCc7XG4gICAgICAgIGNvbHVtbi5mbGV4R3JvdyA9IDA7XG4gICAgICB9XG4gICAgICAvLyBGaXggd2lkdGggYW5kIGZsZXgtZ3JvdyBmb3IgYWxsIHByZWNlZGluZyBjb2x1bW5zXG4gICAgICBjb2x1bW5Sb3dDZWxsc1xuICAgICAgICAuc29ydChcbiAgICAgICAgICBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYS5fY29sdW1uLl9vcmRlciAtIGIuX2NvbHVtbi5fb3JkZXI7XG4gICAgICAgICAgfSlcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24oY2VsbCwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgYXJyYXkuaW5kZXhPZih0YXJnZXRDZWxsKSkge1xuICAgICAgICAgICAgY2VsbC5fY29sdW1uLndpZHRoID0gY2VsbC5vZmZzZXRXaWR0aCArICdweCc7XG4gICAgICAgICAgICBjZWxsLl9jb2x1bW4uZmxleEdyb3cgPSAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIGlmIChlLmRldGFpbC5zdGF0ZSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdjb2x1bW4tcmVzaXppbmcnLCBmYWxzZSwgdGhpcy4kLnNjcm9sbGVyKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY29sdW1uLXJlc2l6ZScsIHtcbiAgICAgICAgICBkZXRhaWw6IHtyZXNpemVkQ29sdW1uOiBjb2x1bW59XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgLy8gTm90aWZ5IHJlc2l6ZVxuICAgICAgdGhpcy5fcmVzaXplSGFuZGxlcigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAqIEZpcmVkIHdoZW4gYSBjb2x1bW4gaW4gdGhlIGdyaWQgaXMgcmVzaXplZCBieSB0aGUgdXNlci5cbiAgKlxuICAqIEBldmVudCBjb2x1bW4tcmVzaXplXG4gICogQHBhcmFtIHtPYmplY3R9IGRldGFpbFxuICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWwucmVzaXplZENvbHVtbiB0aGUgY29sdW1uIHRoYXQgd2FzIHJlc2l6ZWRcbiAgKi9cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9kZWJvdW5jZS5qcyc7XG5cbmltcG9ydCB7IHRpbWVPdXQgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9hc3luYy5qcyc7XG5cbmV4cG9ydCBjb25zdCBJdGVtQ2FjaGUgPSBjbGFzcyBJdGVtQ2FjaGUge1xuXG4gIGNvbnN0cnVjdG9yKGdyaWQsIHBhcmVudENhY2hlLCBwYXJlbnRJdGVtKSB7XG4gICAgdGhpcy5ncmlkID0gZ3JpZDtcbiAgICB0aGlzLnBhcmVudENhY2hlID0gcGFyZW50Q2FjaGU7XG4gICAgdGhpcy5wYXJlbnRJdGVtID0gcGFyZW50SXRlbTtcbiAgICB0aGlzLml0ZW1DYWNoZXMgPSB7fTtcbiAgICB0aGlzLml0ZW1zID0ge307XG4gICAgdGhpcy5lZmZlY3RpdmVTaXplID0gMDtcbiAgICB0aGlzLnNpemUgPSAwO1xuICAgIHRoaXMucGVuZGluZ1JlcXVlc3RzID0ge307XG4gIH1cblxuICBpc0xvYWRpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucGVuZGluZ1JlcXVlc3RzKS5sZW5ndGggfHwgT2JqZWN0LmtleXModGhpcy5pdGVtQ2FjaGVzKS5maWx0ZXIoaW5kZXggPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuaXRlbUNhY2hlc1tpbmRleF0uaXNMb2FkaW5nKCk7XG4gICAgfSlbMF07XG4gIH1cblxuICBnZXRJdGVtRm9ySW5kZXgoaW5kZXgpIHtcbiAgICBjb25zdCB7Y2FjaGUsIHNjYWxlZEluZGV4fSA9IHRoaXMuZ2V0Q2FjaGVBbmRJbmRleChpbmRleCk7XG4gICAgcmV0dXJuIGNhY2hlLml0ZW1zW3NjYWxlZEluZGV4XTtcbiAgfVxuXG4gIHVwZGF0ZVNpemUoKSB7XG4gICAgdGhpcy5lZmZlY3RpdmVTaXplID0gKCF0aGlzLnBhcmVudEl0ZW0gfHwgdGhpcy5ncmlkLl9pc0V4cGFuZGVkKHRoaXMucGFyZW50SXRlbSkpID9cbiAgICAgIHRoaXMuc2l6ZSArIE9iamVjdC5rZXlzKHRoaXMuaXRlbUNhY2hlcykucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7XG4gICAgICAgIGNvbnN0IHN1YkNhY2hlID0gdGhpcy5pdGVtQ2FjaGVzW2N1cnJdO1xuICAgICAgICBzdWJDYWNoZS51cGRhdGVTaXplKCk7XG4gICAgICAgIHJldHVybiBwcmV2ICsgc3ViQ2FjaGUuZWZmZWN0aXZlU2l6ZTtcbiAgICAgIH0sIDApIDpcbiAgICAgIDA7XG4gIH1cblxuICBlbnN1cmVTdWJDYWNoZUZvclNjYWxlZEluZGV4KHNjYWxlZEluZGV4KSB7XG4gICAgaWYgKCF0aGlzLml0ZW1DYWNoZXNbc2NhbGVkSW5kZXhdKSB7XG4gICAgICBjb25zdCBzdWJDYWNoZSA9IG5ldyBJdGVtQ2FjaGUodGhpcy5ncmlkLCB0aGlzLCB0aGlzLml0ZW1zW3NjYWxlZEluZGV4XSk7XG4gICAgICB0aGlzLml0ZW1DYWNoZXNbc2NhbGVkSW5kZXhdID0gc3ViQ2FjaGU7XG4gICAgICB0aGlzLmdyaWQuX2xvYWRQYWdlKDAsIHN1YkNhY2hlKTtcbiAgICB9XG4gIH1cblxuICBnZXRDYWNoZUFuZEluZGV4KGluZGV4KSB7XG4gICAgbGV0IHRoaXNMZXZlbEluZGV4ID0gaW5kZXg7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuaXRlbUNhY2hlcyk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBleHBhbmRlZEluZGV4ID0gTnVtYmVyKGtleXNbaV0pO1xuICAgICAgY29uc3Qgc3ViQ2FjaGUgPSB0aGlzLml0ZW1DYWNoZXNbZXhwYW5kZWRJbmRleF07XG4gICAgICBpZiAodGhpc0xldmVsSW5kZXggPD0gZXhwYW5kZWRJbmRleCkge1xuICAgICAgICByZXR1cm4ge2NhY2hlOiB0aGlzLCBzY2FsZWRJbmRleDogdGhpc0xldmVsSW5kZXh9O1xuICAgICAgfSBlbHNlIGlmICh0aGlzTGV2ZWxJbmRleCA8PSBleHBhbmRlZEluZGV4ICsgc3ViQ2FjaGUuZWZmZWN0aXZlU2l6ZSkge1xuICAgICAgICByZXR1cm4gc3ViQ2FjaGUuZ2V0Q2FjaGVBbmRJbmRleCh0aGlzTGV2ZWxJbmRleCAtIGV4cGFuZGVkSW5kZXggLSAxKTtcbiAgICAgIH1cbiAgICAgIHRoaXNMZXZlbEluZGV4IC09IHN1YkNhY2hlLmVmZmVjdGl2ZVNpemU7XG4gICAgfVxuICAgIHJldHVybiB7Y2FjaGU6IHRoaXMsIHNjYWxlZEluZGV4OiB0aGlzTGV2ZWxJbmRleH07XG4gIH1cblxufTtcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBEYXRhUHJvdmlkZXJNaXhpbiA9IHN1cGVyQ2xhc3MgPT4gY2xhc3MgRGF0YVByb3ZpZGVyTWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBOdW1iZXIgb2YgaXRlbXMgZmV0Y2hlZCBhdCBhIHRpbWUgZnJvbSB0aGUgZGF0YXByb3ZpZGVyLlxuICAgICAgICovXG4gICAgICBwYWdlU2l6ZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiA1MCxcbiAgICAgICAgb2JzZXJ2ZXI6ICdfcGFnZVNpemVDaGFuZ2VkJ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBGdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGl0ZW1zIGxhemlseS4gUmVjZWl2ZXMgYXJndW1lbnRzIGBwYXJhbXNgLCBgY2FsbGJhY2tgXG4gICAgICAgKlxuICAgICAgICogYHBhcmFtcy5wYWdlYCBSZXF1ZXN0ZWQgcGFnZSBpbmRleFxuICAgICAgICpcbiAgICAgICAqIGBwYXJhbXMucGFnZVNpemVgIEN1cnJlbnQgcGFnZSBzaXplXG4gICAgICAgKlxuICAgICAgICogYHBhcmFtcy5maWx0ZXJzYCBDdXJyZW50bHkgYXBwbGllZCBmaWx0ZXJzXG4gICAgICAgKlxuICAgICAgICogYHBhcmFtcy5zb3J0T3JkZXJzYCBDdXJyZW50bHkgYXBwbGllZCBzb3J0aW5nIG9yZGVyc1xuICAgICAgICpcbiAgICAgICAqIGBwYXJhbXMucGFyZW50SXRlbWAgV2hlbiB0cmVlIGlzIHVzZWQsIGFuZCBzdWJsZXZlbCBpdGVtc1xuICAgICAgICogYXJlIHJlcXVlc3RlZCwgcmVmZXJlbmNlIHRvIHBhcmVudCBpdGVtIG9mIHRoZSByZXF1ZXN0ZWQgc3VibGV2ZWwuXG4gICAgICAgKiBPdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gICAgICAgKlxuICAgICAgICogYGNhbGxiYWNrKGl0ZW1zLCBzaXplKWAgQ2FsbGJhY2sgZnVuY3Rpb24gd2l0aCBhcmd1bWVudHM6XG4gICAgICAgKiAgIC0gYGl0ZW1zYCBDdXJyZW50IHBhZ2Ugb2YgaXRlbXNcbiAgICAgICAqICAgLSBgc2l6ZWAgVG90YWwgbnVtYmVyIG9mIGl0ZW1zLiBXaGVuIHRyZWUgc3VibGV2ZWwgaXRlbXNcbiAgICAgICAqICAgICBhcmUgcmVxdWVzdGVkLCB0b3RhbCBudW1iZXIgb2YgaXRlbXMgaW4gdGhlIHJlcXVlc3RlZCBzdWJsZXZlbC5cbiAgICAgICAqICAgICBPcHRpb25hbCB3aGVuIHRyZWUgaXMgbm90IHVzZWQsIHJlcXVpcmVkIGZvciB0cmVlLlxuICAgICAgICovXG4gICAgICBkYXRhUHJvdmlkZXI6IHtcbiAgICAgICAgdHlwZTogT2JqZWN0LFxuICAgICAgICBub3RpZnk6IHRydWUsXG4gICAgICAgIG9ic2VydmVyOiAnX2RhdGFQcm92aWRlckNoYW5nZWQnXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIGB0cnVlYCB3aGlsZSBkYXRhIGlzIGJlaW5nIHJlcXVlc3RlZCBmcm9tIHRoZSBkYXRhIHByb3ZpZGVyLlxuICAgICAgICovXG4gICAgICBsb2FkaW5nOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgIHJlZmxlY3RUb0F0dHJpYnV0ZTogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgX2NhY2hlOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNvbnN0IGNhY2hlID0gbmV3IEl0ZW1DYWNoZSh0aGlzKTtcbiAgICAgICAgICByZXR1cm4gY2FjaGU7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogUGF0aCB0byBhbiBpdGVtIHN1Yi1wcm9wZXJ0eSB0aGF0IGlkZW50aWZpZXMgdGhlIGl0ZW0uXG4gICAgICAgKi9cbiAgICAgIGl0ZW1JZFBhdGg6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSBleHBhbmRlZCBpdGVtcy5cbiAgICAgICAqL1xuICAgICAgZXhwYW5kZWRJdGVtczoge1xuICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgIG5vdGlmeTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6ICgpID0+IFtdXG4gICAgICB9XG5cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdfc2l6ZUNoYW5nZWQoc2l6ZSknLFxuICAgICAgJ19pdGVtSWRQYXRoQ2hhbmdlZChpdGVtSWRQYXRoKScsXG4gICAgICAnX2V4cGFuZGVkSXRlbXNDaGFuZ2VkKGV4cGFuZGVkSXRlbXMuKiknXG4gICAgXTtcbiAgfVxuXG4gIF9zaXplQ2hhbmdlZChzaXplKSB7XG4gICAgY29uc3QgZGVsdGEgPSBzaXplIC0gdGhpcy5fY2FjaGUuc2l6ZTtcbiAgICB0aGlzLl9jYWNoZS5zaXplICs9IGRlbHRhO1xuICAgIHRoaXMuX2NhY2hlLmVmZmVjdGl2ZVNpemUgKz0gZGVsdGE7XG4gICAgdGhpcy5fZWZmZWN0aXZlU2l6ZSA9IHRoaXMuX2NhY2hlLmVmZmVjdGl2ZVNpemU7XG4gIH1cblxuICBfdXBkYXRlUm93SXRlbShpdGVtLCBlbCkge1xuICAgIGVsLmNoaWxkcmVuLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjZWxsLl9pbnN0YW5jZSAmJiAoY2VsbC5faW5zdGFuY2UuaXRlbSA9IGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldEl0ZW0oaW5kZXgsIGVsKSB7XG4gICAgaWYgKGluZGV4ID49IHRoaXMuX2VmZmVjdGl2ZVNpemUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlbC5pbmRleCA9IGluZGV4O1xuICAgIGNvbnN0IHtjYWNoZSwgc2NhbGVkSW5kZXh9ID0gdGhpcy5fY2FjaGUuZ2V0Q2FjaGVBbmRJbmRleChpbmRleCk7XG4gICAgY29uc3QgaXRlbSA9IGNhY2hlLml0ZW1zW3NjYWxlZEluZGV4XTtcbiAgICBpZiAoaXRlbSkge1xuICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdsb2FkaW5nJywgZmFsc2UsIGVsKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUl0ZW0oZWwsIGl0ZW0pO1xuICAgICAgaWYgKHRoaXMuX2lzRXhwYW5kZWQoaXRlbSkpIHtcbiAgICAgICAgY2FjaGUuZW5zdXJlU3ViQ2FjaGVGb3JTY2FsZWRJbmRleChzY2FsZWRJbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnbG9hZGluZycsIHRydWUsIGVsKTtcbiAgICAgIHRoaXMuX2xvYWRQYWdlKHRoaXMuX2dldFBhZ2VGb3JJbmRleChzY2FsZWRJbmRleCksIGNhY2hlKTtcbiAgICB9XG5cbiAgfVxuXG4gIF9wYWdlc0ZvclBoeXNpY2FsSXRlbXMoKSB7XG4gICAgLy8gVE9ETzogcG90ZW50aWFsbHkgaGVhdnkgb3BlcmF0aW9uIHRvIHJ1biBmaXJzdCB2aXNpYmxlIGluZGV4LFxuICAgIC8vIHJlY29uc2lkZXIgaWYgcGVyZm9ybWFuY2UgaXNzdWVzIG9jY3VyIG9uIGRhdGEgYmluZGluZyAvIHNjcm9sbGluZy5cbiAgICAvLyBUT0RPOiBfdmlkeE9mZnNldCBzaG91bGRuJ3QgYmUgcmVhZCBmcm9tIGhlcmUuXG4gICAgY29uc3QgZmlyc3RWaXNpYmxlUGFnZSA9IHRoaXMuX2dldFBhZ2VGb3JJbmRleCh0aGlzLl9maXJzdFZpc2libGVJbmRleCArIHRoaXMuX3ZpZHhPZmZzZXQpO1xuXG4gICAgcmV0dXJuIFtmaXJzdFZpc2libGVQYWdlXS5jb25jYXQoXG4gICAgICB0aGlzLl9waHlzaWNhbEl0ZW1zXG4gICAgICAgIC5maWx0ZXIocm93ID0+IHJvdy5pbmRleClcbiAgICAgICAgLml0ZW1zKHJvdyA9PiB0aGlzLl9nZXRQYWdlRm9ySW5kZXgocm93LmluZGV4KSlcbiAgICApLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgaWYgKHByZXYuaW5kZXhPZihjdXJyKSA9PT0gLTEpIHtcbiAgICAgICAgcHJldi5wdXNoKGN1cnIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldjtcbiAgICB9LCBbXSk7XG4gIH1cblxuICBfZXhwYW5kZWRJbnN0YW5jZUNoYW5nZWRDYWxsYmFjayhpbnN0LCB2YWx1ZSkge1xuICAgIGlmIChpbnN0Lml0ZW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuZXhwYW5kSXRlbShpbnN0Lml0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbGxhcHNlSXRlbShpbnN0Lml0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgdmFsdWUgdGhhdCBpZGVudGlmaWVzIHRoZSBpdGVtLiBVc2VzIGBpdGVtSWRQYXRoYCBpZiBhdmFpbGFibGUuXG4gICAqIENhbiBiZSBjdXN0b21pemVkIGJ5IG92ZXJyaWRpbmcuXG4gICAqL1xuICBnZXRJdGVtSWQoaXRlbSkge1xuICAgIHJldHVybiB0aGlzLml0ZW1JZFBhdGggPyB0aGlzLmdldCh0aGlzLml0ZW1JZFBhdGgsIGl0ZW0pIDogaXRlbTtcbiAgfVxuXG4gIF9pc0V4cGFuZGVkKGl0ZW0pIHtcbiAgICByZXR1cm4gdGhpcy5fX2V4cGFuZGVkS2V5cy5oYXModGhpcy5nZXRJdGVtSWQoaXRlbSkpO1xuICB9XG5cbiAgX2V4cGFuZGVkSXRlbXNDaGFuZ2VkKGUpIHtcbiAgICB0aGlzLl9fY2FjaGVFeHBhbmRlZEtleXMoKTtcbiAgICB0aGlzLl9jYWNoZS51cGRhdGVTaXplKCk7XG4gICAgdGhpcy5fZWZmZWN0aXZlU2l6ZSA9IHRoaXMuX2NhY2hlLmVmZmVjdGl2ZVNpemU7XG4gICAgdGhpcy5fYXNzaWduTW9kZWxzKCk7XG4gIH1cblxuICBfaXRlbUlkUGF0aENoYW5nZWQoZSkge1xuICAgIHRoaXMuX19jYWNoZUV4cGFuZGVkS2V5cygpO1xuICB9XG5cbiAgX19jYWNoZUV4cGFuZGVkS2V5cygpIHtcbiAgICBpZiAodGhpcy5leHBhbmRlZEl0ZW1zKSB7XG4gICAgICB0aGlzLl9fZXhwYW5kZWRLZXlzID0gbmV3IFNldCgpO1xuICAgICAgdGhpcy5leHBhbmRlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIHRoaXMuX19leHBhbmRlZEtleXMuYWRkKHRoaXMuZ2V0SXRlbUlkKGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBhbmRzIHRoZSBnaXZlbiBpdGVtIHRyZWUuXG4gICAqL1xuICBleHBhbmRJdGVtKGl0ZW0pIHtcbiAgICBpZiAoIXRoaXMuX2lzRXhwYW5kZWQoaXRlbSkpIHtcbiAgICAgIHRoaXMucHVzaCgnZXhwYW5kZWRJdGVtcycsIGl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsYXBzZXMgdGhlIGdpdmVuIGl0ZW0gdHJlZS5cbiAgICovXG4gIGNvbGxhcHNlSXRlbShpdGVtKSB7XG4gICAgaWYgKHRoaXMuX2lzRXhwYW5kZWQoaXRlbSkpIHtcbiAgICAgIHRoaXMuc3BsaWNlKCdleHBhbmRlZEl0ZW1zJywgdGhpcy5fZ2V0SXRlbUluZGV4SW5BcnJheShpdGVtLCB0aGlzLmV4cGFuZGVkSXRlbXMpLCAxKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0SW5kZXhMZXZlbChpbmRleCkge1xuICAgIGxldCB7Y2FjaGV9ID0gdGhpcy5fY2FjaGUuZ2V0Q2FjaGVBbmRJbmRleChpbmRleCk7XG4gICAgbGV0IGxldmVsID0gMDtcbiAgICB3aGlsZSAoY2FjaGUucGFyZW50Q2FjaGUpIHtcbiAgICAgIGNhY2hlID0gY2FjaGUucGFyZW50Q2FjaGU7XG4gICAgICBsZXZlbCsrO1xuICAgIH1cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH1cblxuICBfY2FuUG9wdWxhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc0RhdGEgJiYgdGhpcy5fY29sdW1uVHJlZTtcbiAgfVxuXG4gIF9sb2FkUGFnZShwYWdlLCBjYWNoZSkge1xuICAgIC8vIG1ha2Ugc3VyZSBzYW1lIHBhZ2UgaXNuJ3QgcmVxdWVzdGVkIG11bHRpcGxlIHRpbWVzLlxuICAgIGlmICghY2FjaGUucGVuZGluZ1JlcXVlc3RzW3BhZ2VdICYmIHRoaXMuZGF0YVByb3ZpZGVyKSB7XG4gICAgICB0aGlzLl9zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgY2FjaGUucGVuZGluZ1JlcXVlc3RzW3BhZ2VdID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IHtcbiAgICAgICAgcGFnZSxcbiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsXG4gICAgICAgIHNvcnRPcmRlcnM6IHRoaXMuX21hcFNvcnRlcnMoKSxcbiAgICAgICAgZmlsdGVyczogdGhpcy5fbWFwRmlsdGVycygpLFxuICAgICAgICBwYXJlbnRJdGVtOiBjYWNoZS5wYXJlbnRJdGVtXG4gICAgICB9O1xuXG4gICAgICB0aGlzLmRhdGFQcm92aWRlcihwYXJhbXMsIChpdGVtcywgc2l6ZSkgPT4ge1xuICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2FjaGUuc2l6ZSA9IHNpemU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHBhcmFtcy5wYXJlbnRJdGVtKSB7XG4gICAgICAgICAgICBjYWNoZS5zaXplID0gaXRlbXMubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRJdGVtcyA9IEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5tYXAocm93ID0+IHJvdy5faXRlbSk7XG5cbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGNhY2hlIHdpdGggbmV3IGl0ZW1zXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGl0ZW1zSW5kZXgpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtSW5kZXggPSBwYWdlICogdGhpcy5wYWdlU2l6ZSArIGl0ZW1zSW5kZXg7XG4gICAgICAgICAgY2FjaGUuaXRlbXNbaXRlbUluZGV4XSA9IGl0ZW07XG4gICAgICAgICAgaWYgKHRoaXMuX2lzRXhwYW5kZWQoaXRlbSkgJiYgY3VycmVudEl0ZW1zLmluZGV4T2YoaXRlbSkgPiAtMSkge1xuICAgICAgICAgICAgLy8gRm9yY2Ugc3luY2hyb25vdXMgZGF0YSByZXF1ZXN0IGZvciBleHBhbmRlZCBpdGVtIHN1Yi1jYWNoZVxuICAgICAgICAgICAgY2FjaGUuZW5zdXJlU3ViQ2FjaGVGb3JTY2FsZWRJbmRleChpdGVtSW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5faGFzRGF0YSA9IHRydWU7XG5cbiAgICAgICAgZGVsZXRlIGNhY2hlLnBlbmRpbmdSZXF1ZXN0c1twYWdlXTtcblxuICAgICAgICB0aGlzLl9zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgdGhpcy5fY2FjaGUudXBkYXRlU2l6ZSgpO1xuICAgICAgICB0aGlzLl9lZmZlY3RpdmVTaXplID0gdGhpcy5fY2FjaGUuZWZmZWN0aXZlU2l6ZTtcblxuICAgICAgICBBcnJheS5mcm9tKHRoaXMuJC5pdGVtcy5jaGlsZHJlbilcbiAgICAgICAgICAuZmlsdGVyKHJvdyA9PiAhcm93LmhpZGRlbilcbiAgICAgICAgICAuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FjaGVkSXRlbSA9IHRoaXMuX2NhY2hlLmdldEl0ZW1Gb3JJbmRleChyb3cuaW5kZXgpO1xuICAgICAgICAgICAgaWYgKGNhY2hlZEl0ZW0pIHtcbiAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdsb2FkaW5nJywgZmFsc2UsIHJvdyk7XG4gICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW0ocm93LCBjYWNoZWRJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9pbmNyZWFzZVBvb2xJZk5lZWRlZCgwKTtcblxuICAgICAgICB0aGlzLl9faXRlbXNSZWNlaXZlZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX2dldFBhZ2VGb3JJbmRleChpbmRleCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKGluZGV4IC8gdGhpcy5wYWdlU2l6ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXJzIHRoZSBjYWNoZWQgcGFnZXMgYW5kIHJlbG9hZHMgZGF0YSBmcm9tIGRhdGFwcm92aWRlciB3aGVuIG5lZWRlZC5cbiAgICovXG4gIGNsZWFyQ2FjaGUoKSB7XG4gICAgdGhpcy5fY2FjaGUgPSBuZXcgSXRlbUNhY2hlKHRoaXMpO1xuICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICBBcnJheS5mcm9tKHJvdy5jaGlsZHJlbikuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgLy8gRm9yY2UgZGF0YSBzeXN0ZW0gdG8gcGljayB1cCBzdWJwcm9wZXJ0eSBjaGFuZ2VzXG4gICAgICAgIGNlbGwuX2luc3RhbmNlICYmIGNlbGwuX2luc3RhbmNlLl9zZXRQZW5kaW5nUHJvcGVydHkoJ2l0ZW0nLCB7fSwgZmFsc2UpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FjaGUuc2l6ZSA9IHRoaXMuc2l6ZSB8fCAwO1xuICAgIHRoaXMuX2NhY2hlLnVwZGF0ZVNpemUoKTtcbiAgICB0aGlzLl9oYXNEYXRhID0gZmFsc2U7XG4gICAgdGhpcy5fYXNzaWduTW9kZWxzKCk7XG5cbiAgICBpZiAoIXRoaXMuX2VmZmVjdGl2ZVNpemUpIHtcbiAgICAgIHRoaXMuX2xvYWRQYWdlKDAsIHRoaXMuX2NhY2hlKTtcbiAgICB9XG4gIH1cblxuICBfZmx1c2hJdGVtc0RlYm91bmNlcigpIHtcbiAgICBpZiAodGhpcy5fZGVib3VuY2VyTG9hZCkge1xuICAgICAgdGhpcy5fZGVib3VuY2VyTG9hZC5mbHVzaCgpO1xuICAgIH1cbiAgfVxuXG4gIF9wYWdlU2l6ZUNoYW5nZWQocGFnZVNpemUsIG9sZFBhZ2VTaXplKSB7XG4gICAgaWYgKG9sZFBhZ2VTaXplICE9PSB1bmRlZmluZWQgJiYgcGFnZVNpemUgIT09IG9sZFBhZ2VTaXplKSB7XG4gICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcbiAgICB9XG4gIH1cblxuICBfY2hlY2tTaXplKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IHVuZGVmaW5lZCAmJiB0aGlzLl9lZmZlY3RpdmVTaXplID09PSAwKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdUaGUgPHZhYWRpbi1ncmlkPiBuZWVkcyB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zJyArXG4gICAgICAgICcgaW4gb3JkZXIgdG8gZGlzcGxheSByb3dzLiBTZXQgdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcycgK1xuICAgICAgICAnIHRvIHRoZSBgc2l6ZWAgcHJvcGVydHksIG9yIHByb3ZpZGUgdGhlIHRvdGFsIG51bWJlciBvZiBpdGVtcycgK1xuICAgICAgICAnIGluIHRoZSBzZWNvbmQgYXJndW1lbnQgb2YgdGhlIGBkYXRhUHJvdmlkZXJg4oCZcyBgY2FsbGJhY2tgIGNhbGwuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBfZGF0YVByb3ZpZGVyQ2hhbmdlZChkYXRhUHJvdmlkZXIsIG9sZERhdGFQcm92aWRlcikge1xuICAgIGlmIChvbGREYXRhUHJvdmlkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGFQcm92aWRlciAmJiB0aGlzLml0ZW1zICYmIHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAvLyBGaXhlcyBwb3NzaWJseSBpbnZhbGlkIGNhY2hlZCBsYXN0VmlzaWJsZUluZGV4IHZhbHVlIGluIDxpcm9uLWxpc3Q+XG4gICAgICB0aGlzLl9zY3JvbGxUb0luZGV4KHRoaXMuX2ZpcnN0VmlzaWJsZUluZGV4KTtcbiAgICB9XG5cbiAgICB0aGlzLl9lbnN1cmVGaXJzdFBhZ2VMb2FkZWQoKTtcblxuICAgIHRoaXMuX2RlYm91bmNlckNoZWNrU2l6ZSA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgIHRoaXMuX2RlYm91bmNlckNoZWNrU2l6ZSxcbiAgICAgIHRpbWVPdXQuYWZ0ZXIoMjAwMCksXG4gICAgICB0aGlzLl9jaGVja1NpemUuYmluZCh0aGlzKSk7XG5cbiAgICB0aGlzLl9zY3JvbGxIYW5kbGVyKCk7XG4gIH1cblxuICBfZW5zdXJlRmlyc3RQYWdlTG9hZGVkKCkge1xuICAgIGlmICghdGhpcy5faGFzRGF0YSkge1xuICAgICAgLy8gbG9hZCBkYXRhIGJlZm9yZSBhZGRpbmcgcm93cyB0byBtYWtlIHN1cmUgdGhleSBoYXZlIGNvbnRlbnQgd2hlblxuICAgICAgLy8gcmVuZGVyZWQgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICAgICAgdGhpcy5fbG9hZFBhZ2UoMCwgdGhpcy5fY2FjaGUsICgpID0+IHtcbiAgICAgICAgY29uc3QgaGFkRGF0YSA9IHRoaXMuX2hhc0RhdGE7XG4gICAgICAgIHRoaXMuX2hhc0RhdGEgPSB0cnVlO1xuICAgICAgICBpZiAoIWhhZERhdGEpIHtcbiAgICAgICAgICB0aGlzLm5vdGlmeVJlc2l6ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfaXRlbXNFcXVhbChpdGVtMSwgaXRlbTIpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJdGVtSWQoaXRlbTEpID09PSB0aGlzLmdldEl0ZW1JZChpdGVtMik7XG4gIH1cblxuICBfZ2V0SXRlbUluZGV4SW5BcnJheShpdGVtLCBhcnJheSkge1xuICAgIGxldCByZXN1bHQgPSAtMTtcbiAgICBhcnJheS5mb3JFYWNoKChpLCBpZHgpID0+IHtcbiAgICAgIGlmICh0aGlzLl9pdGVtc0VxdWFsKGksIGl0ZW0pKSB7XG4gICAgICAgIHJlc3VsdCA9IGlkeDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5pbXBvcnQgeyBGbGF0dGVuZWROb2Rlc09ic2VydmVyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZmxhdHRlbmVkLW5vZGVzLW9ic2VydmVyLmpzJztcblxuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuaW1wb3J0IHsgdGltZU91dCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2FzeW5jLmpzJztcbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG4vKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqL1xuZXhwb3J0IGNvbnN0IER5bmFtaWNDb2x1bW5zTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIER5bmFtaWNDb2x1bW5zTWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICByZWFkeSgpIHtcbiAgICBzdXBlci5yZWFkeSgpO1xuICAgIHRoaXMuX2FkZE5vZGVPYnNlcnZlcigpO1xuICB9XG5cbiAgX2hhc0NvbHVtbkdyb3Vwcyhjb2x1bW5zKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoY29sdW1uc1tpXS5sb2NhbE5hbWUgPT09ICd2YWFkaW4tZ3JpZC1jb2x1bW4tZ3JvdXAnKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIF9nZXRDaGlsZENvbHVtbnMoZWwpIHtcbiAgICByZXR1cm4gRmxhdHRlbmVkTm9kZXNPYnNlcnZlci5nZXRGbGF0dGVuZWROb2RlcyhlbCkuZmlsdGVyKHRoaXMuX2lzQ29sdW1uRWxlbWVudCk7XG4gIH1cblxuICBfZmxhdHRlbkNvbHVtbkdyb3Vwcyhjb2x1bW5zKSB7XG4gICAgcmV0dXJuIGNvbHVtbnMubWFwKGNvbCA9PiB7XG4gICAgICBpZiAoY29sLmxvY2FsTmFtZSA9PT0gJ3ZhYWRpbi1ncmlkLWNvbHVtbi1ncm91cCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENoaWxkQ29sdW1ucyhjb2wpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtjb2xdO1xuICAgICAgfVxuICAgIH0pLnJlZHVjZSgocHJldiwgY3VycikgPT4ge1xuICAgICAgcmV0dXJuIHByZXYuY29uY2F0KGN1cnIpO1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIF9nZXRDb2x1bW5UcmVlKCkge1xuICAgIHZhciByb290Q29sdW1ucyA9IEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIuZ2V0RmxhdHRlbmVkTm9kZXModGhpcykuZmlsdGVyKHRoaXMuX2lzQ29sdW1uRWxlbWVudCk7XG4gICAgdmFyIF9jb2x1bW5UcmVlID0gW107XG5cbiAgICBmb3IgKHZhciBjID0gcm9vdENvbHVtbnM7IDspIHtcbiAgICAgIF9jb2x1bW5UcmVlLnB1c2goYyk7XG4gICAgICBpZiAoIXRoaXMuX2hhc0NvbHVtbkdyb3VwcyhjKSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGMgPSB0aGlzLl9mbGF0dGVuQ29sdW1uR3JvdXBzKGMpO1xuICAgIH1cblxuICAgIHJldHVybiBfY29sdW1uVHJlZTtcbiAgfVxuXG4gIF91cGRhdGVDb2x1bW5UcmVlKCkge1xuICAgIHZhciBjb2x1bW5UcmVlID0gdGhpcy5fZ2V0Q29sdW1uVHJlZSgpO1xuICAgIGlmICghdGhpcy5fYXJyYXlFcXVhbHMoY29sdW1uVHJlZSwgdGhpcy5fY29sdW1uVHJlZSkpIHtcbiAgICAgIHRoaXMuX2NvbHVtblRyZWUgPSBjb2x1bW5UcmVlO1xuICAgIH1cbiAgfVxuXG4gIF9hZGROb2RlT2JzZXJ2ZXIoKSB7XG4gICAgdGhpcy5fb2JzZXJ2ZXIgPSBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcih0aGlzLCBpbmZvID0+IHtcblxuICAgICAgY29uc3Qgcm93RGV0YWlsc1RlbXBsYXRlID0gaW5mby5hZGRlZE5vZGVzLmZpbHRlcihuID0+IG4ubG9jYWxOYW1lID09PSAndGVtcGxhdGUnICYmIG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3ctZGV0YWlscycpKVswXTtcbiAgICAgIGlmIChyb3dEZXRhaWxzVGVtcGxhdGUgJiYgdGhpcy5fcm93RGV0YWlsc1RlbXBsYXRlICE9PSByb3dEZXRhaWxzVGVtcGxhdGUpIHtcbiAgICAgICAgdGhpcy5fcm93RGV0YWlsc1RlbXBsYXRlID0gcm93RGV0YWlsc1RlbXBsYXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5mby5hZGRlZE5vZGVzLmZpbHRlcih0aGlzLl9pc0NvbHVtbkVsZW1lbnQpLmxlbmd0aCA+IDAgfHxcbiAgICAgICAgaW5mby5yZW1vdmVkTm9kZXMuZmlsdGVyKHRoaXMuX2lzQ29sdW1uRWxlbWVudCkubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLl91cGRhdGVDb2x1bW5UcmVlKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2RlYm91bmNlckNoZWNrSW1wb3J0cyA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgICAgdGhpcy5fZGVib3VuY2VyQ2hlY2tJbXBvcnRzLFxuICAgICAgICB0aW1lT3V0LmFmdGVyKDIwMDApLFxuICAgICAgICB0aGlzLl9jaGVja0ltcG9ydHMuYmluZCh0aGlzKSk7XG5cbiAgICAgIHRoaXMuX2Vuc3VyZUZpcnN0UGFnZUxvYWRlZCgpO1xuICAgIH0pO1xuICB9XG5cbiAgX2FycmF5RXF1YWxzKGFycjEsIGFycjIpIHtcbiAgICBpZiAoIWFycjEgfHwgIWFycjIgfHwgYXJyMS5sZW5ndGggIT0gYXJyMi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycjEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIG5lc3RlZCBhcnJheXNcbiAgICAgIGlmIChhcnIxW2ldIGluc3RhbmNlb2YgQXJyYXkgJiYgYXJyMltpXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIC8vIHJlY3Vyc2UgaW50byB0aGUgbmVzdGVkIGFycmF5c1xuICAgICAgICBpZiAoIXRoaXMuX2FycmF5RXF1YWxzKGFycjFbaV0sIGFycjJbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFycjFbaV0gIT0gYXJyMltpXSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgX2NoZWNrSW1wb3J0cygpIHtcbiAgICBbXG4gICAgICAndmFhZGluLWdyaWQtY29sdW1uLWdyb3VwJyxcbiAgICAgICd2YWFkaW4tZ3JpZC1maWx0ZXInLFxuICAgICAgJ3ZhYWRpbi1ncmlkLWZpbHRlci1jb2x1bW4nLFxuICAgICAgJ3ZhYWRpbi1ncmlkLXRyZWUtdG9nZ2xlJyxcbiAgICAgICd2YWFkaW4tZ3JpZC1zZWxlY3Rpb24tY29sdW1uJyxcbiAgICAgICd2YWFkaW4tZ3JpZC1zb3J0LWNvbHVtbicsXG4gICAgICAndmFhZGluLWdyaWQtc29ydGVyJ1xuICAgIF0uZm9yRWFjaChlbGVtZW50TmFtZSA9PiB7XG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMucXVlcnlTZWxlY3RvcihlbGVtZW50TmFtZSk7XG4gICAgICBpZiAoZWxlbWVudCAmJiAhKGVsZW1lbnQgaW5zdGFuY2VvZiBQb2x5bWVyRWxlbWVudCkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBNYWtlIHN1cmUgeW91IGhhdmUgaW1wb3J0ZWQgdGhlIHJlcXVpcmVkIG1vZHVsZSBmb3IgPCR7ZWxlbWVudE5hbWV9PiBlbGVtZW50LmApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3VwZGF0ZUZpcnN0QW5kTGFzdENvbHVtbigpIHtcbiAgICBBcnJheS5mcm9tKHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKCd0cicpKS5mb3JFYWNoKHJvdyA9PiB0aGlzLl91cGRhdGVGaXJzdEFuZExhc3RDb2x1bW5Gb3JSb3cocm93KSk7XG4gIH1cblxuICBfdXBkYXRlRmlyc3RBbmRMYXN0Q29sdW1uRm9yUm93KHJvdykge1xuICAgIEFycmF5LmZyb20ocm93LnF1ZXJ5U2VsZWN0b3JBbGwoJ1twYXJ0fj1cImNlbGxcIl06bm90KFtwYXJ0fj1cImRldGFpbHMtY2VsbFwiXSknKSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIHJldHVybiBhLl9jb2x1bW4uX29yZGVyIC0gYi5fY29sdW1uLl9vcmRlcjtcbiAgICAgIH0pLmZvckVhY2goKGNlbGwsIGNlbGxJbmRleCwgY2hpbGRyZW4pID0+IHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdmaXJzdC1jb2x1bW4nLCBjZWxsSW5kZXggPT09IDAsIGNlbGwpO1xuICAgICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ2xhc3QtY29sdW1uJywgY2VsbEluZGV4ID09PSBjaGlsZHJlbi5sZW5ndGggLSAxLCBjZWxsKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgX2lzQ29sdW1uRWxlbWVudChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFICYmIC9cXGJjb2x1bW5cXGIvLnRlc3Qobm9kZS5sb2NhbE5hbWUpO1xuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE4IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBFdmVudENvbnRleHRNaXhpbiA9IHN1cGVyQ2xhc3MgPT4gY2xhc3MgRXZlbnRDb250ZXh0TWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBjb250ZXh0IGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCB0YXJnZXQ6XG4gICAqIC0gYGl0ZW1gOiB0aGUgZGF0YSBvYmplY3QgY29ycmVzcG9uZGluZyB0byB0aGUgdGFyZ2V0ZWQgcm93IChub3Qgc3BlY2lmaWVkIHdoZW4gdGFyZ2V0aW5nIGhlYWRlciBvciBmb290ZXIpXG4gICAqIC0gYGNvbHVtbmA6IHRoZSBjb2x1bW4gZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIHRoZSB0YXJnZXRlZCBjZWxsIChub3Qgc3BlY2lmaWVkIHdoZW4gdGFyZ2V0aW5nIHJvdyBkZXRhaWxzKVxuICAgKiAtIGBzZWN0aW9uYDogd2hldGhlciB0aGUgZXZlbnQgdGFyZ2V0ZWQgdGhlIGJvZHksIGhlYWRlciwgZm9vdGVyIG9yIGRldGFpbHMgb2YgdGhlIGdyaWRcbiAgICpcbiAgICogVGhlc2UgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBpbmNsdWRlZCB3aGVuIGBpdGVtYCBpcyBzcGVjaWZpZWQ6XG4gICAqIC0gYGluZGV4YDogdGhlIGluZGV4IG9mIHRoZSBpdGVtXG4gICAqIC0gYHNlbGVjdGVkYDogdGhlIHNlbGVjdGVkIHN0YXRlIG9mIHRoZSBpdGVtXG4gICAqIC0gYGRldGFpbHNPcGVuZWRgOiB3aGV0aGVyIHRoZSByb3cgZGV0YWlscyBhcmUgb3BlbiBmb3IgdGhlIGl0ZW1cbiAgICogLSBgZXhwYW5kZWRgOiB0aGUgZXhwYW5kZWQgc3RhdGUgb2YgdGhlIHRyZWUgdG9nZ2xlXG4gICAqIC0gYGxldmVsYDogdGhlIHRyZWUgaGllcmFyY2h5IGxldmVsXG4gICAqXG4gICAqIFRoZSByZXR1cm5lZCBvYmplY3QgaXMgcG9wdWxhdGVkIG9ubHkgd2hlbiBhIGdyaWQgY2VsbCwgaGVhZGVyLCBmb290ZXIgb3Igcm93IGRldGFpbHMgaXMgZm91bmQgaW4gYGV2ZW50LmNvbXBvc2VkUGF0aCgpYC5cbiAgICogVGhpcyBtZWFucyBtb3N0bHkgbW91c2UgYW5kIGtleWJvYXJkIGV2ZW50cy4gSWYgc3VjaCBhIGdyaWQgcGFydCBpcyBub3QgZm91bmQgaW4gdGhlIHBhdGgsIGFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZC5cbiAgICogVGhpcyBtYXkgYmUgdGhlIGNhc2UgZWcuIGlmIHRoZSBldmVudCBpcyBmaXJlZCBvbiB0aGUgYDx2YWFkaW4tZ3JpZD5gIGVsZW1lbnQgYW5kIG5vdCBhbnkgZGVlcGVyIGluIHRoZSBET00sIG9yIGlmXG4gICAqIHRoZSBldmVudCB0YXJnZXRzIHRoZSBlbXB0eSBwYXJ0IG9mIHRoZSBncmlkIGJvZHkuXG4gICAqL1xuICBnZXRFdmVudENvbnRleHQoZXZlbnQpIHtcblxuICAgIGNvbnN0IGNvbnRleHQgPSB7fTtcblxuICAgIGNvbnN0IHBhdGggPSBldmVudC5jb21wb3NlZFBhdGgoKTtcbiAgICBjb25zdCBjZWxsID0gcGF0aFtwYXRoLmluZGV4T2YodGhpcy4kLnRhYmxlKSAtIDNdO1xuXG4gICAgaWYgKCFjZWxsKSB7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG5cbiAgICBjb250ZXh0LnNlY3Rpb24gPSBbJ2JvZHknLCAnaGVhZGVyJywgJ2Zvb3RlcicsICdkZXRhaWxzJ11cbiAgICAgIC5maWx0ZXIoc2VjdGlvbiA9PiBjZWxsLmdldEF0dHJpYnV0ZSgncGFydCcpLmluZGV4T2Yoc2VjdGlvbikgPiAtMSlbMF07XG5cbiAgICBpZiAoY2VsbC5fY29sdW1uKSB7XG4gICAgICBjb250ZXh0LmNvbHVtbiA9IGNlbGwuX2NvbHVtbjtcbiAgICB9XG5cbiAgICBpZiAoY29udGV4dC5zZWN0aW9uID09PSAnYm9keScgfHwgY29udGV4dC5zZWN0aW9uID09PSAnZGV0YWlscycpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oY29udGV4dCwgdGhpcy5fX2dldFJvd01vZGVsKGNlbGwucGFyZW50RWxlbWVudCkpO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0O1xuICB9XG5cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG4vKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqL1xuZXhwb3J0IGNvbnN0IEZpbHRlck1peGluID0gc3VwZXJDbGFzcyA9PiBjbGFzcyBGaWx0ZXJNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2ZpbHRlcnM6IHtcbiAgICAgICAgdHlwZTogQXJyYXksXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgcmVhZHkoKSB7XG4gICAgc3VwZXIucmVhZHkoKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpbHRlci1jaGFuZ2VkJywgdGhpcy5fZmlsdGVyQ2hhbmdlZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIF9maWx0ZXJDaGFuZ2VkKGUpIHtcbiAgICBpZiAodGhpcy5fZmlsdGVycy5pbmRleE9mKGUudGFyZ2V0KSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuX2ZpbHRlcnMucHVzaChlLnRhcmdldCk7XG4gICAgfVxuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGlmICh0aGlzLmRhdGFQcm92aWRlcikge1xuICAgICAgdGhpcy5jbGVhckNhY2hlKCk7XG4gICAgfVxuICB9XG5cbiAgX21hcEZpbHRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ZpbHRlcnMubWFwKGZpbHRlciA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRoOiBmaWx0ZXIucGF0aCxcbiAgICAgICAgdmFsdWU6IGZpbHRlci52YWx1ZVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyB0ZW1wbGF0aXplIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvdGVtcGxhdGl6ZS5qcyc7XG4vKipcbiAqIGB2YWFkaW4tZ3JpZC10ZW1wbGF0aXplcmAgaXMgYSBoZWxwZXIgZWxlbWVudCBmb3IgdGhlIGB2YWFkaW4tZ3JpZGAgdGhhdCBpcyBwcmVwYXJpbmcgYW5kXG4gKiBzdGFtcGluZyBpbnN0YW5jZXMgb2YgY2VsbHMgYW5kIGNvbHVtbnMgdGVtcGxhdGVzXG4gKlxuICogQG1lbWJlcm9mIFZhYWRpblxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgR3JpZFRlbXBsYXRpemVyIGV4dGVuZHMgKGNsYXNzIGV4dGVuZHMgUG9seW1lckVsZW1lbnQge30pIHtcbiAgc3RhdGljIGdldCBpcygpIHtcbiAgICByZXR1cm4gJ3ZhYWRpbi1ncmlkLXRlbXBsYXRpemVyJztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGF0YUhvc3Q6IE9iamVjdCxcblxuICAgICAgdGVtcGxhdGU6IE9iamVjdCxcblxuICAgICAgX3RlbXBsYXRlSW5zdGFuY2VzOiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfcGFyZW50UGF0aFZhbHVlczoge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfZ3JpZDogT2JqZWN0XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZXJzKCkge1xuICAgIHJldHVybiBbXG4gICAgICAnX3RlbXBsYXRlSW5zdGFuY2VzQ2hhbmdlZChfdGVtcGxhdGVJbnN0YW5jZXMuKiwgX3BhcmVudFBhdGhWYWx1ZXMuKiknXG4gICAgXTtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9pbnN0YW5jZVByb3BzID0ge1xuICAgICAgZGV0YWlsc09wZW5lZDogdHJ1ZSxcbiAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgaXRlbTogdHJ1ZSxcbiAgICAgIHNlbGVjdGVkOiB0cnVlLFxuICAgICAgZXhwYW5kZWQ6IHRydWUsXG4gICAgICBsZXZlbDogdHJ1ZVxuICAgIH07XG4gIH1cblxuICBjcmVhdGVJbnN0YW5jZSgpIHtcbiAgICB0aGlzLl9lbnN1cmVUZW1wbGF0aXplZCgpO1xuICAgIGNvbnN0IGluc3RhbmNlID0gbmV3IHRoaXMuX1RlbXBsYXRlQ2xhc3Moe30pO1xuICAgIHRoaXMuYWRkSW5zdGFuY2UoaW5zdGFuY2UpO1xuXG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9XG5cbiAgYWRkSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICBpZiAodGhpcy5fdGVtcGxhdGVJbnN0YW5jZXMuaW5kZXhPZihpbnN0YW5jZSkgPT09IC0xKSB7XG4gICAgICB0aGlzLl90ZW1wbGF0ZUluc3RhbmNlcy5wdXNoKGluc3RhbmNlKTtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm5vdGlmeVBhdGgoJ190ZW1wbGF0ZUluc3RhbmNlcy4qJywgdGhpcy5fdGVtcGxhdGVJbnN0YW5jZXMpKTtcbiAgICB9XG4gIH1cblxuICByZW1vdmVJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fdGVtcGxhdGVJbnN0YW5jZXMuaW5kZXhPZihpbnN0YW5jZSk7XG4gICAgdGhpcy5zcGxpY2UoJ190ZW1wbGF0ZUluc3RhbmNlcycsIGluZGV4LCAxKTtcbiAgfVxuXG4gIF9lbnN1cmVUZW1wbGF0aXplZCgpIHtcbiAgICBpZiAoIXRoaXMuX1RlbXBsYXRlQ2xhc3MpIHtcbiAgICAgIHRoaXMuX1RlbXBsYXRlQ2xhc3MgPSB0ZW1wbGF0aXplKHRoaXMudGVtcGxhdGUsIHRoaXMsIHtcbiAgICAgICAgaW5zdGFuY2VQcm9wczogdGhpcy5faW5zdGFuY2VQcm9wcyxcbiAgICAgICAgcGFyZW50TW9kZWw6IHRydWUsXG5cbiAgICAgICAgZm9yd2FyZEhvc3RQcm9wOiBmdW5jdGlvbihwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgIHRoaXMuX2ZvcndhcmRQYXJlbnRQcm9wKHByb3AsIHZhbHVlKTtcblxuICAgICAgICAgIGlmICh0aGlzLl90ZW1wbGF0ZUluc3RhbmNlcykge1xuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVJbnN0YW5jZXMuZm9yRWFjaChpbnN0ID0+IGluc3Qubm90aWZ5UGF0aChwcm9wLCB2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBub3RpZnlJbnN0YW5jZVByb3A6IGZ1bmN0aW9uKGluc3QsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHByb3AgPT09ICdpbmRleCcgfHwgcHJvcCA9PT0gJ2l0ZW0nKSB7XG4gICAgICAgICAgICAvLyBXZSBkb27igJl0IG5lZWQgYSBjaGFuZ2Ugbm90aWZpY2F0aW9uIGZvciB0aGVzZS5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBvcmlnaW5hbFByb3AgPSBgX18ke3Byb3B9X19gO1xuXG4gICAgICAgICAgLy8gTm90aWZ5IGZvciBvbmx5IHVzZXItYWN0aW9uIGNoYW5nZXMsIG5vdCBmb3Igc2Nyb2xsaW5nIHVwZGF0ZXMuIEUuIGcuLFxuICAgICAgICAgIC8vIGlmIGBkZXRhaWxzT3BlbmVkYCBpcyBkaWZmZXJlbnQgZnJvbSBgX19kZXRhaWxzT3BlbmVkX19gLCB3aGljaCB3YXMgc2V0IGR1cmluZyByZW5kZXIuXG4gICAgICAgICAgaWYgKGluc3Rbb3JpZ2luYWxQcm9wXSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5zdFtvcmlnaW5hbFByb3BdID0gdmFsdWU7XG5cbiAgICAgICAgICBjb25zdCByb3cgPSBBcnJheS5mcm9tKHRoaXMuX2dyaWQuJC5pdGVtcy5jaGlsZHJlbikuZmlsdGVyKHJvdyA9PiB0aGlzLl9ncmlkLl9pdGVtc0VxdWFsKHJvdy5faXRlbSwgaW5zdC5pdGVtKSlbMF07XG4gICAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgICAgQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICAgICAgICAgIGlmIChjZWxsLl9pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGNlbGwuX2luc3RhbmNlW29yaWdpbmFsUHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBjZWxsLl9pbnN0YW5jZS5ub3RpZnlQYXRoKHByb3AsIHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXRlbVByZWZpeCA9ICdpdGVtLic7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fZ3JpZC5pdGVtcykgJiYgcHJvcC5pbmRleE9mKGl0ZW1QcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtc0luZGV4ID0gdGhpcy5fZ3JpZC5pdGVtcy5pbmRleE9mKGluc3QuaXRlbSk7XG4gICAgICAgICAgICBjb25zdCBwYXRoID0gcHJvcC5zbGljZShpdGVtUHJlZml4Lmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLl9ncmlkLm5vdGlmeVBhdGgoYGl0ZW1zLiR7aXRlbXNJbmRleH0uJHtwYXRofWAsIHZhbHVlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBncmlkQ2FsbGJhY2sgPSBgXyR7cHJvcH1JbnN0YW5jZUNoYW5nZWRDYWxsYmFja2A7XG4gICAgICAgICAgaWYgKHRoaXMuX2dyaWQgJiYgdGhpcy5fZ3JpZFtncmlkQ2FsbGJhY2tdKSB7XG4gICAgICAgICAgICB0aGlzLl9ncmlkW2dyaWRDYWxsYmFja10oaW5zdCwgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBfZm9yd2FyZFBhcmVudFByb3AocHJvcCwgdmFsdWUpIHtcbiAgICB0aGlzLl9wYXJlbnRQYXRoVmFsdWVzW3Byb3BdID0gdmFsdWU7XG4gICAgdGhpcy5fdGVtcGxhdGVJbnN0YW5jZXMuZm9yRWFjaChpbnN0ID0+IGluc3Qubm90aWZ5UGF0aChwcm9wLCB2YWx1ZSkpO1xuICB9XG5cbiAgX3RlbXBsYXRlSW5zdGFuY2VzQ2hhbmdlZCh0LCBwKSB7XG4gICAgbGV0IGluZGV4LCBjb3VudDtcbiAgICBpZiAodC5wYXRoID09PSAnX3RlbXBsYXRlSW5zdGFuY2VzJykge1xuICAgICAgLy8gSXRlcmF0ZSBhbGwgaW5zdGFuY2VzXG4gICAgICBpbmRleCA9IDA7XG4gICAgICBjb3VudCA9IHRoaXMuX3RlbXBsYXRlSW5zdGFuY2VzLmxlbmd0aDtcbiAgICB9IGVsc2UgaWYgKHQucGF0aCA9PT0gJ190ZW1wbGF0ZUluc3RhbmNlcy5zcGxpY2VzJykge1xuICAgICAgLy8gSXRlcmF0ZSBvbmx5IG5ldyBpbnN0YW5jZXNcbiAgICAgIGluZGV4ID0gdC52YWx1ZS5pbmRleDtcbiAgICAgIGNvdW50ID0gdC52YWx1ZS5hZGRlZENvdW50O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHRoaXMuX3BhcmVudFBhdGhWYWx1ZXMgfHwge30pLmZvckVhY2goa2V5TmFtZSA9PiB7XG4gICAgICBmb3IgKHZhciBpID0gaW5kZXg7IGkgPCBpbmRleCArIGNvdW50OyBpKyspIHtcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVJbnN0YW5jZXNbaV0uc2V0KGtleU5hbWUsIHRoaXMuX3BhcmVudFBhdGhWYWx1ZXNba2V5TmFtZV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKEdyaWRUZW1wbGF0aXplci5pcywgR3JpZFRlbXBsYXRpemVyKTtcblxuZXhwb3J0IHsgR3JpZFRlbXBsYXRpemVyIGFzIFRlbXBsYXRpemVyIH07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTcgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5pbXBvcnQgeyBUZW1wbGF0aXplciB9IGZyb20gJy4vdmFhZGluLWdyaWQtdGVtcGxhdGl6ZXIuanMnO1xuXG5pbXBvcnQgeyBmbHVzaCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2ZsdXNoLmpzJztcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBSb3dEZXRhaWxzTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFJvd0RldGFpbHNNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogQW4gYXJyYXkgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGl0ZW1zIHdpdGggb3BlbiByb3cgZGV0YWlscy5cbiAgICAgICAqL1xuICAgICAgZGV0YWlsc09wZW5lZEl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfcm93RGV0YWlsc1RlbXBsYXRlOiBPYmplY3QsXG5cbiAgICAgIC8qKlxuICAgICAgICogQ3VzdG9tIGZ1bmN0aW9uIGZvciByZW5kZXJpbmcgdGhlIGNvbnRlbnQgb2YgdGhlIHJvdyBkZXRhaWxzLlxuICAgICAgICogUmVjZWl2ZXMgdGhyZWUgYXJndW1lbnRzOlxuICAgICAgICpcbiAgICAgICAqIC0gYHJvb3RgIFRoZSByb3cgZGV0YWlscyBjb250ZW50IERPTSBlbGVtZW50LiBBcHBlbmQgeW91ciBjb250ZW50IHRvIGl0LlxuICAgICAgICogLSBgZ3JpZGAgVGhlIGA8dmFhZGluLWdyaWQ+YCBlbGVtZW50LlxuICAgICAgICogLSBgcm93RGF0YWAgVGhlIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHJlbGF0ZWQgd2l0aFxuICAgICAgICogICB0aGUgcmVuZGVyZWQgaXRlbSwgY29udGFpbnM6XG4gICAgICAgKiAgIC0gYHJvd0RhdGEuaW5kZXhgIFRoZSBpbmRleCBvZiB0aGUgaXRlbS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5pdGVtYCBUaGUgaXRlbS5cbiAgICAgICAqL1xuICAgICAgcm93RGV0YWlsc1JlbmRlcmVyOiBGdW5jdGlvbixcblxuICAgICAgX2RldGFpbHNDZWxsczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdfZGV0YWlsc09wZW5lZEl0ZW1zQ2hhbmdlZChkZXRhaWxzT3BlbmVkSXRlbXMuKiwgX3Jvd0RldGFpbHNUZW1wbGF0ZSwgcm93RGV0YWlsc1JlbmRlcmVyKScsXG4gICAgICAnX3Jvd0RldGFpbHNUZW1wbGF0ZU9yUmVuZGVyZXJDaGFuZ2VkKF9yb3dEZXRhaWxzVGVtcGxhdGUsIHJvd0RldGFpbHNSZW5kZXJlciknXG4gICAgXTtcbiAgfVxuXG4gIF9yb3dEZXRhaWxzVGVtcGxhdGVPclJlbmRlcmVyQ2hhbmdlZChyb3dEZXRhaWxzVGVtcGxhdGUsIHJvd0RldGFpbHNSZW5kZXJlcikge1xuICAgIGlmIChyb3dEZXRhaWxzVGVtcGxhdGUgJiYgcm93RGV0YWlsc1JlbmRlcmVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBzaG91bGQgb25seSB1c2UgZWl0aGVyIGEgcmVuZGVyZXIgb3IgYSB0ZW1wbGF0ZSBmb3Igcm93IGRldGFpbHMnKTtcbiAgICB9XG4gICAgaWYgKHJvd0RldGFpbHNUZW1wbGF0ZSB8fCByb3dEZXRhaWxzUmVuZGVyZXIpIHtcbiAgICAgIGlmIChyb3dEZXRhaWxzVGVtcGxhdGUgJiYgIXJvd0RldGFpbHNUZW1wbGF0ZS50ZW1wbGF0aXplcikge1xuICAgICAgICB2YXIgdGVtcGxhdGl6ZXIgPSBuZXcgVGVtcGxhdGl6ZXIoKTtcbiAgICAgICAgdGVtcGxhdGl6ZXIuX2dyaWQgPSB0aGlzO1xuICAgICAgICB0ZW1wbGF0aXplci5kYXRhSG9zdCA9IHRoaXMuZGF0YUhvc3Q7XG4gICAgICAgIHRlbXBsYXRpemVyLnRlbXBsYXRlID0gcm93RGV0YWlsc1RlbXBsYXRlO1xuICAgICAgICByb3dEZXRhaWxzVGVtcGxhdGUudGVtcGxhdGl6ZXIgPSB0ZW1wbGF0aXplcjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2NvbHVtblRyZWUpIHtcbiAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHJvd3MgaWYgdGhlIGNvbHVtbiB0cmVlIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWRcbiAgICAgICAgQXJyYXkuZnJvbSh0aGlzLiQuaXRlbXMuY2hpbGRyZW4pLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICBpZiAoIXJvdy5xdWVyeVNlbGVjdG9yKCdbcGFydH49ZGV0YWlscy1jZWxsXScpKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVSb3cocm93LCB0aGlzLl9jb2x1bW5UcmVlW3RoaXMuX2NvbHVtblRyZWUubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgdGhpcy5fYTExeVVwZGF0ZVJvd0RldGFpbHNPcGVuZWQocm93LCBmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIENsZWFyIGFueSBvbGQgdGVtcGxhdGUgaW5zdGFuY2VzXG4gICAgICAgICAgZGVsZXRlIHJvdy5xdWVyeVNlbGVjdG9yKCdbcGFydH49ZGV0YWlscy1jZWxsXScpLl9pbnN0YW5jZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmRldGFpbHNPcGVuZWRJdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgQXJyYXkuZnJvbSh0aGlzLiQuaXRlbXMuY2hpbGRyZW4pLmZvckVhY2godGhpcy5fdG9nZ2xlRGV0YWlsc0NlbGwsIHRoaXMpO1xuICAgICAgICB0aGlzLl91cGRhdGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfZGV0YWlsc09wZW5lZEl0ZW1zQ2hhbmdlZChjaGFuZ2VSZWNvcmQsIHJvd0RldGFpbHNUZW1wbGF0ZSwgcm93RGV0YWlsc1JlbmRlcmVyKSB7XG4gICAgaWYgKGNoYW5nZVJlY29yZC5wYXRoID09PSAnZGV0YWlsc09wZW5lZEl0ZW1zLmxlbmd0aCcgfHwgIWNoYW5nZVJlY29yZC52YWx1ZSkge1xuICAgICAgLy8gTGV04oCZcyBhdm9pZCBkdXBsaWNhdGUgd29yayBvZiBib3RoIOKAnC5zcGxpY2Vz4oCdIGFuZCDigJwubGVuZ3Ro4oCdIHVwZGF0ZXMuXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICB0aGlzLl90b2dnbGVEZXRhaWxzQ2VsbChyb3csIHJvdy5faXRlbSk7XG4gICAgICB0aGlzLl9hMTF5VXBkYXRlUm93RGV0YWlsc09wZW5lZChyb3csIHRoaXMuX2lzRGV0YWlsc09wZW5lZChyb3cuX2l0ZW0pKTtcbiAgICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnZGV0YWlscy1vcGVuZWQnLCB0aGlzLl9pc0RldGFpbHNPcGVuZWQocm93Ll9pdGVtKSwgcm93KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jb25maWd1cmVEZXRhaWxzQ2VsbChjZWxsKSB7XG4gICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCAnY2VsbCBkZXRhaWxzLWNlbGwnKTtcbiAgICAvLyBGcmVlemUgdGhlIGRldGFpbHMgY2VsbCwgc28gdGhhdCBpdCBkb2VzIG5vdCBzY3JvbGwgaG9yaXpvbnRhbGx5XG4gICAgLy8gd2l0aCB0aGUgbm9ybWFsIGNlbGxzLiBUaGlzIHdheSBpdCBsb29rcyBsZXNzIHdlaXJkLlxuICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnZnJvemVuJywgdHJ1ZSwgY2VsbCk7XG4gIH1cblxuICBfdG9nZ2xlRGV0YWlsc0NlbGwocm93LCBpdGVtKSB7XG4gICAgY29uc3QgY2VsbCA9IHJvdy5xdWVyeVNlbGVjdG9yKCdbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0nKTtcbiAgICBpZiAoIWNlbGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZGV0YWlsc0hpZGRlbiA9ICF0aGlzLl9pc0RldGFpbHNPcGVuZWQoaXRlbSk7XG4gICAgY29uc3QgaGlkZGVuQ2hhbmdlZCA9ICEhY2VsbC5oaWRkZW4gIT09IGRldGFpbHNIaWRkZW47XG5cbiAgICBpZiAoIWNlbGwuX2luc3RhbmNlICYmICFjZWxsLl9yZW5kZXJlciB8fCBjZWxsLmhpZGRlbiAhPT0gZGV0YWlsc0hpZGRlbikge1xuICAgICAgY2VsbC5oaWRkZW4gPSBkZXRhaWxzSGlkZGVuO1xuICAgICAgaWYgKGRldGFpbHNIaWRkZW4pIHtcbiAgICAgICAgcm93LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdwYWRkaW5nLWJvdHRvbScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucm93RGV0YWlsc1JlbmRlcmVyKSB7XG4gICAgICAgICAgY2VsbC5fcmVuZGVyZXIgPSB0aGlzLnJvd0RldGFpbHNSZW5kZXJlcjtcbiAgICAgICAgICBjZWxsLl9yZW5kZXJlci5jYWxsKHRoaXMsIGNlbGwuX2NvbnRlbnQsIHRoaXMsIHtpbmRleDogcm93LmluZGV4LCBpdGVtOiBpdGVtfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fcm93RGV0YWlsc1RlbXBsYXRlICYmICFjZWxsLl9pbnN0YW5jZSkge1xuICAgICAgICAgIC8vIFN0YW1wIHRoZSB0ZW1wbGF0ZVxuICAgICAgICAgIGNlbGwuX2luc3RhbmNlID0gdGhpcy5fcm93RGV0YWlsc1RlbXBsYXRlLnRlbXBsYXRpemVyLmNyZWF0ZUluc3RhbmNlKCk7XG4gICAgICAgICAgY2VsbC5fY29udGVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICBjZWxsLl9jb250ZW50LmFwcGVuZENoaWxkKGNlbGwuX2luc3RhbmNlLnJvb3QpO1xuICAgICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW0ocm93LCBpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZsdXNoKCk7XG4gICAgICAgIHJvdy5zdHlsZS5zZXRQcm9wZXJ0eSgncGFkZGluZy1ib3R0b20nLCBgJHtjZWxsLm9mZnNldEhlaWdodH1weGApO1xuXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm5vdGlmeVJlc2l6ZSgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhpZGRlbkNoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZU1ldHJpY3MoKTtcbiAgICAgIHRoaXMuX3Bvc2l0aW9uSXRlbXMoKTtcbiAgICB9XG4gIH1cblxuICBfdXBkYXRlRGV0YWlsc0NlbGxIZWlnaHRzKCkge1xuICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLnF1ZXJ5U2VsZWN0b3JBbGwoJ1twYXJ0fj1cImRldGFpbHMtY2VsbFwiXTpub3QoW2hpZGRlbl0pJykpLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBjZWxsLnBhcmVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ3BhZGRpbmctYm90dG9tJywgYCR7Y2VsbC5vZmZzZXRIZWlnaHR9cHhgKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9pc0RldGFpbHNPcGVuZWQoaXRlbSkge1xuICAgIHJldHVybiB0aGlzLmRldGFpbHNPcGVuZWRJdGVtcyAmJiB0aGlzLl9nZXRJdGVtSW5kZXhJbkFycmF5KGl0ZW0sIHRoaXMuZGV0YWlsc09wZW5lZEl0ZW1zKSAhPT0gLTE7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiB0aGUgZGV0YWlscyByb3cgb2YgYSBnaXZlbiBpdGVtLlxuICAgKi9cbiAgb3Blbkl0ZW1EZXRhaWxzKGl0ZW0pIHtcbiAgICBpZiAoIXRoaXMuX2lzRGV0YWlsc09wZW5lZChpdGVtKSkge1xuICAgICAgdGhpcy5wdXNoKCdkZXRhaWxzT3BlbmVkSXRlbXMnLCBpdGVtKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIGRldGFpbHMgcm93IG9mIGEgZ2l2ZW4gaXRlbS5cbiAgICovXG4gIGNsb3NlSXRlbURldGFpbHMoaXRlbSkge1xuICAgIGlmICh0aGlzLl9pc0RldGFpbHNPcGVuZWQoaXRlbSkpIHtcbiAgICAgIHRoaXMuc3BsaWNlKCdkZXRhaWxzT3BlbmVkSXRlbXMnLCB0aGlzLl9nZXRJdGVtSW5kZXhJbkFycmF5KGl0ZW0sIHRoaXMuZGV0YWlsc09wZW5lZEl0ZW1zKSwgMSk7XG4gICAgfVxuICB9XG5cbiAgX2RldGFpbHNPcGVuZWRJbnN0YW5jZUNoYW5nZWRDYWxsYmFjayhpbnN0YW5jZSwgdmFsdWUpIHtcbiAgICBpZiAoc3VwZXIuX2RldGFpbHNPcGVuZWRJbnN0YW5jZUNoYW5nZWRDYWxsYmFjaykge1xuICAgICAgc3VwZXIuX2RldGFpbHNPcGVuZWRJbnN0YW5jZUNoYW5nZWRDYWxsYmFjayhpbnN0YW5jZSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMub3Blbkl0ZW1EZXRhaWxzKGluc3RhbmNlLml0ZW0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsb3NlSXRlbURldGFpbHMoaW5zdGFuY2UuaXRlbSk7XG4gICAgfVxuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuaW1wb3J0IHsgRGVib3VuY2VyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZGVib3VuY2UuanMnO1xuXG5pbXBvcnQgeyB0aW1lT3V0LCBhbmltYXRpb25GcmFtZSwgbWljcm9UYXNrIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMnO1xuXG4vKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqL1xuZXhwb3J0IGNvbnN0IFNjcm9sbE1peGluID0gc3VwZXJDbGFzcyA9PiBjbGFzcyBTY3JvbGxNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXG4gIGdldCBfdGltZW91dHMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIFNDUk9MTF9QRVJJT0Q6IDEwMDAsXG4gICAgICBXSEVFTF9TQ1JPTExJTkc6IDIwMCxcbiAgICAgIFNDUk9MTElORzogMTAwLFxuICAgICAgSUdOT1JFX1dIRUVMOiA1MDBcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG5cbiAgICAgIC8vIENhY2hlZCBhcnJheSBvZiBmcm96ZW4gY2VsbHNcbiAgICAgIF9mcm96ZW5DZWxsczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG5cbiAgICAgIF9zY3JvbGxiYXJXaWR0aDoge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBDcmVhdGUgdGhlIG1lYXN1cmVtZW50IG5vZGVcbiAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgc2Nyb2xsRGl2LnN0eWxlLndpZHRoID0gJzEwMHB4JztcbiAgICAgICAgICBzY3JvbGxEaXYuc3R5bGUuaGVpZ2h0ID0gJzEwMHB4JztcbiAgICAgICAgICBzY3JvbGxEaXYuc3R5bGUub3ZlcmZsb3cgPSAnc2Nyb2xsJztcbiAgICAgICAgICBzY3JvbGxEaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgIHNjcm9sbERpdi5zdHlsZS50b3AgPSAnLTk5OTlweCc7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JvbGxEaXYpO1xuICAgICAgICAgIC8vIEdldCB0aGUgc2Nyb2xsYmFyIHdpZHRoXG4gICAgICAgICAgdmFyIHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuICAgICAgICAgIC8vIERlbGV0ZSB0aGUgRElWXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuICAgICAgICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aDtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX3Jvd1dpdGhGb2N1c2VkRWxlbWVudDogRWxlbWVudCxcblxuICAgICAgX2RlbHRhWUFjYzoge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9XG5cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdfc2Nyb2xsSGVpZ2h0VXBkYXRlZChfZXN0U2Nyb2xsSGVpZ2h0KScsXG4gICAgICAnX3Njcm9sbFZpZXdwb3J0SGVpZ2h0VXBkYXRlZChfdmlld3BvcnRIZWlnaHQpJ1xuICAgIF07XG4gIH1cblxuICAvLyBPdmVycmlkZSAoZnJvbSBpcm9uLXNjcm9sbC10YXJnZXQtYmVoYXZpb3IpIHRvIGF2b2lkIGRvY3VtZW50IHNjcm9sbFxuICBzZXQgX3Njcm9sbFRvcCh0b3ApIHtcbiAgICB0aGlzLiQudGFibGUuc2Nyb2xsVG9wID0gdG9wO1xuICB9XG5cbiAgZ2V0IF9zY3JvbGxUb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMuJC50YWJsZS5zY3JvbGxUb3A7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3Njcm9sbExpbmVIZWlnaHQgPSB0aGlzLl9nZXRTY3JvbGxMaW5lSGVpZ2h0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge051bWJlcnx1bmRlZmluZWR9IC0gVGhlIGJyb3dzZXIncyBkZWZhdWx0IGZvbnQtc2l6ZSBpbiBwaXhlbHNcbiAgICovXG4gIF9nZXRTY3JvbGxMaW5lSGVpZ2h0KCkge1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZWwuc3R5bGUuZm9udFNpemUgPSAnaW5pdGlhbCc7XG4gICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsKTtcbiAgICBjb25zdCBmb250U2l6ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5mb250U2l6ZTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGVsKTtcbiAgICByZXR1cm4gZm9udFNpemUgPyB3aW5kb3cucGFyc2VJbnQoZm9udFNpemUpIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgX3Njcm9sbFZpZXdwb3J0SGVpZ2h0VXBkYXRlZChfdmlld3BvcnRIZWlnaHQpIHtcbiAgICB0aGlzLl9zY3JvbGxQYWdlSGVpZ2h0ID0gX3ZpZXdwb3J0SGVpZ2h0IC0gdGhpcy4kLmhlYWRlci5jbGllbnRIZWlnaHQgLSB0aGlzLiQuZm9vdGVyLmNsaWVudEhlaWdodCAtIHRoaXMuX3Njcm9sbExpbmVIZWlnaHQ7XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICBzdXBlci5yZWFkeSgpO1xuICAgIHRoaXMuc2Nyb2xsVGFyZ2V0ID0gdGhpcy4kLnRhYmxlO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGUgPT4ge1xuICAgICAgdGhpcy5fd2hlZWxTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5fZGVib3VuY2VyV2hlZWxTY3JvbGxpbmcgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICAgIHRoaXMuX2RlYm91bmNlcldoZWVsU2Nyb2xsaW5nLFxuICAgICAgICB0aW1lT3V0LmFmdGVyKHRoaXMuX3RpbWVvdXRzLldIRUVMX1NDUk9MTElORyksXG4gICAgICAgICgpID0+IHRoaXMuX3doZWVsU2Nyb2xsaW5nID0gZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLl9vbldoZWVsKGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy4kLnRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGUgPT4ge1xuICAgICAgaWYgKHRoaXMuJC5vdXRlcnNjcm9sbGVyLm91dGVyU2Nyb2xsaW5nKSB7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICB9XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICB0aGlzLiQuaXRlbXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIChlKSA9PiB7XG4gICAgICBjb25zdCBpdGVtc0luZGV4ID0gZS5jb21wb3NlZFBhdGgoKS5pbmRleE9mKHRoaXMuJC5pdGVtcyk7XG4gICAgICB0aGlzLl9yb3dXaXRoRm9jdXNlZEVsZW1lbnQgPSBlLmNvbXBvc2VkUGF0aCgpW2l0ZW1zSW5kZXggLSAxXTtcbiAgICB9KTtcbiAgICB0aGlzLiQuaXRlbXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCAoKSA9PiB0aGlzLl9yb3dXaXRoRm9jdXNlZEVsZW1lbnQgPSB1bmRlZmluZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIHJvdyBpbmRleCBpbiB0aGUgdmlydHVhbCBsaXN0LiBOb3RlIHRoYXQgdGhlIHJvdyBpbmRleCBpc1xuICAgKiBub3QgYWx3YXlzIHRoZSBzYW1lIGZvciBhbnkgcGFydGljdWxhciBpdGVtLiBGb3IgZXhhbXBsZSwgc29ydGluZy9maWx0ZXJpbmcvZXhwYW5kaW5nXG4gICAqIG9yIGNvbGxhcHNpbmcgaGllcmFyY2hpY2FsIGl0ZW1zIGNhbiBhZmZlY3QgdGhlIHJvdyBpbmRleCByZWxhdGVkIHRvIGFuIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBSb3cgaW5kZXggdG8gc2Nyb2xsIHRvXG4gICAqL1xuICBzY3JvbGxUb0luZGV4KGluZGV4KSB7XG4gICAgdGhpcy5fYWNjZXNzSXJvbkxpc3RBUEkoKCkgPT4gc3VwZXIuc2Nyb2xsVG9JbmRleChpbmRleCkpO1xuICB9XG5cbiAgX29uV2hlZWwoZSkge1xuICAgIGlmIChlLmN0cmxLZXkgfHwgdGhpcy5faGFzU2Nyb2xsZWRBbmNlc3RvcihlLnRhcmdldCwgZS5kZWx0YVgsIGUuZGVsdGFZKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRhYmxlID0gdGhpcy4kLnRhYmxlO1xuXG4gICAgbGV0IGRlbHRhWSA9IGUuZGVsdGFZO1xuICAgIGlmIChlLmRlbHRhTW9kZSA9PT0gV2hlZWxFdmVudC5ET01fREVMVEFfTElORSkge1xuICAgICAgLy8gU2Nyb2xsaW5nIGJ5IFwibGluZXMgb2YgdGV4dFwiIGluc3RlYWQgb2YgcGl4ZWxzXG4gICAgICBkZWx0YVkgKj0gdGhpcy5fc2Nyb2xsTGluZUhlaWdodDtcbiAgICB9IGVsc2UgaWYgKGUuZGVsdGFNb2RlID09PSBXaGVlbEV2ZW50LkRPTV9ERUxUQV9QQUdFKSB7XG4gICAgICAvLyBTY3JvbGxpbmcgYnkgXCJwYWdlc1wiIGluc3RlYWQgb2YgcGl4ZWxzXG4gICAgICBkZWx0YVkgKj0gdGhpcy5fc2Nyb2xsUGFnZUhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fd2hlZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgLy8gU2tpcCBuZXcgd2hlZWwgZXZlbnRzIHdoaWxlIG9uZSBpcyBiZWluZyBwcm9jZXNzZWRcbiAgICAgIHRoaXMuX2RlbHRhWUFjYyArPSBkZWx0YVk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGVsdGFZICs9IHRoaXMuX2RlbHRhWUFjYztcbiAgICB0aGlzLl9kZWx0YVlBY2MgPSAwO1xuXG4gICAgdGhpcy5fd2hlZWxBbmltYXRpb25GcmFtZSA9IHRydWU7XG4gICAgdGhpcy5fZGVib3VuY2VyV2hlZWxBbmltYXRpb25GcmFtZSA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgIHRoaXMuX2RlYm91bmNlcldoZWVsQW5pbWF0aW9uRnJhbWUsXG4gICAgICBhbmltYXRpb25GcmFtZSxcbiAgICAgICgpID0+IHRoaXMuX3doZWVsQW5pbWF0aW9uRnJhbWUgPSBmYWxzZVxuICAgICk7XG5cbiAgICB2YXIgbW9tZW50dW0gPSBNYXRoLmFicyhlLmRlbHRhWCkgKyBNYXRoLmFicyhkZWx0YVkpO1xuXG4gICAgaWYgKHRoaXMuX2NhblNjcm9sbCh0YWJsZSwgZS5kZWx0YVgsIGRlbHRhWSkpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRhYmxlLnNjcm9sbFRvcCArPSBkZWx0YVk7XG4gICAgICB0YWJsZS5zY3JvbGxMZWZ0ICs9IGUuZGVsdGFYO1xuICAgICAgdGhpcy5fc2Nyb2xsSGFuZGxlcigpO1xuICAgICAgdGhpcy5faGFzUmVzaWR1YWxNb21lbnR1bSA9IHRydWU7XG5cbiAgICAgIHRoaXMuX2lnbm9yZU5ld1doZWVsID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2RlYm91bmNlcklnbm9yZU5ld1doZWVsID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgICB0aGlzLl9kZWJvdW5jZXJJZ25vcmVOZXdXaGVlbCxcbiAgICAgICAgdGltZU91dC5hZnRlcih0aGlzLl90aW1lb3V0cy5JR05PUkVfV0hFRUwpLFxuICAgICAgICAoKSA9PiB0aGlzLl9pZ25vcmVOZXdXaGVlbCA9IGZhbHNlXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5faGFzUmVzaWR1YWxNb21lbnR1bSAmJiBtb21lbnR1bSA8PSB0aGlzLl9wcmV2aW91c01vbWVudHVtIHx8IHRoaXMuX2lnbm9yZU5ld1doZWVsKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIGlmIChtb21lbnR1bSA+IHRoaXMuX3ByZXZpb3VzTW9tZW50dW0pIHtcbiAgICAgIHRoaXMuX2hhc1Jlc2lkdWFsTW9tZW50dW0gPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5fcHJldmlvdXNNb21lbnR1bSA9IG1vbWVudHVtO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGVsZW1lbnQgaGFzIGFuIGFuY2VzdG9yIHByaW9yIHRvIHRoaXNcbiAgICogY2VsbCBjb250ZW50IHRoYXQgaGFuZGxlcyB0aGUgc2Nyb2xsIGRlbHRhXG4gICAqL1xuICBfaGFzU2Nyb2xsZWRBbmNlc3RvcihlbCwgZGVsdGFYLCBkZWx0YVkpIHtcbiAgICBpZiAoZWwubG9jYWxOYW1lID09PSAndmFhZGluLWdyaWQtY2VsbC1jb250ZW50Jykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAodGhpcy5fY2FuU2Nyb2xsKGVsLCBkZWx0YVgsIGRlbHRhWSlcbiAgICAgICYmIFsnYXV0bycsICdzY3JvbGwnXS5pbmRleE9mKGdldENvbXB1dGVkU3R5bGUoZWwpLm92ZXJmbG93KSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZWwgIT09IHRoaXMgJiYgZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2hhc1Njcm9sbGVkQW5jZXN0b3IoZWwucGFyZW50RWxlbWVudCwgZGVsdGFYLCBkZWx0YVkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSB0aGUgZ2l2ZW4gc2Nyb2xsIGRlbHRhcyBjYW4gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudFxuICAgKiAoZnVsbHkgb3IgcGFydGlhbGx5KVxuICAgKi9cbiAgX2NhblNjcm9sbChlbCwgZGVsdGFYLCBkZWx0YVkpIHtcbiAgICByZXR1cm4gKGRlbHRhWSA+IDAgJiYgZWwuc2Nyb2xsVG9wIDwgZWwuc2Nyb2xsSGVpZ2h0IC0gZWwub2Zmc2V0SGVpZ2h0KSB8fFxuICAgIChkZWx0YVkgPCAwICYmIGVsLnNjcm9sbFRvcCA+IDApIHx8XG4gICAgKGRlbHRhWCA+IDAgJiYgZWwuc2Nyb2xsTGVmdCA8IGVsLnNjcm9sbFdpZHRoIC0gZWwub2Zmc2V0V2lkdGgpIHx8XG4gICAgKGRlbHRhWCA8IDAgJiYgZWwuc2Nyb2xsTGVmdCA+IDApO1xuICB9XG5cbiAgX3NjaGVkdWxlU2Nyb2xsaW5nKCkge1xuICAgIGlmICghdGhpcy5fc2Nyb2xsaW5nRnJhbWUpIHtcbiAgICAgIC8vIERlZmVyIHNldHRpbmcgc3RhdGUgYXR0cmlidXRlcyB0byBhdm9pZCBFZGdlIGhpY2N1cHNcbiAgICAgIHRoaXMuX3Njcm9sbGluZ0ZyYW1lID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnc2Nyb2xsaW5nJywgdHJ1ZSwgdGhpcy4kLnNjcm9sbGVyKSk7XG4gICAgfVxuICAgIHRoaXMuX2RlYm91bmNlU2Nyb2xsaW5nID0gRGVib3VuY2VyLmRlYm91bmNlKFxuICAgICAgdGhpcy5fZGVib3VuY2VTY3JvbGxpbmcsXG4gICAgICB0aW1lT3V0LmFmdGVyKHRoaXMuX3RpbWVvdXRzLlNDUk9MTElORyksXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3Njcm9sbGluZ0ZyYW1lKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Njcm9sbGluZ0ZyYW1lO1xuICAgICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ3Njcm9sbGluZycsIGZhbHNlLCB0aGlzLiQuc2Nyb2xsZXIpO1xuICAgICAgICBpZiAoIXRoaXMuJC5vdXRlcnNjcm9sbGVyLm91dGVyU2Nyb2xsaW5nKSB7XG4gICAgICAgICAgdGhpcy5fcmVvcmRlclJvd3MoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG5cbiAgICBpZiAoIXRoaXMuX3Njcm9sbFBlcmlvZEZyYW1lKSB7XG4gICAgICB0aGlzLl9zY3JvbGxQZXJpb2RGcmFtZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ3Njcm9sbC1wZXJpb2QnLCB0cnVlLCB0aGlzLiQuc2Nyb2xsZXIpKTtcbiAgICB9XG4gICAgdGhpcy5fZGVib3VuY2VTY3JvbGxQZXJpb2QgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICB0aGlzLl9kZWJvdW5jZVNjcm9sbFBlcmlvZCxcbiAgICAgIHRpbWVPdXQuYWZ0ZXIodGhpcy5fdGltZW91dHMuU0NST0xMX1BFUklPRCksXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3Njcm9sbFBlcmlvZEZyYW1lKTtcbiAgICAgICAgZGVsZXRlIHRoaXMuX3Njcm9sbFBlcmlvZEZyYW1lO1xuICAgICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ3Njcm9sbC1wZXJpb2QnLCBmYWxzZSwgdGhpcy4kLnNjcm9sbGVyKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgX2FmdGVyU2Nyb2xsKCkge1xuICAgIHRoaXMuX3RyYW5zbGF0ZVN0YXRpb25hcnlFbGVtZW50cygpO1xuXG4gICAgaWYgKCF0aGlzLmhhc0F0dHJpYnV0ZSgncmVvcmRlcmluZycpKSB7XG4gICAgICB0aGlzLl9zY2hlZHVsZVNjcm9sbGluZygpO1xuICAgIH1cblxuICAgIGNvbnN0IG9zID0gdGhpcy4kLm91dGVyc2Nyb2xsZXI7XG4gICAgaWYgKCF0aGlzLl9pb3MgJiYgKHRoaXMuX3doZWVsU2Nyb2xsaW5nIHx8IG9zLnBhc3N0aHJvdWdoKSkge1xuICAgICAgb3Muc3luY091dGVyU2Nyb2xsZXIoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5faW9zKSB7XG4gICAgICAvLyBFbmFibGUgdmVydGljYWwgcnViYmVyYmFuZCBmZWVkYmFja1xuICAgICAgY29uc3Qgb3ZlclNjcm9sbCA9IE1hdGgubWF4KC1vcy5zY3JvbGxUb3AsIDApIHx8XG4gICAgICAgIE1hdGgubWluKDAsIG9zLnNjcm9sbEhlaWdodCAtIG9zLnNjcm9sbFRvcCAtIG9zLm9mZnNldEhlaWdodCk7XG4gICAgICB0aGlzLiQuaXRlbXMuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVkoJHtvdmVyU2Nyb2xsfXB4KWA7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlT3ZlcmZsb3coKTtcbiAgfVxuXG4gIF91cGRhdGVPdmVyZmxvdygpIHtcbiAgICAvLyBTZXQgb3ZlcmZsb3cgc3R5bGluZyBhdHRyaWJ1dGVzXG4gICAgbGV0IG92ZXJmbG93ID0gJyc7XG4gICAgY29uc3QgdGFibGUgPSB0aGlzLiQudGFibGU7XG4gICAgaWYgKHRhYmxlLnNjcm9sbFRvcCA8IHRhYmxlLnNjcm9sbEhlaWdodCAtIHRhYmxlLmNsaWVudEhlaWdodCkge1xuICAgICAgb3ZlcmZsb3cgKz0gJyBib3R0b20nO1xuICAgIH1cblxuICAgIGlmICh0YWJsZS5zY3JvbGxUb3AgPiAwKSB7XG4gICAgICBvdmVyZmxvdyArPSAnIHRvcCc7XG4gICAgfVxuXG4gICAgaWYgKHRhYmxlLnNjcm9sbExlZnQgPCB0YWJsZS5zY3JvbGxXaWR0aCAtIHRhYmxlLmNsaWVudFdpZHRoKSB7XG4gICAgICBvdmVyZmxvdyArPSAnIHJpZ2h0JztcbiAgICB9XG5cbiAgICBpZiAodGFibGUuc2Nyb2xsTGVmdCA+IDApIHtcbiAgICAgIG92ZXJmbG93ICs9ICcgbGVmdCc7XG4gICAgfVxuXG4gICAgdGhpcy5fZGVib3VuY2VPdmVyZmxvdyA9IERlYm91bmNlci5kZWJvdW5jZShcbiAgICAgIHRoaXMuX2RlYm91bmNlT3ZlcmZsb3csXG4gICAgICBhbmltYXRpb25GcmFtZSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvdmVyZmxvdy50cmltKCk7XG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwICYmIHRoaXMuZ2V0QXR0cmlidXRlKCdvdmVyZmxvdycpICE9PSB2YWx1ZSkge1xuICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdvdmVyZmxvdycsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5sZW5ndGggPT0gMCAmJiB0aGlzLmhhc0F0dHJpYnV0ZSgnb3ZlcmZsb3cnKSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdvdmVyZmxvdycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIC8vIGNvcnJlY3Qgb3JkZXIgbmVlZGVkIGZvciBwcmVzZXJ2aW5nIGNvcnJlY3QgdGFiIG9yZGVyIGJldHdlZW4gY2VsbCBjb250ZW50cy5cbiAgX3Jlb3JkZXJSb3dzKCkge1xuICAgIGNvbnN0IGJvZHkgPSB0aGlzLiQuaXRlbXM7XG4gICAgY29uc3QgaXRlbXMgPSBib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3RyJyk7XG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhZGp1c3RlZFZpcnR1YWxTdGFydCA9IHRoaXMuX3ZpcnR1YWxTdGFydCArIHRoaXMuX3ZpZHhPZmZzZXQ7XG5cbiAgICAvLyBXaGljaCByb3cgdG8gdXNlIGFzIGEgdGFyZ2V0P1xuICAgIGNvbnN0IHRhcmdldFJvdyA9IHRoaXMuX3Jvd1dpdGhGb2N1c2VkRWxlbWVudCB8fCBBcnJheS5mcm9tKGl0ZW1zKS5maWx0ZXIocm93ID0+ICFyb3cuaGlkZGVuKVswXTtcbiAgICBpZiAoIXRhcmdldFJvdykge1xuICAgICAgLy8gQWxsIHJvd3MgYXJlIGhpZGRlbiwgZG9uJ3QgcmVvcmRlclxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdoZXJlIHRoZSB0YXJnZXQgcm93IHNob3VsZCBiZT9cbiAgICBjb25zdCB0YXJnZXRQaHlzaWNhbEluZGV4ID0gdGFyZ2V0Um93LmluZGV4IC0gYWRqdXN0ZWRWaXJ0dWFsU3RhcnQ7XG5cbiAgICAvLyBSZW9kcmVyIHRoZSBET00gZWxlbWVudHMgdG8ga2VlcCB0aGUgdGFyZ2V0IHJvdyBhdCB0aGUgdGFyZ2V0IHBoeXNpY2FsIGluZGV4XG4gICAgY29uc3QgZGVsdGEgPSBBcnJheS5mcm9tKGl0ZW1zKS5pbmRleE9mKHRhcmdldFJvdykgLSB0YXJnZXRQaHlzaWNhbEluZGV4O1xuICAgIGlmIChkZWx0YSA+IDApIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVsdGE7IGkrKykge1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKGl0ZW1zW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRlbHRhIDwgMCkge1xuICAgICAgZm9yIChsZXQgaSA9IGl0ZW1zLmxlbmd0aCArIGRlbHRhOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYm9keS5pbnNlcnRCZWZvcmUoaXRlbXNbaV0sIGl0ZW1zWzBdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfZnJvemVuQ2VsbHNDaGFuZ2VkKCkge1xuICAgIHRoaXMuX2RlYm91bmNlckNhY2hlRWxlbWVudHMgPSBEZWJvdW5jZXIuZGVib3VuY2UoXG4gICAgICB0aGlzLl9kZWJvdW5jZXJDYWNoZUVsZW1lbnRzLFxuICAgICAgbWljcm9UYXNrLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBBcnJheS5mcm9tKHRoaXMucm9vdC5xdWVyeVNlbGVjdG9yQWxsKCdbcGFydH49XCJjZWxsXCJdJykpLmZvckVhY2goZnVuY3Rpb24oY2VsbCkge1xuICAgICAgICAgIGNlbGwuc3R5bGUudHJhbnNmb3JtID0gJyc7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9mcm96ZW5DZWxscyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuJC50YWJsZS5xdWVyeVNlbGVjdG9yQWxsKCdbZnJvemVuXScpKTtcbiAgICAgICAgdGhpcy5fdHJhbnNsYXRlU3RhdGlvbmFyeUVsZW1lbnRzKCk7XG4gICAgICB9XG4gICAgKTtcbiAgICB0aGlzLl91cGRhdGVMYXN0RnJvemVuKCk7XG4gIH1cblxuICBfdXBkYXRlTGFzdEZyb3plbigpIHtcbiAgICBpZiAoIXRoaXMuX2NvbHVtblRyZWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjb2x1bW5zUm93ID0gdGhpcy5fY29sdW1uVHJlZVt0aGlzLl9jb2x1bW5UcmVlLmxlbmd0aCAtIDFdLnNsaWNlKDApO1xuICAgIGNvbHVtbnNSb3cuc29ydCgoYSwgYikgPT4ge1xuICAgICAgcmV0dXJuIGEuX29yZGVyIC0gYi5fb3JkZXI7XG4gICAgfSk7XG4gICAgY29uc3QgbGFzdEZyb3plbiA9IGNvbHVtbnNSb3cucmVkdWNlKChwcmV2LCBjb2wsIGluZGV4KSA9PiB7XG4gICAgICBjb2wuX2xhc3RGcm96ZW4gPSBmYWxzZTtcbiAgICAgIHJldHVybiBjb2wuZnJvemVuICYmICFjb2wuaGlkZGVuID8gaW5kZXggOiBwcmV2O1xuICAgIH0sIHVuZGVmaW5lZCk7XG4gICAgaWYgKGxhc3RGcm96ZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29sdW1uc1Jvd1tsYXN0RnJvemVuXS5fbGFzdEZyb3plbiA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgX3RyYW5zbGF0ZVN0YXRpb25hcnlFbGVtZW50cygpIHtcbiAgICBpZiAodGhpcy5fZWRnZSAmJiAhdGhpcy5fc2Nyb2xsYmFyV2lkdGgpIHtcbiAgICAgIC8vIEZpeGVkIG1vZGUgKFRhYmxldCBFZGdlKVxuICAgICAgdGhpcy4kLml0ZW1zLnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICB0aGlzLl9nZXRUcmFuc2xhdGUoLXRoaXMuX3Njcm9sbExlZnQgfHwgMCwgLXRoaXMuX3Njcm9sbFRvcCB8fCAwKTtcblxuICAgICAgdGhpcy4kLmZvb3Rlci5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLiQuaGVhZGVyLnN0eWxlLnRyYW5zZm9ybSA9XG4gICAgICB0aGlzLl9nZXRUcmFuc2xhdGUoLXRoaXMuX3Njcm9sbExlZnQgfHwgMCwgMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJC5mb290ZXIuc3R5bGUudHJhbnNmb3JtID0gdGhpcy4kLmhlYWRlci5zdHlsZS50cmFuc2Zvcm0gPSB0aGlzLl9nZXRUcmFuc2xhdGUoMCwgdGhpcy5fc2Nyb2xsVG9wKTtcbiAgICB9XG5cbiAgICB2YXIgZnJvemVuQ2VsbFRyYW5zZm9ybSA9IHRoaXMuX2dldFRyYW5zbGF0ZSh0aGlzLl9zY3JvbGxMZWZ0LCAwKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2Zyb3plbkNlbGxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9mcm96ZW5DZWxsc1tpXS5zdHlsZS50cmFuc2Zvcm0gPSBmcm96ZW5DZWxsVHJhbnNmb3JtO1xuICAgIH1cbiAgfVxuXG4gIF9nZXRUcmFuc2xhdGUoeCwgeSkge1xuICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyB4ICsgJ3B4LCcgKyB5ICsgJ3B4KSc7XG4gIH1cblxuICBfc2Nyb2xsSGVpZ2h0VXBkYXRlZChfZXN0U2Nyb2xsSGVpZ2h0KSB7XG4gICAgdGhpcy4kLm91dGVyc2l6ZXIuc3R5bGUudG9wID0gdGhpcy4kLmZpeGVkc2l6ZXIuc3R5bGUudG9wID0gX2VzdFNjcm9sbEhlaWdodCArICdweCc7XG4gIH1cblxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbi8qKlxuICogQHBvbHltZXJNaXhpblxuICovXG5leHBvcnQgY29uc3QgU2VsZWN0aW9uTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFNlbGVjdGlvbk1peGluIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHNlbGVjdGVkIGl0ZW1zLlxuICAgICAgICovXG4gICAgICBzZWxlY3RlZEl0ZW1zOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgbm90aWZ5OiB0cnVlLFxuICAgICAgICB2YWx1ZTogKCkgPT4gW11cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdfc2VsZWN0ZWRJdGVtc0NoYW5nZWQoc2VsZWN0ZWRJdGVtcy4qKSdcbiAgICBdO1xuICB9XG5cbiAgX2lzU2VsZWN0ZWQoaXRlbSkge1xuICAgIHJldHVybiB0aGlzLnNlbGVjdGVkSXRlbXMgJiYgdGhpcy5fZ2V0SXRlbUluZGV4SW5BcnJheShpdGVtLCB0aGlzLnNlbGVjdGVkSXRlbXMpID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0cyB0aGUgZ2l2ZW4gaXRlbS5cbiAgICpcbiAgICogQG1ldGhvZCBzZWxlY3RJdGVtXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIFRoZSBpdGVtIG9iamVjdFxuICAgKi9cbiAgc2VsZWN0SXRlbShpdGVtKSB7XG4gICAgaWYgKCF0aGlzLl9pc1NlbGVjdGVkKGl0ZW0pKSB7XG4gICAgICB0aGlzLnB1c2goJ3NlbGVjdGVkSXRlbXMnLCBpdGVtKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVzZWxlY3RzIHRoZSBnaXZlbiBpdGVtIGlmIGl0IGlzIGFscmVhZHkgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBtZXRob2QgZGVzZWxlY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW0gVGhlIGl0ZW0gb2JqZWN0XG4gICAqL1xuICBkZXNlbGVjdEl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4SW5BcnJheShpdGVtLCB0aGlzLnNlbGVjdGVkSXRlbXMpO1xuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICB0aGlzLnNwbGljZSgnc2VsZWN0ZWRJdGVtcycsIGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVG9nZ2xlcyB0aGUgc2VsZWN0ZWQgc3RhdGUgb2YgdGhlIGdpdmVuIGl0ZW0uXG4gICAqXG4gICAqIEBtZXRob2QgdG9nZ2xlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtIFRoZSBpdGVtIG9iamVjdFxuICAgKi9cbiAgX3RvZ2dsZUl0ZW0oaXRlbSkge1xuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fZ2V0SXRlbUluZGV4SW5BcnJheShpdGVtLCB0aGlzLnNlbGVjdGVkSXRlbXMpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbShpdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXNlbGVjdEl0ZW0oaXRlbSk7XG4gICAgfVxuICB9XG5cbiAgX3NlbGVjdGVkSXRlbXNDaGFuZ2VkKGUpIHtcbiAgICBpZiAodGhpcy4kLml0ZW1zLmNoaWxkcmVuLmxlbmd0aCAmJiAoZS5wYXRoID09PSAnc2VsZWN0ZWRJdGVtcycgfHwgZS5wYXRoID09PSAnc2VsZWN0ZWRJdGVtcy5zcGxpY2VzJykpIHtcbiAgICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5mb3JFYWNoKHJvdyA9PiB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUl0ZW0ocm93LCByb3cuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX3NlbGVjdGVkSW5zdGFuY2VDaGFuZ2VkQ2FsbGJhY2soaW5zdGFuY2UsIHZhbHVlKSB7XG4gICAgaWYgKHN1cGVyLl9zZWxlY3RlZEluc3RhbmNlQ2hhbmdlZENhbGxiYWNrKSB7XG4gICAgICBzdXBlci5fc2VsZWN0ZWRJbnN0YW5jZUNoYW5nZWRDYWxsYmFjayhpbnN0YW5jZSwgdmFsdWUpO1xuICAgIH1cbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHRoaXMuc2VsZWN0SXRlbShpbnN0YW5jZS5pdGVtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kZXNlbGVjdEl0ZW0oaW5zdGFuY2UuaXRlbSk7XG4gICAgfVxuICB9XG59O1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuaW1wb3J0IHsgbWljcm9UYXNrIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvYXN5bmMuanMnO1xuXG5pbXBvcnQgeyBQb2x5bWVyRWxlbWVudCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvcG9seW1lci1lbGVtZW50LmpzJztcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBTb3J0TWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIFNvcnRNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiBgdHJ1ZWAsIGFsbCBgPHZhYWRpbi1ncmlkLXNvcnRlcj5gIGFyZSBhcHBsaWVkIGZvciBzb3J0aW5nLlxuICAgICAgICovXG4gICAgICBtdWx0aVNvcnQ6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICBfc29ydGVyczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX3ByZXZpb3VzU29ydGVyczoge1xuICAgICAgICB0eXBlOiBBcnJheSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICBzdXBlci5yZWFkeSgpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignc29ydGVyLWNoYW5nZWQnLCB0aGlzLl9vblNvcnRlckNoYW5nZWQpO1xuXG4gICAgLy8gV2l0aCBQb2x5bWVyIDIgJiBzaGFkeSB0aGUgJ3NvcnRlci1jaGFuZ2VkJyBsaXN0ZW5lciBpc24ndCBndWFyYW50ZWVkIHRvIGJlIHJlZ2lzdGVyZWRcbiAgICAvLyBiZWZvcmUgY2hpbGQgPHZhYWRpbi1ncmlkLXNvcnRlcj4ncyB1cGdyYWRlIGFuZCBmaXJlIHRoZSBldmVudHMuIFRoZSBmb2xsb3dpbmdcbiAgICAvLyBtYWtlcyBzdXJlIHRoYXQgJ3NvcnRlci1jaGFuZ2VkJyBpcyBmaXJlZCBmb3IgYWxsIDx2YWFkaW4tZ3JpZC1zb3J0ZXI+IGVsZW1lbnRzXG4gICAgLy8gYWZ0ZXIgdGhpcyAoPHZhYWRpbi1ncmlkPikgaXMgcmVhZHkgKGFuZCB0aGUgbGlzdGVuZXJzIGFyZSBhY3RpdmUpLlxuICAgIGlmICh3aW5kb3cuU2hhZHlET00pIHtcbiAgICAgIG1pY3JvVGFzay5ydW4oKCkgPT4ge1xuICAgICAgICBjb25zdCBzb3J0ZXJzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCd2YWFkaW4tZ3JpZC1zb3J0ZXInKTtcbiAgICAgICAgQXJyYXkuZnJvbShzb3J0ZXJzKS5mb3JFYWNoKChzb3J0ZXIpID0+IHtcbiAgICAgICAgICAvLyBEb24ndCB0cnkgdG8gZmlyZSBpZiB0aGUgc29ydGVyIGhhc24ndCBiZWVuIHVwZ3JhZGVkIHlldFxuICAgICAgICAgIGlmIChzb3J0ZXIgaW5zdGFuY2VvZiBQb2x5bWVyRWxlbWVudCkge1xuICAgICAgICAgICAgc29ydGVyLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdzb3J0ZXItY2hhbmdlZCcsIHtidWJibGVzOiB0cnVlLCBjb21wb3NlZDogdHJ1ZX0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX29uU29ydGVyQ2hhbmdlZChlKSB7XG4gICAgY29uc3Qgc29ydGVyID0gZS50YXJnZXQ7XG5cbiAgICB0aGlzLl9yZW1vdmVBcnJheUl0ZW0odGhpcy5fc29ydGVycywgc29ydGVyKTtcbiAgICBzb3J0ZXIuX29yZGVyID0gbnVsbDtcblxuICAgIGlmICh0aGlzLm11bHRpU29ydCkge1xuICAgICAgaWYgKHNvcnRlci5kaXJlY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fc29ydGVycy51bnNoaWZ0KHNvcnRlcik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3NvcnRlcnMuZm9yRWFjaCgoc29ydGVyLCBpbmRleCkgPT4gc29ydGVyLl9vcmRlciA9IHRoaXMuX3NvcnRlcnMubGVuZ3RoID4gMSA/IGluZGV4IDogbnVsbCwgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzb3J0ZXIuZGlyZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX3NvcnRlcnMuZm9yRWFjaChzb3J0ZXIgPT4ge1xuICAgICAgICAgIHNvcnRlci5fb3JkZXIgPSBudWxsO1xuICAgICAgICAgIHNvcnRlci5kaXJlY3Rpb24gPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc29ydGVycyA9IFtzb3J0ZXJdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAodGhpcy5kYXRhUHJvdmlkZXIgJiZcbiAgICAgIC8vIE5vIG5lZWQgdG8gY2xlYXIgY2FjaGUgaWYgc29ydGVycyBkaWRuJ3QgY2hhbmdlXG4gICAgICBKU09OLnN0cmluZ2lmeSh0aGlzLl9wcmV2aW91c1NvcnRlcnMpICE9PSBKU09OLnN0cmluZ2lmeSh0aGlzLl9tYXBTb3J0ZXJzKCkpKSB7XG4gICAgICB0aGlzLmNsZWFyQ2FjaGUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hMTF5VXBkYXRlU29ydGVycygpO1xuXG4gICAgdGhpcy5fcHJldmlvdXNTb3J0ZXJzID0gdGhpcy5fbWFwU29ydGVycygpO1xuICB9XG5cbiAgX21hcFNvcnRlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NvcnRlcnMubWFwKHNvcnRlciA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRoOiBzb3J0ZXIucGF0aCxcbiAgICAgICAgZGlyZWN0aW9uOiBzb3J0ZXIuZGlyZWN0aW9uXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgX3JlbW92ZUFycmF5SXRlbShhcnJheSwgaXRlbSkge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTggVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG4vKipcbiAqIEBwb2x5bWVyTWl4aW5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0eWxpbmdNaXhpbiA9IHN1cGVyQ2xhc3MgPT4gY2xhc3MgU3R5bGluZ01peGluIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBhbGxvd3MgZ2VuZXJhdGluZyBDU1MgY2xhc3MgbmFtZXMgZm9yIGdyaWQgY2VsbHNcbiAgICAgICAqIGJhc2VkIG9uIHRoZWlyIHJvdyBhbmQgY29sdW1uLiBUaGUgcmV0dXJuIHZhbHVlIHNob3VsZCBiZSB0aGUgZ2VuZXJhdGVkXG4gICAgICAgKiBjbGFzcyBuYW1lIGFzIGEgc3RyaW5nLCBvciBtdWx0aXBsZSBjbGFzcyBuYW1lcyBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZVxuICAgICAgICogY2hhcmFjdGVycy5cbiAgICAgICAqXG4gICAgICAgKiBSZWNlaXZlcyB0d28gYXJndW1lbnRzOlxuICAgICAgICogLSBgY29sdW1uYCBUaGUgYDx2YWFkaW4tZ3JpZC1jb2x1bW4+YCBlbGVtZW50IChgdW5kZWZpbmVkYCBmb3IgZGV0YWlscy1jZWxsKS5cbiAgICAgICAqIC0gYHJvd0RhdGFgIFRoZSBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyByZWxhdGVkIHdpdGhcbiAgICAgICAqICAgdGhlIHJlbmRlcmVkIGl0ZW0sIGNvbnRhaW5zOlxuICAgICAgICogICAtIGByb3dEYXRhLmluZGV4YCBUaGUgaW5kZXggb2YgdGhlIGl0ZW0uXG4gICAgICAgKiAgIC0gYHJvd0RhdGEuaXRlbWAgVGhlIGl0ZW0uXG4gICAgICAgKiAgIC0gYHJvd0RhdGEuZXhwYW5kZWRgIFN1YmxldmVsIHRvZ2dsZSBzdGF0ZS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5sZXZlbGAgTGV2ZWwgb2YgdGhlIHRyZWUgcmVwcmVzZW50ZWQgd2l0aCBhIGhvcml6b250YWwgb2Zmc2V0IG9mIHRoZSB0b2dnbGUgYnV0dG9uLlxuICAgICAgICogICAtIGByb3dEYXRhLnNlbGVjdGVkYCBTZWxlY3RlZCBzdGF0ZS5cbiAgICAgICAqL1xuICAgICAgY2VsbENsYXNzTmFtZUdlbmVyYXRvcjogRnVuY3Rpb25cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdfX2NlbGxDbGFzc05hbWVHZW5lcmF0b3JDaGFuZ2VkKGNlbGxDbGFzc05hbWVHZW5lcmF0b3IpJ1xuICAgIF07XG4gIH1cblxuICBfX2NlbGxDbGFzc05hbWVHZW5lcmF0b3JDaGFuZ2VkKGNlbGxDbGFzc0dlbmVyYXRvcikge1xuICAgIHRoaXMuZ2VuZXJhdGVDZWxsQ2xhc3NOYW1lcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhlIGBjZWxsQ2xhc3NOYW1lR2VuZXJhdG9yYCBmb3IgdGhlIHZpc2libGUgY2VsbHMuXG4gICAqIElmIHRoZSBnZW5lcmF0b3IgZGVwZW5kcyBvbiB2YXJ5aW5nIGNvbmRpdGlvbnMsIHlvdSBuZWVkIHRvXG4gICAqIGNhbGwgdGhpcyBmdW5jdGlvbiBtYW51YWxseSBpbiBvcmRlciB0byB1cGRhdGUgdGhlIHN0eWxlcyB3aGVuXG4gICAqIHRoZSBjb25kaXRpb25zIGNoYW5nZS5cbiAgICovXG4gIGdlbmVyYXRlQ2VsbENsYXNzTmFtZXMoKSB7XG4gICAgQXJyYXkuZnJvbSh0aGlzLiQuaXRlbXMuY2hpbGRyZW4pLmZpbHRlcihyb3cgPT4gIXJvdy5oaWRkZW4pLmZvckVhY2goXG4gICAgICByb3cgPT4gdGhpcy5fZ2VuZXJhdGVDZWxsQ2xhc3NOYW1lcyhyb3csIHRoaXMuX19nZXRSb3dNb2RlbChyb3cpKSk7XG4gIH1cblxuICBfZ2VuZXJhdGVDZWxsQ2xhc3NOYW1lcyhyb3csIHJvd0RhdGEpIHtcbiAgICBBcnJheS5mcm9tKHJvdy5jaGlsZHJlbikuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgIGlmIChjZWxsLl9fZ2VuZXJhdGVkQ2xhc3Nlcykge1xuICAgICAgICBjZWxsLl9fZ2VuZXJhdGVkQ2xhc3Nlcy5mb3JFYWNoKGNsYXNzTmFtZSA9PiBjZWxsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jZWxsQ2xhc3NOYW1lR2VuZXJhdG9yKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2VsbENsYXNzTmFtZUdlbmVyYXRvcihjZWxsLl9jb2x1bW4sIHJvd0RhdGEpO1xuICAgICAgICBjZWxsLl9fZ2VuZXJhdGVkQ2xhc3NlcyA9IHJlc3VsdCAmJiByZXN1bHQuc3BsaXQoJyAnKS5maWx0ZXIoY2xhc3NOYW1lID0+IGNsYXNzTmFtZS5sZW5ndGggPiAwKTtcbiAgICAgICAgaWYgKGNlbGwuX19nZW5lcmF0ZWRDbGFzc2VzKSB7XG4gICAgICAgICAgY2VsbC5fX2dlbmVyYXRlZENsYXNzZXMuZm9yRWFjaChjbGFzc05hbWUgPT4gY2VsbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG4iLCIvKipcbkBsaWNlbnNlXG5Db3B5cmlnaHQgKGMpIDIwMTkgVmFhZGluIEx0ZC5cblRoaXMgcHJvZ3JhbSBpcyBhdmFpbGFibGUgdW5kZXIgQXBhY2hlIExpY2Vuc2UgVmVyc2lvbiAyLjAsIGF2YWlsYWJsZSBhdCBodHRwczovL3ZhYWRpbi5jb20vbGljZW5zZS9cbiovXG5jb25zdCBEcm9wTW9kZSA9IHtcbiAgQkVUV0VFTjogJ2JldHdlZW4nLFxuICBPTl9UT1A6ICdvbi10b3AnLFxuICBPTl9UT1BfT1JfQkVUV0VFTjogJ29uLXRvcC1vci1iZXR3ZWVuJyxcbiAgT05fR1JJRDogJ29uLWdyaWQnXG59O1xuXG5jb25zdCBEcm9wTG9jYXRpb24gPSB7XG4gIE9OX1RPUDogJ29uLXRvcCcsXG4gIEFCT1ZFOiAnYWJvdmUnLFxuICBCRUxPVzogJ2JlbG93JyxcbiAgRU1QVFk6ICdlbXB0eSdcbn07XG5cbi8qKlxuICogQHBvbHltZXJNaXhpblxuICovXG5leHBvcnQgY29uc3QgRHJhZ0FuZERyb3BNaXhpbiA9IHN1cGVyQ2xhc3MgPT4gY2xhc3MgRHJhZ0FuZERyb3BNaXhpbiBleHRlbmRzIHN1cGVyQ2xhc3Mge1xuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBEZWZpbmVzIHRoZSBsb2NhdGlvbnMgd2l0aGluIHRoZSBHcmlkIHJvdyB3aGVyZSBhbiBlbGVtZW50IGNhbiBiZSBkcm9wcGVkLlxuICAgICAgICpcbiAgICAgICAqIFBvc3NpYmxlIHZhbHVlcyBhcmU6XG4gICAgICAgKiAtIGBiZXR3ZWVuYDogVGhlIGRyb3AgZXZlbnQgY2FuIGhhcHBlbiBiZXR3ZWVuIEdyaWQgcm93cy5cbiAgICAgICAqIC0gYG9uLXRvcGA6IFRoZSBkcm9wIGV2ZW50IGNhbiBoYXBwZW4gb24gdG9wIG9mIEdyaWQgcm93cy5cbiAgICAgICAqIC0gYG9uLXRvcC1vci1iZXR3ZWVuYDogVGhlIGRyb3AgZXZlbnQgY2FuIGhhcHBlbiBlaXRoZXIgb24gdG9wIG9mIG9yIGJldHdlZW4gR3JpZCByb3dzLlxuICAgICAgICogLSBgb24tZ3JpZGA6IFRoZSBkcm9wIGV2ZW50IHdpbGwgbm90IGhhcHBlbiBvbiBhbnkgc3BlY2lmaWMgcm93LCBpdCB3aWxsIHNob3cgdGhlIGRyb3AgdGFyZ2V0IG91dGxpbmUgYXJvdW5kIHRoZSB3aG9sZSBncmlkLlxuICAgICAgICovXG4gICAgICBkcm9wTW9kZTogU3RyaW5nLFxuXG4gICAgICAvKipcbiAgICAgICAqIE1hcmtzIHRoZSBncmlkJ3Mgcm93cyB0byBiZSBhdmFpbGFibGUgZm9yIGRyYWdnaW5nLlxuICAgICAgICovXG4gICAgICByb3dzRHJhZ2dhYmxlOiBCb29sZWFuLFxuXG4gICAgICAvKipcbiAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCBmaWx0ZXJzIGRyYWdnaW5nIG9mIHNwZWNpZmljIGdyaWQgcm93cy4gVGhlIHJldHVybiB2YWx1ZSBzaG91bGQgYmUgZmFsc2VcbiAgICAgICAqIGlmIGRyYWdnaW5nIG9mIHRoZSByb3cgc2hvdWxkIGJlIGRpc2FibGVkLlxuICAgICAgICpcbiAgICAgICAqIFJlY2VpdmVzIG9uZSBhcmd1bWVudDpcbiAgICAgICAqIC0gYHJvd0RhdGFgIFRoZSBvYmplY3Qgd2l0aCB0aGUgcHJvcGVydGllcyByZWxhdGVkIHdpdGhcbiAgICAgICAqICAgdGhlIHJlbmRlcmVkIGl0ZW0sIGNvbnRhaW5zOlxuICAgICAgICogICAtIGByb3dEYXRhLmluZGV4YCBUaGUgaW5kZXggb2YgdGhlIGl0ZW0uXG4gICAgICAgKiAgIC0gYHJvd0RhdGEuaXRlbWAgVGhlIGl0ZW0uXG4gICAgICAgKiAgIC0gYHJvd0RhdGEuZXhwYW5kZWRgIFN1YmxldmVsIHRvZ2dsZSBzdGF0ZS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5sZXZlbGAgTGV2ZWwgb2YgdGhlIHRyZWUgcmVwcmVzZW50ZWQgd2l0aCBhIGhvcml6b250YWwgb2Zmc2V0IG9mIHRoZSB0b2dnbGUgYnV0dG9uLlxuICAgICAgICogICAtIGByb3dEYXRhLnNlbGVjdGVkYCBTZWxlY3RlZCBzdGF0ZS5cbiAgICAgICAqL1xuICAgICAgZHJhZ0ZpbHRlcjogRnVuY3Rpb24sXG5cbiAgICAgIC8qKlxuICAgICAgICogQSBmdW5jdGlvbiB0aGF0IGZpbHRlcnMgZHJvcHBpbmcgb24gc3BlY2lmaWMgZ3JpZCByb3dzLiBUaGUgcmV0dXJuIHZhbHVlIHNob3VsZCBiZSBmYWxzZVxuICAgICAgICogaWYgZHJvcHBpbmcgb24gdGhlIHJvdyBzaG91bGQgYmUgZGlzYWJsZWQuXG4gICAgICAgKlxuICAgICAgICogUmVjZWl2ZXMgb25lIGFyZ3VtZW50OlxuICAgICAgICogLSBgcm93RGF0YWAgVGhlIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHJlbGF0ZWQgd2l0aFxuICAgICAgICogICB0aGUgcmVuZGVyZWQgaXRlbSwgY29udGFpbnM6XG4gICAgICAgKiAgIC0gYHJvd0RhdGEuaW5kZXhgIFRoZSBpbmRleCBvZiB0aGUgaXRlbS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5pdGVtYCBUaGUgaXRlbS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5leHBhbmRlZGAgU3VibGV2ZWwgdG9nZ2xlIHN0YXRlLlxuICAgICAgICogICAtIGByb3dEYXRhLmxldmVsYCBMZXZlbCBvZiB0aGUgdHJlZSByZXByZXNlbnRlZCB3aXRoIGEgaG9yaXpvbnRhbCBvZmZzZXQgb2YgdGhlIHRvZ2dsZSBidXR0b24uXG4gICAgICAgKiAgIC0gYHJvd0RhdGEuc2VsZWN0ZWRgIFNlbGVjdGVkIHN0YXRlLlxuICAgICAgICovXG4gICAgICBkcm9wRmlsdGVyOiBGdW5jdGlvbixcblxuICAgICAgX19kbmRBdXRvU2Nyb2xsVGhyZXNob2xkOiB7XG4gICAgICAgIHZhbHVlOiA1MFxuICAgICAgfVxuXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgb2JzZXJ2ZXJzKCkge1xuICAgIHJldHVybiBbXG4gICAgICAnX2RyYWdEcm9wQWNjZXNzQ2hhbmdlZChyb3dzRHJhZ2dhYmxlLCBkcm9wTW9kZSwgZHJhZ0ZpbHRlciwgZHJvcEZpbHRlciknXG4gICAgXTtcbiAgfVxuXG4gIHJlYWR5KCkge1xuICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgdGhpcy4kLnRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0LmJpbmQodGhpcykpO1xuICAgIHRoaXMuJC50YWJsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgdGhpcy5fb25EcmFnRW5kLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJC50YWJsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIHRoaXMuX29uRHJhZ092ZXIuYmluZCh0aGlzKSk7XG4gICAgdGhpcy4kLnRhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIHRoaXMuX29uRHJhZ0xlYXZlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJC50YWJsZS5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5fb25Ecm9wLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJC50YWJsZS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBlID0+IHtcbiAgICAgIGlmICh0aGlzLmRyb3BNb2RlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9XG5cbiAgX29uRHJhZ1N0YXJ0KGUpIHtcbiAgICBpZiAodGhpcy5yb3dzRHJhZ2dhYmxlKSB7XG4gICAgICBsZXQgcm93ID0gZS50YXJnZXQ7XG4gICAgICBpZiAocm93LmxvY2FsTmFtZSA9PT0gJ3ZhYWRpbi1ncmlkLWNlbGwtY29udGVudCcpIHtcbiAgICAgICAgLy8gVGhlIGRyYWdnYWJsZSBub2RlIGlzIHRoZSBjZWxsIGNvbnRlbnQgZWxlbWVudCBvbiBicm93c2VycyB0aGF0IHN1cHBvcnQgbmF0aXZlIHNoYWRvd1xuICAgICAgICByb3cgPSByb3cuYXNzaWduZWRTbG90LnBhcmVudE5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3cucGFyZW50Tm9kZSAhPT0gdGhpcy4kLml0ZW1zKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnZHJhZ2dpbmctcm93cycsIHRydWUsIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5fc2FmYXJpKSB7XG4gICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IGdldCBwcm9wZXIgZHJhZyBpbWFnZXMgZnJvbSB0cmFuc2Zvcm1lZFxuICAgICAgICAvLyBlbGVtZW50cyBzbyB3ZSBuZWVkIHRvIHN3aXRjaCB0byB0b3AgdGVtcG9yYXJpbHlcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gcm93LnN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgcm93LnN0eWxlLnRvcCA9IC90cmFuc2xhdGVZXFwoKC4qKVxcKS8uZXhlYyh0cmFuc2Zvcm0pWzFdO1xuICAgICAgICByb3cuc3R5bGUudHJhbnNmb3JtID0gJ25vbmUnO1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHJvdy5zdHlsZS50b3AgPSAnJztcbiAgICAgICAgICByb3cuc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgcm93UmVjdCA9IHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGlmICghd2luZG93LlNoYWR5RE9NKSB7XG4gICAgICAgIGlmICh0aGlzLl9pb3MpIHtcbiAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2Uocm93KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2Uocm93LCBlLmNsaWVudFggLSByb3dSZWN0LmxlZnQsIGUuY2xpZW50WSAtIHJvd1JlY3QudG9wKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG5cbiAgICAgIGxldCByb3dzID0gW3Jvd107XG4gICAgICBpZiAodGhpcy5faXNTZWxlY3RlZChyb3cuX2l0ZW0pKSB7XG4gICAgICAgIHJvd3MgPSB0aGlzLl9fZ2V0Vmlld3BvcnRSb3dzKClcbiAgICAgICAgICAuZmlsdGVyKHJvdyA9PiB0aGlzLl9pc1NlbGVjdGVkKHJvdy5faXRlbSkpXG4gICAgICAgICAgLmZpbHRlcihyb3cgPT4gIXRoaXMuZHJhZ0ZpbHRlciB8fCB0aGlzLmRyYWdGaWx0ZXIodGhpcy5fX2dldFJvd01vZGVsKHJvdykpKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBkZWZhdWx0IHRyYW5zZmVyIGRhdGFcbiAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoJ3RleHQnLCB0aGlzLl9fZm9ybWF0RGVmYXVsdFRyYW5zZmVyRGF0YShyb3dzKSk7XG5cbiAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ2RyYWdzdGFydCcsIHJvd3MubGVuZ3RoID4gMSA/IHJvd3MubGVuZ3RoIDogJycpO1xuICAgICAgdGhpcy51cGRhdGVTdHlsZXMoe1xuICAgICAgICAnLS1fZ3JpZC1kcmFnLXN0YXJ0LXgnOiBgJHtlLmNsaWVudFggLSByb3dSZWN0LmxlZnQgKyAyMH1weGAsXG4gICAgICAgICctLV9ncmlkLWRyYWctc3RhcnQteSc6IGAke2UuY2xpZW50WSAtIHJvd1JlY3QudG9wICsgMTB9cHhgXG4gICAgICB9KTtcblxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgcm93LnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ3N0YXJ0Jyk7XG4gICAgICAgIHRoaXMudXBkYXRlU3R5bGVzKHsnLS1fZ3JpZC1kcmFnLXN0YXJ0LXgnOiAnJywgJy0tX2dyaWQtZHJhZy1zdGFydC15JzogJyd9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgnZ3JpZC1kcmFnc3RhcnQnLCB7XG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIGRyYWdnZWRJdGVtczogcm93cy5tYXAocm93ID0+IHJvdy5faXRlbSksXG4gICAgICAgICAgc2V0RHJhZ0RhdGE6ICh0eXBlLCBkYXRhKSA9PiBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKHR5cGUsIGRhdGEpLFxuICAgICAgICAgIHNldERyYWdnZWRJdGVtc0NvdW50OiBjb3VudCA9PiByb3cuc2V0QXR0cmlidXRlKCdkcmFnc3RhcnQnLCBjb3VudClcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgX29uRHJhZ0VuZChlKSB7XG4gICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdkcmFnZ2luZy1yb3dzJywgZmFsc2UsIHRoaXMpO1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2dyaWQtZHJhZ2VuZCcpO1xuICAgIGV2ZW50Lm9yaWdpbmFsRXZlbnQgPSBlO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gIH1cblxuICBfb25EcmFnTGVhdmUoZSkge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5fY2xlYXJEcmFnU3R5bGVzKCk7XG4gIH1cblxuICBfb25EcmFnT3ZlcihlKSB7XG5cbiAgICBpZiAodGhpcy5kcm9wTW9kZSkge1xuICAgICAgdGhpcy5fZHJvcExvY2F0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fZHJhZ092ZXJJdGVtID0gdW5kZWZpbmVkO1xuXG4gICAgICBpZiAodGhpcy5fX2RuZEF1dG9TY3JvbGwoZS5jbGllbnRZKSkge1xuICAgICAgICB0aGlzLl9jbGVhckRyYWdTdHlsZXMoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsZXQgcm93ID0gZS5jb21wb3NlZFBhdGgoKS5maWx0ZXIobm9kZSA9PiBub2RlLmxvY2FsTmFtZSA9PT0gJ3RyJylbMF07XG5cbiAgICAgIGlmICghdGhpcy5fZWZmZWN0aXZlU2l6ZSB8fCB0aGlzLmRyb3BNb2RlID09PSBEcm9wTW9kZS5PTl9HUklEKSB7XG4gICAgICAgIC8vIFRoZSBncmlkIGlzIGVtcHR5IG9yIFwib24tZ3JpZFwiIGRyb3AgbW9kZSB3YXMgdXNlZCwgYWx3YXlzIGRlZmF1bHQgdG8gXCJlbXB0eVwiXG4gICAgICAgIHRoaXMuX2Ryb3BMb2NhdGlvbiA9IERyb3BMb2NhdGlvbi5FTVBUWTtcbiAgICAgIH0gZWxzZSBpZiAoIXJvdyB8fCByb3cucGFyZW50Tm9kZSAhPT0gdGhpcy4kLml0ZW1zKSB7XG4gICAgICAgIC8vIFRoZSBkcmFnb3ZlciBkaWRuJ3Qgb2NjdXIgb24gYSBib2R5IHJvdyBidXQgdGhlIGdyaWQgaGFzIGl0ZW1zXG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAvLyBUaGUgZHJhZ292ZXIgb2NjdXJyZWQgb3ZlciBhIGhlYWRlci9mb290ZXIgcm93XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZHJvcE1vZGUgPT09IERyb3BNb2RlLkJFVFdFRU4gfHwgdGhpcy5kcm9wTW9kZSA9PT0gRHJvcE1vZGUuT05fVE9QX09SX0JFVFdFRU4pIHtcbiAgICAgICAgICAvLyBUaGUgZHJvcCBtb2RlIGFsbG93cyBzZXR0aW5nIHRoZSBsYXN0IHJvdyBhcyB0aGUgZHJhZyBvdmVyIGl0ZW1cbiAgICAgICAgICByb3cgPSBBcnJheS5mcm9tKHRoaXMuJC5pdGVtcy5jaGlsZHJlbikuZmlsdGVyKHJvdyA9PiAhcm93LmhpZGRlbikucG9wKCk7XG4gICAgICAgICAgdGhpcy5fZHJvcExvY2F0aW9uID0gRHJvcExvY2F0aW9uLkJFTE9XO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIERyb3AgbW9kZSBvbi10b3AgdXNlZCBidXQgdGhlIGRyYWdvdmVyIGRpZG4ndCBvY2N1ciBvdmVyIG9uZSBvZiB0aGUgZXhpc3Rpbmcgcm93c1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gVGhlIGRyYWdvdmVyIG9jY3VycmVkIG9uIGEgYm9keSByb3csIGRldGVybWluZSB0aGUgZHJvcCBsb2NhdGlvbiBmcm9tIGNvb3JkaW5hdGVzXG4gICAgICAgIGNvbnN0IHJvd1JlY3QgPSByb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5fZHJvcExvY2F0aW9uID0gRHJvcExvY2F0aW9uLk9OX1RPUDtcblxuICAgICAgICBpZiAodGhpcy5kcm9wTW9kZSA9PT0gRHJvcE1vZGUuQkVUV0VFTikge1xuICAgICAgICAgIGNvbnN0IGRyb3BBYm92ZSA9IGUuY2xpZW50WSAtIHJvd1JlY3QudG9wIDwgcm93UmVjdC5ib3R0b20gLSBlLmNsaWVudFk7XG4gICAgICAgICAgdGhpcy5fZHJvcExvY2F0aW9uID0gZHJvcEFib3ZlID8gRHJvcExvY2F0aW9uLkFCT1ZFIDogRHJvcExvY2F0aW9uLkJFTE9XO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kcm9wTW9kZSA9PT0gRHJvcE1vZGUuT05fVE9QX09SX0JFVFdFRU4pIHtcbiAgICAgICAgICBpZiAoZS5jbGllbnRZIC0gcm93UmVjdC50b3AgPCByb3dSZWN0LmhlaWdodCAvIDMpIHtcbiAgICAgICAgICAgIHRoaXMuX2Ryb3BMb2NhdGlvbiA9IERyb3BMb2NhdGlvbi5BQk9WRTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGUuY2xpZW50WSAtIHJvd1JlY3QudG9wID4gKHJvd1JlY3QuaGVpZ2h0IC8gMykgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLl9kcm9wTG9jYXRpb24gPSBEcm9wTG9jYXRpb24uQkVMT1c7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3cgJiYgcm93Lmhhc0F0dHJpYnV0ZSgnZHJvcC1kaXNhYmxlZCcpKSB7XG4gICAgICAgIHRoaXMuX2Ryb3BMb2NhdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAodGhpcy5fZHJvcExvY2F0aW9uID09PSBEcm9wTG9jYXRpb24uRU1QVFkpIHtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdkcmFnb3ZlcicsIHRydWUsIHRoaXMpO1xuICAgICAgfSBlbHNlIGlmIChyb3cpIHtcbiAgICAgICAgdGhpcy5fZHJhZ092ZXJJdGVtID0gcm93Ll9pdGVtO1xuICAgICAgICBpZiAocm93LmdldEF0dHJpYnV0ZSgnZHJhZ292ZXInKSAhPT0gdGhpcy5fZHJvcExvY2F0aW9uKSB7XG4gICAgICAgICAgcm93LnNldEF0dHJpYnV0ZSgnZHJhZ292ZXInLCB0aGlzLl9kcm9wTG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jbGVhckRyYWdTdHlsZXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfX2RuZEF1dG9TY3JvbGwoY2xpZW50WSkge1xuICAgIGlmICh0aGlzLl9fZG5kQXV0b1Njcm9sbGluZykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVyQm90dG9tID0gdGhpcy4kLmhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG4gICAgY29uc3QgZm9vdGVyVG9wID0gdGhpcy4kLmZvb3Rlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgY29uc3QgdG9wRGlmZiA9IGhlYWRlckJvdHRvbSAtIGNsaWVudFkgKyB0aGlzLl9fZG5kQXV0b1Njcm9sbFRocmVzaG9sZDtcbiAgICBjb25zdCBib3R0b21EaWZmID0gY2xpZW50WSAtIGZvb3RlclRvcCArIHRoaXMuX19kbmRBdXRvU2Nyb2xsVGhyZXNob2xkO1xuICAgIGxldCBzY3JvbGxUb3BEZWx0YSA9IDA7XG5cbiAgICBpZiAoYm90dG9tRGlmZiA+IDApIHtcbiAgICAgIHNjcm9sbFRvcERlbHRhID0gYm90dG9tRGlmZiAqIDI7XG4gICAgfSBlbHNlIGlmICh0b3BEaWZmID4gMCkge1xuICAgICAgc2Nyb2xsVG9wRGVsdGEgPSAtdG9wRGlmZiAqIDI7XG4gICAgfVxuXG4gICAgaWYgKHNjcm9sbFRvcERlbHRhKSB7XG4gICAgICBjb25zdCBzY3JvbGxUb3AgPSB0aGlzLiQudGFibGUuc2Nyb2xsVG9wO1xuICAgICAgdGhpcy4kLnRhYmxlLnNjcm9sbFRvcCArPSBzY3JvbGxUb3BEZWx0YTtcbiAgICAgIGNvbnN0IHNjcm9sbFRvcENoYW5nZWQgPSBzY3JvbGxUb3AgIT09IHRoaXMuJC50YWJsZS5zY3JvbGxUb3A7XG4gICAgICBpZiAoc2Nyb2xsVG9wQ2hhbmdlZCkge1xuICAgICAgICB0aGlzLl9fZG5kQXV0b1Njcm9sbGluZyA9IHRydWU7XG4gICAgICAgIC8vIERpc2FsbG93IG1vcmUgYXV0by1zY3JvbGxzIHdpdGhpbiAyMG1zXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fX2RuZEF1dG9TY3JvbGxpbmcgPSBmYWxzZSwgMjApO1xuICAgICAgICB0aGlzLl9zY3JvbGxIYW5kbGVyKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9fZ2V0Vmlld3BvcnRSb3dzKCkge1xuICAgIGNvbnN0IGhlYWRlckJvdHRvbSA9IHRoaXMuJC5oZWFkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICAgIGNvbnN0IGZvb3RlclRvcCA9IHRoaXMuJC5mb290ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuJC5pdGVtcy5jaGlsZHJlbilcbiAgICAgIC5maWx0ZXIocm93ID0+IHtcbiAgICAgICAgY29uc3Qgcm93UmVjdCA9IHJvdy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHJvd1JlY3QuYm90dG9tID4gaGVhZGVyQm90dG9tICYmIHJvd1JlY3QudG9wIDwgZm9vdGVyVG9wO1xuICAgICAgfSk7XG4gIH1cblxuICBfY2xlYXJEcmFnU3R5bGVzKCkge1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdkcmFnb3ZlcicpO1xuICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5mb3JFYWNoKHJvdyA9PiByb3cucmVtb3ZlQXR0cmlidXRlKCdkcmFnb3ZlcicpKTtcbiAgfVxuXG4gIF9vbkRyb3AoZSkge1xuICAgIGlmICh0aGlzLmRyb3BNb2RlKSB7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBjb25zdCBkcmFnRGF0YSA9IGUuZGF0YVRyYW5zZmVyLnR5cGVzICYmIEFycmF5LmZyb20oZS5kYXRhVHJhbnNmZXIudHlwZXMpLm1hcCh0eXBlID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGRhdGE6IGUuZGF0YVRyYW5zZmVyLmdldERhdGEodHlwZSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLl9jbGVhckRyYWdTdHlsZXMoKTtcblxuICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2dyaWQtZHJvcCcsIHtcbiAgICAgICAgYnViYmxlczogZS5idWJibGVzLFxuICAgICAgICBjYW5jZWxhYmxlOiBlLmNhbmNlbGFibGUsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIGRyb3BUYXJnZXRJdGVtOiB0aGlzLl9kcmFnT3Zlckl0ZW0sXG4gICAgICAgICAgZHJvcExvY2F0aW9uOiB0aGlzLl9kcm9wTG9jYXRpb24sXG4gICAgICAgICAgZHJhZ0RhdGFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBldmVudC5vcmlnaW5hbEV2ZW50ID0gZTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgX19mb3JtYXREZWZhdWx0VHJhbnNmZXJEYXRhKHJvd3MpIHtcbiAgICByZXR1cm4gcm93c1xuICAgICAgLm1hcChyb3cgPT4ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pXG4gICAgICAgICAgLmZpbHRlcihjZWxsID0+ICFjZWxsLmhpZGRlbiAmJiBjZWxsLmdldEF0dHJpYnV0ZSgncGFydCcpLmluZGV4T2YoJ2RldGFpbHMtY2VsbCcpID09PSAtMSlcbiAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGEuX2NvbHVtbi5fb3JkZXIgPiBiLl9jb2x1bW4uX29yZGVyID8gMSA6IC0xO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLm1hcChjZWxsID0+IGNlbGwuX2NvbnRlbnQudGV4dENvbnRlbnQudHJpbSgpKVxuICAgICAgICAgIC5maWx0ZXIoY29udGVudCA9PiBjb250ZW50KVxuICAgICAgICAgIC5qb2luKCdcXHQnKTtcbiAgICAgIH0pXG4gICAgICAuam9pbignXFxuJyk7XG4gIH1cblxuICBfZHJhZ0Ryb3BBY2Nlc3NDaGFuZ2VkKHJvd3NEcmFnZ2FibGUsIGRyb3BNb2RlLCBkcmFnRmlsdGVyLCBkcm9wRmlsdGVyKSB7XG4gICAgdGhpcy5maWx0ZXJEcmFnQW5kRHJvcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJ1bnMgdGhlIGBkcmFnRmlsdGVyYCBhbmQgYGRyb3BGaWx0ZXJgIGhvb2tzIGZvciB0aGUgdmlzaWJsZSBjZWxscy5cbiAgICogSWYgdGhlIGZpbHRlciBkZXBlbmRzIG9uIHZhcnlpbmcgY29uZGl0aW9ucywgeW91IG1heSBuZWVkIHRvXG4gICAqIGNhbGwgdGhpcyBmdW5jdGlvbiBtYW51YWxseSBpbiBvcmRlciB0byB1cGRhdGUgdGhlIGRyYWdnYWJpbGl0eSB3aGVuXG4gICAqIHRoZSBjb25kaXRpb25zIGNoYW5nZS5cbiAgICovXG4gIGZpbHRlckRyYWdBbmREcm9wKCkge1xuICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5maWx0ZXIocm93ID0+ICFyb3cuaGlkZGVuKS5mb3JFYWNoKFxuICAgICAgcm93ID0+IHtcbiAgICAgICAgdGhpcy5fZmlsdGVyRHJhZ0FuZERyb3Aocm93LCB0aGlzLl9fZ2V0Um93TW9kZWwocm93KSk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIF9maWx0ZXJEcmFnQW5kRHJvcChyb3csIHJvd0RhdGEpIHtcbiAgICBjb25zdCBkcmFnRGlzYWJsZWQgPSAhdGhpcy5yb3dzRHJhZ2dhYmxlIHx8ICh0aGlzLmRyYWdGaWx0ZXIgJiYgIXRoaXMuZHJhZ0ZpbHRlcihyb3dEYXRhKSk7XG4gICAgY29uc3QgZHJvcERpc2FibGVkID0gIXRoaXMuZHJvcE1vZGUgfHwgKHRoaXMuZHJvcEZpbHRlciAmJiAhdGhpcy5kcm9wRmlsdGVyKHJvd0RhdGEpKTtcblxuICAgIGNvbnN0IGRyYWdnYWJsZUVsZW1lbnRzID0gd2luZG93LlNoYWR5RE9NXG4gICAgICA/IFtyb3ddXG4gICAgICA6IEFycmF5LmZyb20ocm93LmNoaWxkcmVuKS5tYXAoY2VsbCA9PiBjZWxsLl9jb250ZW50KTtcblxuICAgIGRyYWdnYWJsZUVsZW1lbnRzLmZvckVhY2goZSA9PiB7XG4gICAgICBpZiAoZHJhZ0Rpc2FibGVkKSB7XG4gICAgICAgIGUucmVtb3ZlQXR0cmlidXRlKCdkcmFnZ2FibGUnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGUuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnZHJhZy1kaXNhYmxlZCcsIGRyYWdEaXNhYmxlZCwgcm93KTtcbiAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ2Ryb3AtZGlzYWJsZWQnLCBkcm9wRGlzYWJsZWQsIHJvdyk7XG4gIH1cblxuICAvKipcbiAgICogRmlyZWQgd2hlbiBzdGFydGluZyB0byBkcmFnIGdyaWQgcm93cy5cbiAgICpcbiAgICogQGV2ZW50IGdyaWQtZHJhZ3N0YXJ0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IFRoZSBuYXRpdmUgZHJhZ3N0YXJ0IGV2ZW50XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWxcbiAgICogQHBhcmFtIHtPYmplY3R9IGRldGFpbC5kcmFnZ2VkSXRlbXMgdGhlIGl0ZW1zIGluIHRoZSB2aXNpYmxlIHZpZXdwb3J0IHRoYXQgYXJlIGRyYWdnZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGV0YWlsLnNldERyYWdnZWRJdGVtc0NvdW50IE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBudW1iZXIgc2hvd24gaW4gdGhlIGRyYWcgaW1hZ2Ugb24gbXVsdGkgcm93IGRyYWcuXG4gICAqIFBhcmFtZXRlciBpcyBvZiB0eXBlIG51bWJlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGV0YWlsLnNldERyYWdEYXRhIFNldHMgZGF0YVRyYW5zZmVyIGRhdGEgZm9yIHRoZSBkcmFnIG9wZXJhdGlvbi5cbiAgICogTm90ZSB0aGF0IFwidGV4dFwiIGlzIHRoZSBvbmx5IGRhdGEgdHlwZSBzdXBwb3J0ZWQgYnkgYWxsIHRoZSBicm93c2VycyB0aGUgZ3JpZCBjdXJyZW50bHkgc3VwcG9ydHMgKGluY2x1ZGluZyBJRTExKS5cbiAgICogVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBwYXJhbWV0ZXJzOlxuICAgKiAtIHR5cGU6c3RyaW5nIFRoZSB0eXBlIG9mIHRoZSBkYXRhXG4gICAqIC0gZGF0YTpzdHJpbmcgVGhlIGRhdGFcbiAgICovXG5cbiAgLyoqXG4gICAqIEZpcmVkIHdoZW4gdGhlIGRyYWdnaW5nIG9mIHRoZSByb3dzIGVuZHMuXG4gICAqXG4gICAqIEBldmVudCBncmlkLWRyYWdlbmRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9yaWdpbmFsRXZlbnQgVGhlIG5hdGl2ZSBkcmFnZW5kIGV2ZW50XG4gICAqL1xuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIGEgZHJvcCBvY2N1cnMgb24gdG9wIG9mIHRoZSBncmlkLlxuICAgKlxuICAgKiBAZXZlbnQgZ3JpZC1kcm9wXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcmlnaW5hbEV2ZW50IFRoZSBuYXRpdmUgZHJvcCBldmVudFxuICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWwuZHJvcFRhcmdldEl0ZW0gVGhlIGl0ZW0gb2YgdGhlIGdyaWQgcm93IG9uIHdoaWNoIHRoZSBkcm9wIG9jY3VycmVkLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV0YWlsLmRyb3BMb2NhdGlvbiBUaGUgcG9zaXRpb24gYXQgd2hpY2ggdGhlIGRyb3AgZXZlbnQgdG9vayBwbGFjZSByZWxhdGl2ZSB0byBhIHJvdy5cbiAgICogRGVwZW5kaW5nIG9uIHRoZSBkcm9wTW9kZSB2YWx1ZSwgdGhlIGRyb3AgbG9jYXRpb24gY2FuIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nXG4gICAqIC0gYG9uLXRvcGA6IHdoZW4gdGhlIGRyb3Agb2NjdXJyZWQgb24gdG9wIG9mIHRoZSByb3dcbiAgICogLSBgYWJvdmVgOiB3aGVuIHRoZSBkcm9wIG9jY3VycmVkIGFib3ZlIHRoZSByb3dcbiAgICogLSBgYmVsb3dgOiB3aGVuIHRoZSBkcm9wIG9jY3VycmVkIGJlbG93IHRoZSByb3dcbiAgICogLSBgZW1wdHlgOiB3aGVuIHRoZSBkcm9wIG9jY3VycmVkIG92ZXIgdGhlIGdyaWQsIG5vdCByZWxhdGl2ZSB0byBhbnkgc3BlY2lmaWMgcm93XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXRhaWwuZHJhZ0RhdGEgQW4gYXJyYXkgb2YgaXRlbXMgd2l0aCB0aGUgcGF5bG9hZCBhcyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBhcyB0aGVcbiAgICogYGRhdGFgIHByb3BlcnR5IGFuZCB0aGUgdHlwZSBvZiB0aGUgZGF0YSBhcyBgdHlwZWAgcHJvcGVydHkuXG4gICAqL1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbi8qKlxuICogQHBvbHltZXJNaXhpblxuICovXG5leHBvcnQgY29uc3QgS2V5Ym9hcmROYXZpZ2F0aW9uTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIEtleWJvYXJkTmF2aWdhdGlvbk1peGluIGV4dGVuZHMgc3VwZXJDbGFzcyB7XG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX2hlYWRlckZvY3VzYWJsZToge1xuICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgIG9ic2VydmVyOiAnX2ZvY3VzYWJsZUNoYW5nZWQnXG4gICAgICB9LFxuICAgICAgX2l0ZW1zRm9jdXNhYmxlOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgb2JzZXJ2ZXI6ICdfZm9jdXNhYmxlQ2hhbmdlZCdcbiAgICAgIH0sXG4gICAgICBfZm9vdGVyRm9jdXNhYmxlOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdCxcbiAgICAgICAgb2JzZXJ2ZXI6ICdfZm9jdXNhYmxlQ2hhbmdlZCdcbiAgICAgIH0sXG4gICAgICBfbmF2aWdhdGluZ0lzSGlkZGVuOiBCb29sZWFuLFxuICAgICAgX2ZvY3VzZWRJdGVtSW5kZXg6IHtcbiAgICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSxcbiAgICAgIF9mb2N1c2VkQ29sdW1uT3JkZXI6IE51bWJlclxuICAgIH07XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICBzdXBlci5yZWFkeSgpO1xuXG4gICAgaWYgKHRoaXMuX2lvcyB8fCB0aGlzLl9hbmRyb2lkKSB7XG4gICAgICAvLyBEaXNhYmxlIGtleWJvYXJkIG5hdmlnYXRpb24gb24gbW9iaWxlIGRldmljZXNcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24pO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuX29uRm9jdXNJbik7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQpO1xuXG4gICAgLy8gV2hlbiBmb2N1cyBnb2VzIGZyb20gY2VsbCB0byBhbm90aGVyIGNlbGwsIGZvY3VzaW4vZm9jdXNvdXQgZXZlbnRzIGRvXG4gICAgLy8gbm90IGVzY2FwZSB0aGUgZ3JpZOKAmXMgc2hhZG93Um9vdCwgdGh1cyBsaXN0ZW5pbmcgaW5zaWRlIHRoZSBzaGFkb3dSb290LlxuICAgIHRoaXMuJC50YWJsZS5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgdGhpcy5fb25DZWxsRm9jdXNJbi5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLiQudGFibGUuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLl9vbkNlbGxGb2N1c091dC5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT4ge1xuICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCduYXZpZ2F0aW5nJywgZmFsc2UsIHRoaXMpO1xuICAgICAgdGhpcy5faXNNb3VzZWRvd24gPSB0cnVlO1xuICAgIH0pO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+IHRoaXMuX2lzTW91c2Vkb3duID0gZmFsc2UpO1xuICB9XG5cbiAgX2ZvY3VzYWJsZUNoYW5nZWQoZm9jdXNhYmxlLCBvbGRGb2N1c2FibGUpIHtcbiAgICBpZiAob2xkRm9jdXNhYmxlKSB7XG4gICAgICBvbGRGb2N1c2FibGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIH1cbiAgICBpZiAoZm9jdXNhYmxlKSB7XG4gICAgICBmb2N1c2FibGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG4gICAgfVxuICB9XG5cbiAgX29uS2V5RG93bihlKSB7XG4gICAgLy8gRW5zdXJlIHN0YW5kYXJkIGtleSB2YWx1ZSwgdW5pZmllZCBhY3Jvc3MgYnJvd3NlcnNcbiAgICBsZXQga2V5ID0gZS5rZXk7XG4gICAgaWYgKGtleSA9PT0gJ1VwJyB8fCBrZXkgPT09ICdEb3duJyB8fCBrZXkgPT09ICdMZWZ0JyB8fCBrZXkgPT09ICdSaWdodCcpIHtcbiAgICAgIC8vIE1TSUUgJiBFZGdlXG4gICAgICBrZXkgPSAnQXJyb3cnICsga2V5O1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnRXNjJykge1xuICAgICAgLy8gTVNJRSAmIEVkZ2VcbiAgICAgIGtleSA9ICdFc2NhcGUnO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnU3BhY2ViYXInKSB7XG4gICAgICAvLyBNU0lFXG4gICAgICBrZXkgPSAnICc7XG4gICAgfVxuXG4gICAgbGV0IGtleUdyb3VwO1xuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICBjYXNlICdQYWdlVXAnOlxuICAgICAgY2FzZSAnUGFnZURvd24nOlxuICAgICAgY2FzZSAnSG9tZSc6XG4gICAgICBjYXNlICdFbmQnOlxuICAgICAgICBrZXlHcm91cCA9ICdOYXZpZ2F0aW9uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdFbnRlcic6XG4gICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgY2FzZSAnRjInOlxuICAgICAgICBrZXlHcm91cCA9ICdJbnRlcmFjdGlvbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnVGFiJzpcbiAgICAgICAga2V5R3JvdXAgPSAnVGFiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcgJzpcbiAgICAgICAga2V5R3JvdXAgPSAnU3BhY2UnO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICB0aGlzLl9kZXRlY3RJbnRlcmFjdGluZyhlKTtcbiAgICBpZiAodGhpcy5oYXNBdHRyaWJ1dGUoJ2ludGVyYWN0aW5nJykgJiYga2V5R3JvdXAgIT09ICdJbnRlcmFjdGlvbicpIHtcbiAgICAgIC8vIFdoZW4gaW4gdGhlIGludGVyYWN0aW5nIG1vZGUsIG9ubHkgdGhlIOKAnEludGVyYWN0aW9u4oCdIGtleXMgYXJlIGhhbmRsZWQuXG4gICAgICBrZXlHcm91cCA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoa2V5R3JvdXApIHtcbiAgICAgIHRoaXNbYF9vbiR7a2V5R3JvdXB9S2V5RG93bmBdKGUsIGtleSk7XG4gICAgfVxuICB9XG5cbiAgX2Vuc3VyZVNjcm9sbGVkVG9JbmRleChpbmRleCkge1xuICAgIGNvbnN0IHRhcmdldFJvd0luRG9tID0gQXJyYXkuZnJvbSh0aGlzLiQuaXRlbXMuY2hpbGRyZW4pLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5pbmRleCA9PT0gaW5kZXgpWzBdO1xuICAgIGlmICghdGFyZ2V0Um93SW5Eb20pIHtcbiAgICAgIHRoaXMuX3Njcm9sbFRvSW5kZXgoaW5kZXgpO1xuICAgIH1cbiAgfVxuXG4gIF9vbk5hdmlnYXRpb25LZXlEb3duKGUsIGtleSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGZ1bmN0aW9uIGluZGV4T2ZDaGlsZEVsZW1lbnQoZWwpIHtcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGVsLnBhcmVudE5vZGUuY2hpbGRyZW4sIGVsKTtcbiAgICB9XG5cbiAgICBjb25zdCB2aXNpYmxlSXRlbXNDb3VudCA9IHRoaXMuX2xhc3RWaXNpYmxlSW5kZXggLSB0aGlzLl9maXJzdFZpc2libGVJbmRleCAtIDE7XG5cbiAgICBsZXQgZHggPSAwLCBkeSA9IDA7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgICBkeCA9IDE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgZHggPSAtMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgZHggPSAtSW5maW5pdHk7XG4gICAgICAgIGUuY3RybEtleSAmJiAoZHkgPSAtSW5maW5pdHkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgIGR4ID0gSW5maW5pdHk7XG4gICAgICAgIGUuY3RybEtleSAmJiAoZHkgPSBJbmZpbml0eSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgZHkgPSAxO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxuICAgICAgICBkeSA9IC0xO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1BhZ2VEb3duJzpcbiAgICAgICAgZHkgPSB2aXNpYmxlSXRlbXNDb3VudDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdQYWdlVXAnOlxuICAgICAgICBkeSA9IC12aXNpYmxlSXRlbXNDb3VudDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlQ2VsbCA9IGUuY29tcG9zZWRQYXRoKClbMF07XG4gICAgY29uc3QgY29sdW1uSW5kZXggPSBpbmRleE9mQ2hpbGRFbGVtZW50KGFjdGl2ZUNlbGwpO1xuICAgIGNvbnN0IGlzUm93RGV0YWlscyA9IHRoaXMuX2VsZW1lbnRNYXRjaGVzKGFjdGl2ZUNlbGwsICdbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0nKTtcblxuICAgIGNvbnN0IGFjdGl2ZVJvdyA9IGFjdGl2ZUNlbGwucGFyZW50Tm9kZTtcblxuICAgIGNvbnN0IGFjdGl2ZVJvd0dyb3VwID0gYWN0aXZlUm93LnBhcmVudE5vZGU7XG4gICAgY29uc3QgbWF4Um93SW5kZXggPSAoYWN0aXZlUm93R3JvdXAgPT09IHRoaXMuJC5pdGVtcyA/IHRoaXMuX2VmZmVjdGl2ZVNpemUgOiBhY3RpdmVSb3dHcm91cC5jaGlsZHJlbi5sZW5ndGgpIC0gMTtcblxuICAgIC8vIEJvZHkgcm93cyBoYXZlIGluZGV4IHByb3BlcnR5LCBvdGhlcndpc2UgRE9NIGNoaWxkIGluZGV4IG9mIHRoZSByb3cgaXMgdXNlZC5cbiAgICBjb25zdCByb3dJbmRleCA9IChhY3RpdmVSb3dHcm91cCA9PT0gdGhpcy4kLml0ZW1zKSA/XG4gICAgICAodGhpcy5fZm9jdXNlZEl0ZW1JbmRleCAhPT0gdW5kZWZpbmVkID8gdGhpcy5fZm9jdXNlZEl0ZW1JbmRleCA6IGFjdGl2ZVJvdy5pbmRleCkgOlxuICAgICAgaW5kZXhPZkNoaWxkRWxlbWVudChhY3RpdmVSb3cpO1xuXG4gICAgLy8gSW5kZXggb2YgdGhlIGRlc3RpbmF0aW9uIHJvd1xuICAgIGxldCBkc3RSb3dJbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHJvd0luZGV4ICsgZHksIG1heFJvd0luZGV4KSk7XG5cbiAgICAvLyBSb3cgZGV0YWlscyBuYXZpZ2F0aW9uIGxvZ2ljXG4gICAgbGV0IGRzdElzUm93RGV0YWlscyA9IGZhbHNlO1xuICAgIGlmIChhY3RpdmVSb3dHcm91cCA9PT0gdGhpcy4kLml0ZW1zKSB7XG4gICAgICBjb25zdCBpdGVtID0gYWN0aXZlUm93Ll9pdGVtO1xuICAgICAgY29uc3QgZHN0SXRlbSA9IHRoaXMuX2NhY2hlLmdldEl0ZW1Gb3JJbmRleChkc3RSb3dJbmRleCk7XG4gICAgICAvLyBTaG91bGQgd2UgbmF2aWdhdGUgdG8gcm93IGRldGFpbHM/XG4gICAgICBpZiAoaXNSb3dEZXRhaWxzKSB7XG4gICAgICAgIGRzdElzUm93RGV0YWlscyA9IGR5ID09PSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZHN0SXNSb3dEZXRhaWxzID0gZHkgPT09IDEgJiYgdGhpcy5faXNEZXRhaWxzT3BlbmVkKGl0ZW0pIHx8XG4gICAgICAgICAgZHkgPT09IC0xICYmIGRzdFJvd0luZGV4ICE9PSByb3dJbmRleCAmJiB0aGlzLl9pc0RldGFpbHNPcGVuZWQoZHN0SXRlbSk7XG4gICAgICB9XG4gICAgICAvLyBTaG91bGQgd2UgbmF2aWdhdGUgYmV0d2VlbiBkZXRhaWxzIGFuZCByZWd1bGFyIGNlbGxzIG9mIHRoZSBzYW1lIHJvdz9cbiAgICAgIGlmIChkc3RJc1Jvd0RldGFpbHMgIT09IGlzUm93RGV0YWlscyAmJlxuICAgICAgICAgIChkeSA9PT0gMSAmJiBkc3RJc1Jvd0RldGFpbHMgfHwgZHkgPT09IC0xICYmICFkc3RJc1Jvd0RldGFpbHMpKSB7XG4gICAgICAgIGRzdFJvd0luZGV4ID0gcm93SW5kZXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGVhZGVyIGFuZCBmb290ZXIgY291bGQgaGF2ZSBoaWRkZW4gcm93cywgZS4gZy4sIGlmIG5vbmUgb2YgdGhlIGNvbHVtbnNcbiAgICAvLyBvciBncm91cHMgb24gdGhlIGdpdmVuIGNvbHVtbiB0cmVlIGxldmVsIGRlZmluZSB0ZW1wbGF0ZS4gU2tpcCB0aGVtXG4gICAgLy8gaW4gdmVydGljYWwga2V5Ym9hcmQgbmF2aWdhdGlvbi5cbiAgICBpZiAoYWN0aXZlUm93R3JvdXAgIT09IHRoaXMuJC5pdGVtcykge1xuICAgICAgaWYgKGRzdFJvd0luZGV4ID4gcm93SW5kZXgpIHtcbiAgICAgICAgd2hpbGUgKFxuICAgICAgICAgIGRzdFJvd0luZGV4IDwgbWF4Um93SW5kZXggJiZcbiAgICAgICAgICBhY3RpdmVSb3dHcm91cC5jaGlsZHJlbltkc3RSb3dJbmRleF0uaGlkZGVuXG4gICAgICAgICkge1xuICAgICAgICAgIGRzdFJvd0luZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoZHN0Um93SW5kZXggPCByb3dJbmRleCkge1xuICAgICAgICB3aGlsZSAoXG4gICAgICAgICAgZHN0Um93SW5kZXggPiAwICYmXG4gICAgICAgICAgYWN0aXZlUm93R3JvdXAuY2hpbGRyZW5bZHN0Um93SW5kZXhdLmhpZGRlblxuICAgICAgICApIHtcbiAgICAgICAgICBkc3RSb3dJbmRleC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gX2ZvY3VzZWRDb2x1bW5PcmRlciBpcyBtZW1vaXplZCDigJQgdGhpcyBpcyB0byBlbnN1cmUgcHJlZGljdGFibGVcbiAgICAvLyBuYXZpZ2F0aW9uIHdoZW4gZW50ZXJpbmcgYW5kIGxlYXZpbmcgZGV0YWlsIGFuZCBjb2x1bW4gZ3JvdXAgY2VsbHMuXG4gICAgaWYgKHRoaXMuX2ZvY3VzZWRDb2x1bW5PcmRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAoaXNSb3dEZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuX2ZvY3VzZWRDb2x1bW5PcmRlciA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9mb2N1c2VkQ29sdW1uT3JkZXIgPSB0aGlzLl9nZXRDb2x1bW5zKGFjdGl2ZVJvd0dyb3VwLCByb3dJbmRleClbY29sdW1uSW5kZXhdLl9vcmRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGaW5kIG9yZGVyZWRDb2x1bW5JbmRleCDigJQgdGhlIGluZGV4IG9mIG9yZGVyIGNsb3Nlc3QgbWF0Y2hpbmcgdGhlXG4gICAgLy8gb3JpZ2luYWwgX2ZvY3VzZWRDb2x1bW5PcmRlciBpbiB0aGUgc29ydGVkIGFycmF5IG9mIG9yZGVyc1xuICAgIC8vIG9mIHRoZSB2aXNpYmxlIGNvbHVtbnMgb24gdGhlIGRlc3RpbmF0aW9uIHJvdy5cbiAgICBjb25zdCBkc3RDb2x1bW5zID0gdGhpcy5fZ2V0Q29sdW1ucyhhY3RpdmVSb3dHcm91cCwgZHN0Um93SW5kZXgpO1xuICAgIGNvbnN0IGRzdFNvcnRlZENvbHVtbk9yZGVycyA9IGRzdENvbHVtbnMuZmlsdGVyKGMgPT4gIWMuaGlkZGVuKS5tYXAoYyA9PiBjLl9vcmRlcilcbiAgICAgIC5zb3J0KChiLCBhKSA9PiAoYiAtIGEpKTtcbiAgICBjb25zdCBtYXhPcmRlcmVkQ29sdW1uSW5kZXggPSBkc3RTb3J0ZWRDb2x1bW5PcmRlcnMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBvcmRlcmVkQ29sdW1uSW5kZXggPSBkc3RTb3J0ZWRDb2x1bW5PcmRlcnMuaW5kZXhPZihcbiAgICAgIGRzdFNvcnRlZENvbHVtbk9yZGVycy5zbGljZSgwKS5zb3J0KChiLCBhKSA9PlxuICAgICAgICBNYXRoLmFicyhiIC0gdGhpcy5fZm9jdXNlZENvbHVtbk9yZGVyKSAtIE1hdGguYWJzKGEgLSB0aGlzLl9mb2N1c2VkQ29sdW1uT3JkZXIpXG4gICAgICApWzBdXG4gICAgKTtcblxuICAgIC8vIEluZGV4IG9mIHRoZSBkZXN0aW5hdGlvbiBjb2x1bW4gb3JkZXJcbiAgICBjb25zdCBkc3RPcmRlcmVkQ29sdW1uSW5kZXggPSAoZHkgPT09IDAgJiYgaXNSb3dEZXRhaWxzKSA/IG9yZGVyZWRDb2x1bW5JbmRleCA6XG4gICAgICBNYXRoLm1heCgwLCBNYXRoLm1pbihvcmRlcmVkQ29sdW1uSW5kZXggKyBkeCwgbWF4T3JkZXJlZENvbHVtbkluZGV4KSk7XG5cbiAgICBpZiAoZHN0T3JkZXJlZENvbHVtbkluZGV4ICE9PSBvcmRlcmVkQ29sdW1uSW5kZXgpIHtcbiAgICAgIC8vIEhvcml6b250YWwgbW92ZW1lbnQgaW52YWxpZGF0ZXMgc3RvcmVkIF9mb2N1c2VkQ29sdW1uT3JkZXJcbiAgICAgIHRoaXMuX2ZvY3VzZWRDb2x1bW5PcmRlciA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgY29ycmVjdCB2ZXJ0aWNhbCBzY3JvbGwgcG9zaXRpb24sIGRlc3RpbmF0aW9uIHJvdyBpcyB2aXNpYmxlXG4gICAgaWYgKGFjdGl2ZVJvd0dyb3VwID09PSB0aGlzLiQuaXRlbXMpIHtcbiAgICAgIHRoaXMuX2Vuc3VyZVNjcm9sbGVkVG9JbmRleChkc3RSb3dJbmRleCk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBoYXMgdG8gYmUgc2V0IGFmdGVyIHNjcm9sbGluZywgb3RoZXJ3aXNlIGl0IGNhbiBiZSByZW1vdmVkIGJ5XG4gICAgLy8gYF9wcmV2ZW50U2Nyb2xsZXJSb3RhdGluZ0NlbGxGb2N1cyhpdGVtLCBpbmRleClgIGR1cmluZyBzY3JvbGxpbmcuXG4gICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCduYXZpZ2F0aW5nJywgdHJ1ZSwgdGhpcyk7XG5cbiAgICBjb25zdCBjb2x1bW5JbmRleEJ5T3JkZXIgPSBkc3RDb2x1bW5zLnJlZHVjZSgoYWNjLCBjb2wsIGkpID0+IChhY2NbY29sLl9vcmRlcl0gPSBpLCBhY2MpLCB7fSk7XG4gICAgY29uc3QgZHN0Q29sdW1uSW5kZXggPSBjb2x1bW5JbmRleEJ5T3JkZXJbZHN0U29ydGVkQ29sdW1uT3JkZXJzW2RzdE9yZGVyZWRDb2x1bW5JbmRleF1dO1xuXG4gICAgLy8gRm9yIGJvZHkgcm93cywgdXNlIGluZGV4IHByb3BlcnR5IHRvIGZpbmQgZGVzdGluYXRpb24gcm93LCBvdGhlcndpc2UgdXNlIERPTSBjaGlsZCBpbmRleFxuICAgIGNvbnN0IGRzdFJvdyA9IGFjdGl2ZVJvd0dyb3VwID09PSB0aGlzLiQuaXRlbXMgP1xuICAgICAgQXJyYXkuZnJvbShhY3RpdmVSb3dHcm91cC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLmluZGV4ID09PSBkc3RSb3dJbmRleClbMF0gOlxuICAgICAgYWN0aXZlUm93R3JvdXAuY2hpbGRyZW5bZHN0Um93SW5kZXhdO1xuICAgIGlmICghZHN0Um93KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSGVyZSB3ZSBnbyFcbiAgICBjb25zdCBkc3RDZWxsID0gZHN0SXNSb3dEZXRhaWxzID9cbiAgICAgIEFycmF5LmZyb20oZHN0Um93LmNoaWxkcmVuKVxuICAgICAgICAuZmlsdGVyKGVsID0+IHRoaXMuX2VsZW1lbnRNYXRjaGVzKGVsLCAnW3BhcnR+PVwiZGV0YWlscy1jZWxsXCJdJykpWzBdIDpcbiAgICAgIGRzdFJvdy5jaGlsZHJlbltkc3RDb2x1bW5JbmRleF07XG4gICAgdGhpcy5fc2Nyb2xsSG9yaXpvbnRhbGx5VG9DZWxsKGRzdENlbGwpO1xuICAgIGlmIChhY3RpdmVSb3dHcm91cCA9PT0gdGhpcy4kLml0ZW1zKSB7XG4gICAgICAvLyBXaGVuIHNjcm9sbGluZyB3aXRoIHJlcGVhdGVkIGtleWRvd24sIHNvbWV0aW1lcyBGb2N1c0V2ZW50IGxpc3RlbmVyc1xuICAgICAgLy8gYXJlIHRvbyBsYXRlIHRvIHVwZGF0ZSBfZm9jdXNlZEl0ZW1JbmRleC4gRW5zdXJlIG5leHQga2V5ZG93blxuICAgICAgLy8gbGlzdGVuZXIgaW52b2NhdGlvbiBnZXRzIHVwZGF0ZWQgX2ZvY3VzZWRJdGVtSW5kZXggdmFsdWUuXG4gICAgICB0aGlzLl9mb2N1c2VkSXRlbUluZGV4ID0gZHN0Um93SW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVJvd0dyb3VwID09PSB0aGlzLiQuaXRlbXMpIHtcbiAgICAgIGNvbnN0IGRzdFJlY3QgPSBkc3RDZWxsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgZm9vdGVyVG9wID0gdGhpcy4kLmZvb3Rlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICBjb25zdCBoZWFkZXJCb3R0b20gPSB0aGlzLiQuaGVhZGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcbiAgICAgIGlmIChkc3RSZWN0LmJvdHRvbSA+IGZvb3RlclRvcCkge1xuICAgICAgICB0aGlzLiQudGFibGUuc2Nyb2xsVG9wICs9IGRzdFJlY3QuYm90dG9tIC0gZm9vdGVyVG9wO1xuICAgICAgICB0aGlzLl9zY3JvbGxIYW5kbGVyKCk7XG4gICAgICB9IGVsc2UgaWYgKGRzdFJlY3QudG9wIDwgaGVhZGVyQm90dG9tKSB7XG4gICAgICAgIHRoaXMuJC50YWJsZS5zY3JvbGxUb3AgLT0gaGVhZGVyQm90dG9tIC0gZHN0UmVjdC50b3A7XG4gICAgICAgIHRoaXMuX3Njcm9sbEhhbmRsZXIoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBkc3RDZWxsLmZvY3VzKCk7XG4gIH1cblxuICBfcGFyc2VFdmVudFBhdGgocGF0aCkge1xuICAgIGNvbnN0IHRhYmxlSW5kZXggPSBwYXRoLmluZGV4T2YodGhpcy4kLnRhYmxlKTtcbiAgICByZXR1cm4ge1xuICAgICAgcm93R3JvdXA6IHBhdGhbdGFibGVJbmRleCAtIDFdLFxuICAgICAgcm93OiBwYXRoW3RhYmxlSW5kZXggLSAyXSxcbiAgICAgIGNlbGw6IHBhdGhbdGFibGVJbmRleCAtIDNdXG4gICAgfTtcbiAgfVxuXG4gIF9vbkludGVyYWN0aW9uS2V5RG93bihlLCBrZXkpIHtcbiAgICBjb25zdCBsb2NhbFRhcmdldCA9IGUuY29tcG9zZWRQYXRoKClbMF07XG4gICAgY29uc3QgbG9jYWxUYXJnZXRJc1RleHRJbnB1dCA9IGxvY2FsVGFyZ2V0LmxvY2FsTmFtZSA9PT0gJ2lucHV0JyAmJlxuICAgICAgIS9eKGJ1dHRvbnxjaGVja2JveHxjb2xvcnxmaWxlfGltYWdlfHJhZGlvfHJhbmdlfHJlc2V0fHN1Ym1pdCkkL2kudGVzdChsb2NhbFRhcmdldC50eXBlKTtcblxuICAgIGxldCB3YW50SW50ZXJhY3Rpbmc7XG4gICAgc3dpdGNoIChrZXkpIHtcbiAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgd2FudEludGVyYWN0aW5nID0gdGhpcy5oYXNBdHRyaWJ1dGUoJ2ludGVyYWN0aW5nJykgPyAhbG9jYWxUYXJnZXRJc1RleHRJbnB1dCA6IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRXNjYXBlJzpcbiAgICAgICAgd2FudEludGVyYWN0aW5nID0gZmFsc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRjInOlxuICAgICAgICB3YW50SW50ZXJhY3RpbmcgPSAhdGhpcy5oYXNBdHRyaWJ1dGUoJ2ludGVyYWN0aW5nJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGNvbnN0IHtjZWxsfSA9IHRoaXMuX3BhcnNlRXZlbnRQYXRoKGUuY29tcG9zZWRQYXRoKCkpO1xuXG4gICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKCdpbnRlcmFjdGluZycpICE9PSB3YW50SW50ZXJhY3RpbmcpIHtcbiAgICAgIGlmICh3YW50SW50ZXJhY3RpbmcpIHtcbiAgICAgICAgY29uc3QgZm9jdXNUYXJnZXQgPSBjZWxsLl9jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ1tmb2N1cy10YXJnZXRdJykgfHxcbiAgICAgICAgICBjZWxsLl9jb250ZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICBpZiAoZm9jdXNUYXJnZXQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZm9jdXNUYXJnZXQuZm9jdXMoKTtcbiAgICAgICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ2ludGVyYWN0aW5nJywgdHJ1ZSwgdGhpcyk7XG4gICAgICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCduYXZpZ2F0aW5nJywgZmFsc2UsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuX2ZvY3VzZWRDb2x1bW5PcmRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgY2VsbC5mb2N1cygpO1xuICAgICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ2ludGVyYWN0aW5nJywgZmFsc2UsIHRoaXMpO1xuICAgICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ25hdmlnYXRpbmcnLCB0cnVlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfcHJlZGljdEZvY3VzU3RlcFRhcmdldChzcmNFbGVtZW50LCBzdGVwKSB7XG4gICAgY29uc3QgdGFiT3JkZXIgPSBbXG4gICAgICB0aGlzLiQudGFibGUsXG4gICAgICB0aGlzLl9oZWFkZXJGb2N1c2FibGUsXG4gICAgICB0aGlzLl9pdGVtc0ZvY3VzYWJsZSxcbiAgICAgIHRoaXMuX2Zvb3RlckZvY3VzYWJsZSxcbiAgICAgIHRoaXMuJC5mb2N1c2V4aXRcbiAgICBdO1xuXG4gICAgbGV0IGluZGV4ID0gdGFiT3JkZXIuaW5kZXhPZihzcmNFbGVtZW50KTtcblxuICAgIGluZGV4ICs9IHN0ZXA7XG4gICAgd2hpbGUgKGluZGV4ID49IDAgJiYgaW5kZXggPD0gdGFiT3JkZXIubGVuZ3RoIC0gMSAmJlxuICAgICAgICAoIXRhYk9yZGVyW2luZGV4XSB8fCB0YWJPcmRlcltpbmRleF0ucGFyZW50Tm9kZS5oaWRkZW4pKSB7XG4gICAgICBpbmRleCArPSBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiB0YWJPcmRlcltpbmRleF07XG4gIH1cblxuICBfb25UYWJLZXlEb3duKGUpIHtcbiAgICBjb25zdCBmb2N1c1RhcmdldCA9IHRoaXMuX3ByZWRpY3RGb2N1c1N0ZXBUYXJnZXQoZS5jb21wb3NlZFBhdGgoKVswXSwgZS5zaGlmdEtleSA/IC0xIDogMSk7XG5cbiAgICBpZiAoZm9jdXNUYXJnZXQgPT09IHRoaXMuJC50YWJsZSkge1xuICAgICAgLy8gVGhlIGZvY3VzIGlzIGFib3V0IHRvIGV4aXQgdGhlIGdyaWQgdG8gdGhlIHRvcC5cbiAgICAgIHRoaXMuJC50YWJsZS5mb2N1cygpO1xuICAgIH0gZWxzZSBpZiAoZm9jdXNUYXJnZXQgPT09IHRoaXMuJC5mb2N1c2V4aXQpIHtcbiAgICAgIC8vIFRoZSBmb2N1cyBpcyBhYm91dCB0byBleGl0IHRoZSBncmlkIHRvIHRoZSBib3R0b20uXG4gICAgICB0aGlzLiQuZm9jdXNleGl0LmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChmb2N1c1RhcmdldCA9PT0gdGhpcy5faXRlbXNGb2N1c2FibGUpIHtcbiAgICAgIGxldCBpdGVtc0ZvY3VzVGFyZ2V0ID0gZm9jdXNUYXJnZXQ7XG4gICAgICBjb25zdCB0YXJnZXRSb3cgPSB0aGlzLl9pdGVtc0ZvY3VzYWJsZS5wYXJlbnROb2RlO1xuICAgICAgdGhpcy5fZW5zdXJlU2Nyb2xsZWRUb0luZGV4KHRoaXMuX2ZvY3VzZWRJdGVtSW5kZXgpO1xuICAgICAgaWYgKHRhcmdldFJvdy5pbmRleCAhPT0gdGhpcy5fZm9jdXNlZEl0ZW1JbmRleCkge1xuICAgICAgICAvLyBUaGUgdGFyZ2V0IHJvdywgd2hpY2ggaXMgYWJvdXQgdG8gYmUgZm9jdXNlZCBuZXh0LCBoYXMgYmVlblxuICAgICAgICAvLyBhc3NpZ25lZCB3aXRoIGEgbmV3IGluZGV4IHNpbmNlIGxhc3QgZm9jdXMsIHByb2JhYmx5IGJlY2F1c2Ugb2ZcbiAgICAgICAgLy8gc2Nyb2xsaW5nLiBGb2N1cyB0aGUgcm93IGZvciB0aGUgc3RvcmVkIGZvY3VzZWQgaXRlbSBpbmRleCBpbnN0ZWFkLlxuICAgICAgICBjb25zdCBjb2x1bW5JbmRleCA9IEFycmF5LmZyb20odGFyZ2V0Um93LmNoaWxkcmVuKS5pbmRleE9mKHRoaXMuX2l0ZW1zRm9jdXNhYmxlKTtcbiAgICAgICAgY29uc3QgZm9jdXNlZEl0ZW1Sb3cgPSBBcnJheS5mcm9tKHRoaXMuJC5pdGVtcy5jaGlsZHJlbilcbiAgICAgICAgICAuZmlsdGVyKHJvdyA9PiByb3cuaW5kZXggPT09IHRoaXMuX2ZvY3VzZWRJdGVtSW5kZXgpWzBdO1xuICAgICAgICBpZiAoZm9jdXNlZEl0ZW1Sb3cpIHtcbiAgICAgICAgICBpdGVtc0ZvY3VzVGFyZ2V0ID0gZm9jdXNlZEl0ZW1Sb3cuY2hpbGRyZW5bY29sdW1uSW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpdGVtc0ZvY3VzVGFyZ2V0LmZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGZvY3VzVGFyZ2V0LmZvY3VzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCduYXZpZ2F0aW5nJywgdHJ1ZSwgdGhpcyk7XG4gIH1cblxuICBfb25TcGFjZUtleURvd24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGNvbnN0IGNlbGwgPSBlLmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgIGlmIChjZWxsLl9jb250ZW50ICYmIGNlbGwuX2NvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgIGNvbnN0IHdhc05hdmlnYXRpbmcgPSB0aGlzLmhhc0F0dHJpYnV0ZSgnbmF2aWdhdGluZycpO1xuICAgICAgY2VsbC5fY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbGljaygpO1xuICAgICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCduYXZpZ2F0aW5nJywgd2FzTmF2aWdhdGluZywgdGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NlbGwtYWN0aXZhdGUnLCB7ZGV0YWlsOiB7XG4gICAgICAgIG1vZGVsOiB0aGlzLl9fZ2V0Um93TW9kZWwoY2VsbC5wYXJlbnRFbGVtZW50KVxuICAgICAgfX0pKTtcbiAgICB9XG4gIH1cblxuICBfb25Gb2N1c0luKGUpIHtcbiAgICBpZiAoIXRoaXMuX2lzTW91c2Vkb3duKSB7XG4gICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ25hdmlnYXRpbmcnLCB0cnVlLCB0aGlzKTtcbiAgICB9XG5cbiAgICBjb25zdCByb290VGFyZ2V0ID0gZS5jb21wb3NlZFBhdGgoKVswXTtcblxuICAgIGlmIChyb290VGFyZ2V0ID09PSB0aGlzLiQudGFibGUgfHxcbiAgICAgICAgcm9vdFRhcmdldCA9PT0gdGhpcy4kLmZvY3VzZXhpdCkge1xuICAgICAgLy8gVGhlIGZvY3VzIGVudGVycyB0aGUgdG9wIChib3R0b20pIG9mIHRoZSBncmlkLCBtZWFuaW5nIHRoYXQgdXNlciBoYXNcbiAgICAgIC8vIHRhYmJlZCAoc2hpZnQtdGFiYmVkKSBpbnRvIHRoZSBncmlkLiBNb3ZlIHRoZSBmb2N1cyB0b1xuICAgICAgLy8gdGhlIGZpcnN0ICh0aGUgbGFzdCkgZm9jdXNhYmxlLlxuICAgICAgdGhpcy5fcHJlZGljdEZvY3VzU3RlcFRhcmdldChcbiAgICAgICAgcm9vdFRhcmdldCxcbiAgICAgICAgcm9vdFRhcmdldCA9PT0gdGhpcy4kLnRhYmxlID8gMSA6IC0xXG4gICAgICApLmZvY3VzKCk7XG4gICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ2ludGVyYWN0aW5nJywgZmFsc2UsIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kZXRlY3RJbnRlcmFjdGluZyhlKTtcbiAgICB9XG4gIH1cblxuICBfb25Gb2N1c091dChlKSB7XG4gICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCduYXZpZ2F0aW5nJywgZmFsc2UsIHRoaXMpO1xuICAgIHRoaXMuX2RldGVjdEludGVyYWN0aW5nKGUpO1xuICB9XG5cbiAgX29uQ2VsbEZvY3VzSW4oZSkge1xuICAgIHRoaXMuX2RldGVjdEludGVyYWN0aW5nKGUpO1xuXG4gICAgaWYgKGUuY29tcG9zZWRQYXRoKCkuaW5kZXhPZih0aGlzLiQudGFibGUpID09PSAzKSB7XG4gICAgICBjb25zdCBjZWxsID0gZS5jb21wb3NlZFBhdGgoKVswXTtcbiAgICAgIHRoaXMuX2FjdGl2ZVJvd0dyb3VwID0gY2VsbC5wYXJlbnROb2RlLnBhcmVudE5vZGU7XG4gICAgICBpZiAodGhpcy5fYWN0aXZlUm93R3JvdXAgPT09IHRoaXMuJC5oZWFkZXIpIHtcbiAgICAgICAgdGhpcy5faGVhZGVyRm9jdXNhYmxlID0gY2VsbDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYWN0aXZlUm93R3JvdXAgPT09IHRoaXMuJC5pdGVtcykge1xuICAgICAgICB0aGlzLl9pdGVtc0ZvY3VzYWJsZSA9IGNlbGw7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2FjdGl2ZVJvd0dyb3VwID09PSB0aGlzLiQuZm9vdGVyKSB7XG4gICAgICAgIHRoaXMuX2Zvb3RlckZvY3VzYWJsZSA9IGNlbGw7XG4gICAgICB9XG4gICAgICAvLyBJbmZvcm0gY2VsbCBjb250ZW50IG9mIHRoZSBmb2N1cyAodXNlZCBpbiA8dmFhZGluLWdyaWQtc29ydGVyPilcbiAgICAgIGNlbGwuX2NvbnRlbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NlbGwtZm9jdXNpbicsIHtidWJibGVzOiBmYWxzZX0pKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kZXRlY3RGb2N1c2VkSXRlbUluZGV4KGUpO1xuICB9XG5cbiAgX29uQ2VsbEZvY3VzT3V0KGUpIHtcbiAgICBpZiAoZS5jb21wb3NlZFBhdGgoKS5pbmRleE9mKHRoaXMuJC50YWJsZSkgPT09IDMpIHtcbiAgICAgIGNvbnN0IGNlbGwgPSBlLmNvbXBvc2VkUGF0aCgpWzBdO1xuICAgICAgLy8gSW5mb3JtIGNlbGwgY29udGVudCBvZiB0aGUgZm9jdXMgKHVzZWQgaW4gPHZhYWRpbi1ncmlkLXNvcnRlcj4pXG4gICAgICBjZWxsLl9jb250ZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjZWxsLWZvY3Vzb3V0Jywge2J1YmJsZXM6IGZhbHNlfSkpO1xuICAgIH1cbiAgfVxuXG4gIF9kZXRlY3RJbnRlcmFjdGluZyhlKSB7XG4gICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdpbnRlcmFjdGluZycsXG4gICAgICBlLmNvbXBvc2VkUGF0aCgpLnNvbWUoZWwgPT4gZWwubG9jYWxOYW1lID09PSAndmFhZGluLWdyaWQtY2VsbC1jb250ZW50JyksXG4gICAgICB0aGlzKTtcbiAgfVxuXG4gIF9kZXRlY3RGb2N1c2VkSXRlbUluZGV4KGUpIHtcbiAgICBjb25zdCB7cm93R3JvdXAsIHJvd30gPSB0aGlzLl9wYXJzZUV2ZW50UGF0aChlLmNvbXBvc2VkUGF0aCgpKTtcbiAgICBpZiAocm93R3JvdXAgPT09IHRoaXMuJC5pdGVtcykge1xuICAgICAgdGhpcy5fZm9jdXNlZEl0ZW1JbmRleCA9IHJvdy5pbmRleDtcbiAgICB9XG4gIH1cblxuICBfcHJldmVudFNjcm9sbGVyUm90YXRpbmdDZWxsRm9jdXMoaXRlbSwgaW5kZXgpIHtcbiAgICBpZiAoaXRlbS5pbmRleCA9PT0gdGhpcy5fZm9jdXNlZEl0ZW1JbmRleCAmJiB0aGlzLmhhc0F0dHJpYnV0ZSgnbmF2aWdhdGluZycpICYmIHRoaXMuX2FjdGl2ZVJvd0dyb3VwID09PSB0aGlzLiQuaXRlbXMpIHtcbiAgICAgIC8vIEZvY3VzZWQgaXRlbSBoYXMgd2VudCwgaGlkZSBuYXZpZ2F0aW9uIG1vZGVcbiAgICAgIHRoaXMuX25hdmlnYXRpbmdJc0hpZGRlbiA9IHRydWU7XG4gICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ25hdmlnYXRpbmcnLCBmYWxzZSwgdGhpcyk7XG4gICAgfVxuICAgIGlmIChpbmRleCA9PT0gdGhpcy5fZm9jdXNlZEl0ZW1JbmRleCAmJiB0aGlzLl9uYXZpZ2F0aW5nSXNIaWRkZW4pIHtcbiAgICAgIC8vIEZvY3VzZWQgaXRlbSBpcyBiYWNrLCByZXN0b3JlIG5hdmlnYXRpb24gbW9kZVxuICAgICAgdGhpcy5fbmF2aWdhdGluZ0lzSGlkZGVuID0gZmFsc2U7XG4gICAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ25hdmlnYXRpbmcnLCB0cnVlLCB0aGlzKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q29sdW1ucyhyb3dHcm91cCwgcm93SW5kZXgpIHtcbiAgICBsZXQgY29sdW1uVHJlZUxldmVsID0gdGhpcy5fY29sdW1uVHJlZS5sZW5ndGggLSAxO1xuICAgIGlmIChyb3dHcm91cCA9PT0gdGhpcy4kLmhlYWRlcikge1xuICAgICAgY29sdW1uVHJlZUxldmVsID0gcm93SW5kZXg7XG4gICAgfSBlbHNlIGlmIChyb3dHcm91cCA9PT0gdGhpcy4kLmZvb3Rlcikge1xuICAgICAgY29sdW1uVHJlZUxldmVsID0gdGhpcy5fY29sdW1uVHJlZS5sZW5ndGggLSAxIC0gcm93SW5kZXg7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jb2x1bW5UcmVlW2NvbHVtblRyZWVMZXZlbF07XG4gIH1cblxuICBfcmVzZXRLZXlib2FyZE5hdmlnYXRpb24oKSB7XG4gICAgaWYgKHRoaXMuJC5oZWFkZXIuZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgIHRoaXMuX2hlYWRlckZvY3VzYWJsZSA9IEFycmF5LmZyb20odGhpcy4kLmhlYWRlci5maXJzdEVsZW1lbnRDaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+ICFlbC5oaWRkZW4pWzBdO1xuICAgIH1cblxuICAgIGlmICh0aGlzLiQuaXRlbXMuZmlyc3RFbGVtZW50Q2hpbGQpIHtcbiAgICAgIGNvbnN0IGZpcnN0VmlzaWJsZUluZGV4Um93ID0gdGhpcy5faXRlcmF0ZUl0ZW1zKChwaWR4LCB2aWR4KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLl9maXJzdFZpc2libGVJbmRleCA9PT0gdmlkeCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLiQuaXRlbXMuY2hpbGRyZW5bcGlkeF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGZpcnN0VmlzaWJsZUluZGV4Um93KSB7XG4gICAgICAgIHRoaXMuX2l0ZW1zRm9jdXNhYmxlID0gQXJyYXkuZnJvbShmaXJzdFZpc2libGVJbmRleFJvdy5jaGlsZHJlbikuZmlsdGVyKGVsID0+ICFlbC5oaWRkZW4pWzBdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLiQuZm9vdGVyLmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICB0aGlzLl9mb290ZXJGb2N1c2FibGUgPSBBcnJheS5mcm9tKHRoaXMuJC5mb290ZXIuZmlyc3RFbGVtZW50Q2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiAhZWwuaGlkZGVuKVswXTtcbiAgICB9XG4gIH1cblxuICBfc2Nyb2xsSG9yaXpvbnRhbGx5VG9DZWxsKGRzdENlbGwpIHtcbiAgICBpZiAoZHN0Q2VsbC5oYXNBdHRyaWJ1dGUoJ2Zyb3plbicpIHx8IHRoaXMuX2VsZW1lbnRNYXRjaGVzKGRzdENlbGwsICdbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0nKSkge1xuICAgICAgLy8gVGhlc2UgY2VsbHMgYXJlLCBieSBkZXNpZ24sIGFsd2F5cyB2aXNpYmxlLCBubyBuZWVkIHRvIHNjcm9sbC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkc3RDZWxsUmVjdCA9IGRzdENlbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgZHN0Um93ID0gZHN0Q2VsbC5wYXJlbnROb2RlO1xuICAgIGNvbnN0IGRzdENlbGxJbmRleCA9IEFycmF5LmZyb20oZHN0Um93LmNoaWxkcmVuKS5pbmRleE9mKGRzdENlbGwpO1xuICAgIGNvbnN0IHRhYmxlUmVjdCA9IHRoaXMuJC50YWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgbGVmdEJvdW5kYXJ5ID0gdGFibGVSZWN0LmxlZnQsIHJpZ2h0Qm91bmRhcnkgPSB0YWJsZVJlY3QucmlnaHQ7XG4gICAgZm9yIChsZXQgaSA9IGRzdENlbGxJbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBjb25zdCBjZWxsID0gZHN0Um93LmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGNlbGwuaGFzQXR0cmlidXRlKCdoaWRkZW4nKSB8fFxuICAgICAgICAgIHRoaXMuX2VsZW1lbnRNYXRjaGVzKGNlbGwsICdbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0nKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmhhc0F0dHJpYnV0ZSgnZnJvemVuJykpIHtcbiAgICAgICAgbGVmdEJvdW5kYXJ5ID0gY2VsbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSBkc3RDZWxsSW5kZXggKyAxOyBpIDwgZHN0Um93LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBjZWxsID0gZHN0Um93LmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGNlbGwuaGFzQXR0cmlidXRlKCdoaWRkZW4nKSB8fFxuICAgICAgICAgIHRoaXMuX2VsZW1lbnRNYXRjaGVzKGNlbGwsICdbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0nKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjZWxsLmhhc0F0dHJpYnV0ZSgnZnJvemVuJykpIHtcbiAgICAgICAgcmlnaHRCb3VuZGFyeSA9IGNlbGwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRzdENlbGxSZWN0LmxlZnQgPCBsZWZ0Qm91bmRhcnkpIHtcbiAgICAgIHRoaXMuJC50YWJsZS5zY3JvbGxMZWZ0ICs9IE1hdGgucm91bmQoZHN0Q2VsbFJlY3QubGVmdCAtIGxlZnRCb3VuZGFyeSk7XG4gICAgfVxuICAgIGlmIChkc3RDZWxsUmVjdC5yaWdodCA+IHJpZ2h0Qm91bmRhcnkpIHtcbiAgICAgIHRoaXMuJC50YWJsZS5zY3JvbGxMZWZ0ICs9IE1hdGgucm91bmQoZHN0Q2VsbFJlY3QucmlnaHQgLSByaWdodEJvdW5kYXJ5KTtcbiAgICB9XG4gIH1cblxuICBfZWxlbWVudE1hdGNoZXMoZWwsIHF1ZXJ5KSB7XG4gICAgcmV0dXJuIGVsLm1hdGNoZXMgPyBlbC5tYXRjaGVzKHF1ZXJ5KSA6XG4gICAgICBBcnJheS5mcm9tKGVsLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChxdWVyeSkpLmluZGV4T2YoZWwpICE9PSAtMTtcbiAgfVxufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbmltcG9ydCB7IEdlc3R1cmVFdmVudExpc3RlbmVycyB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL21peGlucy9nZXN0dXJlLWV2ZW50LWxpc3RlbmVycy5qcyc7XG5cbmltcG9ydCB7IGFkZExpc3RlbmVyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZ2VzdHVyZXMuanMnO1xuaW1wb3J0IHsgZG9tIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvbGVnYWN5L3BvbHltZXIuZG9tLmpzJztcbmltcG9ydCB7IHVzZVNoYWRvdyB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL3NldHRpbmdzLmpzJztcblxuLyoqXG4gKiBAcG9seW1lck1peGluXG4gKi9cbmV4cG9ydCBjb25zdCBDb2x1bW5SZW9yZGVyaW5nTWl4aW4gPSBzdXBlckNsYXNzID0+IGNsYXNzIENvbHVtblJlb3JkZXJpbmdNaXhpbiBleHRlbmRzIEdlc3R1cmVFdmVudExpc3RlbmVycyhzdXBlckNsYXNzKSB7XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFNldCB0byB0cnVlIHRvIGFsbG93IGNvbHVtbiByZW9yZGVyaW5nLlxuICAgICAgICovXG4gICAgICBjb2x1bW5SZW9yZGVyaW5nQWxsb3dlZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH0sXG5cbiAgICAgIF9vcmRlckJhc2VTY29wZToge1xuICAgICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICAgIHZhbHVlOiAxMDAwMDAwMFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ191cGRhdGVPcmRlcnMoX2NvbHVtblRyZWUsIF9jb2x1bW5UcmVlLiopJ1xuICAgIF07XG4gIH1cblxuICByZWFkeSgpIHtcbiAgICBzdXBlci5yZWFkeSgpO1xuICAgIGFkZExpc3RlbmVyKHRoaXMsICd0cmFjaycsIHRoaXMuX29uVHJhY2tFdmVudCk7XG4gICAgdGhpcy5fcmVvcmRlckdob3N0ID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ1twYXJ0PVwicmVvcmRlci1naG9zdFwiXScpO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LmJpbmQodGhpcykpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIHRoaXMuX29uQ29udGV4dE1lbnUuYmluZCh0aGlzKSk7XG4gIH1cblxuICBfb25Db250ZXh0TWVudShlKSB7XG4gICAgaWYgKHRoaXMuaGFzQXR0cmlidXRlKCdyZW9yZGVyaW5nJykpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gIH1cblxuICBfb25Ub3VjaFN0YXJ0KGUpIHtcbiAgICAvLyBUb3VjaCBldmVudCwgZGVsYXkgYWN0aXZhdGlvbiBieSAxMDBtc1xuICAgIHRoaXMuX3N0YXJ0VG91Y2hSZW9yZGVyVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fb25UcmFja1N0YXJ0KHtcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgeDogZS50b3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgeTogZS50b3VjaGVzWzBdLmNsaWVudFlcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgMTAwKTtcbiAgfVxuXG4gIF9vblRvdWNoTW92ZShlKSB7XG4gICAgaWYgKHRoaXMuX2RyYWdnZWRDb2x1bW4pIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuX3N0YXJ0VG91Y2hSZW9yZGVyVGltZW91dCk7XG4gIH1cblxuICBfb25Ub3VjaEVuZCgpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fc3RhcnRUb3VjaFJlb3JkZXJUaW1lb3V0KTtcbiAgICB0aGlzLl9vblRyYWNrRW5kKCk7XG4gIH1cblxuICBfb25UcmFja0V2ZW50KGUpIHtcbiAgICBpZiAoZS5kZXRhaWwuc3RhdGUgPT09ICdzdGFydCcpIHtcbiAgICAgIGNvbnN0IHBhdGggPSBlLmNvbXBvc2VkUGF0aCgpO1xuICAgICAgY29uc3QgaGVhZGVyQ2VsbCA9IHBhdGhbcGF0aC5pbmRleE9mKHRoaXMuJC5oZWFkZXIpIC0gMl07XG4gICAgICBpZiAoIWhlYWRlckNlbGwgfHwgIWhlYWRlckNlbGwuX2NvbnRlbnQpIHtcbiAgICAgICAgLy8gTm90IGEgaGVhZGVyIGNvbHVtblxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSB0aGlzLmdldFJvb3ROb2RlKCkuYWN0aXZlRWxlbWVudDtcbiAgICAgIGlmIChoZWFkZXJDZWxsLl9jb250ZW50LmNvbnRhaW5zKHRoaXMuZ2V0Um9vdE5vZGUoKS5hY3RpdmVFbGVtZW50KVxuICAgICAgICAgICYmICghdGhpcy5faWUgfHwgIXRoaXMuX2lzRm9jdXNhYmxlKGFjdGl2ZUVsZW1lbnQpKSkge1xuICAgICAgICAvLyBTb21ldGhpbmcgd2FzIGZvY3VzZWQgaW5zaWRlIHRoZSBjZWxsXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuJC5zY3JvbGxlci5oYXNBdHRyaWJ1dGUoJ2NvbHVtbi1yZXNpemluZycpKSB7XG4gICAgICAgIC8vIFJlc2l6aW5nIGlzIGluIHByb2dyZXNzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl90b3VjaERldmljZSkge1xuICAgICAgICAvLyBOb3QgYSB0b3VjaCBkZXZpY2VcbiAgICAgICAgdGhpcy5fb25UcmFja1N0YXJ0KGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZS5kZXRhaWwuc3RhdGUgPT09ICd0cmFjaycpIHtcbiAgICAgIHRoaXMuX29uVHJhY2soZSk7XG4gICAgfSBlbHNlIGlmIChlLmRldGFpbC5zdGF0ZSA9PT0gJ2VuZCcpIHtcbiAgICAgIHRoaXMuX29uVHJhY2tFbmQoZSk7XG4gICAgfVxuICB9XG5cbiAgX29uVHJhY2tTdGFydChlKSB7XG4gICAgaWYgKCF0aGlzLmNvbHVtblJlb3JkZXJpbmdBbGxvd2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FuY2VsIHJlb3JkZXJpbmcgaWYgdGhlcmUgYXJlIGRyYWdnYWJsZSBub2RlcyBvbiB0aGUgZXZlbnQgcGF0aFxuICAgIGNvbnN0IHBhdGggPSBlLnBhdGggfHwgZG9tKGUpLnBhdGg7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5maWx0ZXIobm9kZSA9PiBub2RlLmhhc0F0dHJpYnV0ZSAmJiBub2RlLmhhc0F0dHJpYnV0ZSgnZHJhZ2dhYmxlJykpWzBdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaGVhZGVyQ2VsbCA9IHRoaXMuX2NlbGxGcm9tUG9pbnQoZS5kZXRhaWwueCwgZS5kZXRhaWwueSk7XG4gICAgaWYgKCFoZWFkZXJDZWxsIHx8IGhlYWRlckNlbGwuZ2V0QXR0cmlidXRlKCdwYXJ0JykuaW5kZXhPZignaGVhZGVyLWNlbGwnKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ3Jlb3JkZXJpbmcnLCB0cnVlLCB0aGlzKTtcbiAgICB0aGlzLl9kcmFnZ2VkQ29sdW1uID0gaGVhZGVyQ2VsbC5fY29sdW1uO1xuICAgIHdoaWxlICh0aGlzLl9kcmFnZ2VkQ29sdW1uLnBhcmVudEVsZW1lbnQuY2hpbGRFbGVtZW50Q291bnQgPT09IDEpIHtcbiAgICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgY29sdW1uIGluIHRoZSBncm91cCwgZHJhZyB0aGUgd2hvbGUgZ3JvdXAgaW5zdGVhZFxuICAgICAgdGhpcy5fZHJhZ2dlZENvbHVtbiA9IHRoaXMuX2RyYWdnZWRDb2x1bW4ucGFyZW50RWxlbWVudDtcbiAgICB9XG4gICAgdGhpcy5fc2V0U2libGluZ3NSZW9yZGVyU3RhdHVzKHRoaXMuX2RyYWdnZWRDb2x1bW4sICdhbGxvd2VkJyk7XG4gICAgdGhpcy5fZHJhZ2dlZENvbHVtbi5fcmVvcmRlclN0YXR1cyA9ICdkcmFnZ2luZyc7XG5cbiAgICB0aGlzLl91cGRhdGVHaG9zdChoZWFkZXJDZWxsKTtcbiAgICB0aGlzLl9yZW9yZGVyR2hvc3Quc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICB0aGlzLl91cGRhdGVHaG9zdFBvc2l0aW9uKGUuZGV0YWlsLngsIHRoaXMuX3RvdWNoRGV2aWNlID8gZS5kZXRhaWwueSAtIDUwIDogZS5kZXRhaWwueSk7XG4gICAgdGhpcy5fYXV0b1Njcm9sbGVyKCk7XG4gIH1cblxuICBfb25UcmFjayhlKSB7XG4gICAgaWYgKCF0aGlzLl9kcmFnZ2VkQ29sdW1uKSB7XG4gICAgICAvLyBSZW9yZGVyaW5nIGRpZG7igJl0IHN0YXJ0LiBTa2lwIHRoaXMgZXZlbnQuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0Q2VsbCA9IHRoaXMuX2NlbGxGcm9tUG9pbnQoZS5kZXRhaWwueCwgZS5kZXRhaWwueSk7XG4gICAgaWYgKCF0YXJnZXRDZWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGFyZ2V0Q29sdW1uID0gdGhpcy5fZ2V0VGFyZ2V0Q29sdW1uKHRhcmdldENlbGwsIHRoaXMuX2RyYWdnZWRDb2x1bW4pO1xuICAgIGlmICh0aGlzLl9pc1N3YXBBbGxvd2VkKHRoaXMuX2RyYWdnZWRDb2x1bW4sIHRhcmdldENvbHVtbikgJiZcbiAgICAgIHRoaXMuX2lzU3dhcHBhYmxlQnlQb3NpdGlvbih0YXJnZXRDb2x1bW4sIGUuZGV0YWlsLngpKSB7XG4gICAgICB0aGlzLl9zd2FwQ29sdW1uT3JkZXJzKHRoaXMuX2RyYWdnZWRDb2x1bW4sIHRhcmdldENvbHVtbik7XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlR2hvc3RQb3NpdGlvbihlLmRldGFpbC54LCB0aGlzLl90b3VjaERldmljZSA/IGUuZGV0YWlsLnkgLSA1MCA6IGUuZGV0YWlsLnkpO1xuICAgIHRoaXMuX2xhc3REcmFnQ2xpZW50WCA9IGUuZGV0YWlsLng7XG4gIH1cblxuICBfb25UcmFja0VuZCgpIHtcbiAgICBpZiAoIXRoaXMuX2RyYWdnZWRDb2x1bW4pIHtcbiAgICAgIC8vIFJlb3JkZXJpbmcgZGlkbuKAmXQgc3RhcnQuIFNraXAgdGhpcyBldmVudC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ3Jlb3JkZXJpbmcnLCBmYWxzZSwgdGhpcyk7XG4gICAgdGhpcy5fZHJhZ2dlZENvbHVtbi5fcmVvcmRlclN0YXR1cyA9ICcnO1xuICAgIHRoaXMuX3NldFNpYmxpbmdzUmVvcmRlclN0YXR1cyh0aGlzLl9kcmFnZ2VkQ29sdW1uLCAnJyk7XG4gICAgdGhpcy5fZHJhZ2dlZENvbHVtbiA9IG51bGw7XG4gICAgdGhpcy5fbGFzdERyYWdDbGllbnRYID0gbnVsbDtcbiAgICB0aGlzLl9yZW9yZGVyR2hvc3Quc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuXG4gICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY29sdW1uLXJlb3JkZXInLCB7ZGV0YWlsOiB7XG4gICAgICBjb2x1bW5zOiB0aGlzLl9nZXRDb2x1bW5zSW5PcmRlcigpXG4gICAgfX0pKTtcbiAgfVxuXG4gIF9nZXRDb2x1bW5zSW5PcmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5fY29sdW1uVHJlZS5zbGljZSgwKS5wb3AoKVxuICAgICAgLmZpbHRlcihjID0+ICFjLmhpZGRlbilcbiAgICAgIC5zb3J0KChiLCBhKSA9PiAoYi5fb3JkZXIgLSBhLl9vcmRlcikpO1xuICB9XG5cbiAgX2NlbGxGcm9tUG9pbnQoeCwgeSkge1xuICAgIHggPSB4IHx8IDA7XG4gICAgeSA9IHkgfHwgMDtcbiAgICBpZiAoIXRoaXMuX2RyYWdnZWRDb2x1bW4pIHtcbiAgICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnbm8tY29udGVudC1wb2ludGVyLWV2ZW50cycsIHRydWUsIHRoaXMuJC5zY3JvbGxlcik7XG4gICAgfVxuICAgIGxldCBjZWxsO1xuICAgIGlmICh1c2VTaGFkb3cpIHtcbiAgICAgIGNlbGwgPSB0aGlzLnNoYWRvd1Jvb3QuZWxlbWVudEZyb21Qb2ludCh4LCB5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2VsbCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG5cbiAgICAgIC8vIFdvcmthcm91bmQgYSBGRjU4IGJ1Z1xuICAgICAgaWYgKGNlbGwubG9jYWxOYW1lID09PSAndmFhZGluLWdyaWQtY2VsbC1jb250ZW50Jykge1xuICAgICAgICBjZWxsID0gY2VsbC5hc3NpZ25lZFNsb3QucGFyZW50Tm9kZTtcbiAgICAgIH1cblxuICAgIH1cbiAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ25vLWNvbnRlbnQtcG9pbnRlci1ldmVudHMnLCBmYWxzZSwgdGhpcy4kLnNjcm9sbGVyKTtcblxuICAgIC8vIE1ha2Ugc3VyZSB0aGUgZWxlbWVudCBpcyBhY3R1YWxseSBhIGNlbGxcbiAgICBpZiAoY2VsbCAmJiBjZWxsLl9jb2x1bW4pIHtcbiAgICAgIHJldHVybiBjZWxsO1xuICAgIH1cbiAgfVxuXG4gIF91cGRhdGVHaG9zdFBvc2l0aW9uKGV2ZW50Q2xpZW50WCwgZXZlbnRDbGllbnRZKSB7XG4gICAgY29uc3QgZ2hvc3RSZWN0ID0gdGhpcy5fcmVvcmRlckdob3N0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIC8vIFRoaXMgaXMgd2hlcmUgd2Ugd2FudCB0byBwb3NpdGlvbiB0aGUgZ2hvc3RcbiAgICBjb25zdCB0YXJnZXRMZWZ0ID0gZXZlbnRDbGllbnRYIC0gZ2hvc3RSZWN0LndpZHRoIC8gMjtcbiAgICBjb25zdCB0YXJnZXRUb3AgPSBldmVudENsaWVudFkgLSBnaG9zdFJlY3QuaGVpZ2h0IC8gMjtcbiAgICAvLyBDdXJyZW50IHBvc2l0aW9uXG4gICAgY29uc3QgX2xlZnQgPSBwYXJzZUludCh0aGlzLl9yZW9yZGVyR2hvc3QuX2xlZnQgfHwgMCk7XG4gICAgY29uc3QgX3RvcCA9IHBhcnNlSW50KHRoaXMuX3Jlb3JkZXJHaG9zdC5fdG9wIHx8IDApO1xuICAgIC8vIFJlcG9zaXRpb24gdGhlIGdob3N0XG4gICAgdGhpcy5fcmVvcmRlckdob3N0Ll9sZWZ0ID0gX2xlZnQgLSAoZ2hvc3RSZWN0LmxlZnQgLSB0YXJnZXRMZWZ0KTtcbiAgICB0aGlzLl9yZW9yZGVyR2hvc3QuX3RvcCA9IF90b3AgLSAoZ2hvc3RSZWN0LnRvcCAtIHRhcmdldFRvcCk7XG4gICAgdGhpcy5fcmVvcmRlckdob3N0LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHt0aGlzLl9yZW9yZGVyR2hvc3QuX2xlZnR9cHgsICR7dGhpcy5fcmVvcmRlckdob3N0Ll90b3B9cHgpYDtcbiAgfVxuXG4gIF9nZXRJbm5lclRleHQoZSkge1xuICAgIGlmIChlLmxvY2FsTmFtZSkge1xuICAgICAgLy8gQ3VzdG9tIGltcGxlbWVudGF0aW9uIG5lZWRlZCBzaW5jZSBJRTExIGRvZXNuJ3QgcmVzcGVjdCB0aGUgc3BlYyBpbiBjYXNlIG9mIGhpZGRlbiBlbGVtZW50c1xuICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZSkuZGlzcGxheSA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGUuY2hpbGROb2RlcykubWFwKG4gPT4gdGhpcy5fZ2V0SW5uZXJUZXh0KG4pKS5qb2luKCcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGUudGV4dENvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgX3VwZGF0ZUdob3N0KGNlbGwpIHtcbiAgICBjb25zdCBnaG9zdCA9IHRoaXMuX3Jlb3JkZXJHaG9zdDtcbiAgICBnaG9zdC50ZXh0Q29udGVudCA9IHRoaXMuX2dldElubmVyVGV4dChjZWxsLl9jb250ZW50KTtcbiAgICBjb25zdCBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNlbGwpO1xuICAgIFsnYm94U2l6aW5nJywgJ2Rpc3BsYXknLCAnd2lkdGgnLCAnaGVpZ2h0JywgJ2JhY2tncm91bmQnLCAnYWxpZ25JdGVtcycsICdwYWRkaW5nJywgJ2JvcmRlcicsICdmbGV4LWRpcmVjdGlvbicsICdvdmVyZmxvdyddXG4gICAgICAuZm9yRWFjaChwcm9wZXJ0eU5hbWUgPT4gZ2hvc3Quc3R5bGVbcHJvcGVydHlOYW1lXSA9IHN0eWxlW3Byb3BlcnR5TmFtZV0pO1xuICAgIHJldHVybiBnaG9zdDtcbiAgfVxuXG4gIF91cGRhdGVPcmRlcnMoY29sdW1uVHJlZSwgc3BsaWNlcykge1xuICAgIGlmIChjb2x1bW5UcmVlID09PSB1bmRlZmluZWQgfHwgc3BsaWNlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgYWxsIGNvbHVtbiBvcmRlcnNcbiAgICBjb2x1bW5UcmVlWzBdLmZvckVhY2goKGNvbHVtbiwgaW5kZXgpID0+IGNvbHVtbi5fb3JkZXIgPSAwKTtcbiAgICAvLyBTZXQgb3JkZXIgbnVtYmVycyB0byB0b3AtbGV2ZWwgY29sdW1uc1xuICAgIGNvbHVtblRyZWVbMF0uZm9yRWFjaCgoY29sdW1uLCBpbmRleCkgPT4gY29sdW1uLl9vcmRlciA9IChpbmRleCArIDEpICogdGhpcy5fb3JkZXJCYXNlU2NvcGUpO1xuICB9XG5cbiAgX3NldFNpYmxpbmdzUmVvcmRlclN0YXR1cyhjb2x1bW4sIHN0YXR1cykge1xuICAgIEFycmF5LmZyb20oY29sdW1uLnBhcmVudE5vZGUuY2hpbGRyZW4pXG4gICAgICAuZmlsdGVyKGNoaWxkID0+IC9jb2x1bW4vLnRlc3QoY2hpbGQubG9jYWxOYW1lKSAmJiB0aGlzLl9pc1N3YXBBbGxvd2VkKGNoaWxkLCBjb2x1bW4pKVxuICAgICAgLmZvckVhY2goc2libGluZyA9PiBzaWJsaW5nLl9yZW9yZGVyU3RhdHVzID0gc3RhdHVzKTtcbiAgfVxuXG4gIF9hdXRvU2Nyb2xsZXIoKSB7XG4gICAgaWYgKHRoaXMuX2xhc3REcmFnQ2xpZW50WCkge1xuICAgICAgY29uc3QgcmlnaHREaWZmID0gdGhpcy5fbGFzdERyYWdDbGllbnRYIC0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCArIDUwO1xuICAgICAgY29uc3QgbGVmdERpZmYgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLSB0aGlzLl9sYXN0RHJhZ0NsaWVudFggKyA1MDtcblxuICAgICAgaWYgKHJpZ2h0RGlmZiA+IDApIHtcbiAgICAgICAgdGhpcy4kLnRhYmxlLnNjcm9sbExlZnQgKz0gcmlnaHREaWZmIC8gMTA7XG4gICAgICB9IGVsc2UgaWYgKGxlZnREaWZmID4gMCkge1xuICAgICAgICB0aGlzLiQudGFibGUuc2Nyb2xsTGVmdCAtPSBsZWZ0RGlmZiAvIDEwO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2Nyb2xsSGFuZGxlcigpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9kcmFnZ2VkQ29sdW1uKSB7XG4gICAgICB0aGlzLmFzeW5jKHRoaXMuX2F1dG9TY3JvbGxlciwgMTApO1xuICAgIH1cbiAgfVxuXG4gIF9pc1N3YXBBbGxvd2VkKGNvbHVtbjEsIGNvbHVtbjIpIHtcbiAgICBpZiAoY29sdW1uMSAmJiBjb2x1bW4yKSB7XG4gICAgICBjb25zdCBkaWZmZXJlbnRDb2x1bW5zID0gY29sdW1uMSAhPT0gY29sdW1uMjtcbiAgICAgIGNvbnN0IHNhbWVQYXJlbnQgPSBjb2x1bW4xLnBhcmVudEVsZW1lbnQgPT09IGNvbHVtbjIucGFyZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IHNhbWVGcm96ZW4gPSBjb2x1bW4xLmZyb3plbiA9PT0gY29sdW1uMi5mcm96ZW47XG4gICAgICByZXR1cm4gZGlmZmVyZW50Q29sdW1ucyAmJiBzYW1lUGFyZW50ICYmIHNhbWVGcm96ZW47XG4gICAgfVxuICB9XG5cbiAgX2lzU3dhcHBhYmxlQnlQb3NpdGlvbih0YXJnZXRDb2x1bW4sIGNsaWVudFgpIHtcbiAgICBjb25zdCB0YXJnZXRDZWxsID1cbiAgICAgIEFycmF5LmZyb20odGhpcy4kLmhlYWRlci5xdWVyeVNlbGVjdG9yQWxsKCd0cjpub3QoW2hpZGRlbl0pIFtwYXJ0fj1cImNlbGxcIl0nKSkuZmlsdGVyKGNlbGwgPT4gdGFyZ2V0Q29sdW1uLmNvbnRhaW5zKGNlbGwuX2NvbHVtbikpWzBdO1xuICAgIGNvbnN0IHNvdXJjZUNlbGxSZWN0ID0gdGhpcy4kLmhlYWRlci5xdWVyeVNlbGVjdG9yKCd0cjpub3QoW2hpZGRlbl0pIFtyZW9yZGVyLXN0YXR1cz1kcmFnZ2luZ10nKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCB0YXJnZXRSZWN0ID0gdGFyZ2V0Q2VsbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAodGFyZ2V0UmVjdC5sZWZ0ID4gc291cmNlQ2VsbFJlY3QubGVmdCkge1xuICAgICAgcmV0dXJuIGNsaWVudFggPiB0YXJnZXRSZWN0LnJpZ2h0IC0gc291cmNlQ2VsbFJlY3Qud2lkdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjbGllbnRYIDwgdGFyZ2V0UmVjdC5sZWZ0ICsgc291cmNlQ2VsbFJlY3Qud2lkdGg7XG4gICAgfVxuICB9XG5cbiAgX3N3YXBDb2x1bW5PcmRlcnMoY29sdW1uMSwgY29sdW1uMikge1xuICAgIGNvbnN0IF9vcmRlciA9IGNvbHVtbjEuX29yZGVyO1xuICAgIGNvbHVtbjEuX29yZGVyID0gY29sdW1uMi5fb3JkZXI7XG4gICAgY29sdW1uMi5fb3JkZXIgPSBfb3JkZXI7XG4gICAgdGhpcy5fdXBkYXRlTGFzdEZyb3plbigpO1xuICAgIHRoaXMuX3VwZGF0ZUZpcnN0QW5kTGFzdENvbHVtbigpO1xuICB9XG5cbiAgX2dldFRhcmdldENvbHVtbih0YXJnZXRDZWxsLCBkcmFnZ2VkQ29sdW1uKSB7XG4gICAgaWYgKHRhcmdldENlbGwgJiYgZHJhZ2dlZENvbHVtbikge1xuICAgICAgbGV0IGNhbmRpZGF0ZSA9IHRhcmdldENlbGwuX2NvbHVtbjtcbiAgICAgIHdoaWxlIChjYW5kaWRhdGUucGFyZW50RWxlbWVudCAhPT0gZHJhZ2dlZENvbHVtbi5wYXJlbnRFbGVtZW50ICYmIGNhbmRpZGF0ZSAhPT0gdGhpcykge1xuICAgICAgICBjYW5kaWRhdGUgPSBjYW5kaWRhdGUucGFyZW50RWxlbWVudDtcbiAgICAgIH1cbiAgICAgIGlmIChjYW5kaWRhdGUucGFyZW50RWxlbWVudCA9PT0gZHJhZ2dlZENvbHVtbi5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBjYW5kaWRhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGFyZ2V0Q2VsbC5fY29sdW1uO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlZCB3aGVuIHRoZSBjb2x1bW5zIGluIHRoZSBncmlkIGFyZSByZW9yZGVyZWQuXG4gICAqXG4gICAqIEBldmVudCBjb2x1bW4tcmVvcmRlclxuICAgKiBAcGFyYW0ge09iamVjdH0gZGV0YWlsXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXRhaWwuY29sdW1ucyB0aGUgY29sdW1ucyBpbiB0aGUgbmV3IG9yZGVyXG4gICAqL1xufTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxOCBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyBGbGF0dGVuZWROb2Rlc09ic2VydmVyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvZmxhdHRlbmVkLW5vZGVzLW9ic2VydmVyLmpzJztcbmltcG9ydCB7IFRlbXBsYXRpemVyIH0gZnJvbSAnLi92YWFkaW4tZ3JpZC10ZW1wbGF0aXplci5qcyc7XG5cbi8qKlxuICogQHBvbHltZXJNaXhpblxuICovXG5leHBvcnQgY29uc3QgQ29sdW1uQmFzZU1peGluID0gc3VwZXJDbGFzcyA9PiBjbGFzcyBDb2x1bW5CYXNlTWl4aW4gZXh0ZW5kcyBzdXBlckNsYXNzIHtcbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUsIHRoZSBjb2x1bW4gaXMgdXNlci1yZXNpemFibGUuXG4gICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICovXG4gICAgICByZXNpemFibGU6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICh0aGlzLmxvY2FsTmFtZSA9PT0gJ3ZhYWRpbi1ncmlkLWNvbHVtbi1ncm91cCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG4gICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQubG9jYWxOYW1lID09PSAndmFhZGluLWdyaWQtY29sdW1uLWdyb3VwJykge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmVudC5yZXNpemFibGUgfHwgZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9oZWFkZXJUZW1wbGF0ZToge1xuICAgICAgICB0eXBlOiBPYmplY3RcbiAgICAgIH0sXG5cbiAgICAgIF9mb290ZXJUZW1wbGF0ZToge1xuICAgICAgICB0eXBlOiBPYmplY3RcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB0cnVlLCB0aGUgY29sdW1uIGlzIGZyb3plbi4gV2hlbiBhIGNvbHVtbiBpbnNpZGUgb2YgYSBjb2x1bW4gZ3JvdXAgaXMgZnJvemVuLFxuICAgICAgICogYWxsIG9mIHRoZSBzaWJsaW5nIGNvbHVtbnMgaW5zaWRlIHRoZSBncm91cCB3aWxsIGdldCBmcm96ZW4gYWxzby5cbiAgICAgICAqL1xuICAgICAgZnJvemVuOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHZhbHVlOiBmYWxzZVxuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBXaGVuIHNldCB0byB0cnVlLCB0aGUgY2VsbHMgZm9yIHRoaXMgY29sdW1uIGFyZSBoaWRkZW4uXG4gICAgICAgKi9cbiAgICAgIGhpZGRlbjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIFRleHQgY29udGVudCB0byBkaXNwbGF5IGluIHRoZSBoZWFkZXIgY2VsbCBvZiB0aGUgY29sdW1uLlxuICAgICAgICovXG4gICAgICBoZWFkZXI6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIEFsaWducyB0aGUgY29sdW1ucyBjZWxsIGNvbnRlbnQgaG9yaXpvbnRhbGx5LlxuICAgICAgICogU3VwcG9ydGVkIHZhbHVlczogXCJzdGFydFwiLCBcImNlbnRlclwiIGFuZCBcImVuZFwiLlxuICAgICAgICovXG4gICAgICB0ZXh0QWxpZ246IHtcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICB9LFxuXG4gICAgICBfbGFzdEZyb3plbjoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgIH0sXG5cbiAgICAgIF9vcmRlcjogTnVtYmVyLFxuXG4gICAgICBfcmVvcmRlclN0YXR1czogQm9vbGVhbixcblxuICAgICAgX2VtcHR5Q2VsbHM6IEFycmF5LFxuXG4gICAgICBfaGVhZGVyQ2VsbDogT2JqZWN0LFxuXG4gICAgICBfZm9vdGVyQ2VsbDogT2JqZWN0LFxuXG4gICAgICBfZ3JpZDogT2JqZWN0LFxuXG4gICAgICAvKipcbiAgICAgICAqIEN1c3RvbSBmdW5jdGlvbiBmb3IgcmVuZGVyaW5nIHRoZSBoZWFkZXIgY29udGVudC5cbiAgICAgICAqIFJlY2VpdmVzIHR3byBhcmd1bWVudHM6XG4gICAgICAgKlxuICAgICAgICogLSBgcm9vdGAgVGhlIGhlYWRlciBjZWxsIGNvbnRlbnQgRE9NIGVsZW1lbnQuIEFwcGVuZCB5b3VyIGNvbnRlbnQgdG8gaXQuXG4gICAgICAgKiAtIGBjb2x1bW5gIFRoZSBgPHZhYWRpbi1ncmlkLWNvbHVtbj5gIGVsZW1lbnQuXG4gICAgICAgKi9cbiAgICAgIGhlYWRlclJlbmRlcmVyOiBGdW5jdGlvbixcblxuICAgICAgLyoqXG4gICAgICAgKiBDdXN0b20gZnVuY3Rpb24gZm9yIHJlbmRlcmluZyB0aGUgZm9vdGVyIGNvbnRlbnQuXG4gICAgICAgKiBSZWNlaXZlcyB0d28gYXJndW1lbnRzOlxuICAgICAgICpcbiAgICAgICAqIC0gYHJvb3RgIFRoZSBmb290ZXIgY2VsbCBjb250ZW50IERPTSBlbGVtZW50LiBBcHBlbmQgeW91ciBjb250ZW50IHRvIGl0LlxuICAgICAgICogLSBgY29sdW1uYCBUaGUgYDx2YWFkaW4tZ3JpZC1jb2x1bW4+YCBlbGVtZW50LlxuICAgICAgICovXG4gICAgICBmb290ZXJSZW5kZXJlcjogRnVuY3Rpb25cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlcnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICdfd2lkdGhDaGFuZ2VkKHdpZHRoLCBfaGVhZGVyQ2VsbCwgX2Zvb3RlckNlbGwsIF9jZWxscy4qKScsXG4gICAgICAnX2Zyb3plbkNoYW5nZWQoZnJvemVuLCBfaGVhZGVyQ2VsbCwgX2Zvb3RlckNlbGwsIF9jZWxscy4qKScsXG4gICAgICAnX2ZsZXhHcm93Q2hhbmdlZChmbGV4R3JvdywgX2hlYWRlckNlbGwsIF9mb290ZXJDZWxsLCBfY2VsbHMuKiknLFxuICAgICAgJ19wYXRoT3JIZWFkZXJDaGFuZ2VkKHBhdGgsIGhlYWRlciwgX2hlYWRlckNlbGwsIF9mb290ZXJDZWxsLCBfY2VsbHMuKiwgcmVuZGVyZXIsIGhlYWRlclJlbmRlcmVyLCBfYm9keVRlbXBsYXRlLCBfaGVhZGVyVGVtcGxhdGUpJyxcbiAgICAgICdfdGV4dEFsaWduQ2hhbmdlZCh0ZXh0QWxpZ24sIF9jZWxscy4qLCBfaGVhZGVyQ2VsbCwgX2Zvb3RlckNlbGwpJyxcbiAgICAgICdfb3JkZXJDaGFuZ2VkKF9vcmRlciwgX2hlYWRlckNlbGwsIF9mb290ZXJDZWxsLCBfY2VsbHMuKiknLFxuICAgICAgJ19sYXN0RnJvemVuQ2hhbmdlZChfbGFzdEZyb3plbiknLFxuICAgICAgJ19zZXRCb2R5VGVtcGxhdGVPclJlbmRlcmVyKF9ib2R5VGVtcGxhdGUsIHJlbmRlcmVyLCBfY2VsbHMsIF9jZWxscy4qKScsXG4gICAgICAnX3NldEhlYWRlclRlbXBsYXRlT3JSZW5kZXJlcihfaGVhZGVyVGVtcGxhdGUsIGhlYWRlclJlbmRlcmVyLCBfaGVhZGVyQ2VsbCknLFxuICAgICAgJ19zZXRGb290ZXJUZW1wbGF0ZU9yUmVuZGVyZXIoX2Zvb3RlclRlbXBsYXRlLCBmb290ZXJSZW5kZXJlciwgX2Zvb3RlckNlbGwpJyxcbiAgICAgICdfcmVzaXphYmxlQ2hhbmdlZChyZXNpemFibGUsIF9oZWFkZXJDZWxsKScsXG4gICAgICAnX3Jlb3JkZXJTdGF0dXNDaGFuZ2VkKF9yZW9yZGVyU3RhdHVzLCBfaGVhZGVyQ2VsbCwgX2Zvb3RlckNlbGwsIF9jZWxscy4qKScsXG4gICAgICAnX2hpZGRlbkNoYW5nZWQoaGlkZGVuLCBfaGVhZGVyQ2VsbCwgX2Zvb3RlckNlbGwsIF9jZWxscy4qKSdcbiAgICBdO1xuICB9XG5cbiAgLyoqIEBwcm90ZWN0ZWQgKi9cbiAgY29ubmVjdGVkQ2FsbGJhY2soKSB7XG4gICAgc3VwZXIuY29ubmVjdGVkQ2FsbGJhY2soKTtcblxuICAgIHRoaXMuX2JvZHlUZW1wbGF0ZSAmJiAodGhpcy5fYm9keVRlbXBsYXRlLnRlbXBsYXRpemVyLl9ncmlkID0gdGhpcy5fZ3JpZCk7XG4gICAgdGhpcy5faGVhZGVyVGVtcGxhdGUgJiYgKHRoaXMuX2hlYWRlclRlbXBsYXRlLnRlbXBsYXRpemVyLl9ncmlkID0gdGhpcy5fZ3JpZCk7XG4gICAgdGhpcy5fZm9vdGVyVGVtcGxhdGUgJiYgKHRoaXMuX2Zvb3RlclRlbXBsYXRlLnRlbXBsYXRpemVyLl9ncmlkID0gdGhpcy5fZ3JpZCk7XG5cbiAgICB0aGlzLl90ZW1wbGF0ZU9ic2VydmVyLmZsdXNoKCk7XG4gICAgaWYgKCF0aGlzLl9ib2R5VGVtcGxhdGUpIHtcbiAgICAgIC8vIFRoZSBvYnNlcnZlciBtaWdodCBub3QgaGF2ZSB0cmlnZ2VyZWQgaWYgdGhlIHRhZyBpcyBlbXB0eS4gUnVuIG1hbnVhbGx5LlxuICAgICAgdGhpcy5fdGVtcGxhdGVPYnNlcnZlci5jYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICBpZiAoIWNlbGwuX2NvbnRlbnQucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHRoaXMuX2dyaWQgJiYgdGhpcy5fZ3JpZC5hcHBlbmRDaGlsZChjZWxsLl9jb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKiogQHByb3RlY3RlZCAqL1xuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBzdXBlci5kaXNjb25uZWN0ZWRDYWxsYmFjaygpO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgIGlmICghdGhpcy5fZmluZEhvc3RHcmlkKCkpIHtcbiAgICAgICAgdGhpcy5fYWxsQ2VsbHMuZm9yRWFjaChjZWxsID0+IHtcbiAgICAgICAgICBpZiAoY2VsbC5fY29udGVudC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICBjZWxsLl9jb250ZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2VsbC5fY29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2dyaWRWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9maW5kSG9zdEdyaWQoKSB7XG4gICAgbGV0IGVsID0gdGhpcztcbiAgICAvLyBDdXN0b20gZWxlbWVudHMgZXh0ZW5kaW5nIGdyaWQgbXVzdCBoYXZlIGEgc3BlY2lmaWMgbG9jYWxOYW1lXG4gICAgd2hpbGUgKGVsICYmICEvXnZhYWRpbi4qZ3JpZCgtcHJvKT8kLy50ZXN0KGVsLmxvY2FsTmFtZSkpIHtcbiAgICAgIGVsID0gZWwuYXNzaWduZWRTbG90ID8gZWwuYXNzaWduZWRTbG90LnBhcmVudE5vZGUgOiBlbC5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZWwgfHwgdW5kZWZpbmVkO1xuICB9XG5cbiAgZ2V0IF9ncmlkKCkge1xuICAgIGlmICghdGhpcy5fZ3JpZFZhbHVlKSB7XG4gICAgICB0aGlzLl9ncmlkVmFsdWUgPSB0aGlzLl9maW5kSG9zdEdyaWQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2dyaWRWYWx1ZTtcbiAgfVxuXG4gIGdldCBfYWxsQ2VsbHMoKSB7XG4gICAgcmV0dXJuIFtdXG4gICAgICAuY29uY2F0KHRoaXMuX2NlbGxzIHx8IFtdKVxuICAgICAgLmNvbmNhdCh0aGlzLl9lbXB0eUNlbGxzIHx8IFtdKVxuICAgICAgLmNvbmNhdCh0aGlzLl9oZWFkZXJDZWxsKVxuICAgICAgLmNvbmNhdCh0aGlzLl9mb290ZXJDZWxsKVxuICAgICAgLmZpbHRlcihjZWxsID0+IGNlbGwpO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuX3RlbXBsYXRlT2JzZXJ2ZXIgPSBuZXcgRmxhdHRlbmVkTm9kZXNPYnNlcnZlcih0aGlzLCBpbmZvID0+IHtcbiAgICAgIHRoaXMuX2hlYWRlclRlbXBsYXRlID0gdGhpcy5fcHJlcGFyZUhlYWRlclRlbXBsYXRlKCk7XG4gICAgICB0aGlzLl9mb290ZXJUZW1wbGF0ZSA9IHRoaXMuX3ByZXBhcmVGb290ZXJUZW1wbGF0ZSgpO1xuICAgICAgdGhpcy5fYm9keVRlbXBsYXRlID0gdGhpcy5fcHJlcGFyZUJvZHlUZW1wbGF0ZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgX3ByZXBhcmVIZWFkZXJUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJlcGFyZVRlbXBsYXRpemVyKHRoaXMuX2ZpbmRUZW1wbGF0ZSh0cnVlKSB8fCBudWxsLCB7fSk7XG4gIH1cblxuICBfcHJlcGFyZUZvb3RlclRlbXBsYXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9wcmVwYXJlVGVtcGxhdGl6ZXIodGhpcy5fZmluZFRlbXBsYXRlKGZhbHNlLCB0cnVlKSB8fCBudWxsLCB7fSk7XG4gIH1cblxuICBfcHJlcGFyZUJvZHlUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJlcGFyZVRlbXBsYXRpemVyKHRoaXMuX2ZpbmRUZW1wbGF0ZSgpIHx8IG51bGwpO1xuICB9XG5cbiAgX3ByZXBhcmVUZW1wbGF0aXplcih0ZW1wbGF0ZSwgaW5zdGFuY2VQcm9wcykge1xuICAgIGlmICh0ZW1wbGF0ZSAmJiAhdGVtcGxhdGUudGVtcGxhdGl6ZXIpIHtcbiAgICAgIGNvbnN0IHRlbXBsYXRpemVyID0gbmV3IFRlbXBsYXRpemVyKCk7XG4gICAgICB0ZW1wbGF0aXplci5fZ3JpZCA9IHRoaXMuX2dyaWQ7XG4gICAgICB0ZW1wbGF0aXplci5kYXRhSG9zdCA9IHRoaXMuZGF0YUhvc3Q7XG4gICAgICB0ZW1wbGF0aXplci5faW5zdGFuY2VQcm9wcyA9IGluc3RhbmNlUHJvcHMgfHwgdGVtcGxhdGl6ZXIuX2luc3RhbmNlUHJvcHM7XG4gICAgICB0ZW1wbGF0aXplci50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgICAgdGVtcGxhdGUudGVtcGxhdGl6ZXIgPSB0ZW1wbGF0aXplcjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBfcmVuZGVySGVhZGVyQW5kRm9vdGVyKCkge1xuICAgIGlmICh0aGlzLmhlYWRlclJlbmRlcmVyKSB7XG4gICAgICB0aGlzLl9fcnVuUmVuZGVyZXIodGhpcy5oZWFkZXJSZW5kZXJlciwgdGhpcy5faGVhZGVyQ2VsbCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmZvb3RlclJlbmRlcmVyKSB7XG4gICAgICB0aGlzLl9fcnVuUmVuZGVyZXIodGhpcy5mb290ZXJSZW5kZXJlciwgdGhpcy5fZm9vdGVyQ2VsbCk7XG4gICAgfVxuICB9XG5cbiAgX19ydW5SZW5kZXJlcihyZW5kZXJlciwgY2VsbCwgcm93RGF0YSkge1xuICAgIGNvbnN0IGFyZ3MgPSBbY2VsbC5fY29udGVudCwgdGhpc107XG4gICAgaWYgKHJvd0RhdGEgJiYgcm93RGF0YS5pdGVtKSB7XG4gICAgICBhcmdzLnB1c2gocm93RGF0YSk7XG4gICAgfVxuICAgIHJlbmRlcmVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgX19zZXRDb2x1bW5UZW1wbGF0ZU9yUmVuZGVyZXIodGVtcGxhdGUsIHJlbmRlcmVyLCBjZWxscykge1xuICAgIGlmICh0ZW1wbGF0ZSAmJiByZW5kZXJlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3Ugc2hvdWxkIG9ubHkgdXNlIGVpdGhlciBhIHJlbmRlcmVyIG9yIGEgdGVtcGxhdGUnKTtcbiAgICB9XG5cbiAgICBjZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9ncmlkLl9fZ2V0Um93TW9kZWwoY2VsbC5wYXJlbnRFbGVtZW50KTtcblxuICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgIGNlbGwuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgaWYgKG1vZGVsLml0ZW0gfHwgcmVuZGVyZXIgPT09IHRoaXMuaGVhZGVyUmVuZGVyZXIgfHwgcmVuZGVyZXIgPT09IHRoaXMuZm9vdGVyUmVuZGVyZXIpIHtcbiAgICAgICAgICB0aGlzLl9fcnVuUmVuZGVyZXIocmVuZGVyZXIsIGNlbGwsIG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjZWxsLl90ZW1wbGF0ZSAhPT0gdGVtcGxhdGUpIHtcbiAgICAgICAgY2VsbC5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcblxuICAgICAgICBjZWxsLl9jb250ZW50LmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0ZW1wbGF0ZS50ZW1wbGF0aXplci5fZ3JpZCA9IHRlbXBsYXRlLnRlbXBsYXRpemVyLl9ncmlkIHx8IHRoaXMuX2dyaWQ7XG4gICAgICAgIGNvbnN0IGluc3QgPSB0ZW1wbGF0ZS50ZW1wbGF0aXplci5jcmVhdGVJbnN0YW5jZSgpO1xuICAgICAgICBjZWxsLl9jb250ZW50LmFwcGVuZENoaWxkKGluc3Qucm9vdCk7XG4gICAgICAgIGNlbGwuX2luc3RhbmNlID0gaW5zdDtcbiAgICAgICAgaWYgKG1vZGVsLml0ZW0pIHtcbiAgICAgICAgICBjZWxsLl9pbnN0YW5jZS5zZXRQcm9wZXJ0aWVzKG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3NldEJvZHlUZW1wbGF0ZU9yUmVuZGVyZXIodGVtcGxhdGUsIHJlbmRlcmVyLCBjZWxscywgc3BsaWNlcykge1xuICAgIGlmICgodGVtcGxhdGUgfHwgcmVuZGVyZXIpICYmIGNlbGxzKSB7XG4gICAgICB0aGlzLl9fc2V0Q29sdW1uVGVtcGxhdGVPclJlbmRlcmVyKHRlbXBsYXRlLCByZW5kZXJlciwgY2VsbHMpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRIZWFkZXJUZW1wbGF0ZU9yUmVuZGVyZXIoaGVhZGVyVGVtcGxhdGUsIGhlYWRlclJlbmRlcmVyLCBoZWFkZXJDZWxsKSB7XG4gICAgaWYgKChoZWFkZXJUZW1wbGF0ZSB8fCBoZWFkZXJSZW5kZXJlcikgJiYgaGVhZGVyQ2VsbCkge1xuICAgICAgdGhpcy5fX3NldENvbHVtblRlbXBsYXRlT3JSZW5kZXJlcihoZWFkZXJUZW1wbGF0ZSwgaGVhZGVyUmVuZGVyZXIsIFtoZWFkZXJDZWxsXSk7XG4gICAgfVxuICB9XG5cbiAgX3NldEZvb3RlclRlbXBsYXRlT3JSZW5kZXJlcihmb290ZXJUZW1wbGF0ZSwgZm9vdGVyUmVuZGVyZXIsIGZvb3RlckNlbGwpIHtcbiAgICBpZiAoKGZvb3RlclRlbXBsYXRlIHx8IGZvb3RlclJlbmRlcmVyKSAmJiBmb290ZXJDZWxsKSB7XG4gICAgICB0aGlzLl9fc2V0Q29sdW1uVGVtcGxhdGVPclJlbmRlcmVyKGZvb3RlclRlbXBsYXRlLCBmb290ZXJSZW5kZXJlciwgW2Zvb3RlckNlbGxdKTtcbiAgICAgIHRoaXMuX2dyaWQuX191cGRhdGVIZWFkZXJGb290ZXJSb3dWaXNpYmlsaXR5KGZvb3RlckNlbGwucGFyZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3NlbGVjdEZpcnN0VGVtcGxhdGUoaGVhZGVyID0gZmFsc2UsIGZvb3RlciA9IGZhbHNlKSB7XG4gICAgcmV0dXJuIEZsYXR0ZW5lZE5vZGVzT2JzZXJ2ZXIuZ2V0RmxhdHRlbmVkTm9kZXModGhpcylcbiAgICAgIC5maWx0ZXIobm9kZSA9PlxuICAgICAgICBub2RlLmxvY2FsTmFtZSA9PT0gJ3RlbXBsYXRlJ1xuICAgICAgICAmJiBub2RlLmNsYXNzTGlzdC5jb250YWlucygnaGVhZGVyJykgPT09IGhlYWRlclxuICAgICAgICAmJiBub2RlLmNsYXNzTGlzdC5jb250YWlucygnZm9vdGVyJykgPT09IGZvb3RlclxuICAgICAgKVswXTtcbiAgfVxuXG4gIF9maW5kVGVtcGxhdGUoaGVhZGVyLCBmb290ZXIpIHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHRoaXMuX3NlbGVjdEZpcnN0VGVtcGxhdGUoaGVhZGVyLCBmb290ZXIpO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgaWYgKHRoaXMuZGF0YUhvc3QpIHtcbiAgICAgICAgLy8gc2V0IGRhdGFIb3N0IHRvIHRoZSBjb250ZXh0IHdoZXJlIHRlbXBsYXRlIGhhcyBiZWVuIGRlZmluZWRcbiAgICAgICAgdGVtcGxhdGUuX3Jvb3REYXRhSG9zdCA9IHRoaXMuZGF0YUhvc3QuX3Jvb3REYXRhSG9zdCB8fCB0aGlzLmRhdGFIb3N0O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH1cblxuICBfZmxleEdyb3dDaGFuZ2VkKGZsZXhHcm93LCBoZWFkZXJDZWxsLCBmb290ZXJDZWxsLCBjZWxscykge1xuICAgIGlmICh0aGlzLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCkge1xuICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCgnZmxleEdyb3cnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5zdHlsZS5mbGV4R3JvdyA9IGZsZXhHcm93KTtcbiAgfVxuXG4gIF9vcmRlckNoYW5nZWQob3JkZXIsIGhlYWRlckNlbGwsIGZvb3RlckNlbGwsIGNlbGxzKSB7XG4gICAgdGhpcy5fYWxsQ2VsbHMuZm9yRWFjaChjZWxsID0+IGNlbGwuc3R5bGUub3JkZXIgPSBvcmRlcik7XG4gIH1cblxuICBfd2lkdGhDaGFuZ2VkKHdpZHRoLCBoZWFkZXJDZWxsLCBmb290ZXJDZWxsLCBjZWxscykge1xuICAgIGlmICh0aGlzLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCkge1xuICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCgnd2lkdGgnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4gY2VsbC5zdHlsZS53aWR0aCA9IHdpZHRoKTtcblxuICAgIC8vIEZvcmNlIGEgcmVmbG93IHRvIHdvcmthcm91bmQgYnJvd3NlciBpc3N1ZXMgY2F1c2luZyBkb3VibGUgc2Nyb2xsYmFycyB0byBncmlkXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZhYWRpbi92YWFkaW4tZ3JpZC9pc3N1ZXMvMTU4NlxuICAgIGlmICh0aGlzLl9ncmlkICYmIHRoaXMuX2dyaWQuX19mb3JjZVJlZmxvdykge1xuICAgICAgdGhpcy5fZ3JpZC5fX2ZvcmNlUmVmbG93KCk7XG4gICAgfVxuICB9XG5cbiAgX2Zyb3plbkNoYW5nZWQoZnJvemVuLCBoZWFkZXJDZWxsLCBmb290ZXJDZWxsLCBjZWxscykge1xuICAgIGlmICh0aGlzLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCkge1xuICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCgnZnJvemVuJywgZnJvemVuKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4gdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdmcm96ZW4nLCBmcm96ZW4sIGNlbGwpKTtcblxuICAgIHRoaXMuX2dyaWQgJiYgdGhpcy5fZ3JpZC5fZnJvemVuQ2VsbHNDaGFuZ2VkICYmIHRoaXMuX2dyaWQuX2Zyb3plbkNlbGxzQ2hhbmdlZCgpO1xuICB9XG5cbiAgX2xhc3RGcm96ZW5DaGFuZ2VkKGxhc3RGcm96ZW4pIHtcbiAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4gdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdsYXN0LWZyb3plbicsIGxhc3RGcm96ZW4sIGNlbGwpKTtcblxuICAgIGlmICh0aGlzLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCkge1xuICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Ll9sYXN0RnJvemVuID0gbGFzdEZyb3plbjtcbiAgICB9XG4gIH1cblxuICBfcGF0aE9ySGVhZGVyQ2hhbmdlZChwYXRoLCBoZWFkZXIsIGhlYWRlckNlbGwsIGZvb3RlckNlbGwsIGNlbGxzLCByZW5kZXJlciwgaGVhZGVyUmVuZGVyZXIsIGJvZHlUZW1wbGF0ZSwgaGVhZGVyVGVtcGxhdGUpIHtcbiAgICBjb25zdCBoYXNIZWFkZXJUZXh0ID0gaGVhZGVyICE9PSB1bmRlZmluZWQ7XG4gICAgaWYgKCFoZWFkZXJSZW5kZXJlciAmJiAhaGVhZGVyVGVtcGxhdGUgJiYgaGFzSGVhZGVyVGV4dCAmJiBoZWFkZXJDZWxsKSB7XG4gICAgICB0aGlzLl9fc2V0VGV4dENvbnRlbnQoaGVhZGVyQ2VsbC5fY29udGVudCwgaGVhZGVyKTtcbiAgICB9XG5cbiAgICBpZiAocGF0aCAmJiBjZWxscy52YWx1ZSkge1xuICAgICAgaWYgKCFyZW5kZXJlciAmJiAhYm9keVRlbXBsYXRlKSB7XG4gICAgICAgIGNvbnN0IHBhdGhSZW5kZXJlciA9IChyb290LCBvd25lciwge2l0ZW19KSA9PiB0aGlzLl9fc2V0VGV4dENvbnRlbnQocm9vdCwgdGhpcy5nZXQocGF0aCwgaXRlbSkpO1xuICAgICAgICB0aGlzLl9fc2V0Q29sdW1uVGVtcGxhdGVPclJlbmRlcmVyKHVuZGVmaW5lZCwgcGF0aFJlbmRlcmVyLCBjZWxscy52YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaGVhZGVyUmVuZGVyZXIgJiYgIWhlYWRlclRlbXBsYXRlICYmICFoYXNIZWFkZXJUZXh0ICYmIGhlYWRlckNlbGwgJiYgaGVhZGVyICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX19zZXRUZXh0Q29udGVudChoZWFkZXJDZWxsLl9jb250ZW50LCB0aGlzLl9nZW5lcmF0ZUhlYWRlcihwYXRoKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGhlYWRlckNlbGwpIHtcbiAgICAgIHRoaXMuX2dyaWQuX191cGRhdGVIZWFkZXJGb290ZXJSb3dWaXNpYmlsaXR5KGhlYWRlckNlbGwucGFyZW50RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX19zZXRUZXh0Q29udGVudChub2RlLCB0ZXh0Q29udGVudCkge1xuICAgIG5vZGUudGV4dENvbnRlbnQgIT09IHRleHRDb250ZW50ICYmIChub2RlLnRleHRDb250ZW50ID0gdGV4dENvbnRlbnQpO1xuICB9XG5cbiAgX2dlbmVyYXRlSGVhZGVyKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aFxuICAgICAgLnN1YnN0cihwYXRoLmxhc3RJbmRleE9mKCcuJykgKyAxKVxuICAgICAgLnJlcGxhY2UoLyhbQS1aXSkvZywgJy0kMScpLnRvTG93ZXJDYXNlKClcbiAgICAgIC5yZXBsYWNlKC8tL2csICcgJylcbiAgICAgIC5yZXBsYWNlKC9eLi8sIG1hdGNoID0+IG1hdGNoLnRvVXBwZXJDYXNlKCkpO1xuICB9XG5cbiAgX3RvZ2dsZUF0dHJpYnV0ZShuYW1lLCBib29sLCBub2RlKSB7XG4gICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKG5hbWUpID09PSAhYm9vbCkge1xuICAgICAgaWYgKGJvb2wpIHtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX3Jlb3JkZXJTdGF0dXNDaGFuZ2VkKHJlb3JkZXJTdGF0dXMsIGhlYWRlckNlbGwsIGZvb3RlckNlbGwsIGNlbGxzKSB7XG4gICAgdGhpcy5fYWxsQ2VsbHMuZm9yRWFjaChjZWxsID0+IGNlbGwuc2V0QXR0cmlidXRlKCdyZW9yZGVyLXN0YXR1cycsIHJlb3JkZXJTdGF0dXMpKTtcbiAgfVxuXG4gIF9yZXNpemFibGVDaGFuZ2VkKHJlc2l6YWJsZSwgaGVhZGVyQ2VsbCkge1xuICAgIGlmIChyZXNpemFibGUgPT09IHVuZGVmaW5lZCB8fCBoZWFkZXJDZWxsID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaGVhZGVyQ2VsbCkge1xuICAgICAgW2hlYWRlckNlbGxdLmNvbmNhdCh0aGlzLl9lbXB0eUNlbGxzKS5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgICBpZiAoY2VsbCkge1xuICAgICAgICAgIGNvbnN0IGV4aXN0aW5nSGFuZGxlID0gY2VsbC5xdWVyeVNlbGVjdG9yKCdbcGFydH49XCJyZXNpemUtaGFuZGxlXCJdJyk7XG4gICAgICAgICAgaWYgKGV4aXN0aW5nSGFuZGxlKSB7XG4gICAgICAgICAgICBjZWxsLnJlbW92ZUNoaWxkKGV4aXN0aW5nSGFuZGxlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocmVzaXphYmxlKSB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCAncmVzaXplLWhhbmRsZScpO1xuICAgICAgICAgICAgY2VsbC5hcHBlbmRDaGlsZChoYW5kbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgX3RleHRBbGlnbkNoYW5nZWQodGV4dEFsaWduLCBfY2VsbHMsIF9oZWFkZXJDZWxsLCBfZm9vdGVyQ2VsbCkge1xuICAgIGlmICh0ZXh0QWxpZ24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoWydzdGFydCcsICdlbmQnLCAnY2VudGVyJ10uaW5kZXhPZih0ZXh0QWxpZ24pID09PSAtMSkge1xuICAgICAgY29uc29sZS53YXJuKCd0ZXh0QWxpZ24gY2FuIG9ubHkgYmUgc2V0IGFzIFwic3RhcnRcIiwgXCJlbmRcIiBvciBcImNlbnRlclwiJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHRleHRBbGlnbkZhbGxiYWNrO1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKHRoaXMuX2dyaWQpLmRpcmVjdGlvbiA9PT0gJ2x0cicpIHtcbiAgICAgIGlmICh0ZXh0QWxpZ24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgdGV4dEFsaWduRmFsbGJhY2sgPSAnbGVmdCc7XG4gICAgICB9IGVsc2UgaWYgKHRleHRBbGlnbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgdGV4dEFsaWduRmFsbGJhY2sgPSAncmlnaHQnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGV4dEFsaWduID09PSAnc3RhcnQnKSB7XG4gICAgICAgIHRleHRBbGlnbkZhbGxiYWNrID0gJ3JpZ2h0JztcbiAgICAgIH0gZWxzZSBpZiAodGV4dEFsaWduID09PSAnZW5kJykge1xuICAgICAgICB0ZXh0QWxpZ25GYWxsYmFjayA9ICdsZWZ0JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4ge1xuICAgICAgY2VsbC5fY29udGVudC5zdHlsZS50ZXh0QWxpZ24gPSB0ZXh0QWxpZ247XG4gICAgICBpZiAoZ2V0Q29tcHV0ZWRTdHlsZShjZWxsLl9jb250ZW50KS50ZXh0QWxpZ24gIT09IHRleHRBbGlnbikge1xuICAgICAgICBjZWxsLl9jb250ZW50LnN0eWxlLnRleHRBbGlnbiA9IHRleHRBbGlnbkZhbGxiYWNrO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX2hpZGRlbkNoYW5nZWQoaGlkZGVuLCBoZWFkZXJDZWxsLCBmb290ZXJDZWxsLCBjZWxscykge1xuICAgIGlmICh0aGlzLnBhcmVudEVsZW1lbnQgJiYgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCkge1xuICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Ll9jb2x1bW5Qcm9wQ2hhbmdlZCgnaGlkZGVuJywgaGlkZGVuKTtcbiAgICB9XG5cbiAgICB0aGlzLl9hbGxDZWxscy5mb3JFYWNoKGNlbGwgPT4gdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdoaWRkZW4nLCBoaWRkZW4sIGNlbGwpKTtcblxuICAgIGlmICghIWhpZGRlbiAhPT0gISF0aGlzLl9wcmV2aW91c0hpZGRlbiAmJiB0aGlzLl9ncmlkKSB7XG4gICAgICB0aGlzLl9ncmlkLl91cGRhdGVMYXN0RnJvemVuICYmIHRoaXMuX2dyaWQuX3VwZGF0ZUxhc3RGcm96ZW4oKTtcbiAgICAgIHRoaXMuX2dyaWQubm90aWZ5UmVzaXplICYmIHRoaXMuX2dyaWQubm90aWZ5UmVzaXplKCk7XG4gICAgICB0aGlzLl9ncmlkLl9yZXNldEtleWJvYXJkTmF2aWdhdGlvbiAmJiB0aGlzLl9ncmlkLl9yZXNldEtleWJvYXJkTmF2aWdhdGlvbigpO1xuICAgIH1cbiAgICB0aGlzLl9wcmV2aW91c0hpZGRlbiA9IGhpZGRlbjtcbiAgfVxuXG59O1xuXG4vKipcbiAqIEEgYDx2YWFkaW4tZ3JpZC1jb2x1bW4+YCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSBob3cgYSBjb2x1bW4gaW4gYDx2YWFkaW4tZ3JpZD5gXG4gKiBzaG91bGQgbG9vayBsaWtlLlxuICpcbiAqIFNlZSBgPHZhYWRpbi1ncmlkPmAgZG9jdW1lbnRhdGlvbiBhbmQgZGVtb3MgZm9yIGluc3RydWN0aW9ucyBhbmQgZXhhbXBsZXMgb24gaG93XG4gKiB0byBjb25maWd1cmUgdGhlIGA8dmFhZGluLWdyaWQtY29sdW1uPmAuXG4gKiBgYGBcbiAqXG4gKiBAbWVtYmVyb2YgVmFhZGluXG4gKiBAbWl4ZXMgVmFhZGluLkdyaWQuQ29sdW1uQmFzZU1peGluXG4gKi9cbmNsYXNzIEdyaWRDb2x1bW5FbGVtZW50IGV4dGVuZHMgQ29sdW1uQmFzZU1peGluKFBvbHltZXJFbGVtZW50KSB7XG4gIHN0YXRpYyBnZXQgaXMoKSB7XG4gICAgcmV0dXJuICd2YWFkaW4tZ3JpZC1jb2x1bW4nO1xuICB9XG5cbiAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAvKipcbiAgICAgICAqIFdpZHRoIG9mIHRoZSBjZWxscyBmb3IgdGhpcyBjb2x1bW4uXG4gICAgICAgKi9cbiAgICAgIHdpZHRoOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgdmFsdWU6ICcxMDBweCdcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogRmxleCBncm93IHJhdGlvIGZvciB0aGUgY2VsbCB3aWR0aHMuIFdoZW4gc2V0IHRvIDAsIGNlbGwgd2lkdGggaXMgZml4ZWQuXG4gICAgICAgKi9cbiAgICAgIGZsZXhHcm93OiB7XG4gICAgICAgIHR5cGU6IE51bWJlcixcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogQ3VzdG9tIGZ1bmN0aW9uIGZvciByZW5kZXJpbmcgdGhlIGNlbGwgY29udGVudC5cbiAgICAgICAqIFJlY2VpdmVzIHRocmVlIGFyZ3VtZW50czpcbiAgICAgICAqXG4gICAgICAgKiAtIGByb290YCBUaGUgY2VsbCBjb250ZW50IERPTSBlbGVtZW50LiBBcHBlbmQgeW91ciBjb250ZW50IHRvIGl0LlxuICAgICAgICogLSBgY29sdW1uYCBUaGUgYDx2YWFkaW4tZ3JpZC1jb2x1bW4+YCBlbGVtZW50LlxuICAgICAgICogLSBgcm93RGF0YWAgVGhlIG9iamVjdCB3aXRoIHRoZSBwcm9wZXJ0aWVzIHJlbGF0ZWQgd2l0aFxuICAgICAgICogICB0aGUgcmVuZGVyZWQgaXRlbSwgY29udGFpbnM6XG4gICAgICAgKiAgIC0gYHJvd0RhdGEuaW5kZXhgIFRoZSBpbmRleCBvZiB0aGUgaXRlbS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5pdGVtYCBUaGUgaXRlbS5cbiAgICAgICAqICAgLSBgcm93RGF0YS5leHBhbmRlZGAgU3VibGV2ZWwgdG9nZ2xlIHN0YXRlLlxuICAgICAgICogICAtIGByb3dEYXRhLmxldmVsYCBMZXZlbCBvZiB0aGUgdHJlZSByZXByZXNlbnRlZCB3aXRoIGEgaG9yaXpvbnRhbCBvZmZzZXQgb2YgdGhlIHRvZ2dsZSBidXR0b24uXG4gICAgICAgKiAgIC0gYHJvd0RhdGEuc2VsZWN0ZWRgIFNlbGVjdGVkIHN0YXRlLlxuICAgICAgICovXG4gICAgICByZW5kZXJlcjogRnVuY3Rpb24sXG5cbiAgICAgIC8qKlxuICAgICAgICogUGF0aCB0byBhbiBpdGVtIHN1Yi1wcm9wZXJ0eSB3aG9zZSB2YWx1ZSBnZXRzIGRpc3BsYXllZCBpbiB0aGUgY29sdW1uIGJvZHkgY2VsbHMuXG4gICAgICAgKiBUaGUgcHJvcGVydHkgbmFtZSBpcyBhbHNvIHNob3duIGluIHRoZSBjb2x1bW4gaGVhZGVyIGlmIGFuIGV4cGxpY2l0IGhlYWRlciBvciByZW5kZXJlciBpc24ndCBkZWZpbmVkLlxuICAgICAgICovXG4gICAgICBwYXRoOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBBdXRvbWF0aWNhbGx5IHNldHMgdGhlIHdpZHRoIG9mIHRoZSBjb2x1bW4gYmFzZWQgb24gdGhlIGNvbHVtbiBjb250ZW50cyB3aGVuIHRoaXMgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgICAqXG4gICAgICAgKiBGb3IgcGVyZm9ybWFuY2UgcmVhc29ucyB0aGUgY29sdW1uIHdpZHRoIGlzIGNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBvbmx5IG9uY2Ugd2hlbiB0aGUgZ3JpZCBpdGVtc1xuICAgICAgICogYXJlIHJlbmRlcmVkIGZvciB0aGUgZmlyc3QgdGltZSBhbmQgdGhlIGNhbGN1bGF0aW9uIG9ubHkgY29uc2lkZXJzIHRoZSByb3dzIHdoaWNoIGFyZSBjdXJyZW50bHlcbiAgICAgICAqIHJlbmRlcmVkIGluIERPTSAoYSBiaXQgbW9yZSB0aGFuIHdoYXQgaXMgY3VycmVudGx5IHZpc2libGUpLiBJZiB0aGUgZ3JpZCBpcyBzY3JvbGxlZCwgb3IgdGhlIGNlbGxcbiAgICAgICAqIGNvbnRlbnQgY2hhbmdlcywgdGhlIGNvbHVtbiB3aWR0aCBtaWdodCBub3QgbWF0Y2ggdGhlIGNvbnRlbnRzIGFueW1vcmUuXG4gICAgICAgKlxuICAgICAgICogSGlkZGVuIGNvbHVtbnMgYXJlIGlnbm9yZWQgaW4gdGhlIGNhbGN1bGF0aW9uIGFuZCB0aGVpciB3aWR0aHMgYXJlIG5vdCBhdXRvbWF0aWNhbGx5IHVwZGF0ZWQgd2hlblxuICAgICAgICogeW91IHNob3cgYSBjb2x1bW4gdGhhdCB3YXMgaW5pdGlhbGx5IGhpZGRlbi5cbiAgICAgICAqXG4gICAgICAgKiBZb3UgY2FuIG1hbnVhbGx5IHRyaWdnZXIgdGhlIGF1dG8gc2l6aW5nIGJlaGF2aW9yIGFnYWluIGJ5IGNhbGxpbmcgYGdyaWQucmVjYWxjdWxhdGVDb2x1bW5XaWR0aHMoKWAuXG4gICAgICAgKlxuICAgICAgICogVGhlIGNvbHVtbiB3aWR0aCBtYXkgc3RpbGwgZ3JvdyBsYXJnZXIgd2hlbiBgZmxleEdyb3dgIGlzIG5vdCAwLlxuICAgICAgICovXG4gICAgICBhdXRvV2lkdGg6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgdmFsdWU6IGZhbHNlXG4gICAgICB9LFxuXG4gICAgICBfYm9keVRlbXBsYXRlOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdFxuICAgICAgfSxcblxuICAgICAgX2NlbGxzOiBBcnJheVxuXG4gICAgfTtcbiAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZShHcmlkQ29sdW1uRWxlbWVudC5pcywgR3JpZENvbHVtbkVsZW1lbnQpO1xuZXhwb3J0IHsgR3JpZENvbHVtbkVsZW1lbnQgfTtcbiIsIi8qKlxuQGxpY2Vuc2VcbkNvcHlyaWdodCAoYykgMjAxNyBWYWFkaW4gTHRkLlxuVGhpcyBwcm9ncmFtIGlzIGF2YWlsYWJsZSB1bmRlciBBcGFjaGUgTGljZW5zZSBWZXJzaW9uIDIuMCwgYXZhaWxhYmxlIGF0IGh0dHBzOi8vdmFhZGluLmNvbS9saWNlbnNlL1xuKi9cbmltcG9ydCB7IFBvbHltZXJFbGVtZW50IH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnQuanMnO1xuXG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuLyoqXG4gKiBUaGlzIEVsZW1lbnQgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHZhYWRpbi1ncmlkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIEdyaWRPdXRlclNjcm9sbGVyRWxlbWVudCBleHRlbmRzIChjbGFzcyBleHRlbmRzIFBvbHltZXJFbGVtZW50IHt9KSB7XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgPHN0eWxlPlxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbcGFzc3Rocm91Z2hdKSB7XG4gICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgfVxuICAgIDwvc3R5bGU+XG5cbiAgICA8c2xvdD48L3Nsb3Q+XG5gO1xuICB9XG5cbiAgc3RhdGljIGdldCBpcygpIHtcbiAgICByZXR1cm4gJ3ZhYWRpbi1ncmlkLW91dGVyLXNjcm9sbGVyJztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICBzY3JvbGxUYXJnZXQ6IHtcbiAgICAgICAgdHlwZTogT2JqZWN0XG4gICAgICB9LFxuXG4gICAgICBzY3JvbGxIYW5kbGVyOiB7XG4gICAgICAgIHR5cGU6IE9iamVjdFxuICAgICAgfSxcblxuICAgICAgcGFzc3Rocm91Z2g6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfSxcblxuICAgICAgb3V0ZXJTY3JvbGxpbmc6IEJvb2xlYW4sXG5cbiAgICAgIG5vU2Nyb2xsYmFyczogQm9vbGVhbixcblxuICAgICAgX3RvdWNoRGV2aWNlOiBCb29sZWFuXG4gICAgfTtcbiAgfVxuXG4gIHJlYWR5KCkge1xuICAgIHN1cGVyLnJlYWR5KCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB0aGlzLl9zeW5jU2Nyb2xsVGFyZ2V0KCkpO1xuICAgIHRoaXMucGFyZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGZvciBzb21lIHJlYXNvbiBzY3JvbGwgYmFycyBhcmUgaGlkZGVuIGluIGlPUyBpZiB0aGlzIHN0eWxlIGlzXG4gICAgLy8gYWRkZWQgaW4gc3R5bGVzaGVldHMgb3IgYmVmb3JlIGF0dGFjaGluZy5cbiAgICB0aGlzLnN0eWxlLndlYmtpdE92ZXJmbG93U2Nyb2xsaW5nID0gJ3RvdWNoJztcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgXyA9PiB0aGlzLm91dGVyU2Nyb2xsaW5nID0gdHJ1ZSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgXyA9PiB7XG4gICAgICB0aGlzLm91dGVyU2Nyb2xsaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNjcm9sbEhhbmRsZXIuX3Njcm9sbEhhbmRsZXIoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9vbk1vdXNlTW92ZShlKSB7XG4gICAgLy8gSWdub3JlIG1vdXNlbW92ZSBldmVudHMgb24gdG91Y2ggZGV2aWNlc1xuICAgIGlmICghdGhpcy5fdG91Y2hEZXZpY2UpIHtcbiAgICAgIGlmICh0aGlzLm5vU2Nyb2xsYmFycyAmJiB0aGlzLnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdzY3JvbGwtcGVyaW9kJykpIHtcbiAgICAgICAgdGhpcy5wYXNzdGhyb3VnaCA9IGUub2Zmc2V0WSA8PSB0aGlzLmNsaWVudEhlaWdodCAtIDIwICYmIGUub2Zmc2V0WCA8PSB0aGlzLmNsaWVudFdpZHRoIC0gMjA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBhc3N0aHJvdWdoID0gZS5vZmZzZXRZIDw9IHRoaXMuY2xpZW50SGVpZ2h0ICYmIGUub2Zmc2V0WCA8PSB0aGlzLmNsaWVudFdpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHN5bmNPdXRlclNjcm9sbGVyKCkge1xuICAgIHRoaXMuc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUYXJnZXQuc2Nyb2xsVG9wO1xuICAgIHRoaXMuc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsVGFyZ2V0LnNjcm9sbExlZnQ7XG4gIH1cblxuICBfc3luY1Njcm9sbFRhcmdldCgpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgdGhpcy5zY3JvbGxUYXJnZXQuc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3A7XG4gICAgICB0aGlzLnNjcm9sbFRhcmdldC5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0O1xuICAgICAgdGhpcy5zY3JvbGxIYW5kbGVyLl9zY3JvbGxIYW5kbGVyKCk7XG4gICAgfSk7XG5cbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoR3JpZE91dGVyU2Nyb2xsZXJFbGVtZW50LmlzLCBHcmlkT3V0ZXJTY3JvbGxlckVsZW1lbnQpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL2xpYi9lbGVtZW50cy9kb20tbW9kdWxlLmpzJztcblxuaW1wb3J0IHsgaHRtbCB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2h0bWwtdGFnLmpzJztcbmNvbnN0IFZhYWRpbkdyaWRTdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkb20tbW9kdWxlJyk7XG5cbi8vIE5PVEUod2ViLXBhZGF3YW4pOiBodHRwczovL2dpdGh1Yi5jb20vdmFhZGluL3ZhYWRpbi1ncmlkL2lzc3Vlcy8xNTE0XG5WYWFkaW5HcmlkU3R5bGVzLmFwcGVuZENoaWxkKFxuICBodG1sYFxuICA8c3R5bGU+XG4gICAgQGtleWZyYW1lcyB2YWFkaW4tZ3JpZC1hcHBlYXIge1xuICAgICAgdG8ge1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIDpob3N0IHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgYW5pbWF0aW9uOiAxbXMgdmFhZGluLWdyaWQtYXBwZWFyO1xuICAgICAgaGVpZ2h0OiA0MDBweDtcbiAgICAgIGZsZXg6IDEgMSBhdXRvO1xuICAgICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB9XG5cbiAgICA6aG9zdChbaGlkZGVuXSkge1xuICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgICNzY3JvbGxlciB7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcbiAgICAgIHdpZHRoOiBhdXRvO1xuICAgICAgaGVpZ2h0OiBhdXRvO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgICBib3R0b206IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgIH1cblxuICAgIDpob3N0KFtoZWlnaHQtYnktcm93c10pIHtcbiAgICAgIGhlaWdodDogYXV0bztcbiAgICAgIGFsaWduLXNlbGY6IGZsZXgtc3RhcnQ7XG4gICAgICBmbGV4LWdyb3c6IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICA6aG9zdChbaGVpZ2h0LWJ5LXJvd3NdKSAjc2Nyb2xsZXIge1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgfVxuXG4gICAgI3RhYmxlIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgIHotaW5kZXg6IC0yO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgb3V0bGluZTogbm9uZTtcbiAgICB9XG5cbiAgICAjaGVhZGVyIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgdGgge1xuICAgICAgdGV4dC1hbGlnbjogaW5oZXJpdDtcbiAgICB9XG5cbiAgICAvKiBTYWZhcmkgZG9lc24ndCB3b3JrIHdpdGggXCJpbmhlcml0XCIgKi9cbiAgICBbc2FmYXJpXSB0aCB7XG4gICAgICB0ZXh0LWFsaWduOiBpbml0aWFsO1xuICAgIH1cblxuICAgICNmb290ZXIge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICBib3R0b206IDA7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICB9XG5cbiAgICAjaXRlbXMge1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHotaW5kZXg6IC0xO1xuICAgIH1cblxuICAgICNpdGVtcyxcbiAgICAjb3V0ZXJzaXplcixcbiAgICAjZml4ZWRzaXplciB7XG4gICAgICBib3JkZXItdG9wOiAwIHNvbGlkIHRyYW5zcGFyZW50O1xuICAgICAgYm9yZGVyLWJvdHRvbTogMCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICB9XG5cbiAgICBbcGFydH49XCJyb3dcIl0ge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIG1hcmdpbjogMDtcbiAgICB9XG5cbiAgICBbcGFydH49XCJyb3dcIl1bbG9hZGluZ10gW3BhcnR+PVwiYm9keS1jZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpIHtcbiAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxuXG4gICAgI2l0ZW1zIFtwYXJ0fj1cInJvd1wiXSB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuXG4gICAgI2l0ZW1zIFtwYXJ0fj1cInJvd1wiXTplbXB0eSB7XG4gICAgICBoZWlnaHQ6IDFlbTtcbiAgICB9XG5cbiAgICBbcGFydH49XCJjZWxsXCJdOm5vdChbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0pIHtcbiAgICAgIGZsZXgtc2hyaW5rOiAwO1xuICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB9XG5cbiAgICBbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0ge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgcGFkZGluZzogMDtcbiAgICB9XG5cbiAgICBbcGFydH49XCJjZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgIH1cblxuICAgIFtoaWRkZW5dIHtcbiAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICBbZnJvemVuXSB7XG4gICAgICB6LWluZGV4OiAyO1xuICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICAjb3V0ZXJzY3JvbGxlciB7XG4gICAgICAvKiBOZWVkZWQgKGF0IGxlYXN0KSBmb3IgQW5kcm9pZCBDaHJvbWUgKi9cbiAgICAgIHotaW5kZXg6IDA7XG4gICAgfVxuXG4gICAgI3Njcm9sbGVyOm5vdChbc2FmYXJpXSkgI291dGVyc2Nyb2xsZXIge1xuICAgICAgLyogTmVlZGVkIGZvciBBbmRyb2lkIENocm9tZSAoIzEwMjApLiBDYW4ndCBiZSBhcHBsaWVkIHRvIFNhZmFyaVxuICAgICAgc2luY2UgaXQgd291bGQgcmUtaW50cm9kdWNlIHRoZSBzdWItcGl4ZWwgb3ZlcmZsb3cgYnVnICgjODUzKSAqL1xuICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcbiAgICB9XG5cbiAgICBbbm8tc2Nyb2xsYmFyc106bm90KFtzYWZhcmldKTpub3QoW2ZpcmVmb3hdKSAjb3V0ZXJzY3JvbGxlcixcbiAgICBbbm8tc2Nyb2xsYmFyc11bc2FmYXJpXSAjdGFibGUsXG4gICAgW25vLXNjcm9sbGJhcnNdW2ZpcmVmb3hdICN0YWJsZSB7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIFtuby1zY3JvbGxiYXJzXTpub3QoW3NhZmFyaV0pOm5vdChbZmlyZWZveF0pICNvdXRlcnNjcm9sbGVyIHtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgIH1cblxuICAgIC8qIFJlb3JkZXJpbmcgc3R5bGVzICovXG4gICAgOmhvc3QoW3Jlb3JkZXJpbmddKSBbcGFydH49XCJjZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpLFxuICAgIDpob3N0KFtyZW9yZGVyaW5nXSkgW3BhcnR+PVwicmVzaXplLWhhbmRsZVwiXSxcbiAgICAjc2Nyb2xsZXJbbm8tY29udGVudC1wb2ludGVyLWV2ZW50c10gW3BhcnR+PVwiY2VsbFwiXSA6OnNsb3R0ZWQodmFhZGluLWdyaWQtY2VsbC1jb250ZW50KSB7XG4gICAgICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgICB9XG5cbiAgICBbcGFydH49XCJyZW9yZGVyLWdob3N0XCJdIHtcbiAgICAgIHZpc2liaWxpdHk6IGhpZGRlbjtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgb3BhY2l0eTogMC41O1xuXG4gICAgICAvKiBQcmV2ZW50IG92ZXJmbG93aW5nIHRoZSBncmlkIGluIEZpcmVmb3ggKi9cbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgfVxuXG4gICAgOmhvc3QoW3Jlb3JkZXJpbmddKSB7XG4gICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgICNzY3JvbGxlcltpZV1bY29sdW1uLXJlb3JkZXJpbmctYWxsb3dlZF0gW3BhcnR+PVwiaGVhZGVyLWNlbGxcIl0ge1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgIH1cblxuICAgIDpob3N0KFtyZW9yZGVyaW5nXSkgI291dGVyc2Nyb2xsZXIge1xuICAgICAgLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmc6IGF1dG8gIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAvKiBSZXNpemluZyBzdHlsZXMgKi9cbiAgICBbcGFydH49XCJyZXNpemUtaGFuZGxlXCJdIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgY3Vyc29yOiBjb2wtcmVzaXplO1xuICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICBbcGFydH49XCJyZXNpemUtaGFuZGxlXCJdOjpiZWZvcmUge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgY29udGVudDogXCJcIjtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIHdpZHRoOiAzNXB4O1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xuICAgIH1cblxuICAgIFtsYXN0LWNvbHVtbl0gW3BhcnR+PVwicmVzaXplLWhhbmRsZVwiXTo6YmVmb3JlLFxuICAgIFtsYXN0LWZyb3plbl0gW3BhcnR+PVwicmVzaXplLWhhbmRsZVwiXTo6YmVmb3JlIHtcbiAgICAgIHdpZHRoOiAxOHB4O1xuICAgICAgdHJhbnNmb3JtOiBub25lO1xuICAgICAgcmlnaHQ6IDA7XG4gICAgfVxuXG4gICAgI3Njcm9sbGVyW2NvbHVtbi1yZXNpemluZ10ge1xuICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xuICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcbiAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICB1c2VyLXNlbGVjdDogbm9uZTtcbiAgICB9XG5cbiAgICAvKiBTaXplciBzdHlsZXMgKi9cbiAgICAuc2l6ZXIge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICAgIH1cblxuICAgIC5zaXplciBbcGFydH49XCJkZXRhaWxzLWNlbGxcIl0ge1xuICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5zaXplciBbcGFydH49XCJjZWxsXCJdW2hpZGRlbl0ge1xuICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5zaXplciBbcGFydH49XCJjZWxsXCJdIHtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgZmxleC1zaHJpbms6IDA7XG4gICAgICBsaW5lLWhlaWdodDogMDtcbiAgICAgIG1hcmdpbi10b3A6IC0xZW07XG4gICAgICBoZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgICAgIG1pbi1oZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgICAgIG1heC1oZWlnaHQ6IDAgIWltcG9ydGFudDtcbiAgICAgIHBhZGRpbmc6IDAgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAuc2l6ZXIgW3BhcnR+PVwiY2VsbFwiXTo6YmVmb3JlIHtcbiAgICAgIGNvbnRlbnQ6IFwiLVwiO1xuICAgIH1cblxuICAgIC5zaXplciBbcGFydH49XCJjZWxsXCJdIDo6c2xvdHRlZCh2YWFkaW4tZ3JpZC1jZWxsLWNvbnRlbnQpIHtcbiAgICAgIGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDtcbiAgICB9XG5cbiAgICAvKiBGaXhlZCBtb2RlIChUYWJsZXQgRWRnZSkgKi9cbiAgICAjZml4ZWRzaXplciB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuXG4gICAgOm5vdChbZWRnZV1bbm8tc2Nyb2xsYmFyc10pICNmaXhlZHNpemVyIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAgW2VkZ2VdW25vLXNjcm9sbGJhcnNdIHtcbiAgICAgIC8qIEFueSB2YWx1ZSBvdGhlciB0aGFuIOKAmG5vbmXigJkgZm9yIHRoZSB0cmFuc2Zvcm0gcmVzdWx0cyBpbiB0aGUgY3JlYXRpb24gb2YgYm90aCBhIHN0YWNraW5nIGNvbnRleHQgYW5kXG4gICAgICBhIGNvbnRhaW5pbmcgYmxvY2suIFRoZSBvYmplY3QgYWN0cyBhcyBhIGNvbnRhaW5pbmcgYmxvY2sgZm9yIGZpeGVkIHBvc2l0aW9uZWQgZGVzY2VuZGFudHMuICovXG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIFtlZGdlXVtuby1zY3JvbGxiYXJzXSAjaGVhZGVyLFxuICAgIFtlZGdlXVtuby1zY3JvbGxiYXJzXSAjZm9vdGVyIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB9XG5cbiAgICBbZWRnZV1bbm8tc2Nyb2xsYmFyc10gI2l0ZW1zIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcbiAgICB9XG4gIDwvc3R5bGU+XG5gKTtcblxuY29uc3Qgc2FmYXJpID0gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbmNvbnN0IGZpcmVmb3ggPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gLTE7XG5cbmlmIChzYWZhcmkgfHwgZmlyZWZveCkge1xuICBjb25zdCBzY3JvbGxpbmdTdHlsZXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzY3JvbGxpbmdTdHlsZXMudGV4dENvbnRlbnQgPSBgXG4gICAgW3Njcm9sbGluZ11bc2FmYXJpXSAjb3V0ZXJzY3JvbGxlcixcbiAgICBbc2Nyb2xsaW5nXVtmaXJlZm94XSAjb3V0ZXJzY3JvbGxlciB7XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICB9XG5cbiAgICBbaW9zXSAjb3V0ZXJzY3JvbGxlciB7XG4gICAgICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgICAgIHotaW5kZXg6IC0zO1xuICAgIH1cblxuICAgIFtpb3NdW3Njcm9sbGluZ10gI291dGVyc2Nyb2xsZXIge1xuICAgICAgei1pbmRleDogMDtcbiAgICB9XG5cbiAgICBbaW9zXSBbZnJvemVuXSB7XG4gICAgICB3aWxsLWNoYW5nZTogYXV0bztcbiAgICB9XG4gIGA7XG4gIFZhYWRpbkdyaWRTdHlsZXMucXVlcnlTZWxlY3RvcigndGVtcGxhdGUnKS5jb250ZW50LmFwcGVuZENoaWxkKHNjcm9sbGluZ1N0eWxlcyk7XG59XG5cblZhYWRpbkdyaWRTdHlsZXMucmVnaXN0ZXIoJ3ZhYWRpbi1ncmlkLXN0eWxlcycpO1xuIiwiLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE3IFZhYWRpbiBMdGQuXG5UaGlzIHByb2dyYW0gaXMgYXZhaWxhYmxlIHVuZGVyIEFwYWNoZSBMaWNlbnNlIFZlcnNpb24gMi4wLCBhdmFpbGFibGUgYXQgaHR0cHM6Ly92YWFkaW4uY29tL2xpY2Vuc2UvXG4qL1xuaW1wb3J0ICdAcG9seW1lci9wb2x5bWVyL3BvbHltZXItbGVnYWN5LmpzJztcblxuaW1wb3J0IHsgVGhlbWFibGVNaXhpbiB9IGZyb20gJ0B2YWFkaW4vdmFhZGluLXRoZW1hYmxlLW1peGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi5qcyc7XG5pbXBvcnQgeyBTY3JvbGxlckVsZW1lbnQgfSBmcm9tICcuL3ZhYWRpbi1ncmlkLXNjcm9sbGVyLmpzJztcbmltcG9ydCB7IEExMXlNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtYTExeS1taXhpbi5qcyc7XG5pbXBvcnQgeyBBY3RpdmVJdGVtTWl4aW4gfSBmcm9tICcuL3ZhYWRpbi1ncmlkLWFjdGl2ZS1pdGVtLW1peGluLmpzJztcbmltcG9ydCB7IEFycmF5RGF0YVByb3ZpZGVyTWl4aW4gfSBmcm9tICcuL3ZhYWRpbi1ncmlkLWFycmF5LWRhdGEtcHJvdmlkZXItbWl4aW4uanMnO1xuaW1wb3J0IHsgQ29sdW1uUmVzaXppbmdNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtY29sdW1uLXJlc2l6aW5nLW1peGluLmpzJztcbmltcG9ydCB7IERhdGFQcm92aWRlck1peGluIH0gZnJvbSAnLi92YWFkaW4tZ3JpZC1kYXRhLXByb3ZpZGVyLW1peGluLmpzJztcbmltcG9ydCB7IER5bmFtaWNDb2x1bW5zTWl4aW4gfSBmcm9tICcuL3ZhYWRpbi1ncmlkLWR5bmFtaWMtY29sdW1ucy1taXhpbi5qcyc7XG5pbXBvcnQgeyBFdmVudENvbnRleHRNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtZXZlbnQtY29udGV4dC1taXhpbi5qcyc7XG5pbXBvcnQgeyBGaWx0ZXJNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtZmlsdGVyLW1peGluLmpzJztcbmltcG9ydCB7IFJvd0RldGFpbHNNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtcm93LWRldGFpbHMtbWl4aW4uanMnO1xuaW1wb3J0IHsgU2Nyb2xsTWl4aW4gfSBmcm9tICcuL3ZhYWRpbi1ncmlkLXNjcm9sbC1taXhpbi5qcyc7XG5pbXBvcnQgeyBTZWxlY3Rpb25NaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtc2VsZWN0aW9uLW1peGluLmpzJztcbmltcG9ydCB7IFNvcnRNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtc29ydC1taXhpbi5qcyc7XG5pbXBvcnQgeyBTdHlsaW5nTWl4aW4gfSBmcm9tICcuL3ZhYWRpbi1ncmlkLXN0eWxpbmctbWl4aW4uanMnO1xuaW1wb3J0IHsgRHJhZ0FuZERyb3BNaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQtZHJhZy1hbmQtZHJvcC1taXhpbi5qcyc7XG5pbXBvcnQgeyBLZXlib2FyZE5hdmlnYXRpb25NaXhpbiB9IGZyb20gJy4vdmFhZGluLWdyaWQta2V5Ym9hcmQtbmF2aWdhdGlvbi1taXhpbi5qcyc7XG5pbXBvcnQgeyBDb2x1bW5SZW9yZGVyaW5nTWl4aW4gfSBmcm9tICcuL3ZhYWRpbi1ncmlkLWNvbHVtbi1yZW9yZGVyaW5nLW1peGluLmpzJztcbmltcG9ydCAnLi92YWFkaW4tZ3JpZC1jb2x1bW4uanMnO1xuaW1wb3J0ICcuL3ZhYWRpbi1ncmlkLW91dGVyLXNjcm9sbGVyLmpzJztcbmltcG9ydCAnLi92YWFkaW4tZ3JpZC1zdHlsZXMuanMnO1xuaW1wb3J0IHsgRWxlbWVudE1peGluIH0gZnJvbSAnQHZhYWRpbi92YWFkaW4tZWxlbWVudC1taXhpbi92YWFkaW4tZWxlbWVudC1taXhpbi5qcyc7XG5pbXBvcnQgeyBodG1sIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvaHRtbC10YWcuanMnO1xuaW1wb3J0IHsgYmVmb3JlTmV4dFJlbmRlciwgYWZ0ZXJOZXh0UmVuZGVyIH0gZnJvbSAnQHBvbHltZXIvcG9seW1lci9saWIvdXRpbHMvcmVuZGVyLXN0YXR1cy5qcyc7XG5pbXBvcnQgeyBEZWJvdW5jZXIgfSBmcm9tICdAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9kZWJvdW5jZS5qcyc7XG5pbXBvcnQgeyB0aW1lT3V0LCBhbmltYXRpb25GcmFtZSB9IGZyb20gJ0Bwb2x5bWVyL3BvbHltZXIvbGliL3V0aWxzL2FzeW5jLmpzJztcblxuY29uc3QgVE9VQ0hfREVWSUNFID0gKCgpID0+IHtcbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5jcmVhdGVFdmVudCgnVG91Y2hFdmVudCcpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59KSgpO1xuXG4vKipcbiAqXG4gKiBgPHZhYWRpbi1ncmlkPmAgaXMgYSBmcmVlLCBoaWdoIHF1YWxpdHkgZGF0YSBncmlkIC8gZGF0YSB0YWJsZSBXZWIgQ29tcG9uZW50LiBUaGUgY29udGVudCBvZiB0aGVcbiAqIHRoZSBncmlkIGNhbiBiZSBwb3B1bGF0ZWQgaW4gdHdvIHdheXM6IGltcGVyYXRpdmVseSBieSB1c2luZyByZW5kZXJlciBjYWxsYmFjayBmdW5jdGlvbiBhbmRcbiAqIGRlY2xhcmF0aXZlbHkgYnkgdXNpbmcgUG9seW1lcidzIFRlbXBsYXRlcy5cbiAqXG4gKiAjIyMgUXVpY2sgU3RhcnRcbiAqXG4gKiBTdGFydCB3aXRoIGFuIGFzc2lnbmluZyBhbiBhcnJheSB0byB0aGUgW2BpdGVtc2BdKCMvZWxlbWVudHMvdmFhZGluLWdyaWQjcHJvcGVydHktaXRlbXMpIHByb3BlcnR5IHRvIHZpc3VhbGl6ZSB5b3VyIGRhdGEuXG4gKlxuICogVXNlIHRoZSBbYDx2YWFkaW4tZ3JpZC1jb2x1bW4+YF0oIy9lbGVtZW50cy92YWFkaW4tZ3JpZC1jb2x1bW4pIGVsZW1lbnQgdG8gY29uZmlndXJlIHRoZSBncmlkIGNvbHVtbnMuIFNldCBgcGF0aGAgYW5kIGBoZWFkZXJgXG4gKiBzaG9ydGhhbmQgcHJvcGVydGllcyBmb3IgdGhlIGNvbHVtbnMgdG8gZGVmaW5lIHdoYXQgZ2V0cyByZW5kZXJlZCBpbiB0aGUgY2VsbHMgb2YgdGhlIGNvbHVtbi5cbiAqXG4gKiAjIyMjIEV4YW1wbGU6XG4gKiBgYGBodG1sXG4gKiA8dmFhZGluLWdyaWQ+XG4gKiAgIDx2YWFkaW4tZ3JpZC1jb2x1bW4gcGF0aD1cIm5hbWUuZmlyc3RcIiBoZWFkZXI9XCJGaXJzdCBuYW1lXCI+PC92YWFkaW4tZ3JpZC1jb2x1bW4+XG4gKiAgIDx2YWFkaW4tZ3JpZC1jb2x1bW4gcGF0aD1cIm5hbWUubGFzdFwiIGhlYWRlcj1cIkxhc3QgbmFtZVwiPjwvdmFhZGluLWdyaWQtY29sdW1uPlxuICogICA8dmFhZGluLWdyaWQtY29sdW1uIHBhdGg9XCJlbWFpbFwiPjwvdmFhZGluLWdyaWQtY29sdW1uPlxuICogPC92YWFkaW4tZ3JpZD5cbiAqIGBgYFxuICpcbiAqIEZvciBjdXN0b20gY29udGVudCBgdmFhZGluLWdyaWQtY29sdW1uYCBlbGVtZW50IHByb3ZpZGVzIHlvdSB3aXRoIHRocmVlIHR5cGVzIG9mIGByZW5kZXJlcmAgY2FsbGJhY2sgZnVuY3Rpb25zOiBgaGVhZGVyUmVuZGVyZXJgLFxuICogYHJlbmRlcmVyYCBhbmQgYGZvb3RlclJlbmRlcmVyYC5cbiAqXG4gKiBFYWNoIG9mIHRob3NlIHJlbmRlcmVyIGZ1bmN0aW9ucyBwcm92aWRlcyBgcm9vdGAsIGBjb2x1bW5gLCBgcm93RGF0YWAgYXJndW1lbnRzIHdoZW4gYXBwbGljYWJsZS5cbiAqIEdlbmVyYXRlIERPTSBjb250ZW50LCBhcHBlbmQgaXQgdG8gdGhlIGByb290YCBlbGVtZW50IGFuZCBjb250cm9sIHRoZSBzdGF0ZVxuICogb2YgdGhlIGhvc3QgZWxlbWVudCBieSBhY2Nlc3NpbmcgYGNvbHVtbmAuIEJlZm9yZSBnZW5lcmF0aW5nIG5ldyBjb250ZW50LFxuICogdXNlcnMgYXJlIGFibGUgdG8gY2hlY2sgaWYgdGhlcmUgaXMgYWxyZWFkeSBjb250ZW50IGluIGByb290YCBmb3IgcmV1c2luZyBpdC5cbiAqXG4gKiBSZW5kZXJlcnMgYXJlIGNhbGxlZCBvbiBpbml0aWFsaXphdGlvbiBvZiBuZXcgY29sdW1uIGNlbGxzIGFuZCBlYWNoIHRpbWUgdGhlXG4gKiByZWxhdGVkIHJvdyBkYXRhIGlzIHVwZGF0ZWQuIERPTSBnZW5lcmF0ZWQgZHVyaW5nIHRoZSByZW5kZXJlciBjYWxsIGNhbiBiZSByZXVzZWRcbiAqIGluIHRoZSBuZXh0IHJlbmRlcmVyIGNhbGwgYW5kIHdpbGwgYmUgcHJvdmlkZWQgd2l0aCB0aGUgYHJvb3RgIGFyZ3VtZW50LlxuICogT24gZmlyc3QgY2FsbCBpdCB3aWxsIGJlIGVtcHR5LlxuICpcbiAqICMjIyMgRXhhbXBsZTpcbiAqIGBgYGh0bWxcbiAqIDx2YWFkaW4tZ3JpZD5cbiAqICAgPHZhYWRpbi1ncmlkLWNvbHVtbj48L3ZhYWRpbi1ncmlkLWNvbHVtbj5cbiAqICAgPHZhYWRpbi1ncmlkLWNvbHVtbj48L3ZhYWRpbi1ncmlkLWNvbHVtbj5cbiAqICAgPHZhYWRpbi1ncmlkLWNvbHVtbj48L3ZhYWRpbi1ncmlkLWNvbHVtbj5cbiAqIDwvdmFhZGluLWdyaWQ+XG4gKiBgYGBcbiAqIGBgYGpzXG4gKiBjb25zdCBncmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmFhZGluLWdyaWQnKTtcbiAqIGdyaWQuaXRlbXMgPSBbeyduYW1lJzogJ0pvaG4nLCAnc3VybmFtZSc6ICdMZW5ub24nLCAncm9sZSc6ICdzaW5nZXInfSxcbiAqICAgICAgICAgICAgICAgeyduYW1lJzogJ1JpbmdvJywgJ3N1cm5hbWUnOiAnU3RhcnInLCAncm9sZSc6ICdkcnVtcyd9XTtcbiAqXG4gKiBjb25zdCBjb2x1bW5zID0gZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKCd2YWFkaW4tZ3JpZC1jb2x1bW4nKTtcbiAqXG4gKiBjb2x1bW5zWzBdLmhlYWRlclJlbmRlcmVyID0gZnVuY3Rpb24ocm9vdCkge1xuICogICByb290LnRleHRDb250ZW50ID0gJ05hbWUnO1xuICogfTtcbiAqIGNvbHVtbnNbMF0ucmVuZGVyZXIgPSBmdW5jdGlvbihyb290LCBjb2x1bW4sIHJvd0RhdGEpIHtcbiAqICAgcm9vdC50ZXh0Q29udGVudCA9IHJvd0RhdGEuaXRlbS5uYW1lO1xuICogfTtcbiAqXG4gKiBjb2x1bW5zWzFdLmhlYWRlclJlbmRlcmVyID0gZnVuY3Rpb24ocm9vdCkge1xuICogICByb290LnRleHRDb250ZW50ID0gJ1N1cm5hbWUnO1xuICogfTtcbiAqIGNvbHVtbnNbMV0ucmVuZGVyZXIgPSBmdW5jdGlvbihyb290LCBjb2x1bW4sIHJvd0RhdGEpIHtcbiAqICAgcm9vdC50ZXh0Q29udGVudCA9IHJvd0RhdGEuaXRlbS5zdXJuYW1lO1xuICogfTtcbiAqXG4gKiBjb2x1bW5zWzJdLmhlYWRlclJlbmRlcmVyID0gZnVuY3Rpb24ocm9vdCkge1xuICogICByb290LnRleHRDb250ZW50ID0gJ1JvbGUnO1xuICogfTtcbiAqIGNvbHVtbnNbMl0ucmVuZGVyZXIgPSBmdW5jdGlvbihyb290LCBjb2x1bW4sIHJvd0RhdGEpIHtcbiAqICAgcm9vdC50ZXh0Q29udGVudCA9IHJvd0RhdGEuaXRlbS5yb2xlO1xuICogfTtcbiAqIGBgYFxuICpcbiAqIEFsdGVybmF0aXZlbHksIHRoZSBjb250ZW50IGNhbiBiZSBwcm92aWRlZCB3aXRoIFBvbHltZXIncyBUZW1wbGF0ZXM6XG4gKlxuICogIyMjIyBFeGFtcGxlOlxuICogYGBgaHRtbFxuICogPHZhYWRpbi1ncmlkIGl0ZW1zPSdbe1wibmFtZVwiOiBcIkpvaG5cIiwgXCJzdXJuYW1lXCI6IFwiTGVubm9uXCIsIFwicm9sZVwiOiBcInNpbmdlclwifSxcbiAqIHtcIm5hbWVcIjogXCJSaW5nb1wiLCBcInN1cm5hbWVcIjogXCJTdGFyclwiLCBcInJvbGVcIjogXCJkcnVtc1wifV0nPlxuICogICA8dmFhZGluLWdyaWQtY29sdW1uPlxuICogICAgIDx0ZW1wbGF0ZSBjbGFzcz1cImhlYWRlclwiPk5hbWU8L3RlbXBsYXRlPlxuICogICAgIDx0ZW1wbGF0ZT5bW2l0ZW0ubmFtZV1dPC90ZW1wbGF0ZT5cbiAqICAgPC92YWFkaW4tZ3JpZC1jb2x1bW4+XG4gKiAgIDx2YWFkaW4tZ3JpZC1jb2x1bW4+XG4gKiAgICAgPHRlbXBsYXRlIGNsYXNzPVwiaGVhZGVyXCI+U3VybmFtZTwvdGVtcGxhdGU+XG4gKiAgICAgPHRlbXBsYXRlPltbaXRlbS5zdXJuYW1lXV08L3RlbXBsYXRlPlxuICogICA8L3ZhYWRpbi1ncmlkLWNvbHVtbj5cbiAqICAgPHZhYWRpbi1ncmlkLWNvbHVtbj5cbiAqICAgICA8dGVtcGxhdGUgY2xhc3M9XCJoZWFkZXJcIj5Sb2xlPC90ZW1wbGF0ZT5cbiAqICAgICA8dGVtcGxhdGU+W1tpdGVtLnJvbGVdXTwvdGVtcGxhdGU+XG4gKiAgIDwvdmFhZGluLWdyaWQtY29sdW1uPlxuICogPC92YWFkaW4tZ3JpZD5cbiAqIGBgYFxuICpcbiAqIFRoZSBmb2xsb3dpbmcgaGVscGVyIGVsZW1lbnRzIGNhbiBiZSB1c2VkIGZvciBmdXJ0aGVyIGN1c3RvbWl6YXRpb246XG4gKiAtIFtgPHZhYWRpbi1ncmlkLWNvbHVtbi1ncm91cD5gXSgjL2VsZW1lbnRzL3ZhYWRpbi1ncmlkLWNvbHVtbi1ncm91cClcbiAqIC0gW2A8dmFhZGluLWdyaWQtZmlsdGVyPmBdKCMvZWxlbWVudHMvdmFhZGluLWdyaWQtZmlsdGVyKVxuICogLSBbYDx2YWFkaW4tZ3JpZC1zb3J0ZXI+YF0oIy9lbGVtZW50cy92YWFkaW4tZ3JpZC1zb3J0ZXIpXG4gKiAtIFtgPHZhYWRpbi1ncmlkLXNlbGVjdGlvbi1jb2x1bW4+YF0oIy9lbGVtZW50cy92YWFkaW4tZ3JpZC1zZWxlY3Rpb24tY29sdW1uKVxuICogLSBbYDx2YWFkaW4tZ3JpZC10cmVlLXRvZ2dsZT5gXSgjL2VsZW1lbnRzL3ZhYWRpbi1ncmlkLXRyZWUtdG9nZ2xlKVxuICpcbiAqIF9fTm90ZSB0aGF0IHRoZSBoZWxwZXIgZWxlbWVudHMgbXVzdCBiZSBleHBsaWNpdGx5IGltcG9ydGVkLl9fXG4gKiBJZiB5b3Ugd2FudCB0byBpbXBvcnQgZXZlcnl0aGluZyBhdCBvbmNlIHlvdSBjYW4gdXNlIHRoZSBgYWxsLWltcG9ydHMuaHRtbGAgYnVuZGxlLlxuICpcbiAqIEEgY29sdW1uIHRlbXBsYXRlIGNhbiBiZSBkZWNvcmF0ZWQgd2l0aCBvbmUgdGhlIGZvbGxvd2luZyBjbGFzcyBuYW1lcyB0byBzcGVjaWZ5IGl0cyBwdXJwb3NlXG4gKiAtIGBoZWFkZXJgOiBNYXJrcyBhIGhlYWRlciB0ZW1wbGF0ZVxuICogLSBgZm9vdGVyYDogTWFya3MgYSBmb290ZXIgdGVtcGxhdGVcbiAqIC0gYHJvdy1kZXRhaWxzYDogTWFya3MgYSByb3cgZGV0YWlscyB0ZW1wbGF0ZVxuICpcbiAqIFRoZSBmb2xsb3dpbmcgYnVpbHQtaW4gdGVtcGxhdGUgdmFyaWFibGVzIGNhbiBiZSBib3VuZCB0byBpbnNpZGUgdGhlIGNvbHVtbiB0ZW1wbGF0ZXM6XG4gKiAtIGBbW2luZGV4XV1gOiBOdW1iZXIgcmVwcmVzZW50aW5nIHRoZSByb3cgaW5kZXhcbiAqIC0gYFtbaXRlbV1dYCBhbmQgaXQncyBzdWItcHJvcGVydGllczogRGF0YSBvYmplY3QgKHByb3ZpZGVkIGJ5IGEgZGF0YSBwcm92aWRlciAvIGl0ZW1zIGFycmF5KVxuICogLSBge3tzZWxlY3RlZH19YDogVHJ1ZSBpZiB0aGUgaXRlbSBpcyBzZWxlY3RlZCAoY2FuIGJlIHR3by13YXkgYm91bmQpXG4gKiAtIGB7e2RldGFpbHNPcGVuZWR9fWA6IFRydWUgaWYgdGhlIGl0ZW0gaGFzIHJvdyBkZXRhaWxzIG9wZW5lZCAoY2FuIGJlIHR3by13YXkgYm91bmQpXG4gKiAtIGB7e2V4cGFuZGVkfX1gOiBUcnVlIGlmIHRoZSBpdGVtIGhhcyB0cmVlIHN1YmxldmVsIGV4cGFuZGVkIChjYW4gYmUgdHdvLXdheSBib3VuZClcbiAqIC0gYFtbbGV2ZWxdXWA6IE51bWJlciBvZiB0aGUgdHJlZSBzdWJsZXZlbCBvZiB0aGUgaXRlbSwgZmlyc3QgbGV2ZWwtaXRlbXMgaGF2ZSAwXG4gKlxuICogIyMjIExhenkgTG9hZGluZyB3aXRoIEZ1bmN0aW9uIERhdGEgUHJvdmlkZXJcbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBhc3NpZ25pbmcgYW4gYXJyYXkgdG8gdGhlIGl0ZW1zIHByb3BlcnR5LCB5b3UgY2FuIGFsdGVybmF0aXZlbHlcbiAqIHByb3ZpZGUgdGhlIGA8dmFhZGluLWdyaWQ+YCBkYXRhIHRocm91Z2ggdGhlXG4gKiBbYGRhdGFQcm92aWRlcmBdKCMvZWxlbWVudHMvdmFhZGluLWdyaWQjcHJvcGVydHktZGF0YVByb3ZpZGVyKSBmdW5jdGlvbiBwcm9wZXJ0eS5cbiAqIFRoZSBgPHZhYWRpbi1ncmlkPmAgY2FsbHMgdGhpcyBmdW5jdGlvbiBsYXppbHksIG9ubHkgd2hlbiBpdCBuZWVkcyBtb3JlIGRhdGFcbiAqIHRvIGJlIGRpc3BsYXllZC5cbiAqXG4gKiBTZWUgdGhlIFtgZGF0YVByb3ZpZGVyYF0oIy9lbGVtZW50cy92YWFkaW4tZ3JpZCNwcm9wZXJ0eS1kYXRhUHJvdmlkZXIpIGluXG4gKiB0aGUgQVBJIHJlZmVyZW5jZSBiZWxvdyBmb3IgdGhlIGRldGFpbGVkIGRhdGEgcHJvdmlkZXIgYXJndW1lbnRzIGRlc2NyaXB0aW9uLFxuICogYW5kIHRoZSDigJxBc3NpZ25pbmcgRGF0YeKAnSBwYWdlIGluIHRoZSBkZW1vcy5cbiAqXG4gKiBfX05vdGUgdGhhdCBleHBhbmRpbmcgdGhlIHRyZWUgZ3JpZCdzIGl0ZW0gd2lsbCB0cmlnZ2VyIGEgY2FsbCB0byB0aGUgYGRhdGFQcm92aWRlcmAuX19cbiAqXG4gKiBfX0Fsc28sIG5vdGUgdGhhdCB3aGVuIHVzaW5nIGZ1bmN0aW9uIGRhdGEgcHJvdmlkZXJzLCB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zXG4gKiBuZWVkcyB0byBiZSBzZXQgbWFudWFsbHkuIFRoZSB0b3RhbCBudW1iZXIgb2YgaXRlbXMgY2FuIGJlIHJldHVybmVkXG4gKiBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50IG9mIHRoZSBkYXRhIHByb3ZpZGVyIGNhbGxiYWNrOl9fXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZ3JpZC5kYXRhUHJvdmlkZXIgPSBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gKiAgIHZhciB1cmwgPSAnaHR0cHM6Ly9hcGkuZXhhbXBsZS9kYXRhJyArXG4gKiAgICAgICAnP3BhZ2U9JyArIHBhcmFtcy5wYWdlICsgICAgICAgIC8vIHRoZSByZXF1ZXN0ZWQgcGFnZSBpbmRleFxuICogICAgICAgJyZwZXJfcGFnZT0nICsgcGFyYW1zLnBhZ2VTaXplOyAvLyBudW1iZXIgb2YgaXRlbXMgb24gdGhlIHBhZ2VcbiAqICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICogICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gKiAgICAgdmFyIHJlc3BvbnNlID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAqICAgICBjYWxsYmFjayhcbiAqICAgICAgIHJlc3BvbnNlLmVtcGxveWVlcywgLy8gcmVxdWVzdGVkIHBhZ2Ugb2YgaXRlbXNcbiAqICAgICAgIHJlc3BvbnNlLnRvdGFsU2l6ZSAgLy8gdG90YWwgbnVtYmVyIG9mIGl0ZW1zXG4gKiAgICAgKTtcbiAqICAgfTtcbiAqICAgeGhyLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XG4gKiAgIHhoci5zZW5kKCk7XG4gKiB9O1xuICogYGBgXG4gKlxuICogX19BbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHVzZSB0aGUgYHNpemVgIHByb3BlcnR5IHRvIHNldCB0aGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zOl9fXG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogZ3JpZC5zaXplID0gMjAwOyAvLyBUaGUgdG90YWwgbnVtYmVyIG9mIGl0ZW1zXG4gKiBncmlkLmRhdGFQcm92aWRlciA9IGZ1bmN0aW9uKHBhcmFtcywgY2FsbGJhY2spIHtcbiAqICAgdmFyIHVybCA9ICdodHRwczovL2FwaS5leGFtcGxlL2RhdGEnICtcbiAqICAgICAgICc/cGFnZT0nICsgcGFyYW1zLnBhZ2UgKyAgICAgICAgLy8gdGhlIHJlcXVlc3RlZCBwYWdlIGluZGV4XG4gKiAgICAgICAnJnBlcl9wYWdlPScgKyBwYXJhbXMucGFnZVNpemU7IC8vIG51bWJlciBvZiBpdGVtcyBvbiB0aGUgcGFnZVxuICogICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gKiAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAqICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICogICAgIGNhbGxiYWNrKHJlc3BvbnNlLmVtcGxveWVlcyk7XG4gKiAgIH07XG4gKiAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIHRydWUpO1xuICogICB4aHIuc2VuZCgpO1xuICogfTtcbiAqIGBgYFxuICpcbiAqICMjIyBTdHlsaW5nXG4gKlxuICogVGhlIGZvbGxvd2luZyBzaGFkb3cgRE9NIHBhcnRzIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG4gKlxuICogUGFydCBuYW1lIHwgRGVzY3JpcHRpb25cbiAqIC0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLVxuICogYHJvd2AgfCBSb3cgaW4gdGhlIGludGVybmFsIHRhYmxlXG4gKiBgY2VsbGAgfCBDZWxsIGluIHRoZSBpbnRlcm5hbCB0YWJsZVxuICogYGhlYWRlci1jZWxsYCB8IEhlYWRlciBjZWxsIGluIHRoZSBpbnRlcm5hbCB0YWJsZVxuICogYGJvZHktY2VsbGAgfCBCb2R5IGNlbGwgaW4gdGhlIGludGVybmFsIHRhYmxlXG4gKiBgZm9vdGVyLWNlbGxgIHwgRm9vdGVyIGNlbGwgaW4gdGhlIGludGVybmFsIHRhYmxlXG4gKiBgZGV0YWlscy1jZWxsYCB8IFJvdyBkZXRhaWxzIGNlbGwgaW4gdGhlIGludGVybmFsIHRhYmxlXG4gKiBgcmVzaXplLWhhbmRsZWAgfCBIYW5kbGUgZm9yIHJlc2l6aW5nIHRoZSBjb2x1bW5zXG4gKiBgcmVvcmRlci1naG9zdGAgfCBHaG9zdCBlbGVtZW50IG9mIHRoZSBoZWFkZXIgY2VsbCBiZWluZyBkcmFnZ2VkXG4gKlxuICogVGhlIGZvbGxvd2luZyBzdGF0ZSBhdHRyaWJ1dGVzIGFyZSBhdmFpbGFibGUgZm9yIHN0eWxpbmc6XG4gKlxuICogQXR0cmlidXRlICAgIHwgRGVzY3JpcHRpb24gfCBQYXJ0IG5hbWVcbiAqIC0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS1cbiAqIGBsb2FkaW5nYCB8IFNldCB3aGVuIHRoZSBncmlkIGlzIGxvYWRpbmcgZGF0YSBmcm9tIGRhdGEgcHJvdmlkZXIgfCA6aG9zdFxuICogYGludGVyYWN0aW5nYCB8IEtleWJvYXJkIG5hdmlnYXRpb24gaW4gaW50ZXJhY3Rpb24gbW9kZSB8IDpob3N0XG4gKiBgbmF2aWdhdGluZ2AgfCBLZXlib2FyZCBuYXZpZ2F0aW9uIGluIG5hdmlnYXRpb24gbW9kZSB8IDpob3N0XG4gKiBgb3ZlcmZsb3dgIHwgU2V0IHdoZW4gcm93cyBhcmUgb3ZlcmZsb3dpbmcgdGhlIGdyaWQgdmlld3BvcnQuIFBvc3NpYmxlIHZhbHVlczogYHRvcGAsIGBib3R0b21gLCBgbGVmdGAsIGByaWdodGAgfCA6aG9zdFxuICogYHJlb3JkZXJpbmdgIHwgU2V0IHdoZW4gdGhlIGdyaWQncyBjb2x1bW5zIGFyZSBiZWluZyByZW9yZGVyZWQgfCA6aG9zdFxuICogYGRyYWdvdmVyYCB8IFNldCB3aGVuIHRoZSBncmlkIChub3QgYSBzcGVjaWZpYyByb3cpIGlzIGRyYWdnZWQgb3ZlciB8IDpob3N0XG4gKiBgZHJhZ2dpbmctcm93c2AgOiBTZXQgd2hlbiBncmlkIHJvd3MgYXJlIGRyYWdnZWQgIHwgOmhvc3RcbiAqIGByZW9yZGVyLXN0YXR1c2AgfCBSZWZsZWN0cyB0aGUgc3RhdHVzIG9mIGEgY2VsbCB3aGlsZSBjb2x1bW5zIGFyZSBiZWluZyByZW9yZGVyZWQgfCBjZWxsXG4gKiBgZnJvemVuYCB8IEZyb3plbiBjZWxsIHwgY2VsbFxuICogYGxhc3QtZnJvemVuYCB8IExhc3QgZnJvemVuIGNlbGwgfCBjZWxsXG4qICogYGZpcnN0LWNvbHVtbmAgfCBGaXJzdCB2aXNpYmxlIGNlbGwgb24gYSByb3cgfCBjZWxsXG4gKiBgbGFzdC1jb2x1bW5gIHwgTGFzdCB2aXNpYmxlIGNlbGwgb24gYSByb3cgfCBjZWxsXG4gKiBgc2VsZWN0ZWRgIHwgU2VsZWN0ZWQgcm93IHwgcm93XG4gKiBgZXhwYW5kZWRgIHwgRXhwYW5kZWQgcm93IHwgcm93XG4gKiBgZGV0YWlscy1vcGVuZWRgIHwgUm93IHdpdGggZGV0YWlscyBvcGVuIHwgcm93XG4gKiBgbG9hZGluZ2AgfCBSb3cgdGhhdCBpcyB3YWl0aW5nIGZvciBkYXRhIGZyb20gZGF0YSBwcm92aWRlciB8IHJvd1xuICogYG9kZGAgfCBPZGQgcm93IHwgcm93XG4gKiBgZmlyc3RgIHwgVGhlIGZpcnN0IGJvZHkgcm93IHwgcm93XG4gKiBgZHJhZ3N0YXJ0YCB8IFNldCBmb3Igb25lIGZyYW1lIHdoZW4gZHJhZyBvZiBhIHJvdyBpcyBzdGFydGluZy4gVGhlIHZhbHVlIGlzIGEgbnVtYmVyIHdoZW4gbXVsdGlwbGUgcm93cyBhcmUgZHJhZ2dlZCB8IHJvd1xuICogYGRyYWdvdmVyYCB8IFNldCB3aGVuIHRoZSByb3cgaXMgZHJhZ2dlZCBvdmVyIHwgcm93XG4gKiBgZHJhZy1kaXNhYmxlZGAgfCBTZXQgdG8gYSByb3cgdGhhdCBpc24ndCBhdmFpbGFibGUgZm9yIGRyYWdnaW5nIHwgcm93XG4gKiBgZHJvcC1kaXNhYmxlZGAgfCBTZXQgdG8gYSByb3cgdGhhdCBjYW4ndCBiZSBkcm9wcGVkIG9uIHRvcCBvZiB8IHJvd1xuICpcbiAqIFNlZSBbVGhlbWFibGVNaXhpbiDigJMgaG93IHRvIGFwcGx5IHN0eWxlcyBmb3Igc2hhZG93IHBhcnRzXShodHRwczovL2dpdGh1Yi5jb20vdmFhZGluL3ZhYWRpbi10aGVtYWJsZS1taXhpbi93aWtpKVxuICpcbiAqIEBtZW1iZXJvZiBWYWFkaW5cbiAqIEBtaXhlcyBWYWFkaW4uVGhlbWFibGVNaXhpblxuICogQG1peGVzIFZhYWRpbi5HcmlkLkExMXlNaXhpblxuICogQG1peGVzIFZhYWRpbi5HcmlkLkFjdGl2ZUl0ZW1NaXhpblxuICogQG1peGVzIFZhYWRpbi5HcmlkLkFycmF5RGF0YVByb3ZpZGVyTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uR3JpZC5Db2x1bW5SZXNpemluZ01peGluXG4gKiBAbWl4ZXMgVmFhZGluLkdyaWQuRGF0YVByb3ZpZGVyTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uR3JpZC5EeW5hbWljQ29sdW1uc01peGluXG4gKiBAbWl4ZXMgVmFhZGluLkdyaWQuRmlsdGVyTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uR3JpZC5Sb3dEZXRhaWxzTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uR3JpZC5TY3JvbGxNaXhpblxuICogQG1peGVzIFZhYWRpbi5HcmlkLlNlbGVjdGlvbk1peGluXG4gKiBAbWl4ZXMgVmFhZGluLkdyaWQuU29ydE1peGluXG4gKiBAbWl4ZXMgVmFhZGluLkdyaWQuS2V5Ym9hcmROYXZpZ2F0aW9uTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uR3JpZC5Db2x1bW5SZW9yZGVyaW5nTWl4aW5cbiAqIEBtaXhlcyBWYWFkaW4uR3JpZC5FdmVudENvbnRleHRNaXhpblxuICogQG1peGVzIFZhYWRpbi5HcmlkLlN0eWxpbmdNaXhpblxuICogQG1peGVzIFZhYWRpbi5HcmlkLkRyYWdBbmREcm9wTWl4aW5cbiAqIEBkZW1vIGRlbW8vaW5kZXguaHRtbFxuICovXG5jbGFzcyBHcmlkRWxlbWVudCBleHRlbmRzXG4gIEVsZW1lbnRNaXhpbihcbiAgICBUaGVtYWJsZU1peGluKFxuICAgICAgRGF0YVByb3ZpZGVyTWl4aW4oXG4gICAgICAgIEFycmF5RGF0YVByb3ZpZGVyTWl4aW4oXG4gICAgICAgICAgRHluYW1pY0NvbHVtbnNNaXhpbihcbiAgICAgICAgICAgIEFjdGl2ZUl0ZW1NaXhpbihcbiAgICAgICAgICAgICAgU2Nyb2xsTWl4aW4oXG4gICAgICAgICAgICAgICAgU2VsZWN0aW9uTWl4aW4oXG4gICAgICAgICAgICAgICAgICBTb3J0TWl4aW4oXG4gICAgICAgICAgICAgICAgICAgIFJvd0RldGFpbHNNaXhpbihcbiAgICAgICAgICAgICAgICAgICAgICBLZXlib2FyZE5hdmlnYXRpb25NaXhpbihcbiAgICAgICAgICAgICAgICAgICAgICAgIEExMXlNaXhpbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsdGVyTWl4aW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sdW1uUmVvcmRlcmluZ01peGluKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29sdW1uUmVzaXppbmdNaXhpbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnRDb250ZXh0TWl4aW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhZ0FuZERyb3BNaXhpbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0eWxpbmdNaXhpbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2Nyb2xsZXJFbGVtZW50KSkpKSkpKSkpKSkpKSkpKSkpIHtcbiAgc3RhdGljIGdldCB0ZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gaHRtbGBcbiAgICA8c3R5bGUgaW5jbHVkZT1cInZhYWRpbi1ncmlkLXN0eWxlc1wiPjwvc3R5bGU+XG5cbiAgICA8ZGl2IGlkPVwic2Nyb2xsZXJcIiBuby1zY3JvbGxiYXJzXFwkPVwiW1shX3Njcm9sbGJhcldpZHRoXV1cIiB3aGVlbC1zY3JvbGxpbmdcXCQ9XCJbW193aGVlbFNjcm9sbGluZ11dXCIgc2FmYXJpXFwkPVwiW1tfc2FmYXJpXV1cIiBpb3NcXCQ9XCJbW19pb3NdXVwiIGxvYWRpbmdcXCQ9XCJbW2xvYWRpbmddXVwiIGVkZ2VcXCQ9XCJbW19lZGdlXV1cIiBmaXJlZm94XFwkPVwiW1tfZmlyZWZveF1dXCIgaWVcXCQ9XCJbW19pZV1dXCIgY29sdW1uLXJlb3JkZXJpbmctYWxsb3dlZFxcJD1cIltbY29sdW1uUmVvcmRlcmluZ0FsbG93ZWRdXVwiPlxuXG4gICAgICA8dGFibGUgaWQ9XCJ0YWJsZVwiIHJvbGU9XCJncmlkXCIgYXJpYS1tdWx0aXNlbGVjdGFibGU9XCJ0cnVlXCIgdGFiaW5kZXg9XCIwXCI+XG4gICAgICAgIDxjYXB0aW9uIGlkPVwiZml4ZWRzaXplclwiIGNsYXNzPVwic2l6ZXJcIiBwYXJ0PVwicm93XCI+PC9jYXB0aW9uPlxuICAgICAgICA8dGhlYWQgaWQ9XCJoZWFkZXJcIiByb2xlPVwicm93Z3JvdXBcIj48L3RoZWFkPlxuICAgICAgICA8dGJvZHkgaWQ9XCJpdGVtc1wiIHJvbGU9XCJyb3dncm91cFwiPjwvdGJvZHk+XG4gICAgICAgIDx0Zm9vdCBpZD1cImZvb3RlclwiIHJvbGU9XCJyb3dncm91cFwiPjwvdGZvb3Q+XG4gICAgICA8L3RhYmxlPlxuXG4gICAgICA8ZGl2IHBhcnQ9XCJyZW9yZGVyLWdob3N0XCI+PC9kaXY+XG4gICAgICA8dmFhZGluLWdyaWQtb3V0ZXItc2Nyb2xsZXIgaWQ9XCJvdXRlcnNjcm9sbGVyXCIgX3RvdWNoLWRldmljZT1cIltbX3RvdWNoRGV2aWNlXV1cIiBzY3JvbGwtdGFyZ2V0PVwiW1tzY3JvbGxUYXJnZXRdXVwiIHNjcm9sbC1oYW5kbGVyPVwiW1tfdGhpc11dXCIgbm8tc2Nyb2xsYmFycz1cIltbIV9zY3JvbGxiYXJXaWR0aF1dXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJvdXRlcnNpemVyXCIgY2xhc3M9XCJzaXplclwiIHBhcnQ9XCJyb3dcIj48L2Rpdj5cbiAgICAgIDwvdmFhZGluLWdyaWQtb3V0ZXItc2Nyb2xsZXI+XG4gICAgPC9kaXY+XG5cbiAgICA8IS0tIFRoZSB0ZW1wbGF0ZSBuZWVkcyBhdCBsZWFzdCBvbmUgc2xvdCBvciBlbHNlIHNoYWR5IGRvZXNuJ3QgZGlzdHJpYnV0ZSAtLT5cbiAgICA8c2xvdCBuYW1lPVwibm9kaXN0cmlidXRlXCI+PC9zbG90PlxuXG4gICAgPGRpdiBpZD1cImZvY3VzZXhpdFwiIHRhYmluZGV4PVwiMFwiPjwvZGl2PlxuYDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgaXMoKSB7XG4gICAgcmV0dXJuICd2YWFkaW4tZ3JpZCc7XG4gIH1cblxuICBzdGF0aWMgZ2V0IHZlcnNpb24oKSB7XG4gICAgcmV0dXJuICc1LjUuMic7XG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVycygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgJ19jb2x1bW5UcmVlQ2hhbmdlZChfY29sdW1uVHJlZSwgX2NvbHVtblRyZWUuKiknXG4gICAgXTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICByZXR1cm4ge1xuXG4gICAgICBfdGhpczoge1xuICAgICAgICB0eXBlOiBPYmplY3QsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX3NhZmFyaToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KVxuICAgICAgfSxcblxuICAgICAgX2lvczoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3cuTVNTdHJlYW0pXG4gICAgICAgICAgfHwgKG5hdmlnYXRvci5wbGF0Zm9ybSA9PT0gJ01hY0ludGVsJyAmJiBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAxKVxuICAgICAgfSxcblxuICAgICAgX2VkZ2U6IHtcbiAgICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgICAgdmFsdWU6IHR5cGVvZiBDU1MgIT09ICd1bmRlZmluZWQnICYmIENTUy5zdXBwb3J0cygnKC1tcy1pbWUtYWxpZ246YXV0byknKVxuICAgICAgfSxcblxuICAgICAgX2llOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHZhbHVlOiAhIShuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9UcmlkZW50LykgJiYgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUvKSlcbiAgICAgIH0sXG5cbiAgICAgIF9maXJlZm94OiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHZhbHVlOiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignZmlyZWZveCcpID4gLTFcbiAgICAgIH0sXG5cbiAgICAgIF9hbmRyb2lkOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHZhbHVlOiAvYW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudClcbiAgICAgIH0sXG5cbiAgICAgIF90b3VjaERldmljZToge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogVE9VQ0hfREVWSUNFXG4gICAgICB9LFxuXG4gICAgICAvKipcbiAgICAgICAqIElmIHRydWUsIHRoZSBncmlkJ3MgaGVpZ2h0IGlzIGRlZmluZWQgYnkgdGhlIG51bWJlciBvZiBpdHMgcm93cy5cbiAgICAgICAqL1xuICAgICAgaGVpZ2h0QnlSb3dzOiB7XG4gICAgICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgcmVmbGVjdFRvQXR0cmlidXRlOiB0cnVlLFxuICAgICAgICBvYnNlcnZlcjogJ19oZWlnaHRCeVJvd3NDaGFuZ2VkJ1xuICAgICAgfSxcbiAgICAgIF9yZWNhbGN1bGF0ZUNvbHVtbldpZHRoT25jZUxvYWRpbmdGaW5pc2hlZDoge1xuICAgICAgICB0eXBlOiBCb29sZWFuLFxuICAgICAgICB2YWx1ZTogdHJ1ZVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgdGhpcy5fb25BbmltYXRpb25FbmQpO1xuICB9XG5cbiAgX19oYXNSb3dzV2l0aENsaWVudEhlaWdodCgpIHtcbiAgICByZXR1cm4gISFBcnJheS5mcm9tKHRoaXMuJC5pdGVtcy5jaGlsZHJlbikuZmlsdGVyKHJvdyA9PiByb3cuY2xpZW50SGVpZ2h0KS5sZW5ndGg7XG4gIH1cblxuICBfX2l0ZW1zUmVjZWl2ZWQoKSB7XG4gICAgaWYgKHRoaXMuX3JlY2FsY3VsYXRlQ29sdW1uV2lkdGhPbmNlTG9hZGluZ0ZpbmlzaGVkXG4gICAgICAmJiAhdGhpcy5fY2FjaGUuaXNMb2FkaW5nKClcbiAgICAgICYmIHRoaXMuX19oYXNSb3dzV2l0aENsaWVudEhlaWdodCgpKSB7XG4gICAgICB0aGlzLl9yZWNhbGN1bGF0ZUNvbHVtbldpZHRoT25jZUxvYWRpbmdGaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yZWNhbGN1bGF0ZUNvbHVtbldpZHRocygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0FycmF5PFZhYWRpbi5HcmlkQ29sdW1uRWxlbWVudD59IGNvbHMgdGhlIGNvbHVtbnMgdG8gYXV0byBzaXplIGJhc2VkIG9uIHRoZWlyIGNvbnRlbnQgd2lkdGhcbiAgICovXG4gIF9yZWNhbGN1bGF0ZUNvbHVtbldpZHRocyhjb2xzKSB7XG4gICAgLy8gTm90ZTogVGhlIGBjb2xzLmZvckVhY2goKWAgbG9vcHMgYmVsb3cgY291bGQgYmUgaW1wbGVtZW50ZWQgYXMgYSBzaW5nbGUgbG9vcCBidXQgdGhpcyBoYXMgYmVlblxuICAgIC8vIHNwbGl0IGZvciBwZXJmb3JtYW5jZSByZWFzb25zIHRvIGJhdGNoIHRoZXNlIHNpbWlsYXIgYWN0aW9ucyBbd3JpdGUvcmVhZF0gdG9nZXRoZXIgdG8gYXZvaWRcbiAgICAvLyB1bm5lY2Vzc2FyeSBsYXlvdXQgdHJhc2hpbmcuXG5cbiAgICAvLyBbd3JpdGVdIFNldCBhdXRvbWF0aWMgd2lkdGggZm9yIGFsbCBjZWxscyAoYnJlYWtzIGNvbHVtbiBhbGlnbm1lbnQpXG4gICAgY29scy5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICBjb2wud2lkdGggPSAnYXV0byc7XG4gICAgICBjb2wuX29yaWdGbGV4R3JvdyA9IGNvbC5mbGV4R3JvdztcbiAgICAgIGNvbC5mbGV4R3JvdyA9IDA7XG4gICAgfSk7XG4gICAgLy8gW3JlYWRdIE1lYXN1cmUgbWF4IGNlbGwgd2lkdGggaW4gZWFjaCBjb2x1bW5cbiAgICBjb2xzLmZvckVhY2goY29sID0+IHtcbiAgICAgIGNvbC5fY3VycmVudFdpZHRoID0gMDtcbiAgICAgIC8vIE5vdGU6IF9hbGxDZWxscyBvbmx5IGNvbnRhaW5zIGNlbGxzIHdoaWNoIGFyZSBjdXJyZW50bHkgcmVuZGVyZWQgaW4gRE9NXG4gICAgICBjb2wuX2FsbENlbGxzLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGNvbnN0IGNlbGxXaWR0aCA9IE1hdGguY2VpbChjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoKTtcbiAgICAgICAgY29sLl9jdXJyZW50V2lkdGggPSBNYXRoLm1heChjb2wuX2N1cnJlbnRXaWR0aCwgY2VsbFdpZHRoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIC8vIFt3cml0ZV0gU2V0IGNvbHVtbiB3aWR0aHMgdG8gZml0IHdpZGVzdCBtZWFzdXJlZCBjb250ZW50XG4gICAgY29scy5mb3JFYWNoKGNvbCA9PiB7XG4gICAgICBjb2wud2lkdGggPSBgJHtjb2wuX2N1cnJlbnRXaWR0aH1weGA7XG4gICAgICBjb2wuZmxleEdyb3cgPSBjb2wuX29yaWdGbGV4R3JvdztcbiAgICAgIGNvbC5fY3VycmVudFdpZHRoID0gdW5kZWZpbmVkO1xuICAgICAgY29sLl9vcmlnRmxleEdyb3cgPSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYHdpZHRoYCBvZiBhbGwgY29sdW1ucyB3aGljaCBoYXZlIGBhdXRvV2lkdGhgIHNldCB0byBgdHJ1ZWAuXG4gICAqL1xuICByZWNhbGN1bGF0ZUNvbHVtbldpZHRocygpIHtcbiAgICBpZiAoIXRoaXMuX2NvbHVtblRyZWUpIHtcbiAgICAgIHJldHVybjsgLy8gTm8gY29sdW1uc1xuICAgIH1cbiAgICBpZiAodGhpcy5fY2FjaGUuaXNMb2FkaW5nKCkpIHtcbiAgICAgIHRoaXMuX3JlY2FsY3VsYXRlQ29sdW1uV2lkdGhPbmNlTG9hZGluZ0ZpbmlzaGVkID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29scyA9IHRoaXMuX2dldENvbHVtbnMoKS5maWx0ZXIoY29sID0+ICFjb2wuaGlkZGVuICYmIGNvbC5hdXRvV2lkdGgpO1xuICAgICAgdGhpcy5fcmVjYWxjdWxhdGVDb2x1bW5XaWR0aHMoY29scyk7XG5cbiAgICB9XG4gIH1cblxuICBfY3JlYXRlU2Nyb2xsZXJSb3dzKGNvdW50KSB7XG4gICAgY29uc3Qgcm93cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCAncm93Jyk7XG4gICAgICByb3cuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3JvdycpO1xuICAgICAgaWYgKHRoaXMuX2NvbHVtblRyZWUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUm93KHJvdywgdGhpcy5fY29sdW1uVHJlZVt0aGlzLl9jb2x1bW5UcmVlLmxlbmd0aCAtIDFdLCAnYm9keScsIGZhbHNlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9jb2x1bW5UcmVlKSB7XG4gICAgICB0aGlzLl9jb2x1bW5UcmVlW3RoaXMuX2NvbHVtblRyZWUubGVuZ3RoIC0gMV0uZm9yRWFjaChjID0+IGMubm90aWZ5UGF0aCAmJiBjLm5vdGlmeVBhdGgoJ19jZWxscy4qJywgYy5fY2VsbHMpKTtcbiAgICB9XG5cbiAgICBiZWZvcmVOZXh0UmVuZGVyKHRoaXMsICgpID0+IHtcbiAgICAgIHRoaXMuX3VwZGF0ZUZpcnN0QW5kTGFzdENvbHVtbigpO1xuICAgICAgdGhpcy5fcmVzZXRLZXlib2FyZE5hdmlnYXRpb24oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcm93cztcbiAgfVxuXG4gIF9nZXRSb3dUYXJnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuJC5pdGVtcztcbiAgfVxuXG4gIF9jcmVhdGVDZWxsKHRhZ05hbWUpIHtcbiAgICBjb25zdCBjb250ZW50SWQgPSB0aGlzLl9jb250ZW50SW5kZXggPSB0aGlzLl9jb250ZW50SW5kZXggKyAxIHx8IDA7XG4gICAgY29uc3Qgc2xvdE5hbWUgPSAndmFhZGluLWdyaWQtY2VsbC1jb250ZW50LScgKyBjb250ZW50SWQ7XG5cbiAgICBjb25zdCBjZWxsQ29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZhYWRpbi1ncmlkLWNlbGwtY29udGVudCcpO1xuICAgIGNlbGxDb250ZW50LnNldEF0dHJpYnV0ZSgnc2xvdCcsIHNsb3ROYW1lKTtcblxuICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgIGNlbGwuaWQgPSBzbG90TmFtZS5yZXBsYWNlKCctY29udGVudC0nLCAnLScpO1xuICAgIGNlbGwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgIGNlbGwuc2V0QXR0cmlidXRlKCdyb2xlJywgdGFnTmFtZSA9PT0gJ3RkJyA/ICdncmlkY2VsbCcgOiAnY29sdW1uaGVhZGVyJyk7XG5cbiAgICBjb25zdCBzbG90ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2xvdCcpO1xuICAgIHNsb3Quc2V0QXR0cmlidXRlKCduYW1lJywgc2xvdE5hbWUpO1xuXG4gICAgY2VsbC5hcHBlbmRDaGlsZChzbG90KTtcblxuICAgIGNlbGwuX2NvbnRlbnQgPSBjZWxsQ29udGVudDtcblxuICAgIC8vIFdpdGggbmF0aXZlIFNoYWRvdyBET00sIG1vdXNlZG93biBvbiBzbG90dGVkIGVsZW1lbnQgZG9lcyBub3QgZm9jdXNcbiAgICAvLyBmb2N1c2FibGUgc2xvdCB3cmFwcGVyLCB0aGF0IGlzIHdoeSBjZWxscyBhcmUgbm90IGZvY3VzZWQgd2l0aFxuICAgIC8vIG1vdXNlZG93bi4gV29ya2Fyb3VuZDogbGlzdGVuIGZvciBtb3VzZWRvd24gYW5kIGZvY3VzIG1hbnVhbGx5LlxuICAgIGNlbGxDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsICgpID0+IHtcbiAgICAgIGlmICh3aW5kb3cuY2hyb21lKSB7XG4gICAgICAgIC8vIENocm9tZSBidWc6IGZvY3VzaW5nIGJlZm9yZSBtb3VzZXVwIHByZXZlbnRzIHRleHQgc2VsZWN0aW9uLCBzZWUgaHR0cDovL2NyYnVnLmNvbS83NzE5MDNcbiAgICAgICAgY29uc3QgbW91c2VVcExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgIGlmICghY2VsbENvbnRlbnQuY29udGFpbnModGhpcy5nZXRSb290Tm9kZSgpLmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjZWxsLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIElmIGZvY3VzIGlzIGluIHRoZSBjZWxsIGNvbnRlbnQg4oCUIHJlc3BlY3QgaXQsIGRvIG5vdCBjaGFuZ2UuXG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlVXBMaXN0ZW5lciwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBtb3VzZVVwTGlzdGVuZXIsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRm9jdXMgb24gbW91c2V1cCwgb24gdGhlIG90aGVyIGhhbmQsIHJlbW92ZXMgc2VsZWN0aW9uIG9uIFNhZmFyaS5cbiAgICAgICAgLy8gV2F0Y2ggb3V0IHN5bmMgZm9jdXMgcmVtb3ZhbCBpc3N1ZSwgb25seSBhc3luYyBmb2N1cyB3b3JrcyBoZXJlLlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAoIWNlbGxDb250ZW50LmNvbnRhaW5zKHRoaXMuZ2V0Um9vdE5vZGUoKS5hY3RpdmVFbGVtZW50KSkge1xuICAgICAgICAgICAgY2VsbC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2VsbDtcbiAgfVxuXG4gIF91cGRhdGVSb3cocm93LCBjb2x1bW5zLCBzZWN0aW9uLCBpc0NvbHVtblJvdywgbm9Ob3RpZnkpIHtcbiAgICBzZWN0aW9uID0gc2VjdGlvbiB8fCAnYm9keSc7XG5cbiAgICBjb25zdCBjb250ZW50c0ZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pLmZvckVhY2goY2VsbCA9PiBjZWxsLl92YWNhbnQgPSB0cnVlKTtcbiAgICByb3cuaW5uZXJIVE1MID0gJyc7XG4gICAgaWYgKHJvdy5pZCAhPT0gJ291dGVyc2l6ZXInICYmIHJvdy5pZCAhPT0gJ2ZpeGVkc2l6ZXInKSB7XG4gICAgICByb3cuaGlkZGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgY29sdW1ucy5mb3JFYWNoKChjb2x1bW4sIGluZGV4KSA9PiB7XG4gICAgICBsZXQgY2VsbDtcblxuICAgICAgaWYgKHNlY3Rpb24gPT09ICdib2R5Jykge1xuICAgICAgICAvLyBCb2R5XG4gICAgICAgIGNvbHVtbi5fY2VsbHMgPSBjb2x1bW4uX2NlbGxzIHx8IFtdO1xuICAgICAgICBjZWxsID0gY29sdW1uLl9jZWxscy5maWx0ZXIoY2VsbCA9PiBjZWxsLl92YWNhbnQpWzBdO1xuICAgICAgICBpZiAoIWNlbGwpIHtcbiAgICAgICAgICBjZWxsID0gdGhpcy5fY3JlYXRlQ2VsbCgndGQnKTtcbiAgICAgICAgICBjb2x1bW4uX2NlbGxzLnB1c2goY2VsbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCAnY2VsbCBib2R5LWNlbGwnKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpO1xuXG4gICAgICAgIGlmIChpbmRleCA9PT0gY29sdW1ucy5sZW5ndGggLSAxICYmICh0aGlzLl9yb3dEZXRhaWxzVGVtcGxhdGUgfHwgdGhpcy5yb3dEZXRhaWxzUmVuZGVyZXIpKSB7XG4gICAgICAgICAgLy8gQWRkIGRldGFpbHMgY2VsbCBhcyBsYXN0IGNlbGwgdG8gYm9keSByb3dzXG4gICAgICAgICAgdGhpcy5fZGV0YWlsc0NlbGxzID0gdGhpcy5fZGV0YWlsc0NlbGxzIHx8IFtdO1xuICAgICAgICAgIGNvbnN0IGRldGFpbHNDZWxsID0gdGhpcy5fZGV0YWlsc0NlbGxzLmZpbHRlcihjZWxsID0+IGNlbGwuX3ZhY2FudClbMF0gfHwgdGhpcy5fY3JlYXRlQ2VsbCgndGQnKTtcbiAgICAgICAgICBpZiAodGhpcy5fZGV0YWlsc0NlbGxzLmluZGV4T2YoZGV0YWlsc0NlbGwpID09PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5fZGV0YWlsc0NlbGxzLnB1c2goZGV0YWlsc0NlbGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRldGFpbHNDZWxsLl9jb250ZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnRlbnRzRnJhZ21lbnQuYXBwZW5kQ2hpbGQoZGV0YWlsc0NlbGwuX2NvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9jb25maWd1cmVEZXRhaWxzQ2VsbChkZXRhaWxzQ2VsbCk7XG4gICAgICAgICAgcm93LmFwcGVuZENoaWxkKGRldGFpbHNDZWxsKTtcbiAgICAgICAgICB0aGlzLl9hMTF5U2V0Um93RGV0YWlsc0NlbGwocm93LCBkZXRhaWxzQ2VsbCk7XG4gICAgICAgICAgZGV0YWlsc0NlbGwuX3ZhY2FudCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbHVtbi5ub3RpZnlQYXRoICYmICFub05vdGlmeSkge1xuICAgICAgICAgIGNvbHVtbi5ub3RpZnlQYXRoKCdfY2VsbHMuKicsIGNvbHVtbi5fY2VsbHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBIZWFkZXIgJiBmb290ZXJcbiAgICAgICAgY29uc3QgdGFnTmFtZSA9IHNlY3Rpb24gPT09ICdoZWFkZXInID8gJ3RoJyA6ICd0ZCc7XG4gICAgICAgIGlmIChpc0NvbHVtblJvdyB8fCBjb2x1bW4ubG9jYWxOYW1lID09PSAndmFhZGluLWdyaWQtY29sdW1uLWdyb3VwJykge1xuICAgICAgICAgIGNlbGwgPSBjb2x1bW5bYF8ke3NlY3Rpb259Q2VsbGBdIHx8IHRoaXMuX2NyZWF0ZUNlbGwodGFnTmFtZSk7XG4gICAgICAgICAgY2VsbC5fY29sdW1uID0gY29sdW1uO1xuICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICBjb2x1bW5bYF8ke3NlY3Rpb259Q2VsbGBdID0gY2VsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb2x1bW4uX2VtcHR5Q2VsbHMgPSBjb2x1bW4uX2VtcHR5Q2VsbHMgfHwgW107XG4gICAgICAgICAgY2VsbCA9IGNvbHVtbi5fZW1wdHlDZWxscy5maWx0ZXIoY2VsbCA9PiBjZWxsLl92YWNhbnQpWzBdIHx8IHRoaXMuX2NyZWF0ZUNlbGwodGFnTmFtZSk7XG4gICAgICAgICAgY2VsbC5fY29sdW1uID0gY29sdW1uO1xuICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICAgICAgICBpZiAoY29sdW1uLl9lbXB0eUNlbGxzLmluZGV4T2YoY2VsbCkgPT09IC0xKSB7XG4gICAgICAgICAgICBjb2x1bW4uX2VtcHR5Q2VsbHMucHVzaChjZWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ3BhcnQnLCBgY2VsbCAke3NlY3Rpb259LWNlbGxgKTtcbiAgICAgICAgdGhpcy5fX3VwZGF0ZUhlYWRlckZvb3RlclJvd1Zpc2liaWxpdHkocm93KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFjZWxsLl9jb250ZW50LnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgY29udGVudHNGcmFnbWVudC5hcHBlbmRDaGlsZChjZWxsLl9jb250ZW50KTtcbiAgICAgIH1cbiAgICAgIGNlbGwuX3ZhY2FudCA9IGZhbHNlO1xuICAgICAgY2VsbC5fY29sdW1uID0gY29sdW1uO1xuICAgIH0pO1xuXG4gICAgLy8gTWlnaHQgYmUgZW1wdHkgaWYgb25seSBjYWNoZSB3YXMgdXNlZFxuICAgIHRoaXMuYXBwZW5kQ2hpbGQoY29udGVudHNGcmFnbWVudCk7XG5cbiAgICB0aGlzLl9mcm96ZW5DZWxsc0NoYW5nZWQoKTtcbiAgICB0aGlzLl91cGRhdGVGaXJzdEFuZExhc3RDb2x1bW5Gb3JSb3cocm93KTtcbiAgfVxuXG4gIF9fdXBkYXRlSGVhZGVyRm9vdGVyUm93VmlzaWJpbGl0eShyb3cpIHtcbiAgICBpZiAoIXJvdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHZpc2libGVSb3dDZWxscyA9IEFycmF5LmZyb20ocm93LmNoaWxkcmVuKS5maWx0ZXIoY2VsbCA9PiB7XG4gICAgICBjb25zdCBjb2x1bW4gPSBjZWxsLl9jb2x1bW47XG4gICAgICBpZiAoY29sdW1uLl9lbXB0eUNlbGxzICYmIGNvbHVtbi5fZW1wdHlDZWxscy5pbmRleE9mKGNlbGwpID4gLTEpIHtcbiAgICAgICAgLy8gVGhlIGNlbGwgaXMgYW4gXCJlbXB0eSBjZWxsXCIgIC0+IGRvZXNuJ3QgYmxvY2sgaGlkaW5nIHRoZSByb3dcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHJvdy5wYXJlbnRFbGVtZW50ID09PSB0aGlzLiQuaGVhZGVyKSB7XG4gICAgICAgIGlmIChjb2x1bW4uaGVhZGVyUmVuZGVyZXIgfHwgY29sdW1uLl9oZWFkZXJUZW1wbGF0ZSkge1xuICAgICAgICAgIC8vIFRoZSBjZWxsIGlzIHRoZSBoZWFkZXIgY2VsbCBvZiBhIGNvbHVtbiB0aGF0IGhhcyBhIGhlYWRlciByZW5kZXJlclxuICAgICAgICAgIC8vIG9yIGEgaGVhZGVyIHRlbXBsYXRlIC0+IHJvdyBzaG91bGQgYmUgdmlzaWJsZVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4uaGVhZGVyID09PSBudWxsKSB7XG4gICAgICAgICAgLy8gVGhlIGNvbHVtbiBoZWFkZXIgaXMgZXhwbGljaWx0eSBzZXQgdG8gbnVsbCAtPiBkb2Vzbid0IGJsb2NrIGhpZGluZyB0aGUgcm93XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2x1bW4ucGF0aCB8fCBjb2x1bW4uaGVhZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBUaGUgY29sdW1uIGhhcyBhbiBleHBsaWNpdCBub24tbnVsbCBoZWFkZXIgb3IgYSBwYXRoIHRoYXQgZ2VuZXJhdGVzIGEgaGVhZGVyXG4gICAgICAgICAgLy8gLT4gcm93IHNob3VsZCBiZSB2aXNpYmxlXG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb2x1bW4uZm9vdGVyUmVuZGVyZXIgfHwgY29sdW1uLl9mb290ZXJUZW1wbGF0ZSkge1xuICAgICAgICAgIC8vIFRoZSBjZWxsIGlzIHRoZSBmb290ZXIgY2VsbCBvZiBhIGNvbHVtbiB0aGF0IGhhcyBhIGZvb3RlciByZW5kZXJlclxuICAgICAgICAgIC8vIG9yIGEgZm9vdGVyIHRlbXBsYXRlIC0+IHJvdyBzaG91bGQgYmUgdmlzaWJsZVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAocm93LmhpZGRlbiAhPT0gIXZpc2libGVSb3dDZWxscy5sZW5ndGgpIHtcbiAgICAgIHJvdy5oaWRkZW4gPSAhdmlzaWJsZVJvd0NlbGxzLmxlbmd0aDtcbiAgICAgIHRoaXMubm90aWZ5UmVzaXplKCk7XG4gICAgfVxuICB9XG5cbiAgX3VwZGF0ZVNjcm9sbGVySXRlbShyb3csIGluZGV4KSB7XG4gICAgdGhpcy5fcHJldmVudFNjcm9sbGVyUm90YXRpbmdDZWxsRm9jdXMocm93LCBpbmRleCk7XG5cbiAgICBpZiAoIXRoaXMuX2NvbHVtblRyZWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl90b2dnbGVBdHRyaWJ1dGUoJ2ZpcnN0JywgaW5kZXggPT09IDAsIHJvdyk7XG4gICAgdGhpcy5fdG9nZ2xlQXR0cmlidXRlKCdvZGQnLCBpbmRleCAlIDIsIHJvdyk7XG4gICAgdGhpcy5fYTExeVVwZGF0ZVJvd1Jvd2luZGV4KHJvdywgaW5kZXgpO1xuICAgIHRoaXMuX2dldEl0ZW0oaW5kZXgsIHJvdyk7XG4gIH1cblxuICBfY29sdW1uVHJlZUNoYW5nZWQoY29sdW1uVHJlZSwgc3BsaWNlcykge1xuICAgIEFycmF5LmZyb20odGhpcy4kLml0ZW1zLmNoaWxkcmVuKS5mb3JFYWNoKHJvdyA9PiB0aGlzLl91cGRhdGVSb3cocm93LCBjb2x1bW5UcmVlW2NvbHVtblRyZWUubGVuZ3RoIC0gMV0pKTtcblxuICAgIHdoaWxlICh0aGlzLiQuaGVhZGVyLmNoaWxkcmVuLmxlbmd0aCA8IGNvbHVtblRyZWUubGVuZ3RoKSB7XG4gICAgICBjb25zdCBoZWFkZXJSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgaGVhZGVyUm93LnNldEF0dHJpYnV0ZSgncGFydCcsICdyb3cnKTtcbiAgICAgIGhlYWRlclJvdy5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncm93Jyk7XG4gICAgICB0aGlzLiQuaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlclJvdyk7XG5cbiAgICAgIGNvbnN0IGZvb3RlclJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICBmb290ZXJSb3cuc2V0QXR0cmlidXRlKCdwYXJ0JywgJ3JvdycpO1xuICAgICAgZm9vdGVyUm93LnNldEF0dHJpYnV0ZSgncm9sZScsICdyb3cnKTtcbiAgICAgIHRoaXMuJC5mb290ZXIuYXBwZW5kQ2hpbGQoZm9vdGVyUm93KTtcbiAgICB9XG4gICAgd2hpbGUgKHRoaXMuJC5oZWFkZXIuY2hpbGRyZW4ubGVuZ3RoID4gY29sdW1uVHJlZS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJC5oZWFkZXIucmVtb3ZlQ2hpbGQodGhpcy4kLmhlYWRlci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICB0aGlzLiQuZm9vdGVyLnJlbW92ZUNoaWxkKHRoaXMuJC5mb290ZXIuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgIH1cblxuICAgIEFycmF5LmZyb20odGhpcy4kLmhlYWRlci5jaGlsZHJlbilcbiAgICAgIC5mb3JFYWNoKChoZWFkZXJSb3csIGluZGV4KSA9PiB0aGlzLl91cGRhdGVSb3coaGVhZGVyUm93LCBjb2x1bW5UcmVlW2luZGV4XSwgJ2hlYWRlcicsIGluZGV4ID09PSBjb2x1bW5UcmVlLmxlbmd0aCAtIDEpKTtcblxuICAgIEFycmF5LmZyb20odGhpcy4kLmZvb3Rlci5jaGlsZHJlbilcbiAgICAgIC5mb3JFYWNoKChmb290ZXJSb3csIGluZGV4KSA9PiB0aGlzLl91cGRhdGVSb3coZm9vdGVyUm93LCBjb2x1bW5UcmVlW2NvbHVtblRyZWUubGVuZ3RoIC0gMSAtIGluZGV4XSwgJ2Zvb3RlcicsIGluZGV4ID09PSAwKSk7XG5cbiAgICAvLyBTaXplciByb3dzXG4gICAgdGhpcy5fdXBkYXRlUm93KHRoaXMuJC5vdXRlcnNpemVyLCBjb2x1bW5UcmVlW2NvbHVtblRyZWUubGVuZ3RoIC0gMV0pO1xuICAgIHRoaXMuX3VwZGF0ZVJvdyh0aGlzLiQuZml4ZWRzaXplciwgY29sdW1uVHJlZVtjb2x1bW5UcmVlLmxlbmd0aCAtIDFdKTtcblxuICAgIHRoaXMuX3Jlc2l6ZUhhbmRsZXIoKTtcbiAgICB0aGlzLl9mcm96ZW5DZWxsc0NoYW5nZWQoKTtcbiAgICB0aGlzLl91cGRhdGVGaXJzdEFuZExhc3RDb2x1bW4oKTtcbiAgICB0aGlzLl9yZXNldEtleWJvYXJkTmF2aWdhdGlvbigpO1xuICAgIHRoaXMuX2ExMXlVcGRhdGVIZWFkZXJSb3dzKCk7XG4gICAgdGhpcy5fYTExeVVwZGF0ZUZvb3RlclJvd3MoKTtcbiAgfVxuXG4gIF91cGRhdGVJdGVtKHJvdywgaXRlbSkge1xuICAgIHJvdy5faXRlbSA9IGl0ZW07XG4gICAgY29uc3QgbW9kZWwgPSB0aGlzLl9fZ2V0Um93TW9kZWwocm93KTtcblxuICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCBtb2RlbC5zZWxlY3RlZCwgcm93KTtcbiAgICB0aGlzLl9hMTF5VXBkYXRlUm93U2VsZWN0ZWQocm93LCBtb2RlbC5zZWxlY3RlZCk7XG4gICAgdGhpcy5fYTExeVVwZGF0ZVJvd0xldmVsKHJvdywgbW9kZWwubGV2ZWwpO1xuICAgIHRoaXMuX3RvZ2dsZUF0dHJpYnV0ZSgnZXhwYW5kZWQnLCBtb2RlbC5leHBhbmRlZCwgcm93KTtcbiAgICBpZiAodGhpcy5fcm93RGV0YWlsc1RlbXBsYXRlIHx8IHRoaXMucm93RGV0YWlsc1JlbmRlcmVyKSB7XG4gICAgICB0aGlzLl90b2dnbGVEZXRhaWxzQ2VsbChyb3csIGl0ZW0pO1xuICAgIH1cbiAgICB0aGlzLl9nZW5lcmF0ZUNlbGxDbGFzc05hbWVzKHJvdywgbW9kZWwpO1xuICAgIHRoaXMuX2ZpbHRlckRyYWdBbmREcm9wKHJvdywgbW9kZWwpO1xuXG4gICAgQXJyYXkuZnJvbShyb3cuY2hpbGRyZW4pLmZvckVhY2goY2VsbCA9PiB7XG4gICAgICBpZiAoY2VsbC5fcmVuZGVyZXIpIHtcbiAgICAgICAgY29uc3Qgb3duZXIgPSBjZWxsLl9jb2x1bW4gfHwgdGhpcztcbiAgICAgICAgY2VsbC5fcmVuZGVyZXIuY2FsbChvd25lciwgY2VsbC5fY29udGVudCwgb3duZXIsIG1vZGVsKTtcbiAgICAgIH0gZWxzZSBpZiAoY2VsbC5faW5zdGFuY2UpIHtcbiAgICAgICAgY2VsbC5faW5zdGFuY2UuX19kZXRhaWxzT3BlbmVkX18gPSBtb2RlbC5kZXRhaWxzT3BlbmVkO1xuICAgICAgICBjZWxsLl9pbnN0YW5jZS5fX3NlbGVjdGVkX18gPSBtb2RlbC5zZWxlY3RlZDtcbiAgICAgICAgY2VsbC5faW5zdGFuY2UuX19sZXZlbF9fID0gbW9kZWwubGV2ZWw7XG4gICAgICAgIGNlbGwuX2luc3RhbmNlLl9fZXhwYW5kZWRfXyA9IG1vZGVsLmV4cGFuZGVkO1xuICAgICAgICBjZWxsLl9pbnN0YW5jZS5zZXRQcm9wZXJ0aWVzKG1vZGVsKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuX2RlYm91bmNlclVwZGF0ZUhlaWdodHMgPSBEZWJvdW5jZXIuZGVib3VuY2UodGhpcy5fZGVib3VuY2VyVXBkYXRlSGVpZ2h0cyxcbiAgICAgIHRpbWVPdXQuYWZ0ZXIoMSksICgpID0+IHtcbiAgICAgICAgdGhpcy5fdXBkYXRlTWV0cmljcygpO1xuICAgICAgICB0aGlzLl9wb3NpdGlvbkl0ZW1zKCk7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbGVyU2l6ZSgpO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBfcmVzaXplSGFuZGxlcigpIHtcbiAgICB0aGlzLl91cGRhdGVEZXRhaWxzQ2VsbEhlaWdodHMoKTtcbiAgICB0aGlzLl9hY2Nlc3NJcm9uTGlzdEFQSShzdXBlci5fcmVzaXplSGFuZGxlciwgdHJ1ZSk7XG4gICAgdGhpcy5fdXBkYXRlSGVhZGVyRm9vdGVyTWV0cmljcygpO1xuICB9XG5cbiAgX3VwZGF0ZUhlYWRlckZvb3Rlck1ldHJpY3MoKSB7XG4gICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gdGhpcy4kLmhlYWRlci5jbGllbnRIZWlnaHQgKyAncHgnO1xuICAgIGNvbnN0IGZvb3RlckhlaWdodCA9IHRoaXMuJC5mb290ZXIuY2xpZW50SGVpZ2h0ICsgJ3B4JztcbiAgICBbdGhpcy4kLm91dGVyc2l6ZXIsIHRoaXMuJC5maXhlZHNpemVyLCB0aGlzLiQuaXRlbXNdLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBlbGVtZW50LnN0eWxlLmJvcmRlclRvcFdpZHRoID0gaGVhZGVySGVpZ2h0O1xuICAgICAgZWxlbWVudC5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aCA9IGZvb3RlckhlaWdodDtcbiAgICB9KTtcblxuICAgIGFmdGVyTmV4dFJlbmRlcih0aGlzLiQuaGVhZGVyLCAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fcGVuZGluZ1Njcm9sbFRvSW5kZXgpIHtcbiAgICAgICAgdGhpcy5fc2Nyb2xsVG9JbmRleCh0aGlzLl9wZW5kaW5nU2Nyb2xsVG9JbmRleCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBfb25BbmltYXRpb25FbmQoZSkge1xuICAgIC8vIFNoYWR5Q1NTIGFwcGxpZXMgc2NvcGluZyBzdWZmaXhlcyB0byBhbmltYXRpb24gbmFtZXNcbiAgICBpZiAoZS5hbmltYXRpb25OYW1lLmluZGV4T2YoJ3ZhYWRpbi1ncmlkLWFwcGVhcicpID09PSAwKSB7XG4gICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUhlYWRlckZvb3Rlck1ldHJpY3MoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB0aGlzLm5vdGlmeVJlc2l6ZSgpO1xuICAgICAgdGhpcy5fX2l0ZW1zUmVjZWl2ZWQoKTtcbiAgICB9XG4gIH1cblxuICBfdG9nZ2xlQXR0cmlidXRlKG5hbWUsIGJvb2wsIG5vZGUpIHtcbiAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUobmFtZSkgPT09ICFib29sKSB7XG4gICAgICBpZiAoYm9vbCkge1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCAnJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfX2dldFJvd01vZGVsKHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICBpbmRleDogcm93LmluZGV4LFxuICAgICAgaXRlbTogcm93Ll9pdGVtLFxuICAgICAgbGV2ZWw6IHRoaXMuX2dldEluZGV4TGV2ZWwocm93LmluZGV4KSxcbiAgICAgIGV4cGFuZGVkOiB0aGlzLl9pc0V4cGFuZGVkKHJvdy5faXRlbSksXG4gICAgICBzZWxlY3RlZDogdGhpcy5faXNTZWxlY3RlZChyb3cuX2l0ZW0pLFxuICAgICAgZGV0YWlsc09wZW5lZDpcbiAgICAgICAgISEodGhpcy5fcm93RGV0YWlsc1RlbXBsYXRlIHx8IHRoaXMucm93RGV0YWlsc1JlbmRlcmVyKSAmJiB0aGlzLl9pc0RldGFpbHNPcGVuZWQocm93Ll9pdGVtKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogTWFudWFsbHkgaW52b2tlIGV4aXN0aW5nIHJlbmRlcmVycyBmb3IgYWxsIHRoZSBjb2x1bW5zXG4gICAqIChoZWFkZXIsIGZvb3RlciBhbmQgYm9keSBjZWxscykgYW5kIG9wZW5lZCByb3cgZGV0YWlscy5cbiAgICovXG4gIHJlbmRlcigpIHtcbiAgICBpZiAodGhpcy5fY29sdW1uVHJlZSkge1xuICAgICAgLy8gaGVhZGVyIGFuZCBmb290ZXIgcmVuZGVyZXJzXG4gICAgICB0aGlzLl9jb2x1bW5UcmVlLmZvckVhY2gobGV2ZWwgPT4ge1xuICAgICAgICBsZXZlbC5mb3JFYWNoKGNvbHVtbiA9PiBjb2x1bW4uX3JlbmRlckhlYWRlckFuZEZvb3RlcigpKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBib2R5IGFuZCByb3cgZGV0YWlscyByZW5kZXJlcnNcbiAgICAgIHRoaXMuX3VwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjb21wdXRlZCBtZXRyaWNzIGFuZCBwb3NpdGlvbmluZyBvZiBpbnRlcm5hbCBncmlkIHBhcnRzXG4gICAqIChyb3cvZGV0YWlscyBjZWxsIHBvc2l0aW9uaW5nIGV0YykuIE5lZWRzIHRvIGJlIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNpemluZyBvZiBncmlkXG4gICAqIGNvbnRlbnQgY2hhbmdlcyBhc3luY2hyb25vdXNseSB0byBlbnN1cmUgY29uc2lzdGVudCBhcHBlYXJhbmNlIChlLmcuIHdoZW4gYVxuICAgKiBjb250YWluZWQgaW1hZ2Ugd2hvc2UgYm91bmRzIGFyZW4ndCBrbm93biBiZWZvcmVoYW5kIGZpbmlzaGVzIGxvYWRpbmcpLlxuICAgKi9cbiAgbm90aWZ5UmVzaXplKCkge1xuICAgIHN1cGVyLm5vdGlmeVJlc2l6ZSgpO1xuICB9XG5cbiAgX2hlaWdodEJ5Um93c0NoYW5nZWQodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIHx8IG9sZFZhbHVlKSB7XG4gICAgICB0aGlzLm5vdGlmeVJlc2l6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9fZm9yY2VSZWZsb3coKSB7XG4gICAgdGhpcy5fZGVib3VuY2VyRm9yY2VSZWZsb3cgPSBEZWJvdW5jZXIuZGVib3VuY2UodGhpcy5fZGVib3VuY2VyRm9yY2VSZWZsb3csXG4gICAgICBhbmltYXRpb25GcmFtZSwgKCkgPT4ge1xuICAgICAgICB0aGlzLiQuc2Nyb2xsZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLiQuc2Nyb2xsZXIuc3R5bGUub3ZlcmZsb3cgPSAnJyk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoR3JpZEVsZW1lbnQuaXMsIEdyaWRFbGVtZW50KTtcbmV4cG9ydCB7IEdyaWRFbGVtZW50IH07XG4iLCIvKipcclxuICogSW1wb3J0IExpdEVsZW1lbnQgYmFzZSBjbGFzcywgaHRtbCBoZWxwZXIgZnVuY3Rpb24sXHJcbiAqIGFuZCBUeXBlU2NyaXB0IGRlY29yYXRvcnNcclxuICoqL1xyXG5pbXBvcnQge1xyXG4gIExpdEVsZW1lbnQsIGh0bWwsIGN1c3RvbUVsZW1lbnQsIHByb3BlcnR5XHJcbn0gZnJvbSAnLi4vLi4vTFNHX0FQUC9ub2RlX21vZHVsZXMvQHBvbHltZXIvbGl0LWVsZW1lbnQnO1xyXG5cclxuaW1wb3J0IHsgQlRMRV9BY3Rpb24sIEJUTEVfU3RydWN0IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MU0dfYnRsZS9tYWluLXZpZXcnXHJcblxyXG5lbnVtIEJMRV9DbWRzIHtcclxuICBUSFJFU0hPTERfQ01EID0gMHhGLFxyXG4gIERGVV9DTUQgPSAweEUsXHJcbiAgU1lOQ19DTUQgPSAweEQsXHJcbiAgQURSX0xTQl9DTUQgPSAweEMsXHJcbiAgQURSX01TQl9DTUQgPSAweEIsXHJcbiAgQURSX1JTVF9DTUQgPSAweEEsXHJcbiAgYmFja19DTUQgPSAweDksXHJcbiAgUkVBRF9USU1fQ01EID0gMHg4LFxyXG4gIENMRUFSX1RJTV9DTUQgPSAweDcsXHJcbiAgU1RBUlRfTUVBU1VSSU5HX0NNRCA9IDB4NixcclxuICBTVE9QX01FQVNVUklOR19DTUQgPSAweDUsXHJcbiAgTk9fQ01EICAgICAgICAgICAgID0gMHg0LCAgICAgICAgICBcclxufVxyXG5cclxuaW50ZXJmYWNlIEJUTEVfQ29tbWFuZCB7XHJcbiAgY29tbWFuZDogQkxFX0NtZHMsIFxyXG4gIGJ0bGVTdHJ1Y3Q6IEJUTEVfU3RydWN0XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVc2UgdGhlIGN1c3RvbUVsZW1lbnQgZGVjb3JhdG9yIHRvIGRlZmluZSB5b3VyIGNsYXNzIGFzXHJcbiAqIGEgY3VzdG9tIGVsZW1lbnQuIFJlZ2lzdGVycyA8bXktZWxlbWVudD4gYXMgYW4gSFRNTCB0YWcuXHJcbiAqL1xyXG5AY3VzdG9tRWxlbWVudCgnbHNnLXBpdGNocGVyZmVjdCcpXHJcbmV4cG9ydCBjbGFzcyBMU0dfY2FyaW4gZXh0ZW5kcyBMaXRFbGVtZW50IHtcclxuXHJcbiAgUkFXVkFMVUVTX1BFUl9ERUdSRUUgPSAxNi40O1xyXG5cclxuICBAcHJvcGVydHkoKSBuYW1lOiBzdHJpbmcgPSAnUGl0Y2hQZXJmZWN0JztcclxuICBAcHJvcGVydHkoKSByZWFkU3RhdHVzOmJvb2xlYW4gID0gZmFsc2U7XHJcblxyXG5cclxuICAvKiogXHJcbiAgICogQ3JlYXRlIGFuIG9ic2VydmVkIHByb3BlcnR5LiBUcmlnZ2VycyB1cGRhdGUgb24gY2hhbmdlLiBcclxuICAgKi9cclxuXHJcbiAgLy8gdGFrZXMgc3R5bGVzIGZyb20gcm9vdFxyXG4gLy8gY3JlYXRlUmVuZGVyUm9vdCgpIHtcclxuIC8vICAgcmV0dXJuIHRoaXM7XHJcbiAgLy99XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIC8vdGhpcy5faGFuZGxlR2V0QWNjZWxlcm9tZXRlciA9IHRoaXMuX2hhbmRsZUdldEFjY2VsZXJvbWV0ZXIuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2NsaWNrRHJvcERvd24gPSB0aGlzLl9jbGlja0Ryb3BEb3duLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9CVExFZGF0YWNoYW5nZWQgPSB0aGlzLl9CVExFZGF0YWNoYW5nZWQuYmluZCh0aGlzKTtcclxuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbXBsZW1lbnQgYHJlbmRlcmAgdG8gZGVmaW5lIGEgdGVtcGxhdGUgZm9yIHlvdXIgZWxlbWVudC5cclxuICAgKi9cclxuICByZW5kZXIoKSB7XHJcbiAgICAvKipcclxuICAgICAqIFVzZSBKYXZhU2NyaXB0IGV4cHJlc3Npb25zIHRvIGluY2x1ZGUgcHJvcGVydHkgdmFsdWVzIGluXHJcbiAgICAgKiB0aGUgZWxlbWVudCB0ZW1wbGF0ZS5cclxuICAgICAqL1xyXG5cclxuICAgIGlmICh0aGlzLnJlYWRTdGF0dXMgPT09IHRydWUpXHJcbiAgICB7XHJcbiAgICAgIGxldCBiRGF0YTpCVExFX0NvbW1hbmRbXSA9IFtdO1xyXG4gICAgICBiRGF0YSAgPSBbe2NvbW1hbmQgOiBCTEVfQ21kcy5OT19DTUQgLCBcclxuICAgICAgICAgICAgICAgIGJ0bGVTdHJ1Y3Q6e3NlcnZpY2VOcjogMCwgYWN0aW9uOiBCVExFX0FjdGlvbi5yZWFkLCBkYXRhOiBudWxsfX1cclxuICAgICAgICAgICAgICAgXTtcclxuICAgICAgbGV0IGRhdGEgPSB0aGlzLkNyZWF0ZUJUTEVEYXRhKGJEYXRhKTtcclxuICAgICAgKDxhbnk+dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkuYnRsZWRhdGEgPSBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBodG1sYFxyXG4gICAgIFxyXG4gICAgICA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cImh0dHBzOi8vd3d3Lnczc2Nob29scy5jb20vdzNjc3MvNC93My5jc3NcIj5cclxuXHJcbiAgICAgIDxsc2ctYmx1ZXRvb3RoIGlkPUJUTEUgXHJcbiAgICAgIHByaW1hcnlTZXJ2aWNlT2JqZWN0ID0gJ1tbe1wic2VydmljZVwiOlwiYmF0dGVyeV9zZXJ2aWNlXCIsXCJjaGFyYWN0ZXJpc3RpY1wiOlwiYmF0dGVyeV9sZXZlbFwifV0sW3tcInNlcnZpY2VcIjpcImhlYXJ0X3JhdGVcIixcImNoYXJhY3RlcmlzdGljXCI6XCJoZWFydF9yYXRlX21lYXN1cmVtZW50XCJ9XV0nXHJcbiAgICAgICBuYW1lPVwiJHt0aGlzLm5hbWV9XCIgY2xhc3M9XCJidXR0b24gdzMtcm91bmQteHhsYXJnZSB3My1jZWxsIHczLWhvdmVyLW9wYWNpdHlcIj5cclxuICAgICAgPC9sc2ctYmx1ZXRvb3RoPiBcclxuICAgICAgXHJcbiAgXHJcbiAgICAgIDxidXR0b24gQGNsaWNrPVwiJHt0aGlzLmNsaWNrRnVuY3Rpb25SZWFkfVwiPlJlYWRpdCA8L2J1dHRvbj5cclxuXHJcbiAgICAgIDxzZWxlY3QgaWQ9XCJjb3VudHJ5XCIgbmFtZT1cImNvdW50cnlcIj5cclxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTeW5jXCI+U3luYzwvb3B0aW9uPlxyXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlRocmVzaG9sZFwiPlRocmVzaG9sZDwvb3B0aW9uPlxyXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlNlbnNvciBVcGRhdGVcIj5TZW5zb3JVcGRhdGU8L29wdGlvbj5cclxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTZW5kIEFkcmVzc1wiPlNlbmRBZHJlc3M8L29wdGlvbj5cclxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJSZXNldCBBZHJlc3NcIj5SZXNldEFkcmVzczwvb3B0aW9uPlxyXG4gICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlJlYWQgVGltaW5nc1wiPlJlYWRUaW1pbmdzPC9vcHRpb24+XHJcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiU3RhcnQgTWVhc3VyaW5nXCI+U3RhcnRNZWFzdXJpbmc8L29wdGlvbj5cclxuICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTdG9wIE1lYXN1cmluZ1wiPlN0b3BNZWFzdXJpbmc8L29wdGlvbj5cclxuICAgICAgPC9zZWxlY3Q+XHJcblxyXG4gICAgICAgIGA7XHJcbiAgfVxyXG5cclxuICBDcmVhdGVCVExFRGF0YShjb21tYW5kczogQlRMRV9Db21tYW5kW10pIHtcclxuICAgIFxyXG4gICAgbGVuZ3RoID0gY29tbWFuZHMubGVuZ3RoO1xyXG4gICAgbGV0IGNudCA9IDA7XHJcbiAgICB2YXIgZGF0YTogQlRMRV9TdHJ1Y3RbXTtcclxuICAgIHZhciBkYXRhZWxlbWVudDphbnlbXTtcclxuICAgIGRhdGFlbGVtZW50ID0gW251bGxdOyAgLy9UT0RPOiByZW1vdmUgdGhlIGFycmF5LCBzZWUgaWYgbmV3IGRhdGFlbGVtZW50IGlzIGVub3VnaFxyXG5cclxuICAgIHdoaWxlIChjbnQgPCBsZW5ndGgpIHtcclxuICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcclxuICAgICAgdmFyIHZpZXcgPSBuZXcgVWludDMyQXJyYXkoYnVmZmVyKTtcclxuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IDI7IGluZGV4ICs9IDEpIFxyXG4gICAgICB7XHJcbiAgICAgICAgdmlld1tpbmRleF0gPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIHZpZXdbMF0gPSBjb21tYW5kc1tjbnRdLmNvbW1hbmQ7XHJcbiAgICAgIGlmIChjb21tYW5kc1tjbnRdLmJ0bGVTdHJ1Y3QuZGF0YSA9PSBudWxsKVxyXG4gICAgICAgIHZpZXdbMV0gPSAxO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgdmlld1sxXSA9IGNvbW1hbmRzW2NudF0uYnRsZVN0cnVjdC5kYXRhLmdldFVpbnQzMigwKTtcclxuICAgICAgIFxyXG5cclxuICAgICAgaWYgKGNvbW1hbmRzW2NudF0uYnRsZVN0cnVjdC5hY3Rpb24gPT09IEJUTEVfQWN0aW9uLndyaXRlKVxyXG4gICAgICAgICAgZGF0YWVsZW1lbnRbY250XSA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xyXG4gICAgICBlbHNlXHJcbiAgICAgICAgZGF0YWVsZW1lbnRbY250XSA9IG51bGw7XHJcblxyXG4gICAgICBpZiAoY250ID09PSAwKVxyXG4gICAgICAgIGRhdGEgPSBbeyBhY3Rpb246IGNvbW1hbmRzW2NudF0uYnRsZVN0cnVjdC5hY3Rpb24sIHNlcnZpY2VOcjogY29tbWFuZHNbY250XS5idGxlU3RydWN0LnNlcnZpY2VOciwgZGF0YTogZGF0YWVsZW1lbnRbY250XSB9XTtcclxuICAgICAgZWxzZVxyXG4gICAgICAgICBkYXRhW2NudF0gPSB7IGFjdGlvbjogY29tbWFuZHNbY250XS5idGxlU3RydWN0LmFjdGlvbiwgc2VydmljZU5yOiBjb21tYW5kc1tjbnRdLmJ0bGVTdHJ1Y3Quc2VydmljZU5yLCBkYXRhOiBkYXRhZWxlbWVudFtjbnRdIH07XHJcblxyXG4gICAgICBjbnQrKztcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgX2NsaWNrRHJvcERvd24oKSB7XHJcblxyXG4gICAgbGV0IGJEYXRhOkJUTEVfQ29tbWFuZFtdID0gW107XHJcbiAgICBsZXQgdmFsID0gNDAwO1xyXG4gICAgbGV0IGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig0KTtcclxuXHJcbiAgICBzd2l0Y2ggKCg8YW55PnRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcImNvdW50cnlcIikpLnZhbHVlKVxyXG4gICAge1xyXG4gICAgICAgY2FzZSBcIlN5bmNcIiA6XHJcbiAgICAgICAgYkRhdGEgPSBbe2NvbW1hbmQgOiBCTEVfQ21kcy5TWU5DX0NNRCAsIFxyXG4gICAgICAgICAgICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ud3JpdGUsIGRhdGE6IG51bGx9fV07XHJcbiAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgIGNhc2UgXCJUaHJlc2hvbGRcIjpcclxuICAgICAgICBcclxuICAgICAgICBuZXcgRGF0YVZpZXcoYnVmZmVyKS5zZXRVaW50MzIoMCwgdmFsLCB0cnVlIC8qIGxpdHRsZUVuZGlhbiAqLyk7XHJcbiAgICAgICAgYkRhdGEgPSBbe2NvbW1hbmQgOiBCTEVfQ21kcy5USFJFU0hPTERfQ01EICwgXHJcbiAgICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ud3JpdGUsIGRhdGE6IG5ldyBEYXRhVmlldyhidWZmZXIpfX1dO1xyXG4gICAgICAgICBicmVhaztcclxuICAgICAgIGNhc2UgXCJTZW5zb3IgVXBkYXRlXCI6XHJcbiAgICAgICAgYkRhdGEgPSBbe2NvbW1hbmQgOiBCTEVfQ21kcy5ERlVfQ01EICwgXHJcbiAgICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ud3JpdGUsIGRhdGE6IG51bGx9fV07XHJcbiAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgY2FzZSBcIlNlbmQgQWRyZXNzXCI6XHJcbiAgICAgICAgbmV3IERhdGFWaWV3KGJ1ZmZlcikuc2V0VWludDMyKDAsIHZhbCwgdHJ1ZSAvKiBsaXR0bGVFbmRpYW4gKi8pO1xyXG4gICAgICAgIGJEYXRhID0gW3tjb21tYW5kIDogQkxFX0NtZHMuQURSX0xTQl9DTUQgLCBcclxuICAgICAgICAgIGJ0bGVTdHJ1Y3Q6e3NlcnZpY2VOcjogMCwgYWN0aW9uOiBCVExFX0FjdGlvbi53cml0ZSwgZGF0YTogbmV3IERhdGFWaWV3KGJ1ZmZlcil9fV07XHJcbiAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgY2FzZSBcIlJlc2V0IEFkcmVzc1wiOlxyXG4gICAgICAgIGJEYXRhID0gW3tjb21tYW5kIDogQkxFX0NtZHMuQURSX1JTVF9DTUQgLCBcclxuICAgICAgICAgIGJ0bGVTdHJ1Y3Q6e3NlcnZpY2VOcjogMCwgYWN0aW9uOiBCVExFX0FjdGlvbi53cml0ZSwgZGF0YTogbnVsbH19XTtcclxuICAgICAgICAgYnJlYWs7XHJcbiAgICAgICBjYXNlIFwiUmVhZCBUaW1pbmdzXCI6XHJcbiAgICAgICAgYkRhdGEgID0gW3tjb21tYW5kIDogQkxFX0NtZHMuUkVBRF9USU1fQ01EICwgXHJcbiAgICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ud3JpdGUsIGRhdGE6IG51bGx9fSxcclxuICAgICAgICAge2NvbW1hbmQgOiBCTEVfQ21kcy5OT19DTUQgLCBcclxuICAgICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ucmVhZCwgZGF0YTogbnVsbH19XHJcbiAgICAgICAgXTtcclxuICAgICAgICAgYnJlYWs7XHJcbiAgICAgICBjYXNlIFwiU3RhcnQgTWVhc3VyaW5nXCI6XHJcbiAgICAgICAgYkRhdGEgPSBbe2NvbW1hbmQgOiBCTEVfQ21kcy5TVEFSVF9NRUFTVVJJTkdfQ01EICwgXHJcbiAgICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDAsIGFjdGlvbjogQlRMRV9BY3Rpb24ud3JpdGUsIGRhdGE6IG51bGx9fV07XHJcbiAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgY2FzZSBcIlN0b3AgTWVhc3VyaW5nXCI6XHJcbiAgICAgICAgYkRhdGEgPSBbe2NvbW1hbmQgOiBCTEVfQ21kcy5TVE9QX01FQVNVUklOR19DTUQgLCBcclxuICAgICAgICAgIGJ0bGVTdHJ1Y3Q6e3NlcnZpY2VOcjogMCwgYWN0aW9uOiBCVExFX0FjdGlvbi53cml0ZSwgZGF0YTogbnVsbH19XTtcclxuICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsZXQgZGF0YSA9IHRoaXMuQ3JlYXRlQlRMRURhdGEoYkRhdGEpO1xyXG4gICAvLyAoPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLmJ0bGVkYXRhID0gZGF0YTtcclxuICAgICg8YW55PnRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLmJ0bGVkYXRhID0gZGF0YTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhcImNsaWNrZWRcIik7XHJcbiAgICAvL2NvbnNvbGUubG9nKCg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyeVwiKSkudmFsdWUpO1xyXG4gICAgY29uc29sZS5sb2coKDxhbnk+dGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiY291bnRyeVwiKSkudmFsdWUpO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBmaXJzdFVwZGF0ZWQoY2hhbmdlZFByb3BlcnRpZXM6IGFueSkge1xyXG4gICAgLy8gc2luY2Ugd2UgaGF2ZSBkaXNhYmxlZCBzaGFkb3dEb20gd2UgY2FuIHVzZSBkb2N1bWVudCBcclxuICAgIC8vIHdpdGggc2hhZG93IGRvbSB1c2UgOlxyXG4gICAgLy8gICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJCVExFXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJkYXRhLWV2ZW50XCIsIEJUTEVkYXRhY2hhbmdlZCk7XHJcbiAgICAvLyBlbHNlIHVzZSA6XHJcbiAgIC8vICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkuYWRkRXZlbnRMaXN0ZW5lcihcImRhdGEtZXZlbnRcIiwgdGhpcy5fQlRMRWRhdGFjaGFuZ2VkKTtcclxuICAgdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKS5hZGRFdmVudExpc3RlbmVyKFwiZGF0YS1ldmVudFwiLCB0aGlzLl9CVExFZGF0YWNoYW5nZWQpO1xyXG4gICB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJ5XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgdGhpcy5fY2xpY2tEcm9wRG93bik7XHJcblxyXG4gIH1cclxuXHJcbiAgX0JUTEVkYXRhY2hhbmdlZChldnQ6IGFueSkge1xyXG4gICAgbGV0IHJldHZhbHMgPSBbXTtcclxuICAgIHZhciB2YWx1ZSA9IGV2dC5kZXRhaWwubWVzc2FnZTtcclxuICBcclxuICAgIGNvbnNvbGUubG9nKGV2dC5kZXRhaWwubWVzc2FnZSk7XHJcbiAgXHJcbiAgICBpZiAoZXZ0LmRldGFpbC5tZXNzYWdlID09PSBcImNvbm5lY3RlZFwiKSB7XHJcbiAgICAgICBjb25zb2xlLmxvZyhcImNvbm5lY3QgZXZlbnQgbWVzc2FnZSBzZXR0aW5nIG5vdGlmeSBvblwiKTtcclxuICAgICAgIGxldCBiRGF0YTpCVExFX0NvbW1hbmRbXSA9IFt7Y29tbWFuZCA6IEJMRV9DbWRzLk5PX0NNRCAsIFxyXG4gICAgICAgICBidGxlU3RydWN0OntzZXJ2aWNlTnI6IDEsIGFjdGlvbjogQlRMRV9BY3Rpb24uZW5hYmxlTm90aWZ5LCBkYXRhOiBudWxsfX1dO1xyXG4gICAgICAgbGV0IGRhdGEgPSB0aGlzLkNyZWF0ZUJUTEVEYXRhKGJEYXRhKTtcclxuICAgICAgLy8gKDxhbnk+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCVExFXCIpKS5idGxlZGF0YSA9IGRhdGE7XHJcbiAgICAgICg8YW55PnRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLmJ0bGVkYXRhID0gZGF0YTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB2YWx1ZSA9IGV2dC5kZXRhaWwubWVzc2FnZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmICh2YWx1ZS5ieXRlTGVuZ3RoID4gNykge1xyXG4gICAgICAgICAgcmV0dmFsc1swXSA9IFBhcnNlUGl0Y2hQZGF0YSh2YWx1ZSwgMCk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXR2YWxzWzBdLlBpdGNoVmFsKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJldHZhbHNbMF0uVGltZXJWYWwpO1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAodmFsdWUuYnl0ZUxlbmd0aCA9PSAxNilcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dmFsc1sxXSA9IFBhcnNlUGl0Y2hQZGF0YSh2YWx1ZSwgcmV0dmFsc1swXS5OZXdJbmRleCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJldHZhbHNbMV0uUGl0Y2hWYWwpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXR2YWxzWzFdLlRpbWVyVmFsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxldCBkaXNwYXRjaEV2ZW50ID0gbmV3IEF0b21TZW5kRGF0YSh0aGlzKTtcclxuICAgICAgICAgIGRpc3BhdGNoRXZlbnQuZGF0YSA9IHJldHZhbHM7XHJcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50LnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwYXJzaW5nIHRpbWluZ3MgZmFpbGVkXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuXHJcbiAgLy8gIGxldCB0eHQyID0gJ3Rlc3QnXHJcbiAgLy8gIGxldCBteUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdwaXRjaHBlcmZlY3QtZGF0YS1ldmVudCcsIHtcclxuICAvLyAgICBkZXRhaWw6IHsgbWVzc2FnZTogdHh0MiB9LFxyXG4gIC8vICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgLy8gICAgY29tcG9zZWQ6IHRydWVcclxuICAvLyAgfSk7XHJcbiAgLy8gIHRoaXMuZGlzcGF0Y2hFdmVudChteUV2ZW50KTtcclxuICBcclxuICB9XHJcblxyXG4gIGNsaWNrRnVuY3Rpb25SZWFkKCkge1xyXG4gICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcig4KTtcclxuICAgIHZhciB2aWV3ID0gbmV3IEludDhBcnJheShidWZmZXIpO1xyXG5cclxuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCA4OyBpbmRleCArPSAxKSB7XHJcbiAgICAgIHZpZXdbaW5kZXhdID0gMDtcclxuICAgIH1cclxuICAgIHZpZXdbMF0gPSA4O1xyXG4gICAgdmlld1s0XSA9IDE7XHJcbiAgICB2YXIgZGF0YWVsZW1lbnQgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcclxuXHJcbiAgICB2YXIgZGF0YSA9IFtkYXRhZWxlbWVudF07XHJcblxyXG4gICAgKDxhbnk+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJCVExFXCIpKS5kYXRhID0gZGF0YTtcclxuICAgICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkucmVhZCA9IHRydWU7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJyIGNsaWNrIGNhbGxlZFwiKVxyXG4gIH1cclxuXHJcbiAgY2xpY2tGdW5jdGlvbldyaXRlKCkge1xyXG4gICAgcmVhZFNlbnNvckV2ZW50cygpO1xyXG4gICAgLy8gIHZhciBkYXRhID0gW3N0cmluZ1RvQXJyYXkoXCJ7J0NMUl9GTEgnOjF9XCIpLCBzdHJpbmdUb0FycmF5KFwieydSRVNFVCc6MX1cIildO1xyXG5cclxuICAgIC8vICAoPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLmRhdGEgPSBkYXRhO1xyXG4gICAgLy9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikuZGF0YSA9IGRhdGE7XHJcbiAgICBjb25zb2xlLmxvZyhcIncgY2xpY2sgY2FsbGVkXCIpXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gUGFyc2VQaXRjaFBkYXRhKHZhbHVlOiBhbnksIHN0YXJ0SW5kZXg6IG51bWJlcikge1xyXG4gIHZhciBSQVdWQUxVRVNfUEVSX0RFR1JFRSA9IDE2LjQ7XHJcblxyXG4gIGxldCBpbmRleCA9IHN0YXJ0SW5kZXg7XHJcblxyXG4gIGxldCBtYXhQaXRjaFZhbCA9IHZhbHVlLmdldFVpbnQzMihpbmRleCwgLypsaXR0bGVFbmRpYW49Ki90cnVlKTsgIC8vdmFsdWUuZ2V0VWludDY0KGluZGV4LCAvKmxpdHRsZUVuZGlhbj0qL3RydWUpO1xyXG4gIGluZGV4ICs9IDQ7XHJcbiAgbWF4UGl0Y2hWYWwgPSAobWF4UGl0Y2hWYWwgLyBSQVdWQUxVRVNfUEVSX0RFR1JFRSk7XHJcblxyXG4gIGxldCB0aW1lckF0TWF4UGl0Y2hDbnQgPSB2YWx1ZS5nZXRVaW50MzIoaW5kZXgsIC8qbGl0dGxlRW5kaWFuPSovdHJ1ZSk7XHJcbiAgaW5kZXggKz0gNDtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIFBpdGNoVmFsOiBtYXhQaXRjaFZhbCxcclxuICAgIFRpbWVyVmFsOiB0aW1lckF0TWF4UGl0Y2hDbnQsXHJcbiAgICBOZXdJbmRleDogaW5kZXhcclxuICB9O1xyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiBzdHJpbmdGcm9tQXJyYXkoZGF0YTogRGF0YVZpZXcpIHtcclxuICB2YXIgY291bnQgPSBkYXRhLmJ5dGVMZW5ndGg7XHJcbiAgdmFyIHN0ciA9IFwiXCI7XHJcbiAgdmFyIHZhbCA9IDA7XHJcblxyXG4gIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXggKz0gMSkge1xyXG4gICAgdmFsID0gZGF0YS5nZXRVaW50OChpbmRleCk7XHJcbiAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh2YWwpO1xyXG4gIH1cclxuICByZXR1cm4gc3RyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdHJpbmdUb0FycmF5KHR4dDogc3RyaW5nKSB7XHJcbiAgdmFyIGNvdW50ID0gdHh0Lmxlbmd0aDtcclxuICAvL3ZhciBzdHIgPSBcIlwiO1xyXG4gIHZhciB2YWwgPSAwO1xyXG4gIHZhciBidWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIoY291bnQpO1xyXG4gIHZhciB2aWV3ID0gbmV3IEludDhBcnJheShidWZmZXIpO1xyXG5cclxuICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4ICs9IDEpIHtcclxuICAgIHZpZXdbaW5kZXhdID0gdHh0LmNoYXJDb2RlQXQoaW5kZXgpO1xyXG4gIH1cclxuICB2YXIgZGF0YSA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xyXG4gIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkU2Vuc29yRXZlbnRzKCkge1xyXG5cclxuICB2YXIgZGF0YSA9IFtzdHJpbmdUb0FycmF5KFwieydSX0FDQyc6MX1cIildO1xyXG5cclxuICAoPGFueT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkJUTEVcIikpLmRhdGEgPSBkYXRhO1xyXG4gICg8YW55PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiQlRMRVwiKSkucmVhZCA9IHRydWU7ICAvLyBidGxlIGNvbXBvbmVudCB1c2VzIG11dGV4IHNvIGl0IHdpbGwgd2FpdCBmb3Igd3JpdGUgdG8gZmluaXNoXHJcblxyXG59XHJcblxyXG5leHBvcnQgZW51bSBEYXRhU3RyZWFtX3R5cGUge1xyXG4gICdzdGF0dXMnLCAnZGF0YScsJ2NvbnRyb2wnLCdzdHJlYW1pbmcnXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBdG9tU2VuZERhdGFcclxue1xyXG4gIGNhbGxlclRoaXM6YW55O1xyXG4gIGV2ZW50TmFtZTpzdHJpbmcgPSAncGl0Y2hwZXJmZWN0LWRhdGEtZXZlbnQnO1xyXG4gIGRhdGFUeXBlOkRhdGFTdHJlYW1fdHlwZSA9IERhdGFTdHJlYW1fdHlwZS5kYXRhO1xyXG4gIGRhdGE6YW55O1xyXG5cclxuICBjb25zdHJ1Y3RvcihjYWxsZXJUaGlzOiBhbnkpIHtcclxuICAgIHRoaXMuY2FsbGVyVGhpcyA9IGNhbGxlclRoaXM7XHJcbiAgIH1cclxuXHJcbiAgc2V0RGF0YShkYXRhOmFueSlcclxuICB7XHJcbiAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICB9XHJcbiAgc2VuZCgpXHJcbiAge1xyXG4gICAgbGV0IG15RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQodGhpcy5ldmVudE5hbWUsIHtcclxuICAgIGRldGFpbDogeyBtZXNzYWdlOiB0aGlzLmRhdGEgfSxcclxuICAgIGJ1YmJsZXM6IHRydWUsXHJcbiAgICBjb21wb3NlZDogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmNhbGxlclRoaXMuZGlzcGF0Y2hFdmVudChteUV2ZW50KTtcclxuICB9XHJcbn1cclxuXHJcbmludGVyZmFjZSBJTXlDbGFzcyB7XHJcbiAgbmV3IChuYW1lOiBzdHJpbmcpOiBBdG9tU2VuZERhdGE7XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgJy4vc3R5bGVzLmNzcyc7XHJcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy9MU0dfYnRsZS9tYWluLXZpZXcudHMnXHJcbmltcG9ydCAnLi4vLi4vY29tcG9uZW50cy9MU0dfcGllL0xTR19waWUuanMnXHJcbmltcG9ydCAnQHZhYWRpbi92YWFkaW4tc3BsaXQtbGF5b3V0L3ZhYWRpbi1zcGxpdC1sYXlvdXQuanMnO1xyXG5pbXBvcnQgJ0B2YWFkaW4vdmFhZGluLWdyaWQvdmFhZGluLWdyaWQuanMnO1xyXG5pbXBvcnQgJy4vUGl0Y2hQZXJmZWN0Q29tcG9uZW50LnRzJ1xyXG5pbXBvcnQgJy4vYXBwLmpzJztcclxuXHJcblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgIHJlZ2lzdGVyU1coKTtcclxufSk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZWdpc3RlclNXKCkge1xyXG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHsgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy4vc3cuanMnKTsgXHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciByZWdpc3RyYXRpb24gZmFpbGVkLiBTb3JyeSBhYm91dCB0aGF0LicsIGUpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZygnWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgU2VydmljZVdvcmtlci4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGZ1bmN0aW9uIHN0cmluZ0Zyb21BcnJheShkYXRhKVxyXG4gIC8vIHtcclxuICAvLyAgICAgdmFyIGNvdW50ID0gZGF0YS5ieXRlTGVuZ3RoO1xyXG4gIC8vICAgICB2YXIgc3RyID0gXCJcIjtcclxuICAvLyAgICAgdmFyIHZhbCA9IDA7XHJcblxyXG4gIC8vICAgICBmb3IodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjb3VudDsgaW5kZXggKz0gMSlcclxuICAvLyAgICAge1xyXG4gIC8vICAgICAgIHZhbCA9ICBkYXRhLmdldFVpbnQ4KGluZGV4KTtcclxuICAvLyAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh2YWwpO1xyXG4gIC8vICAgICB9XHJcblxyXG4gIC8vICAgICByZXR1cm4gc3RyO1xyXG4gIC8vIH1cclxuXHJcbiAgXHJcblxyXG4gICJdLCJzb3VyY2VSb290IjoiIn0=